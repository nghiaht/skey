{"version":3,"sources":["webpack:///component---src-pages-index-js-36aa10f70e1a67944d1e.js","webpack:///./~/hoist-non-react-statics/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/components/FastTypingVietnameseForm.js","webpack:///./src/pages/index.js","webpack:///./src/skey/skey-ex.js"],"names":["webpackJsonp","102","module","exports","__webpack_require__","global","factory","this","REACT_STATICS","childContextTypes","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","prototype","caller","callee","arguments","arity","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","i","key","descriptor","e","430","webpackPolyfill","deprecate","paths","children","197","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","findWord","element","end","text","start","t","SKIP","indexOf","substr","_react","_react2","_skeyEx","FastTypingVietnameseForm","_React$Component","props","_this","state","setTextInputRef","textInput","handleChange","bind","event","keyCode","target","wordResult","finalized","doEvaluate","valueEx","substring","render","createElement","ref","onKeyUp","className","rows","Component","201","_gatsbyLink","_FastTypingVietnameseForm","_FastTypingVietnameseForm2","IndexPage","href","203","invertObject","sourceObject","targetObject","forEach","lex","characters","pos","tokens","match","TOKEN_EXPRESSIONS","token_expr","pattern","tag","test","token","push","unaccentize","word","inUppercaseStatus","outUppercaseStatus","temp","tempBeforeFirstDigit","character","DIGIT_REGEX","SYMBOL_REGEX","found","ACCENTIZED_DICTIONARY","tempWord","join","deduplicate","console","log","wordEx","hasDuplication","foundStartOfWordConsonant","INVERTED_START_OF_WORD_CONSONANT_DICTIONARY","replace","foundAccentizedVowel","INVERTED_ACCENTIZED_DICTIONARY","previousCharacter","tubinhtran_ms_parse","tokensEx","tokensLength","map","newToken","slice","CONSONANT_TAG","START_OF_WORD_CONSONANT_TAG","foundEndOfWordConsonant","INVERTED_END_OF_WORD_CONSONANT_DICTIONARY","VOWEL_TAG","END_OF_WORD_CONSONANT_TAG","DIGIT_TAG","TUBINHTRAN_MS_ACCENT_KEY_REGEX","ACCENT_KEY_TAG","previousToken","shouldAllow","SYMBOL_TAG","ONE_KEY_VOWEL_TAG","finalize","firstVowel","secondVowel","thirdVowel","lastConsonant","accentKey","highPriorityVowel","startOfWordConsonantResult","endOfWordConsonantResult","oneKeyVowelResult","makeWord","k","COMPOUND_VOWELS_LIST","compoundTerm","foundInWord","compoundVowelResult","COMPOUND_VOWELS_DICTIONARY","j","accentizeTwoTokens","splice","specialLetter","neededTest","vowelToken","accentToken","evaluate","uppercaseStatus","unaccentizedWord","deduplicatedWord","unaccentizedWord2","parsed","modifiersStatus","trim","_ACCENTIZED_DICTIONAR","ACCENTIZED_VOWEL_TAG","ACCENTIZED_VOWEL_REGEX","VOWEL_REGEX","A_VARIATIONS","A_CIRCUMFLEX_VARIATIONS","A_BREVE_VARIATIONS","E_CIRCUMFLEX_VARIATIONS","O_VARIATIONS","O_CIRCUMFLEX_VARIATIONS","O_HORN_VARIATIONS","U_VARIATIONS","U_HORN_VARIATIONS","TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY","â","Â","ê","Ê","ô","Ô","ă","Ă","ư","Ư","ơ","Ơ","á","à","ả","ã","ạ","ắ","ằ","ẳ","ẵ","ặ","ấ","ầ","ẩ","ẫ","ậ","é","è","ẻ","ẽ","ẹ","ế","ề","ể","ễ","ệ","í","ì","ỉ","ĩ","ị","ó","ò","ỏ","õ","ọ","ớ","ờ","ở","ỡ","ợ","ố","ồ","ổ","ỗ","ộ","ú","ù","ủ","ũ","ụ","ứ","ừ","ử","ữ","ự","ý","ỳ","ỷ","ỹ","ỵ","Á","À","Ả","Ã","Ạ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ấ","Ầ","Ẩ","Ẫ","Ậ","É","È","Ẻ","Ẽ","Ẹ","Ế","Ề","Ể","Ễ","Ệ","Í","Ì","Ỉ","Ĩ","Ị","Ó","Ò","Ỏ","Õ","Ọ","START_OF_WORD_CONSONANT_DICTIONARY","ph","kh","ngh","gi","gh","qu","Ph","Kh","Ngh","Gi","Gh","Qu","d","đ","K","D","Đ","END_OF_WORD_CONSONANT_DICTIONARY","ng","nh","ch","id","if","is","il","iv","iz","iw","yd","yl","ud","us","ul","uv","uz","uj","ưd","ưf","ưs","ưl","ưv","ưz","ưj","ưw","ơd","ơl","âd","âl","âz","âj","ăd","ăs","ăl","ăv","ăz","ed","el","ev","ew","od","of","os","ol","ov","oz","oj","ow","aj","RegExp","c"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,EAASC,ICCjC,SAAAC,EAAAC,GACAJ,EAAAC,QAAAG,KAGCC,KAAA,WACD,YAEA,IAAAC,IACAC,mBAAA,EACAC,cAAA,EACAC,cAAA,EACAC,aAAA,EACAC,iBAAA,EACAC,0BAAA,EACAC,QAAA,EACAC,WAAA,EACAC,MAAA,GAGAC,GACAC,MAAA,EACAC,QAAA,EACAC,WAAA,EACAC,QAAA,EACAC,QAAA,EACAC,WAAA,EACAC,OAAA,GAGAC,EAAAC,OAAAD,eACAE,EAAAD,OAAAC,oBACAC,EAAAF,OAAAE,sBACAC,EAAAH,OAAAG,yBACAC,EAAAJ,OAAAI,eACAC,EAAAD,KAAAJ,OAEA,gBAAAM,GAAAC,EAAAC,EAAAC,GACA,mBAAAD,GAAA,CAEA,GAAAH,EAAA,CACA,GAAAK,GAAAN,EAAAI,EACAE,QAAAL,GACAC,EAAAC,EAAAG,EAAAD,GAIA,GAAAE,GAAAV,EAAAO,EAEAN,KACAS,IAAAC,OAAAV,EAAAM,IAGA,QAAAK,GAAA,EAA2BA,EAAAF,EAAAlB,SAAiBoB,EAAA,CAC5C,GAAAC,GAAAH,EAAAE,EACA,MAAAhC,EAAAiC,IAAAvB,EAAAuB,IAAAL,KAAAK,IAAA,CACA,GAAAC,GAAAZ,EAAAK,EAAAM,EACA,KACAf,EAAAQ,EAAAO,EAAAC,GACqB,MAAAC,MAIrB,MAAAT,GAGA,MAAAA,ODYMU,IACA,SAAU1C,EAAQC,GElFxBD,EAAAC,QAAA,SAAAD,GAQA,MAPAA,GAAA2C,kBACA3C,EAAA4C,UAAA,aACA5C,EAAA6C,SAEA7C,EAAA8C,YACA9C,EAAA2C,gBAAA,GAEA3C,IF0FM+C,IACA,SAAU/C,EAAQC,EAASC,GAEhC,YAUA,SAAS8C,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAAS1C,UAAYM,OAAOsC,OAAOD,GAAcA,EAAW3C,WAAa6C,aAAeC,MAAOJ,EAAUK,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeN,IAAYrC,OAAO4C,eAAiB5C,OAAO4C,eAAeR,EAAUC,GAAcD,EAASS,UAAYR,GGjHle,QAASS,GAASC,GAKhB,IAAK,GAJCC,GAAMD,EAAQtD,OAChBwD,EAAOF,EAEPG,EAAQ,EACHrC,EAAImC,EAAKnC,GAAK,EAAGA,IAAK,CAC7B,GAAIsC,GAAIF,EAAKpC,EACb,IAAIuC,EAAKC,QAAQF,MAAO,EAAI,CAC1BD,EAAQrC,EAAI,CACZ,QAIJ,OAAQqC,EAAOF,EAAKC,EAAKK,OAAOJ,EAAOF,EAAME,IHsF9C1E,EAAQiD,YAAa,CGvGtB,IAAA8B,GAAA9E,EAAA,GH2GK+E,EAAUjC,EAAuBgC,GG1GtCE,EAAAhF,EAAA,KAEM2E,EAAO,QAiBPM,EHoH0B,SAAUC,GGnHxC,QAAAD,GAAaE,GAAOjC,EAAA/C,KAAA8E,EAAA,IAAAG,GAAA9B,EAAAnD,KAClB+E,EAAA1B,KAAArD,KAAMgF,GADY,OAElBC,GAAKC,OACHtB,MAAO,IAGTqB,EAAKE,gBAAkB,SAAAhB,GACrBc,EAAKG,UAAYjB,GAGnBc,EAAKI,aAAeJ,EAAKI,aAAaC,KAAlBL,GAVFA,EHsKnB,MAlDA1B,GAAUuB,EAA0BC,GAmBpCD,EAAyBhE,UG1H1BuE,aH0HmD,SG1HtCE,GACX,GAAKA,IAAW,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAId,QAAQc,EAAMC,YAAa,EAAtF,CAGA,GAAM5B,GAAQ2B,EAAME,OAAO7B,MAOrB8B,EAAaxB,EAASN,GAGtB+B,GAAY,EAAAd,EAAAe,YAAWF,EAAW,IAGpCG,EAAUjC,EAAMkC,UAAU,EAAGJ,EAAW,IAAMC,EAAY/B,EAAMkC,UAAUJ,EAAW,GAIzFH,GAAME,OAAO7B,MAAQiC,IH4HtBf,EAAyBhE,UGzH1BiF,OHyH6C,WGxH3C,MAAOnB,GAAA9B,QAAAkD,cAAA,WACLpB,EAAA9B,QAAAkD,cAAA,YAAUC,IAAKjG,KAAKmF,gBAAiBe,QAASlG,KAAKqF,aAAcc,UAAU,eAAeC,KAAK,SH+H3FtB,GGvK6BF,EAAA9B,QAAMuD,UH0K5CzG,GAAQkD,QG7HMgC,EH8HdnF,EAAOC,QAAUA,EAAiB,SAI7B0G,IACA,SAAU3G,EAAQC,EAASC,GAEhC,YAgBA,SAAS8C,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAdvFhD,EAAQiD,YAAa,CIxMtB,IAAA8B,GAAA9E,EAAA,GJ4MK+E,EAAUjC,EAAuBgC,GI3MtC4B,EAAA1G,EAAA,IAEA2G,GJ6MoB7D,EAAuB4D,GI7M3C1G,EAAA,MJiNK4G,EAA6B9D,EAAuB6D,GI/MnDE,EAAY,iBAChB9B,GAAA9B,QAAAkD,cAAA,OAAKG,UAAU,eACbvB,EAAA9B,QAAAkD,cAAA,WACApB,EAAA9B,QAAAkD,cAAA,6CACApB,EAAA9B,QAAAkD,cAAA,gEACEpB,EAAA9B,QAAAkD,cAAA,KAAGW,KAAK,IAAR,+BADF,MAEK/B,EAAA9B,QAAAkD,cAAA,KAAGW,KAAK,IAAR,uCAEL/B,EAAA9B,QAAAkD,cAAA,6HACApB,EAAA9B,QAAAkD,cAAAS,EAAA3D,QAAA,MAEA8B,EAAA9B,QAAAkD,cAAA,WACApB,EAAA9B,QAAAkD,cAAA,gCACApB,EAAA9B,QAAAkD,cAAA,UACEpB,EAAA9B,QAAAkD,cAAA,oHACApB,EAAA9B,QAAAkD,cAAA,+DJ2PLpG,GAAQkD,QIpPM4D,EJqPd/G,EAAOC,QAAUA,EAAiB,SAI7BgH,IACA,SAAUjH,EAAQC,EAASC,IAEJ,SAASF,GAAS,YKkD/C,SAASkH,GAAcC,EAAcC,GAInC,MAHA3F,QAAOW,KAAK+E,GAAcE,QAAQ,SAAU9E,GAC1C6E,EAAaD,EAAa5E,IAAQA,IAE7B6E,EAWT,QAASE,GAAKC,GAOZ,IANA,GAAIC,GAAM,EACNC,KAKGD,EAAMD,EAAWrG,QAAQ,CAE9B,IAAK,GADDwG,GAAQ,KACHpF,EAAI,EAAGA,EAAIqF,EAAkBzG,OAAQoB,IAAK,CACjD,GAAMsF,GAAaD,EAAkBrF,GAC/BuF,EAAUD,EAAW,GACrBE,EAAMF,EAAW,GACjBlD,EAAO6C,EAAWC,EAExB,IADAE,EAAQG,EAAQE,KAAKrD,GACV,CACT,GAAIoD,EAAK,CACP,GAAME,IAAStD,EAAMoD,EACrBL,GAAOQ,KAAKD,GAEd,OAIJR,GAAY,EAEd,MAAOC,GAGT,QAASS,GAAaC,EAAMC,EAAmBC,GAc7C,IAAK,GAbDC,MACAC,KAYKjG,EAAI,EAAGA,EAAI6F,EAAKjH,OAAQoB,IAAK,CACpC,GAAIkG,GAAYL,EAAK7F,IAEjBmG,EAAYV,KAAKS,IAAcE,EAAaX,KAAKS,MACnDF,EAAOA,EAAKjG,OAAOkG,GACnBA,KAGF,IAAII,GAAQC,EAAsBJ,EAC9BG,GACmB,IAAjBA,EAAMzH,QACRoH,EAAKL,KAAKU,GACVN,EAAmBJ,KAAKG,EAAkB9F,KAElB,IAAjBqG,EAAMzH,SASXoH,EAAKL,KAAKU,EAAM,IAChBN,EAAmBJ,KAAKG,EAAkB9F,IAG5CiG,EAAqBN,KAAKU,EAAM,KAIlCL,EAAKL,KAAKO,GAIVD,EAAqBrH,OAAS,IAChCoH,EAAOA,EAAKjG,OAAOkG,GAErB,IAAIM,GAAWP,EAAKQ,KAAK,GAMzB,OAAOD,GAGT,QAASE,GAAaZ,GAEpB,GADAa,QAAQC,IAAI,gBAAiBd,GACT,IAAhBA,EAAKjH,OAAc,MAAOiH,EAM9B,KAAI,GAJAe,GAAS,GAAKf,EAAK,GACnBgB,GAAiB,EAGb7G,EAAI,EAAGA,EAAI6F,EAAKjH,OAASoB,IAAK,CACpC,GAAIkG,GAAYL,EAAK7F,GACjB8G,EAA4BC,EAA4Cb,EAC5E,KAAKW,EACH,GAAIC,GACF,GAAkD,IAA9CF,EAAOpE,QAAQsE,GAAkC,CACnDF,EAASA,EAAOI,QAAQF,EAA2BZ,GACnDW,GAAiB,CACjB,eAEG,CACL,GAAII,GAAuBC,EAA+BhB,EAC1D,IAAIe,EAAsB,CACxB,GAAIE,GAAoBtB,EAAK7F,EAAE,EAC/B,IAAImH,GAAqBA,IAAsBF,EAAsB,CACnEL,EAASA,EAAOI,QAAQG,EAAmBjB,GAC3CW,GAAiB,CACjB,YAMRD,GAAUV,EAGZ,MAAOU,GAUT,QAASQ,GAAqBjC,GAK5B,IAAK,GAJDkC,MACAC,EAAenC,EAAOvG,OAGjBoB,GAFEmF,EAAOoC,IAAI,SAAU7B,GAAQ,MAAOA,GAAM,KAAKc,KAAK,IAElD,GAAGxG,EAAIsH,EAActH,IAAK,CACrC,GAAI0F,GAAQP,EAAOnF,GACfwH,EAAW9B,EAAM+B,OAErB,IAAID,EAAS,KAAOE,GAGlB,GAAU,IAAN1H,EAAS,CACX,GAAI8G,GAA4BC,EAA4CS,EAAS,GAEjFV,IAA8C,IAAjBQ,IAK/BE,EAAS,GAAKG,OAKb,IAAI3H,IAAMsH,EAAe,EAAG,CAC/B,GAAIM,GAA0BC,EAA0CL,EAAS,GAC7EI,IAA2BzC,EAAOnF,EAAI,IAAMmF,EAAOnF,EAAI,GAAG,KAAO8H,GAAa3C,EAAOnF,EAAI,GAAG,KAAO4H,EAAwB,KAC7HJ,EAAS,GAAKO,QAGf,IAAIP,EAAS,KAAOM,OAGpB,IAAIN,EAAS,KAAOQ,GACvB,GAAIC,EAA+BxC,KAAK+B,EAAS,IAC/CA,EAAS,GAAKU,MACX,IAAIhB,EAA+BM,EAAS,IAAK,CAEpD,GAAIW,GAAgBhD,EAAOnF,EAAI,GAE3BoI,GAAc,CAMZD,KACJzB,QAAQC,IAAI,sBAAuBwB,GAC/BA,EAAc,KAAOE,GAAcF,EAAc,KAAOH,IAC1DI,GAAc,IAGdA,IACFZ,EAAS,GAAKc,QAGX5C,GAAM,KAAO2C,GAChBnB,EAA+BM,EAAS,MAC1CA,EAAS,GAAKc,EAMlBjB,GAAS1B,KAAK6B,GAGhB,MAAOH,GAYT,QAASkB,GAAUpD,GAKjB,IAAK,GAJDqD,UAAYC,SAAaC,SAAYC,SAAeC,SAA0BC,SAC9ExB,EAAWlC,EAAOsC,QAGbzH,EAAI,EAAGA,EAAIqH,EAASzI,OAAQoB,IAAK,CACxC,GAAI0F,GAAQ2B,EAASrH,EACrB,IAAI0F,EAAM,KAAOiC,EAA6B,CAC5C,GAAImB,GAA6B/B,EAA4CrB,EAAM,GAC/EoD,KACFzB,EAAWA,EAASI,MAAM,EAAGzH,GAAGD,OAAOiF,EAAI8D,IAA6B/I,OAAOsH,EAASI,MAAMzH,EAAI,SAEjG,IAAI0F,EAAM,KAAOqC,EAA2B,CAC/C,GAAIgB,GAA2BlB,EAA0CnC,EAAM,GAC3EqD,KACF1B,EAAWA,EAASI,MAAM,EAAGzH,GAAGD,OAAOiF,EAAI+D,IAA2BhJ,OAAOsH,EAASI,MAAMzH,EAAI,SAE/F,IAAI0F,EAAM,KAAO4C,EAAmB,CACvC,GAAIU,GAAoB9B,EAA+BxB,EAAM,GACzDsD,KACF3B,EAAWA,EAASI,MAAM,EAAGzH,GAAGD,OAAOiF,EAAIgE,IAAoBjJ,OAAOsH,EAASI,MAAMzH,EAAI,MAO/F,IAAI,GAHAuG,GAAW0C,EAAS5B,GAGhB6B,EAAI,EAAGA,EAAIC,EAAqBvK,OAAQsK,IAAK,CACnD,GAAIE,GAAeD,EAAqBD,GACpCG,EAAc9C,EAAS/D,QAAQ4G,EACnC,IAAIC,KAAgB,EAAI,CACtB3C,QAAQC,IAAI,+BAAgC0C,EAC5C,IAAIC,GAAsBC,EAA2BH,EAEnDE,GADiC,IAA/BA,EAAoB1K,QAAgC,IAAhByK,EAChBC,EAAoB,GAGpBA,EAAoB,GAG5C5C,QAAQC,IAAI,sBAAuB2C,GACnCjC,EAAWA,EAASI,MAAM,EAAG4B,GAAatJ,OAAOiF,EAAIsE,IAAsBvJ,OAAOsH,EAASI,MAAM4B,EAAcD,EAAaxK,QAC5H,QAIJ,IAAK,GAAI4K,GAAI,EAAGA,EAAInC,EAASzI,OAAQ4K,IAAK,CACxC,GAAI9D,GAAQ2B,EAASmC,EAEjB9D,GAAM,KAAOoC,GACX,OAAOtF,QAAQkD,EAAM,OAAQ,IAC/BmD,GAAqBW,EAAG9D,IAG1BgD,EAAaD,GAAee,EAAG9D,GAASgD,EACxCD,GAAeA,GAAeD,GAAcgB,EAAG9D,GAAS+C,EACxDD,EAAaA,EAAaA,GAAcgB,EAAG9D,IAGpCA,EAAM,KAAOwC,EACpBU,GAAaY,EAAG9D,GAETA,EAAM,KAAOgC,IACpBiB,EAAiBH,GAAcC,GAAeC,GAAec,EAAG9D,GAASiD,GAK7E,GAAIE,GAAqBD,EAAW,CAClC,GAAIvC,GAAQoD,EAAmBZ,EAAkB,GAAID,EAAU,GAC3DvC,KACFgB,EAASwB,EAAkB,IAAMxC,EACjCgB,EAASqC,OAAOd,EAAU,GAAI,QAE3B,IAAIF,GAAcE,EAAW,CAClC,GAAIvC,GAAQoD,EAAmBhB,EAAY,GAAIG,EAAU,GACrDvC,KACFgB,EAASoB,EAAY,IAAMpC,EAC3BgB,EAASqC,OAAOd,EAAU,GAAI,QAI7B,IAAIH,GAAeE,GAAiBC,EAAW,CAClD,GAAIvC,GAAQoD,EAAmBhB,EAAY,GAAIG,EAAU,GACrDvC,KACFgB,EAASoB,EAAY,IAAMpC,EAC3BgB,EAASqC,OAAOd,EAAU,GAAI,QAG7B,IAAIJ,GAAcI,EAAW,CAChC,GAAIe,GAAgB,QAChBC,EAAavC,EAAS,GAAG,GAAKA,EAAS,GAAG,EAC9C,IAAIoB,GAAekB,EAAcnH,QAAQoH,MAAgB,EAAI,CAC3D,GAAIvD,GAAQoD,EAAmBhB,EAAY,GAAIG,EAAU,GACrDvC,KACFgB,EAASoB,EAAY,IAAMpC,EAC3BgB,EAASqC,OAAOd,EAAU,GAAI,QAG7B,CACH,GAAIvC,GAAQoD,EAAmBjB,EAAW,GAAII,EAAU,GACpDvC,KACFgB,EAASmB,EAAW,IAAMnC,EAC1BgB,EAASqC,OAAOd,EAAU,GAAI,KAMpC,MAAOvB,GAGT,QAASoC,GAAoBI,EAAYC,GACvCpD,QAAQC,IAAI,aAAckD,EAAY,cAAeC,EACrD,IAAIzD,GAAQa,EAA+B2C,EAAW,GAAKC,EAAY,GACvE,OAAOzD,IAASA,EAAOyB,GAAa,KAGtC,QAASiC,GAAUlE,EAAMmE,GACvB,GAEMC,GAAmBrE,EAAYC,EAAMmE,KAC3CtD,SAAQC,IAAI,iBAAkBsD,EAE9B,IAAMC,GAAmBzD,EAAYZ,EACrC,IAAIqE,EAAiBtL,SAAWiH,EAAKjH,OACnC,MAAOsL,EAGT,IAAMC,GAAoBvE,EAAYqE,EAAkBD,MAElD7E,EAASH,EAAImF,EAEnBzD,SAAQC,IAAI,sBAAuBxB,EACnC,IAAMiF,GAAShD,EAAoBjC,EACnCuB,SAAQC,IAAI,aAAcyD,EAE1B,IAAM1G,GAAY6E,EAAS6B,EAG3B,OAFA1D,SAAQC,IAAI,YAAajD,GAElBuF,EAASvF,GAGlB,QAASC,GAAYkC,EAAMwE,GACzB,GAAIL,KAYJ,OAA2B,KAAvBnE,EAAKyE,OAAO1L,OAAqBiH,EAC9BkE,EAASlE,EAAMmE,GAGxB,QAASf,GAAU9D,GACjB,MAAOA,GAAOoC,IAAI,SAAU7B,GAC1B,MAAOA,GAAM,KACZc,KAAK,ILxbT,GAAI+D,GKrRCjC,EAAoB,oBAEpBJ,EAAiB,iBACjBJ,EAAY,YACZ0C,EAAuB,uBAEvB9C,EAAgB,gBAEhBM,EAAY,YACZK,EAAa,aACbV,EAA8B,8BAC9BI,EAA4B,4BAS5B3B,EAAe,wGACfD,EAAc,SACd8B,EAAiC,SACjCwC,EAAyB,mEACzBC,EAAc,mBAEdC,EAAe,cACfC,EAA0B,kBAC1BC,EAAqB,kBAErBC,EAA0B,kBAE1BC,EAAe,cACfC,EAA0B,kBAC1BC,EAAoB,oBACpBC,EAAe,cACfC,EAAoB,oBAEpB9F,IACH,WAAY,OACZc,EAAa6B,IACbyC,EAAwBD,IACxBE,EAAa5C,IACb,4BAA6BJ,IAC7BtB,EAAciC,IAGX+C,GACJC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,KAGD1F,MACJ+E,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,IACLC,IAAK,IAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAGLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KAELC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,MApIDxH,EAAA,KAsIC,KAtIDA,EAAA,KAuIC,KAvIDA,EAAA,KAwIC,KAxIDA,EAAA,KAyIC,KAzIDA,EAAA,KA0IC,KA1IDA,EAAA,KA4IC,KA5IDA,EAAA,KA6IC,KA7IDA,EAAA,KA8IC,KA9IDA,EAAA,KA+IC,KA/IDA,EAAA,KAgJC,KAhJDA,EAkJJ,KAAK,KAlJDA,EAmJJ,KAAK,KAnJDA,EAoJJ,KAAK,KApJDA,EAqJJ,KAAK,KArJDA,EAsJJ,KAAK,KAtJDA,EAwJJ,KAAK,KAxJDA,EAyJJ,KAAK,KAzJDA,EA0JJ,KAAK,KA1JDA,EA2JJ,KAAK,KA3JDA,EA4JJ,KAAK,KA5JDA,EA8JJ,KAAK,KA9JDA,EA+JJ,KAAK,KA/JDA,EAgKJ,KAAK,KAhKDA,GAsKAyH,GACJC,GAAM,IACNC,GAAM,IACNC,IAAO,IACPC,GAAM,IACNC,GAAM,IACNC,GAAM,IAENC,GAAM,IACNC,GAAM,IACNC,IAAO,IACPC,GAAM,IACNC,GAAM,IACNC,GAAM,IAEN1J,EAAK,IACL2J,EAAK,IACLC,IAAK,IAELC,EAAK,IACLC,EAAK,IACLC,IAAK,KAGDC,GACJC,GAAM,IACNC,GAAM,IACNC,GAAM,KAGF9J,GACJ+J,IAAO,MAAO,OACdC,IAAO,OACPC,IAAO,OACPC,IAAO,MAAO,OACdC,IAAO,MAAO,OACdC,IAAO,OAAQ,QACfC,IAAO,MAAO,OAEdC,IAAO,QACPC,IAAO,QAEPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,QACPC,IAAO,OAEPC,MAAO,OACPC,MAAO,OACPC,MAAO,OACPC,MAAO,OACPC,MAAO,OACPC,MAAO,QACPC,MAAO,OACPC,MAAO,OAEPC,MAAO,OACPC,MAAO,OAEPC,MAAO,OACPC,MAAO,OACPC,MAAO,QACPC,MAAO,OAEPC,MAAO,OACPC,MAAO,OACPC,MAAO,OACPC,MAAO,OACPC,MAAO,QAEPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,OAEPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,OACPC,IAAO,QACPC,IAAO,OACPC,IAAO,OAEPC,IAAO,QAIHjN,EAAuBhK,OAAOW,KAAKyJ,GASnCrC,EAAiCtC,EAAa0B,MAC9CS,EAA8CnC,EAAaoN,MAC3DnK,EAA4CjD,EAAasO,KACPtO,GAAawG,OAqInE6G,GAAM,GAAIoE,SAAQ,IAAKxL,EAAoB,KAAKrE,KAAK,IAAK,KAC1D0C,EAAK,GAAImN,SAAQ,IAAK1L,EAAcI,EAAcG,EAAcN,EAAyBC,EAAoBG,EAAyBG,EAAmBF,EAAmB,KAAKzE,KAAK,IAAK,KAC3L6L,GAAM,GAAIgE,SAAQ,IAAKtL,EAAcG,EAAcN,EAAyBC,EAAoBC,EAAyBE,EAAyBG,EAAmBF,EAAmB,KAAKzE,KAAK,IAAK,KACvM8L,GAAM,GAAI+D,SAAQ,IAAKtL,EAAcG,EAAcF,EAAyBG,EAAmBF,EAAmB,KAAKzE,KAAK,IAAK,KAiQ/H5I,GAAA0Y,EAAA,KAAiB5Y,IACnBgJ,QAAQC,IAAI,kBA6CZD,QAAQC,IAAIhD,EAAW,WAIzBjG,EAAOC,SACLqH,MACAY,cACAa,cACAwC,WACAtF,gBLkO4BvC,KAAKzD,EAASC,EAAoB,KAAKF","file":"component---src-pages-index-js-36aa10f70e1a67944d1e.js","sourcesContent":["webpackJsonp([35783957827783],{\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2015, Yahoo! Inc.\n\t * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n\t */\n\t(function (global, factory) {\n\t     true ? module.exports = factory() :\n\t    typeof define === 'function' && define.amd ? define(factory) :\n\t    (global.hoistNonReactStatics = factory());\n\t}(this, (function () {\n\t    'use strict';\n\t    \n\t    var REACT_STATICS = {\n\t        childContextTypes: true,\n\t        contextTypes: true,\n\t        defaultProps: true,\n\t        displayName: true,\n\t        getDefaultProps: true,\n\t        getDerivedStateFromProps: true,\n\t        mixins: true,\n\t        propTypes: true,\n\t        type: true\n\t    };\n\t    \n\t    var KNOWN_STATICS = {\n\t        name: true,\n\t        length: true,\n\t        prototype: true,\n\t        caller: true,\n\t        callee: true,\n\t        arguments: true,\n\t        arity: true\n\t    };\n\t    \n\t    var defineProperty = Object.defineProperty;\n\t    var getOwnPropertyNames = Object.getOwnPropertyNames;\n\t    var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\t    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\t    var getPrototypeOf = Object.getPrototypeOf;\n\t    var objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\t    \n\t    return function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n\t        if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n\t            \n\t            if (objectPrototype) {\n\t                var inheritedComponent = getPrototypeOf(sourceComponent);\n\t                if (inheritedComponent && inheritedComponent !== objectPrototype) {\n\t                    hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n\t                }\n\t            }\n\t            \n\t            var keys = getOwnPropertyNames(sourceComponent);\n\t            \n\t            if (getOwnPropertySymbols) {\n\t                keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n\t            }\n\t            \n\t            for (var i = 0; i < keys.length; ++i) {\n\t                var key = keys[i];\n\t                if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n\t                    var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\t                    try { // Avoid failures from read-only properties\n\t                        defineProperty(targetComponent, key, descriptor);\n\t                    } catch (e) {}\n\t                }\n\t            }\n\t            \n\t            return targetComponent;\n\t        }\n\t        \n\t        return targetComponent;\n\t    };\n\t})));\n\n\n/***/ }),\n\n/***/ 430:\n/***/ (function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _skeyEx = __webpack_require__(203);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SKIP = \" \\n\\t\";\n\tfunction findWord(element) {\n\t  var end = element.length;\n\t  var text = element;\n\t  // console.log('text', text);\n\t  var start = 0;\n\t  for (var i = end; i >= 0; i--) {\n\t    var t = text[i];\n\t    if (SKIP.indexOf(t) !== -1) {\n\t      start = i + 1;\n\t      break;\n\t    }\n\t  }\n\t  // console.log(\"WORD (\" + start + \", \" + end + \")\" + text.substr(start, end-start));\n\t  return [start, end, text.substr(start, end - start)];\n\t}\n\t\n\tvar FastTypingVietnameseForm = function (_React$Component) {\n\t  _inherits(FastTypingVietnameseForm, _React$Component);\n\t\n\t  function FastTypingVietnameseForm(props) {\n\t    _classCallCheck(this, FastTypingVietnameseForm);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.state = {\n\t      value: ''\n\t    };\n\t\n\t    _this.setTextInputRef = function (element) {\n\t      _this.textInput = element;\n\t    };\n\t\n\t    _this.handleChange = _this.handleChange.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  FastTypingVietnameseForm.prototype.handleChange = function handleChange(event) {\n\t    if (!event || [8, 13, 16, 20, 32, 37, 38, 39, 40, 17, 18].indexOf(event.keyCode) !== -1) return;\n\t\n\t    var value = event.target.value;\n\t    // console.log('input value', value);\n\t    // console.log('current queue', this.queue);\n\t\n\t    // event.preventDefault();\n\t    // console.log('value', value);\n\t\n\t    var wordResult = findWord(value);\n\t    // console.log('word', wordResult);\n\t\n\t    var finalized = (0, _skeyEx.doEvaluate)(wordResult[2]);\n\t    // console.log('finalized', finalized);\n\t\n\t    var valueEx = value.substring(0, wordResult[0]) + finalized + value.substring(wordResult[1]);\n\t    // console.log('valueEx', valueEx);\n\t\n\t    // this.textInput.value = valueEx;\n\t    event.target.value = valueEx;\n\t  };\n\t\n\t  FastTypingVietnameseForm.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      null,\n\t      _react2.default.createElement('textarea', { ref: this.setTextInputRef, onKeyUp: this.handleChange, className: 'form-control', rows: '20' })\n\t    );\n\t  };\n\t\n\t  return FastTypingVietnameseForm;\n\t}(_react2.default.Component);\n\t\n\texports.default = FastTypingVietnameseForm;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(4);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(98);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tvar _FastTypingVietnameseForm = __webpack_require__(197);\n\t\n\tvar _FastTypingVietnameseForm2 = _interopRequireDefault(_FastTypingVietnameseForm);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar IndexPage = function IndexPage() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'text-center' },\n\t    _react2.default.createElement('br', null),\n\t    _react2.default.createElement(\n\t      'h2',\n\t      null,\n\t      'B\\u1ED9 g\\xF5 Ti\\u1EBFng Vi\\u1EC7t S-Key 2018.1.0'\n\t    ),\n\t    _react2.default.createElement(\n\t      'p',\n\t      null,\n\t      'L\\xE0 b\\u1ED9 g\\xF5 \\u0111\\u01B0\\u1EE3c ra \\u0111\\u1EDDi nh\\u1EB1m th\\u1EC3 nghi\\u1EC7m s\\u1EF1 k\\u1EBFt h\\u1EE3p gi\\u1EEFa',\n\t      _react2.default.createElement(\n\t        'a',\n\t        { href: '' },\n\t        ' ki\\u1EC3u g\\xF5 d\\u1EA5u Tubinhtran-MS '\n\t      ),\n\t      'v\\xE0 ',\n\t      _react2.default.createElement(\n\t        'a',\n\t        { href: '' },\n\t        ' Ph\\u01B0\\u01A1ng ph\\xE1p T\\u1ED1c k\\xED Ch\\u1EEF Vi\\u1EC7t Nhanh'\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      'p',\n\t      null,\n\t      'Th\\u1EED nghi\\u1EC7m b\\u1ED9 g\\xF5 b\\u1EB1ng c\\xE1ch nh\\u1EADp v\\xE0o khung b\\xEAn d\\u01B0\\u1EDBi, \\xE1p d\\u1EE5ng c\\xE1c quy lu\\u1EADt trong ki\\u1EC3u g\\xF5 Tubinhtran-MS v\\xE0 PP TKCVN'\n\t    ),\n\t    _react2.default.createElement(_FastTypingVietnameseForm2.default, null),\n\t    _react2.default.createElement('br', null),\n\t    _react2.default.createElement(\n\t      'h5',\n\t      null,\n\t      'Nh\\u1EADt k\\xFD ph\\xE1t tri\\u1EC3n'\n\t    ),\n\t    _react2.default.createElement(\n\t      'ul',\n\t      null,\n\t      _react2.default.createElement(\n\t        'li',\n\t        null,\n\t        '25/4/2018: Ph\\xE1t tri\\u1EC3n phi\\xEAn b\\u1EA3n 2 c\\u1EE7a S-key v\\xE0 di d\\u1EDDi phi\\xEAn b\\u1EA3n 1 v\\u1EC1 \\u0111\\u1ECBa ch\\u1EC9 nghiaht.github.io/skey/v1'\n\t      ),\n\t      _react2.default.createElement(\n\t        'li',\n\t        null,\n\t        'S\\u1EBD n\\xF3i chi ti\\u1EBFt h\\u01A1n trong c\\xE1c b\\u1EA3n ph\\xE1t h\\xE0nh sau'\n\t      )\n\t    )\n\t  );\n\t};\n\t\n\texports.default = IndexPage;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _ACCENTIZED_DICTIONAR;\n\t\n\t//\n\t// CONSTANTS\n\t//\n\t\n\tvar ONE_KEY_VOWEL_TAG = 'ONE_KEY_VOWEL_TAG';\n\tvar ONE_KEY_CONSONANT_TAG = 'ONE_KEY_CONSONANT_TAG';\n\tvar ACCENT_KEY_TAG = 'ACCENT_KEY_TAG';\n\tvar VOWEL_TAG = 'VOWEL_TAG';\n\tvar ACCENTIZED_VOWEL_TAG = 'ACCENTIZED_VOWEL_TAG';\n\tvar SEMI_ACCENTIZED_VOWEL_TAG = 'SEMI_ACCENTIZED_VOWEL_TAG';\n\tvar CONSONANT_TAG = 'CONSONANT_TAG';\n\tvar SEMI_ACCENTIZED_CONSONANT_TAG = 'SEMI_ACCENTIZED_CONSONANT_TAG';\n\tvar DIGIT_TAG = 'DIGIT_TAG';\n\tvar SYMBOL_TAG = 'SYMBOL_TAG';\n\tvar START_OF_WORD_CONSONANT_TAG = 'START_OF_WORD_CONSONANT_TAG';\n\tvar END_OF_WORD_CONSONANT_TAG = 'END_OF_WORD_CONSONANT_TAG';\n\t\n\tvar VOWEL_A = 'aáàảãạăắằẳẵặâấầẩẫậ';\n\tvar VOWEL_E = 'eéèẻẽẹêếềểễệ';\n\tvar VOWEL_I = 'iíìỉĩị';\n\tvar VOWEL_O = 'oóòỏõọơớờởỡợôốồổỗộ';\n\tvar VOWEL_U = 'uúùủũụưứừửữự';\n\tvar VOWEL_Y = 'yýỳỷỹỵ';\n\t\n\tvar SYMBOL_REGEX = /[^0-9aăâeêioôơuưyáàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵbcdđfghjklmnpqrstvwxz]+/i;\n\tvar DIGIT_REGEX = /[0-9]+/;\n\tvar TUBINHTRAN_MS_ACCENT_KEY_REGEX = /[1-5]+/;\n\tvar ACCENTIZED_VOWEL_REGEX = /[áàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵ]+/i;\n\tvar VOWEL_REGEX = /[aăâeêioôơuưy]+/i;\n\t\n\tvar A_VARIATIONS = 'a á à ả ã ạ';\n\tvar A_CIRCUMFLEX_VARIATIONS = 'â ấ ầ ẩ ẫ ậ 6 ^';\n\tvar A_BREVE_VARIATIONS = 'ă ắ ằ ẳ ẵ ặ 9 (';\n\tvar E_VARIATIONS = 'e é è ẻ ẽ ẹ';\n\tvar E_CIRCUMFLEX_VARIATIONS = 'ê ế ề ể ễ ệ 7 &';\n\tvar I_VARIATIONS = 'i í ỉ ĩ ị';\n\tvar O_VARIATIONS = 'o ó ò ỏ õ ọ';\n\tvar O_CIRCUMFLEX_VARIATIONS = 'ô ố ồ ổ ỗ ộ 8 *';\n\tvar O_HORN_VARIATIONS = 'ơ ớ ờ ở ỡ ợ \\\\] }';\n\tvar U_VARIATIONS = 'u ú ù ủ ũ ụ';\n\tvar U_HORN_VARIATIONS = 'ư ứ ừ ử ữ ự \\\\[ {';\n\t\n\tvar TOKEN_EXPRESSIONS = [[/[ \\n\\t]+/, null], [DIGIT_REGEX, DIGIT_TAG], [ACCENTIZED_VOWEL_REGEX, ACCENTIZED_VOWEL_TAG], [VOWEL_REGEX, VOWEL_TAG], [/[bcdđfghjklmnpqrstvwxz]+/i, CONSONANT_TAG], [SYMBOL_REGEX, SYMBOL_TAG]];\n\t\n\tvar TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY = {\n\t  'â': '6',\n\t  'Â': '^',\n\t\n\t  'ê': '7',\n\t  'Ê': '&',\n\t\n\t  'ô': '8',\n\t  'Ô': '*',\n\t\n\t  'ă': '9',\n\t  'Ă': '(',\n\t\n\t  'ư': '[',\n\t  'Ư': '{',\n\t\n\t  'ơ': ']',\n\t  'Ơ': '}'\n\t};\n\t\n\tvar ACCENTIZED_DICTIONARY = (_ACCENTIZED_DICTIONAR = {\n\t  'â': '6',\n\t  'Â': '^',\n\t\n\t  'ê': '7',\n\t  'Ê': '&',\n\t\n\t  'ô': '8',\n\t  'Ô': '*',\n\t\n\t  'ă': '9',\n\t  'Ă': '(',\n\t\n\t  'ư': '[',\n\t  'Ư': '{',\n\t\n\t  'ơ': ']',\n\t  'Ơ': '}',\n\t\n\t  'á': 'a1',\n\t  'à': 'a2',\n\t  'ả': 'a3',\n\t  'ã': 'a4',\n\t  'ạ': 'a5',\n\t\n\t  'ắ': 'ă1',\n\t  'ằ': 'ă2',\n\t  'ẳ': 'ă3',\n\t  'ẵ': 'ă4',\n\t  'ặ': 'ă5',\n\t\n\t  'ấ': 'â1',\n\t  'ầ': 'â2',\n\t  'ẩ': 'â3',\n\t  'ẫ': 'â4',\n\t  'ậ': 'â5',\n\t\n\t  'é': 'e1',\n\t  'è': 'e2',\n\t  'ẻ': 'e3',\n\t  'ẽ': 'e4',\n\t  'ẹ': 'e5',\n\t\n\t  'ế': 'ê1',\n\t  'ề': 'ê2',\n\t  'ể': 'ê3',\n\t  'ễ': 'ê4',\n\t  'ệ': 'ê5',\n\t\n\t  'í': 'i1',\n\t  'ì': 'i2',\n\t  'ỉ': 'i3',\n\t  'ĩ': 'i4',\n\t  'ị': 'i5',\n\t\n\t  'ó': 'o1',\n\t  'ò': 'o2',\n\t  'ỏ': 'o3',\n\t  'õ': 'o4',\n\t  'ọ': 'o5',\n\t\n\t  'ớ': 'ơ1',\n\t  'ờ': 'ơ2',\n\t  'ở': 'ơ3',\n\t  'ỡ': 'ơ4',\n\t  'ợ': 'ơ5',\n\t\n\t  'ố': 'ô1',\n\t  'ồ': 'ô2',\n\t  'ổ': 'ô3',\n\t  'ỗ': 'ô4',\n\t  'ộ': 'ô5',\n\t\n\t  'ú': 'u1',\n\t  'ù': 'u2',\n\t  'ủ': 'u3',\n\t  'ũ': 'u4',\n\t  'ụ': 'u5',\n\t\n\t  'ứ': 'ư1',\n\t  'ừ': 'ư2',\n\t  'ử': 'ư3',\n\t  'ữ': 'ư4',\n\t  'ự': 'ư5',\n\t\n\t  'ý': 'y1',\n\t  'ỳ': 'y2',\n\t  'ỷ': 'y3',\n\t  'ỹ': 'y4',\n\t  'ỵ': 'y5',\n\t\n\t  // Uppercase\n\t  'Á': 'A1',\n\t  'À': 'A2',\n\t  'Ả': 'A3',\n\t  'Ã': 'A4',\n\t  'Ạ': 'A5',\n\t\n\t  'Ắ': 'Ă1',\n\t  'Ằ': 'Ă2',\n\t  'Ẳ': 'Ă3',\n\t  'Ẵ': 'Ă4',\n\t  'Ặ': 'Ă5',\n\t\n\t  'Ấ': 'Â1',\n\t  'Ầ': 'Â2',\n\t  'Ẩ': 'Â3',\n\t  'Ẫ': 'Â4',\n\t  'Ậ': 'Â5',\n\t\n\t  'É': 'E1',\n\t  'È': 'E2',\n\t  'Ẻ': 'E3',\n\t  'Ẽ': 'E4',\n\t  'Ẹ': 'E5',\n\t\n\t  'Ế': 'Ê1',\n\t  'Ề': 'Ê2',\n\t  'Ể': 'Ê3',\n\t  'Ễ': 'Ê4',\n\t  'Ệ': 'Ê5',\n\t\n\t  'Í': 'I1',\n\t  'Ì': 'I2',\n\t  'Ỉ': 'I3',\n\t  'Ĩ': 'I4',\n\t  'Ị': 'I5',\n\t\n\t  'Ó': 'O1',\n\t  'Ò': 'O2',\n\t  'Ỏ': 'O3',\n\t  'Õ': 'O4',\n\t  'Ọ': 'O5'\n\t\n\t}, _ACCENTIZED_DICTIONAR['\\u1EDB'] = 'ơ1', _ACCENTIZED_DICTIONAR['\\u1EDD'] = 'ơ2', _ACCENTIZED_DICTIONAR['\\u1EDF'] = 'ơ3', _ACCENTIZED_DICTIONAR['\\u1EE1'] = 'ơ4', _ACCENTIZED_DICTIONAR['\\u1EE3'] = 'ơ5', _ACCENTIZED_DICTIONAR['\\u1ED1'] = 'ô1', _ACCENTIZED_DICTIONAR['\\u1ED3'] = 'ô2', _ACCENTIZED_DICTIONAR['\\u1ED5'] = 'ô3', _ACCENTIZED_DICTIONAR['\\u1ED7'] = 'ô4', _ACCENTIZED_DICTIONAR['\\u1ED9'] = 'ô5', _ACCENTIZED_DICTIONAR['Ú'] = 'U1', _ACCENTIZED_DICTIONAR['Ù'] = 'U2', _ACCENTIZED_DICTIONAR['Ủ'] = 'U3', _ACCENTIZED_DICTIONAR['Ũ'] = 'U4', _ACCENTIZED_DICTIONAR['Ụ'] = 'U5', _ACCENTIZED_DICTIONAR['Ứ'] = 'Ư1', _ACCENTIZED_DICTIONAR['Ừ'] = 'Ư2', _ACCENTIZED_DICTIONAR['Ử'] = 'Ư3', _ACCENTIZED_DICTIONAR['Ữ'] = 'Ư4', _ACCENTIZED_DICTIONAR['Ự'] = 'Ư5', _ACCENTIZED_DICTIONAR['Ý'] = 'Y1', _ACCENTIZED_DICTIONAR['Ỳ'] = 'Y2', _ACCENTIZED_DICTIONAR['Ỷ'] = 'Y3', _ACCENTIZED_DICTIONAR);\n\t\n\tvar START_OF_WORD_CONSONANT_DICTIONARY = {\n\t  'ph': 'f',\n\t  'kh': 'k',\n\t  'ngh': 'w',\n\t  'gi': 'j',\n\t  'gh': 'g',\n\t  'qu': 'q',\n\t\n\t  'Ph': 'F',\n\t  'Kh': 'K',\n\t  'Ngh': 'W',\n\t  'Gi': 'J',\n\t  'Gh': 'G',\n\t  'Qu': 'Q',\n\t\n\t  'k': 'c',\n\t  'd': 'z',\n\t  'đ': 'd',\n\t\n\t  'K': 'C',\n\t  'D': 'Z',\n\t  'Đ': 'D'\n\t};\n\t\n\tvar END_OF_WORD_CONSONANT_DICTIONARY = {\n\t  'ng': 'g',\n\t  'nh': 'h',\n\t  'ch': 'k'\n\t};\n\t\n\tvar COMPOUND_VOWELS_DICTIONARY = {\n\t  'id': ['iêt', 'yêt'],\n\t  'if': ['iêp'],\n\t  'is': ['iêc'],\n\t  'il': ['iên', 'yên'],\n\t  'iv': ['iêm', 'yêm'],\n\t  'iz': ['iêng', 'yêng'],\n\t  'iw': ['iêu', 'yêu'],\n\t\n\t  'yd': ['uyêt'],\n\t  'yl': ['uyên'],\n\t\n\t  'ud': ['uôt'],\n\t  'us': ['uôc'],\n\t  'ul': ['uôn'],\n\t  'uv': ['uôm'],\n\t  'uz': ['uông'],\n\t  'uj': ['uôi'],\n\t\n\t  'ưd': ['ươt'],\n\t  'ưf': ['ươp'],\n\t  'ưs': ['ươc'],\n\t  'ưl': ['ươn'],\n\t  'ưv': ['ươm'],\n\t  'ưz': ['ương'],\n\t  'ưj': ['ươi'],\n\t  'ưw': ['ươu'],\n\t\n\t  'ơd': ['uơt'],\n\t  'ơl': ['uơn'],\n\t\n\t  'âd': ['uât'],\n\t  'âl': ['uân'],\n\t  'âz': ['uâng'],\n\t  'âj': ['uây'],\n\t\n\t  'ăd': ['oăt'],\n\t  'ăs': ['oăc'],\n\t  'ăl': ['oăn'],\n\t  'ăv': ['oăm'],\n\t  'ăz': ['oăng'],\n\t\n\t  'ed': ['oet'],\n\t  'el': ['oen'],\n\t  'ev': ['oem'],\n\t  'ew': ['oeo'],\n\t\n\t  'od': ['oat'],\n\t  'of': ['oap'],\n\t  'os': ['oac'],\n\t  'ol': ['oan'],\n\t  'ov': ['oam'],\n\t  'oz': ['oang'],\n\t  'oj': ['oai'],\n\t  'ow': ['oao'],\n\t\n\t  'aj': ['oay']\n\t\n\t};\n\t\n\tvar COMPOUND_VOWELS_LIST = Object.keys(COMPOUND_VOWELS_DICTIONARY);\n\t\n\tfunction invertObject(sourceObject, targetObject) {\n\t  Object.keys(sourceObject).forEach(function (key) {\n\t    targetObject[sourceObject[key]] = key;\n\t  });\n\t  return targetObject;\n\t}\n\t\n\tvar INVERTED_ACCENTIZED_DICTIONARY = invertObject(ACCENTIZED_DICTIONARY, {});\n\tvar INVERTED_START_OF_WORD_CONSONANT_DICTIONARY = invertObject(START_OF_WORD_CONSONANT_DICTIONARY, {});\n\tvar INVERTED_END_OF_WORD_CONSONANT_DICTIONARY = invertObject(END_OF_WORD_CONSONANT_DICTIONARY, {});\n\tvar INVERTED_TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY = invertObject(TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY, {});\n\t\n\t//\n\t// METHODS\n\t//\n\tfunction lex(characters) {\n\t  var pos = 0;\n\t  var tokens = [];\n\t  var hasVowel = false;\n\t  var hasConsonant = false;\n\t  var hasSemiAccentizedConsonant = false;\n\t\n\t  while (pos < characters.length) {\n\t    var match = null;\n\t    for (var i = 0; i < TOKEN_EXPRESSIONS.length; i++) {\n\t      var token_expr = TOKEN_EXPRESSIONS[i];\n\t      var pattern = token_expr[0];\n\t      var tag = token_expr[1];\n\t      var text = characters[pos];\n\t      match = pattern.test(text);\n\t      if (match) {\n\t        if (tag) {\n\t          var token = [text, tag];\n\t          tokens.push(token);\n\t        }\n\t        break;\n\t      }\n\t    }\n\t\n\t    pos = pos + 1;\n\t  }\n\t  return tokens;\n\t}\n\t\n\tfunction unaccentize(word, inUppercaseStatus, outUppercaseStatus) {\n\t  var temp = [];\n\t  var tempBeforeFirstDigit = [];\n\t\n\t  // Check if have consonant at the beginning of the word\n\t  // for (let j = 0; j < START_OF_WORD_CONSONANT_LIST.length; j++) {\n\t  //   let consonant = START_OF_WORD_CONSONANT_LIST[j]\n\t  //   let f = word.indexOf(consonant)\n\t  //   if (f === 0) {  // Beginning of the word\n\t  //     word = word.replace(consonant, START_OF_WORD_CONSONANT_DICTIONARY[consonant])\n\t  //     break\n\t  //   }\n\t  // }\n\t\n\t  for (var i = 0; i < word.length; i++) {\n\t    var character = word[i];\n\t\n\t    if (DIGIT_REGEX.test(character) || SYMBOL_REGEX.test(character)) {\n\t      temp = temp.concat(tempBeforeFirstDigit);\n\t      tempBeforeFirstDigit = [];\n\t    }\n\t\n\t    var found = ACCENTIZED_DICTIONARY[character];\n\t    if (found) {\n\t      if (found.length === 1) {\n\t        // Single 6 7 8 9 [ ] ^ & * ( { }\n\t        temp.push(found);\n\t        outUppercaseStatus.push(inUppercaseStatus[i]);\n\t      } else if (found.length === 2) {\n\t        // Compound\n\t        // Add the ACCENT_TAG to the end and before the first digit\n\t\n\t        // let found2 = ACCENTIZED_DICTIONARY[found[0]]\n\t        // if (found2) {// ê to 7\n\t        //   temp.push(found2)\n\t        //   outUppercaseStatus.push(inUppercaseStatus[i])\n\t        // }\n\t        // else {\n\t        temp.push(found[0]);\n\t        outUppercaseStatus.push(inUppercaseStatus[i]);\n\t        // }\n\t\n\t        tempBeforeFirstDigit.push(found[1]);\n\t      }\n\t    } else {\n\t      temp.push(character);\n\t    }\n\t  }\n\t\n\t  if (tempBeforeFirstDigit.length > 0) temp = temp.concat(tempBeforeFirstDigit);\n\t\n\t  var tempWord = temp.join('');\n\t\n\t  // if (tempWord.length > \"gi\".length && tempWord.indexOf(\"gi\") === 0) {\n\t  //   tempWord = tempWord.replace(\"gi\", START_OF_WORD_CONSONANT_DICTIONARY[\"gi\"]);\n\t  // }\n\t\n\t  return tempWord;\n\t}\n\t\n\tfunction deduplicate(word) {\n\t  console.log('- deduplicate', word);\n\t  if (word.length === 1) return word;\n\t\n\t  var wordEx = '' + word[0];\n\t  var hasDuplication = false;\n\t\n\t  // Start from the second character\n\t  for (var i = 1; i < word.length; i++) {\n\t    var character = word[i];\n\t    var foundStartOfWordConsonant = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[character];\n\t    if (!hasDuplication) {\n\t      if (foundStartOfWordConsonant) {\n\t        if (wordEx.indexOf(foundStartOfWordConsonant) === 0) {\n\t          wordEx = wordEx.replace(foundStartOfWordConsonant, character);\n\t          hasDuplication = true;\n\t          continue;\n\t        }\n\t      } else {\n\t        var foundAccentizedVowel = INVERTED_ACCENTIZED_DICTIONARY[character];\n\t        if (foundAccentizedVowel) {\n\t          var previousCharacter = word[i - 1];\n\t          if (previousCharacter && previousCharacter === foundAccentizedVowel) {\n\t            wordEx = wordEx.replace(previousCharacter, character);\n\t            hasDuplication = true;\n\t            continue;\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t    wordEx += character;\n\t  }\n\t\n\t  return wordEx;\n\t}\n\t\n\tvar NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY = {\n\t  'ph': new RegExp(['[', A_BREVE_VARIATIONS, ']'].join(''), 'i'),\n\t  'k': new RegExp(['[', A_VARIATIONS, O_VARIATIONS, U_VARIATIONS, A_CIRCUMFLEX_VARIATIONS, A_BREVE_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i'),\n\t  'gh': new RegExp(['[', O_VARIATIONS, U_VARIATIONS, A_CIRCUMFLEX_VARIATIONS, A_BREVE_VARIATIONS, E_CIRCUMFLEX_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i'),\n\t  'qu': new RegExp(['[', O_VARIATIONS, U_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i')\n\t};\n\t\n\tfunction tubinhtran_ms_parse(tokens) {\n\t  var tokensEx = [];\n\t  var tokensLength = tokens.length;\n\t  var word = tokens.map(function (token) {\n\t    return token[0];\n\t  }).join('');\n\t\n\t  for (var i = 0; i < tokensLength; i++) {\n\t    var token = tokens[i];\n\t    var newToken = token.slice();\n\t\n\t    if (newToken[1] === CONSONANT_TAG) {\n\t      // Check if this token is a START_OF_WORD_CONSONANT\n\t\n\t      if (i === 0) {\n\t        var foundStartOfWordConsonant = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[newToken[0]];\n\t\n\t        if (foundStartOfWordConsonant && tokensLength === 1) {\n\t          // else if(foundStartOfWordConsonant.length === 2 && tokensLength === 2) {\n\t          //   let nextToken = tokens[i + 1];\n\t          //   shouldAllow = nextToken && word.indexOf(foundStartOfWordConsonant) !== 0 && isValidStartOfWordConsonant(foundStartOfWordConsonant, nextToken[0]);\n\t          // }\n\t          newToken[1] = START_OF_WORD_CONSONANT_TAG;\n\t        }\n\t      }\n\t      // Check if this token is a END_OF_WORD_CONSONANT\n\t      // If it is, the previous token have to be a VOWEL\n\t      else if (i === tokensLength - 1) {\n\t          var foundEndOfWordConsonant = INVERTED_END_OF_WORD_CONSONANT_DICTIONARY[newToken[0]];\n\t          if (foundEndOfWordConsonant && tokens[i - 1] && tokens[i - 1][1] === VOWEL_TAG && tokens[i - 1][0] !== foundEndOfWordConsonant[0]) // xog, g -> ng, check whether \"n\" before \"g\" or not\n\t            newToken[1] = END_OF_WORD_CONSONANT_TAG;\n\t        }\n\t    } else if (newToken[1] === VOWEL_TAG) {} else if (newToken[1] === DIGIT_TAG) {\n\t      if (TUBINHTRAN_MS_ACCENT_KEY_REGEX.test(newToken[0])) newToken[1] = ACCENT_KEY_TAG;else if (INVERTED_ACCENTIZED_DICTIONARY[newToken[0]]) {\n\t        // let nextToken = tokens[i + 1];\n\t        var previousToken = tokens[i - 1];\n\t\n\t        var shouldAllow = true;\n\t        // if (nextToken) {\n\t        //\n\t        //   shouldAllow = false;\n\t        // }\n\t        // else\n\t        if (previousToken) {\n\t          console.log(\"@@@@@ previousToken\", previousToken);\n\t          if (previousToken[1] === SYMBOL_TAG || previousToken[1] === DIGIT_TAG) shouldAllow = false;\n\t        }\n\t\n\t        if (shouldAllow) newToken[1] = ONE_KEY_VOWEL_TAG;\n\t      }\n\t    } else if (token[1] === SYMBOL_TAG) {\n\t      if (INVERTED_ACCENTIZED_DICTIONARY[newToken[0]]) newToken[1] = ONE_KEY_VOWEL_TAG;\n\t    } else {}\n\t\n\t    tokensEx.push(newToken);\n\t  }\n\t\n\t  return tokensEx;\n\t}\n\t\n\tfunction isValidStartOfWordConsonant(consonant, next) {\n\t  // next must be a VOWEL\n\t  var isValid = VOWEL_REGEX.test(next) || ACCENTIZED_VOWEL_REGEX.test(next) || INVERTED_TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY[next] !== null;\n\t  // if (consonant === 'k') {\n\t  console.log('check k', consonant, next);\n\t  isValid = isValid && (!NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY[consonant] || !NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY[consonant].test(next));\n\t  return isValid;\n\t}\n\t\n\tfunction finalize(tokens) {\n\t  var firstVowel = void 0,\n\t      secondVowel = void 0,\n\t      thirdVowel = void 0,\n\t      lastConsonant = void 0,\n\t      accentKey = void 0,\n\t      accentedVowel = void 0,\n\t      highPriorityVowel = void 0;\n\t  var tokensEx = tokens.slice();\n\t\n\t  // Expose START_OF_WORD_CONSONANT, ONE_KEY_VOWEL\n\t  for (var i = 0; i < tokensEx.length; i++) {\n\t    var token = tokensEx[i];\n\t    if (token[1] === START_OF_WORD_CONSONANT_TAG) {\n\t      var startOfWordConsonantResult = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[token[0]];\n\t      if (startOfWordConsonantResult) tokensEx = tokensEx.slice(0, i).concat(lex(startOfWordConsonantResult)).concat(tokensEx.slice(i + 1));\n\t    } else if (token[1] === END_OF_WORD_CONSONANT_TAG) {\n\t      var endOfWordConsonantResult = INVERTED_END_OF_WORD_CONSONANT_DICTIONARY[token[0]];\n\t      if (endOfWordConsonantResult) tokensEx = tokensEx.slice(0, i).concat(lex(endOfWordConsonantResult)).concat(tokensEx.slice(i + 1));\n\t    } else if (token[1] === ONE_KEY_VOWEL_TAG) {\n\t      var oneKeyVowelResult = INVERTED_ACCENTIZED_DICTIONARY[token[0]];\n\t      if (oneKeyVowelResult) tokensEx = tokensEx.slice(0, i).concat(lex(oneKeyVowelResult)).concat(tokensEx.slice(i + 1));\n\t    }\n\t  }\n\t\n\t  var tempWord = makeWord(tokensEx);\n\t\n\t  // Check COMPOUND_VOWEL\n\t  for (var k = 0; k < COMPOUND_VOWELS_LIST.length; k++) {\n\t    var compoundTerm = COMPOUND_VOWELS_LIST[k];\n\t    var foundInWord = tempWord.indexOf(compoundTerm);\n\t    if (foundInWord !== -1) {\n\t      console.log('@@@ compound vowels found at', foundInWord);\n\t      var compoundVowelResult = COMPOUND_VOWELS_DICTIONARY[compoundTerm];\n\t      if (compoundVowelResult.length === 2 && foundInWord === 0) {\n\t        compoundVowelResult = compoundVowelResult[1];\n\t      } else {\n\t        compoundVowelResult = compoundVowelResult[0];\n\t      }\n\t\n\t      console.log('compoundVowelResult', compoundVowelResult);\n\t      tokensEx = tokensEx.slice(0, foundInWord).concat(lex(compoundVowelResult)).concat(tokensEx.slice(foundInWord + compoundTerm.length));\n\t      break;\n\t    }\n\t  }\n\t\n\t  for (var j = 0; j < tokensEx.length; j++) {\n\t    var _token = tokensEx[j];\n\t\n\t    if (_token[1] === VOWEL_TAG) {\n\t      if ('êơÊƠ'.indexOf(_token[0]) !== -1) {\n\t        highPriorityVowel = [j, _token];\n\t      }\n\t\n\t      thirdVowel = secondVowel ? [j, _token] : thirdVowel;\n\t      secondVowel = !secondVowel && firstVowel ? [j, _token] : secondVowel;\n\t      firstVowel = firstVowel ? firstVowel : [j, _token];\n\t    } else if (_token[1] === ACCENT_KEY_TAG) {\n\t      accentKey = [j, _token];\n\t    } else if (_token[1] === CONSONANT_TAG) {\n\t      lastConsonant = firstVowel || secondVowel || thirdVowel ? [j, _token] : lastConsonant;\n\t    }\n\t  }\n\t\n\t  // Accentize\n\t  if (highPriorityVowel && accentKey) {\n\t    var found = accentizeTwoTokens(highPriorityVowel[1], accentKey[1]);\n\t    if (found) {\n\t      tokensEx[highPriorityVowel[0]] = found;\n\t      tokensEx.splice(accentKey[0], 1);\n\t    }\n\t  } else if (thirdVowel && accentKey) {\n\t    var _found = accentizeTwoTokens(secondVowel[1], accentKey[1]);\n\t    if (_found) {\n\t      tokensEx[secondVowel[0]] = _found;\n\t      tokensEx.splice(accentKey[0], 1);\n\t    }\n\t  } else if (secondVowel && lastConsonant && accentKey) {\n\t    var _found2 = accentizeTwoTokens(secondVowel[1], accentKey[1]);\n\t    if (_found2) {\n\t      tokensEx[secondVowel[0]] = _found2;\n\t      tokensEx.splice(accentKey[0], 1);\n\t    }\n\t  } else if (firstVowel && accentKey) {\n\t    var specialLetter = 'gi|qu';\n\t    var neededTest = tokensEx[0][0] + tokensEx[1][0];\n\t    if (secondVowel && specialLetter.indexOf(neededTest) !== -1) {\n\t      var _found3 = accentizeTwoTokens(secondVowel[1], accentKey[1]);\n\t      if (_found3) {\n\t        tokensEx[secondVowel[0]] = _found3;\n\t        tokensEx.splice(accentKey[0], 1);\n\t      }\n\t    } else {\n\t      var _found4 = accentizeTwoTokens(firstVowel[1], accentKey[1]);\n\t      if (_found4) {\n\t        tokensEx[firstVowel[0]] = _found4;\n\t        tokensEx.splice(accentKey[0], 1);\n\t      }\n\t    }\n\t  }\n\t\n\t  return tokensEx;\n\t}\n\t\n\tfunction accentizeTwoTokens(vowelToken, accentToken) {\n\t  console.log('vowelToken', vowelToken, 'accentToken', accentToken);\n\t  var found = INVERTED_ACCENTIZED_DICTIONARY[vowelToken[0] + accentToken[0]];\n\t  return found ? [found, VOWEL_TAG] : null;\n\t}\n\t\n\tfunction evaluate(word, uppercaseStatus) {\n\t  var outUppercaseStatus = [];\n\t\n\t  var unaccentizedWord = unaccentize(word, uppercaseStatus, []);\n\t  console.log('unaccentized 1', unaccentizedWord);\n\t\n\t  var deduplicatedWord = deduplicate(word);\n\t  if (deduplicatedWord.length !== word.length) {\n\t    return deduplicatedWord;\n\t  }\n\t\n\t  var unaccentizedWord2 = unaccentize(unaccentizedWord, uppercaseStatus, []);\n\t\n\t  var tokens = lex(unaccentizedWord2);\n\t\n\t  console.log('Proceed with tokens', tokens);\n\t  var parsed = tubinhtran_ms_parse(tokens);\n\t  console.log('1st parsed', parsed);\n\t\n\t  var finalized = finalize(parsed);\n\t  console.log('finalized', finalized);\n\t\n\t  return makeWord(finalized);\n\t}\n\t\n\tfunction doEvaluate(word, modifiersStatus) {\n\t  var uppercaseStatus = [];\n\t  // for (let i = 0; i < word.length; i++) {\n\t  //   let character = word[i]\n\t  //   let isAnUppercaseLetter = character.toUpperCase() === character\n\t  //   uppercaseStatus.push(isAnUppercaseLetter)\n\t  //\n\t  //   if (i === word.length - 1) {\n\t  //     uppercaseStatus.push(isAnUppercaseLetter || shouldBeUppercase(modifiersStatus))\n\t  //   }\n\t  // }\n\t  //\n\t  // console.log('uppercaseStatus', uppercaseStatus)\n\t  if (word.trim().length === 0) return word;\n\t  return evaluate(word, uppercaseStatus);\n\t}\n\t\n\tfunction makeWord(tokens) {\n\t  return tokens.map(function (token) {\n\t    return token[0];\n\t  }).join('');\n\t}\n\t\n\tfunction shouldBeUppercase(modifiers) {\n\t  if (modifiers) {\n\t    if (modifiers.shift && modifiers.capslock) return false;else if (modifiers.shift || modifiers.capslock) return true;\n\t  }\n\t  return false;\n\t}\n\t\n\tif (__webpack_require__.c[0] === module) {\n\t  console.log('Nghia dep trai');\n\t  // const tokens = lex('nghia');\n\t  // console.log('tokens', lex(unaccentize('hấ6')));\n\t  //\n\t  // const test = [\n\t  //   // 'a1',\n\t  //   // '61',\n\t  //   // '&1',\n\t  //   // 'a11',\n\t  //   // 'a12',\n\t  //   // 'á1',\n\t  //   // 'á2',\n\t  //   // 'ê6',\n\t  //   // '=2',\n\t  //   // '/1',\n\t  //   'hấ6',\n\t  //   'hoàng1',\n\t  //   'hòang1',\n\t  //   'kho',\n\t  //   \"đó\",\n\t  //   \"hẤ6\"\n\t  //\n\t  // ];\n\t  //\n\t  // test.forEach(function (t) {\n\t  //   console.log(t, unaccentize(t));\n\t  // })\n\t\n\t  // evaluate('a1');\n\t  // evaluate('6');\n\t  // evaluate('h6');\n\t  // evaluate('xong');\n\t  // evaluate('qah');\n\t  // evaluate('qch');\n\t  // evaluate('qa1');\n\t  // console.log(doEvaluate('h616'));\n\t  // console.log(doEvaluate('â6'));\n\t  // console.log(doEvaluate('â66666'));\n\t  // console.log(doEvaluate('kc'));\n\t  // console.log(doEvaluate('hâ1'));\n\t  // console.log(doEvaluate('h6666'));\n\t  // console.log(doEvaluate('h^1'));\n\t  // console.log(doEvaluate('8i2'));\n\t  // console.log(doEvaluate('co'));\n\t  // console.log(doEvaluate('cin'))\n\t  console.log(doEvaluate('phid1'));\n\t}\n\t\n\tmodule.exports = {\n\t  lex: lex,\n\t  unaccentize: unaccentize,\n\t  deduplicate: deduplicate,\n\t  makeWord: makeWord,\n\t  doEvaluate: doEvaluate\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(430)(module)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-index-js-36aa10f70e1a67944d1e.js","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.hoistNonReactStatics = factory());\n}(this, (function () {\n    'use strict';\n    \n    var REACT_STATICS = {\n        childContextTypes: true,\n        contextTypes: true,\n        defaultProps: true,\n        displayName: true,\n        getDefaultProps: true,\n        getDerivedStateFromProps: true,\n        mixins: true,\n        propTypes: true,\n        type: true\n    };\n    \n    var KNOWN_STATICS = {\n        name: true,\n        length: true,\n        prototype: true,\n        caller: true,\n        callee: true,\n        arguments: true,\n        arity: true\n    };\n    \n    var defineProperty = Object.defineProperty;\n    var getOwnPropertyNames = Object.getOwnPropertyNames;\n    var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var getPrototypeOf = Object.getPrototypeOf;\n    var objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n    \n    return function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n        if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n            \n            if (objectPrototype) {\n                var inheritedComponent = getPrototypeOf(sourceComponent);\n                if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                    hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n                }\n            }\n            \n            var keys = getOwnPropertyNames(sourceComponent);\n            \n            if (getOwnPropertySymbols) {\n                keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n            }\n            \n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n                    var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                    try { // Avoid failures from read-only properties\n                        defineProperty(targetComponent, key, descriptor);\n                    } catch (e) {}\n                }\n            }\n            \n            return targetComponent;\n        }\n        \n        return targetComponent;\n    };\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hoist-non-react-statics/index.js\n// module id = 102\n// module chunks = 35783957827783 218538773642512 231608221292675","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 430\n// module chunks = 35783957827783","import React from 'react';\r\nimport {doEvaluate} from '../skey/skey-ex';\r\n\r\nconst SKIP = \" \\n\\t\";\r\nfunction findWord(element) {\r\n  const end = element.length;\r\n  var text = element;\r\n  // console.log('text', text);\r\n  var start = 0;\r\n  for (var i = end; i >= 0; i--) {\r\n    var t = text[i];\r\n    if (SKIP.indexOf(t) !== -1) {\r\n      start = i + 1;\r\n      break;\r\n    }\r\n  }\r\n  // console.log(\"WORD (\" + start + \", \" + end + \")\" + text.substr(start, end-start));\r\n  return [start, end, text.substr(start, end - start)];\r\n}\r\n\r\nclass FastTypingVietnameseForm extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      value: ''\r\n    };\r\n\r\n    this.setTextInputRef = element => {\r\n      this.textInput = element;\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    if (!event || ([8, 13, 16, 20, 32, 37, 38, 39, 40, 17, 18].indexOf(event.keyCode) !== -1 ))\r\n      return;\r\n\r\n    const value = event.target.value;\r\n    // console.log('input value', value);\r\n    // console.log('current queue', this.queue);\r\n\r\n    // event.preventDefault();\r\n    // console.log('value', value);\r\n\r\n    const wordResult = findWord(value);\r\n    // console.log('word', wordResult);\r\n\r\n    const finalized = doEvaluate(wordResult[2]);\r\n    // console.log('finalized', finalized);\r\n\r\n    let valueEx = value.substring(0, wordResult[0]) + finalized + value.substring(wordResult[1]);\r\n    // console.log('valueEx', valueEx);\r\n\r\n    // this.textInput.value = valueEx;\r\n    event.target.value = valueEx;\r\n  }\r\n\r\n  render () {\r\n    return <div>\r\n      <textarea ref={this.setTextInputRef} onKeyUp={this.handleChange} className=\"form-control\" rows=\"20\"/>\r\n    </div>;\r\n  }\r\n}\r\n\r\nexport default FastTypingVietnameseForm;\n\n\n// WEBPACK FOOTER //\n// ./src/components/FastTypingVietnameseForm.js","import React from 'react'\r\nimport Link from 'gatsby-link'\r\n\r\nimport FastTypingVietnameseForm from '../components/FastTypingVietnameseForm';\r\n\r\nconst IndexPage = () => (\r\n  <div className=\"text-center\">\r\n    <br />\r\n    <h2>Bộ gõ Tiếng Việt S-Key 2018.1.0</h2>\r\n    <p>Là bộ gõ được ra đời nhằm thể nghiệm sự kết hợp giữa\r\n      <a href=\"\"> kiểu gõ dấu Tubinhtran-MS </a>\r\n      và <a href=\"\"> Phương pháp Tốc kí Chữ Việt Nhanh</a></p>\r\n\r\n    <p>Thử nghiệm bộ gõ bằng cách nhập vào khung bên dưới, áp dụng các quy luật trong kiểu gõ Tubinhtran-MS và PP TKCVN</p>\r\n    <FastTypingVietnameseForm />\r\n\r\n    <br />\r\n    <h5>Nhật ký phát triển</h5>\r\n    <ul>\r\n      <li>25/4/2018: Phát triển phiên bản 2 của S-key và di dời phiên bản 1 về địa chỉ nghiaht.github.io/skey/v1</li>\r\n      <li>Sẽ nói chi tiết hơn trong các bản phát hành sau</li>\r\n    </ul>\r\n\r\n    {/*<Link to=\"/page-2/\">Go to page 2</Link>*/}\r\n  </div>\r\n)\r\n\r\nexport default IndexPage\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index.js","//\n// CONSTANTS\n//\n\nconst ONE_KEY_VOWEL_TAG = 'ONE_KEY_VOWEL_TAG'\nconst ONE_KEY_CONSONANT_TAG = 'ONE_KEY_CONSONANT_TAG'\nconst ACCENT_KEY_TAG = 'ACCENT_KEY_TAG'\nconst VOWEL_TAG = 'VOWEL_TAG'\nconst ACCENTIZED_VOWEL_TAG = 'ACCENTIZED_VOWEL_TAG'\nconst SEMI_ACCENTIZED_VOWEL_TAG = 'SEMI_ACCENTIZED_VOWEL_TAG'\nconst CONSONANT_TAG = 'CONSONANT_TAG'\nconst SEMI_ACCENTIZED_CONSONANT_TAG = 'SEMI_ACCENTIZED_CONSONANT_TAG'\nconst DIGIT_TAG = 'DIGIT_TAG'\nconst SYMBOL_TAG = 'SYMBOL_TAG'\nconst START_OF_WORD_CONSONANT_TAG = 'START_OF_WORD_CONSONANT_TAG'\nconst END_OF_WORD_CONSONANT_TAG = 'END_OF_WORD_CONSONANT_TAG'\n\nconst VOWEL_A = 'aáàảãạăắằẳẵặâấầẩẫậ'\nconst VOWEL_E = 'eéèẻẽẹêếềểễệ'\nconst VOWEL_I = 'iíìỉĩị'\nconst VOWEL_O = 'oóòỏõọơớờởỡợôốồổỗộ'\nconst VOWEL_U = 'uúùủũụưứừửữự'\nconst VOWEL_Y = 'yýỳỷỹỵ'\n\nconst SYMBOL_REGEX = /[^0-9aăâeêioôơuưyáàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵbcdđfghjklmnpqrstvwxz]+/i\nconst DIGIT_REGEX = /[0-9]+/\nconst TUBINHTRAN_MS_ACCENT_KEY_REGEX = /[1-5]+/\nconst ACCENTIZED_VOWEL_REGEX = /[áàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵ]+/i\nconst VOWEL_REGEX = /[aăâeêioôơuưy]+/i\n\nconst A_VARIATIONS = 'a á à ả ã ạ'\nconst A_CIRCUMFLEX_VARIATIONS = 'â ấ ầ ẩ ẫ ậ 6 ^'\nconst A_BREVE_VARIATIONS = 'ă ắ ằ ẳ ẵ ặ 9 ('\nconst E_VARIATIONS = 'e é è ẻ ẽ ẹ'\nconst E_CIRCUMFLEX_VARIATIONS = 'ê ế ề ể ễ ệ 7 &'\nconst I_VARIATIONS = 'i í ỉ ĩ ị'\nconst O_VARIATIONS = 'o ó ò ỏ õ ọ'\nconst O_CIRCUMFLEX_VARIATIONS = 'ô ố ồ ổ ỗ ộ 8 *'\nconst O_HORN_VARIATIONS = 'ơ ớ ờ ở ỡ ợ \\\\] }'\nconst U_VARIATIONS = 'u ú ù ủ ũ ụ'\nconst U_HORN_VARIATIONS = 'ư ứ ừ ử ữ ự \\\\[ {'\n\nconst TOKEN_EXPRESSIONS = [\n  [/[ \\n\\t]+/, null],\n  [DIGIT_REGEX, DIGIT_TAG],\n  [ACCENTIZED_VOWEL_REGEX, ACCENTIZED_VOWEL_TAG],\n  [VOWEL_REGEX, VOWEL_TAG],\n  [/[bcdđfghjklmnpqrstvwxz]+/i, CONSONANT_TAG],\n  [SYMBOL_REGEX, SYMBOL_TAG]\n]\n\nconst TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY = {\n  'â': '6',\n  'Â': '^',\n\n  'ê': '7',\n  'Ê': '&',\n\n  'ô': '8',\n  'Ô': '*',\n\n  'ă': '9',\n  'Ă': '(',\n\n  'ư': '[',\n  'Ư': '{',\n\n  'ơ': ']',\n  'Ơ': '}',\n}\n\nconst ACCENTIZED_DICTIONARY = {\n  'â': '6',\n  'Â': '^',\n\n  'ê': '7',\n  'Ê': '&',\n\n  'ô': '8',\n  'Ô': '*',\n\n  'ă': '9',\n  'Ă': '(',\n\n  'ư': '[',\n  'Ư': '{',\n\n  'ơ': ']',\n  'Ơ': '}',\n\n  'á': 'a1',\n  'à': 'a2',\n  'ả': 'a3',\n  'ã': 'a4',\n  'ạ': 'a5',\n\n  'ắ': 'ă1',\n  'ằ': 'ă2',\n  'ẳ': 'ă3',\n  'ẵ': 'ă4',\n  'ặ': 'ă5',\n\n  'ấ': 'â1',\n  'ầ': 'â2',\n  'ẩ': 'â3',\n  'ẫ': 'â4',\n  'ậ': 'â5',\n\n  'é': 'e1',\n  'è': 'e2',\n  'ẻ': 'e3',\n  'ẽ': 'e4',\n  'ẹ': 'e5',\n\n  'ế': 'ê1',\n  'ề': 'ê2',\n  'ể': 'ê3',\n  'ễ': 'ê4',\n  'ệ': 'ê5',\n\n  'í': 'i1',\n  'ì': 'i2',\n  'ỉ': 'i3',\n  'ĩ': 'i4',\n  'ị': 'i5',\n\n  'ó': 'o1',\n  'ò': 'o2',\n  'ỏ': 'o3',\n  'õ': 'o4',\n  'ọ': 'o5',\n\n  'ớ': 'ơ1',\n  'ờ': 'ơ2',\n  'ở': 'ơ3',\n  'ỡ': 'ơ4',\n  'ợ': 'ơ5',\n\n  'ố': 'ô1',\n  'ồ': 'ô2',\n  'ổ': 'ô3',\n  'ỗ': 'ô4',\n  'ộ': 'ô5',\n\n  'ú': 'u1',\n  'ù': 'u2',\n  'ủ': 'u3',\n  'ũ': 'u4',\n  'ụ': 'u5',\n\n  'ứ': 'ư1',\n  'ừ': 'ư2',\n  'ử': 'ư3',\n  'ữ': 'ư4',\n  'ự': 'ư5',\n\n  'ý': 'y1',\n  'ỳ': 'y2',\n  'ỷ': 'y3',\n  'ỹ': 'y4',\n  'ỵ': 'y5',\n\n  // Uppercase\n  'Á': 'A1',\n  'À': 'A2',\n  'Ả': 'A3',\n  'Ã': 'A4',\n  'Ạ': 'A5',\n\n  'Ắ': 'Ă1',\n  'Ằ': 'Ă2',\n  'Ẳ': 'Ă3',\n  'Ẵ': 'Ă4',\n  'Ặ': 'Ă5',\n\n  'Ấ': 'Â1',\n  'Ầ': 'Â2',\n  'Ẩ': 'Â3',\n  'Ẫ': 'Â4',\n  'Ậ': 'Â5',\n\n  'É': 'E1',\n  'È': 'E2',\n  'Ẻ': 'E3',\n  'Ẽ': 'E4',\n  'Ẹ': 'E5',\n\n  'Ế': 'Ê1',\n  'Ề': 'Ê2',\n  'Ể': 'Ê3',\n  'Ễ': 'Ê4',\n  'Ệ': 'Ê5',\n\n  'Í': 'I1',\n  'Ì': 'I2',\n  'Ỉ': 'I3',\n  'Ĩ': 'I4',\n  'Ị': 'I5',\n\n  'Ó': 'O1',\n  'Ò': 'O2',\n  'Ỏ': 'O3',\n  'Õ': 'O4',\n  'Ọ': 'O5',\n\n  'ớ': 'ơ1',\n  'ờ': 'ơ2',\n  'ở': 'ơ3',\n  'ỡ': 'ơ4',\n  'ợ': 'ơ5',\n\n  'ố': 'ô1',\n  'ồ': 'ô2',\n  'ổ': 'ô3',\n  'ỗ': 'ô4',\n  'ộ': 'ô5',\n\n  'Ú': 'U1',\n  'Ù': 'U2',\n  'Ủ': 'U3',\n  'Ũ': 'U4',\n  'Ụ': 'U5',\n\n  'Ứ': 'Ư1',\n  'Ừ': 'Ư2',\n  'Ử': 'Ư3',\n  'Ữ': 'Ư4',\n  'Ự': 'Ư5',\n\n  'Ý': 'Y1',\n  'Ỳ': 'Y2',\n  'Ỷ': 'Y3',\n  // 'Ỹ': 'Y4',\n  // 'Ỵ': 'Y5',\n\n}\n\nconst START_OF_WORD_CONSONANT_DICTIONARY = {\n  'ph': 'f',\n  'kh': 'k',\n  'ngh': 'w',\n  'gi': 'j',\n  'gh': 'g',\n  'qu': 'q',\n\n  'Ph': 'F',\n  'Kh': 'K',\n  'Ngh': 'W',\n  'Gi': 'J',\n  'Gh': 'G',\n  'Qu': 'Q',\n\n  'k': 'c',\n  'd': 'z',\n  'đ': 'd',\n\n  'K': 'C',\n  'D': 'Z',\n  'Đ': 'D',\n}\n\nconst END_OF_WORD_CONSONANT_DICTIONARY = {\n  'ng': 'g',\n  'nh': 'h',\n  'ch': 'k'\n}\n\nconst COMPOUND_VOWELS_DICTIONARY = {\n  'id': ['iêt', 'yêt'],\n  'if': ['iêp'],\n  'is': ['iêc'],\n  'il': ['iên', 'yên'],\n  'iv': ['iêm', 'yêm'],\n  'iz': ['iêng', 'yêng'],\n  'iw': ['iêu', 'yêu'],\n\n  'yd': ['uyêt'],\n  'yl': ['uyên'],\n\n  'ud': ['uôt'],\n  'us': ['uôc'],\n  'ul': ['uôn'],\n  'uv': ['uôm'],\n  'uz': ['uông'],\n  'uj': ['uôi'],\n\n  'ưd': ['ươt'],\n  'ưf': ['ươp'],\n  'ưs': ['ươc'],\n  'ưl': ['ươn'],\n  'ưv': ['ươm'],\n  'ưz': ['ương'],\n  'ưj': ['ươi'],\n  'ưw': ['ươu'],\n\n  'ơd': ['uơt'],\n  'ơl': ['uơn'],\n\n  'âd': ['uât'],\n  'âl': ['uân'],\n  'âz': ['uâng'],\n  'âj': ['uây'],\n\n  'ăd': ['oăt'],\n  'ăs': ['oăc'],\n  'ăl': ['oăn'],\n  'ăv': ['oăm'],\n  'ăz': ['oăng'],\n\n  'ed': ['oet'],\n  'el': ['oen'],\n  'ev': ['oem'],\n  'ew': ['oeo'],\n\n  'od': ['oat'],\n  'of': ['oap'],\n  'os': ['oac'],\n  'ol': ['oan'],\n  'ov': ['oam'],\n  'oz': ['oang'],\n  'oj': ['oai'],\n  'ow': ['oao'],\n\n  'aj': ['oay'],\n\n}\n\nconst COMPOUND_VOWELS_LIST = Object.keys(COMPOUND_VOWELS_DICTIONARY);\n\nfunction invertObject (sourceObject, targetObject) {\n  Object.keys(sourceObject).forEach(function (key) {\n    targetObject[sourceObject[key]] = key\n  })\n  return targetObject\n}\n\nconst INVERTED_ACCENTIZED_DICTIONARY = invertObject(ACCENTIZED_DICTIONARY, {})\nconst INVERTED_START_OF_WORD_CONSONANT_DICTIONARY = invertObject(START_OF_WORD_CONSONANT_DICTIONARY, {})\nconst INVERTED_END_OF_WORD_CONSONANT_DICTIONARY = invertObject(END_OF_WORD_CONSONANT_DICTIONARY, {})\nconst INVERTED_TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY = invertObject(TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY, {})\n\n//\n// METHODS\n//\nfunction lex (characters) {\n  let pos = 0\n  let tokens = []\n  let hasVowel = false\n  let hasConsonant = false\n  let hasSemiAccentizedConsonant = false\n\n  while (pos < characters.length) {\n    let match = null\n    for (let i = 0; i < TOKEN_EXPRESSIONS.length; i++) {\n      const token_expr = TOKEN_EXPRESSIONS[i]\n      const pattern = token_expr[0]\n      const tag = token_expr[1]\n      const text = characters[pos]\n      match = pattern.test(text)\n      if (match) {\n        if (tag) {\n          const token = [text, tag]\n          tokens.push(token)\n        }\n        break\n      }\n    }\n\n    pos = pos + 1\n  }\n  return tokens\n}\n\nfunction unaccentize (word, inUppercaseStatus, outUppercaseStatus) {\n  let temp = []\n  let tempBeforeFirstDigit = []\n\n  // Check if have consonant at the beginning of the word\n  // for (let j = 0; j < START_OF_WORD_CONSONANT_LIST.length; j++) {\n  //   let consonant = START_OF_WORD_CONSONANT_LIST[j]\n  //   let f = word.indexOf(consonant)\n  //   if (f === 0) {  // Beginning of the word\n  //     word = word.replace(consonant, START_OF_WORD_CONSONANT_DICTIONARY[consonant])\n  //     break\n  //   }\n  // }\n\n  for (let i = 0; i < word.length; i++) {\n    let character = word[i]\n\n    if (DIGIT_REGEX.test(character) || SYMBOL_REGEX.test(character)) {\n      temp = temp.concat(tempBeforeFirstDigit)\n      tempBeforeFirstDigit = []\n    }\n\n    let found = ACCENTIZED_DICTIONARY[character]\n    if (found) {\n      if (found.length === 1) {  // Single 6 7 8 9 [ ] ^ & * ( { }\n        temp.push(found)\n        outUppercaseStatus.push(inUppercaseStatus[i])\n      }\n      else if (found.length === 2) {  // Compound\n        // Add the ACCENT_TAG to the end and before the first digit\n\n        // let found2 = ACCENTIZED_DICTIONARY[found[0]]\n        // if (found2) {// ê to 7\n        //   temp.push(found2)\n        //   outUppercaseStatus.push(inUppercaseStatus[i])\n        // }\n        // else {\n          temp.push(found[0])\n          outUppercaseStatus.push(inUppercaseStatus[i])\n        // }\n\n        tempBeforeFirstDigit.push(found[1])\n      }\n    }\n    else {\n      temp.push(character)\n    }\n  }\n\n  if (tempBeforeFirstDigit.length > 0)\n    temp = temp.concat(tempBeforeFirstDigit)\n\n  let tempWord = temp.join('')\n\n  // if (tempWord.length > \"gi\".length && tempWord.indexOf(\"gi\") === 0) {\n  //   tempWord = tempWord.replace(\"gi\", START_OF_WORD_CONSONANT_DICTIONARY[\"gi\"]);\n  // }\n\n  return tempWord\n}\n\nfunction deduplicate (word) {\n  console.log('- deduplicate', word);\n  if (word.length === 1) return word;\n\n  let wordEx = '' + word[0];\n  let hasDuplication = false;\n\n  // Start from the second character\n  for(let i = 1; i < word.length ; i++) {\n    let character = word[i];\n    let foundStartOfWordConsonant = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[character];\n    if (!hasDuplication) {\n      if (foundStartOfWordConsonant) {\n        if (wordEx.indexOf(foundStartOfWordConsonant) === 0) {\n          wordEx = wordEx.replace(foundStartOfWordConsonant, character);\n          hasDuplication = true;\n          continue;\n        }\n      } else {\n        let foundAccentizedVowel = INVERTED_ACCENTIZED_DICTIONARY[character];\n        if (foundAccentizedVowel) {\n          let previousCharacter = word[i-1];\n          if (previousCharacter && previousCharacter === foundAccentizedVowel) {\n            wordEx = wordEx.replace(previousCharacter, character);\n            hasDuplication = true;\n            continue;\n          }\n        }\n      }\n    }\n\n    wordEx += character;\n  }\n\n  return wordEx;\n}\n\nconst NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY = {\n  'ph': new RegExp(['[', A_BREVE_VARIATIONS, ']'].join(''), 'i'),\n  'k': new RegExp(['[', A_VARIATIONS, O_VARIATIONS, U_VARIATIONS, A_CIRCUMFLEX_VARIATIONS, A_BREVE_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i'),\n  'gh': new RegExp(['[', O_VARIATIONS, U_VARIATIONS, A_CIRCUMFLEX_VARIATIONS, A_BREVE_VARIATIONS, E_CIRCUMFLEX_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i'),\n  'qu': new RegExp(['[', O_VARIATIONS, U_VARIATIONS, O_CIRCUMFLEX_VARIATIONS, U_HORN_VARIATIONS, O_HORN_VARIATIONS, ']'].join(''), 'i'),\n}\n\nfunction tubinhtran_ms_parse (tokens) {\n  let tokensEx = []\n  let tokensLength = tokens.length\n  let word = tokens.map(function (token) {return token[0]}).join('')\n\n  for (let i = 0; i < tokensLength; i++) {\n    let token = tokens[i]\n    let newToken = token.slice()\n\n    if (newToken[1] === CONSONANT_TAG) {\n      // Check if this token is a START_OF_WORD_CONSONANT\n\n      if (i === 0) {\n        let foundStartOfWordConsonant = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[newToken[0]]\n\n        if (foundStartOfWordConsonant && tokensLength === 1) {\n          // else if(foundStartOfWordConsonant.length === 2 && tokensLength === 2) {\n          //   let nextToken = tokens[i + 1];\n          //   shouldAllow = nextToken && word.indexOf(foundStartOfWordConsonant) !== 0 && isValidStartOfWordConsonant(foundStartOfWordConsonant, nextToken[0]);\n          // }\n          newToken[1] = START_OF_WORD_CONSONANT_TAG;\n        }\n      }\n      // Check if this token is a END_OF_WORD_CONSONANT\n      // If it is, the previous token have to be a VOWEL\n      else if (i === tokensLength - 1) {\n        let foundEndOfWordConsonant = INVERTED_END_OF_WORD_CONSONANT_DICTIONARY[newToken[0]]\n        if (foundEndOfWordConsonant && tokens[i - 1] && tokens[i - 1][1] === VOWEL_TAG && tokens[i - 1][0] !== foundEndOfWordConsonant[0])  // xog, g -> ng, check whether \"n\" before \"g\" or not\n          newToken[1] = END_OF_WORD_CONSONANT_TAG\n      }\n    }\n    else if (newToken[1] === VOWEL_TAG) {\n\n    }\n    else if (newToken[1] === DIGIT_TAG) {\n      if (TUBINHTRAN_MS_ACCENT_KEY_REGEX.test(newToken[0]))\n        newToken[1] = ACCENT_KEY_TAG;\n      else if (INVERTED_ACCENTIZED_DICTIONARY[newToken[0]]) {\n        // let nextToken = tokens[i + 1];\n        let previousToken = tokens[i - 1];\n\n        let shouldAllow = true;\n        // if (nextToken) {\n        //\n        //   shouldAllow = false;\n        // }\n        // else\n          if (previousToken) {\n          console.log(\"@@@@@ previousToken\", previousToken);\n          if (previousToken[1] === SYMBOL_TAG || previousToken[1] === DIGIT_TAG)\n            shouldAllow = false;\n        }\n\n        if (shouldAllow)\n          newToken[1] = ONE_KEY_VOWEL_TAG;\n      }\n    }\n    else if (token[1] === SYMBOL_TAG) {\n      if (INVERTED_ACCENTIZED_DICTIONARY[newToken[0]])\n        newToken[1] = ONE_KEY_VOWEL_TAG\n    }\n    else {\n\n    }\n\n    tokensEx.push(newToken)\n  }\n\n  return tokensEx\n}\n\nfunction isValidStartOfWordConsonant (consonant, next) {\n  // next must be a VOWEL\n  let isValid = VOWEL_REGEX.test(next) || ACCENTIZED_VOWEL_REGEX.test(next) || INVERTED_TUBINHTRAN_MS_ONE_KEY_VOWEL_DICTIONARY[next] !== null\n  // if (consonant === 'k') {\n  console.log('check k', consonant, next)\n  isValid = isValid && (!NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY[consonant] || !NEXT_INVALID_VOWEL_REGEX_FOR_START_OF_WORD_CONSONANT_DICTIONARY[consonant].test(next))\n  return isValid\n}\n\nfunction finalize (tokens) {\n  let firstVowel, secondVowel, thirdVowel, lastConsonant, accentKey, accentedVowel, highPriorityVowel\n  let tokensEx = tokens.slice()\n\n  // Expose START_OF_WORD_CONSONANT, ONE_KEY_VOWEL\n  for (let i = 0; i < tokensEx.length; i++) {\n    let token = tokensEx[i]\n    if (token[1] === START_OF_WORD_CONSONANT_TAG) {\n      let startOfWordConsonantResult = INVERTED_START_OF_WORD_CONSONANT_DICTIONARY[token[0]]\n      if (startOfWordConsonantResult)\n        tokensEx = tokensEx.slice(0, i).concat(lex(startOfWordConsonantResult)).concat(tokensEx.slice(i + 1))\n    }\n    else if (token[1] === END_OF_WORD_CONSONANT_TAG) {\n      let endOfWordConsonantResult = INVERTED_END_OF_WORD_CONSONANT_DICTIONARY[token[0]]\n      if (endOfWordConsonantResult)\n        tokensEx = tokensEx.slice(0, i).concat(lex(endOfWordConsonantResult)).concat(tokensEx.slice(i + 1))\n    }\n    else if (token[1] === ONE_KEY_VOWEL_TAG) {\n      let oneKeyVowelResult = INVERTED_ACCENTIZED_DICTIONARY[token[0]]\n      if (oneKeyVowelResult)\n        tokensEx = tokensEx.slice(0, i).concat(lex(oneKeyVowelResult)).concat(tokensEx.slice(i + 1))\n    }\n  }\n\n  let tempWord = makeWord(tokensEx);\n\n  // Check COMPOUND_VOWEL\n  for(let k = 0; k < COMPOUND_VOWELS_LIST.length; k++) {\n    let compoundTerm = COMPOUND_VOWELS_LIST[k];\n    let foundInWord = tempWord.indexOf(compoundTerm);\n    if (foundInWord !== -1) {\n      console.log('@@@ compound vowels found at', foundInWord);\n      let compoundVowelResult = COMPOUND_VOWELS_DICTIONARY[compoundTerm];\n      if (compoundVowelResult.length === 2 && foundInWord === 0) {\n        compoundVowelResult = compoundVowelResult[1];\n      }\n      else {\n        compoundVowelResult = compoundVowelResult[0];\n      }\n\n      console.log('compoundVowelResult', compoundVowelResult);\n      tokensEx = tokensEx.slice(0, foundInWord).concat(lex(compoundVowelResult)).concat(tokensEx.slice(foundInWord + compoundTerm.length));\n      break;\n    }\n  }\n\n  for (let j = 0; j < tokensEx.length; j++) {\n    let token = tokensEx[j]\n\n    if (token[1] === VOWEL_TAG) {\n      if ('êơÊƠ'.indexOf(token[0]) !== -1) {\n        highPriorityVowel = [j, token]\n      }\n\n      thirdVowel = secondVowel ? [j, token] : thirdVowel\n      secondVowel = !secondVowel && firstVowel ? [j, token] : secondVowel\n      firstVowel = firstVowel ? firstVowel : [j, token]\n\n    }\n    else if (token[1] === ACCENT_KEY_TAG) {\n      accentKey = [j, token]\n    }\n    else if (token[1] === CONSONANT_TAG) {\n      lastConsonant = (firstVowel || secondVowel || thirdVowel) ? [j, token] : lastConsonant\n    }\n  }\n\n  // Accentize\n  if (highPriorityVowel && accentKey) {\n    let found = accentizeTwoTokens(highPriorityVowel[1], accentKey[1])\n    if (found) {\n      tokensEx[highPriorityVowel[0]] = found\n      tokensEx.splice(accentKey[0], 1)\n    }\n  } else if (thirdVowel && accentKey) {\n    let found = accentizeTwoTokens(secondVowel[1], accentKey[1])\n    if (found) {\n      tokensEx[secondVowel[0]] = found\n      tokensEx.splice(accentKey[0], 1)\n    }\n\n  }\n  else if (secondVowel && lastConsonant && accentKey) {\n    let found = accentizeTwoTokens(secondVowel[1], accentKey[1])\n    if (found) {\n      tokensEx[secondVowel[0]] = found\n      tokensEx.splice(accentKey[0], 1)\n    }\n  }\n  else if (firstVowel && accentKey) {\n    let specialLetter = 'gi|qu'\n    let neededTest = tokensEx[0][0] + tokensEx[1][0]\n    if (secondVowel && specialLetter.indexOf(neededTest) !== -1) {\n      let found = accentizeTwoTokens(secondVowel[1], accentKey[1])\n      if (found) {\n        tokensEx[secondVowel[0]] = found\n        tokensEx.splice(accentKey[0], 1)\n      }\n    }\n    else {\n      let found = accentizeTwoTokens(firstVowel[1], accentKey[1])\n      if (found) {\n        tokensEx[firstVowel[0]] = found\n        tokensEx.splice(accentKey[0], 1)\n      }\n    }\n\n  }\n\n  return tokensEx\n}\n\nfunction accentizeTwoTokens (vowelToken, accentToken) {\n  console.log('vowelToken', vowelToken, 'accentToken', accentToken)\n  let found = INVERTED_ACCENTIZED_DICTIONARY[vowelToken[0] + accentToken[0]]\n  return found ? [found, VOWEL_TAG] : null\n}\n\nfunction evaluate (word, uppercaseStatus) {\n  const outUppercaseStatus = [];\n\n  const unaccentizedWord = unaccentize(word, uppercaseStatus, []);\n  console.log('unaccentized 1', unaccentizedWord);\n\n  const deduplicatedWord = deduplicate(word);\n  if (deduplicatedWord.length !== word.length) {\n    return deduplicatedWord;\n  }\n\n  const unaccentizedWord2 = unaccentize(unaccentizedWord, uppercaseStatus, []);\n\n  const tokens = lex(unaccentizedWord2);\n\n  console.log('Proceed with tokens', tokens);\n  const parsed = tubinhtran_ms_parse(tokens);\n  console.log('1st parsed', parsed);\n\n  const finalized = finalize(parsed);\n  console.log('finalized', finalized);\n\n  return makeWord(finalized);\n}\n\nfunction doEvaluate (word, modifiersStatus) {\n  let uppercaseStatus = []\n  // for (let i = 0; i < word.length; i++) {\n  //   let character = word[i]\n  //   let isAnUppercaseLetter = character.toUpperCase() === character\n  //   uppercaseStatus.push(isAnUppercaseLetter)\n  //\n  //   if (i === word.length - 1) {\n  //     uppercaseStatus.push(isAnUppercaseLetter || shouldBeUppercase(modifiersStatus))\n  //   }\n  // }\n  //\n  // console.log('uppercaseStatus', uppercaseStatus)\n  if (word.trim().length === 0) return word;\n  return evaluate(word, uppercaseStatus)\n}\n\nfunction makeWord (tokens) {\n  return tokens.map(function (token) {\n    return token[0]\n  }).join('')\n}\n\nfunction shouldBeUppercase (modifiers) {\n  if (modifiers) {\n    if (modifiers.shift && modifiers.capslock) return false\n    else if (modifiers.shift || modifiers.capslock) return true\n  }\n  return false\n}\n\nif (require.main === module) {\n  console.log('Nghia dep trai')\n  // const tokens = lex('nghia');\n  // console.log('tokens', lex(unaccentize('hấ6')));\n  //\n  // const test = [\n  //   // 'a1',\n  //   // '61',\n  //   // '&1',\n  //   // 'a11',\n  //   // 'a12',\n  //   // 'á1',\n  //   // 'á2',\n  //   // 'ê6',\n  //   // '=2',\n  //   // '/1',\n  //   'hấ6',\n  //   'hoàng1',\n  //   'hòang1',\n  //   'kho',\n  //   \"đó\",\n  //   \"hẤ6\"\n  //\n  // ];\n  //\n  // test.forEach(function (t) {\n  //   console.log(t, unaccentize(t));\n  // })\n\n  // evaluate('a1');\n  // evaluate('6');\n  // evaluate('h6');\n  // evaluate('xong');\n  // evaluate('qah');\n  // evaluate('qch');\n  // evaluate('qa1');\n  // console.log(doEvaluate('h616'));\n  // console.log(doEvaluate('â6'));\n  // console.log(doEvaluate('â66666'));\n  // console.log(doEvaluate('kc'));\n  // console.log(doEvaluate('hâ1'));\n  // console.log(doEvaluate('h6666'));\n  // console.log(doEvaluate('h^1'));\n  // console.log(doEvaluate('8i2'));\n  // console.log(doEvaluate('co'));\n  // console.log(doEvaluate('cin'))\n  console.log(doEvaluate('phid1'))\n\n}\n\nmodule.exports = {\n  lex,\n  unaccentize,\n  deduplicate,\n  makeWord,\n  doEvaluate\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/skey/skey-ex.js"],"sourceRoot":""}