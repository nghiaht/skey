webpackJsonp([35783957827783],{7:function(t,e,r){(function(t){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return o(this,t,e,r)}function o(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?_(t,e,r,n):"string"==typeof e?c(t,e,r):h(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,r,n){return s(e),e<=0?$(t,e):void 0!==r?"string"==typeof n?$(t,e).fill(r,n):$(t,e).fill(r):$(t,e)}function u(t,e){if(s(e),t=$(t,e<0?0:0|d(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,r);t=$(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=$(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function _(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=f(t,e),t}function h(t,e){if(a.isBuffer(e)){var r=0|d(e.length);return t=$(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?$(t,0):f(t,e);if("Buffer"===e.type&&Q(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function p(t){return+t!=t&&(t=0),a.alloc(+t)}function y(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){function $(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,o=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,s/=2,r/=2}var l;if(i){var u=-1;for(l=r;l<o;l++)if($(t,l)===$(e,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*a}else u!==-1&&(l-=l-u),u=-1}else for(r+s>o&&(r=o-s),l=r;l>=0;l--){for(var c=!0,f=0;f<s;f++)if($(t,l+f)!==$(e,f)){c=!1;break}if(c)return l}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var $=e.length;if($%2!==0)throw new TypeError("Invalid hex string");n>$/2&&(n=$/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[r+a]=o}return a}function E(t,e,r,n){return K(G(e,t.length-r),t,r,n)}function k(t,e,r,n){return K(Y(e),t,r,n)}function x(t,e,r,n){return k(t,e,r,n)}function A(t,e,r,n){return K(X(e),t,r,n)}function O(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function M(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var $=t[i],a=null,o=$>239?4:$>223?3:$>191?2:1;if(i+o<=r){var s,l,u,c;switch(o){case 1:$<128&&(a=$);break;case 2:s=t[i+1],128===(192&s)&&(c=(31&$)<<6|63&s,c>127&&(a=c));break;case 3:s=t[i+1],l=t[i+2],128===(192&s)&&128===(192&l)&&(c=(15&$)<<12|(63&s)<<6|63&l,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:s=t[i+1],l=t[i+2],u=t[i+3],128===(192&s)&&128===(192&l)&&128===(192&u)&&(c=(15&$)<<18|(63&s)<<12|(63&l)<<6|63&u,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return T(n)}function T(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",$=e;$<r;++$)i+=H(t[$]);return i}function N(t,e,r){for(var n=t.slice(e,r),i="",$=0;$<n.length;$+=2)i+=String.fromCharCode(n[$]+256*n[$+1]);return i}function z(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,$){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<$)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,$=Math.min(t.length-r,2);i<$;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function q(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,$=Math.min(t.length-r,4);i<$;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,$){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,i){return i||D(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return i||D(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,r,n,52,8),r+8}function j(t){if(t=U(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var r,n=t.length,i=null,$=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&$.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&$.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&$.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&$.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;$.push(r)}else if(r<2048){if((e-=2)<0)break;$.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;$.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;$.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return $}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,$=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,$.push(i),$.push(n);return $}function X(t){return J.toByteArray(j(t))}function K(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t){return t!==t}var J=r(257),Z=r(367),Q=r(113);e.Buffer=a,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return o(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return l(null,t,e,r)},a.allocUnsafe=function(t){return u(null,t)},a.allocUnsafeSlow=function(t){return u(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,$=Math.min(r,n);i<$;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var $=t[r];if(!a.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(n,i),i+=$.length}return n},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):m.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var $=i-n,o=r-e,s=Math.min($,o),l=this.slice(n,i),u=t.slice(e,r),c=0;c<s;++c)if(l[c]!==u[c]){$=l[c],o=u[c];break}return $<o?-1:o<$?1:0},a.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},a.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var $=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return k(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,r);default:if($)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var $=0;$<i;++$)n[$]=this[$+t]}return n},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=e,i=1,$=this[t+--n];n>0&&(i*=256);)$+=this[t+--n]*i;return i*=128,$>=i&&($-=Math.pow(2,8*e)),$},a.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,t,e,r,i,0)}var $=1,a=0;for(this[e]=255&t;++a<r&&($*=256);)this[e+a]=t/$&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,t,e,r,i,0)}var $=r-1,a=1;for(this[e+$]=255&t;--$>=0&&(a*=256);)this[e+$]=t/a&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var $=0,a=1,o=0;for(this[e]=255&t;++$<r&&(a*=256);)t<0&&0===o&&0!==this[e+$-1]&&(o=1),this[e+$]=(t/a>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var $=r-1,a=1,o=0;for(this[e+$]=255&t;--$>=0&&(a*=256);)t<0&&0===o&&0!==this[e+$+1]&&(o=1),this[e+$]=(t/a>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,$=n-r;if(this===t&&r<e&&e<n)for(i=$-1;i>=0;--i)t[i+e]=this[i+r];else if($<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<$;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+$),e);return $},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var $;if("number"==typeof t)for($=e;$<r;++$)this[$]=t;else{var o=a.isBuffer(t)?t:G(new a(t,n).toString()),s=o.length;for($=0;$<r-e;++$)this[$+e]=o[$%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},506:function(t,e){},15:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function $(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function a(){d&&_&&(d=!1,_.length?h=_.concat(h):p=-1,h.length&&o())}function o(){if(!d){var t=i(a);d=!0;for(var e=h.length;e;){for(_=h,h=[];++p<e;)_&&_[p].run();p=-1,e=h.length}_=null,d=!1,$(t)}}function s(t,e){this.fun=t,this.array=e}function l(){}var u,c,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(t){u=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var _,h=[],d=!1,p=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new s(t,e)),1!==h.length||d||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},17:function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,r){return a(t,e,r)}var $=r(7),a=$.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=$:(n($,e),e.Buffer=i),n(a,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=a(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return $.SlowBuffer(t)}},28:function(t,e,r){"use strict";function n(t){return this instanceof n?(l.call(this,t),u.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick($,this)}function $(t){t.end()}var a=r(71),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=n;var s=r(52);s.inherits=r(8);var l=r(212),u=r(141);s.inherits(n,l);for(var c=o(u.prototype),f=0;f<c.length;f++){var _=c[f];n.prototype[_]||(n.prototype[_]=u.prototype[_])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},45:function(t,e,r){function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=r(17).Buffer;n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,$=t.length,a=this._len,o=0;o<$;){for(var s=a%n,l=Math.min($-o,n-s),u=0;u<l;u++)r[s+u]=t[o+u];a+=l,o+=l,a%n===0&&this._update(r)}return this._len+=$,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var $=this._hash();return t?$.toString(t):$},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},52:function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===p(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function $(t){return null==t}function a(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t){return"symbol"==typeof t}function l(t){return void 0===t}function u(t){return"[object RegExp]"===p(t)}function c(t){return"object"==typeof t&&null!==t}function f(t){return"[object Date]"===p(t)}function _(t){return"[object Error]"===p(t)||t instanceof Error}function h(t){return"function"==typeof t}function d(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function p(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=$,e.isNumber=a,e.isString=o,e.isSymbol=s,e.isUndefined=l,e.isRegExp=u,e.isObject=c,e.isDate=f,e.isError=_,e.isFunction=h,e.isPrimitive=d,e.isBuffer=t.isBuffer}).call(e,r(7).Buffer)},71:function(t,e,r){(function(e){"use strict";function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var $,a,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for($=new Array(o-1),a=0;a<$.length;)$[a++]=arguments[a];return e.nextTick(function(){t.apply(null,$)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(e,r(15))},78:function(t,e,r){(function(e){function r(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),$=-1;++$<n;)i.writeUInt8(t[$]^r[$],$);return i}t.exports=r}).call(e,r(7).Buffer)},106:function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function $(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,o,s,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||$(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r=this._events[t],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if($(r))for(o=Array.prototype.slice.call(arguments,1),l=r.slice(),i=l.length,s=0;s<i;s++)l[s].apply(this,o);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?$(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,$(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,a,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],a=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if($(r)){for(o=a;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},112:function(t,e,r){!function(e,r){t.exports=r()}(this,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,o=a&&a(Object);return function s(l,u,c){if("string"!=typeof u){if(o){var f=a(u);f&&f!==o&&s(l,f,c)}var _=n(u);i&&(_=_.concat(i(u)));for(var h=0;h<_.length;++h){var d=_[h];if(!(t[d]||e[d]||c&&c[d])){var p=$(u,d);try{r(l,d,p)}catch(t){}}}return l}return l}})},115:function(t,e){Opal.modules.base64=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy,a=t.hash2;return t.add_stubs(["$raise","$delete"]),function(e,o){var s,l,u,c,f,_,h,d,p,y=s=i(e,"Base64"),m=(y.$$proto,[y].concat(o)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d=t.global.btoa||function(t){for(var e,r,i=String(t),$=0,a=g,o="";i.charAt(0|$)||(a="=",$%1);o+=a.charAt(63&e>>8-$%1*8))r=i.charCodeAt($+=.75),r>255&&y.$raise(n(m,"ArgumentError"),"invalid character (failed: The string to be encoded contains characters outside of the Latin1 range.)"),e=e<<8|r;return o},p=t.global.atob||function(t){var e=String(t).replace(/=+$/,"");e.length%4==1&&y.$raise(n(m,"ArgumentError"),"invalid base64 (failed: The string to be decoded is not correctly encoded.)");for(var r,i,$=0,a=0,o="";i=e.charAt(a++);~i&&(r=$%4?64*r+i:i,$++%4)?o+=String.fromCharCode(255&r>>(-2*$&6)):0)i=g.indexOf(i);return o},t.defs(y,"$decode64",l=function(t){return p(t.replace(/\r?\n/g,""))},l.$$arity=1),t.defs(y,"$encode64",u=function(t){return d(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},u.$$arity=1),t.defs(y,"$strict_decode64",c=function(t){return p(t)},c.$$arity=1),t.defs(y,"$strict_encode64",f=function(t){
return d(t)},f.$$arity=1),t.defs(y,"$urlsafe_decode64",_=function(t){return p(t.replace(/\-/g,"+").replace(/_/g,"/"))},_.$$arity=1),t.defs(y,"$urlsafe_encode64",h=function(e,n){var i,o=r;if(null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=a([],{})}return i=n.$$smap.padding,null==i&&(i=!0),o=d(e).replace(/\+/g,"-").replace(/\//g,"_"),$(i)||(o=o.$delete("=")),o},h.$$arity=-2)}(e[0],e)}},116:function(t,e,r){r(118),r(117),r(120),r(115),r(119),r(121),Opal.require("opal"),t.exports.Opal=Opal},117:function(t,e,r){(function(t){Opal.modules["nodejs/kernel"]=function(e){var n,i,$=(e.top,[]),a=e.nil,o=(e.const_get_qualified,e.const_get_relative),s=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_str","$new","$to_s"]),e.exit=t.exit,function(t,n){var i,$,a,l=i=s(t,"Kernel"),u=(l.$$proto,[l].concat(n));e.const_set(u[0],"NODE_REQUIRE",r(375)),e.def(l,"$caller",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $;try{var a=Error("my error");throw a}catch(t){$=t.stack}return $.$split("\n").slice(3)},$.$$arity=-1),e.def(l,"$node_require",a=function(t){return o(u,"NODE_REQUIRE")(t.$to_str())},a.$$arity=1)}($[0],$),e.const_set($[0],"ARGV",t.argv.slice(2)),e.const_set($[0],"ENV",o($,"Object").$new()),e.defs(o($,"ENV"),"$[]=",n=function(t,e){return{LOGGING_LEVEL:"ERROR",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t.$to_s()]=e.$to_s()},n.$$arity=2),e.defs(o($,"ENV"),"$[]",i=function(t){return{LOGGING_LEVEL:"ERROR",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t]||a},i.$$arity=1),a&&"[]"},Opal.modules["nodejs/file"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s($,"Kernel").$raise(s($,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){_[t]||(_[t]=!0,i.$warn(t))}function n(t){try{return t()}catch(t){if(h.indexOf(t.code)>=0){var e=s($,"Errno").$const_get(t.code);throw e.$new(t.message)}throw t}}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.klass),u=t.truthy,c=t.gvars;t.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$node_require","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$delete","$match?","$sub","$attr_reader","$to_enum","$read","$chomp","$each_line"]);for(var f,_={},h=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"],d=0,p=h.length;d<p;d++)f=h[d],s($,"Errno")["$const_defined?"](f)||s($,"Errno").$const_set(f,s($,"Class").$new(s($,"SystemCallError")));return function(r,i,$){function f(){}var _,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C=f=l(r,i,"File",f),N=C.$$proto,z=[C].concat($);null==C.__fs__&&(C.__fs__=a),null==C.__path__&&(C.__path__=a),N.eof=N.path=N.fd=a,C.$include(o(o("::","IO"),"Writable")),C.$include(o(o("::","IO"),"Readable")),C.__fs__=C.$node_require("fs"),C.__path__=C.$node_require("path");var P=C.__fs__,B=C.__path__;return u(B.sep!==s(z,"Separator"))&&t.const_set(z[0],"ALT_SEPARATOR",B.sep),t.defs(C,"$read",_=function(t){return n(function(){return P.readFileSync(t).toString()})},_.$$arity=1),t.defs(C,"$write",h=function(t,e){return n(function(){return P.writeFileSync(t,e)}),e.$size()},h.$$arity=2),t.defs(C,"$exist?",d=function(t){return u(t["$respond_to?"]("path"))&&(t=t.$path()),n(function(){return P.existsSync(t)})},d.$$arity=1),t.defs(C,"$realpath",p=function(e,r,i){var $=this,o=p.$$p,s=o||a;return null==r&&(r=a),null==i&&(i=a),o&&(p.$$p=null),u(r)&&(e=$.$join(r,e)),s===a?n(function(){return P.realpathSync(e,i)}):void P.realpath(e,i,function(e,r){e?t.IOError.$new(e.message):s.$call(r)})},p.$$arity=-2),t.defs(C,"$join",y=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return B.join.apply(B,e)},y.$$arity=-1),t.defs(C,"$directory?",m=function(t){var e=this,r=a,i=a;return!!u(e["$exist?"](t))&&(r=n(function(){return!!P.lstatSync(t).isDirectory()}),u(r)||(i=e.$realpath(t),u(i["$!="](t))&&(r=n(function(){return!!P.lstatSync(i).isDirectory()}))),r)},m.$$arity=1),t.defs(C,"$file?",g=function(t){var e=this,r=a,i=a;return!!u(e["$exist?"](t))&&(r=n(function(){return!!P.lstatSync(t).isFile()}),u(r)||(i=e.$realpath(t),u(i["$!="](t))&&(r=n(function(){return!!P.lstatSync(i).isFile()}))),r)},g.$$arity=1),t.defs(C,"$readable?",v=function(t){var e=this;return!!u(e["$exist?"](t))&&"\n      try {\n        __fs__.accessSync(path, __fs__.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},v.$$arity=1),t.defs(C,"$size",b=function(t){return n(function(){return P.lstatSync(t).size})},b.$$arity=1),t.defs(C,"$open",w=function(e,r){var n=this,i=w.$$p,$=i||a,o=a;return null==r&&(r="r"),i&&(w.$$p=null),o=n.$new(e,r),$!==a?function(){try{return t.yield1($,o)}finally{o.$close()}}():o},w.$$arity=-2),t.defs(C,"$stat",E=function(t){return u(t["$respond_to?"]("path"))&&(t=t.$path()),o(s(z,"File"),"Stat").$new(t)},E.$$arity=1),t.defs(C,"$mtime",k=function(t){return n(function(){return P.statSync(t).mtime})},k.$$arity=1),t.defs(C,"$symlink?",x=function(t){return n(function(){return P.lstatSync(t).isSymbolicLink()})},x.$$arity=1),t.def(C,"$initialize",A=function(t,r){var i=this,$=a;return null==r&&(r="r"),r=r.$delete("b"),$=/:(.*)/,u($["$match?"](r))&&(e("Encoding option (:encoding) is unsupported by Node.js openSync method and will be removed."),r=r.$sub($,"")),i.path=t,i.flags=r,i.fd=n(function(){return P.openSync(t,r)})},A.$$arity=-2),C.$attr_reader("path"),t.def(C,"$read",O=function(){var t=this,e=a;return u(t.eof)?"":(e=n(function(){return P.readFileSync(t.path).toString()}),t.eof=!0,t.lineno=e.$size(),e)},O.$$arity=0),t.def(C,"$each_line",M=function(e){var r=this,n=M.$$p,i=n||a,$=a;if(null==c["/"]&&(c["/"]=a),null==e&&(e=c["/"]),n&&(M.$$p=null),u(r.eof))return function(){return i!==a?r:[].$to_enum()}();if(i!==a){$=s(z,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var o=$.$chomp(),l=$.length!=o.length,f=o.split(e),_=0,h=f.length;_<h;_++)r.lineno+=1,_<h-1||l?t.yield1(i,f[_]+e):t.yield1(i,f[_]);return r.eof=!0,r}return r.$read().$each_line()},M.$$arity=-1),t.def(C,"$write",S=function(t){var e=this;return n(function(){return P.writeSync(e.fd,t)})},S.$$arity=1),t.def(C,"$flush",T=function(){var t=this;return n(function(){return P.fsyncSync(t.fd)})},T.$$arity=0),t.def(C,"$close",R=function(){var t=this;return n(function(){return P.closeSync(t.fd)})},R.$$arity=0),t.def(C,"$mtime",I=function(){var t=this;return n(function(){return P.statSync(t.path).mtime})},I.$$arity=0),a&&"mtime"}($[0],s($,"IO"),$),function(e,r,i){function $(){}var o,s,u,c=$=l(e,r,"Stat",$),f=c.$$proto;[c].concat(i);null==c.__fs__&&(c.__fs__=a),f.path=a,c.__fs__=c.$node_require("fs");var _=c.__fs__;return t.def(c,"$initialize",o=function(t){var e=this;return e.path=t},o.$$arity=1),t.def(c,"$file?",s=function(){var t=this;return n(function(){return _.statSync(t.path).isFile()})},s.$$arity=0),t.def(c,"$mtime",u=function(){var t=this;return n(function(){return _.statSync(t.path).mtime})},u.$$arity=0),a&&"mtime"}(s($,"File"),null,$)},Opal.modules["nodejs/dir"]=function(e){var r=(e.top,[]),n=e.nil,i=(e.const_get_qualified,e.const_get_relative),$=(e.breaker,e.slice,e.klass),a=e.truthy,o=e.send;return e.add_stubs(["$node_require","$respond_to?","$flat_map","$to_path","$coerce_to!"]),function(r,s,l){function u(){}var c=u=$(r,s,"Dir",u),f=(c.$$proto,[c].concat(l));null==c.__glob__&&(c.__glob__=n),null==c.__fs__&&(c.__fs__=n),c.__glob__=c.$node_require("glob"),c.__fs__=c.$node_require("fs");var _=c.__glob__,h=c.__fs__;return function(r,$){var s,l,u,c,f,d=(r.$$proto,[r].concat($));return e.def(r,"$[]",s=function(t){return _.sync(t)},s.$$arity=1),e.def(r,"$pwd",l=function(){return t.cwd()},l.$$arity=0),e.def(r,"$mkdir",u=function(t){return h.mkdirSync(t)},u.$$arity=1),e.def(r,"$entries",c=function(t){for(var e=[],r=h.readdirSync(t),n=0,i=r.length;n<i;n++)e.push(r[n]);return e},c.$$arity=1),e.def(r,"$glob",f=function(t){var e,r=this;return a(t["$respond_to?"]("each"))||(t=[t]),o(t,"flat_map",[],(e=function(t){e.$$s||this;return null==t&&(t=n),a(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(d,"Opal")["$coerce_to!"](t,i(d,"String"),"to_str"),_.sync(t)},e.$$s=r,e.$$arity=1,e))},f.$$arity=1),e.alias(r,"getwd","pwd")}(e.get_singleton_class(c),f)}(r[0],null,r)},Opal.modules["nodejs/io"]=function(e){function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var i,$,a=e.top,o=[],s=e.nil,l=(e.const_get_qualified,e.const_get_relative),u=(e.breaker,e.slice,e.klass),c=e.lambda,f=e.send,_=s;return e.add_stubs(["$node_require","$attr_reader","$write","$read","$write_proc=","$-","$tty="]),function(t,r,i){function $(){}var a,o,c,f,_=$=u(t,r,"IO",$),h=(_.$$proto,[_].concat(i));null==_.__fs__&&(_.__fs__=s),_.__fs__=_.$node_require("fs");var d=_.__fs__;return _.$attr_reader("eof"),_.$attr_reader("lineno"),e.def(_,"$initialize",a=function(){var t=this;return t.eof=!1,t.lineno=0},a.$$arity=0),e.defs(_,"$write",o=function(t,e){return l(h,"File").$write(t,e)},o.$$arity=2),e.defs(_,"$read",c=function(t){return l(h,"File").$read(t)},c.$$arity=1),e.defs(_,"$binread",f=function(t){return n(function(){return d.readFileSync(t).toString("binary")})},f.$$arity=1),s&&"binread"}(o[0],null,o),_=[c((i=function(e){i.$$s||this;return null==e&&(e=s),t.stdout.write(e)},i.$$s=a,i.$$arity=1,i))],f(l(o,"STDOUT"),"write_proc=",e.to_a(_)),_[r(_.length,1)],_=[c(($=function(e){$.$$s||this;return null==e&&(e=s),t.stderr.write(e)},$.$$s=a,$.$$arity=1,$))],f(l(o,"STDERR"),"write_proc=",e.to_a(_)),_[r(_.length,1)],_=[!0],f(l(o,"STDOUT"),"tty=",e.to_a(_)),_[r(_.length,1)],_=[!0],f(l(o,"STDERR"),"tty=",e.to_a(_)),_[r(_.length,1)]},Opal.modules["nodejs/open-uri"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$node_require"]),function(e,i){var $,a,o=$=n(e,"OpenURI");o.$$proto,[o].concat(i);null==o.__xmlhttprequest__&&(o.__xmlhttprequest__=r),o.__xmlhttprequest__=o.$node_require("xmlhttprequest");var s=o.__xmlhttprequest__.XMLHttpRequest;t.defs(o,"$request",a=function(t){var e=new s;return e.open("GET",t,!1),e.send(),e},a.$$arity=1)}(e[0],e)},Opal.modules.nodejs=function(t){var e=t.top,r=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$require"]),function(t,e){var r,i=r=n(t,"NodeJS");i.$$proto,[i].concat(e)}(r[0],r),e.$require("nodejs/kernel"),e.$require("nodejs/file"),e.$require("nodejs/dir"),e.$require("nodejs/io"),e.$require("nodejs/open-uri")}}).call(e,r(15))},118:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,process){(function(t){function e(){}function r(){}function n(){}function i(){}function $(){}function a(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(i=t[r].$$const[e],null!=i)return i}function s(t,e){var r,n,i;if(null!=t)for(i=v.ancestors(t),r=0,n=i.length;r<n;r++)if(i[r].$$const&&w.call(i[r].$$const,e))return i[r].$$const[e]}function l(t,e){if(null==t||t.$$is_module)return s(y,e)}function u(t,e,r){if(!r)return(t||y).$const_missing(e)}function c(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;r>=0;r--)n="$"+i[r],v.bridge_method(t,e,n,e.$$proto[n])}function f(t,e){var r=e.$__id__();b[r]||(b[r]=[]),b[r].push(t)}var _,h=this;if("undefined"!=typeof global&&(h=global),"undefined"!=typeof window&&(h=window),_="object"==typeof h.console?h.console:null==h.console?h.console={}:{},"log"in _||(_.log=function(){}),"warn"in _||(_.warn=_.log),"undefined"!=typeof this.Opal)return _.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var d,p,y,m,g,v=this.Opal={},b={};v.global=h,h.Opal=v,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var w=Object.hasOwnProperty,E=(v.slice=Array.prototype.slice,4),k=E;v.uid=function(){return k+=2},v.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=v.uid())},v.gvars={},v.exit=function(t){v.gvars.DEBUG&&_.log("Exited with status "+t)},v.exceptions=[],v.pop_exception=function(){v.gvars["!"]=v.exceptions.pop()||d},v.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},v.truthy=function(t){return t!==d&&null!=t&&(!t.$$is_boolean||1==t)},v.falsy=function(t){return t===d||null==t||t.$$is_boolean&&0==t},v.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return n=a(t,e),null!=n?n:(n=u(t,e,r),null!=n?n:void 0)}},v.const_get_qualified=function(t,e,r){var n,i,$,o=v.const_cache_version;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),$=i[e],null==$||$[0]!==o?(null!=(n=a(t,e))||null!=(n=s(t,e)),i[e]=[o,n]):n=$[1],null!=n?n:u(t,e,r)}},v.const_cache_version=1,v.const_get_relative=function(t,e,r){var n,i,$,c=t[0],f=v.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),$=i[e],null==$||$[0]!==f?(null!=(n=a(c,e))||null!=(n=o(t,e))||null!=(n=s(c,e))||null!=(n=l(c,e)),i[e]=[f,n]):n=$[1],null!=n?n:u(c,e,r)},v.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=y),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==d||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,v.const_cache_version++,t===y&&(v[e]=r),r},v.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],o={};for(e&&(a=a.concat(v.ancestors(t))),e&&t.$$is_module&&(a=a.concat([v.Object]).concat(v.ancestors(v.Object))),n=0,i=a.length;n<i&&(r=a[n],t===y||r!=y);n++)for($ in r.$$const)o[$]=!0;return Object.keys(o)},v.const_remove=function(t,e){if(v.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],d;throw v.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},v.klass=function(t,e,r,n){var i,$,o;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=y),i=a(t,r)){if(!i.$$is_class)throw v.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw v.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=y),o=$||v.boot_class_alloc(r,n,e),i=v.setup_class_object(r,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,v.const_set(t,r,i),t[r]=i,$?v.bridge(i,o):e.$inherited&&e.$inherited(i),i},v.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},v.setup_module_or_class=function(t){t.$$id=v.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=d,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},v.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var $=function(){};$.prototype=new i;var a=new $;return v.setup_module_or_class(a),a.$$alloc=e,a.$$name=t||d,$.displayName="#<Class:"+(t||"#<Class:"+a.$$id+">")+">",a.$$proto=e.prototype,a.$$proto.$$class=a,a.constructor=$,a.$$is_class=!0,a.$$class=g,a},v.module=function(t,e){var r;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),r=a(t,e),null==r&&t===y&&(r=s(y,e)),r){if(!r.$$is_module&&r!==y)throw v.TypeError.$new(e+" is not a module")}else r=v.module_allocate(m),v.const_set(t,e,r);return r},v.module_initialize=function(t,e){if(e!==d){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return d},v.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r,i={};return v.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto=i,n.constructor=r,n.$$is_module=!0,n.$$class=m,n.$$super=t,n.$$parent=t,n},v.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?v.build_class_singleton_class(t):v.build_object_singleton_class(t)},v.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===p?g:v.build_class_singleton_class(t.$$super),n=v.setup_class_object(null,e,r.$$name,r.constructor),n.$$super=r,n.$$parent=r,n.$$is_singleton=!0,n.$$singleton_of=t,t.$$meta=n)},v.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=v.boot_class_alloc(r,function(){},e),i=v.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},v.class_variables=function(t){var e,r=v.ancestors(t),n=r.length,i={};for(e=n-1;e>=0;e--){var $=r[e];for(var a in $.$$cvars)i[a]=$.$$cvars[a]}return i},v.class_variable_set=function(t,e,r){var n,i=v.ancestors(t),$=i.length;for(n=$-2;n>=0;n--){var a=i[n];if(w.call(a.$$cvars,e))return a.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},v.bridge_method=function(t,e,r,n){var i,$,a,o;for(i=t.$$bridge.$ancestors(),$=0,o=i.length;$<o&&(a=i[$],!w.call(a.$$proto,r)||!a.$$proto[r]||a.$$proto[r].$$donated||a.$$proto[r].$$stub||a===e);$++)if(a===e){t.prototype[r]=n;break}},v.bridge_methods=function(t,e){var r,n=b[t.$__id__()],i=e.$__id__();if(n)for(b[i]=n.slice(),r=n.length-1;r>=0;r--)c(n[r],e)},v.has_cyclic_dep=function t(e,r,n,i){var $,a,o;for($=r.length-1;$>=0;$--)if(o=r[$],a=o.$$id,!i[a]){if(i[a]=!0,a===e)return!0;if(t(e,o[n],n,i))return!0}return!1},v.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&v.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw v.ArgumentError.$new("cyclic include detected");for(v.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),v.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,n=t.$instance_methods(),i=n.length-1;i>=0;i--)v.update_includer(t,e,"$"+n[i])},v.stubs={},v.bridge=function(t,r){if(r.$$bridge)throw v.ArgumentError.$new("already bridged");v.stub_subscribers.push(r.prototype);for(var n in v.stubs)n in r.prototype||(r.prototype[n]=v.stub_for(n));r.prototype.$$class=t,r.$$bridge=t;for(var i=t.$ancestors(),$=i.length-1;$>=0;$--)f(r,i[$]),c(r,i[$]);for(var a in e.prototype){var o=e.prototype[o];!o||!o.$$stub||a in r.prototype||(r.prototype[a]=o)}return t},v.update_includer=function(t,e,r){var n,i,$,a,o,s,l,u;if($=t.$$proto[r],n=e.$$proto,i=n[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for(a=e.$$inc,o=0,s=a.length;o<s;o++)a[o]===i.$$donated&&(l=o),a[o]===t&&(u=o);l<=u&&(n[r]=$,n[r].$$donated=t)}else n[r]=$,n[r].$$donated=t;else;e.$$included_in&&v.update_includers(e,r)},v.update_includers=function(t,e){var r,n,i,$;if($=t.$$included_in)for(r=0,n=$.length;r<n;r++)i=$[r],v.update_includer(t,i,e)},v.ancestors=function(t){for(var e,r,n,i,$=t,a=[];$;){for(a.push($),r=$.$$inc.length-1;r>=0;r--)for(e=v.ancestors($.$$inc[r]),n=0,i=e.length;n<i;n++)a.push(e[n]);$=$.$$is_singleton&&$.$$singleton_of.$$is_module?$.$$singleton_of.$$super:$.$$is_class?$.$$super:null}return a},v.add_stubs=function(t){var e,r,n,i,$,a=v.stub_subscribers,o=t.length,s=a.length,l=v.stubs;for(r=0;r<o;r++)if(i=t[r],!l.hasOwnProperty(i))for(l[i]=!0,$=v.stub_for(i),n=0;n<s;n++)e=a[n],i in e||(e[i]=$)},v.stub_subscribers=[e.prototype],v.add_stub_for=function(t,e){var r=v.stub_for(e);t[e]=r},v.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},v.ac=function(t,e,r,n){var i="";throw i+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",i+=n,v.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},v.block_ac=function(t,e,r){var n="`block in "+r+"'";throw v.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},v.find_super_dispatcher=function(t,e,r,n,i){var $,a;if($=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:v.find_obj_super_dispatcher(t,e,r),a=$["$"+e],!n&&a.$$stub&&v.Kernel.$method_missing===t.$method_missing)throw v.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return a},v.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw v.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw v.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),v.find_super_dispatcher(t,$,r,n)},v.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(n=v.find_owning_class(n,r),!n)throw new Error("could not find current class for super()");return v.find_super_func(n,"$"+e,r)},v.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},v.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},v.ret=function(t){throw v.returner.$v=t,v.returner},v.brk=function(t,e){throw e.$v=t,e},v.new_brk=function(){return new Error("unexpected break")},v.yield1=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=v.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},v.yieldX=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},v.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=v.rescue(t,n);if(i)return i}else{if(n===v.JS.Error)return n;if(n["$==="](t))return n}}return null},v.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=v.ancestors(t.$$is_class?v.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},v.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw v.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},v.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===d)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},v.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===d)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},v.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):v.hash2([],{})},v.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return v.hash2(r,n)},v.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},v.lambda=function(t){return t.$$is_lambda=!0,t},v.def=function(t,e,r){t===v.top?v.defn(v.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?v.defs(t,e,r):v.defn(t,e,r)},v.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(v.update_includers(t,e),t.$$module_function&&v.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(n)for(var i=n.length-1;i>=0;i--)v.bridge_method(n[i],t,e,r);var $=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),d},v.defs=function(t,e,r){v.defn(v.get_singleton_class(t),e,r)},v.rdef=function(t,e){if(!w.call(t.$$proto,e))throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},v.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());v.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},v.alias=function(t,e,r){var n,i="$"+e,$="$"+r,a=t.$$proto["$"+r];if(t.$$eval)return v.alias(v.get_singleton_class(t),e,r);if("function"!=typeof a||a.$$stub){for(var o=t.$$super;"function"!=typeof a&&o;)a=o[$],o=o.$$super;if("function"!=typeof a||a.$$stub)throw v.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),v.send(this,a,t,i)},n.displayName=e,n.length=a.length,n.$$arity=a.$$arity,n.$$parameters=a.$$parameters,n.$$source_location=a.$$source_location,n.$$alias_of=a,n.$$alias_name=e,v.defn(t,i,n),t},v.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw v.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return v.defn(t,n,i),t},v.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},v.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,o=$.length;i<o;i++)r=$[i],r.$$is_string?n=a[r]:(n=r.value,r=r.key),v.hash_put(e,r,n)},v.hash_put=function(e,r,n){if(r.$$is_string)return w.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,$,a;if(i=e.$$by_identity?v.id(r):r.$hash(),!w.call(e.$$map,i))return $={key:r,key_hash:i,value:n},e.$$keys.push($),void(e.$$map[i]=$);for($=e.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){a=t,$.value=n;break}a=$,$=$.next}a&&($={key:r,key_hash:i,value:n},e.$$keys.push($),a.next=$)},v.hash_get=function(t,e){if(e.$$is_string){if(w.call(t.$$smap,e))return t.$$smap[e]}else{var r,n;if(r=t.$$by_identity?v.id(e):e.$hash(),w.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}}},v.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!w.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(w.call(t.$$map,a))for(var o,s=t.$$map[a];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<$;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[a]=s.next:delete t.$$map[a],n}o=s,s=s.next}},v.hash_rehash=function(e){for(var r,n,i,$=0,a=e.$$keys.length;$<a;$++)if(!e.$$keys[$].$$is_string&&(r=e.$$keys[$].key.$hash(),r!==e.$$keys[$].key_hash)){for(n=e.$$map[e.$$keys[$].key_hash],i=t;n;){if(n===e.$$keys[$]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[$].key_hash]=n.next:delete e.$$map[e.$$keys[$].key_hash];break}i=n,n=n.next}if(e.$$keys[$].key_hash=r,w.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[$]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[$])}else e.$$map[r]=e.$$keys[$]}},v.hash=function(){var t,e,r,n,i,$,a=arguments.length;if(1===a&&arguments[0].$$is_hash)return arguments[0];if(e=new v.Hash.$$alloc,v.hash_init(e),1===a&&arguments[0].$$is_array){for(t=arguments[0],n=t.length,r=0;r<n;r++){if(2!==t[r].length)throw v.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],v.hash_put(e,i,$)}return e}if(1===a){t=arguments[0];for(i in t)w.call(t,i)&&($=t[i],v.hash_put(e,i,$));return e}if(a%2!==0)throw v.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<a;r+=2)i=arguments[r],$=arguments[r+1],v.hash_put(e,i,$);return e},v.hash2=function(t,e){var r=new v.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},v.range=function(t,e,r){var n=new v.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},v.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},v.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(t){var e,r,n=[],i="/";"."!==v.current_dir&&(t=v.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/^\.\//,""),t=t.replace(/\.(rb|opal|js)$/,""),e=t.split(i);for(var $=0,a=e.length;$<a;$++)r=e[$],""!==r&&(".."===r?n.pop():n.push(r));return n.join(i)},v.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=v.normalize(t[e]),v.require_table[n])return;v.loaded_features.push(n),v.require_table[n]=!0}},v.load=function(t){t=v.normalize(t),v.loaded([t]);var e=v.modules[t];if(e)e(v);else{var r=v.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw v.LoadError?v.LoadError.$new(n):n;"warning"===r&&_.warn("WARNING: LoadError: "+n)}return!0},v.require=function(t){return t=v.normalize(t),!v.require_table[t]&&v.load(t)},v.boot_class_alloc("BasicObject",e),v.boot_class_alloc("Object",r,e),v.boot_class_alloc("Module",i,r),v.boot_class_alloc("Class",n,i),v.BasicObject=p=v.setup_class_object("BasicObject",e,"Class",n),v.Object=y=v.setup_class_object("Object",r,"BasicObject",p.constructor),v.Module=m=v.setup_class_object("Module",i,"Object",y.constructor),v.Class=g=v.setup_class_object("Class",n,"Module",m.constructor),p.$$const.BasicObject=p,v.const_set(y,"BasicObject",p),v.const_set(y,"Object",y),v.const_set(y,"Module",m),v.const_set(y,"Class",g),p.$$class=g,y.$$class=g,m.$$class=g,g.$$class=g,p.$$super=null,y.$$super=p,m.$$super=y,g.$$super=m,p.$$parent=null,y.$$parent=p,m.$$parent=y,g.$$parent=m,y.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},y.$$proto.$require=v.require,v.$$=y.$$,v.top=new y.$$alloc,v.top.$to_s=v.top.$inspect=function(){return"main"},v.klass(y,y,"NilClass",$),d=v.nil=new $,d.$$id=E,d.call=d.apply=function(){throw v.LocalJumpError.$new("no block given")},v.breaker=new Error("unexpected break (old)"),v.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,a){var o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w=o=i(e,"Opal"),E=(w.$$proto,[w].concat(a));t.defs(w,"$bridge",s=function(e,r){return t.bridge(e,r)},s.$$arity=2),t.defs(w,"$type_error",l=function(t,e,i,a){var o;return null==i&&(i=r),null==a&&(a=r),$($(o=i)?a:o)?n(E,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+a.$class()+")"):n(E,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e);
},l.$$arity=-3),t.defs(w,"$coerce_to",u=function(t,e,r){var n=this;return $(e["$==="](t))?t:($(t["$respond_to?"](r))||n.$raise(n.$type_error(t,e)),t.$__send__(r))},u.$$arity=3),t.defs(w,"$coerce_to!",c=function(t,e,n){var i=this,a=r;return a=i.$coerce_to(t,e,n),$(e["$==="](a))||i.$raise(i.$type_error(t,e,n,a)),a},c.$$arity=3),t.defs(w,"$coerce_to?",f=function(t,e,n){var i=this,a=r;return $(t["$respond_to?"](n))?(a=i.$coerce_to(t,e,n),$(a["$nil?"]())?r:($(e["$==="](a))||i.$raise(i.$type_error(t,e,n,a)),a)):r},f.$$arity=3),t.defs(w,"$try_convert",_=function(t,e,n){return $(e["$==="](t))?t:$(t["$respond_to?"](n))?t.$__send__(n):r},_.$$arity=3),t.defs(w,"$compare",h=function(t,e){var i=this,a=r;return a=t["$<=>"](e),$(a===r)&&i.$raise(n(E,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),a},h.$$arity=2),t.defs(w,"$destructure",d=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},d.$$arity=1),t.defs(w,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(w,"$inspect_obj",y=function(e){return t.inspect(e)},y.$$arity=1),t.defs(w,"$instance_variable_name!",m=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||e.$raise(n(E,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(w,"$class_variable_name!",g=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(t.length<3||"@@"!==t.slice(0,2))&&e.$raise(n(E,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),t.defs(w,"$const_name!",v=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&e.$raise(n(E,"NameError"),"wrong constant name "+t),t},v.$$arity=1),t.defs(w,"$pristine",b=function(t,e){var n,i=arguments.length,$=i-1;$<0&&($=0),n=new Array($);for(var a=1;a<i;a++)n[a-1]=arguments[a];for(var o,s,l=n.length-1;l>=0;l--)o=n[l],s=t.$$proto["$"+o],s&&!s.$$stub&&(s.$$pristine=!0);return r},b.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_extend_object_42,TMP_Module_method_added_43,TMP_Module_method_removed_44,TMP_Module_method_undefined_45,TMP_Module_module_eval_46,TMP_Module_module_exec_48,TMP_Module_method_defined$q_49,TMP_Module_module_function_50,TMP_Module_name_51,TMP_Module_remove_const_52,TMP_Module_to_s_53,TMP_Module_undef_method_54,TMP_Module_instance_variables_55,TMP_Module_dup_56,TMP_Module_copy_class_variables_57,TMP_Module_copy_constants_58;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t,e=this;return t=Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,r=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,r)},TMP_Module_initialize_2.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module");var r,n,i,$=e;if($===t)return!1;for(n=0,r=Opal.ancestors(e),i=r.length;n<i;n++)if(r[n]===t)return!0;for(n=0,r=Opal.ancestors(t),i=r.length;n<i;n++)if(r[n]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_lt(r,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_gt(r,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,r=nil;return e===t?0:$truthy($$($nesting,"Module")["$==="](t))?(r=$rb_lt(e,t),$truthy(r["$nil?"]())?nil:$truthy(r)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var r=this;return Opal.alias(r,t,e),r},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var r=this;return null==e&&(e=t),Opal.alias_native(r,t,e),r},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return $send(r,"attr_reader",Opal.to_a(e)),$send(r,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s,u=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(u);a[u]=nil,c.$$parameters=[],c.$$arity=0,r.$$is_singleton?a.constructor.prototype[l]=c:Opal.defn(r,l,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],l="$"+s+"=",u=Opal.ivar(s),c=function(t){return function(e){return this[t]=e}}(u);c.$$parameters=[["req"]],c.$$arity=1,a[u]=nil,r.$$is_singleton?a.constructor.prototype[l]=c:Opal.defn(r,l,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){var r=this;return null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=$$($nesting,"Opal")["$class_variable_name!"](t);var r=Opal.class_variables(e)[t];return null==r&&e.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),r},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var r=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(r,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var r,n,i,$=(e.$$nesting||[]).concat(Opal.Object),a={};for(n=0,i=$.length;n<i;n++)for(r in $[n].$$const)a[r]=!0;return Object.keys(a)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var t=this;return t.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){var r=this;null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,i,$,a=[r];for(e&&(a=a.concat(Opal.ancestors(r)),r.$$is_module&&(a=a.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,$=a.length;i<$;i++)if(n=a[i],null!=n.$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(t.indexOf("::")!=-1&&"::"!=t)?$send(t.$split("::"),"inject",[n],(r=function(t,e){r.$$s||this;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},r.$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,r=nil;if(e.$$autoload){var n=e.$$autoload[t];if(n)return e.$require(n),e.$const_get(t)}return r=function(){return e["$=="]($$($nesting,"Object"))?t:""+e+"::"+t}(),e.$raise($$($nesting,"NameError").$new("uninitialized constant "+r,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r,n=this;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(n,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_31=function(t,e){var r,n,i=this,$=TMP_Module_define_method_31.$$p,a=$||nil,o=nil;$&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&a===nil)&&i.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),a=$truthy(r=a)?r:function(){return o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda((n=function(t){var r,i=n.$$s||this,$=nil,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<a;s++)r[s-0]=arguments[s];return $=e.$bind(i),$send($,"call",Opal.to_a(r))},n.$$s=i,n.$$arity=-1,n)):i.$raise($$($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Proc/Method)")}();var s="$"+t;return a.$$jsid=t,a.$$s=null,a.$$def=a,a.$$define_meth=!0,Opal.defn(i,s,a),t},TMP_Module_define_method_31.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)Opal.rdef(r,"$"+e[a]);return r},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var t=this;return!!t.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--){var o=e[a];o.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(r),o.$included(r)}return r},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,r=function(t){for(var e=[],n=0,i=t.$$inc.length;n<i;n++){var $=t.$$inc[n];e.push($),e=e.concat(r($))}return e};if(t=r(e),e.$$is_class)for(var n=e;n;n=n.$$super)t=t.concat(r(n));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,i,$=Opal.ancestors(e);for(r=0,n=$.length;r<n;r++)if(i=$[r],i===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var r,n=[],i=e.$$proto;for(var $ in i)if("$"===$.charAt(0)&&"$"!==$.charAt(1)&&(r=i[$],"function"==typeof r&&!r.$$stub)){if(!e.$$is_module){if(e!==Opal.BasicObject&&r===Opal.BasicObject.$$proto[$])continue;if(!t&&!i.hasOwnProperty($))continue;if(!t&&r.$$donated)continue}n.push($.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_42=function(t){return nil},TMP_Module_extend_object_42.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_43=function(t){return nil},TMP_Module_method_added_43.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_44=function(t){return nil},TMP_Module_method_removed_44.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_45=function(t){return nil},TMP_Module_method_undefined_45.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_46=function $$module_eval($a_rest){var $b,TMP_47,self=this,args,$iter=TMP_Module_module_eval_46.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_46.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_47=function(){var self=TMP_47.$$s||this;return function(self){return eval(compiled)}(self)},TMP_47.$$s=self,TMP_47.$$arity=0,TMP_47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),""+("wrong number of arguments ("+args.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_48=function(t){var e,r=this,n=TMP_Module_module_exec_48.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];n&&(TMP_Module_module_exec_48.$$p=null),i===nil&&r.$raise($$($nesting,"LocalJumpError"),"no block given");var s,l=i.$$s;return i.$$s=null,s=i.apply(r,e),i.$$s=l,s},TMP_Module_module_exec_48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_49=function(t){var e=this,r=e.$$proto["$"+t];return!!r&&!r.$$stub},TMP_Module_method_defined$q_49.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_50=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(0===e.length)r.$$module_function=!0;else for(var a=0,o=e.length;a<o;a++){var s=e[a],l="$"+s,u=r.$$proto[l];Opal.defs(r,l,u)}return r},TMP_Module_module_function_50.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_51=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],r=t;r;){if(r.$$name===nil||null==r.$$name)return nil;if(e.unshift(r.$$name),r=r.$$base_module,r===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_51.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_52=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_52.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_53=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_53.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_54=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)Opal.udef(r,"$"+e[a]);return r},TMP_Module_undef_method_54.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_55=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!e["$include?"](n)&&r.push("@"+n);return r},TMP_Module_instance_variables_55.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_56=function(){var t=this,e=TMP_Module_dup_56.$$p,r=nil,n=nil,i=nil,$=nil;for(e&&(TMP_Module_dup_56.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return r=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_56,!1),n,e),r.$copy_class_variables(t),r.$copy_constants(t),r},TMP_Module_dup_56.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_57=function(t){var e=this;for(var r in t.$$cvars)e.$$cvars[r]=t.$$cvars[r]},TMP_Module_copy_class_variables_57.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_58=function(t){var e,r=this,n=t.$$const;for(e in n)Opal.const_set(r,e,n[e])},TMP_Module_copy_constants_58.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function s(){}var l,u,c,f,_,h,d,p=s=$(e,r,"Class",s),y=(p.$$proto,[p].concat(o));return t.defs(p,"$new",l=function(e){var r=l.$$p,$=r||n;if(null==e&&(e=i(y,"Object")),r&&(l.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.boot_class_alloc(null,function(){},e),o=t.setup_class_object(null,a,e.$$name,e.constructor);return o.$$super=e,o.$$parent=e,e.$inherited(o),t.module_initialize(o,$),o},l.$$arity=-1),t.def(p,"$allocate",u=function(){var e=this,r=new e.$$alloc;return r.$$id=t.uid(),r},u.$$arity=0),t.def(p,"$inherited",c=function(t){return n},c.$$arity=1),t.def(p,"$initialize_dup",f=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},f.$$arity=1),t.def(p,"$new",_=function(e){var r,i=this,$=_.$$p,a=$||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];$&&(_.$$p=null);var u=i.$allocate();return t.send(u,u.$initialize,r,a),u},_.$$arity=-1),t.def(p,"$superclass",h=function(){var t=this;return t.$$super||n},h.$$arity=0),t.def(p,"$to_s",d=function(){var e=this,r=d.$$p;r&&(d.$$p=null);var n=e.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":a(e,t.find_super_dispatcher(e,"to_s",d,!1),[],null)},d.$$arity=0),n&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){var e=this;return e===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){var e=this;return e["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=this,i=TMP_BasicObject___send___5.$$p,$=i||nil,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var l=n["$"+t];return l?($!==nil&&(l.$$p=$),l.apply(n,r)):($!==nil&&(n.$method_missing.$$p=$),n.$method_missing.apply(n,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){var e=this;return e["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=this,n=TMP_BasicObject_instance_exec_10.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var s,l=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{s=i.apply(r,e)}finally{r.$$eval=!1}}else s=i.apply(r,e);return i.$$s=l,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var r,n=this,i=TMP_BasicObject_method_missing_14.$$p,$=nil,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];return i&&(TMP_BasicObject_method_missing_14.$$p=null),$=function(){return $truthy(n.$inspect&&!n.$inspect.$$stub)?"undefined method `"+t+"' for "+n.$inspect()+":"+n.$$class:"undefined method `"+t+"' for "+n.$$class}(),$$$("::","Kernel").$raise($$$("::","NoMethodError").$new($,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.module),o=t.truthy,s=t.gvars,l=t.hash2,u=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt=f=a(r,"Kernel"),xt=(kt.$$proto,[kt].concat(c));t.def(kt,"$method_missing",_=function(t,e){var r,n=this,i=_.$$p,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];return i&&(_.$$p=null),n.$raise($(xt,"NoMethodError").$new("undefined method `"+t+"' for "+n.$inspect(),t,r))},_.$$arity=-2),t.def(kt,"$=~",h=function(t){return!1},h.$$arity=1),t.def(kt,"$!~",d=function(t){var e=this;return e["$=~"](t)["$!"]()},d.$$arity=1),t.def(kt,"$===",p=function(t){var e,r=this;return o(e=r.$object_id()["$=="](t.$object_id()))?e:r["$=="](t)},p.$$arity=1),t.def(kt,"$<=>",y=function(t){var e=this;e.$$comparable=!0;var r=e["$=="](t);return r&&r!==n?0:n},y.$$arity=1),t.def(kt,"$method",m=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise($(xt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),$(xt,"Method").$new(e,r.$$owner||e.$class(),r,t)},m.$$arity=1),t.def(kt,"$methods",g=function(e){var r=this;null==e&&(e=!0);var i=[];for(var $ in r)if("$"==$[0]&&"function"==typeof r[$]){if((0==e||e===n)&&!t.hasOwnProperty.call(r,$))continue;void 0===r[$].$$stub&&i.push($.substr(1))}return i},g.$$arity=-1),t.alias(kt,"public_methods","methods"),t.def(kt,"$Array",v=function(t){var e;return t===n?[]:t.$$is_array?t:(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"Array"),"to_ary"),e!==n?e:(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"Array"),"to_a"),e!==n?e:[t]))},v.$$arity=1),t.def(kt,"$at_exit",b=function(){var t,e=b.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(b.$$p=null),s.__at_exit__=o(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},b.$$arity=0),t.def(kt,"$caller",w=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},w.$$arity=-1),t.def(kt,"$class",E=function(){var t=this;return t.$$class},E.$$arity=0),t.def(kt,"$copy_instance_variables",k=function(t){var e,r,n,i=this,$=Object.keys(t);for(e=0,r=$.length;e<r;e++)n=$[e],"$"!==n.charAt(0)&&t.hasOwnProperty(n)&&(i[n]=t[n])},k.$$arity=1),t.def(kt,"$copy_singleton_methods",x=function(e){var r,n=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,$=t.get_singleton_class(n).$$proto;for(r in i)"$"===r.charAt(0)&&i.hasOwnProperty(r)&&($[r]=i[r])}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(n[r]=e[r])},x.$$arity=1),t.def(kt,"$clone",A=function(e){var r,i=this,$=n;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=l([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),$=i.$class().$allocate(),$.$copy_instance_variables(i),$.$copy_singleton_methods(i),$.$initialize_clone(i),$},A.$$arity=-1),t.def(kt,"$initialize_clone",O=function(t){var e=this;return e.$initialize_copy(t)},O.$$arity=1),t.def(kt,"$define_singleton_method",M=function(t,e){var r=this,i=M.$$p,$=i||n;return i&&(M.$$p=null),
u(r.$singleton_class(),"define_method",[t,e],$.$to_proc())},M.$$arity=-2),t.def(kt,"$dup",S=function(){var t=this,e=n;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$initialize_dup(t),e},S.$$arity=0),t.def(kt,"$initialize_dup",T=function(t){var e=this;return e.$initialize_copy(t)},T.$$arity=1),t.def(kt,"$enum_for",R=function(e,r){var i,a=this,o=R.$$p,s=o||n;null==e&&(e="each");var l=arguments.length,c=l-1;c<0&&(c=0),i=new Array(c);for(var f=1;f<l;f++)i[f-1]=arguments[f];return o&&(R.$$p=null),u($(xt,"Enumerator"),"for",[a,e].concat(t.to_a(i)),s.$to_proc())},R.$$arity=-1),t.alias(kt,"to_enum","enum_for"),t.def(kt,"$equal?",I=function(t){var e=this;return e===t},I.$$arity=1),t.def(kt,"$exit",C=function(e){var r,i=n;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=o(r=s.__at_exit__)?r:[];!o(s.__at_exit__["$empty?"]());)i=s.__at_exit__.$pop(),i.$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),n},C.$$arity=-1),t.def(kt,"$extend",N=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=r.$singleton_class(),s=e.length-1;s>=0;s--){var l=e[s];l.$$is_module||r.$raise($(xt,"TypeError"),"wrong argument type "+l.$class()+" (expected Module)"),l.$append_features(o),l.$extend_object(r),l.$extended(r)}return r},N.$$arity=-1),t.def(kt,"$format",z=function(t,e){function r(){P&X&&p.$raise($(xt,"ArgumentError"),"flag after width"),P&V&&p.$raise($(xt,"ArgumentError"),"flag after precision")}function i(){P&X&&p.$raise($(xt,"ArgumentError"),"width given twice"),P&V&&p.$raise($(xt,"ArgumentError"),"width after precision")}function a(t){return t>=d.length&&p.$raise($(xt,"ArgumentError"),"too few arguments"),d[t]}function l(){switch(F){case-1:p.$raise($(xt,"ArgumentError"),"unnumbered("+L+") mixed with numbered");case-2:p.$raise($(xt,"ArgumentError"),"unnumbered("+L+") mixed with named")}return F=L++,a(F-1)}function u(t){return F>0&&p.$raise($(xt,"ArgumentError"),"numbered("+t+") after unnumbered("+F+")"),F===-2&&p.$raise($(xt,"ArgumentError"),"numbered("+t+") after named"),t<1&&p.$raise($(xt,"ArgumentError"),"invalid index - "+t+"$"),F=-1,a(t-1)}function c(){return void 0===z?l():z}function f(e){for(var r,n="";;w++){if(w===D&&p.$raise($(xt,"ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(w)<48||t.charCodeAt(w)>57)return w--,r=parseInt(n,10)||0,r>2147483647&&p.$raise($(xt,"ArgumentError"),""+e+" too big"),r;n+=t.charAt(w)}}function _(e){var r,n=f(e);return"$"===t.charAt(w+1)?(w++,r=u(n)):r=l(),r.$to_int()}var h,d,p=this,y=n;null==s.DEBUG&&(s.DEBUG=n);var m=arguments.length,g=m-1;g<0&&(g=0),d=new Array(g);for(var v=1;v<m;v++)d[v-1]=arguments[v];o((h=d.$length()["$=="](1))?d["$[]"](0)["$respond_to?"]("to_ary"):d.$length()["$=="](1))&&(y=$(xt,"Opal")["$coerce_to?"](d["$[]"](0),$(xt,"Array"),"to_ary"),o(y["$nil?"]())||(d=y.$to_a()));var b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B="",q=0,D=t.length,L=1,F=0,j=0,U=1,H=2,G=4,Y=8,W=16,X=32,K=64,V=128;for(w=t.indexOf("%");w!==-1;w=t.indexOf("%",w)){switch(k=void 0,P=j,A=-1,O=-1,z=void 0,b=w,w++,t.charAt(w)){case"%":q=w;case"":case"\n":case"\0":w++;continue}t:for(;w<D;w++)switch(t.charAt(w)){case" ":r(),P|=W;continue t;case"#":r(),P|=U;continue t;case"+":r(),P|=G;continue t;case"-":r(),P|=H;continue t;case"0":r(),P|=Y;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(M=f("width"),"$"===t.charAt(w+1)){if(w+2===D){k="%",w++;break t}void 0!==z&&p.$raise($(xt,"ArgumentError"),"value given twice - %"+M+"$"),z=u(M),w++}else i(),P|=X,A=M;continue t;case"<":case"{":for(T="<"===t.charAt(w)?">":"}",S="",w++;;w++){if(w===D&&p.$raise($(xt,"ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(w)===T){if(F>0&&p.$raise($(xt,"ArgumentError"),"named "+S+" after unnumbered("+F+")"),F===-1&&p.$raise($(xt,"ArgumentError"),"named "+S+" after numbered"),F=-2,void 0!==d[0]&&d[0].$$is_hash||p.$raise($(xt,"ArgumentError"),"one hash required"),z=d[0].$fetch(S),">"===T)continue t;if(k=z.toString(),O!==-1&&(k=k.slice(0,O)),P&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t}S+=t.charAt(w)}case"*":w++,i(),P|=X,A=_("width"),A<0&&(P|=H,A=-A);continue t;case".":if(P&V&&p.$raise($(xt,"ArgumentError"),"precision given twice"),P|=K|V,O=0,w++,"*"===t.charAt(w)){w++,O=_("precision"),O<0&&(P&=~K);continue t}O=f("precision");continue t;case"d":case"i":case"u":if(E=p.$Integer(c()),E>=0){for(k=E.toString();k.length<O;)k="0"+k;if(P&H)for((P&G||P&W)&&(k=(P&G?"+":" ")+k);k.length<A;)k+=" ";else if(P&Y&&O===-1){for(;k.length<A-(P&G||P&W?1:0);)k="0"+k;(P&G||P&W)&&(k=(P&G?"+":" ")+k)}else for((P&G||P&W)&&(k=(P&G?"+":" ")+k);k.length<A;)k=" "+k}else{for(k=(-E).toString();k.length<O;)k="0"+k;if(P&H)for(k="-"+k;k.length<A;)k+=" ";else if(P&Y&&O===-1){for(;k.length<A-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<A;)k=" "+k}break t;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(w)){case"b":case"B":R=2,I="0b",C=/^1+/,N="1";break;case"o":R=8,I="0",C=/^3?7+/,N="7";break;case"x":case"X":R=16,I="0x",C=/^f+/,N="f"}if(E=p.$Integer(c()),E>=0){for(k=E.toString(R);k.length<O;)k="0"+k;if(P&H)for((P&G||P&W)&&(k=(P&G?"+":" ")+k),P&U&&0!==E&&(k=I+k);k.length<A;)k+=" ";else if(P&Y&&O===-1){for(;k.length<A-(P&G||P&W?1:0)-(P&U&&0!==E?I.length:0);)k="0"+k;P&U&&0!==E&&(k=I+k),(P&G||P&W)&&(k=(P&G?"+":" ")+k)}else for(P&U&&0!==E&&(k=I+k),(P&G||P&W)&&(k=(P&G?"+":" ")+k);k.length<A;)k=" "+k}else if(P&G||P&W){for(k=(-E).toString(R);k.length<O;)k="0"+k;if(P&H)for(P&U&&(k=I+k),k="-"+k;k.length<A;)k+=" ";else if(P&Y&&O===-1){for(;k.length<A-1-(P&U?2:0);)k="0"+k;P&U&&(k=I+k),k="-"+k}else for(P&U&&(k=I+k),k="-"+k;k.length<A;)k=" "+k}else{for(k=(E>>>0).toString(R).replace(C,N);k.length<O-2;)k=N+k;if(P&H)for(k=".."+k,P&U&&(k=I+k);k.length<A;)k+=" ";else if(P&Y&&O===-1){for(;k.length<A-2-(P&U?I.length:0);)k=N+k;k=".."+k,P&U&&(k=I+k)}else for(k=".."+k,P&U&&(k=I+k);k.length<A;)k=" "+k}t.charAt(w)===t.charAt(w).toUpperCase()&&(k=k.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(E=p.$Float(c()),E>=0||isNaN(E)){if(E===1/0)k="Inf";else switch(t.charAt(w)){case"f":k=E.toFixed(O===-1?6:O);break;case"e":case"E":k=E.toExponential(O===-1?6:O);break;case"g":case"G":k=E.toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(k=E.toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for((P&G||P&W)&&(k=(P&G?"+":" ")+k);k.length<A;)k+=" ";else if(P&Y&&E!==1/0&&!isNaN(E)){for(;k.length<A-(P&G||P&W?1:0);)k="0"+k;(P&G||P&W)&&(k=(P&G?"+":" ")+k)}else for((P&G||P&W)&&(k=(P&G?"+":" ")+k);k.length<A;)k=" "+k}else{if(E===-(1/0))k="Inf";else switch(t.charAt(w)){case"f":k=(-E).toFixed(O===-1?6:O);break;case"e":case"E":k=(-E).toExponential(O===-1?6:O);break;case"g":case"G":k=(-E).toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(k=(-E).toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for(k="-"+k;k.length<A;)k+=" ";else if(P&Y&&E!==-(1/0)){for(;k.length<A-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<A;)k=" "+k}t.charAt(w)!==t.charAt(w).toUpperCase()||E===1/0||E===-(1/0)||isNaN(E)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise($(xt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(E=c(),E["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]),k=E["$respond_to?"]("to_str")?E.$to_str():String.fromCharCode($(xt,"Opal").$coerce_to(E,$(xt,"Integer"),"to_int")),1!==k.length&&p.$raise($(xt,"ArgumentError"),"%c requires a character"),P&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;case"p":if(k=c().$inspect(),O!==-1&&(k=k.slice(0,O)),P&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;case"s":if(k=c().$to_s(),O!==-1&&(k=k.slice(0,O)),P&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;default:p.$raise($(xt,"ArgumentError"),"malformed format string - %"+t.charAt(w))}void 0===k&&p.$raise($(xt,"ArgumentError"),"malformed format string - %"),B+=t.slice(q,b)+k,q=w+1}return s.DEBUG&&F>=0&&L<d.length&&p.$raise($(xt,"ArgumentError"),"too many arguments for format string"),B+t.slice(q)},z.$$arity=-2),t.def(kt,"$hash",P=function(){var t=this;return t.$__id__()},P.$$arity=0),t.def(kt,"$initialize_copy",B=function(t){return n},B.$$arity=1),t.def(kt,"$inspect",q=function(){var t=this;return t.$to_s()},q.$$arity=0),t.def(kt,"$instance_of?",D=function(t){var e=this;return t.$$is_class||t.$$is_module||e.$raise($(xt,"TypeError"),"class or module required"),e.$$class===t},D.$$arity=1),t.def(kt,"$instance_variable_defined?",L=function(e){var r=this;return e=$(xt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(r,e.substr(1))},L.$$arity=1),t.def(kt,"$instance_variable_get",F=function(e){var r=this;e=$(xt,"Opal")["$instance_variable_name!"](e);var i=r[t.ivar(e.substr(1))];return null==i?n:i},F.$$arity=1),t.def(kt,"$instance_variable_set",j=function(e,r){var n=this;return e=$(xt,"Opal")["$instance_variable_name!"](e),n[t.ivar(e.substr(1))]=r},j.$$arity=2),t.def(kt,"$remove_instance_variable",U=function(e){var r=this;e=$(xt,"Opal")["$instance_variable_name!"](e);var n,i=t.ivar(e.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):r.$raise($(xt,"NameError"),"instance variable "+e+" not defined")},U.$$arity=1),t.def(kt,"$instance_variables",H=function(){var t,e=this,r=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+t));return r},H.$$arity=0),t.def(kt,"$Integer",G=function(t,e){var r,i,a,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(e=$(xt,"Opal").$coerce_to(e,$(xt,"Integer"),"to_int"),(1===e||e<0||e>36)&&o.$raise($(xt,"ArgumentError"),"invalid radix "+e)),i=t.toLowerCase(),i=i.replace(/(\d)_(?=\d)/g,"$1"),i=i.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),e=0===e?10:e,a="0-"+(e<=10?e-1:"9a-"+String.fromCharCode(97+(e-11))),new RegExp("^\\s*[+-]?["+a+"]+\\s*$").test(i)||o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(i,e),isNaN(r)&&o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&o.$raise($(xt,"ArgumentError"),"base specified for non string value"),t===n&&o.$raise($(xt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-(1/0)||isNaN(t))&&o.$raise($(xt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int(),r!==n)?r:$(xt,"Opal")["$coerce_to!"](t,$(xt,"Integer"),"to_i"))},G.$$arity=-2),t.def(kt,"$Float",Y=function(t){var e,r=this;return t===n&&r.$raise($(xt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=t.toString(),e=e.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?r.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||r.$raise($(xt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):$(xt,"Opal")["$coerce_to!"](t,$(xt,"Float"),"to_f")},Y.$$arity=1),t.def(kt,"$Hash",W=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?l([],{}):o($(xt,"Hash")["$==="](t))?t:$(xt,"Opal")["$coerce_to!"](t,$(xt,"Hash"),"to_hash")},W.$$arity=1),t.def(kt,"$is_a?",X=function(e){var r=this;return e.$$is_class||e.$$is_module||r.$raise($(xt,"TypeError"),"class or module required"),t.is_a(r,e)},X.$$arity=1),t.def(kt,"$itself",K=function(){var t=this;return t},K.$$arity=0),t.alias(kt,"kind_of?","is_a?"),t.def(kt,"$lambda",V=function(){var e=V.$$p,r=e||n;return e&&(V.$$p=null),t.lambda(r)},V.$$arity=0),t.def(kt,"$load",J=function(e){return e=$(xt,"Opal")["$coerce_to!"](e,$(xt,"String"),"to_str"),t.load(e)},J.$$arity=1),t.def(kt,"$loop",Z=function(){var e,r=this,a=Z.$$p,s=a||n,l=n;if(a&&(Z.$$p=null),s===n)return u(r,"enum_for",["loop"],(e=function(){e.$$s||this;return i($(xt,"Float"),"INFINITY")},e.$$s=r,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(s,[])}catch(e){if(!t.rescue(e,[$(xt,"StopIteration")]))throw e;l=e;try{return l.$result()}finally{t.pop_exception()}}return r},Z.$$arity=0),t.def(kt,"$nil?",Q=function(){return!1},Q.$$arity=0),t.alias(kt,"object_id","__id__"),t.def(kt,"$printf",tt=function(e){var r,i=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return o(r["$any?"]())&&i.$print(u(i,"format",t.to_a(r))),n},tt.$$arity=-1),t.def(kt,"$proc",et=function(){var t=this,e=et.$$p,r=e||n;return e&&(et.$$p=null),o(r)||t.$raise($(xt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},et.$$arity=0),t.def(kt,"$puts",rt=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return u(s.stdout,"puts",t.to_a(r))},rt.$$arity=-1),t.def(kt,"$p",nt=function(t){var r,i,$=this,a=arguments.length,l=a-0;l<0&&(l=0),i=new Array(l);for(var c=0;c<a;c++)i[c-0]=arguments[c];return u(i,"each",[],(r=function(t){r.$$s||this;return null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())},r.$$s=$,r.$$arity=1,r)),o(e(i.$length(),1))?i["$[]"](0):i},nt.$$arity=-1),t.def(kt,"$print",it=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return u(s.stdout,"print",t.to_a(r))},it.$$arity=-1),t.def(kt,"$warn",$t=function(e){var r,i;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var $=arguments.length,a=$-0;a<0&&(a=0),i=new Array(a);for(var l=0;l<$;l++)i[l-0]=arguments[l];return o(o(r=s.VERBOSE["$nil?"]())?r:i["$empty?"]())?n:u(s.stderr,"puts",t.to_a(i))},$t.$$arity=-1),t.def(kt,"$raise",at=function(e,r,i){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==i&&(i=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=$(xt,"RuntimeError").$new():e.$$is_string?e=$(xt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"]($(xt,"Exception"))||(e=$(xt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},at.$$arity=-1),t.alias(kt,"fail","raise"),t.def(kt,"$rand",ot=function(t){return void 0===t?i($(xt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!==0&&(t=t.$to_i()),0===t&&(t=void 0)),i($(xt,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(kt,"$respond_to?",st=function(t,e){var r=this;if(null==e&&(e=!1),o(r["$respond_to_missing?"](t,e)))return!0;var n=r["$"+t];return"function"==typeof n&&!n.$$stub},st.$$arity=-2),t.def(kt,"$respond_to_missing?",lt=function(t,e){return null==e&&(e=!1),!1},lt.$$arity=-2),t.def(kt,"$require",ut=function(e){return e=$(xt,"Opal")["$coerce_to!"](e,$(xt,"String"),"to_str"),t.require(e)},ut.$$arity=1),t.def(kt,"$require_relative",ct=function(e){return $(xt,"Opal")["$try_convert!"](e,$(xt,"String"),"to_str"),e=$(xt,"File").$expand_path($(xt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.def(kt,"$require_tree",ft=function(e){var r=[];e=$(xt,"File").$expand_path(e),e=t.normalize(e),"."===e&&(e="");for(var n in t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ft.$$arity=1),t.alias(kt,"send","__send__"),t.alias(kt,"public_send","__send__"),t.def(kt,"$singleton_class",_t=function(){var e=this;return t.get_singleton_class(e)},_t.$$arity=0),t.def(kt,"$sleep",ht=function(e){var r=this;null==e&&(e=n),e===n&&r.$raise($(xt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||r.$raise($(xt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&r.$raise($(xt,"ArgumentError"),"time interval must be positive");for(var i=t.global.performance?function(){return performance.now()}:function(){return new Date},a=i();i()-a<=1e3*e;);return e},ht.$$arity=-1),t.alias(kt,"sprintf","format"),t.def(kt,"$srand",dt=function(t){return null==t&&(t=$(xt,"Random").$new_seed()),$(xt,"Random").$srand(t)},dt.$$arity=-1),t.def(kt,"$String",pt=function(t){var e;return o(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"String"),"to_str"))?e:$(xt,"Opal")["$coerce_to!"](t,$(xt,"String"),"to_s")},pt.$$arity=1),t.def(kt,"$tap",yt=function(){var e=this,r=yt.$$p,i=r||n;return r&&(yt.$$p=null),t.yield1(i,e),e},yt.$$arity=0),t.def(kt,"$to_proc",mt=function(){var t=this;return t},mt.$$arity=0),t.def(kt,"$to_s",gt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},gt.$$arity=0),t.def(kt,"$catch",vt=function(e){var r=this,i=vt.$$p,a=i||n,o=n;i&&(vt.$$p=null);try{return t.yieldX(a,[])}catch(n){if(!t.rescue(n,[$(xt,"UncaughtThrowError")]))throw n;o=n;try{return o.$sym()["$=="](e)?o.$arg():r.$raise()}finally{t.pop_exception()}}},vt.$$arity=1),t.def(kt,"$throw",bt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$raise($(xt,"UncaughtThrowError"),e)},bt.$$arity=-1),t.def(kt,"$open",wt=function(e){var r,i=wt.$$p,a=i||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];return i&&(wt.$$p=null),u($(xt,"File"),"open",t.to_a(r),a.$to_proc())},wt.$$arity=-1),t.def(kt,"$yield_self",Et=function(){var e,r=this,i=Et.$$p,$=i||n;return i&&(Et.$$p=null),$===n?u(r,"enum_for",["yield_self"],(e=function(){e.$$s||this;return 1},e.$$s=r,e.$$arity=0,e)):t.yield1($,r)},Et.$$arity=0)}(r[0],r),function(t,e,r){function n(){}var i=n=c(t,e,"Object",n),a=(i.$$proto,[i].concat(r));return i.$include($(a,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.send,s=t.truthy,l=t.module,u=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(e,r,n){function $(){}var l,u,c,f,_,h,d,p,y=$=a(e,r,"Exception",$),m=y.$$proto;[y].concat(n);m.message=i;var g;return t.defs(y,"$new",l=function(e){var r,n=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];var s=r.length>0?r[0]:i,l=new n.$$alloc(s);return l.name=n.$$name,l.message=s,t.send(l,l.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(l,g),l},l.$$arity=-1),g=y.$new,t.defs(y,"$exception",u=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return o(n,"new",t.to_a(r))},u.$$arity=-1),t.def(y,"$initialize",c=function(t){var e,r=this,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.message=e.length>0?e[0]:i},c.$$arity=-1),t.def(y,"$backtrace",f=function(){var t=this,e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},f.$$arity=0),t.def(y,"$exception",_=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var r=e.$clone();return r.message=t,r},_.$$arity=-1),t.def(y,"$message",h=function(){var t=this;return t.$to_s()},h.$$arity=0),t.def(y,"$inspect",d=function(){var t=this,e=i;return e=t.$to_s(),s(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},d.$$arity=0),t.def(y,"$to_s",p=function(){var t,e,r=this;return s(t=s(e=r.message)?r.message.$to_s():e)?t:r.$class().$to_s()},p.$$arity=0),i&&"to_s"}(n[0],Error,n),function(t,e,r){function n(){}var $=n=a(t,e,"ScriptError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SyntaxError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"LoadError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NotImplementedError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SystemExit",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NoMemoryError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SignalException",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"Interrupt",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SecurityError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"StandardError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"EncodingError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"ZeroDivisionError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NameError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NoMethodError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"NameError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"RuntimeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"FrozenError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"RuntimeError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"LocalJumpError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"TypeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"ArgumentError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"IndexError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"StopIteration",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"IndexError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"KeyError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"IndexError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"RangeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"FloatDomainError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"RangeError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"IOError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SystemCallError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(r,n){var u,c=u=l(r,"Errno"),f=(c.$$proto,[c].concat(n));!function(r,n,$){function l(){}var u,c=l=a(r,n,"EINVAL",l);c.$$proto,[c].concat($);return t.defs(c,"$new",u=function(r){var n=this,$=u.$$p,a=i;return null==r&&(r=i),$&&(u.$$p=null),a="Invalid argument",s(r)&&(a=e(a," - "+r)),o(n,t.find_super_dispatcher(n,"new",u,!1,l),[a],null)},u.$$arity=-1),i&&"new"}(f[0],$(f,"SystemCallError"),f)}(n[0],n),function(e,n,$){function l(){}var u,c=l=a(e,n,"UncaughtThrowError",l),f=c.$$proto;[c].concat($);return f.sym=i,c.$attr_reader("sym","arg"),t.def(c,"$initialize",u=function(e){var n=this,i=u.$$p;return i&&(u.$$p=null),n.sym=e["$[]"](0),s(r(e.$length(),1))&&(n.arg=e["$[]"](1)),o(n,t.find_super_dispatcher(n,"initialize",u,!1),["uncaught throw "+n.sym.$inspect()],null)},u.$$arity=1),i&&"initialize"}(n[0],$(n,"ArgumentError"),n),function(e,r,n){function $(){}var s,l=$=a(e,r,"NameError",$);l.$$proto,[l].concat(n);return l.$attr_reader("name"),t.def(l,"$initialize",s=function(e,r){var n=this,$=s.$$p;return null==r&&(r=i),$&&(s.$$p=null),o(n,t.find_super_dispatcher(n,"initialize",s,!1),[e],null),n.name=r},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(e,r,n){function $(){}var s,l=$=a(e,r,"NoMethodError",$);l.$$proto,[l].concat(n);return l.$attr_reader("args"),t.def(l,"$initialize",s=function(e,r,n){var $=this,a=s.$$p;return null==r&&(r=i),null==n&&(n=[]),a&&(s.$$p=null),o($,t.find_super_dispatcher($,"initialize",s,!1),[e,r],null),$.args=n},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(t,e,r){function n(){}var i=n=a(t,e,"StopIteration",n);i.$$proto,[i].concat(r);return i.$attr_reader("result")}(n[0],null,n),function(e,r,n){function l(){}var c,f,_,h=l=a(e,r,"KeyError",l),d=h.$$proto,p=[h].concat(n);return d.receiver=d.key=i,t.def(h,"$initialize",c=function(e,r){var n,$,a=this,s=c.$$p;if(null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=u([],{})}return n=r.$$smap.receiver,null==n&&(n=i),$=r.$$smap.key,null==$&&($=i),s&&(c.$$p=null),o(a,t.find_super_dispatcher(a,"initialize",c,!1),[e],null),a.receiver=n,a.key=$},c.$$arity=-2),t.def(h,"$receiver",f=function(){var t,e=this;return s(t=e.receiver)?t:e.$raise($(p,"ArgumentError"),"no receiver is available")},f.$$arity=0),t.def(h,"$key",_=function(){var t,e=this;return s(t=e.key)?t:e.$raise($(p,"ArgumentError"),"no key is available")},_.$$arity=0),i&&"key"}(n[0],null,n),function(t,e){var r,n=r=l(t,"JS"),$=(n.$$proto,[n].concat(e));!function(t,e,r){function n(){}var $=n=a(t,e,"Error",n);$.$$proto,[$].concat(r);return i}($[0],null,$)}(n[0],n)},Opal.modules["corelib/constants"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.hash2,o=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S=u=$(r,s,"NilClass",u),T=S.$$proto,R=[S].concat(l);return T.$$meta=S,function(e,r){var $,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",$=function(){var t=this;return t.$raise(i(a,"TypeError"),"allocator undefined for "+t.$name())},$.$$arity=0),t.udef(e,"$new"),n}(t.get_singleton_class(S),R),t.def(S,"$!",c=function(){return!0},c.$$arity=0),t.def(S,"$&",f=function(t){return!1},f.$$arity=1),t.def(S,"$|",_=function(t){return t!==!1&&t!==n},_.$$arity=1),t.def(S,"$^",h=function(t){return t!==!1&&t!==n},h.$$arity=1),t.def(S,"$==",d=function(t){return t===n},d.$$arity=1),t.def(S,"$dup",p=function(){return n},p.$$arity=0),t.def(S,"$clone",y=function(e){var r;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=a([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},y.$$arity=-1),t.def(S,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(S,"$nil?",g=function(){return!0},g.$$arity=0),t.def(S,"$singleton_class",v=function(){return i(R,"NilClass")},v.$$arity=0),t.def(S,"$to_a",b=function(){return[]},b.$$arity=0),t.def(S,"$to_h",w=function(){return t.hash()},w.$$arity=0),t.def(S,"$to_i",E=function(){return 0},E.$$arity=0),t.alias(S,"to_f","to_i"),t.def(S,"$to_s",k=function(){return""},k.$$arity=0),t.def(S,"$to_c",x=function(){return i(R,"Complex").$new(0,0)},x.$$arity=0),t.def(S,"$rationalize",A=function(t){var r,n=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return o(e(r.$length(),1))&&n.$raise(i(R,"ArgumentError")),n.$Rational(0,1)},A.$$arity=-1),t.def(S,"$to_r",O=function(){var t=this;return t.$Rational(0,1)},O.$$arity=0),t.def(S,"$instance_variables",M=function(){return[]},M.$$arity=0),n&&"instance_variables"}(r[0],null,r),t.const_set(r[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,a,o){function s(){}var l,u,c,f,_,h,d,p,y,m,g=s=i(e,a,"Boolean",s),v=g.$$proto,b=[g].concat(o);return v.$$is_boolean=!0,v.$$meta=g,function(e,i){var $,a=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",$=function(){var t=this;return t.$raise(n(a,"TypeError"),"allocator undefined for "+t.$name())},$.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(g),b),t.def(g,"$__id__",l=function(){var t=this;return t.valueOf()?2:0},l.$$arity=0),t.alias(g,"object_id","__id__"),t.def(g,"$!",u=function(){var t=this;return 1!=t},u.$$arity=0),t.def(g,"$&",c=function(t){var e=this;return 1==e&&(t!==!1&&t!==r)},c.$$arity=1),t.def(g,"$|",f=function(t){var e=this;return 1==e||t!==!1&&t!==r},f.$$arity=1),t.def(g,"$^",_=function(t){var e=this;return 1==e?t===!1||t===r:t!==!1&&t!==r},_.$$arity=1),t.def(g,"$==",h=function(t){var e=this;return 1==e===t.valueOf()},h.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.def(g,"$singleton_class",d=function(){return n(b,"Boolean")},d.$$arity=0),t.def(g,"$to_s",p=function(){var t=this;return 1==t?"true":"false"},p.$$arity=0),t.def(g,"$dup",y=function(){var t=this;return t},y.$$arity=0),t.def(g,"$clone",m=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},m.$$arity=-1),r&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var l,u,c,f,_,h,d,p,y,m=l=a(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",u=function(t){return o($(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},u.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==$(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[$(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>0},f.$$arity=1),t.def(m,"$>=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.def(m,"$<",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<0},h.$$arity=1),t.def(m,"$<=",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<=0},d.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),
t.def(m,"$clamp",y=function(t,n){var a=this,s=i;return s=t["$<=>"](n),o(s)||a.$raise($(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(g,"Comparable").$normalize(s),0))&&a.$raise($(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(g,"Comparable").$normalize(a["$<=>"](t)),0))?t:o(e($(g,"Comparable").$normalize(a["$<=>"](n)),0))?n:a},y.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.send,a=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function $(){}var a=$=i(t,e,"RegexpError",$);a.$$proto,[a].concat(n);return r}(e[0],n(e,"StandardError"),e),function(e,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v,b=u=i(e,s,"Regexp",u),w=b.$$proto,E=[b].concat(l);return t.const_set(E[0],"IGNORECASE",1),t.const_set(E[0],"EXTENDED",2),t.const_set(E[0],"MULTILINE",4),w.$$is_regexp=!0,function(e,i){var s,l,u,c,f,_=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",s=function(){var e=this,n=s.$$p,i=r,a=r,o=r,l=r;for(n&&(s.$$p=null),o=0,l=arguments.length,a=new Array(l);o<l;o++)a[o]=arguments[o];return i=$(e,t.find_super_dispatcher(e,"allocate",s,!1),a,n),i.uninitialized=!0,i},s.$$arity=0),t.def(e,"$escape",l=function(e){return t.escape_regexp(e)},l.$$arity=1),t.def(e,"$last_match",u=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),a(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},u.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function(t){var e,r=this,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];var o,s,l,u,c;if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];o=e[0].$$is_array,e.length>1&&o&&r.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),o&&(e=e[0]),u=void 0,s=[];for(var f=0;f<e.length;f++)l=e[f],l.$$is_string?s.push(r.$escape(l)):l.$$is_regexp?(c=l.$options(),void 0!=u&&u!=c&&r.$raise(n(_,"TypeError"),"All expressions must use the same options"),u=c,s.push("("+l.source+")")):s.push(r.$escape(l.$to_str()));return r.$new(s.$join("|"),u)},c.$$arity=-1),t.def(e,"$new",f=function(t,e){var r=this;if(t.$$is_regexp)return new RegExp(t);if(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&r.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var i="";n(_,"IGNORECASE")&e&&(i+="i"),n(_,"MULTILINE")&e&&(i+="m"),e=i}else e="i";return new RegExp(t,e)},f.$$arity=-2),r&&"new"}(t.get_singleton_class(b),E),t.def(b,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.def(b,"$===",f=function(t){var e=this;return e.$match(n(E,"Opal")["$coerce_to?"](t,n(E,"String"),"to_str"))!==r},f.$$arity=1),t.def(b,"$=~",_=function(t){var e,n=this;return null==o["~"]&&(o["~"]=r),a(e=n.$match(t))?o["~"].$begin(0):e},_.$$arity=1),t.alias(b,"eql?","=="),t.def(b,"$inspect",h=function(){var t=this,e=/^\/(.*)\/([^\/]*)$/,r=t.toString(),n=e.exec(r);if(n){for(var i=n[1],$=n[2],a=i.split(""),o=a.length,s=!1,l="",u=0;u<o;u++){var c=a[u];s||"/"!=c||(l=l.concat("\\")),l=l.concat(c),s="\\"==c&&!s}return"/"+l+"/"+$}return r},h.$$arity=0),t.def(b,"$match",d=function(e,i){var $=this,a=d.$$p,s=a||r;if(null==o["~"]&&(o["~"]=r),a&&(d.$$p=null),$.uninitialized&&$.$raise(n(E,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var l=$.exec(n(E,"Opal").$coerce_to(e,n(E,"String"),"to_str"));return l?(o["~"]=n(E,"MatchData").$new($,l),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(E,"Opal").$coerce_to(i,n(E,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(E,"Opal").$coerce_to(e,n(E,"String"),"to_str"),i<0&&(i+=e.length,i<0))return o["~"]=r;for(var u,c=$.source,f=$.multiline?"gm":"g",_=new RegExp(c,f+($.ignoreCase?"i":""));;){if(u=_.exec(e),null===u)return o["~"]=r;if(u.index>=i)return o["~"]=n(E,"MatchData").$new(_,u),s===r?o["~"]:t.yield1(s,o["~"]);_.lastIndex=u.index+1}},d.$$arity=-2),t.def(b,"$match?",p=function(t,e){var i=this;if(i.uninitialized&&i.$raise(n(E,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&i.test(n(E,"Opal").$coerce_to(t,n(E,"String"),"to_str"));if(e=n(E,"Opal").$coerce_to(e,n(E,"Integer"),"to_int"),t===r)return!1;if(t=n(E,"Opal").$coerce_to(t,n(E,"String"),"to_str"),e<0&&(e+=t.length,e<0))return!1;var $,a=i.source,o=i.multiline?"gm":"g",s=new RegExp(a,o+(i.ignoreCase?"i":""));return $=s.exec(t),!(null===$||$.index<e)},p.$$arity=-2),t.def(b,"$~",y=function(){var t=this;return null==o._&&(o._=r),t["$=~"](o._)},y.$$arity=0),t.def(b,"$source",m=function(){var t=this;return t.source},m.$$arity=0),t.def(b,"$options",g=function(){var t=this;t.uninitialized&&t.$raise(n(E,"TypeError"),"uninitialized Regexp");var e=0;return t.multiline&&(e|=n(E,"MULTILINE")),t.ignoreCase&&(e|=n(E,"IGNORECASE")),e},g.$$arity=0),t.def(b,"$casefold?",v=function(){var t=this;return t.ignoreCase},v.$$arity=0),t.alias(b,"to_s","source")}(e[0],RegExp,e),function(e,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v,b,w,E=u=i(e,s,"MatchData",u),k=E.$$proto,x=[E].concat(l);return k.matches=r,E.$attr_reader("post_match","pre_match","regexp","string"),t.def(E,"$initialize",c=function(t,e){var n=this;o["~"]=n,n.regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var i=0,$=e.length;i<$;i++){var a=e[i];null==a?n.matches.push(r):n.matches.push(a)}},c.$$arity=2),t.def(E,"$[]",f=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<i;o++)r[o-0]=arguments[o];return $(n.matches,"[]",t.to_a(r))},f.$$arity=-1),t.def(E,"$offset",_=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[e.begin,e.begin+e.matches[t].length]},_.$$arity=1),t.def(E,"$==",h=function(t){var e,r,i,$,o=this;return!!a(n(x,"MatchData")["$==="](t))&&(a(e=a(r=a(i=a($=o.string==t.string)?o.regexp.toString()==t.regexp.toString():$)?o.pre_match==t.pre_match:i)?o.post_match==t.post_match:r)?o.begin==t.begin:e)},h.$$arity=1),t.alias(E,"eql?","=="),t.def(E,"$begin",d=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#begin only supports 0th element"),e.begin},d.$$arity=1),t.def(E,"$end",p=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#end only supports 0th element"),e.begin+e.matches[t].length},p.$$arity=1),t.def(E,"$captures",y=function(){var t=this;return t.matches.slice(1)},y.$$arity=0),t.def(E,"$inspect",m=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),r=1,n=t.matches.length;r<n;r++)e+=" "+r+":"+t.matches[r].$inspect();return e+">"},m.$$arity=0),t.def(E,"$length",g=function(){var t=this;return t.matches.length},g.$$arity=0),t.alias(E,"size","length"),t.def(E,"$to_a",v=function(){var t=this;return t.matches},v.$$arity=0),t.def(E,"$to_s",b=function(){var t=this;return t.matches[0]},b.$$arity=0),t.def(E,"$values_at",w=function(t){var e,i=this,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];var s,l,u,c=[];for(s=0;s<e.length;s++)e[s].$$is_range&&(l=e[s].$to_a(),l.unshift(s,1),Array.prototype.splice.apply(e,l)),u=n(x,"Opal")["$coerce_to!"](e[s],n(x,"Integer"),"to_int"),u<0&&(u+=i.matches.length,u<0)?c.push(r):c.push(i.matches[u]);return c},w.$$arity=-1),r&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,c){function f(){}function _(t){function e(t){var e,r,n,i,$,o,s="",l=t.length;for(e=0;e<l;e++)if(r=t.charAt(e),"-"===r&&e>0&&e<l-1&&!n){for(i=t.charCodeAt(e-1),$=t.charCodeAt(e+1),i>$&&Ct.$raise(a(zt,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),o=i+1;o<$+1;o++)s+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),e.indexOf(n)!==-1&&(i+=n);return i}var n,i,$,o,s,l,u="",c="";for(n=0,i=t.length;n<i;n++)$=a(zt,"Opal").$coerce_to(t[n],a(zt,"String"),"to_str"),o="^"===$.charAt(0)&&$.length>1,$=e(o?$.slice(1):$),o?c=r(c,$):u=r(u,$);if(u.length>0&&c.length>0){for(l="",n=0,i=u.length;n<i;n++)s=u.charAt(n),c.indexOf(s)===-1&&(l+=s);u=l,c=""}return u.length>0?"["+a(zt,"Regexp").$escape(u)+"]":c.length>0?"[^"+a(zt,"Regexp").$escape(c)+"]":null}var h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct=f=o(n,i,"String",f),Nt=Ct.$$proto,zt=[Ct].concat(c);return Nt.length=$,Ct.$include(a(zt,"Comparable")),Nt.$$is_string=!0,t.def(Ct,"$__id__",h=function(){var t=this;return t.toString()},h.$$arity=0),t.alias(Ct,"object_id","__id__"),t.defs(Ct,"$try_convert",d=function(t){return a(zt,"Opal")["$coerce_to?"](t,a(zt,"String"),"to_str")},d.$$arity=1),t.defs(Ct,"$new",p=function(t){return null==t&&(t=""),t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),new String(t)},p.$$arity=-1),t.def(Ct,"$initialize",y=function(t){var e=this;return void 0===t?e:e.$raise(a(zt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},y.$$arity=-1),t.def(Ct,"$%",m=function(e){var r=this;return s(a(zt,"Array")["$==="](e))?l(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},m.$$arity=1),t.def(Ct,"$*",g=function(t){var e=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),t<0&&e.$raise(a(zt,"ArgumentError"),"negative argument"),0===t)return"";var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise(a(zt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&t)&&(r+=n),t>>>=1,0!==t;)n+=n;return r},g.$$arity=1),t.def(Ct,"$+",v=function(t){var e=this;return t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e+t.$to_s()},v.$$arity=1),t.def(Ct,"$<=>",b=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var r=t["$<=>"](e);return r===$?$:r>0?-1:r<0?1:0},b.$$arity=1),t.def(Ct,"$==",w=function(t){var e=this;return t.$$is_string?e.toString()===t.toString():!!a(zt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](e)},w.$$arity=1),t.alias(Ct,"eql?","=="),t.alias(Ct,"===","=="),t.def(Ct,"$=~",E=function(t){var e=this;return t.$$is_string&&e.$raise(a(zt,"TypeError"),"type mismatch: String given"),t["$=~"](e)},E.$$arity=1),t.def(Ct,"$[]",k=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=a(zt,"Opal").$coerce_to(t.end,a(zt,"Integer"),"to_int"),t=a(zt,"Opal").$coerce_to(t.begin,a(zt,"Integer"),"to_int"),Math.abs(t)>i?$:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),e-=t,e<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise(a(zt,"TypeError")),n.indexOf(t)!==-1?t:$;if(t.$$is_regexp){var o=n.match(t);return null===o?(u["~"]=$,$):(u["~"]=a(zt,"MatchData").$new(t,o),null==e?o[0]:(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&-e<o.length?o[e+=o.length]:e>=0&&e<o.length?o[e]:$))}return t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),t<0&&(t+=i),null==e?t>=i||t<0?$:n.substr(t,1):(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0?$:t>i||t<0?$:n.substr(t,e))},k.$$arity=-2),t.alias(Ct,"byteslice","[]"),t.def(Ct,"$b",x=function(){var t=this;return t.$force_encoding("binary")},x.$$arity=0),t.def(Ct,"$capitalize",A=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},A.$$arity=0),t.def(Ct,"$casecmp",O=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return $;t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},O.$$arity=1),t.def(Ct,"$casecmp?",M=function(t){var e=this,r=e.$casecmp(t);return r===$?$:0===r},M.$$arity=1),t.def(Ct,"$center",S=function(t,n){var i=this;if(null==n&&(n=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),n=a(zt,"Opal").$coerce_to(n,a(zt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=i.length))return i;var $=i.$ljust(e(r(t,i.length),2).$ceil(),n),o=i.$rjust(e(r(t,i.length),2).$floor(),n);return o+$.slice(i.length)},S.$$arity=-2),t.def(Ct,"$chars",T=function(){var t=this,e=T.$$p,r=e||$;return e&&(T.$$p=null),s(r)?l(t,"each_char",[],r.$to_proc()):t.$each_char().$to_a()},T.$$arity=0),t.def(Ct,"$chomp",R=function(t){var e=this;if(null==u["/"]&&(u["/"]=$),null==t&&(t=u["/"]),s(t===$||0===e.length))return e;if(t=a(zt,"Opal")["$coerce_to!"](t,a(zt,"String"),"to_str").$to_s(),"\n"===t)return e.replace(/\r?\n?$/,"");if(""===t)return e.replace(/(\r?\n)+$/,"");if(e.length>t.length){var r=e.substr(e.length-t.length,t.length);if(r===t)return e.substr(0,e.length-t.length)}return e},R.$$arity=-1),t.def(Ct,"$chop",I=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},I.$$arity=0),t.def(Ct,"$chr",C=function(){var t=this;return t.charAt(0)},C.$$arity=0),t.def(Ct,"$clone",N=function(){var t=this,e=$;return e=t.slice(),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},N.$$arity=0),t.def(Ct,"$dup",z=function(){var t=this,e=$;return e=t.slice(),e.$initialize_dup(t),e},z.$$arity=0),t.def(Ct,"$count",P=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];0===e.length&&r.$raise(a(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},P.$$arity=-1),t.def(Ct,"$delete",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];0===e.length&&r.$raise(a(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?r:r.replace(new RegExp(o,"g"),"")},B.$$arity=-1),t.def(Ct,"$delete_prefix",q=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.slice(0,t.length)===t?e.slice(t.length):e},q.$$arity=1),t.def(Ct,"$delete_suffix",D=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},D.$$arity=1),t.def(Ct,"$downcase",L=function(){var t=this;return t.toLowerCase()},L.$$arity=0),t.def(Ct,"$each_char",F=function(){var e,r=this,n=F.$$p,i=n||$;if(n&&(F.$$p=null),i===$)return l(r,"enum_for",["each_char"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,o=r.length;a<o;a++)t.yield1(i,r.charAt(a));return r},F.$$arity=0),t.def(Ct,"$each_line",j=function(e){var r=this,n=j.$$p,i=n||$;if(null==u["/"]&&(u["/"]=$),null==e&&(e=u["/"]),n&&(j.$$p=null),i===$)return r.$enum_for("each_line",e);if(e===$)return t.yield1(i,r),r;e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str");var o,s,l,c,f,_,h;if(0===e.length){for(o=r.split(/(\n{2,})/),s=0,l=o.length;s<l;s+=2)(o[s]||o[s+1])&&t.yield1(i,(o[s]||"")+(o[s+1]||""));return r}for(f=r.$chomp(e),_=r.length!=f.length,h=f.split(e),s=0,c=h.length;s<c;s++)s<c-1||_?t.yield1(i,h[s]+e):t.yield1(i,h[s]);return r},j.$$arity=-1),t.def(Ct,"$empty?",U=function(){var t=this;return 0===t.length},U.$$arity=0),t.def(Ct,"$end_with?",H=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=0,s=e.length;o<s;o++){var l=a(zt,"Opal").$coerce_to(e[o],a(zt,"String"),"to_str").$to_s();if(r.length>=l.length&&r.substr(r.length-l.length,l.length)==l)return!0}return!1},H.$$arity=-1),t.alias(Ct,"equal?","==="),t.def(Ct,"$gsub",G=function(t,e){var r=this,n=G.$$p,i=n||$;if(n&&(G.$$p=null),void 0===e&&i===$)return r.$enum_for("gsub",t);var o,s,l="",c=$,f=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=t.exec(r),null===o){u["~"]=$,l+=r.slice(f);break}c=a(zt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(l+=s+r.slice(f,o.index+1),t.lastIndex+=1):l+=r.slice(f,o.index)+s,f=t.lastIndex}return u["~"]=c,l},G.$$arity=-2),t.def(Ct,"$hash",Y=function(){var t=this;return t.toString()},Y.$$arity=0),t.def(Ct,"$hex",W=function(){var t=this;return t.$to_i(16)},W.$$arity=0),t.def(Ct,"$include?",X=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.indexOf(t)!==-1},X.$$arity=1),t.def(Ct,"$index",K=function(t,e){var r,n,i,o=this;if(void 0===e)e=0;else if(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&(e+=o.length,e<0))return $;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(n=i.exec(o),null===n){u["~"]=$,r=-1;break}if(n.index>=e){u["~"]=a(zt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),r=0===t.length&&e>o.length?-1:o.indexOf(t,e);return r===-1?$:r},K.$$arity=-2),t.def(Ct,"$inspect",V=function(){var t=this,e=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},n=t.replace(e,function(t){return r[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+n.replace(/\#[\$\@\{]/g,"\\$&")+'"'},V.$$arity=0),t.def(Ct,"$intern",J=function(){var t=this;return t},J.$$arity=0),t.def(Ct,"$lines",Z=function(t){var e=this,r=Z.$$p,n=r||$,i=$;return null==u["/"]&&(u["/"]=$),null==t&&(t=u["/"]),r&&(Z.$$p=null),i=l(e,"each_line",[t],n.$to_proc()),s(n)?e:i.$to_a()},Z.$$arity=-1),t.def(Ct,"$length",Q=function(){var t=this;return t.length},Q.$$arity=0),t.def(Ct,"$ljust",tt=function(t,e){var r=this;if(null==e&&(e=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},tt.$$arity=-2),t.def(Ct,"$lstrip",et=function(){var t=this;return t.replace(/^\s*/,"")},et.$$arity=0),t.def(Ct,"$ascii_only?",rt=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},rt.$$arity=0),t.def(Ct,"$match",nt=function(t,e){var r,n=this,i=nt.$$p,o=i||$;return i&&(nt.$$p=null),s(s(r=a(zt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=a(zt,"Regexp").$new(t.$to_str())),s(a(zt,"Regexp")["$==="](t))||n.$raise(a(zt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[n,e],o.$to_proc())},nt.$$arity=-2),t.def(Ct,"$next",it=function(){var t=this,e=t.length;if(0===e)return"";for(var r,n=t,i=t.search(/[a-zA-Z0-9]/),$=!1;e--;){if(r=t.charCodeAt(e),r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:$=!0,r=48;break;case 90:$=!0,r=65;break;case 122:$=!0,r=97;break;default:$=!1,r+=1}else i===-1?255===r?($=!0,r=0):($=!1,r+=1):$=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),$&&(0===e||e===i)){switch(r){case 65:break;case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),$=!1}if(!$)break}return n},it.$$arity=0),t.def(Ct,"$oct",$t=function(){var t,e=this,r=e,n=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},$t.$$arity=0),t.def(Ct,"$ord",at=function(){var t=this;return t.charCodeAt(0)},at.$$arity=0),t.def(Ct,"$partition",ot=function(t){var e,r,n=this;return t.$$is_regexp?(r=t.exec(n),null===r?e=-1:(a(zt,"MatchData").$new(t,r),t=r[0],e=r.index)):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e=n.indexOf(t)),e===-1?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},ot.$$arity=1),t.def(Ct,"$reverse",st=function(){var t=this;return t.split("").reverse().join("")},st.$$arity=0),t.def(Ct,"$rindex",lt=function(t,e){var r,n,i,o,s=this;if(void 0===e)e=s.length;else if(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&(e+=s.length,e<0))return $;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(o=i.exec(s),null===o||o.index>e)break;n=o,i.lastIndex=n.index+1}null===n?(u["~"]=$,r=-1):(a(zt,"MatchData").$new(i,n),r=n.index)}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),r=s.lastIndexOf(t,e);return r===-1?$:r},lt.$$arity=-2),t.def(Ct,"$rjust",ut=function(t,e){var r=this;if(null==e&&(e=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),$=Array(i+1).join(e),o=n-$.length;return $+e.slice(0,o)+r},ut.$$arity=-2),t.def(Ct,"$rpartition",ct=function(t){var e,r,n,i,$=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(i=n.exec($),null===i)break;r=i,n.lastIndex=r.index+1}null===r?e=-1:(a(zt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e=$.lastIndexOf(t);return e===-1?["","",$]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},ct.$$arity=1),t.def(Ct,"$rstrip",ft=function(){var t=this;return t.replace(/[\s\u0000]*$/,"")},ft.$$arity=0),t.def(Ct,"$scan",_t=function(t){var e=this,r=_t.$$p,n=r||$;r&&(_t.$$p=null);var i,o=[],s=$;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=t.exec(e));)s=a(zt,"MatchData").$new(t,i),n===$?1==i.length?o.push(i[0]):o.push(s.$captures()):1==i.length?n(i[0]):n.call(e,s.$captures()),t.lastIndex===i.index&&(t.lastIndex+=1);return u["~"]=s,n!==$?e:o},_t.$$arity=1),t.alias(Ct,"size","length"),t.alias(Ct,"slice","[]"),t.def(Ct,"$split",ht=function(t,e){var r,n=this;if(null==u[";"]&&(u[";"]=$),0===n.length)return[];if(void 0===e)e=0;else if(e=a(zt,"Opal")["$coerce_to!"](e,a(zt,"Integer"),"to_int"),1===e)return[n];void 0!==t&&t!==$||(t=s(r=u[";"])?r:" ");var i,o,l,c=[],f=n.toString(),_=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,f=f.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),c=f.split(t),1===c.length&&c[0]===f)return c;for(;(o=c.indexOf(void 0))!==-1;)c.splice(o,1);if(0===e){for(;""===c[c.length-1];)c.length-=1;return c}if(i=t.exec(f),e<0){if(null!==i&&""===i[0]&&t.source.indexOf("(?=")===-1)for(o=0,l=i.length;o<l;o++)c.push("");return c}if(null!==i&&""===i[0])return c.splice(e-1,c.length-1,c.slice(e-1).join("")),c;if(e>=c.length)return c;for(o=0;null!==i&&(o++,_=t.lastIndex,o+1!==e);)i=t.exec(f);return c.splice(e-1,c.length-1,f.slice(_)),c},ht.$$arity=-1),t.def(Ct,"$squeeze",dt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(0===e.length)return r.replace(/(.)\1+/g,"$1");var a=_(e);return null===a?r:r.replace(new RegExp("("+a+")\\1+","g"),"$1")},dt.$$arity=-1),t.def(Ct,"$start_with?",pt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=0,s=e.length;o<s;o++){var l=a(zt,"Opal").$coerce_to(e[o],a(zt,"String"),"to_str").$to_s();if(0===r.indexOf(l))return!0}return!1},pt.$$arity=-1),t.def(Ct,"$strip",yt=function(){var t=this;return t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},yt.$$arity=0),t.def(Ct,"$sub",mt=function(t,e){var r=this,n=mt.$$p,i=n||$;n&&(mt.$$p=null),t.$$is_regexp||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(u["~"]=$,r.toString()):(a(zt,"MatchData").$new(t,o),void 0===e?(i===$&&r.$raise(a(zt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str"),e=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},mt.$$arity=-2),t.alias(Ct,"succ","next"),t.def(Ct,"$sum",gt=function(t){var e=this;null==t&&(t=16),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int");for(var r=0,n=e.length,i=0;i<n;i++)r+=e.charCodeAt(i);return t<=0?r:r&Math.pow(2,t)-1},gt.$$arity=-1),t.def(Ct,"$swapcase",vt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},vt.$$arity=0),t.def(Ct,"$to_f",bt=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-(1/0)?0:e},bt.$$arity=0),t.def(Ct,"$to_i",wt=function(t){var e=this;null==t&&(t=10);var r,n=e.toLowerCase(),i=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int");return(1===i||i<0||i>36)&&e.$raise(a(zt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),r=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)},wt.$$arity=-1),t.def(Ct,"$to_proc",Et=function(){var e,r=this,n=$;return n=r.valueOf(),l(r,"proc",[],(e=function(r){var i,o,s=e.$$s||this;i=e.$$p||$,i&&(e.$$p=null);var l=arguments.length,u=l-0;u<0&&(u=0),o=new Array(u);for(var c=0;c<l;c++)o[c-0]=arguments[c];0===o.length&&s.$raise(a(zt,"ArgumentError"),"no receiver given");var f=o.shift();return null==f&&(f=$),t.send(f,n,o,i)},e.$$s=r,e.$$arity=-1,e))},Et.$$arity=0),t.def(Ct,"$to_s",kt=function(){var t=this;return t.toString()},kt.$$arity=0),t.alias(Ct,"to_str","to_s"),t.alias(Ct,"to_sym","intern"),t.def(Ct,"$tr",xt=function(t,e){var r=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s(),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),0==t.length||t===e)return r;var n,i,$,o,s,l,u,c={},f=t.split(""),_=f.length,h=e.split(""),d=h.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=h[d-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)m.push(String.fromCharCode($));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(d>0){var v=[],b=null;for(i=!1,n=0;n<d;n++)if(o=h[n],null==b)b=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==d-1?v.push("-"):i=!0;else if(i){for(s=b.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),i=null,b=null}else v.push(o);h=v,d=h.length}var w=_-d;if(w>0){var E=d>0?h[d-1]:"";for(n=0;n<w;n++)h.push(E)}for(n=0;n<_;n++)c[f[n]]=h[n]}var k="";for(n=0,u=r.length;n<u;n++){o=r.charAt(n);var x=c[o];k+=p?null==x?y:o:null!=x?x:o}return k},xt.$$arity=2),t.def(Ct,"$tr_s",At=function(t,e){var r=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s(),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),0==t.length)return r;var n,i,$,o,s,l,u,c={},f=t.split(""),_=f.length,h=e.split(""),d=h.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=h[d-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)m.push(String.fromCharCode($));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(d>0){var v=[],b=null;for(i=!1,n=0;n<d;n++)if(o=h[n],null==g)g=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==d-1?v.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),l=o.charCodeAt(0),s>l&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(l)+'" in string transliteration'),$=s+1;$<l;$++)v.push(String.fromCharCode($));v.push(o),i=null,g=null}else v.push(o);h=v,d=h.length}var w=_-d;if(w>0){var E=d>0?h[d-1]:"";for(n=0;n<w;n++)h.push(E)}for(n=0;n<_;n++)c[f[n]]=h[n]}var k="",x=null;for(n=0,u=r.length;n<u;n++){o=r.charAt(n);var A=c[o];p?null==A?null==x&&(k+=y,x=!0):(k+=o,x=null):null!=A?null!=x&&x===A||(k+=A,x=A):(k+=o,x=null)}return k},At.$$arity=2),t.def(Ct,"$upcase",Ot=function(){var t=this;return t.toUpperCase()},Ot.$$arity=0),t.def(Ct,"$upto",Mt=function(t,e){var r=this,n=Mt.$$p,i=n||$;if(null==e&&(e=!1),n&&(Mt.$$p=null),i===$)return r.$enum_for("upto",t,e);t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str");var o,s,l=r.toString();if(1===l.length&&1===t.length)for(o=l.charCodeAt(0),s=t.charCodeAt(0);o<=s&&(!e||o!==s);)i(String.fromCharCode(o)),o+=1;else if(parseInt(l,10).toString()===l&&parseInt(t,10).toString()===t)for(o=parseInt(l,10),s=parseInt(t,10);o<=s&&(!e||o!==s);)i(o.toString()),o+=1;else for(;l.length<=t.length&&l<=t&&(!e||l!==t);)i(l),l=l.$succ();return r},Mt.$$arity=-2),t.def(Ct,"$instance_variables",St=function(){return[]},St.$$arity=0),t.defs(Ct,"$_load",Tt=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return l(n,"new",t.to_a(r))},Tt.$$arity=-1),t.def(Ct,"$unpack",Rt=function(t){var e=this;
return e.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Rt.$$arity=1),t.def(Ct,"$unpack1",It=function(t){var e=this;return e.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},It.$$arity=1),$&&"unpack1"}(i[0],String,i),t.const_set(i[0],"Symbol",a(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=(t.top,[]),l=t.nil,u=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.module),_=t.truthy,h=t.send,d=t.falsy,p=t.hash2,y=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,m){function g(t){return 0===t.length&&(t=[l]),t.length>1&&(t=[t]),t}var v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt=v=f(s,"Enumerable"),pt=(dt.$$proto,[dt].concat(m));t.def(dt,"$all?",b=function(e){try{var r,n,i,$=this,a=b.$$p,o=a||l;return a&&(b.$$p=null),_(void 0!==e)?h($,"each",[],(r=function(n){var i,$=(r.$$s||this,l),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),_(h(e,"public_send",["==="].concat(t.to_a($))))?l:void t.ret(!1)},r.$$s=$,r.$$arity=-1,r)):o!==l?h($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return _(t.yieldX(o,t.to_a(r)))?l:void t.ret(!1)},n.$$s=$,n.$$arity=-1,n)):h($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return _(c(pt,"Opal").$destructure(r))?l:void t.ret(!1)},i.$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},b.$$arity=-1),t.def(dt,"$any?",w=function(e){try{var r,n,i,$=this,a=w.$$p,o=a||l;return a&&(w.$$p=null),_(void 0!==e)?h($,"each",[],(r=function(n){var i,$=(r.$$s||this,l),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),_(h(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!0):l},r.$$s=$,r.$$arity=-1,r)):o!==l?h($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!0):l},n.$$s=$,n.$$arity=-1,n)):h($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return _(c(pt,"Opal").$destructure(r))?void t.ret(!0):l},i.$$s=$,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-1),t.def(dt,"$chunk",E=function(){var e,r,n=this,i=E.$$p,$=i||l;return i&&(E.$$p=null),$===l?h(n,"to_enum",["chunk"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):h(u("::","Enumerator"),"new",[],(r=function(e){function n(){o.length>0&&e.$yield(a,o)}var i=r.$$s||this;null==e&&(e=l);var a=l,o=[];i.$each.$$p=function(e){var r=t.yield1($,e);r===l?(n(),o=[],a=l):(a===l||a===r?o.push(e):(n(),o=[e]),a=r)},i.$each(),n()},r.$$s=n,r.$$arity=1,r))},E.$$arity=0),t.def(dt,"$chunk_while",k=function(){var e,r=this,n=k.$$p,i=n||l;return n&&(k.$$p=null),i!==l||r.$raise(c(pt,"ArgumentError"),"no block given"),h(r,"slice_when",[],(e=function(r,n){e.$$s||this;return null==r&&(r=l),null==n&&(n=l),t.yieldX(i,[r,n])["$!"]()},e.$$s=r,e.$$arity=2,e))},k.$$arity=0),t.def(dt,"$collect",x=function(){var e,r=this,n=x.$$p,i=n||l;if(n&&(x.$$p=null),i===l)return h(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=t.yieldX(i,arguments);$.push(e)},r.$each(),$},x.$$arity=0),t.def(dt,"$collect_concat",A=function(){var e,r,n=this,i=A.$$p,$=i||l;return i&&(A.$$p=null),$===l?h(n,"enum_for",["collect_concat"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):h(n,"map",[],(r=function(e){r.$$s||this;return null==e&&(e=l),t.yield1($,e)},r.$$s=n,r.$$arity=1,r)).$flatten(1)},A.$$arity=0),t.def(dt,"$count",O=function(e){var r,n,i,$=this,a=O.$$p,o=a||l,s=l;return a&&(O.$$p=null),s=0,null!=e&&o!==l&&$.$warn("warning: given block not used"),_(null!=e)?o=h($,"proc",[],(r=function(t){var n,i=(r.$$s||this,arguments.length),$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];return c(pt,"Opal").$destructure(n)["$=="](e)},r.$$s=$,r.$$arity=-1,r)):_(o["$nil?"]())&&(o=h($,"proc",[],(n=function(){n.$$s||this;return!0},n.$$s=$,n.$$arity=0,n))),h($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return _(t.yieldX(o,r))?s++:l},i.$$s=$,i.$$arity=-1,i)),s},O.$$arity=-1),t.def(dt,"$cycle",M=function(n){var i,$=this,a=M.$$p,o=a||l;if(null==n&&(n=l),a&&(M.$$p=null),o===l)return h($,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return _(n["$nil?"]())?_(t["$respond_to?"]("size"))?u(c(pt,"Float"),"INFINITY"):l:(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=$,i.$$arity=0,i));if(_(n["$nil?"]()));else if(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(n<=0))return l;var s,f,d,p,y=[];if($.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(o,e);y.push(e)},$.$each(),void 0!==s)return s;if(0===y.length)return l;if(n===l)for(;;)for(f=0,d=y.length;f<d;f++)p=t.yield1(o,y[f]);else for(;n>1;){for(f=0,d=y.length;f<d;f++)p=t.yield1(o,y[f]);n--}},M.$$arity=-1),t.def(dt,"$detect",S=function(e){try{var r,n=this,i=S.$$p,$=i||l;return i&&(S.$$p=null),$===l?n.$enum_for("detect",e):(h(n,"each",[],(r=function(e){var n,i=(r.$$s||this,l),a=arguments.length,o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return i=c(pt,"Opal").$destructure(n),_(t.yield1($,i))?void t.ret(i):l},r.$$s=n,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:l)}catch(e){if(e===t.returner)return e.$v;throw e}},S.$$arity=-1),t.def(dt,"$drop",T=function(t){var e=this;t=c(pt,"Opal").$coerce_to(t,c(pt,"Integer"),"to_int"),_(t<0)&&e.$raise(c(pt,"ArgumentError"),"attempt to drop negative size");var r=[],n=0;return e.$each.$$p=function(){t<=n&&r.push(c(pt,"Opal").$destructure(arguments)),n++},e.$each(),r},T.$$arity=1),t.def(dt,"$drop_while",R=function(){var e=this,r=R.$$p,n=r||l;if(r&&(R.$$p=null),n===l)return e.$enum_for("drop_while");var i=[],$=!0;return e.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if($){var r=t.yield1(n,e);d(r)&&($=!1,i.push(e))}else i.push(e)},e.$each(),i},R.$$arity=0),t.def(dt,"$each_cons",I=function(e){var r,a=this,o=I.$$p,s=o||l;if(o&&(I.$$p=null),_(1!=arguments.length)&&a.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=c(pt,"Opal").$try_convert(e,c(pt,"Integer"),"to_int"),_(e<=0)&&a.$raise(c(pt,"ArgumentError"),"invalid size"),s===l)return h(a,"enum_for",["each_cons",e],(r=function(){var t,a=r.$$s||this,o=l;return o=a.$enumerator_size(),_(o["$nil?"]())?l:_(_(t=o["$=="](0))?t:n(o,e))?0:i($(o,e),1)},r.$$s=a,r.$$arity=0,r));var u=[],f=l;return a.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);u.push(r),u.length>e&&u.shift(),u.length==e&&t.yield1(s,u.slice(0,e))},a.$each(),f},I.$$arity=1),t.def(dt,"$each_entry",C=function(e){var r,n,i=this,$=C.$$p,a=$||l,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];return $&&(C.$$p=null),a===l?h(i,"to_enum",["each_entry"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r)):(i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(a,e)},i.$each.apply(i,n),i)},C.$$arity=-1),t.def(dt,"$each_slice",N=function(e){var r,n=this,i=N.$$p,$=i||l;if(i&&(N.$$p=null),e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<=0)&&n.$raise(c(pt,"ArgumentError"),"invalid slice size"),$===l)return h(n,"enum_for",["each_slice",e],(r=function(){var t=r.$$s||this;return _(t["$respond_to?"]("size"))?a(t.$size(),e).$ceil():l},r.$$s=n,r.$$arity=0,r));var o,s=[];return n.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);s.push(r),s.length===e&&(t.yield1($,s),s=[])},n.$each(),void 0!==o?o:(s.length>0&&t.yield1($,s),l)},N.$$arity=1),t.def(dt,"$each_with_index",z=function(e){var r,n,i=this,$=z.$$p,a=$||l,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];if($&&(z.$$p=null),a===l)return h(i,"enum_for",["each_with_index"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r));var f,_=0;return i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);a(t,_),_++},i.$each.apply(i,n),void 0!==f?f:i},z.$$arity=-1),t.def(dt,"$each_with_object",P=function(t){var e,r=this,n=P.$$p,i=n||l;if(n&&(P.$$p=null),i===l)return h(r,"enum_for",["each_with_object",t],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);i(e,t)},r.$each(),void 0!==$?$:t},P.$$arity=1),t.def(dt,"$entries",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];var a=[];return r.$each.$$p=function(){a.push(c(pt,"Opal").$destructure(arguments))},r.$each.apply(r,e),a},B.$$arity=-1),t.alias(dt,"find","detect"),t.def(dt,"$find_all",q=function(){var e,r=this,n=q.$$p,i=n||l;if(n&&(q.$$p=null),i===l)return h(r,"enum_for",["find_all"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)&&$.push(e)},r.$each(),$},q.$$arity=0),t.def(dt,"$find_index",D=function(e){try{var r,n,i=this,$=D.$$p,a=$||l,o=l;return $&&(D.$$p=null),_(void 0===e&&a===l)?i.$enum_for("find_index"):(null!=e&&a!==l&&i.$warn("warning: given block not used"),o=0,_(null!=e)?h(i,"each",[],(r=function(n){var i,$=(r.$$s||this,arguments.length),a=$-0;a<0&&(a=0),i=new Array(a);for(var s=0;s<$;s++)i[s-0]=arguments[s];return c(pt,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)):h(i,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var s=0;s<i;s++)r[s-0]=arguments[s];return _(t.yieldX(a,t.to_a(r)))&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)),l)}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=-1),t.def(dt,"$first",L=function(e){try{var r,n,i=this,$=l,a=l;return _(void 0===e)?h(i,"each",[],(r=function(e){r.$$s||this;null==e&&(e=l),t.ret(e)},r.$$s=i,r.$$arity=1,r)):($=[],e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<0)&&i.$raise(c(pt,"ArgumentError"),"attempt to take negative size"),_(0==e)?[]:(a=0,h(i,"each",[],(n=function(r){var i,o=(n.$$s||this,arguments.length),s=o-0;s<0&&(s=0),i=new Array(s);for(var u=0;u<o;u++)i[u-0]=arguments[u];return $.push(c(pt,"Opal").$destructure(i)),_(e<=++a)?void t.ret($):l},n.$$s=i,n.$$arity=-1,n)),$))}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=-1),t.alias(dt,"flat_map","collect_concat"),t.def(dt,"$grep",F=function(r){var n,i=this,$=F.$$p,a=$||l,s=l;return $&&(F.$$p=null),s=[],h(i,"each",[],(n=function(i){var $,u=(n.$$s||this,l),c=arguments.length,f=c-0;f<0&&(f=0),$=new Array(f);for(var d=0;d<c;d++)$[d-0]=arguments[d];return u=g($),_(h(r,"__send__",["==="].concat(t.to_a(u))))?(a!==l?(_(e($.$length(),1))&&($=[$]),$=t.yieldX(a,t.to_a($))):_(o($.$length(),1))&&($=$["$[]"](0)),s.$push($)):l},n.$$s=i,n.$$arity=-1,n)),s},F.$$arity=1),t.def(dt,"$grep_v",j=function(r){var n,i=this,$=j.$$p,a=$||l,s=l;return $&&(j.$$p=null),s=[],h(i,"each",[],(n=function(i){var $,u=(n.$$s||this,l),c=arguments.length,f=c-0;f<0&&(f=0),$=new Array(f);for(var d=0;d<c;d++)$[d-0]=arguments[d];return u=g($),_(h(r,"__send__",["==="].concat(t.to_a(u))))?l:(a!==l?(_(e($.$length(),1))&&($=[$]),$=t.yieldX(a,t.to_a($))):_(o($.$length(),1))&&($=$["$[]"](0)),s.$push($))},n.$$s=i,n.$$arity=-1,n)),s},j.$$arity=1),t.def(dt,"$group_by",U=function(){var e,r,n=this,i=U.$$p,a=i||l,o=l,s=l;if(i&&(U.$$p=null),a===l)return h(n,"enum_for",["group_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));o=p([],{});var u;return n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=t.yield1(a,e);(_(r=o["$[]"](n))?r:(s=[n,[]],h(o,"[]=",t.to_a(s)),s[$(s.length,1)]))["$<<"](e)},n.$each(),void 0!==u?u:o},U.$$arity=0),t.def(dt,"$include?",H=function(e){try{var r,n=this;return h(n,"each",[],(r=function(n){var i,$=(r.$$s||this,arguments.length),a=$-0;a<0&&(a=0),i=new Array(a);for(var o=0;o<$;o++)i[o-0]=arguments[o];return c(pt,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):l},r.$$s=n,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},H.$$arity=1),t.def(dt,"$inject",G=function(e,r){var n=this,i=G.$$p,$=i||l;i&&(G.$$p=null);var a=e;return $!==l&&void 0===r?n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=e):(e=t.yieldX($,[a,e]),void(a=e))}:(void 0===r&&(c(pt,"Symbol")["$==="](e)||n.$raise(c(pt,"TypeError"),""+e.$inspect()+" is not a Symbol"),r=e,a=void 0),n.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=t):void(a=a.$__send__(r,t))}),n.$each(),void 0==a?l:a},G.$$arity=-1),t.def(dt,"$lazy",Y=function(){var e,r=this;return h(u(c(pt,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var i,$=(e.$$s||this,arguments.length),a=$-1;a<0&&(a=0),i=new Array(a);for(var o=1;o<$;o++)i[o-1]=arguments[o];return null==r&&(r=l),h(r,"yield",t.to_a(i))},e.$$s=r,e.$$arity=-2,e))},Y.$$arity=0),t.def(dt,"$enumerator_size",W=function(){var t=this;return _(t["$respond_to?"]("size"))?t.$size():l},W.$$arity=0),t.alias(dt,"map","collect"),t.def(dt,"$max",X=function(e){var r=this,n=X.$$p,i=n||l;if(n&&(X.$$p=null),void 0===e||e===l){var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=e):(a=i!==l?t.yieldX(i,[e,$]):e["$<=>"]($),a===l&&r.$raise(c(pt,"ArgumentError"),"comparison failed"),void(a>0&&($=e)))},r.$each(),void 0===$?l:$}return e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),h(r,"sort",[],i.$to_proc()).$reverse().$first(e)},X.$$arity=-1),t.def(dt,"$max_by",K=function(){var e,r=this,n=K.$$p,i=n||l;if(n&&(K.$$p=null),!_(i))return h(r,"enum_for",["max_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===$?($=e,void(a=r)):void(r["$<=>"](a)>0&&($=e,a=r))},r.$each(),void 0===$?l:$},K.$$arity=0),t.alias(dt,"member?","include?"),t.def(dt,"$min",V=function(){var t=this,e=V.$$p,r=e||l;e&&(V.$$p=null);var n;return r!==l?t.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(void 0===n)return void(n=e);var i=r(e,n);i===l&&t.$raise(c(pt,"ArgumentError"),"comparison failed"),i<0&&(n=e)}:t.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===n?void(n=t):void(c(pt,"Opal").$compare(t,n)<0&&(n=t))},t.$each(),void 0===n?l:n},V.$$arity=0),t.def(dt,"$min_by",J=function(){var e,r=this,n=J.$$p,i=n||l;if(n&&(J.$$p=null),!_(i))return h(r,"enum_for",["min_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===$?($=e,void(a=r)):void(r["$<=>"](a)<0&&($=e,a=r))},r.$each(),void 0===$?l:$},J.$$arity=0),t.def(dt,"$minmax",Z=function(){var t,e,r=this,n=Z.$$p,i=n||l;n&&(Z.$$p=null),i=_(t=i)?t:h(r,"proc",[],(e=function(t,r){e.$$s||this;return null==t&&(t=l),null==r&&(r=l),t["$<=>"](r)},e.$$s=r,e.$$arity=2,e));var $=l,a=l,o=!0;return r.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);if(o)$=a=t,o=!1;else{var e=i.$call($,t);e===l?r.$raise(c(pt,"ArgumentError"),"comparison failed"):e>0&&($=t);var n=i.$call(a,t);n===l?r.$raise(c(pt,"ArgumentError"),"comparison failed"):n<0&&(a=t)}},r.$each(),[$,a]},Z.$$arity=0),t.def(dt,"$minmax_by",Q=function(){var t=this,e=Q.$$p;return e&&(Q.$$p=null),t.$raise(c(pt,"NotImplementedError"))},Q.$$arity=0),t.def(dt,"$none?",tt=function(e){try{var r,n,i,$=this,a=tt.$$p,o=a||l;return a&&(tt.$$p=null),_(void 0!==e)?h($,"each",[],(r=function(n){var i,$=(r.$$s||this,l),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),_(h(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!1):l},r.$$s=$,r.$$arity=-1,r)):o!==l?h($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!1):l},n.$$s=$,n.$$arity=-1,n)):h($,"each",[],(i=function(e){var r,n=(i.$$s||this,l),$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n=c(pt,"Opal").$destructure(r),_(n)?void t.ret(!1):l},i.$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},tt.$$arity=-1),t.def(dt,"$one?",et=function(r){try{var n,$,a,o=this,s=et.$$p,u=s||l,f=l;return s&&(et.$$p=null),f=0,_(void 0!==r)?h(o,"each",[],(n=function($){var a,o=(n.$$s||this,l),s=arguments.length,u=s-0;u<0&&(u=0),a=new Array(u);for(var c=0;c<s;c++)a[c-0]=arguments[c];return o=g(a),_(h(r,"public_send",["==="].concat(t.to_a(o))))?(f=i(f,1),_(e(f,1))?void t.ret(!1):l):l},n.$$s=o,n.$$arity=-1,n)):u!==l?h(o,"each",[],($=function(r){var n,a=($.$$s||this,arguments.length),o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return _(t.yieldX(u,t.to_a(n)))?(f=i(f,1),_(e(f,1))?void t.ret(!1):l):l},$.$$s=o,$.$$arity=-1,$)):h(o,"each",[],(a=function(r){var n,$=(a.$$s||this,arguments.length),o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return _(c(pt,"Opal").$destructure(n))?(f=i(f,1),_(e(f,1))?void t.ret(!1):l):l},a.$$s=o,a.$$arity=-1,a)),f["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},et.$$arity=-1),t.def(dt,"$partition",rt=function(){var e,r=this,n=rt.$$p,i=n||l;if(n&&(rt.$$p=null),i===l)return h(r,"enum_for",["partition"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[],a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)?$.push(e):a.push(e)},r.$each(),[$,a]},rt.$$arity=0),t.alias(dt,"reduce","inject"),t.def(dt,"$reject",nt=function(){var e,r=this,n=nt.$$p,i=n||l;if(n&&(nt.$$p=null),i===l)return h(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);d(r)&&$.push(e)},r.$each(),$},nt.$$arity=0),t.def(dt,"$reverse_each",it=function(){var e,r=this,n=it.$$p,i=n||l;if(n&&(it.$$p=null),i===l)return h(r,"enum_for",["reverse_each"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];r.$each.$$p=function(){$.push(arguments)},r.$each();for(var a=$.length-1;a>=0;a--)t.yieldX(i,$[a]);return $},it.$$arity=0),t.alias(dt,"select","find_all"),t.def(dt,"$slice_before",$t=function(e){var r,n=this,i=$t.$$p,$=i||l;return i&&($t.$$p=null),_(void 0===e&&$===l)&&n.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&$!==l||arguments.length>1)&&n.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),h(c(pt,"Enumerator"),"new",[],(r=function(n){var i=r.$$s||this;null==n&&(n=l);var a=[];$!==l?void 0===e?i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1($,e);_(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(e)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=$(t,e.$dup());_(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(t)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=e["$==="](t);_(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(t)},i.$each(),a.length>0&&n["$<<"](a)},r.$$s=n,r.$$arity=1,r))},$t.$$arity=-1),t.def(dt,"$slice_after",at=function(e){var r,n,i=this,$=at.$$p,a=$||l;return $&&(at.$$p=null),_(void 0===e&&a===l)&&i.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&a!==l||arguments.length>1)&&i.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(void 0!==e)&&(a=h(i,"proc",[],(r=function(t){r.$$s||this;return null==t&&(t=l),e["$==="](t)},r.$$s=i,r.$$arity=1,r))),h(c(pt,"Enumerator"),"new",[],(n=function(e){var r=n.$$s||this;null==e&&(e=l);var i;r.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments),n=t.yield1(a,r);null==i&&(i=[]),_(n)?(i.push(r),e.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&e.$yield(i)},n.$$s=i,n.$$arity=1,n))},at.$$arity=-1),t.def(dt,"$slice_when",ot=function(){var e,r=this,n=ot.$$p,i=n||l;return n&&(ot.$$p=null),i!==l||r.$raise(c(pt,"ArgumentError"),"wrong number of arguments (0 for 1)"),h(c(pt,"Enumerator"),"new",[],(e=function(r){var n=e.$$s||this;null==r&&(r=l);var $=l,a=l;n.$each_cons.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=e[0],o=e[1],s=t.yieldX(i,[n,o]);a=o,$===l&&($=[]),_(s)?($.push(n),r.$yield($),$=[]):$.push(n)},n.$each_cons(2),$!==l&&($.push(a),r.$yield($))},e.$$s=r,e.$$arity=1,e))},ot.$$arity=0),t.def(dt,"$sort",st=function(){var t,e=this,r=st.$$p,n=r||l,i=l;return r&&(st.$$p=null),i=e.$to_a(),n!==l||(n=y((t=function(e,r){t.$$s||this;return null==e&&(e=l),null==r&&(r=l),e["$<=>"](r)},t.$$s=e,t.$$arity=2,t))),h(i,"sort",[],n.$to_proc())},st.$$arity=0),t.def(dt,"$sort_by",lt=function(){var e,r,n,i,$=this,a=lt.$$p,o=a||l,s=l;return a&&(lt.$$p=null),o===l?h($,"enum_for",["sort_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=$,e.$$arity=0,e)):(s=h($,"map",[],(r=function(){var e=(r.$$s||this,l);return e=c(pt,"Opal").$destructure(arguments),[t.yield1(o,e),e]},r.$$s=$,r.$$arity=0,r)),h(s,"sort!",[],(n=function(t,e){n.$$s||this;return null==t&&(t=l),null==e&&(e=l),t[0]["$<=>"](e[0])},n.$$s=$,n.$$arity=2,n)),h(s,"map!",[],(i=function(t){i.$$s||this;return null==t&&(t=l),t[1]},i.$$s=$,i.$$arity=1,i)))},lt.$$arity=0),t.def(dt,"$sum",ut=function(e){var r,n=this,$=ut.$$p,a=$||l,o=l;return null==e&&(e=0),$&&(ut.$$p=null),o=e,h(n,"each",[],(r=function(e){var n,$=(r.$$s||this,l),s=arguments.length,u=s-0;u<0&&(u=0),n=new Array(u);for(var f=0;f<s;f++)n[f-0]=arguments[f];return $=function(){return a!==l?t.yieldX(a,t.to_a(n)):c(pt,"Opal").$destructure(n)}(),o=i(o,$)},r.$$s=n,r.$$arity=-1,r)),o},ut.$$arity=-1),t.def(dt,"$take",ct=function(t){var e=this;return e.$first(t)},ct.$$arity=1),t.def(dt,"$take_while",ft=function(){try{var e,r=this,n=ft.$$p,i=n||l,$=l;return n&&(ft.$$p=null),_(i)?($=[],h(r,"each",[],(e=function(r){var n,a=(e.$$s||this,l),o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];return a=c(pt,"Opal").$destructure(n),_(t.yield1(i,a))||t.ret($),$.push(a)},e.$$s=r,e.$$arity=-1,e))):r.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},ft.$$arity=0),t.def(dt,"$uniq",_t=function(){var e,r=this,n=_t.$$p,i=n||l,a=l;return n&&(_t.$$p=null),a=p([],{}),h(r,"each",[],(e=function(r){var n,o=(e.$$s||this,l),s=l,u=l,f=arguments.length,d=f-0;d<0&&(d=0),n=new Array(d);for(var p=0;p<f;p++)n[p-0]=arguments[p];return o=c(pt,"Opal").$destructure(n),s=function(){return i!==l?t.yield1(i,o):o}(),_(a["$key?"](s))?l:(u=[s,o],h(a,"[]=",t.to_a(u)),u[$(u.length,1)])},e.$$s=r,e.$$arity=-1,e)),a.$values()},_t.$$arity=0),t.alias(dt,"to_a","entries"),t.def(dt,"$zip",ht=function(e){var r,n=this,i=ht.$$p,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i&&(ht.$$p=null),h(n.$to_a(),"zip",t.to_a(r))},ht.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=t.breaker,s=t.slice,l=t.klass,u=t.truthy,c=t.send,f=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,_){function h(){}var d,p,y,m,g,v,b=h=l(n,i,"Enumerator",h),w=b.$$proto,E=[b].concat(_);return w.size=w.args=w.object=w.method=$,b.$include(a(E,"Enumerable")),w.$$is_enumerator=!0,t.defs(b,"$for",d=function(t,e,r){var n,i=this,a=d.$$p,o=a||$;null==e&&(e="each");var s=arguments.length,l=s-2;l<0&&(l=0),n=new Array(l);for(var u=2;u<s;u++)n[u-2]=arguments[u];a&&(d.$$p=null);var c=i.$allocate();return c.object=t,c.size=o,c.method=e,c.args=n,c},d.$$arity=-2),t.def(b,"$initialize",p=function(t){var e=this,r=p.$$p,n=r||$;return r&&(p.$$p=null),u(n)?(e.object=c(a(E,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=arguments[0]||$,u(e.size)?e.size=a(E,"Opal").$coerce_to(e.size,a(E,"Integer"),"to_int"):$):(e.object=arguments[0],e.method=arguments[1]||"each",e.args=s.call(arguments,2),e.size=$)},p.$$arity=-1),t.def(b,"$each",y=function(r){var n,i,a=this,o=y.$$p,s=o||$,l=arguments.length,f=l-0;f<0&&(f=0),i=new Array(f);for(var _=0;_<l;_++)i[_-0]=arguments[_];return o&&(y.$$p=null),u(u(n=s["$nil?"]())?i["$empty?"]():n)?a:(i=e(a.args,i),u(s["$nil?"]())?c(a.$class(),"new",[a.object,a.method].concat(t.to_a(i))):c(a.object,"__send__",[a.method].concat(t.to_a(i)),s.$to_proc()))},y.$$arity=-1),t.def(b,"$size",m=function(){var e=this;return u(a(E,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},m.$$arity=0),t.def(b,"$with_index",g=function(t){var e,r=this,n=g.$$p,i=n||$;if(null==t&&(t=0),n&&(g.$$p=null),t=function(){return u(t)?a(E,"Opal").$coerce_to(t,a(E,"Integer"),"to_int"):0}(),!u(i))return c(r,"enum_for",["with_index",t],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var o=t;return r.$each.$$p=function(){var t=a(E,"Opal").$destructure(arguments),e=i(t,o);return o++,e},r.$each()},g.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.def(b,"$inspect",v=function(){var t=this,r=$;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,u(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"](a(E,"Range").$new(1,-2))+")")),e(r,">")},v.$$arity=0),function(e,r,n){function i(){}var s,f,_=i=l(e,r,"Generator",i),h=_.$$proto,d=[_].concat(n);return h.block=$,_.$include(a(d,"Enumerable")),t.def(_,"$initialize",s=function(){var t=this,e=s.$$p,r=e||$;return e&&(s.$$p=null),u(r)||t.$raise(a(d,"LocalJumpError"),"no block given"),t.block=r},s.$$arity=0),t.def(_,"$each",f=function(e){var r,n=this,i=f.$$p,s=i||$,l=$,u=arguments.length,_=u-0;_<0&&(_=0),r=new Array(_);for(var h=0;h<u;h++)r[h-0]=arguments[h];i&&(f.$$p=null),l=c(a(d,"Yielder"),"new",[],s.$to_proc());try{r.unshift(l),t.yieldX(n.block,r)}catch(t){if(t===o)return o.$v;throw t}return n},f.$$arity=-1),$&&"each"}(E[0],null,E),function(e,r,n){function i(){}var a,s,u,f=i=l(e,r,"Yielder",i),_=f.$$proto;[f].concat(n);return _.block=$,t.def(f,"$initialize",a=function(){var t=this,e=a.$$p,r=e||$;return e&&(a.$$p=null),t.block=r},a.$$arity=0),t.def(f,"$yield",s=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];var s=t.yieldX(n.block,r);if(s===o)throw o;return s},s.$$arity=-1),t.def(f,"$<<",u=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return c(n,"yield",t.to_a(r)),n},u.$$arity=-1),$&&"<<"}(E[0],null,E),function(n,i,o){function s(){}var _,h,d,p,y,m,g,v,b,w,E,k,x,A=s=l(n,i,"Lazy",s),O=A.$$proto,M=[A].concat(o);return O.enumerator=$,function(t,e,r){function n(){}var i=n=l(t,e,"StopLazyError",n);i.$$proto,[i].concat(r);return $}(M[0],a(M,"Exception"),M),t.def(A,"$initialize",_=function(e,r){var n,i=this,o=_.$$p,s=o||$;return null==r&&(r=$),o&&(_.$$p=null),s!==$||i.$raise(a(M,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",_,!1),[r],(n=function(r,i){var o,l,u=n.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var h=1;h<f;h++)o[h-1]=arguments[h];null==r&&(r=$);try{return c(e,"each",t.to_a(o),(l=function(e){var n,i=(l.$$s||this,arguments.length),$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];n.unshift(r),t.yieldX(s,n)},l.$$s=u,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[a(M,"Exception")]))throw e;try{return $}finally{t.pop_exception()}}},n.$$s=i,n.$$arity=-2,n))},_.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",h=function(){var t=this;return t},h.$$arity=0),t.def(A,"$collect",d=function(){var e,r=this,n=d.$$p,i=n||$;return n&&(d.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy map without a block"),c(a(M,"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var u=t.yieldX(i,a);r.$yield(u)},e.$$s=r,e.$$arity=-2,e))},d.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,r=this,n=p.$$p,i=n||$;return n&&(p.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy map without a block"),c(a(M,"Lazy"),"new",[r,$],(e=function(r,n){var o,s,l,u=e.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var h=1;h<f;h++)o[h-1]=arguments[h];null==r&&(r=$);var d=t.yieldX(i,o);if(d["$respond_to?"]("force")&&d["$respond_to?"]("each"))c(d,"each",[],(s=function(t){s.$$s||this;return null==t&&(t=$),r.$yield(t)},s.$$s=u,s.$$arity=1,s));else{var p=a(M,"Opal").$try_convert(d,a(M,"Array"),"to_ary");p===$?r.$yield(d):c(d,"each",[],(l=function(t){l.$$s||this;return null==t&&(t=$),r.$yield(t)},l.$$s=u,l.$$arity=1,l))}},e.$$s=r,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",y=function(n){var i,o=this,s=$,l=$,f=$;return n=a(M,"Opal").$coerce_to(n,a(M,"Integer"),"to_int"),u(r(n,0))&&o.$raise(a(M,"ArgumentError"),"attempt to drop negative size"),s=o.$enumerator_size(),l=function(){return u(a(M,"Integer")["$==="](s))&&u(r(n,s))?n:s}(),f=0,c(a(M,"Lazy"),"new",[o,l],(i=function(a,o){var s,l=(i.$$s||this,arguments.length),_=l-1;_<0&&(_=0),s=new Array(_);for(var h=1;h<l;h++)s[h-1]=arguments[h];return null==a&&(a=$),u(r(f,n))?f=e(f,1):c(a,"yield",t.to_a(s))},i.$$s=o,i.$$arity=-2,i))},y.$$arity=1),t.def(A,"$drop_while",m=function(){var e,r=this,n=m.$$p,i=n||$,o=$;return n&&(m.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy drop_while without a block"),o=!0,c(a(M,"Lazy"),"new",[r,$],(e=function(r,n){var a,s=(e.$$s||this,arguments.length),l=s-1;l<0&&(l=0),a=new Array(l);for(var _=1;_<s;_++)a[_-1]=arguments[_];if(null==r&&(r=$),!u(o))return c(r,"yield",t.to_a(a));var h=t.yieldX(i,a);f(h)&&(o=!1,c(r,"yield",t.to_a(a)))},e.$$s=r,e.$$arity=-2,e))},m.$$arity=0),t.def(A,"$enum_for",g=function(e,r){var n,i=this,a=g.$$p,o=a||$;null==e&&(e="each");var s=arguments.length,l=s-1;
l<0&&(l=0),n=new Array(l);for(var u=1;u<s;u++)n[u-1]=arguments[u];return a&&(g.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(n)),o.$to_proc())},g.$$arity=-1),t.def(A,"$find_all",v=function(){var e,r=this,n=v.$$p,i=n||$;return n&&(v.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy select without a block"),c(a(M,"Lazy"),"new",[r,$],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var f=t.yieldX(i,a);u(f)&&c(r,"yield",t.to_a(a))},e.$$s=r,e.$$arity=-2,e))},v.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",b=function(e){var r,n,i=this,o=b.$$p,s=o||$;return o&&(b.$$p=null),u(s)?c(a(M,"Lazy"),"new",[i,$],(r=function(n,i){var o,l=(r.$$s||this,arguments.length),c=l-1;c<0&&(c=0),o=new Array(c);for(var f=1;f<l;f++)o[f-1]=arguments[f];null==n&&(n=$);var _=a(M,"Opal").$destructure(o),h=e["$==="](_);u(h)&&(h=t.yield1(s,_),n.$yield(t.yield1(s,_)))},r.$$s=i,r.$$arity=-2,r)):c(a(M,"Lazy"),"new",[i,$],(n=function(t,r){var i,o=(n.$$s||this,arguments.length),s=o-1;s<0&&(s=0),i=new Array(s);for(var l=1;l<o;l++)i[l-1]=arguments[l];null==t&&(t=$);var c=a(M,"Opal").$destructure(i),f=e["$==="](c);u(f)&&t.$yield(c)},n.$$s=i,n.$$arity=-2,n))},b.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",w=function(){var e,r=this,n=w.$$p,i=n||$;return n&&(w.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy reject without a block"),c(a(M,"Lazy"),"new",[r,$],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var u=t.yieldX(i,a);f(u)&&c(r,"yield",t.to_a(a))},e.$$s=r,e.$$arity=-2,e))},w.$$arity=0),t.def(A,"$take",E=function(n){var i,o=this,s=$,l=$,f=$;return n=a(M,"Opal").$coerce_to(n,a(M,"Integer"),"to_int"),u(r(n,0))&&o.$raise(a(M,"ArgumentError"),"attempt to take negative size"),s=o.$enumerator_size(),l=function(){return u(a(M,"Integer")["$==="](s))&&u(r(n,s))?n:s}(),f=0,c(a(M,"Lazy"),"new",[o,l],(i=function(o,s){var l,_=i.$$s||this,h=arguments.length,d=h-1;d<0&&(d=0),l=new Array(d);for(var p=1;p<h;p++)l[p-1]=arguments[p];return null==o&&(o=$),u(r(f,n))?(c(o,"yield",t.to_a(l)),f=e(f,1)):_.$raise(a(M,"StopLazyError"))},i.$$s=o,i.$$arity=-2,i))},E.$$arity=1),t.def(A,"$take_while",k=function(){var e,r=this,n=k.$$p,i=n||$;return n&&(k.$$p=null),u(i)||r.$raise(a(M,"ArgumentError"),"tried to call lazy take_while without a block"),c(a(M,"Lazy"),"new",[r,$],(e=function(r,n){var o,s=e.$$s||this,l=arguments.length,f=l-1;f<0&&(f=0),o=new Array(f);for(var _=1;_<l;_++)o[_-1]=arguments[_];null==r&&(r=$);var h=t.yieldX(i,o);u(h)?c(r,"yield",t.to_a(o)):s.$raise(a(M,"StopLazyError"))},e.$$s=r,e.$$arity=-2,e))},k.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),$&&"inspect"}(E[0],b,E)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=t.top,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),a.$require("corelib/comparable"),function(a,o,h){function d(){}var p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q=d=c(a,o,"Numeric",d),tt=(Q.$$proto,[Q].concat(h));return Q.$include(u(tt,"Comparable")),t.def(Q,"$coerce",p=function(t){var e=this;return f(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},p.$$arity=1),t.def(Q,"$__coerced__",y=function(e,r){var n,i,$=this,a=s,o=s,l=s;return f(r["$respond_to?"]("coerce"))?(i=r.$coerce($),n=t.to_ary(i),a=null==n[0]?s:n[0],o=null==n[1]?s:n[1],i,a.$__send__(e,o)):function(){return l=e,"+"["$==="](l)||"-"["$==="](l)||"*"["$==="](l)||"/"["$==="](l)||"%"["$==="](l)||"&"["$==="](l)||"|"["$==="](l)||"^"["$==="](l)||"**"["$==="](l)?$.$raise(u(tt,"TypeError"),""+r.$class()+" can't be coerced into Numeric"):">"["$==="](l)||">="["$==="](l)||"<"["$==="](l)||"<="["$==="](l)||"<=>"["$==="](l)?$.$raise(u(tt,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed"):s}()},y.$$arity=2),t.def(Q,"$<=>",m=function(t){var e=this;return f(e["$equal?"](t))?0:s},m.$$arity=1),t.def(Q,"$+@",g=function(){var t=this;return t},g.$$arity=0),t.def(Q,"$-@",v=function(){var t=this;return e(0,t)},v.$$arity=0),t.def(Q,"$%",b=function(t){var n=this;return e(n,r(t,n.$div(t)))},b.$$arity=1),t.def(Q,"$abs",w=function(){var t=this;return n(t,0)?t["$-@"]():t},w.$$arity=0),t.def(Q,"$abs2",E=function(){var t=this;return r(t,t)},E.$$arity=0),t.def(Q,"$angle",k=function(){var t=this;return n(t,0)?l(u(tt,"Math"),"PI"):0},k.$$arity=0),t.alias(Q,"arg","angle"),t.def(Q,"$ceil",x=function(t){var e=this;return null==t&&(t=0),e.$to_f().$ceil(t)},x.$$arity=-1),t.def(Q,"$conj",A=function(){var t=this;return t},A.$$arity=0),t.alias(Q,"conjugate","conj"),t.def(Q,"$denominator",O=function(){var t=this;return t.$to_r().$denominator()},O.$$arity=0),t.def(Q,"$div",M=function(t){var e=this;return t["$=="](0)&&e.$raise(u(tt,"ZeroDivisionError"),"divided by o"),i(e,t).$floor()},M.$$arity=1),t.def(Q,"$divmod",S=function(t){var e=this;return[e.$div(t),e["$%"](t)]},S.$$arity=1),t.def(Q,"$fdiv",T=function(t){var e=this;return i(e.$to_f(),t)},T.$$arity=1),t.def(Q,"$floor",R=function(t){var e=this;return null==t&&(t=0),e.$to_f().$floor(t)},R.$$arity=-1),t.def(Q,"$i",I=function(){var t=this;return t.$Complex(0,t)},I.$$arity=0),t.def(Q,"$imag",C=function(){return 0},C.$$arity=0),t.alias(Q,"imaginary","imag"),t.def(Q,"$integer?",N=function(){return!1},N.$$arity=0),t.alias(Q,"magnitude","abs"),t.alias(Q,"modulo","%"),t.def(Q,"$nonzero?",z=function(){var t=this;return f(t["$zero?"]())?s:t},z.$$arity=0),t.def(Q,"$numerator",P=function(){var t=this;return t.$to_r().$numerator()},P.$$arity=0),t.alias(Q,"phase","arg"),t.def(Q,"$polar",B=function(){var t=this;return[t.$abs(),t.$arg()]},B.$$arity=0),t.def(Q,"$quo",q=function(t){var e=this;return i(u(tt,"Opal")["$coerce_to!"](e,u(tt,"Rational"),"to_r"),t)},q.$$arity=1),t.def(Q,"$real",D=function(){var t=this;return t},D.$$arity=0),t.def(Q,"$real?",L=function(){return!0},L.$$arity=0),t.def(Q,"$rect",F=function(){var t=this;return[t,0]},F.$$arity=0),t.alias(Q,"rectangular","rect"),t.def(Q,"$round",j=function(t){var e=this;return e.$to_f().$round(t)},j.$$arity=-1),t.def(Q,"$to_c",U=function(){var t=this;return t.$Complex(t,0)},U.$$arity=0),t.def(Q,"$to_int",H=function(){var t=this;return t.$to_i()},H.$$arity=0),t.def(Q,"$truncate",G=function(t){var e=this;return null==t&&(t=0),e.$to_f().$truncate(t)},G.$$arity=-1),t.def(Q,"$zero?",Y=function(){var t=this;return t["$=="](0)},Y.$$arity=0),t.def(Q,"$positive?",W=function(){var t=this;return $(t,0)},W.$$arity=0),t.def(Q,"$negative?",X=function(){var t=this;return n(t,0)},X.$$arity=0),t.def(Q,"$dup",K=function(){var t=this;return t},K.$$arity=0),t.def(Q,"$clone",V=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=_([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},V.$$arity=-1),t.def(Q,"$finite?",J=function(){return!0},J.$$arity=0),t.def(Q,"$infinite?",Z=function(){return s},Z.$$arity=0),s&&"infinite?"}(o[0],null,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=t.top,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2,h=t.send,d=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),a.$require("corelib/enumerable"),a.$require("corelib/numeric"),function(a,o,p){function y(){}function m(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function g(e,r){var n,i,$,a,o=e.length;return n=r.excl,i=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),$=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),i<0&&(i+=o,i<0)?s:i>o?s:$<0&&($+=o,$<0)?[]:(n||($+=1),a=e.slice(i,$),m(a,e.$class()))}function v(e,r,n){var i,$=e.length;return r=t.Opal.$coerce_to(r,t.Integer,"to_int"),r<0&&(r+=$,r<0)?s:void 0===n?r>=$||r<0?s:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"),n<0||r>$||r<0?s:(i=e.slice(r,r+n),m(i,e.$class())))}function b(t,e){return t===e||0===e?1:e>0&&t>e?b(t-1,e-1)+b(t-1,e):0}function w(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}var E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt,Dt,Lt,Ft,jt,Ut,Ht,Gt,Yt,Wt,Xt,Kt,Vt,Jt,Zt,Qt,te,ee,re,ne,ie,$e,ae,oe,se=y=c(a,o,"Array",y),le=se.$$proto,ue=[se].concat(p);return se.$include(u(ue,"Enumerable")),le.$$is_array=!0,t.defs(se,"$[]",E=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return m(e,r)},E.$$arity=-1),t.def(se,"$initialize",k=function(t,e){var r=this,n=k.$$p,i=n||s;if(null==t&&(t=s),null==e&&(e=s),n&&(k.$$p=null),e!==s&&i!==s&&r.$warn("warning: block supersedes default value argument"),t>l(u(ue,"Integer"),"MAX")&&r.$raise(u(ue,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(u(ue,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&r.$raise(u(ue,"ArgumentError"),"negative array size"),r.splice(0,r.length);var $,a;if(i===s)for($=0;$<t;$++)r.push(e);else for($=0,a;$<t;$++)a=i($),r[$]=a;return r},k.$$arity=-1),t.defs(se,"$try_convert",x=function(t){return u(ue,"Opal")["$coerce_to?"](t,u(ue,"Array"),"to_ary")},x.$$arity=1),t.def(se,"$&",A=function(e){var r=this;e=function(){return f(u(ue,"Array")["$==="](e))?e.$to_a():u(ue,"Opal").$coerce_to(e,u(ue,"Array"),"to_ary").$to_a()}();var n,i,$,a=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],void 0!==t.hash_delete(o,$)&&a.push($);return a},A.$$arity=1),t.def(se,"$|",O=function(e){var r=this;e=function(){return f(u(ue,"Array")["$==="](e))?e.$to_a():u(ue,"Opal").$coerce_to(e,u(ue,"Array"),"to_ary").$to_a()}();var n,i,$=_([],{});for(n=0,i=r.length;n<i;n++)t.hash_put($,r[n],!0);for(n=0,i=e.length;n<i;n++)t.hash_put($,e[n],!0);return $.$keys()},O.$$arity=1),t.def(se,"$*",M=function(t){var e=this;if(f(t["$respond_to?"]("to_str")))return e.$join(t.$to_str());t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),f(t<0)&&e.$raise(u(ue,"ArgumentError"),"negative argument");for(var r=[],n=e.$to_a(),i=0;i<t;i++)r=r.concat(n);return m(r,e.$class())},M.$$arity=1),t.def(se,"$+",S=function(t){var e=this;return t=function(){return f(u(ue,"Array")["$==="](t))?t.$to_a():u(ue,"Opal").$coerce_to(t,u(ue,"Array"),"to_ary").$to_a()}(),e.concat(t)},S.$$arity=1),t.def(se,"$-",T=function(e){var r=this;if(e=function(){return f(u(ue,"Array")["$==="](e))?e.$to_a():u(ue,"Opal").$coerce_to(e,u(ue,"Array"),"to_ary").$to_a()}(),f(0===r.length))return[];if(f(0===e.length))return r.slice();var n,i,$,a=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],void 0===t.hash_get(o,$)&&a.push($);return a},T.$$arity=1),t.def(se,"$<<",R=function(t){var e=this;return e.push(t),e},R.$$arity=1),t.def(se,"$<=>",I=function(t){var e=this;if(f(u(ue,"Array")["$==="](t)))t=t.$to_a();else{if(!f(t["$respond_to?"]("to_ary")))return s;t=t.$to_ary().$to_a()}if(e.$hash()===t.$hash())return 0;for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]["$<=>"](t[n]);if(0!==i)return i}return e.length["$<=>"](t.length)},I.$$arity=1),t.def(se,"$==",C=function(t){function e(t,r){var i,$,a,o;if(t===r)return!0;if(!r.$$is_array)return!!u(ue,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),r.constructor!==Array&&(r=r.$to_a()),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(a=t[i],o=r[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!n.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$=="](o))return!1;return!0}var r=this,n={};return e(r,t)},C.$$arity=1),t.def(se,"$[]",N=function(t,e){var r=this;return t.$$is_range?g(r,t):v(r,t,e)},N.$$arity=-2),t.def(se,"$[]=",z=function(t,e,r){var n,i=this,$=s,a=s,o=i.length;if(f(u(ue,"Range")["$==="](t))){$=function(){return f(u(ue,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}();var l=t.excl,c=u(ue,"Opal").$coerce_to(t.begin,u(ue,"Integer"),"to_int"),_=u(ue,"Opal").$coerce_to(t.end,u(ue,"Integer"),"to_int");if(c<0&&(c+=o,c<0&&i.$raise(u(ue,"RangeError"),""+t.$inspect()+" out of range")),_<0&&(_+=o),l||(_+=1),c>o)for(n=o;n<c;n++)i[n]=s;return _<0?i.splice.apply(i,[c,0].concat($)):i.splice.apply(i,[c,_-c].concat($)),e}f(void 0===r)?a=1:(a=e,e=r,$=function(){return f(u(ue,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}());var h;if(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),a=u(ue,"Opal").$coerce_to(a,u(ue,"Integer"),"to_int"),t<0&&(h=t,t+=o,t<0&&i.$raise(u(ue,"IndexError"),"index "+h+" too small for array; minimum "+-i.length)),a<0&&i.$raise(u(ue,"IndexError"),"negative length ("+a+")"),t>o)for(n=o;n<t;n++)i[n]=s;return void 0===r?i[t]=e:i.splice.apply(i,[t,a].concat($)),e},z.$$arity=-3),t.def(se,"$any?",P=function(e){var r=this,n=P.$$p,i=s,$=s,a=s;for(n&&(P.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return 0!==r.length&&h(r,t.find_super_dispatcher(r,"any?",P,!1),i,n)},P.$$arity=-1),t.def(se,"$assoc",B=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&e[0]["$=="](t))return e;return s},B.$$arity=1),t.def(se,"$at",q=function(t){var e=this;return t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length?s:e[t]},q.$$arity=1),t.def(se,"$bsearch_index",D=function(){var e=this,r=D.$$p,n=r||s;if(r&&(D.$$p=null),n===s)return e.$enum_for("bsearch_index");for(var i,$,a,o=0,l=e.length,c=!1,f=s;o<l;){if(i=o+Math.floor((l-o)/2),$=e[i],a=t.yield1(n,$),a===!0)f=i,c=!0;else if(a===!1||a===s)c=!1;else if(a.$$is_number){if(0===a)return i;c=a<0}else e.$raise(u(ue,"TypeError"),"wrong argument type "+a.$class()+" (must be numeric, true, false or nil)");c?l=i:o=i+1}return f},D.$$arity=0),t.def(se,"$bsearch",L=function(){var t=this,e=L.$$p,r=e||s,n=s;return e&&(L.$$p=null),r===s?t.$enum_for("bsearch"):(n=h(t,"bsearch_index",[],r.$to_proc()),null!=n&&n.$$is_number?t[n]:n)},L.$$arity=0),t.def(se,"$cycle",F=function(n){var i,$,a=this,o=F.$$p,c=o||s;if(null==n&&(n=s),o&&(F.$$p=null),c===s)return h(a,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return f(n["$nil?"]())?l(u(ue,"Float"),"INFINITY"):(n=u(ue,"Opal")["$coerce_to!"](n,u(ue,"Integer"),"to_int"),f(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=a,i.$$arity=0,i));if(f(f($=a["$empty?"]())?$:n["$=="](0)))return s;var _,d,p;if(n===s)for(;;)for(_=0,d=a.length;_<d;_++)p=t.yield1(c,a[_]);else{if(n=u(ue,"Opal")["$coerce_to!"](n,u(ue,"Integer"),"to_int"),n<=0)return a;for(;n>0;){for(_=0,d=a.length;_<d;_++)p=t.yield1(c,a[_]);n--}}return a},F.$$arity=-1),t.def(se,"$clear",j=function(){var t=this;return t.splice(0,t.length),t},j.$$arity=0),t.def(se,"$count",U=function(e){var r,n=this,i=U.$$p,$=i||s,a=s,o=s,l=s;for(null==e&&(e=s),i&&(U.$$p=null),o=0,l=arguments.length,a=new Array(l);o<l;o++)a[o]=arguments[o];return f(f(r=e)?r:$)?h(n,t.find_super_dispatcher(n,"count",U,!1),a,i):n.$size()},U.$$arity=-1),t.def(se,"$initialize_copy",H=function(t){var e=this;return e.$replace(t)},H.$$arity=1),t.def(se,"$collect",G=function(){var e,r=this,n=G.$$p,i=n||s;if(n&&(G.$$p=null),i===s)return h(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=[],a=0,o=r.length;a<o;a++){var l=t.yield1(i,r[a]);$.push(l)}return $},G.$$arity=0),t.def(se,"$collect!",Y=function(){var e,r=this,n=Y.$$p,i=n||s;if(n&&(Y.$$p=null),i===s)return h(r,"enum_for",["collect!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){var o=t.yield1(i,r[$]);r[$]=o}return r},Y.$$arity=0),t.def(se,"$combination",W=function(e){var r,n=this,i=W.$$p,$=i||s,a=s;if(i&&(W.$$p=null),a=u(ue,"Opal")["$coerce_to!"](e,u(ue,"Integer"),"to_int"),$===s)return h(n,"enum_for",["combination",a],(r=function(){var t=r.$$s||this;return b(t.length,a)},r.$$s=n,r.$$arity=0,r));var o,l,c,f,_,d,p;if(0===a)t.yield1($,[]);else if(1===a)for(o=0,l=n.length;o<l;o++)t.yield1($,[n[o]]);else if(a===n.length)t.yield1($,n.slice());else if(a>=0&&a<n.length){for(c=[],o=0;o<=a+1;o++)c.push(0);for(f=[],_=0,d=!1,c[0]=-1;!d;){for(f[_]=n[c[_+1]];_<a-1;)_++,p=c[_+1]=c[_]+1,f[_]=n[p];t.yield1($,f.slice()),_++;do d=0===_,c[_]++,_--;while(c[_+1]+a===n.length+_+1)}}return n},W.$$arity=1),t.def(se,"$repeated_combination",X=function(e){function r(e,n,i,$){if(i.length==e){var o=i.slice();return void t.yield1(a,o)}for(var s=n;s<$.length;s++)i.push($[s]),r(e,s,i,$),i.pop()}var n,i=this,$=X.$$p,a=$||s,o=s;return $&&(X.$$p=null),o=u(ue,"Opal")["$coerce_to!"](e,u(ue,"Integer"),"to_int"),a===s?h(i,"enum_for",["repeated_combination",o],(n=function(){var t=n.$$s||this;return b(t.length+o-1,o)},n.$$s=i,n.$$arity=0,n)):(o>=0&&r(o,0,[],i),i)},X.$$arity=1),t.def(se,"$compact",K=function(){for(var t,e=this,r=[],n=0,i=e.length;n<i;n++)(t=e[n])!==s&&r.push(t);return r},K.$$arity=0),t.def(se,"$compact!",V=function(){for(var t=this,e=t.length,r=0,n=t.length;r<n;r++)t[r]===s&&(t.splice(r,1),n--,r--);return t.length===e?s:t},V.$$arity=0),t.def(se,"$concat",J=function(t){var e,r,n,i=this,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];return n=h(n,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),t=function(){return f(u(ue,"Array")["$==="](t))?t.$to_a():u(ue,"Opal").$coerce_to(t,u(ue,"Array"),"to_ary").$to_a()}(),f(t["$equal?"](r))&&(t=t.$dup()),t},e.$$s=i,e.$$arity=1,e)),h(n,"each",[],(r=function(t){var e=r.$$s||this;null==t&&(t=s);for(var n=0,i=t.length;n<i;n++)e.push(t[n])},r.$$s=i,r.$$arity=1,r)),i},J.$$arity=-1),t.def(se,"$delete",Z=function(e){var r=this,n=Z.$$p,i=n||s;n&&(Z.$$p=null);for(var $=r.length,a=0,o=$;a<o;a++)r[a]["$=="](e)&&(r.splice(a,1),o--,a--);return r.length===$?i!==s?t.yieldX(i,[]):s:e},Z.$$arity=1),t.def(se,"$delete_at",Q=function(t){var e=this;if(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length)return s;var r=e[t];return e.splice(t,1),r},Q.$$arity=1),t.def(se,"$delete_if",tt=function(){var t,e=this,r=tt.$$p,n=r||s;if(r&&(tt.$$p=null),n===s)return h(e,"enum_for",["delete_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,a=e.length;$<a;$++)i=n(e[$]),i!==!1&&i!==s&&(e.splice($,1),a--,$--);return e},tt.$$arity=0),t.def(se,"$dig",et=function(e,r){var n,i=this,$=s,a=arguments.length,o=a-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<a;l++)n[l-1]=arguments[l];return $=i["$[]"](e),$===s||0===n.length?$:(f($["$respond_to?"]("dig"))||i.$raise(u(ue,"TypeError"),""+$.$class()+" does not have #dig method"),h($,"dig",t.to_a(n)))},et.$$arity=-2),t.def(se,"$drop",rt=function(t){var e=this;return t<0&&e.$raise(u(ue,"ArgumentError")),e.slice(t)},rt.$$arity=1),t.def(se,"$dup",nt=function(){var e=this,r=nt.$$p,n=s,i=s,$=s;for(r&&(nt.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return e.$$class===t.Array&&e.$$class.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):h(e,t.find_super_dispatcher(e,"dup",nt,!1),n,r)},nt.$$arity=0),t.def(se,"$each",it=function(){var e,r=this,n=it.$$p,i=n||s;if(n&&(it.$$p=null),i===s)return h(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){t.yield1(i,r[$])}return r},it.$$arity=0),t.def(se,"$each_index",$t=function(){var e,r=this,n=$t.$$p,i=n||s;if(n&&($t.$$p=null),i===s)return h(r,"enum_for",["each_index"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){t.yield1(i,$)}return r},$t.$$arity=0),t.def(se,"$empty?",at=function(){var t=this;return 0===t.length},at.$$arity=0),t.def(se,"$eql?",ot=function(t){function e(t,r){var i,$,a,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(a=t[i],o=r[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!n.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$eql?"](o))return!1;return!0}var r=this,n={};return e(r,t)},ot.$$arity=1),t.def(se,"$fetch",st=function(t,e){var r=this,n=st.$$p,i=n||s;n&&(st.$$p=null);var $=t;return t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&(t+=r.length),t>=0&&t<r.length?r[t]:(i!==s&&null!=e&&r.$warn("warning: block supersedes default value argument"),i!==s?i($):null!=e?e:void(0===r.length?r.$raise(u(ue,"IndexError"),"index "+$+" outside of array bounds: 0...0"):r.$raise(u(ue,"IndexError"),"index "+$+" outside of array bounds: -"+r.length+"..."+r.length)))},st.$$arity=-2),t.def(se,"$fill",lt=function(e){var r,n,i,$=this,a=lt.$$p,o=a||s,l=s,c=s,_=s,h=s,d=s,p=arguments.length,y=p-0;y<0&&(y=0),i=new Array(y);for(var m=0;m<p;m++)i[m-0]=arguments[m];a&&(lt.$$p=null);var g,v,b;if(f(o)?(f(i.length>2)&&$.$raise(u(ue,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),n=i,r=t.to_ary(n),l=null==r[0]?s:r[0],c=null==r[1]?s:r[1],n):(f(0==i.length)?$.$raise(u(ue,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):f(i.length>3)&&$.$raise(u(ue,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),n=i,r=t.to_ary(n),_=null==r[0]?s:r[0],l=null==r[1]?s:r[1],c=null==r[2]?s:r[2],n),f(u(ue,"Range")["$==="](l))){if(f(c)&&$.$raise(u(ue,"TypeError"),"length invalid with range"),h=u(ue,"Opal").$coerce_to(l.$begin(),u(ue,"Integer"),"to_int"),f(h<0)&&(h+=this.length),f(h<0)&&$.$raise(u(ue,"RangeError"),""+l.$inspect()+" out of range"),d=u(ue,"Opal").$coerce_to(l.$end(),u(ue,"Integer"),"to_int"),f(d<0)&&(d+=this.length),f(l["$exclude_end?"]())||(d+=1),f(d<=h))return $}else if(f(l))if(h=u(ue,"Opal").$coerce_to(l,u(ue,"Integer"),"to_int"),f(h<0)&&(h+=this.length),f(h<0)&&(h=0),f(c)){if(d=u(ue,"Opal").$coerce_to(c,u(ue,"Integer"),"to_int"),f(0==d))return $;d+=h}else d=this.length;else h=0,d=this.length;if(f(h>this.length))for(g=this.length;g<d;g++)$[g]=s;if(f(d>this.length)&&(this.length=d),f(o))for(v=this.length;h<d;h++)b=o(h),$[h]=b;else for(v=this.length;h<d;h++)$[h]=_;return $},lt.$$arity=-1),t.def(se,"$first",ut=function(t){var e=this;return null==t?0===e.length?s:e[0]:(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&e.$raise(u(ue,"ArgumentError"),"negative array size"),e.slice(0,t))},ut.$$arity=-1),t.def(se,"$flatten",ct=function(t){function e(t,n){var i,$,a,o,l=[];for(t=t.$to_a(),i=0,$=t.length;i<$;i++)if(a=t[i],u(ue,"Opal")["$respond_to?"](a,"to_ary",!0))if(o=a.$to_ary(),o!==s)switch(o.$$is_array||r.$raise(u(ue,"TypeError")),o===r&&r.$raise(u(ue,"ArgumentError")),n){case void 0:l=l.concat(e(o));break;case 0:l.push(o);break;default:l.push.apply(l,e(o,n-1))}else l.push(a);else l.push(a);return l}var r=this;return void 0!==t&&(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int")),m(e(r,t),r.$class())},ct.$$arity=-1),t.def(se,"$flatten!",ft=function(t){var e=this,r=e.$flatten(t);if(e.length==r.length){for(var n=0,i=e.length;n<i&&e[n]===r[n];n++);if(n==i)return s}return e.$replace(r),e},ft.$$arity=-1),t.def(se,"$hash",_t=function(){var e,r,n,i=this,$=void 0===t.hash_ids,a=["A"],o=i.$object_id();try{if($&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,r=0;r<i.length;r++)e=i[r],a.push(e.$hash());return a.join(",")}finally{$&&(t.hash_ids=void 0)}},_t.$$arity=0),t.def(se,"$include?",ht=function(t){for(var e=this,r=0,n=e.length;r<n;r++)if(e[r]["$=="](t))return!0;return!1},ht.$$arity=1),t.def(se,"$index",dt=function(t){var e=this,r=dt.$$p,n=r||s;r&&(dt.$$p=null);var i,$,a;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=0,$=e.length;i<$;i++)if(e[i]["$=="](t))return i}else{if(n===s)return e.$enum_for("index");for(i=0,$=e.length;i<$;i++)if(a=n(e[i]),a!==!1&&a!==s)return i}return s},dt.$$arity=-1),t.def(se,"$insert",pt=function(t,e){var r,n=this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];if(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=n.length+1,t<0&&n.$raise(u(ue,"IndexError"),""+t+" is out of bounds")),t>n.length)for(var o=n.length;o<t;o++)n.push(s);n.splice.apply(n,[t,0].concat(r))}return n},pt.$$arity=-2),t.def(se,"$inspect",yt=function(){for(var t=this,e=[],r=t.$__id__(),n=0,i=t.length;n<i;n++){var $=t["$[]"](n);$.$__id__()===r?e.push("[...]"):e.push($.$inspect())}return"["+e.join(", ")+"]"},yt.$$arity=0),t.def(se,"$join",mt=function(e){var r=this;if(null==d[","]&&(d[","]=s),null==e&&(e=s),f(0===r.length))return"";f(e===s)&&(e=d[","]);var n,i,$,a,o=[];for(n=0,i=r.length;n<i;n++)$=r[n],u(ue,"Opal")["$respond_to?"]($,"to_str")&&(a=$.$to_str(),a!==s)?o.push(a.$to_s()):u(ue,"Opal")["$respond_to?"]($,"to_ary")&&(a=$.$to_ary(),a===r&&r.$raise(u(ue,"ArgumentError")),a!==s)?o.push(a.$join(e)):u(ue,"Opal")["$respond_to?"]($,"to_s")&&(a=$.$to_s(),a!==s)?o.push(a):r.$raise(u(ue,"NoMethodError").$new(""+t.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(u(ue,"Opal")["$coerce_to!"](e,u(ue,"String"),"to_str").$to_s())},mt.$$arity=-1),t.def(se,"$keep_if",gt=function(){var t,e=this,r=gt.$$p,n=r||s;if(r&&(gt.$$p=null),n===s)return h(e,"enum_for",["keep_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,a=e.length;$<a;$++)i=n(e[$]),i!==!1&&i!==s||(e.splice($,1),a--,$--);return e},gt.$$arity=0),t.def(se,"$last",vt=function(t){var e=this;return null==t?0===e.length?s:e[e.length-1]:(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),t<0&&e.$raise(u(ue,"ArgumentError"),"negative array size"),t>e.length&&(t=e.length),e.slice(e.length-t,e.length))},vt.$$arity=-1),t.def(se,"$length",bt=function(){var t=this;return t.length},bt.$$arity=0),t.alias(se,"map","collect"),t.alias(se,"map!","collect!"),t.def(se,"$max",wt=function(t){var e=this,r=wt.$$p,n=r||s;return r&&(wt.$$p=null),h(e.$each(),"max",[t],n.$to_proc())},wt.$$arity=-1),t.def(se,"$min",Et=function(){var t=this,e=Et.$$p,r=e||s;return e&&(Et.$$p=null),h(t.$each(),"min",[],r.$to_proc())},Et.$$arity=0),t.def(se,"$permutation",kt=function(e){var r,n=this,i=kt.$$p,$=i||s,a=s,o=s;if(i&&(kt.$$p=null),$===s)return h(n,"enum_for",["permutation",e],(r=function(){var t=r.$$s||this;return w(t.length,void 0===e?t.length:e)},r.$$s=n,r.$$arity=0,r));var l,c,f;if(e=void 0===e?n.length:u(ue,"Opal").$coerce_to(e,u(ue,"Integer"),"to_int"),e<0||n.length<e);else if(0===e)t.yield1($,[]);else if(1===e)for(var _=0;_<n.length;_++)t.yield1($,[n[_]]);else a=u(ue,"Array").$new(e),o=u(ue,"Array").$new(n.length,!1),l=function(e,r,i,$,a){n=this;for(var o=0;o<n.length;o++)if($["$[]"](o)["$!"]())if(r[i]=o,i<e-1)$[o]=!0,l.call(n,e,r,i+1,$,a),$[o]=!1;else{f=[];for(var s=0;s<r.length;s++)f.push(n[r[s]]);t.yield1(a,f)}},$!==s?(c=n.slice(),l.call(c,e,a,0,o,$)):l.call(n,e,a,0,o,$);return n},kt.$$arity=-1),t.def(se,"$repeated_permutation",xt=function(e){function r(e,n,i){if(n.length==e){var $=n.slice();return void t.yield1(o,$)}for(var a=0;a<i.length;a++)n.push(i[a]),r(e,n,i),n.pop()}var i,$=this,a=xt.$$p,o=a||s,l=s;return a&&(xt.$$p=null),l=u(ue,"Opal")["$coerce_to!"](e,u(ue,"Integer"),"to_int"),o===s?h($,"enum_for",["repeated_permutation",l],(i=function(){var t=i.$$s||this;return f(n(l,0))?t.$size()["$**"](l):0},i.$$s=$,i.$$arity=0,i)):(r(l,[],$.slice()),$)},xt.$$arity=1),t.def(se,"$pop",At=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.pop():(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),f(t<0)&&e.$raise(u(ue,"ArgumentError"),"negative array size"),f(0===e.length)?[]:f(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},At.$$arity=-1),t.def(se,"$product",Ot=function(e){var r,n=this,i=Ot.$$p,$=i||s,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<a;l++)r[l-0]=arguments[l];i&&(Ot.$$p=null);var c,f,_,h,d=$!==s?null:[],p=r.length+1,y=new Array(p),m=new Array(p),g=new Array(p),v=1;for(g[0]=n,c=1;c<p;c++)g[c]=u(ue,"Opal").$coerce_to(r[c-1],u(ue,"Array"),"to_ary");for(c=0;c<p;c++){if(h=g[c].length,0===h)return d||n;v*=h,v>2147483647&&n.$raise(u(ue,"RangeError"),"too big to product"),m[c]=h,y[c]=0}t:for(;;){for(_=[],c=0;c<p;c++)_.push(g[c][y[c]]);for(d?d.push(_):t.yield1($,_),f=p-1,y[f]++;y[f]===m[f];){if(y[f]=0,--f<0)break t;y[f]++}}return d||n},Ot.$$arity=-1),t.def(se,"$push",Mt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)r.push(e[a]);return r},Mt.$$arity=-1),t.alias(se,"append","push"),t.def(se,"$rassoc",St=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},St.$$arity=1),t.def(se,"$reject",Tt=function(){var t,e=this,r=Tt.$$p,n=r||s;if(r&&(Tt.$$p=null),n===s)return h(e,"enum_for",["reject"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=[],a=0,o=e.length;a<o;a++)i=n(e[a]),i!==!1&&i!==s||$.push(e[a]);return $},Tt.$$arity=0),t.def(se,"$reject!",Rt=function(){var t,e=this,r=Rt.$$p,n=r||s,i=s;return r&&(Rt.$$p=null),n===s?h(e,"enum_for",["reject!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),h(e,"delete_if",[],n.$to_proc()),e.$length()["$=="](i)?s:e)},Rt.$$arity=0),t.def(se,"$replace",It=function(t){var e=this;return t=function(){return f(u(ue,"Array")["$==="](t))?t.$to_a():u(ue,"Opal").$coerce_to(t,u(ue,"Array"),"to_ary").$to_a()}(),e.splice(0,e.length),e.push.apply(e,t),e},It.$$arity=1),t.def(se,"$reverse",Ct=function(){var t=this;return t.slice(0).reverse()},Ct.$$arity=0),t.def(se,"$reverse!",Nt=function(){var t=this;return t.reverse()},Nt.$$arity=0),t.def(se,"$reverse_each",zt=function(){var t,e=this,r=zt.$$p,n=r||s;return r&&(zt.$$p=null),n===s?h(e,"enum_for",["reverse_each"],(t=function(){var e=t.$$s||this;
return e.$size()},t.$$s=e,t.$$arity=0,t)):(h(e.$reverse(),"each",[],n.$to_proc()),e)},zt.$$arity=0),t.def(se,"$rindex",Pt=function(t){var e=this,r=Pt.$$p,n=r||s;r&&(Pt.$$p=null);var i,$;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(n!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if($=n(e[i]),$!==!1&&$!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},Pt.$$arity=-1),t.def(se,"$rotate",Bt=function(t){var e=this;null==t&&(t=1),t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int");var r,n,i,$;return 1===e.length?e.slice():0===e.length?[]:(r=e.slice(),n=t%r.length,i=r.slice(n),$=r.slice(0,n),i.concat($))},Bt.$$arity=-1),t.def(se,"$rotate!",qt=function(t){var e=this,r=s;return null==t&&(t=1),0===e.length||1===e.length?e:(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),r=e.$rotate(t),e.$replace(r))},qt.$$arity=-1),function(e,r,n){function i(){}var $,a,o=i=c(e,r,"SampleRandom",i),l=o.$$proto,_=[o].concat(n);return l.rng=s,t.def(o,"$initialize",$=function(t){var e=this;return e.rng=t},$.$$arity=1),t.def(o,"$rand",a=function(t){var e=this,r=s;return r=u(_,"Opal").$coerce_to(e.rng.$rand(t),u(_,"Integer"),"to_int"),f(r<0)&&e.$raise(u(_,"RangeError"),"random value must be >= 0"),f(r<t)||e.$raise(u(_,"RangeError"),"random value must be less than Array size"),r},a.$$arity=1),s&&"rand"}(ue[0],null,ue),t.def(se,"$sample",Dt=function(t,e){var r,n=this,i=s,$=s;if(f(void 0===t))return n.$at(u(ue,"Kernel").$rand(n.length));if(f(void 0===e)?f(i=u(ue,"Opal")["$coerce_to?"](t,u(ue,"Hash"),"to_hash"))?(e=i,t=s):(e=s,t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int")):(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),e=u(ue,"Opal").$coerce_to(e,u(ue,"Hash"),"to_hash")),f(f(r=t)?t<0:r)&&n.$raise(u(ue,"ArgumentError"),"count must be greater than 0"),f(e)&&($=e["$[]"]("random")),$=function(){return f(f(r=$)?$["$respond_to?"]("rand"):r)?u(ue,"SampleRandom").$new($):u(ue,"Kernel")}(),!f(t))return n[$.$rand(n.length)];var a,o,l,c,_,h,d,p;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[$.$rand(n.length)]];case 2:return c=$.$rand(n.length),_=$.$rand(n.length),c===_&&(_=0===c?c+1:c-1),[n[c],n[_]];default:if(n.length/t>3){for(a=!1,o=0,l=u(ue,"Array").$new(t),c=1,l[0]=$.$rand(n.length);c<t;){for(h=$.$rand(n.length),_=0;_<c;){for(;h===l[_];){if(o++,o>100){a=!0;break}h=$.$rand(n.length)}if(a)break;_++}if(a)break;l[c]=h,c++}if(!a){for(c=0;c<t;)l[c]=n[l[c]],c++;return l}}l=n.slice();for(var y=0;y<t;y++)d=$.$rand(n.length),p=l[y],l[y]=l[d],l[d]=p;return t===n.length?l:l["$[]"](0,t)}},Dt.$$arity=-1),t.def(se,"$select",Lt=function(){var e,r=this,n=Lt.$$p,i=n||s;if(n&&(Lt.$$p=null),i===s)return h(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,a,o=[],l=0,u=r.length;l<u;l++)$=r[l],a=t.yield1(i,$),a!==!1&&a!==s&&o.push($);return o},Lt.$$arity=0),t.def(se,"$select!",Ft=function(){var t,e=this,r=Ft.$$p,n=r||s;if(r&&(Ft.$$p=null),n===s)return h(e,"enum_for",["select!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return h(e,"keep_if",[],n.$to_proc()),e.length===i?s:e},Ft.$$arity=0),t.def(se,"$shift",jt=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.shift():(t=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),f(t<0)&&e.$raise(u(ue,"ArgumentError"),"negative array size"),f(0===e.length)?[]:e.splice(0,t))},jt.$$arity=-1),t.alias(se,"size","length"),t.def(se,"$shuffle",Ut=function(t){var e=this;return e.$dup().$to_a()["$shuffle!"](t)},Ut.$$arity=-1),t.def(se,"$shuffle!",Ht=function(t){var e,r,n,i=this,$=i.length;for(void 0!==t&&(t=u(ue,"Opal")["$coerce_to?"](t,u(ue,"Hash"),"to_hash"),t!==s&&(t=t["$[]"]("random"),t!==s&&t["$respond_to?"]("rand")&&(e=t)));$;)e?(r=e.$rand($).$to_int(),r<0&&i.$raise(u(ue,"RangeError"),"random number too small "+r),r>=$&&i.$raise(u(ue,"RangeError"),"random number too big "+r)):r=i.$rand($),n=i[--$],i[$]=i[r],i[r]=n;return i},Ht.$$arity=-1),t.alias(se,"slice","[]"),t.def(se,"$slice!",Gt=function(t,e){var r=this,n=s,i=s,$=s,a=s,o=s;if(n=s,f(void 0===e))if(f(u(ue,"Range")["$==="](t))){i=t,n=r["$[]"](i),$=u(ue,"Opal").$coerce_to(i.$begin(),u(ue,"Integer"),"to_int"),a=u(ue,"Opal").$coerce_to(i.$end(),u(ue,"Integer"),"to_int"),$<0&&($+=r.length),a<0?a+=r.length:a>=r.length&&(a=r.length-1,i.excl&&(a+=1));var l=a-$;i.excl?a-=1:l+=1,$<r.length&&$>=0&&a<r.length&&a>=0&&l>0&&r.splice($,l)}else{if(o=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),o<0&&(o+=r.length),o<0||o>=r.length)return s;n=r[o],0===o?r.shift():r.splice(o,1)}else{if(o=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),e=u(ue,"Opal").$coerce_to(e,u(ue,"Integer"),"to_int"),e<0)return s;n=r["$[]"](o,e),o<0&&(o+=r.length),o+e>r.length&&(e=r.length-o),o<r.length&&o>=0&&r.splice(o,e)}return n},Gt.$$arity=-2),t.def(se,"$sort",Yt=function(){var t=this,r=Yt.$$p,n=r||s;return r&&(Yt.$$p=null),f(t.length>1)?(n===s&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,$){var a=n(r,$);return a===s&&t.$raise(u(ue,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(a,0)?1:i(a,0)?-1:0})):t},Yt.$$arity=0),t.def(se,"$sort!",Wt=function(){var t=this,e=Wt.$$p,r=e||s;e&&(Wt.$$p=null);var n;n=r!==s?h(t.slice(),"sort",[],r.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,$=n.length;i<$;i++)t.push(n[i]);return t},Wt.$$arity=0),t.def(se,"$sort_by!",Xt=function(){var t,e=this,r=Xt.$$p,n=r||s;return r&&(Xt.$$p=null),n===s?h(e,"enum_for",["sort_by!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(h(e,"sort_by",[],n.$to_proc()))},Xt.$$arity=0),t.def(se,"$take",Kt=function(t){var e=this;return t<0&&e.$raise(u(ue,"ArgumentError")),e.slice(0,t)},Kt.$$arity=1),t.def(se,"$take_while",Vt=function(){var t=this,e=Vt.$$p,r=e||s;e&&(Vt.$$p=null);for(var n,i,$=[],a=0,o=t.length;a<o;a++){if(n=t[a],i=r(n),i===!1||i===s)return $;$.push(n)}return $},Vt.$$arity=0),t.def(se,"$to_a",Jt=function(){var t=this;return t},Jt.$$arity=0),t.alias(se,"to_ary","to_a"),t.def(se,"$to_h",Zt=function(){var e,r,n,i,$=this,a=$.length,o=_([],{});for(e=0;e<a;e++)r=u(ue,"Opal")["$coerce_to?"]($[e],u(ue,"Array"),"to_ary"),r.$$is_array||$.$raise(u(ue,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&$.$raise(u(ue,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Zt.$$arity=0),t.alias(se,"to_s","inspect"),t.def(se,"$transpose",Qt=function(){var e,r=this,n=s,i=s;return f(r["$empty?"]())?[]:(n=[],i=s,h(r,"each",[],(e=function(r){var a,o,l=e.$$s||this;return null==r&&(r=s),r=function(){return f(u(ue,"Array")["$==="](r))?r.$to_a():u(ue,"Opal").$coerce_to(r,u(ue,"Array"),"to_ary").$to_a()}(),i=f(a=i)?a:r.length,f(r.length["$!="](i))&&l.$raise(u(ue,"IndexError"),"element size differs ("+r.length+" should be "+i+")"),h(r.length,"times",[],(o=function(e){var i,a=(o.$$s||this,s),l=s;return null==e&&(e=s),a=f(i=n["$[]"](e))?i:(l=[e,[]],h(n,"[]=",t.to_a(l)),l[$(l.length,1)]),a["$<<"](r.$at(e))},o.$$s=l,o.$$arity=1,o))},e.$$s=r,e.$$arity=1,e)),n)},Qt.$$arity=0),t.def(se,"$uniq",te=function(){var e=this,r=te.$$p,n=r||s;r&&(te.$$p=null);var i,$,a,o,l=_([],{});if(n===s)for(i=0,$=e.length;i<$;i++)a=e[i],void 0===t.hash_get(l,a)&&t.hash_put(l,a,a);else for(i=0,$=e.length;i<$;i++)a=e[i],o=t.yield1(n,a),void 0===t.hash_get(l,o)&&t.hash_put(l,o,a);return m(l.$values(),e.$class())},te.$$arity=0),t.def(se,"$uniq!",ee=function(){var e=this,r=ee.$$p,n=r||s;r&&(ee.$$p=null);var i,$,a,o,l=e.length,u=_([],{});for(i=0,$=l;i<$;i++)a=e[i],o=n===s?a:t.yield1(n,a),void 0!==t.hash_get(u,o)?(e.splice(i,1),$--,i--):t.hash_put(u,o,a);return e.length===l?s:e},ee.$$arity=0),t.def(se,"$unshift",re=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--)r.unshift(e[a]);return r},re.$$arity=-1),t.alias(se,"prepend","unshift"),t.def(se,"$values_at",ne=function(t){var e,r,n=this,i=s,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i=[],h(r,"each",[],(e=function(t){var r,n=e.$$s||this,$=s,a=s,o=s;return null==t&&(t=s),f(t["$is_a?"](u(ue,"Range")))?($=u(ue,"Opal").$coerce_to(t.$last(),u(ue,"Integer"),"to_int"),a=u(ue,"Opal").$coerce_to(t.$first(),u(ue,"Integer"),"to_int"),a<0?(a+=n.length,s):($<0&&($+=n.length),t["$exclude_end?"]()&&$--,$<a?s:h(a,"upto",[$],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),i["$<<"](e.$at(t))},r.$$s=n,r.$$arity=1,r)))):(o=u(ue,"Opal").$coerce_to(t,u(ue,"Integer"),"to_int"),i["$<<"](n.$at(o)))},e.$$s=n,e.$$arity=1,e)),i},ne.$$arity=-1),t.def(se,"$zip",ie=function(t){var e,r,n=this,i=ie.$$p,$=i||s,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<a;l++)r[l-0]=arguments[l];i&&(ie.$$p=null);var c,_,h,d,p,y=[],m=n.length;for(d=0,p=r.length;d<p;d++)_=r[d],_.$$is_array||(_.$$is_enumerator?_.$size()===1/0?r[d]=_.$take(m):r[d]=_.$to_a():r[d]=(f(e=u(ue,"Opal")["$coerce_to?"](_,u(ue,"Array"),"to_ary"))?e:u(ue,"Opal")["$coerce_to!"](_,u(ue,"Enumerator"),"each")).$to_a());for(h=0;h<m;h++){for(c=[n[h]],d=0,p=r.length;d<p;d++)_=r[d][h],null==_&&(_=s),c[d+1]=_;y[h]=c}if($!==s){for(h=0;h<m;h++)$(y[h]);return s}return y},ie.$$arity=-1),t.defs(se,"$inherited",$e=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},$e.$$arity=1),t.def(se,"$instance_variables",ae=function(){var e,r=this,n=ae.$$p,i=s,$=s,a=s;for(n&&(ae.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return h(h(r,t.find_super_dispatcher(r,"instance_variables",ae,!1),i,n),"reject",[],(e=function(t){var r;e.$$s||this;return null==t&&(t=s),f(r=/^@\d+$/.test(t))?r:t["$=="]("@length")},e.$$s=r,e.$$arity=1,e))},ae.$$arity=0),u(ue,"Opal").$pristine(se.$singleton_class(),"allocate"),u(ue,"Opal").$pristine(se,"copy_instance_variables","initialize_dup"),t.def(se,"$pack",oe=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},oe.$$arity=-1),s&&"pack"}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,$=[],a=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),l=t.send,u=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),i.$require("corelib/enumerable"),function(i,$,f){function _(){}var h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt=_=s(i,$,"Hash",_),Et=wt.$$proto,kt=[wt].concat(f);wt.$include(o(kt,"Enumerable")),Et.$$is_hash=!0,t.defs(wt,"$[]",h=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];var s,l,u=e.length;if(1===u){if(s=o(kt,"Opal")["$coerce_to?"](e["$[]"](0),o(kt,"Hash"),"to_hash"),s!==a)return r.$allocate()["$merge!"](s);for(e=o(kt,"Opal")["$coerce_to?"](e["$[]"](0),o(kt,"Array"),"to_ary"),e===a&&r.$raise(o(kt,"ArgumentError"),"odd number of arguments for Hash"),u=e.length,s=r.$allocate(),l=0;l<u;l++)if(e[l].$$is_array)switch(e[l].length){case 1:s.$store(e[l][0],a);break;case 2:s.$store(e[l][0],e[l][1]);break;default:r.$raise(o(kt,"ArgumentError"),"invalid number of elements ("+e[l].length+" for 1..2)")}return s}for(u%2!==0&&r.$raise(o(kt,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),l=0;l<u;l+=2)s.$store(e[l],e[l+1]);return s},h.$$arity=-1),t.defs(wt,"$allocate",d=function(){var e=this,r=new e.$$alloc;return t.hash_init(r),r.$$none=a,r.$$proc=a,r},d.$$arity=0),t.defs(wt,"$try_convert",p=function(t){return o(kt,"Opal")["$coerce_to?"](t,o(kt,"Hash"),"to_hash")},p.$$arity=1),t.def(wt,"$initialize",y=function(t){var e=this,r=y.$$p,n=r||a;return r&&(y.$$p=null),void 0!==t&&n!==a&&e.$raise(o(kt,"ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=void 0===t?a:t,e.$$proc=n,e},y.$$arity=-1),t.def(wt,"$==",m=function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var n,i,$,a=0,o=r.$$keys,s=o.length;a<s;a++)if(n=o[a],n.$$is_string?(i=r.$$smap[n],$=e.$$smap[n]):(i=n.value,$=t.hash_get(e,n.key)),void 0===$||!i["$eql?"]($))return!1;return!0},m.$$arity=1),t.def(wt,"$>=",g=function(t){var e,r=this,n=a;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),!(r.$$keys.length<t.$$keys.length)&&(n=!0,l(t,"each",[],(e=function(t,r){var i=e.$$s||this,$=a;if(null==t&&(t=a),null==r&&(r=a),$=i.$fetch(t,null),null==$||$!==r)return void(n=!1)},e.$$s=r,e.$$arity=2,e)),n)},g.$$arity=1),t.def(wt,"$>",v=function(t){var r=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),!(r.$$keys.length<=t.$$keys.length)&&e(r,t)},v.$$arity=1),t.def(wt,"$<",b=function(t){var e=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),r(t,e)},b.$$arity=1),t.def(wt,"$<=",w=function(t){var r=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),e(t,r)},w.$$arity=1),t.def(wt,"$[]",E=function(e){var r=this,n=t.hash_get(r,e);return void 0!==n?n:r.$default(e)},E.$$arity=1),t.def(wt,"$[]=",k=function(e,r){var n=this;return t.hash_put(n,e,r),r},k.$$arity=2),t.def(wt,"$assoc",x=function(t){for(var e,r=this,n=0,i=r.$$keys,$=i.length;n<$;n++)if(e=i[n],e.$$is_string){if(e["$=="](t))return[e,r.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return a},x.$$arity=1),t.def(wt,"$clear",A=function(){var e=this;return t.hash_init(e),e},A.$$arity=0),t.def(wt,"$clone",O=function(){var e=this,r=new e.$$class.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},O.$$arity=0),t.def(wt,"$compact",M=function(){for(var e,r,n=this,i=t.hash(),$=0,o=n.$$keys,s=o.length;$<s;$++)e=o[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r!==a&&t.hash_put(i,e,r);return i},M.$$arity=0),t.def(wt,"$compact!",S=function(){for(var e,r,n=this,i=!1,$=0,o=n.$$keys,s=o.length;$<s;$++)e=o[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r===a&&void 0!==t.hash_delete(n,e)&&(i=!0,s--,$--);return i?n:a},S.$$arity=0),t.def(wt,"$compare_by_identity",T=function(){var e,r,n,i,$=this,a=$.$$keys;if($.$$by_identity)return $;if(0===$.$$keys.length)return $.$$by_identity=!0,$;for(i=u([],{}).$compare_by_identity(),e=0,r=a.length;e<r;e++)n=a[e],n.$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get($,n));return $.$$by_identity=!0,$.$$map=i.$$map,$.$$smap=i.$$smap,$},T.$$arity=0),t.def(wt,"$compare_by_identity?",R=function(){var t=this;return t.$$by_identity===!0},R.$$arity=0),t.def(wt,"$default",I=function(t){var e=this;return void 0!==t&&e.$$proc!==a&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?a:e.$$none},I.$$arity=-1),t.def(wt,"$default=",C=function(t){var e=this;return e.$$proc=a,e.$$none=t,t},C.$$arity=1),t.def(wt,"$default_proc",N=function(){var t=this;return void 0!==t.$$proc?t.$$proc:a},N.$$arity=0),t.def(wt,"$default_proc=",z=function(t){var e=this,r=t;return r!==a&&(r=o(kt,"Opal")["$coerce_to!"](r,o(kt,"Proc"),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&e.$raise(o(kt,"TypeError"),"default_proc takes two arguments")),e.$$none=a,e.$$proc=r,t},z.$$arity=1),t.def(wt,"$delete",P=function(e){var r=this,n=P.$$p,i=n||a;n&&(P.$$p=null);var $=t.hash_delete(r,e);return void 0!==$?$:i!==a?t.yield1(i,e):a},P.$$arity=1),t.def(wt,"$delete_if",B=function(){var e,r=this,n=B.$$p,i=n||a;if(n&&(B.$$p=null),!c(i))return l(r,"enum_for",["delete_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=0,f=r.$$keys,_=f.length;u<_;u++)$=f[u],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&void 0!==t.hash_delete(r,$)&&(_--,u--);return r},B.$$arity=0),t.alias(wt,"dup","clone"),t.def(wt,"$dig",q=function(e,r){var n,i=this,$=a,s=arguments.length,u=s-1;u<0&&(u=0),n=new Array(u);for(var f=1;f<s;f++)n[f-1]=arguments[f];return $=i["$[]"](e),$===a||0===n.length?$:(c($["$respond_to?"]("dig"))||i.$raise(o(kt,"TypeError"),""+$.$class()+" does not have #dig method"),l($,"dig",t.to_a(n)))},q.$$arity=-2),t.def(wt,"$each",D=function(){var e,r=this,n=D.$$p,i=n||a;if(n&&(D.$$p=null),!c(i))return l(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=0,u=r.$$keys,f=u.length;s<f;s++)$=u[s],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),t.yield1(i,[$,o]);return r},D.$$arity=0),t.def(wt,"$each_key",L=function(){var t,e=this,r=L.$$p,n=r||a;if(r&&(L.$$p=null),!c(n))return l(e,"enum_for",["each_key"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,o=e.$$keys,s=o.length;$<s;$++)i=o[$],n(i.$$is_string?i:i.key);return e},L.$$arity=0),t.alias(wt,"each_pair","each"),t.def(wt,"$each_value",F=function(){var t,e=this,r=F.$$p,n=r||a;if(r&&(F.$$p=null),!c(n))return l(e,"enum_for",["each_value"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,o=e.$$keys,s=o.length;$<s;$++)i=o[$],n(i.$$is_string?e.$$smap[i]:i.value);return e},F.$$arity=0),t.def(wt,"$empty?",j=function(){var t=this;return 0===t.$$keys.length},j.$$arity=0),t.alias(wt,"eql?","=="),t.def(wt,"$fetch",U=function(e,r){var n=this,i=U.$$p,$=i||a;i&&(U.$$p=null);var s=t.hash_get(n,e);return void 0!==s?s:$!==a?$(e):void 0!==r?r:n.$raise(o(kt,"KeyError").$new("key not found: "+e.$inspect(),u(["key","receiver"],{key:e,receiver:n})))},U.$$arity=-2),t.def(wt,"$fetch_values",H=function(t){var e,r,n=this,i=H.$$p,$=i||a,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];return i&&(H.$$p=null),l(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=a),l(r,"fetch",[t],$.$to_proc())},e.$$s=n,e.$$arity=1,e))},H.$$arity=-1),t.def(wt,"$flatten",G=function(t){var e=this;null==t&&(t=1),t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Integer"),"to_int");for(var r,n,i=[],$=0,a=e.$$keys,s=a.length;$<s;$++)if(r=a[$],r.$$is_string?n=e.$$smap[r]:(n=r.value,r=r.key),i.push(r),n.$$is_array){if(1===t){i.push(n);continue}i=i.concat(n.$flatten(t-2))}else i.push(n);return i},G.$$arity=-1),t.def(wt,"$has_key?",Y=function(e){var r=this;return void 0!==t.hash_get(r,e)},Y.$$arity=1),t.def(wt,"$has_value?",W=function(t){for(var e,r=this,n=0,i=r.$$keys,$=i.length;n<$;n++)if(e=i[n],(e.$$is_string?r.$$smap[e]:e.value)["$=="](t))return!0;return!1},W.$$arity=1),t.def(wt,"$hash",X=function(){var e,r,n=this,i=void 0===t.hash_ids,$=n.$object_id(),a=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[$])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],n["$eql?"](r))return"self";t.hash_ids[$]=n;for(var o=0,s=n.$$keys,l=s.length;o<l;o++)e=s[o],e.$$is_string?a.push([e,n.$$smap[e].$hash()]):a.push([e.key_hash,e.value.$hash()]);return a.sort().join()}finally{i&&(t.hash_ids=void 0)}},X.$$arity=0),t.alias(wt,"include?","has_key?"),t.def(wt,"$index",K=function(t){for(var e,r,n=this,i=0,$=n.$$keys,o=$.length;i<o;i++)if(e=$[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return a},K.$$arity=1),t.def(wt,"$indexes",V=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];for(var o,s,l=[],u=0,c=r.length;u<c;u++)o=r[u],s=t.hash_get(n,o),void 0!==s?l.push(s):l.push(n.$default());return l},V.$$arity=-1),t.alias(wt,"indices","indexes");var xt;return t.def(wt,"$inspect",J=function(){var t=this,e=void 0===xt,r=t.$object_id(),n=[];try{if(e&&(xt={}),xt.hasOwnProperty(r))return"{...}";xt[r]=!0;for(var i,$,a=0,o=t.$$keys,s=o.length;a<s;a++)i=o[a],i.$$is_string?$=t.$$smap[i]:($=i.value,i=i.key),n.push(i.$inspect()+"=>"+$.$inspect());return"{"+n.join(", ")+"}"}finally{e&&(xt=void 0)}},J.$$arity=0),t.def(wt,"$invert",Z=function(){for(var e,r,n=this,i=t.hash(),$=0,a=n.$$keys,o=a.length;$<o;$++)e=a[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),t.hash_put(i,r,e);return i},Z.$$arity=0),t.def(wt,"$keep_if",Q=function(){var e,r=this,n=Q.$$p,i=n||a;if(n&&(Q.$$p=null),!c(i))return l(r,"enum_for",["keep_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=0,f=r.$$keys,_=f.length;u<_;u++)$=f[u],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||void 0!==t.hash_delete(r,$)&&(_--,u--);return r},Q.$$arity=0),t.alias(wt,"key","index"),t.alias(wt,"key?","has_key?"),t.def(wt,"$keys",tt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,$=i.length;n<$;n++)t=i[n],t.$$is_string?r.push(t):r.push(t.key);return r},tt.$$arity=0),t.def(wt,"$length",et=function(){var t=this;return t.$$keys.length},et.$$arity=0),t.alias(wt,"member?","has_key?"),t.def(wt,"$merge",rt=function(t){var e=this,r=rt.$$p,n=r||a;return r&&(rt.$$p=null),l(e.$dup(),"merge!",[t],n.$to_proc())},rt.$$arity=1),t.def(wt,"$merge!",nt=function(e){var r=this,n=nt.$$p,i=n||a;n&&(nt.$$p=null),e.$$is_hash||(e=o(kt,"Opal")["$coerce_to!"](e,o(kt,"Hash"),"to_hash"));var $,s,l,u,c=e.$$keys,f=c.length;if(i===a){for($=0;$<f;$++)s=c[$],s.$$is_string?u=e.$$smap[s]:(u=s.value,s=s.key),t.hash_put(r,s,u);return r}for($=0;$<f;$++)s=c[$],s.$$is_string?u=e.$$smap[s]:(u=s.value,s=s.key),l=t.hash_get(r,s),void 0!==l?t.hash_put(r,s,i(s,l,u)):t.hash_put(r,s,u);return r},nt.$$arity=1),t.def(wt,"$rassoc",it=function(t){for(var e,r,n=this,i=0,$=n.$$keys,o=$.length;i<o;i++)if(e=$[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return a},it.$$arity=1),t.def(wt,"$rehash",$t=function(){var e=this;return t.hash_rehash(e),e},$t.$$arity=0),t.def(wt,"$reject",at=function(){var e,r=this,n=at.$$p,i=n||a;if(n&&(at.$$p=null),!c(i))return l(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=t.hash(),f=0,_=r.$$keys,h=_.length;f<h;f++)$=_[f],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||t.hash_put(u,$,o);return u},at.$$arity=0),t.def(wt,"$reject!",ot=function(){var e,r=this,n=ot.$$p,i=n||a;if(n&&(ot.$$p=null),!c(i))return l(r,"enum_for",["reject!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=!1,f=0,_=r.$$keys,h=_.length;f<h;f++)$=_[f],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&void 0!==t.hash_delete(r,$)&&(u=!0,h--,f--);return u?r:a},ot.$$arity=0),t.def(wt,"$replace",st=function(e){var r=this,i=a;e=o(kt,"Opal")["$coerce_to!"](e,o(kt,"Hash"),"to_hash"),t.hash_init(r);for(var $,s,u=0,f=e.$$keys,_=f.length;u<_;u++)$=f[u],$.$$is_string?s=e.$$smap[$]:(s=$.value,$=$.key),t.hash_put(r,$,s);return c(e.$default_proc())?(i=[e.$default_proc()],l(r,"default_proc=",t.to_a(i)),i[n(i.length,1)]):(i=[e.$default()],l(r,"default=",t.to_a(i)),i[n(i.length,1)]),r},st.$$arity=1),t.def(wt,"$select",lt=function(){var e,r=this,n=lt.$$p,i=n||a;if(n&&(lt.$$p=null),!c(i))return l(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=t.hash(),f=0,_=r.$$keys,h=_.length;f<h;f++)$=_[f],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&t.hash_put(u,$,o);return u},lt.$$arity=0),t.def(wt,"$select!",ut=function(){var e,r=this,n=ut.$$p,i=n||a;if(n&&(ut.$$p=null),!c(i))return l(r,"enum_for",["select!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,u=a,f=0,_=r.$$keys,h=_.length;f<h;f++)$=_[f],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||(void 0!==t.hash_delete(r,$)&&(h--,f--),u=r);return u},ut.$$arity=0),t.def(wt,"$shift",ct=function(){var e,r=this,n=r.$$keys;return n.length>0?(e=n[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(r,e)]):r.$default(a)},ct.$$arity=0),t.alias(wt,"size","length"),t.def(wt,"$slice",ft=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];for(var o=t.hash(),s=0,l=r.length;s<l;s++){var u=r[s],c=t.hash_get(n,u);void 0!==c&&t.hash_put(o,u,c)}return o},ft.$$arity=-1),t.alias(wt,"store","[]="),t.def(wt,"$to_a",_t=function(){for(var t,e,r=this,n=[],i=0,$=r.$$keys,a=$.length;i<a;i++)t=$[i],t.$$is_string?e=r.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},_t.$$arity=0),t.def(wt,"$to_h",ht=function(){var e=this;if(e.$$class===t.Hash)return e;var r=new t.Hash.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},ht.$$arity=0),t.def(wt,"$to_hash",dt=function(){var t=this;return t},dt.$$arity=0),t.def(wt,"$to_proc",pt=function(){var t,e=this;return l(e,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise(o(kt,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=e,t.$$arity=-1,t))},pt.$$arity=0),t.alias(wt,"to_s","inspect"),t.def(wt,"$transform_keys",yt=function(){var e,r=this,n=yt.$$p,i=n||a;if(n&&(yt.$$p=null),!c(i))return l(r,"enum_for",["transform_keys"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=t.hash(),u=0,f=r.$$keys,_=f.length;u<_;u++)$=f[u],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),$=t.yield1(i,$),t.hash_put(s,$,o);return s},yt.$$arity=0),t.def(wt,"$transform_keys!",mt=function(){var e,r=this,n=mt.$$p,i=n||a;if(n&&(mt.$$p=null),!c(i))return l(r,"enum_for",["transform_keys!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var $,o,s,u,f=t.slice.call(r.$$keys),_=f.length;for($=0;$<_;$++)o=f[$],o.$$is_string?s=r.$$smap[o]:(s=o.value,o=o.key),u=t.yield1(i,o),t.hash_delete(r,o),t.hash_put(r,u,s);return r},mt.$$arity=0),t.def(wt,"$transform_values",gt=function(){var e,r=this,n=gt.$$p,i=n||a;if(n&&(gt.$$p=null),!c(i))return l(r,"enum_for",["transform_values"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=t.hash(),u=0,f=r.$$keys,_=f.length;u<_;u++)$=f[u],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),o=t.yield1(i,o),t.hash_put(s,$,o);return s},gt.$$arity=0),t.def(wt,"$transform_values!",vt=function(){var e,r=this,n=vt.$$p,i=n||a;if(n&&(vt.$$p=null),!c(i))return l(r,"enum_for",["transform_values!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=0,u=r.$$keys,f=u.length;s<f;s++)$=u[s],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),o=t.yield1(i,o),t.hash_put(r,$,o);return r},vt.$$arity=0),t.alias(wt,"update","merge!"),t.alias(wt,"value?","has_value?"),t.alias(wt,"values_at","indexes"),t.def(wt,"$values",bt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,$=i.length;n<$;n++)t=i[n],t.$$is_string?r.push(e.$$smap[t]):r.push(t.value);return r},bt.$$arity=0),a&&"values"}($[0],null,$)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,u=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,h=(t.breaker,t.slice,t.klass),d=t.truthy,p=t.send,y=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),l.$require("corelib/numeric"),function(l,u,m){function g(){}var v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt=g=h(l,u,"Number",g),Dt=(qt.$$proto,[qt].concat(m));_(Dt,"Opal").$bridge(qt,Number),Number.prototype.$$is_number=!0,qt.$$is_number_class=!0,function(e,r){var n,i=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(i,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),c}(t.get_singleton_class(qt),Dt),t.def(qt,"$coerce",v=function(t){var e=this;if(t===c)e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[e.$Float(t),e];if(t["$respond_to?"]("to_f"))return[_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Float"),"to_f"),e];if(t.$$is_number)return[t,e];e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float")}},v.$$arity=1),t.def(qt,"$__id__",b=function(){var t=this;return 2*t+1},b.$$arity=0),t.alias(qt,"object_id","__id__"),t.def(qt,"$+",w=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},w.$$arity=1),t.def(qt,"$-",E=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},E.$$arity=1),t.def(qt,"$*",k=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},k.$$arity=1),t.def(qt,"$/",x=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},x.$$arity=1),t.alias(qt,"fdiv","/"),t.def(qt,"$%",A=function(t){var e=this;return t.$$is_number?t==-(1/0)?t:0!=t?t<0||e<0?(e%t+t)%t:e%t:void e.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"):e.$__coerced__("%",t)},A.$$arity=1),t.def(qt,"$&",O=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},O.$$arity=1),t.def(qt,"$|",M=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},M.$$arity=1),t.def(qt,"$^",S=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},S.$$arity=1),t.def(qt,"$<",T=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},T.$$arity=1),t.def(qt,"$<=",R=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},R.$$arity=1),t.def(qt,"$>",I=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},I.$$arity=1),t.def(qt,"$>=",C=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},C.$$arity=1);var Lt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?c:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};return t.def(qt,"$<=>",N=function(e){var r=this;try{return Lt(r,e)}catch(e){if(!t.rescue(e,[_(Dt,"ArgumentError")]))throw e;try{return c}finally{t.pop_exception()}}},N.$$arity=1),t.def(qt,"$<<",z=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e<<t:e>>-t},z.$$arity=1),t.def(qt,"$>>",P=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e>>t:e<<-t},P.$$arity=1),t.def(qt,"$[]",B=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t<0?0:t>=32?e<0?1:0:e>>t&1},B.$$arity=1),t.def(qt,"$+@",q=function(){var t=this;return+t},q.$$arity=0),t.def(qt,"$-@",D=function(){var t=this;return-t},D.$$arity=0),t.def(qt,"$~",L=function(){var t=this;return~t},L.$$arity=0),t.def(qt,"$**",F=function(t){var n,i,$=this;return d(_(Dt,"Integer")["$==="](t))?d(d(n=_(Dt,"Integer")["$==="]($)["$!"]())?n:e(t,0))?Math.pow($,t):_(Dt,"Rational").$new($,1)["$**"](t):d((n=r($,0))?d(i=_(Dt,"Float")["$==="](t))?i:_(Dt,"Rational")["$==="](t):r($,0))?_(Dt,"Complex").$new($,0)["$**"](t.$to_f()):d(null!=t.$$is_number)?Math.pow($,t):$.$__coerced__("**",t)},F.$$arity=1),t.def(qt,"$===",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.def(qt,"$==",U=function(t){
var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},U.$$arity=1),t.def(qt,"$abs",H=function(){var t=this;return Math.abs(t)},H.$$arity=0),t.def(qt,"$abs2",G=function(){var t=this;return Math.abs(t*t)},G.$$arity=0),t.def(qt,"$allbits?",Y=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),(e&t)==t},Y.$$arity=1),t.def(qt,"$anybits?",W=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0!==(e&t)},W.$$arity=1),t.def(qt,"$angle",X=function(){var t=this;return d(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},X.$$arity=0),t.alias(qt,"arg","angle"),t.alias(qt,"phase","angle"),t.def(qt,"$bit_length",K=function(){var t=this;if(d(_(Dt,"Integer")["$==="](t))||t.$raise(_(Dt,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||t===-1)return 0;for(var e=0,r=t<0?~t:t;0!=r;)e+=1,r>>>=1;return e},K.$$arity=0),t.def(qt,"$ceil",V=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.ceil(r*n)/n;return r%1===0&&(i=Math.round(i)),i},V.$$arity=-1),t.def(qt,"$chr",J=function(t){var e=this;return String.fromCharCode(e)},J.$$arity=-1),t.def(qt,"$denominator",Z=function(){var e,r=this,n=Z.$$p,i=c,$=c,a=c;for(n&&(Z.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return d(d(e=r["$nan?"]())?e:r["$infinite?"]())?1:p(r,t.find_super_dispatcher(r,"denominator",Z,!1),i,n)},Z.$$arity=0),t.def(qt,"$downto",Q=function(t){var r,$=this,a=Q.$$p,o=a||c;if(a&&(Q.$$p=null),o===c)return p($,"enum_for",["downto",t],(r=function(){var $=r.$$s||this;return d(_(Dt,"Numeric")["$==="](t))||$.$raise(_(Dt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),d(e(t,$))?0:n(i($,t),1)},r.$$s=$,r.$$arity=0,r));t.$$is_number||$.$raise(_(Dt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed");for(var s=$;s>=t;s--)o(s);return $},Q.$$arity=1),t.alias(qt,"eql?","=="),t.def(qt,"$equal?",tt=function(t){var e,r=this;return d(e=r["$=="](t))?e:isNaN(r)&&isNaN(t)},tt.$$arity=1),t.def(qt,"$even?",et=function(){var t=this;return t%2===0},et.$$arity=0),t.def(qt,"$floor",rt=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.floor(r*n)/n;return r%1===0&&(i=Math.round(i)),i},rt.$$arity=-1),t.def(qt,"$gcd",nt=function(t){var e=this;d(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer");for(var r=Math.abs(e),n=Math.abs(t);r>0;){var i=r;r=n%r,n=i}return n},nt.$$arity=1),t.def(qt,"$gcdlcm",it=function(t){var e=this;return[e.$gcd(),e.$lcm()]},it.$$arity=1),t.def(qt,"$integer?",$t=function(){var t=this;return t%1===0},$t.$$arity=0),t.def(qt,"$is_a?",at=function(e){var r,n=this,i=at.$$p,$=c,a=c,o=c;for(i&&(at.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return!!d((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!d((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!d((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"is_a?",at,!1),$,i)))},at.$$arity=1),t.alias(qt,"kind_of?","is_a?"),t.def(qt,"$instance_of?",ot=function(e){var r,n=this,i=ot.$$p,$=c,a=c,o=c;for(i&&(ot.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return!!d((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!d((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!d((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"instance_of?",ot,!1),$,i)))},ot.$$arity=1),t.def(qt,"$lcm",st=function(t){var e=this;return d(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer"),0==e||0==t?0:Math.abs(e*t/e.$gcd(t))},st.$$arity=1),t.alias(qt,"magnitude","abs"),t.alias(qt,"modulo","%"),t.def(qt,"$next",lt=function(){var t=this;return t+1},lt.$$arity=0),t.def(qt,"$nobits?",ut=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0==(e&t)},ut.$$arity=1),t.def(qt,"$nonzero?",ct=function(){var t=this;return 0==t?c:t},ct.$$arity=0),t.def(qt,"$numerator",ft=function(){var e,r=this,n=ft.$$p,i=c,$=c,a=c;for(n&&(ft.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return d(d(e=r["$nan?"]())?e:r["$infinite?"]())?r:p(r,t.find_super_dispatcher(r,"numerator",ft,!1),i,n)},ft.$$arity=0),t.def(qt,"$odd?",_t=function(){var t=this;return t%2!==0},_t.$$arity=0),t.def(qt,"$ord",ht=function(){var t=this;return t},ht.$$arity=0),t.def(qt,"$pow",dt=function(t,e){var r=this;return 0==r&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),void 0===e?r["$**"](t):(_(Dt,"Integer")["$==="](t)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&r.$raise(_(Dt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),_(Dt,"Integer")["$==="](e)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),r["$**"](t)["$%"](e))},dt.$$arity=-2),t.def(qt,"$pred",pt=function(){var t=this;return t-1},pt.$$arity=0),t.def(qt,"$quo",yt=function(e){var r=this,n=yt.$$p,i=c,a=c,o=c;for(n&&(yt.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return d(_(Dt,"Integer")["$==="](r))?p(r,t.find_super_dispatcher(r,"quo",yt,!1),i,n):$(r,e)},yt.$$arity=1),t.def(qt,"$rationalize",mt=function(e){var r,n,$=this,o=c,s=c;return arguments.length>1&&$.$raise(_(Dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(_(Dt,"Integer")["$==="]($))?_(Dt,"Rational").$new($,1):d($["$infinite?"]())?$.$raise(_(Dt,"FloatDomainError"),"Infinity"):d($["$nan?"]())?$.$raise(_(Dt,"FloatDomainError"),"NaN"):d(null==e)?(n=_(Dt,"Math").$frexp($),r=t.to_ary(n),o=null==r[0]?c:r[0],s=null==r[1]?c:r[1],n,o=_(Dt,"Math").$ldexp(o,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),s=i(s,f(_(Dt,"Float"),"MANT_DIG")),_(Dt,"Rational").$new(a(2,o),1["$<<"](i(1,s))).$rationalize(_(Dt,"Rational").$new(1,1["$<<"](i(1,s))))):$.$to_r().$rationalize(e)},mt.$$arity=-1),t.def(qt,"$remainder",gt=function(t){var e=this;return i(e,a(t,$(e,t).$truncate()))},gt.$$arity=1),t.def(qt,"$round",vt=function(a){var l,u,h=this,p=c,y=c;if(d(_(Dt,"Integer")["$==="](h))){if(d(null==a))return h;if(d(d(l=_(Dt,"Float")["$==="](a))?a["$infinite?"]():l)&&h.$raise(_(Dt,"RangeError"),"Infinity"),a=_(Dt,"Opal")["$coerce_to!"](a,_(Dt,"Integer"),"to_int"),d(r(a,f(_(Dt,"Integer"),"MIN")))&&h.$raise(_(Dt,"RangeError"),"out of bounds"),d(a>=0))return h;if(a=a["$-@"](),.415241*a-.125>h.$size())return 0;var m=Math.pow(10,a),g=Math.floor((Math.abs(g)+m/2)/m)*m;return h<0?-g:g}if(d(d(l=h["$nan?"]())?null==a:l)&&h.$raise(_(Dt,"FloatDomainError"),"NaN"),a=_(Dt,"Opal")["$coerce_to!"](a||0,_(Dt,"Integer"),"to_int"),d(o(a,0)))d(h["$nan?"]())?h.$raise(_(Dt,"RangeError"),"NaN"):d(h["$infinite?"]())&&h.$raise(_(Dt,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(h);if(d(d(l=h["$nan?"]())?l:h["$infinite?"]()))return h}return u=_(Dt,"Math").$frexp(h),l=t.to_ary(u),p=null==l[0]?c:l[0],y=null==l[1]?c:l[1],u,d(s(a,i(n(f(_(Dt,"Float"),"DIG"),2),function(){return d(e(y,0))?$(y,4):i($(y,3),1)}())))?h:d(r(a,function(){return d(e(y,0))?n($(y,3),1):$(y,4)}()["$-@"]()))?0:Math.round(h*Math.pow(10,a))/Math.pow(10,a)},vt.$$arity=-1),t.def(qt,"$step",bt=function(e,r,n){function i(){void 0!==l&&(h=l),void 0===h&&(h=c),d===c&&m.$raise(_(Dt,"TypeError"),"step must be numeric"),0===d&&m.$raise(_(Dt,"ArgumentError"),"step can't be 0"),void 0!==u&&(d=u),d!==c&&null!=d||(d=1);var t=d["$<=>"](0);t===c&&m.$raise(_(Dt,"ArgumentError"),"0 can't be coerced into "+d.$class()),h!==c&&null!=h||(h=t>0?f(_(Dt,"Float"),"INFINITY"):f(_(Dt,"Float"),"INFINITY")["$-@"]()),_(Dt,"Opal").$compare(m,h)}function $(){if(d>0&&m>h||d<0&&m<h)return 0;if(d===1/0||d===-(1/0))return 1;var t=Math.abs,e=Math.floor,r=(t(m)+t(h)+t(h-m))/t(d)*f(_(Dt,"Float"),"EPSILON");return r===1/0||r===-(1/0)?0:(r>.5&&(r=.5),e((h-m)/d+r)+1)}function a(){if(i(),0===d)return 1/0;if(d%1!==0)return $();if(d>0&&m>h||d<0&&m<h)return 0;var t=Math.ceil,e=Math.abs,r=e(m-h)+1,n=e(d);return t(r/n)}var o,s,l,u,h,d,m=this,g=bt.$$p,v=g||c,b=c,w=c;if(s=t.slice.call(arguments,0,arguments.length),n=t.extract_kwargs(s),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=y([],{})}if(l=n.$$smap.to,u=n.$$smap.by,0<s.length&&(h=s.splice(0,1)[0]),0<s.length&&(d=s.splice(0,1)[0]),g&&(bt.$$p=null),void 0!==h&&void 0!==l&&m.$raise(_(Dt,"ArgumentError"),"to is given twice"),void 0!==d&&void 0!==u&&m.$raise(_(Dt,"ArgumentError"),"step is given twice"),v===c)return b=[],w=y([],{}),void 0!==h&&b.push(h),void 0!==d&&b.push(d),void 0!==l&&t.hash_put(w,"to",l),void 0!==u&&t.hash_put(w,"by",u),w["$any?"]()&&b.push(w),p(m,"enum_for",["step"].concat(t.to_a(b)),(o=function(){o.$$s||this;return a()},o.$$s=m,o.$$arity=0,o));if(i(),0===d)for(;;)v(m);if(m%1!==0||h%1!==0||d%1!==0){var E=$();if(E>0)if(d===1/0||d===-(1/0))v(m);else{var k,x=0;if(d>0)for(;x<E;)k=x*d+m,h<k&&(k=h),v(k),x+=1;else for(;x<E;)k=x*d+m,h>k&&(k=h),v(k),x+=1}}else{var A=m;if(d>0)for(;A<=h;)v(A),A+=d;else for(;A>=h;)v(A),A+=d}return m},bt.$$arity=-1),t.alias(qt,"succ","next"),t.def(qt,"$times",wt=function(){var t,e=this,r=wt.$$p,n=r||c;if(r&&(wt.$$p=null),!d(n))return p(e,"enum_for",["times"],(t=function(){var e=t.$$s||this;return e},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)n(i);return e},wt.$$arity=0),t.def(qt,"$to_f",Et=function(){var t=this;return t},Et.$$arity=0),t.def(qt,"$to_i",kt=function(){var t=this;return parseInt(t,10)},kt.$$arity=0),t.alias(qt,"to_int","to_i"),t.def(qt,"$to_r",xt=function(){var e,r,n=this,$=c,o=c;return d(_(Dt,"Integer")["$==="](n))?_(Dt,"Rational").$new(n,1):(r=_(Dt,"Math").$frexp(n),e=t.to_ary(r),$=null==e[0]?c:e[0],o=null==e[1]?c:e[1],r,$=_(Dt,"Math").$ldexp($,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),o=i(o,f(_(Dt,"Float"),"MANT_DIG")),a($,f(_(Dt,"Float"),"RADIX")["$**"](o)).$to_r())},xt.$$arity=0),t.def(qt,"$to_s",At=function(t){var n,i=this;return null==t&&(t=10),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),d(d(n=r(t,2))?n:e(t,36))&&i.$raise(_(Dt,"ArgumentError"),"invalid radix "+t),i.toString(t)},At.$$arity=-1),t.def(qt,"$truncate",Ot=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=parseInt(r*n,10)/n;return r%1===0&&(i=Math.round(i)),i},Ot.$$arity=-1),t.alias(qt,"inspect","to_s"),t.def(qt,"$digits",Mt=function(t){var e=this;null==t&&(t=10),r(e,0)&&e.$raise(f(_(Dt,"Math"),"DomainError"),"out of domain"),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),d(r(t,2))&&e.$raise(_(Dt,"ArgumentError"),"invalid radix "+t);for(var n=e,i=[];0!==n;)i.push(n%t),n=parseInt(n/t,10);return i},Mt.$$arity=-1),t.def(qt,"$divmod",St=function(e){var r,n=this,i=St.$$p,$=c,a=c,o=c;for(i&&(St.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return d(d(r=n["$nan?"]())?r:e["$nan?"]())?n.$raise(_(Dt,"FloatDomainError"),"NaN"):d(n["$infinite?"]())?n.$raise(_(Dt,"FloatDomainError"),"Infinity"):p(n,t.find_super_dispatcher(n,"divmod",St,!1),$,i)},St.$$arity=1),t.def(qt,"$upto",Tt=function(t){var e,$=this,a=Tt.$$p,o=a||c;if(a&&(Tt.$$p=null),o===c)return p($,"enum_for",["upto",t],(e=function(){var $=e.$$s||this;return d(_(Dt,"Numeric")["$==="](t))||$.$raise(_(Dt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),d(r(t,$))?0:n(i(t,$),1)},e.$$s=$,e.$$arity=0,e));t.$$is_number||$.$raise(_(Dt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed");for(var s=$;s<=t;s++)o(s);return $},Tt.$$arity=1),t.def(qt,"$zero?",Rt=function(){var t=this;return 0==t},Rt.$$arity=0),t.def(qt,"$size",It=function(){return 4},It.$$arity=0),t.def(qt,"$nan?",Ct=function(){var t=this;return isNaN(t)},Ct.$$arity=0),t.def(qt,"$finite?",Nt=function(){var t=this;return t!=1/0&&t!=-(1/0)&&!isNaN(t)},Nt.$$arity=0),t.def(qt,"$infinite?",zt=function(){var t=this;return t==1/0?1:t==-(1/0)?-1:c},zt.$$arity=0),t.def(qt,"$positive?",Pt=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},Pt.$$arity=0),t.def(qt,"$negative?",Bt=function(){var t=this;return t==-(1/0)||1/t<0},Bt.$$arity=0),c&&"negative?"}(u[0],_(u,"Numeric"),u),t.const_set(u[0],"Fixnum",_(u,"Number")),function(e,r,n){function i(){}var $=i=h(e,r,"Integer",i),a=($.$$proto,[$].concat(n));return $.$$is_number_class=!0,function(e,r){var n,i,$,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(a,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1===0},i.$$arity=1),t.def(e,"$sqrt",$=function(t){var e=this;return t=_(a,"Opal")["$coerce_to!"](t,_(a,"Integer"),"to_int"),t<0&&e.$raise(f(_(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},$.$$arity=1),c&&"sqrt"}(t.get_singleton_class($),a),t.const_set(a[0],"MAX",Math.pow(2,30)-1),t.const_set(a[0],"MIN",-Math.pow(2,30))}(u[0],_(u,"Numeric"),u),function(e,r,n){function i(){}var $=i=h(e,r,"Float",i),a=($.$$proto,[$].concat(n));return $.$$is_number_class=!0,function(e,r){var n,i,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_($,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1),c&&"==="}(t.get_singleton_class($),a),t.const_set(a[0],"INFINITY",1/0),t.const_set(a[0],"MAX",Number.MAX_VALUE),t.const_set(a[0],"MIN",Number.MIN_VALUE),t.const_set(a[0],"NAN",NaN),t.const_set(a[0],"DIG",15),t.const_set(a[0],"MANT_DIG",53),t.const_set(a[0],"RADIX",2),t.const_set(a[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(u[0],_(u,"Numeric"),u)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var l=t.top,u=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,h=(t.breaker,t.slice,t.klass),d=t.truthy,p=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),l.$require("corelib/enumerable"),function(l,u,y){function m(){}var g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B=m=h(l,u,"Range",m),q=B.$$proto,D=[B].concat(y);return q.begin=q.end=q.excl=c,B.$include(_(D,"Enumerable")),q.$$is_range=!0,B.$attr_reader("begin","end"),t.def(B,"$initialize",g=function(t,e,r){var n=this;return null==r&&(r=!1),d(n.begin)&&n.$raise(_(D,"NameError"),"'initialize' called twice"),d(t["$<=>"](e))||n.$raise(_(D,"ArgumentError"),"bad value for range"),n.begin=t,n.end=e,n.excl=r},g.$$arity=-3),t.def(B,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.def(B,"$===",b=function(t){var e=this;return e["$include?"](t)},b.$$arity=1),t.def(B,"$cover?",w=function(t){var n,i=this,$=c,a=c;return $=i.begin["$<=>"](t),!!d(d(n=$)?e($,0):n)&&(a=t["$<=>"](i.end),d(i.excl)?d(n=a)?r(a,0):n:d(n=a)?e(a,0):n)},w.$$arity=1),t.def(B,"$each",E=function(){var e,n=this,i=E.$$p,$=i||c,a=c,o=c;if(i&&(E.$$p=null),$===c)return n.$enum_for("each");var s,l;if(n.begin.$$is_number&&n.end.$$is_number){for(n.begin%1===0&&n.end%1===0||n.$raise(_(D,"TypeError"),"can't iterate from Float"),s=n.begin,l=n.end+function(){return d(n.excl)?0:1}();s<l;s++)$(s);return n}if(n.begin.$$is_string&&n.end.$$is_string)return p(n.begin,"upto",[n.end,n.excl],$.$to_proc()),n;for(a=n.begin,o=n.end,d(a["$respond_to?"]("succ"))||n.$raise(_(D,"TypeError"),"can't iterate from "+a.$class());d(r(a["$<=>"](o),0));)t.yield1($,a),a=a.$succ();return d(d(e=n.excl["$!"]())?a["$=="](o):e)&&t.yield1($,a),n},E.$$arity=0),t.def(B,"$eql?",k=function(t){var e,r,n=this;return!!d(_(D,"Range")["$==="](t))&&(d(e=d(r=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):r)?n.end["$eql?"](t.$end()):e)},k.$$arity=1),t.def(B,"$exclude_end?",x=function(){var t=this;return t.excl},x.$$arity=0),t.def(B,"$first",A=function(e){var r=this,n=A.$$p,i=c,$=c,a=c;for(n&&(A.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return d(null==e)?r.begin:p(r,t.find_super_dispatcher(r,"first",A,!1),i,n)},A.$$arity=-1),t.alias(B,"include?","cover?"),t.def(B,"$last",O=function(t){var e=this;return d(null==t)?e.end:e.$to_a().$last(t)},O.$$arity=-1),t.def(B,"$max",M=function(){var e,r=this,i=M.$$p,$=i||c,a=c,o=c,s=c;for(i&&(M.$$p=null),o=0,s=arguments.length,a=new Array(s);o<s;o++)a[o]=arguments[o];return $!==c?p(r,t.find_super_dispatcher(r,"max",M,!1),a,i):d(n(r.begin,r.end))?c:d(d(e=r.excl)?r.begin["$=="](r.end):e)?c:r.excl?r.end-1:r.end},M.$$arity=0),t.alias(B,"member?","cover?"),t.def(B,"$min",S=function(){var e,r=this,i=S.$$p,$=i||c,a=c,o=c,s=c;for(i&&(S.$$p=null),o=0,s=arguments.length,a=new Array(s);o<s;o++)a[o]=arguments[o];return $!==c?p(r,t.find_super_dispatcher(r,"min",S,!1),a,i):d(n(r.begin,r.end))?c:d(d(e=r.excl)?r.begin["$=="](r.end):e)?c:r.begin},S.$$arity=0),t.def(B,"$size",T=function(){var t,e=this,n=c,$=c,a=c;return n=e.begin,$=e.end,d(e.excl)&&($=i($,1)),d(d(t=_(D,"Numeric")["$==="](n))?_(D,"Numeric")["$==="]($):t)?d(r($,n))?0:(a=f(_(D,"Float"),"INFINITY"),d([n.$abs(),$.$abs()]["$include?"](a))?a:(Math.abs($-n)+1).$to_i()):c},T.$$arity=0),t.def(B,"$step",R=function(e){function r(){e.$$is_number||(e=_(D,"Opal")["$coerce_to!"](e,_(D,"Integer"),"to_int")),e<0?y.$raise(_(D,"ArgumentError"),"step can't be negative"):0===e&&y.$raise(_(D,"ArgumentError"),"step can't be 0")}function i(){if(!y.begin["$respond_to?"]("succ"))return c;if(y.begin.$$is_string&&y.end.$$is_string)return c;if(e%1===0)return $(y.$size(),e).$ceil();var t,r=y.begin,n=y.end,i=Math.abs,a=Math.floor,o=(i(r)+i(n)+i(n-r))/i(e)*f(_(D,"Float"),"EPSILON");return o>.5&&(o=.5),y.excl?(t=a((n-r)/e-o),t*e+r<n&&t++):t=a((n-r)/e+o)+1,t}var l,u,h,y=this,m=R.$$p,g=m||c,v=c;return null==e&&(e=1),m&&(R.$$p=null),g===c?p(y,"enum_for",["step",e],(l=function(){l.$$s||this;return r(),i()},l.$$s=y,l.$$arity=0,l)):(r(),d(y.begin.$$is_number&&y.end.$$is_number)?(v=0,function(){var r=t.new_brk();try{return p(y,"loop",[],(u=function(){var i=u.$$s||this,$=c;return null==i.begin&&(i.begin=c),null==i.excl&&(i.excl=c),null==i.end&&(i.end=c),$=a(i.begin,o(v,e)),d(i.excl)?d(s($,i.end))&&t.brk(c,r):d(n($,i.end))&&t.brk(c,r),t.yield1(g,$),v=a(v,1)},u.$$s=y,u.$$brk=r,u.$$arity=0,u))}catch(t){if(t===r)return t.$v;throw t}}()):(y.begin.$$is_string&&y.end.$$is_string&&e%1!==0&&y.$raise(_(D,"TypeError"),"no implicit conversion to float from string"),p(y,"each_with_index",[],(h=function(r,n){h.$$s||this;return null==r&&(r=c),null==n&&(n=c),n["$%"](e)["$=="](0)?t.yield1(g,r):c},h.$$s=y,h.$$arity=2,h))),y)},R.$$arity=-1),t.def(B,"$bsearch",I=function(){var t=this,e=I.$$p,r=e||c;return e&&(I.$$p=null),r===c?t.$enum_for("bsearch"):(d(t.begin.$$is_number&&t.end.$$is_number)||t.$raise(_(D,"TypeError"),"can't do binary search for "+t.begin.$class()),p(t.$to_a(),"bsearch",[],r.$to_proc()))},I.$$arity=0),t.def(B,"$to_s",C=function(){var t=this;return""+t.begin+function(){return d(t.excl)?"...":".."}()+t.end},C.$$arity=0),t.def(B,"$inspect",N=function(){var t=this;return""+t.begin.$inspect()+function(){return d(t.excl)?"...":".."}()+t.end.$inspect()},N.$$arity=0),t.def(B,"$marshal_load",z=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},z.$$arity=1),t.def(B,"$hash",P=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},P.$$arity=0),c&&"hash"}(u[0],null,u)},Opal.modules["corelib/proc"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),$=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,s){function l(){}var u,c,f,_,h,d,p,y,m,g,v=l=$(e,o,"Proc",l),b=v.$$proto,w=[v].concat(s);return b.$$is_proc=!0,b.$$is_lambda=!1,t.defs(v,"$new",u=function(){var t=this,e=u.$$p,i=e||r;return e&&(u.$$p=null),a(i)||t.$raise(n(w,"ArgumentError"),"tried to create a Proc object without a block"),i},u.$$arity=0),t.def(v,"$call",c=function(e){var n,i=this,$=c.$$p,a=$||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];$&&(c.$$p=null),a!==r&&(i.$$p=a);var u,f=i.$$brk;if(f)try{u=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n)}catch(t){if(t===f)return f.$v;throw t}else u=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n);return u},c.$$arity=-1),t.alias(v,"[]","call"),t.alias(v,"===","call"),t.alias(v,"yield","call"),t.def(v,"$to_proc",f=function(){var t=this;return t},f.$$arity=0),t.def(v,"$lambda?",_=function(){var t=this;return!!t.$$is_lambda},_.$$arity=0),t.def(v,"$arity",h=function(){var t=this;return t.$$is_curried?-1:t.$$arity},h.$$arity=0),t.def(v,"$source_location",d=function(){var t=this;return t.$$is_curried?r:r},d.$$arity=0),t.def(v,"$binding",p=function(){var t=this;return t.$$is_curried&&t.$raise(n(w,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(v,"$parameters",y=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,r,n=[];for(e=0,r=t.$$parameters.length;e<r;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),n.push(i)}return n}return[]},y.$$arity=0),t.def(v,"$curry",m=function(t){function e(){var $,a=i.call(arguments),o=a.length;return o>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?r.$call.apply(r,a):($=function(){return e.apply(null,a.concat(i.call(arguments)))},$.$$is_lambda=r.$$is_lambda,$.$$is_curried=!0,$)}var r=this;return void 0===t?t=r.length:(t=n(w,"Opal")["$coerce_to!"](t,n(w,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},m.$$arity=-1),t.def(v,"$dup",g=function(){var t=this,e=t.$$original_proc||t,r=function(){return e.apply(this,arguments)};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},g.$$arity=0),t.alias(v,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,a,o){function s(){}var l,u,c,f,_,h,d,p,y,m=s=i(e,a,"Method",s),g=m.$$proto,v=[m].concat(o);return g.method=g.receiver=g.owner=g.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",l=function(t,e,r,n){var i=this;return i.receiver=t,i.owner=e,i.name=n,i.method=r},l.$$arity=4),t.def(m,"$arity",u=function(){var t=this;return t.method.$arity()},u.$$arity=0),t.def(m,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",f=function(){var t,e=this;return $(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(m,"$comments",_=function(){var t,e=this;return $(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(m,"$call",h=function(t){var e,n=this,i=h.$$p,$=i||r,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return i&&(h.$$p=null),n.method.$$p=$,n.method.apply(n.receiver,e)},h.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",d=function(){var t=this;return n(v,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},d.$$arity=0),t.def(m,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.def(m,"$inspect",y=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},y.$$arity=0),r&&"inspect"}(e[0],null,e),function(e,a,o){function s(){}var l,u,c,f,_,h,d,p=s=i(e,a,"UnboundMethod",s),y=p.$$proto,m=[p].concat(o);return y.method=y.owner=y.name=y.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",l=function(t,e,r,n){var i=this;return i.source=t,i.owner=e,i.method=r,i.name=n},l.$$arity=4),t.def(p,"$arity",u=function(){var t=this;return t.method.$arity()},u.$$arity=0),t.def(p,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(p,"$source_location",f=function(){var t,e=this;return $(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(p,"$comments",_=function(){var t,e=this;return $(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(p,"$bind",h=function(e){var r=this;return r.owner.$$is_module||t.is_a(e,r.owner)?n(m,"Method").$new(e,r.owner,r.method,r.name):void r.$raise(n(m,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+r.owner+" to be true)")},h.$$arity=1),t.def(p,"$inspect",d=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},d.$$arity=0),r&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,$){var a,o=a=i(e,"Opal"),s=(o.$$proto,[o].concat($));t.const_set(s[0],"REGEXP_START",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"^":r}()),t.const_set(s[0],"REGEXP_END",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"$":r}()),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",n(s,"Regexp").$new("[^"+n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",n(s,"Regexp").$new(""+n(s,"REGEXP_START")+"(::)?[A-Z][^"+n(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.klass),u=t.send,c=t.truthy,f=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,r,n){function i(){}var $,u=i=l(e,r,"String",i),c=(u.$$proto,[u].concat(n));return t.defs(u,"$inherited",$=function(t){var e=a;e=s(c,"Class").$new(o(s(c,"String"),"Wrapper")),t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=o(s(c,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},$.$$arity=1),a&&"inherited"}($[0],null,$),function(i,$,o){function s(){}var _,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R=s=l(i,$,"Wrapper",s),I=R.$$proto;[R].concat(o);return I.literal=a,I.$$is_string=!0,t.defs(R,"$allocate",_=function(e){var r=this,n=_.$$p,i=a;return null==e&&(e=""),n&&(_.$$p=null),i=u(r,t.find_super_dispatcher(r,"allocate",_,!1,s),[],null),i.literal=e,i},_.$$arity=-1),t.defs(R,"$new",h=function(e){var r,n=this,i=h.$$p,$=i||a,o=a,s=arguments.length,l=s-0;l<0&&(l=0),r=new Array(l);for(var c=0;c<s;c++)r[c-0]=arguments[c];return i&&(h.$$p=null),o=n.$allocate(),u(o,"initialize",t.to_a(r),$.$to_proc()),o},h.$$arity=-1),t.defs(R,"$[]",d=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$allocate(e)},d.$$arity=-1),t.def(R,"$initialize",p=function(t){var e=this;return null==t&&(t=""),e.literal=t},p.$$arity=-1),t.def(R,"$method_missing",y=function(e){var r,n=this,i=y.$$p,$=i||a,o=a,s=arguments.length,l=s-0;l<0&&(l=0),r=new Array(l);for(var f=0;f<s;f++)r[f-0]=arguments[f];return i&&(y.$$p=null),o=u(n.literal,"__send__",t.to_a(r),$.$to_proc()),c(null!=o.$$is_string)?c(o==n.literal)?n:n.$class().$allocate(o):o},y.$$arity=-1),t.def(R,"$initialize_copy",m=function(t){var e=this;return e.literal=t.literal.$clone()},m.$$arity=1),t.def(R,"$respond_to?",g=function(e,r){var n,i=this,$=g.$$p,o=a,s=a,l=a;for($&&(g.$$p=null),s=0,l=arguments.length,o=new Array(l);s<l;s++)o[s]=arguments[s];return c(n=u(i,t.find_super_dispatcher(i,"respond_to?",g,!1),o,$))?n:i.literal["$respond_to?"](e)},g.$$arity=-2),t.def(R,"$==",v=function(t){var e=this;return e.literal["$=="](t)},v.$$arity=1),t.alias(R,"eql?","=="),t.alias(R,"===","=="),t.def(R,"$to_s",b=function(){var t=this;return t.literal.$to_s()},b.$$arity=0),t.alias(R,"to_str","to_s"),t.def(R,"$inspect",w=function(){var t=this;return t.literal.$inspect()},w.$$arity=0),t.def(R,"$+",E=function(t){var r=this;return e(r.literal,t)},E.$$arity=1),t.def(R,"$*",k=function(t){var e=this,n=r(e.literal,t);return n.$$is_string?e.$class().$allocate(n):n},k.$$arity=1),t.def(R,"$split",x=function(t,e){var r,n=this;return u(n.literal.$split(t,e),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=a),e.$class().$allocate(t)},r.$$s=n,r.$$arity=1,r))},x.$$arity=-1),t.def(R,"$replace",A=function(t){var e=this;return e.literal=t},A.$$arity=1),t.def(R,"$each_line",O=function(e){var r,n=this,i=O.$$p,$=i||a;return null==f["/"]&&(f["/"]=a),null==e&&(e=f["/"]),i&&(O.$$p=null),$===a?n.$enum_for("each_line",e):u(n.literal,"each_line",[e],(r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1($,n.$class().$allocate(e))},r.$$s=n,r.$$arity=1,r))},O.$$arity=-1),t.def(R,"$lines",M=function(t){var e=this,r=M.$$p,n=r||a,i=a;return null==f["/"]&&(f["/"]=a),null==t&&(t=f["/"]),r&&(M.$$p=null),i=u(e,"each_line",[t],n.$to_proc()),
c(n)?e:i.$to_a()},M.$$arity=-1),t.def(R,"$%",S=function(t){var e=this;return e.literal["$%"](t)},S.$$arity=1),t.def(R,"$instance_variables",T=function(){var e=this,r=T.$$p,i=a,$=a,o=a;for(r&&(T.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return n(u(e,t.find_super_dispatcher(e,"instance_variables",T,!1),i,r),["@literal"])},T.$$arity=0),a&&"instance_variables"}(s($,"String"),null,$)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,n,i,$,a,o=t.top,s=[],l=t.nil,u=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.klass),_=t.truthy,h=t.send,d=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),o.$require("corelib/string"),function(r,n,i){function $(){}var a,o,s,u,p,y,m,g,v,b,w=$=f(r,n,"Encoding",$),E=w.$$proto,k=[w].concat(i);return E.ascii=E.dummy=E.name=l,w.$$register={},t.defs(w,"$register",a=function(t,r){var n,i,$=this,o=a.$$p,s=o||l,u=l,f=l,p=l;return null==r&&(r=d([],{})),o&&(a.$$p=null),u=e([t],_(n=r["$[]"]("aliases"))?n:[]),f=h(c(k,"Class"),"new",[$],s.$to_proc()).$new(t,u,!!_(n=r["$[]"]("ascii"))&&n,!!_(n=r["$[]"]("dummy"))&&n),p=$.$$register,h(u,"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=l),e.$const_set(t.$sub("-","_"),f),p["$$"+t]=f},i.$$s=$,i.$$arity=1,i))},a.$$arity=-2),t.defs(w,"$find",o=function(t){var e,r=this,n=l,i=l;return t["$=="]("default_external")?r.$default_external():(n=r.$$register,i=_(e=n["$$"+t])?e:n["$$"+t.$upcase()],_(i)||r.$raise(c(k,"ArgumentError"),"unknown encoding name - "+t),i)},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);return t.$attr_accessor("default_external")}(t.get_singleton_class(w),k),w.$attr_reader("name","names"),t.def(w,"$initialize",s=function(t,e,r,n){var i=this;return i.name=t,i.names=e,i.ascii=r,i.dummy=n},s.$$arity=4),t.def(w,"$ascii_compatible?",u=function(){var t=this;return t.ascii},u.$$arity=0),t.def(w,"$dummy?",p=function(){var t=this;return t.dummy},p.$$arity=0),t.def(w,"$to_s",y=function(){var t=this;return t.name},y.$$arity=0),t.def(w,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+function(){return _(t.dummy)?" (dummy)":l}()+">"},m.$$arity=0),t.def(w,"$each_byte",g=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},g.$$arity=-1),t.def(w,"$getbyte",v=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},v.$$arity=-1),t.def(w,"$bytesize",b=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=f(t,e,"EncodingError",n);i.$$proto,[i].concat(r);return l}(k[0],c(k,"StandardError"),k),function(t,e,r){function n(){}var i=n=f(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r);return l}(k[0],c(k,"EncodingError"),k)}(s[0],null,s),h(c(s,"Encoding"),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||l;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(r.charAt($)).substr(1).split("%"),u=0,c=s.length;u<c;u++)t.yield1(i,parseInt(s[u],16))}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),l&&"bytesize"},r.$$s=o,r.$$arity=0,r)),h(c(s,"Encoding"),"register",["UTF-16LE"],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||l;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},n.$$s=o,n.$$arity=0,n)),h(c(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||l;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},i.$$s=o,i.$$arity=0,i)),h(c(s,"Encoding"),"register",["UTF-32LE"],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||l;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},$.$$s=o,$.$$arity=0,$)),h(c(s,"Encoding"),"register",["ASCII-8BIT",d(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(a=function(){var e,r,n=a.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||l;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),l&&"bytesize"},a.$$s=o,a.$$arity=0,a)),function(e,r,n){function i(){}var $,a,o,s,_,d,p,y=i=f(e,r,"String",i),m=y.$$proto,g=[y].concat(n);return m.encoding=l,y.$attr_reader("encoding"),String.prototype.encoding=u(c(g,"Encoding"),"UTF_16LE"),t.def(y,"$bytes",$=function(){var t=this;return t.$each_byte().$to_a()},$.$$arity=0),t.def(y,"$bytesize",a=function(){var t=this;return t.encoding.$bytesize(t)},a.$$arity=0),t.def(y,"$each_byte",o=function(){var t=this,e=o.$$p,r=e||l;return e&&(o.$$p=null),r===l?t.$enum_for("each_byte"):(h(t.encoding,"each_byte",[t],r.$to_proc()),t)},o.$$arity=0),t.def(y,"$encode",s=function(t){var e=this;return e.$dup().$force_encoding(t)},s.$$arity=1),t.def(y,"$force_encoding",_=function(t){var e=this;return t===e.encoding?e:(t=c(g,"Opal")["$coerce_to!"](t,c(g,"String"),"to_s"),t=c(g,"Encoding").$find(t),t===e.encoding?e:(e.encoding=t,e))},_.$$arity=1),t.def(y,"$getbyte",d=function(t){var e=this;return e.encoding.$getbyte(e,t)},d.$$arity=1),t.def(y,"$valid_encoding?",p=function(){return!0},p.$$arity=0),l&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var n=(t.top,[]),i=(t.nil,t.const_get_qualified),$=t.const_get_relative,a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(n,s){var l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D=l=a(n,"Math"),L=(D.$$proto,[D].concat(s));t.const_set(L[0],"E",Math.E),t.const_set(L[0],"PI",Math.PI),t.const_set(L[0],"DomainError",$(L,"Class").$new($(L,"StandardError"))),t.defs(D,"$checked",u=function(t,e){var r,n=this,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var o=1;o<i;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[t].apply(null,r);return isNaN(s)&&n.$raise($(L,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),s},u.$$arity=-2),t.defs(D,"$float!",c=function(e){var r=this;try{return r.$Float(e)}catch(n){if(!t.rescue(n,[$(L,"ArgumentError")]))throw n;try{return r.$raise($(L,"Opal").$type_error(e,$(L,"Float")))}finally{t.pop_exception()}}},c.$$arity=1),t.defs(D,"$integer!",f=function(e){var r=this;try{return r.$Integer(e)}catch(n){if(!t.rescue(n,[$(L,"ArgumentError")]))throw n;try{return r.$raise($(L,"Opal").$type_error(e,$(L,"Integer")))}finally{t.pop_exception()}}},f.$$arity=1),D.$module_function(),t.def(D,"$acos",_=function(t){return $(L,"Math").$checked("acos",$(L,"Math")["$float!"](t))},_.$$arity=1),o("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(D,"$acosh",h=function(t){return $(L,"Math").$checked("acosh",$(L,"Math")["$float!"](t))},h.$$arity=1),t.def(D,"$asin",d=function(t){return $(L,"Math").$checked("asin",$(L,"Math")["$float!"](t))},d.$$arity=1),o("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(D,"$asinh",p=function(t){return $(L,"Math").$checked("asinh",$(L,"Math")["$float!"](t))},p.$$arity=1),t.def(D,"$atan",y=function(t){return $(L,"Math").$checked("atan",$(L,"Math")["$float!"](t))},y.$$arity=1),t.def(D,"$atan2",m=function(t,e){return $(L,"Math").$checked("atan2",$(L,"Math")["$float!"](t),$(L,"Math")["$float!"](e))},m.$$arity=2),o("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(D,"$atanh",g=function(t){return $(L,"Math").$checked("atanh",$(L,"Math")["$float!"](t))},g.$$arity=1),o("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.def(D,"$cbrt",v=function(t){return $(L,"Math").$checked("cbrt",$(L,"Math")["$float!"](t))},v.$$arity=1),t.def(D,"$cos",b=function(t){return $(L,"Math").$checked("cos",$(L,"Math")["$float!"](t))},b.$$arity=1),o("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(D,"$cosh",w=function(t){return $(L,"Math").$checked("cosh",$(L,"Math")["$float!"](t))},w.$$arity=1),o("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=.254829592,r=-.284496736,n=1.421413741,i=-1.453152027,$=1.061405429,a=.3275911,o=1;t<0&&(o=-1),t=Math.abs(t);var s=1/(1+a*t),l=1-(((($*s+i)*s+n)*s+r)*s+e)*s*Math.exp(-t*t);return o*l}),t.def(D,"$erf",E=function(t){return $(L,"Math").$checked("erf",$(L,"Math")["$float!"](t))},E.$$arity=1),o("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=.17087277*r+-.82215223,i=r*n+1.48851587,$=r*i+-1.13520398,a=r*$+.27886807,o=r*a+-.18628806,s=r*o+.09678418,l=r*s+.37409196,u=r*l+1.00002368,c=r*u,f=-e*e-1.26551223+c,_=r*Math.exp(f);return t<0?2-_:_}),t.def(D,"$erfc",k=function(t){return $(L,"Math").$checked("erfc",$(L,"Math")["$float!"](t))},k.$$arity=1),t.def(D,"$exp",x=function(t){return $(L,"Math").$checked("exp",$(L,"Math")["$float!"](t))},x.$$arity=1),t.def(D,"$frexp",A=function(t){if(t=$(L,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1,r=t/Math.pow(2,e);return[r,e]},A.$$arity=1),t.def(D,"$gamma",O=function(t){var r=this;t=$(L,"Math")["$float!"](t);var n,i,a,o,s,l,u,c,f,_=4.7421875,h=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-(1/0);if(t!==-1&&t!==-(1/0)||r.$raise($(L,"DomainError"),'Numerical argument is out of domain - "gamma"'),$(L,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(o=t-2,s=t-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*$(L,"Math").$gamma(e(1,t)));if(t>=171.35)return 1/0;if(t>85)return l=t*t,u=l*t,c=u*t,f=c*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*l)-139/(51840*u)-571/(2488320*c)+163879/(209018880*f)+5246819/(75246796800*f*t));for(t-=1,a=h[0],n=1;n<h.length;++n)a+=h[n]/(t+n);return i=t+_+.5,Math.sqrt(2*Math.PI)*Math.pow(i,t+.5)*Math.exp(-i)*a},O.$$arity=1),o("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(D,"$hypot",M=function(t,e){return $(L,"Math").$checked("hypot",$(L,"Math")["$float!"](t),$(L,"Math")["$float!"](e))},M.$$arity=2),t.def(D,"$ldexp",S=function(t,e){var r=this;return t=$(L,"Math")["$float!"](t),e=$(L,"Math")["$integer!"](e),isNaN(e)&&r.$raise($(L,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},S.$$arity=2),t.def(D,"$lgamma",T=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs($(L,"Math").$gamma(t))),$(L,"Math").$gamma(t)<0?-1:1]},T.$$arity=1),t.def(D,"$log",R=function(t,e){var n=this;return o($(L,"String")["$==="](t))&&n.$raise($(L,"Opal").$type_error(t,$(L,"Float"))),o(null==e)?$(L,"Math").$checked("log",$(L,"Math")["$float!"](t)):(o($(L,"String")["$==="](e))&&n.$raise($(L,"Opal").$type_error(e,$(L,"Float"))),r($(L,"Math").$checked("log",$(L,"Math")["$float!"](t)),$(L,"Math").$checked("log",$(L,"Math")["$float!"](e))))},R.$$arity=-2),o("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(D,"$log10",I=function(t){var e=this;return o($(L,"String")["$==="](t))&&e.$raise($(L,"Opal").$type_error(t,$(L,"Float"))),$(L,"Math").$checked("log10",$(L,"Math")["$float!"](t))},I.$$arity=1),o("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(D,"$log2",C=function(t){var e=this;return o($(L,"String")["$==="](t))&&e.$raise($(L,"Opal").$type_error(t,$(L,"Float"))),$(L,"Math").$checked("log2",$(L,"Math")["$float!"](t))},C.$$arity=1),t.def(D,"$sin",N=function(t){return $(L,"Math").$checked("sin",$(L,"Math")["$float!"](t))},N.$$arity=1),o("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(D,"$sinh",z=function(t){return $(L,"Math").$checked("sinh",$(L,"Math")["$float!"](t))},z.$$arity=1),t.def(D,"$sqrt",P=function(t){return $(L,"Math").$checked("sqrt",$(L,"Math")["$float!"](t))},P.$$arity=1),t.def(D,"$tan",B=function(t){return t=$(L,"Math")["$float!"](t),o(t["$infinite?"]())?i($(L,"Float"),"NAN"):$(L,"Math").$checked("tan",$(L,"Math")["$float!"](t))},B.$$arity=1),o("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(D,"$tanh",q=function(t){return $(L,"Math").$checked("tanh",$(L,"Math")["$float!"](t))},q.$$arity=1)}(n[0],n)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=t.top,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),a.$require("corelib/numeric"),function(a,o,_){function h(){}var d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y=h=c(a,o,"Complex",h),W=Y.$$proto,X=[Y].concat(_);return W.real=W.imag=s,t.defs(Y,"$rect",d=function(t,e){var r,n,i,$=this;return null==e&&(e=0),f(f(r=f(n=f(i=u(X,"Numeric")["$==="](t))?t["$real?"]():i)?u(X,"Numeric")["$==="](e):n)?e["$real?"]():r)||$.$raise(u(X,"TypeError"),"not a real"),$.$new(t,e)},d.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"rectangular","rect")}(t.get_singleton_class(Y),X),t.defs(Y,"$polar",p=function(t,r){var n,i,$,a=this;return null==r&&(r=0),f(f(n=f(i=f($=u(X,"Numeric")["$==="](t))?t["$real?"]():$)?u(X,"Numeric")["$==="](r):i)?r["$real?"]():n)||a.$raise(u(X,"TypeError"),"not a real"),a.$new(e(t,u(X,"Math").$cos(r)),e(t,u(X,"Math").$sin(r)))},p.$$arity=-2),Y.$attr_reader("real","imag"),t.def(Y,"$initialize",y=function(t,e){var r=this;return null==e&&(e=0),r.real=t,r.imag=e},y.$$arity=-2),t.def(Y,"$coerce",m=function(t){var e,r=this;return f(u(X,"Complex")["$==="](t))?[t,r]:f(f(e=u(X,"Numeric")["$==="](t))?t["$real?"]():e)?[u(X,"Complex").$new(t,0),r]:r.$raise(u(X,"TypeError"),""+t.$class()+" can't be coerced into Complex")},m.$$arity=1),t.def(Y,"$==",g=function(t){var e,r=this;return f(u(X,"Complex")["$==="](t))?(e=r.real["$=="](t.$real()))?r.imag["$=="](t.$imag()):r.real["$=="](t.$real()):f(f(e=u(X,"Numeric")["$==="](t))?t["$real?"]():e)?(e=r.real["$=="](t))?r.imag["$=="](0):r.real["$=="](t):t["$=="](r)},g.$$arity=1),t.def(Y,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.def(Y,"$+",b=function(t){var e,n=this;return f(u(X,"Complex")["$==="](t))?n.$Complex(r(n.real,t.$real()),r(n.imag,t.$imag())):f(f(e=u(X,"Numeric")["$==="](t))?t["$real?"]():e)?n.$Complex(r(n.real,t),n.imag):n.$__coerced__("+",t)},b.$$arity=1),t.def(Y,"$-",w=function(t){var e,r=this;return f(u(X,"Complex")["$==="](t))?r.$Complex(n(r.real,t.$real()),n(r.imag,t.$imag())):f(f(e=u(X,"Numeric")["$==="](t))?t["$real?"]():e)?r.$Complex(n(r.real,t),r.imag):r.$__coerced__("-",t)},w.$$arity=1),t.def(Y,"$*",E=function(t){var i,$=this;return f(u(X,"Complex")["$==="](t))?$.$Complex(n(e($.real,t.$real()),e($.imag,t.$imag())),r(e($.real,t.$imag()),e($.imag,t.$real()))):f(f(i=u(X,"Numeric")["$==="](t))?t["$real?"]():i)?$.$Complex(e($.real,t),e($.imag,t)):$.$__coerced__("*",t)},E.$$arity=1),t.def(Y,"$/",k=function(t){var r,n,$,a,o=this;return f(u(X,"Complex")["$==="](t))?f(f(r=f(n=f($=f(a=u(X,"Number")["$==="](o.real))?o.real["$nan?"]():a)?$:f(a=u(X,"Number")["$==="](o.imag))?o.imag["$nan?"]():a)?n:f($=u(X,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():$)?r:f(n=u(X,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?u(X,"Complex").$new(l(u(X,"Float"),"NAN"),l(u(X,"Float"),"NAN")):i(e(o,t.$conj()),t.$abs2()):f(f(r=u(X,"Numeric")["$==="](t))?t["$real?"]():r)?o.$Complex(o.real.$quo(t),o.imag.$quo(t)):o.$__coerced__("/",t)},k.$$arity=1),t.def(Y,"$**",x=function(a){var o,l,c,_,h=this,d=s,p=s,y=s,m=s,g=s,v=s,b=s,w=s,E=s,k=s,x=s;if(a["$=="](0))return u(X,"Complex").$new(1,0);if(f(u(X,"Complex")["$==="](a)))return l=h.$polar(),o=t.to_ary(l),d=null==o[0]?s:o[0],p=null==o[1]?s:o[1],l,y=a.$real(),m=a.$imag(),g=u(X,"Math").$exp(n(e(y,u(X,"Math").$log(d)),e(m,p))),v=r(e(p,y),e(m,u(X,"Math").$log(d))),u(X,"Complex").$polar(g,v);if(f(u(X,"Integer")["$==="](a))){if(f($(a,0))){for(b=h,w=b,E=n(a,1);f(E["$!="](0));){for(c=E.$divmod(2),l=t.to_ary(c),k=null==l[0]?s:l[0],x=null==l[1]?s:l[1],c;x["$=="](0);)b=h.$Complex(n(e(b.$real(),b.$real()),e(b.$imag(),b.$imag())),e(e(2,b.$real()),b.$imag())),E=k,_=E.$divmod(2),c=t.to_ary(_),k=null==c[0]?s:c[0],x=null==c[1]?s:c[1],_;w=e(w,b),E=n(E,1)}return w}return i(u(X,"Rational").$new(1,1),h)["$**"](a["$-@"]())}return f(f(o=u(X,"Float")["$==="](a))?o:u(X,"Rational")["$==="](a))?(l=h.$polar(),o=t.to_ary(l),d=null==o[0]?s:o[0],p=null==o[1]?s:o[1],l,u(X,"Complex").$polar(d["$**"](a),e(p,a))):h.$__coerced__("**",a)},x.$$arity=1),t.def(Y,"$abs",A=function(){var t=this;return u(X,"Math").$hypot(t.real,t.imag)},A.$$arity=0),t.def(Y,"$abs2",O=function(){var t=this;return r(e(t.real,t.real),e(t.imag,t.imag))},O.$$arity=0),t.def(Y,"$angle",M=function(){var t=this;return u(X,"Math").$atan2(t.imag,t.real)},M.$$arity=0),t.alias(Y,"arg","angle"),t.def(Y,"$conj",S=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},S.$$arity=0),t.alias(Y,"conjugate","conj"),t.def(Y,"$denominator",T=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},T.$$arity=0),t.alias(Y,"divide","/"),t.def(Y,"$eql?",R=function(t){var e,r,n=this;return f(e=f(r=u(X,"Complex")["$==="](t))?n.real.$class()["$=="](n.imag.$class()):r)?n["$=="](t):e},R.$$arity=1),t.def(Y,"$fdiv",I=function(t){var e=this;return f(u(X,"Numeric")["$==="](t))||e.$raise(u(X,"TypeError"),""+t.$class()+" can't be coerced into Complex"),i(e,t)},I.$$arity=1),t.def(Y,"$finite?",C=function(){var t,e=this;return f(t=e.real["$finite?"]())?e.imag["$finite?"]():t},C.$$arity=0),t.def(Y,"$hash",N=function(){var t=this;return"Complex:"+t.real+":"+t.imag},N.$$arity=0),t.alias(Y,"imaginary","imag"),t.def(Y,"$infinite?",z=function(){var t,e=this;return f(t=e.real["$infinite?"]())?t:e.imag["$infinite?"]()},z.$$arity=0),t.def(Y,"$inspect",P=function(){var t=this;return"("+t+")"},P.$$arity=0),t.alias(Y,"magnitude","abs"),t.udef(Y,"$negative?"),t.def(Y,"$numerator",B=function(){var t=this,r=s;return r=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(r,t.real.$denominator())),e(t.imag.$numerator(),i(r,t.imag.$denominator())))},B.$$arity=0),t.alias(Y,"phase","arg"),t.def(Y,"$polar",q=function(){var t=this;return[t.$abs(),t.$arg()]},q.$$arity=0),t.udef(Y,"$positive?"),t.alias(Y,"quo","/"),t.def(Y,"$rationalize",D=function(t){var e=this;return arguments.length>1&&e.$raise(u(X,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f(e.imag["$!="](0))&&e.$raise(u(X,"RangeError"),"can't' convert "+e+" into Rational"),e.$real().$rationalize(t)},D.$$arity=-1),t.def(Y,"$real?",L=function(){return!1},L.$$arity=0),t.def(Y,"$rect",F=function(){var t=this;return[t.real,t.imag]},F.$$arity=0),t.alias(Y,"rectangular","rect"),t.def(Y,"$to_f",j=function(){var t=this;return t.imag["$=="](0)||t.$raise(u(X,"RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},j.$$arity=0),t.def(Y,"$to_i",U=function(){var t=this;return t.imag["$=="](0)||t.$raise(u(X,"RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},U.$$arity=0),t.def(Y,"$to_r",H=function(){var t=this;return t.imag["$=="](0)||t.$raise(u(X,"RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},H.$$arity=0),t.def(Y,"$to_s",G=function(){var t,e,n,i=this,$=s;return $=i.real.$inspect(),$=r($,function(){return f(f(t=f(e=f(n=u(X,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"}()),$=r($,i.imag.$abs().$inspect()),f(f(t=u(X,"Number")["$==="](i.imag))?f(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&($=r($,"*")),r($,"i")},G.$$arity=0),t.const_set(X[0],"I",Y.$new(0,1))}(o[0],u(o,"Numeric"),o),function(e,r){var n,i,$=n=_(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$Complex",i=function(t,e){return null==e&&(e=s),f(e)?u(a,"Complex").$new(t,e):u(a,"Complex").$new(t,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,l=[],u=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.klass),h=t.truthy,d=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,l,d){function p(){}var y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U=p=_(s,l,"Rational",p),H=U.$$proto,G=[U].concat(d);return H.num=H.den=u,t.defs(U,"$reduce",y=function(t,n){var i=this,$=u;if(t=t.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(f(G,"ZeroDivisionError"),"divided by 0");else if(h(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return i.$new(t,n);return $=t.$gcd(n),i.$new(r(t,$),r(n,$))},y.$$arity=2),t.defs(U,"$convert",m=function(t,e){var n,i,$=this;return h(h(n=t["$nil?"]())?n:e["$nil?"]())&&$.$raise(f(G,"TypeError"),"cannot convert nil into Rational"),h(h(n=f(G,"Integer")["$==="](t))?f(G,"Integer")["$==="](e):n)?$.$reduce(t,e):(h(h(n=h(i=f(G,"Float")["$==="](t))?i:f(G,"String")["$==="](t))?n:f(G,"Complex")["$==="](t))&&(t=t.$to_r()),h(h(n=h(i=f(G,"Float")["$==="](e))?i:f(G,"String")["$==="](e))?n:f(G,"Complex")["$==="](e))&&(e=e.$to_r()),h(h(n=e["$equal?"](1))?f(G,"Integer")["$==="](t)["$!"]():n)?f(G,"Opal")["$coerce_to!"](t,f(G,"Rational"),"to_r"):h(h(n=f(G,"Numeric")["$==="](t))?f(G,"Numeric")["$==="](e):n)?r(t,e):$.$reduce(t,e))},m.$$arity=2),t.def(U,"$initialize",g=function(t,e){var r=this;return r.num=t,r.den=e},g.$$arity=2),t.def(U,"$numerator",v=function(){var t=this;return t.num},v.$$arity=0),t.def(U,"$denominator",b=function(){var t=this;return t.den},b.$$arity=0),t.def(U,"$coerce",w=function(t){var e=this,r=u;return function(){return r=t,f(G,"Rational")["$==="](r)?[t,e]:f(G,"Integer")["$==="](r)?[t.$to_r(),e]:f(G,"Float")["$==="](r)?[t,e.$to_f()]:u}()},w.$$arity=1),t.def(U,"$==",E=function(t){var e,r=this,n=u;return function(){return n=t,f(G,"Rational")["$==="](n)?(e=r.num["$=="](t.$numerator()))?r.den["$=="](t.$denominator()):r.num["$=="](t.$numerator()):f(G,"Integer")["$==="](n)?(e=r.num["$=="](t))?r.den["$=="](1):r.num["$=="](t):f(G,"Float")["$==="](n)?r.$to_f()["$=="](t):t["$=="](r)}()},E.$$arity=1),t.def(U,"$<=>",k=function(t){var e=this,r=u;return function(){return r=t,f(G,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):f(G,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):f(G,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)}()},k.$$arity=1),t.def(U,"$+",x=function(t){var e=this,r=u,n=u,a=u;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=$(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational(n,a)):f(G,"Integer")["$==="](r)?e.$Rational($(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?$(e.$to_f(),t):e.$__coerced__("+",t)}()},x.$$arity=1),t.def(U,"$-",A=function(t){var e=this,r=u,$=u,a=u;return function(){return r=t,f(G,"Rational")["$==="](r)?($=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational($,a)):f(G,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)}()},A.$$arity=1),t.def(U,"$*",O=function(t){var e=this,r=u,n=u,$=u;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),$=i(e.den,t.$denominator()),e.$Rational(n,$)):f(G,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):f(G,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)}()},O.$$arity=1),t.def(U,"$/",M=function(t){var e=this,n=u,$=u,a=u;return function(){return n=t,f(G,"Rational")["$==="](n)?($=i(e.num,t.$denominator()),a=i(e.den,t.$numerator()),e.$Rational($,a)):f(G,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):f(G,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)}()},M.$$arity=1),t.def(U,"$**",S=function(t){var r,n=this,i=u;return function(){return i=t,f(G,"Integer")["$==="](i)?h((r=n["$=="](0))?e(t,0):n["$=="](0))?c(f(G,"Float"),"INFINITY"):h(a(t,0))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):h(e(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):f(G,"Float")["$==="](i)?n.$to_f()["$**"](t):f(G,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?h(e(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):h((r=n["$=="](0))?e(t,0):n["$=="](0))?n.$raise(f(G,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)}()},S.$$arity=1),t.def(U,"$abs",T=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},T.$$arity=0),t.def(U,"$ceil",R=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},R.$$arity=-1),t.alias(U,"divide","/"),t.def(U,"$floor",I=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},I.$$arity=-1),t.def(U,"$hash",C=function(){var t=this;return"Rational:"+t.num+":"+t.den},C.$$arity=0),t.def(U,"$inspect",N=function(){var t=this;return"("+t+")"},N.$$arity=0),t.alias(U,"quo","/"),t.def(U,"$rationalize",z=function(t){var e=this;if(arguments.length>1&&e.$raise(f(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return e;for(var i,a,s,l,u,c=t.$abs(),_=n(e,c),h=$(e,c),d=0,p=1,y=1,m=0;;){if(s=_.$ceil(),o(s,h))break;l=s-1,i=l*p+d,a=l*m+y,u=r(1,n(h,l)),h=r(1,n(_,l)),_=u,d=p,y=m,p=i,m=a}return e.$Rational(s*p+d,s*m+y)},z.$$arity=-1),t.def(U,"$round",P=function(t){var n=this,a=u,o=u,s=u;return null==t&&(t=0),t["$=="](0)?n.num["$=="](0)?0:n.den["$=="](1)?n.num:(a=$(i(n.num.$abs(),2),n.den),o=i(n.den,2),s=r(a,o).$truncate(),h(e(n.num,0))?s["$-@"]():s):n.$with_precision("round",t)},P.$$arity=-1),t.def(U,"$to_f",B=function(){var t=this;return r(t.num,t.den)},B.$$arity=0),t.def(U,"$to_i",q=function(){var t=this;return t.$truncate()},q.$$arity=0),t.def(U,"$to_r",D=function(){var t=this;return t},D.$$arity=0),t.def(U,"$to_s",L=function(){var t=this;return""+t.num+"/"+t.den},L.$$arity=0),t.def(U,"$truncate",F=function(t){var r=this;return null==t&&(t=0),t["$=="](0)?h(e(r.num,0))?r.$ceil():r.$floor():r.$with_precision("truncate",t)},F.$$arity=-1),t.def(U,"$with_precision",j=function(t,n){var $=this,a=u,o=u;return h(f(G,"Integer")["$==="](n))||$.$raise(f(G,"TypeError"),"not an Integer"),a=10["$**"](n),o=i($,a),h(e(n,1))?r(o.$send(t),a).$to_i():$.$Rational(o.$send(t),a)},j.$$arity=2),u&&"with_precision"}(l[0],f(l,"Numeric"),l),function(e,r){var n,i,$=n=d(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$Rational",i=function(t,e){return null==e&&(e=1),f(a,"Rational").$convert(t,e)},i.$$arity=-2)}(l[0],l)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],l=t.nil,u=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice),f=t.klass,_=t.truthy,h=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,d){function p(){}function y(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):u(ot,"Opal")["$coerce_to!"](t,u(ot,"Integer"),"to_int"),e===l)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=u(ot,"Opal")["$coerce_to!"](e,u(ot,"Integer"),"to_int");return(e<1||e>12)&&at.$raise(u(ot,"ArgumentError"),"month out of range: "+e),e-=1,r=r===l?1:r.$$is_string?parseInt(r,10):u(ot,"Opal")["$coerce_to!"](r,u(ot,"Integer"),"to_int"),(r<1||r>31)&&at.$raise(u(ot,"ArgumentError"),"day out of range: "+r),n=n===l?0:n.$$is_string?parseInt(n,10):u(ot,"Opal")["$coerce_to!"](n,u(ot,"Integer"),"to_int"),(n<0||n>24)&&at.$raise(u(ot,"ArgumentError"),"hour out of range: "+n),i=i===l?0:i.$$is_string?parseInt(i,10):u(ot,"Opal")["$coerce_to!"](i,u(ot,"Integer"),"to_int"),
(i<0||i>59)&&at.$raise(u(ot,"ArgumentError"),"min out of range: "+i),$===l?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):u(ot,"Opal")["$coerce_to!"]($,u(ot,"Integer"),"to_int")),($<0||$>60)&&at.$raise(u(ot,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}var m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at=p=f(o,s,"Time",p),ot=(at.$$proto,[at].concat(d));at.$include(u(ot,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs(at,"$at",m=function(t,e){var r,n=this;return u(ot,"Time")["$==="](t)?(void 0!==e&&n.$raise(u(ot,"TypeError"),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=u(ot,"Opal")["$coerce_to!"](t,u(ot,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=u(ot,"Opal")["$coerce_to!"](e,u(ot,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},m.$$arity=-2),t.defs(at,"$new",g=function(t,e,r,n,i,$,a){var o=this;null==e&&(e=l),null==r&&(r=l),null==n&&(n=l),null==i&&(i=l),null==$&&($=l),null==a&&(a=l);var s,c;return void 0===t?new Date:(a!==l&&o.$raise(u(ot,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),s=y(t,e,r,n,i,$),t=s[0],e=s[1],r=s[2],n=s[3],i=s[4],$=s[5],c=new Date(t,e,r,n,i,0,1e3*$),t<100&&c.setFullYear(t),c)},g.$$arity=-1),t.defs(at,"$local",v=function(t,e,r,n,i,$,a,o,s,u){null==e&&(e=l),null==r&&(r=l),null==n&&(n=l),null==i&&(i=l),null==$&&($=l),null==a&&(a=l),null==o&&(o=l),null==s&&(s=l),null==u&&(u=l);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],$=f[0]),f=y(t,e,r,n,i,$),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],$=f[5],_=new Date(t,e,r,n,i,0,1e3*$),t<100&&_.setFullYear(t),_},v.$$arity=-2),t.defs(at,"$gm",b=function(t,e,r,n,i,$,a,o,s,u){null==e&&(e=l),null==r&&(r=l),null==n&&(n=l),null==i&&(i=l),null==$&&($=l),null==a&&(a=l),null==o&&(o=l),null==s&&(s=l),null==u&&(u=l);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],$=f[0]),f=y(t,e,r,n,i,$),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],$=f[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},b.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(at),ot),t.defs(at,"$now",w=function(){var t=this;return t.$new()},w.$$arity=0),t.def(at,"$+",E=function(t){var e=this;_(u(ot,"Time")["$==="](t))&&e.$raise(u(ot,"TypeError"),"time + time?"),t.$$is_number||(t=u(ot,"Opal")["$coerce_to!"](t,u(ot,"Integer"),"to_int"));var r=new Date(e.getTime()+1e3*t);return r.is_utc=e.is_utc,r},E.$$arity=1),t.def(at,"$-",k=function(t){var e=this;if(_(u(ot,"Time")["$==="](t)))return(e.getTime()-t.getTime())/1e3;t.$$is_number||(t=u(ot,"Opal")["$coerce_to!"](t,u(ot,"Integer"),"to_int"));var r=new Date(e.getTime()-1e3*t);return r.is_utc=e.is_utc,r},k.$$arity=1),t.def(at,"$<=>",x=function(t){var n=this,i=l;return _(u(ot,"Time")["$==="](t))?n.$to_f()["$<=>"](t.$to_f()):(i=t["$<=>"](n),_(i["$nil?"]())?l:_(e(i,0))?-1:_(r(i,0))?1:0)},x.$$arity=1),t.def(at,"$==",A=function(t){var e,r=this;return _(e=u(ot,"Time")["$==="](t))?r.$to_f()===t.$to_f():e},A.$$arity=1),t.def(at,"$asctime",O=function(){var t=this;return t.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias(at,"ctime","asctime"),t.def(at,"$day",M=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},M.$$arity=0),t.def(at,"$yday",S=function(){var t=this,e=l,r=l,a=l;return e=u(ot,"Time").$new(t.$year()).$to_i(),r=u(ot,"Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),a=86400,n(i($(r,e),a).$round(),1)},S.$$arity=0),t.def(at,"$isdst",T=function(){var t=this,e=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),r.getTimezoneOffset())},T.$$arity=0),t.alias(at,"dst?","isdst"),t.def(at,"$dup",R=function(){var t=this,e=l;return e=new Date(t.getTime()),e.$copy_instance_variables(t),e.$initialize_dup(t),e},R.$$arity=0),t.def(at,"$eql?",I=function(t){var e,r=this;return _(e=t["$is_a?"](u(ot,"Time")))?r["$<=>"](t)["$zero?"]():e},I.$$arity=1),t.def(at,"$friday?",C=function(){var t=this;return 5==t.$wday()},C.$$arity=0),t.def(at,"$hash",N=function(){var t=this;return"Time:"+t.getTime()},N.$$arity=0),t.def(at,"$hour",z=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},z.$$arity=0),t.def(at,"$inspect",P=function(){var t=this;return _(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},P.$$arity=0),t.alias(at,"mday","day"),t.def(at,"$min",B=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},B.$$arity=0),t.def(at,"$mon",q=function(){var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},q.$$arity=0),t.def(at,"$monday?",D=function(){var t=this;return 1==t.$wday()},D.$$arity=0),t.alias(at,"month","mon"),t.def(at,"$saturday?",L=function(){var t=this;return 6==t.$wday()},L.$$arity=0),t.def(at,"$sec",F=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},F.$$arity=0),t.def(at,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.def(at,"$usec",U=function(){var t=this;return 1e3*t.getMilliseconds()},U.$$arity=0),t.def(at,"$zone",H=function(){var t,e=this,r=e.toString();return t=r.indexOf("(")==-1?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==t&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t},H.$$arity=0),t.def(at,"$getgm",G=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},G.$$arity=0),t.alias(at,"getutc","getgm"),t.def(at,"$gmtime",Y=function(){var t=this;return t.is_utc=!0,t},Y.$$arity=0),t.alias(at,"utc","gmtime"),t.def(at,"$gmt?",W=function(){var t=this;return t.is_utc===!0},W.$$arity=0),t.def(at,"$gmt_offset",X=function(){var t=this;return 60*-t.getTimezoneOffset()},X.$$arity=0),t.def(at,"$strftime",K=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,$){var a="",o=r.indexOf("0")!==-1,s=r.indexOf("-")===-1,l=r.indexOf("_")!==-1,u=r.indexOf("^")!==-1,c=r.indexOf("#")!==-1,f=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&l&&(r.indexOf("0")<r.indexOf("_")?o=!1:l=!1),$){case"Y":a+=e.$year();break;case"C":o=!l,a+=Math.round(e.$year()/100);break;case"y":o=!l,a+=e.$year()%100;break;case"m":o=!l,a+=e.$mon();break;case"B":a+=ct[e.$mon()-1];break;case"b":case"h":l=!o,a+=ut[e.$mon()-1];break;case"d":o=!l,a+=e.$day();break;case"e":l=!o,a+=e.$day();break;case"j":a+=e.$yday();break;case"H":o=!l,a+=e.$hour();break;case"k":l=!o,a+=e.$hour();break;case"I":o=!l,a+=e.$hour()%12||12;break;case"l":l=!o,a+=e.$hour()%12||12;break;case"P":a+=e.$hour()>=12?"pm":"am";break;case"p":a+=e.$hour()>=12?"PM":"AM";break;case"M":o=!l,a+=e.$min();break;case"S":o=!l,a+=e.$sec();break;case"L":o=!l,n=isNaN(n)?3:n,a+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,a+=e.getMilliseconds().toString().$rjust(3,"0"),a=a.$ljust(n,"0");break;case"z":var _=e.getTimezoneOffset(),d=Math.floor(Math.abs(_)/60),p=Math.abs(_)%60;a+=_<0?"+":"-",a+=d<10?"0":"",a+=d,f>0&&(a+=":"),a+=p<10?"0":"",a+=p,f>1&&(a+=":00");break;case"Z":a+=e.$zone();break;case"A":a+=st[e.$wday()];break;case"a":a+=lt[e.$wday()];break;case"u":a+=e.$wday()+1;break;case"w":a+=e.$wday();break;case"V":a+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":a+=e.$cweek_cyear()["$[]"](1);break;case"g":a+=e.$cweek_cyear()["$[]"](1)["$[]"](h(-2,-1,!1));break;case"s":a+=e.$to_i();break;case"n":a+="\n";break;case"t":a+="\t";break;case"%":a+="%";break;case"c":a+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":a+=e.$strftime("%m/%d/%y");break;case"F":a+=e.$strftime("%Y-%m-%d");break;case"v":a+=e.$strftime("%e-%^b-%4Y");break;case"r":a+=e.$strftime("%I:%M:%S %p");break;case"R":a+=e.$strftime("%H:%M");break;case"T":case"X":a+=e.$strftime("%H:%M:%S");break;default:return t}return u&&(a=a.toUpperCase()),c&&(a=a.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||l)&&(a=a.$rjust(isNaN(n)?2:n,l?" ":"0")),a})},K.$$arity=1),t.def(at,"$sunday?",V=function(){var t=this;return 0==t.$wday()},V.$$arity=0),t.def(at,"$thursday?",J=function(){var t=this;return 4==t.$wday()},J.$$arity=0),t.def(at,"$to_a",Z=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},Z.$$arity=0),t.def(at,"$to_f",Q=function(){var t=this;return t.getTime()/1e3},Q.$$arity=0),t.def(at,"$to_i",tt=function(){var t=this;return parseInt(t.getTime()/1e3,10)},tt.$$arity=0),t.alias(at,"to_s","inspect"),t.def(at,"$tuesday?",et=function(){var t=this;return 2==t.$wday()},et.$$arity=0),t.alias(at,"tv_sec","to_i"),t.alias(at,"tv_usec","usec"),t.alias(at,"utc?","gmt?"),t.alias(at,"gmtoff","gmt_offset"),t.alias(at,"utc_offset","gmt_offset"),t.def(at,"$wday",rt=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},rt.$$arity=0),t.def(at,"$wednesday?",nt=function(){var t=this;return 3==t.$wday()},nt.$$arity=0),t.def(at,"$year",it=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},it.$$arity=0),t.def(at,"$cweek_cyear",$t=function(){var t,e=this,r=l,o=l,s=l,c=l,f=l,h=l,d=l,p=l;return r=u(ot,"Time").$new(e.$year(),1,1),o=r.$wday(),s=0,c=e.$year(),_(_(t=a(o,4))?o["$!="](0):t)?f=$(o,1):(f=$($(o,7),1),f["$=="](-8)&&(f=-1)),h=i(n(e.$yday(),f),7).$ceil(),_(a(h,0))?u(ot,"Time").$new($(e.$year(),1),12,31).$cweek_cyear():(h["$=="](53)&&(d=u(ot,"Time").$new(e.$year(),12,31),p=d.$wday(),_(_(t=a(p,3))?p["$!="](0):t)&&(h=1,c=n(c,1))),[h,c])},$t.$$arity=0),l&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,o=[],s=t.nil,l=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.send,_=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),a.$require("corelib/enumerable"),function(a,o,h){function d(){}var p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z=d=u(a,o,"Struct",d),P=(z.$$proto,[z].concat(h));return z.$include(l(P,"Enumerable")),t.defs(z,"$new",p=function(e,r,n){var i,$,a,o,u,h=this,d=p.$$p,y=d||s,m=s;if(a=t.slice.call(arguments,1,arguments.length),n=t.extract_kwargs(a),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=_([],{})}if(o=n.$$smap.keyword_init,null==o&&(o=!1),u=0<a.length?a.splice(0,a.length-0):[],d&&(p.$$p=null),c(e))try{e=l(P,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[l(P,"TypeError"),l(P,"NameError")]))throw r;try{u.$unshift(e),e=s}finally{t.pop_exception()}}return f(u,"map",[],(i=function(t){i.$$s||this;return null==t&&(t=s),l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str")},i.$$s=h,i.$$arity=1,i)),m=f(l(P,"Class"),"new",[h],($=function(){var e,r=$.$$s||this;return f(u,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){var n;e.$$proto,[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=this,i=s,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i=n.$allocate(),i.$$data={},f(i,"initialize",t.to_a(r)),i},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),P)},$.$$s=h,$.$$arity=0,$)),c(y)&&f(m,"module_eval",[],y.$to_proc()),m.$$keyword_init=o,c(e)&&l(P,"Struct").$const_set(e,m),m},p.$$arity=-2),t.defs(z,"$define_struct_attribute",y=function(t){var e,r,n=this;return n["$=="](l(P,"Struct"))&&n.$raise(l(P,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),f(n,"define_method",[t],(e=function(){var r=e.$$s||this;return r.$$data[t]},e.$$s=n,e.$$arity=0,e)),f(n,"define_method",[""+t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=n,r.$$arity=1,r))},y.$$arity=1),t.defs(z,"$members",m=function(){var t,e=this;return null==e.members&&(e.members=s),e["$=="](l(P,"Struct"))&&e.$raise(l(P,"ArgumentError"),"the Struct class has no members"),e.members=c(t=e.members)?t:[]},m.$$arity=0),t.defs(z,"$inherited",g=function(t){var e,r=this,n=s;return null==r.members&&(r.members=s),n=r.members,f(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return t.members=n},e.$$s=r,e.$$arity=0,e))},g.$$arity=1),t.def(z,"$initialize",v=function(n){var i,$,a,o,u=this,h=s,d=s,p=arguments.length,y=p-0;y<0&&(y=0),o=new Array(y);for(var m=0;m<p;m++)o[m-0]=arguments[m];return c(u.$class().$$keyword_init)?(h=c(i=o.$last())?i:_([],{}),c(c(i=e(o.$length(),1))?i:1===o.length&&!h.$$is_hash)&&u.$raise(l(P,"ArgumentError"),"wrong number of arguments (given "+o.$length()+", expected 0)"),d=r(h.$keys(),u.$class().$members()),c(d["$any?"]())&&u.$raise(l(P,"ArgumentError"),"unknown keywords: "+d.$join(", ")),f(u.$class().$members(),"each",[],($=function(e){var n=$.$$s||this,i=s;return null==e&&(e=s),i=[e,h["$[]"](e)],f(n,"[]=",t.to_a(i)),i[r(i.length,1)]},$.$$s=u,$.$$arity=1,$))):(c(e(o.$length(),u.$class().$members().$length()))&&u.$raise(l(P,"ArgumentError"),"struct size differs"),f(u.$class().$members(),"each_with_index",[],(a=function(e,n){var i=a.$$s||this,$=s;return null==e&&(e=s),null==n&&(n=s),$=[e,o["$[]"](n)],f(i,"[]=",t.to_a($)),$[r($.length,1)]},a.$$s=u,a.$$arity=2,a)))},v.$$arity=-1),t.def(z,"$members",b=function(){var t=this;return t.$class().$members()},b.$$arity=0),t.def(z,"$hash",w=function(){var t=this;return l(P,"Hash").$new(t.$$data).$hash()},w.$$arity=0),t.def(z,"$[]",E=function(t){var e=this;return c(l(P,"Integer")["$==="](t))?(c(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(l(P,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),c(i(t,e.$class().$members().$size()))&&e.$raise(l(P,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):c(l(P,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(l(P,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(l(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str"),e.$$data[t]},E.$$arity=1),t.def(z,"$[]=",k=function(t,e){var r=this;return c(l(P,"Integer")["$==="](t))?(c(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(l(P,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),c(i(t,r.$class().$members().$size()))&&r.$raise(l(P,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):c(l(P,"String")["$==="](t))?c(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(l(P,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(l(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(P,"Opal")["$coerce_to!"](t,l(P,"String"),"to_str"),r.$$data[t]=e},k.$$arity=2),t.def(z,"$==",x=function(t){function e(t,r){var $,a,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=r.$$data[$],l(P,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&i.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$=="](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},x.$$arity=1),t.def(z,"$eql?",A=function(t){function e(t,r){var $,a,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=r.$$data[$],l(P,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&i.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$eql?"](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},A.$$arity=1),t.def(z,"$each",O=function(){var e,r,n=this,i=O.$$p,$=i||s;return i&&(O.$$p=null),$===s?f(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,n["$[]"](e))},r.$$s=n,r.$$arity=1,r)),n)},O.$$arity=0),t.def(z,"$each_pair",M=function(){var e,r,n=this,i=M.$$p,$=i||s;return i&&(M.$$p=null),$===s?f(n,"enum_for",["each_pair"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,[e,n["$[]"](e)])},r.$$s=n,r.$$arity=1,r)),n)},M.$$arity=0),t.def(z,"$length",S=function(){var t=this;return t.$class().$members().$length()},S.$$arity=0),t.alias(z,"size","length"),t.def(z,"$to_a",T=function(){var t,e=this;return f(e.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=e,t.$$arity=1,t))},T.$$arity=0),t.alias(z,"values","to_a"),t.def(z,"$inspect",R=function(){var t,e,r=this,n=s;return n="#<struct ",c(c(t=l(P,"Struct")["$==="](r))?r.$class().$name():t)&&(n=$(n,""+r.$class()+" ")),n=$(n,f(r.$each_pair(),"map",[],(e=function(t,r){e.$$s||this;return null==t&&(t=s),null==r&&(r=s),""+t+"="+r.$inspect()},e.$$s=r,e.$$arity=2,e)).$join(", ")),n=$(n,">")},R.$$arity=0),t.alias(z,"to_s","inspect"),t.def(z,"$to_h",I=function(){var e,n=this;return f(n.$class().$members(),"each_with_object",[_([],{})],(e=function(n,i){var $=e.$$s||this,a=s;return null==n&&(n=s),null==i&&(i=s),a=[n,$["$[]"](n)],f(i,"[]=",t.to_a(a)),a[r(a.length,1)]},e.$$s=n,e.$$arity=2,e))},I.$$arity=0),t.def(z,"$values_at",C=function(t){var e,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];r=f(r,"map",[],(e=function(t){e.$$s||this;return null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=n,e.$$arity=1,e)).$flatten();for(var o=[],u=0,c=r.length;u<c;u++)r[u].$$is_number||n.$raise(l(P,"TypeError"),"no implicit conversion of "+r[u].$class()+" into Integer"),o.push(n["$[]"](r[u]));return o},C.$$arity=-1),t.def(z,"$dig",N=function(e,r){var n,i=this,$=s,a=arguments.length,o=a-1;o<0&&(o=0),n=new Array(o);for(var u=1;u<a;u++)n[u-1]=arguments[u];return $=function(){return c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s}(),$===s||0===n.length?$:(c($["$respond_to?"]("dig"))||i.$raise(l(P,"TypeError"),""+$.$class()+" does not have #dig method"),f($,"dig",t.to_a(n)))},N.$$arity=-2),s&&"dig"}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.klass),o=t.module,s=t.send,l=t.gvars,u=t.truthy,c=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){function c(){}var f,_,h,d,p=c=a(e,r,"IO",c),y=p.$$proto,m=[p].concat(i);return y.tty=y.closed=n,t.const_set(m[0],"SEEK_SET",0),t.const_set(m[0],"SEEK_CUR",1),t.const_set(m[0],"SEEK_END",2),t.def(p,"$tty?",f=function(){var t=this;return t.tty},f.$$arity=0),t.def(p,"$closed?",_=function(){var t=this;return t.closed},_.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",h=function(t){var e=this;return e.write_proc(t),t.$size()},h.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",d=function(){return n},d.$$arity=0),function(e,r){var i,$,a,c,f=i=o(e,"Writable");f.$$proto,[f].concat(r);t.def(f,"$<<",$=function(t){var e=this;return e.$write(t),e},$.$$arity=1),t.def(f,"$print",a=function(t){var e,r,i=this;null==l[","]&&(l[","]=n);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(l[","])),n},a.$$arity=-1),t.def(f,"$puts",c=function(t){var e,r,i=this,$=n;null==l["/"]&&(l["/"]=n);var a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<a;c++)r[c-0]=arguments[c];return $=l["/"],u(r["$empty?"]())?i.$write(l["/"]):i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([n]).$join($)),n},c.$$arity=-1)}(m[0],m),function(e,r){var i,a,s,u,c,f=i=o(e,"Readable"),_=(f.$$proto,[f].concat(r));t.def(f,"$readbyte",a=function(){var t=this;return t.$getbyte()},a.$$arity=0),t.def(f,"$readchar",s=function(){var t=this;return t.$getc()},s.$$arity=0),t.def(f,"$readline",u=function(t){var e=this;return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),e.$raise($(_,"NotImplementedError"))},u.$$arity=-1),t.def(f,"$readpartial",c=function(t,e){var r=this;return null==e&&(e=n),r.$raise($(_,"NotImplementedError"))},c.$$arity=-2)}(m[0],m)}(r[0],null,r),t.const_set(r[0],"STDERR",l.stderr=$(r,"IO").$new()),t.const_set(r[0],"STDIN",l.stdin=$(r,"IO").$new()),t.const_set(r[0],"STDOUT",l.stdout=$(r,"IO").$new());var f=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){f.log(t)}],s($(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){f.warn(t)}],s($(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],$(r,"STDOUT").$extend(i($(r,"IO"),"Writable")),$(r,"STDERR").$extend(i($(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return a(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$[]"]),function(e,a,o){function s(){}var l=s=i(e,a,"Dir",s),u=(l.$$proto,[l].concat(o));return function(e,i){var a,o,s,l=(e.$$proto,[e].concat(i));return t.def(e,"$chdir",a=function(e){var n=a.$$p,i=n||r,$=r;return n&&(a.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},a.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return $(t=n(l,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(l),u)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.range,l=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(n,u,c){function f(){}var _=f=a(n,u,"File",f),h=(_.$$proto,[_].concat(c)),d=i;return t.const_set(h[0],"Separator",t.const_set(h[0],"SEPARATOR","/")),t.const_set(h[0],"ALT_SEPARATOR",i),t.const_set(h[0],"PATH_SEPARATOR",":"),t.const_set(h[0],"FNM_SYSCASE",0),d=/^[a-zA-Z]:(?:\\|\/)/,function(n,a){function u(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"String"),"to_str")}function c(){return $(b,"ALT_SEPARATOR")===i?t.escape_regexp($(b,"SEPARATOR")):t.escape_regexp(e($(b,"SEPARATOR"),$(b,"ALT_SEPARATOR")))}var f,_,h,p,y,m,g,v,b=(n.$$proto,[n].concat(a));return t.def(n,"$expand_path",f=function(t,r){var n,a=this,s=i,l=i,u=i,f=i,_=i,h=i,p=i,y=i,m=i,g=i,v=i;null==r&&(r=i),s=$(b,"SEPARATOR"),l=c(),u=[],o("~"===t[0]||r&&"~"===r[0])&&(f=$(b,"Dir").$home(),o(f)||a.$raise($(b,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),o(f["$start_with?"](s))||a.$raise($(b,"ArgumentError"),"non-absolute home"),f=e(f,s),_=new RegExp("^\\~(?:"+s+"|$)"),t=t.$sub(_,f),o(r)&&(r=r.$sub(_,f))),r=o(n=r)?n:$(b,"Dir").$pwd(),h=t.substr(0,s.length)===s||d.test(t),p=r.substr(0,s.length)===s||d.test(r),o(h)?(y=t.$split(new RegExp("["+l+"]")),m=d.test(t)?"":t.$sub(new RegExp("^(["+l+"]+).*$"),"\\1"),g=!0):(y=e(r.$split(new RegExp("["+l+"]")),t.$split(new RegExp("["+l+"]"))),m=d.test(r)?"":r.$sub(new RegExp("^(["+l+"]+).*$"),"\\1"),g=p);for(var w,E=0,k=y.length;E<k;E++)w=y[E],w===i||""===w&&(0===u.length||g)||"."===w&&(0===u.length||g)||(".."===w?u.pop():u.push(w));return g||"."===y[0]||u.$unshift("."),v=u.$join(s),o(g)&&(v=e(m,v)),v},f.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",_=function(t){var e=i;e=c(),t=u(t);var r=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?r?"/":".":t},_.$$arity=1),t.def(n,"$basename",h=function(e,r){var n=i;return null==r&&(r=i),n=c(),e=u(e),0==e.length?e:(r=r!==i?$(b,"Opal")["$coerce_to!"](r,$(b,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+n+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(""+r+"$"),"")),e)},h.$$arity=-2),t.def(n,"$extname",p=function(n){var $,a=this,l=i,c=i;return n=u(n),l=a.$basename(n),o(l["$empty?"]())?"":(c=l["$[]"](s(1,-1,!1)).$rindex("."),o(o($=c["$nil?"]())?$:e(c,1)["$=="](r(l.$length(),1)))?"":l["$[]"](t.Range.$new(e(c,1),-1,!1)))},p.$$arity=1),t.def(n,"$exist?",y=function(e){return null!=t.modules[e]},y.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",m=function(e){var r,n=this,a=i,o=i;a=[];for(var s in t.modules)a.push(s);return e=e.$gsub(new RegExp("(^."+$(b,"SEPARATOR")+"+|"+$(b,"SEPARATOR")+"+$)")),o=l(a,"find",[],(r=function(t){r.$$s||this;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},r.$$s=n,r.$$arity=1,r))},m.$$arity=1),t.def(n,"$join",g=function(t){var r,n,a,s=this,u=i,c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var _=0;_<c;_++)a[_-0]=arguments[_];return o(a["$empty?"]())?"":(u="",a=l(a.$flatten().$each_with_index(),"map",[],(r=function(t,n){var s;r.$$s||this;return null==t&&(t=i),null==n&&(n=i),o((s=n["$=="](0))?t["$empty?"]():n["$=="](0))?$(b,"SEPARATOR"):o((s=a.$length()["$=="](e(n,1)))?t["$empty?"]():a.$length()["$=="](e(n,1)))?$(b,"SEPARATOR"):t},r.$$s=s,r.$$arity=2,r)),a=l(a,"reject",[],"empty?".$to_proc()),l(a,"each_with_index",[],(n=function(t,r){var s,l=(n.$$s||this,i);return null==t&&(t=i),null==r&&(r=i),l=a["$[]"](e(r,1)),o(l["$nil?"]())?u=""+u+t:(o(o(s=t["$end_with?"]($(b,"SEPARATOR")))?l["$start_with?"]($(b,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(""+$(b,"SEPARATOR")+"+$"),"")),u=function(){return o(o(s=t["$end_with?"]($(b,"SEPARATOR")))?s:l["$start_with?"]($(b,"SEPARATOR")))?""+u+t:""+u+t+$(b,"SEPARATOR")}())},n.$$s=s,n.$$arity=2,n)),u)},g.$$arity=-1),t.def(n,"$split",v=function(t){return t.$split($(b,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(_),h)}(n[0],$(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){var e=(t.top,[]),r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,s){function l(){}var u,c,f,_,h=l=$(e,o,"Process",l),d=(h.$$proto,[h].concat(s)),p=r;if(h.__clocks__=[],t.defs(h,"$__register_clock__",u=function(t,e){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](e)},u.$$arity=2),h.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var y=process.hrtime();p=function(){var t=process.hrtime(y),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}return a(p)&&h.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(h,"$pid",c=function(){return 0},c.$$arity=0),t.defs(h,"$times",f=function(){var t=r;return t=i(d,"Time").$now().$to_f(),n(i(d,"Benchmark"),"Tms").$new(t,t,t,t,t)},f.$$arity=0),t.defs(h,"$clock_gettime",_=function(t,e){var $,o=this,s=r;null==o.__clocks__&&(o.__clocks__=r),null==e&&(e="float_second"),a($=s=o.__clocks__["$[]"](t))?$:o.$raise(n(i(d,"Errno"),"EINVAL"),"clock_gettime("+t+") "+o.__clocks__["$[]"](t));var l=s();switch(e){case"float_second":return l/1e3;case"float_millisecond":return l/1;case"float_microsecond":return 1e3*l;case"second":return l/1e3|0;case"millisecond":return l/1|0;case"microsecond":return 1e3*l|0;case"nanosecond":return 1e6*l|0;default:o.$raise(i(d,"ArgumentError"),"unexpected unit: "+e)}},_.$$arity=-2),r&&"clock_gettime"}(e[0],null,e),function(e,n,i){function a(){}var o,s=a=$(e,n,"Signal",a);s.$$proto,[s].concat(i);return t.defs(s,"$trap",o=function(t){return r},o.$$arity=-1),r&&"trap"}(e[0],null,e),function(e,n,i){function a(){}var o,s=a=$(e,n,"GC",a);s.$$proto,[s].concat(i);return t.defs(s,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass);return function(t,e,n){function i(){}var $=i=r(t,e,"Random",i);$.$$proto,[$].concat(n);!function(t,e){function r(r,l,u){var _=[];l=1==l?{entropy:!0}:l||{};var m=a($(l.entropy?[r,s(t)]:null==r?o():r,3),_),g=new n(_),v=function(){for(var t=g.g(f),e=d,r=0;t<p;)t=(t+r)*c,e*=c,r=g.g(1);for(;t>=y;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,a(s(g.S),t),(l.pass||u||function(t,r,n,$){return $&&($.S&&i($,g),t.state=function(){return i(g,{})}),n?(e[h]=t,r):t})(v,m,"global"in l?l.global:this==e,l.state)}function n(t){var e,r=t.length,n=this,i=0,$=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[$=m&$+t[i%r]+(e=a[i])],a[$]=e;(n.g=function(t){for(var e,r=0,i=n.i,$=n.j,a=n.S;t--;)e=a[i=m&i+1],r=r*c+a[m&(a[i]=a[$=m&$+e])+(a[$]=e)];return n.i=i,n.j=$,r})(c)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function $(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)if(t.hasOwnProperty(r))try{n.push($(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function a(t,e){for(var r,n=t+"",i=0;i<n.length;)e[m&i]=m&(r^=19*e[m&i])+n.charCodeAt(i++);return s(e)}function o(){try{if(l)return s(l.randomBytes(c));var e=new Uint8Array(c);return(u.crypto||u.msCrypto).getRandomValues(e),s(e)}catch(e){var r=u.navigator,n=r&&r.plugins;return[+new Date,u,n,u.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var l,u=this,c=256,f=6,_=52,h="random",d=e.pow(c,f),p=e.pow(2,_),y=2*p,m=c-1;if(e["seed"+h]=r,a(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{l=__webpack_require__(230)}catch(t){}}else __webpack_require__(220)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)));
}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,n=[],i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),r.$require("corelib/random/seedrandom.js"),function(r,n,l){function u(){}var c,f,_,h,d,p,y,m,g,v=u=a(r,n,"Random",u),b=(v.$$proto,[v].concat(l));v.$attr_reader("seed","state"),t.def(v,"$initialize",c=function(t){var e=this;return null==t&&(t=$(b,"Random").$new_seed()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),e.state=t,e.$reseed(t)},c.$$arity=-1),t.def(v,"$reseed",f=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},f.$$arity=1);var w=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",_=function(){return Math.abs(w.int32())},_.$$arity=0),t.defs(v,"$rand",h=function(t){return $(b,"DEFAULT").$rand(t)},h.$$arity=-1),t.defs(v,"$srand",d=function(t){var e=i;return null==t&&(t=$(b,"Random").$new_seed()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),e=$(b,"DEFAULT").$seed(),$(b,"DEFAULT").$reseed(t),e},d.$$arity=-1),t.defs(v,"$urandom",p=function(t){var r,n=this;return t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),o(e(t,0))&&n.$raise($(b,"ArgumentError"),"negative string size (or size too big)"),s($(b,"Array"),"new",[t],(r=function(){var t=r.$$s||this;return t.$rand(255).$chr()},r.$$s=n,r.$$arity=0,r)).$join().$encode("ASCII-8BIT")},p.$$arity=1),t.const_set(b[0],"DEFAULT",v.$new(v.$new_seed())),t.def(v,"$==",y=function(t){var e,r=this;return!!o($(b,"Random")["$==="](t))&&((e=r.$seed()["$=="](t.$seed()))?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},y.$$arity=1),t.def(v,"$bytes",m=function(t){var e,r=this;return t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),s($(b,"Array"),"new",[t],(e=function(){var t=e.$$s||this;return t.$rand(255).$chr()},e.$$s=r,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(v,"$rand",g=function(t){function e(){return a.state++,a.$rng.quick()}function r(){return Math.floor(e()*t)}function n(){var e=t.begin,r=t.end;if(e===i||r===i)return i;var n=r-e;return n<0?i:0===n?e:(r%1!==0||e%1!==0||t.excl||n++,a.$rand(n)+e)}var a=this;return null==t?e():t.$$is_range?n():t.$$is_number?(t<=0&&a.$raise($(b,"ArgumentError"),"invalid argument - "+t),t%1===0?r():e()*t):(t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),t<=0&&a.$raise($(b,"ArgumentError"),"invalid argument - "+t),r())},g.$$arity=-1),i&&"rand"}(n[0],null,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s(a,"Kernel").$raise(s(a,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){c[t]||(c[t]=!0,$.$warn(t))}var n,i,$=t.top,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.klass),u=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,r,n){function i(){}var $,a,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O=i=l(e,r,"String",i),M=(O.$$proto,[O].concat(n)),S="String#%s not supported. Mutable String methods are not supported in Opal.";return t.def(O,"$<<",$=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("<<"))},$.$$arity=-1),t.def(O,"$capitalize!",a=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("capitalize!"))},a.$$arity=-1),t.def(O,"$chomp!",u=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("chomp!"))},u.$$arity=-1),t.def(O,"$chop!",c=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("chop!"))},c.$$arity=-1),t.def(O,"$downcase!",f=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("downcase!"))},f.$$arity=-1),t.def(O,"$gsub!",_=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("gsub!"))},_.$$arity=-1),t.def(O,"$lstrip!",h=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("lstrip!"))},h.$$arity=-1),t.def(O,"$next!",d=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("next!"))},d.$$arity=-1),t.def(O,"$reverse!",p=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("reverse!"))},p.$$arity=-1),t.def(O,"$slice!",y=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("slice!"))},y.$$arity=-1),t.def(O,"$squeeze!",m=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("squeeze!"))},m.$$arity=-1),t.def(O,"$strip!",g=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("strip!"))},g.$$arity=-1),t.def(O,"$sub!",v=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("sub!"))},v.$$arity=-1),t.def(O,"$succ!",b=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("succ!"))},b.$$arity=-1),t.def(O,"$swapcase!",w=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("swapcase!"))},w.$$arity=-1),t.def(O,"$tr!",E=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("tr!"))},E.$$arity=-1),t.def(O,"$tr_s!",k=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("tr_s!"))},k.$$arity=-1),t.def(O,"$upcase!",x=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("upcase!"))},x.$$arity=-1),t.def(O,"$prepend",A=function(t){var e=this;return e.$raise(s(M,"NotImplementedError"),S["$%"]("prepend"))},A.$$arity=-1),o&&"prepend"}(a[0],null,a),function(r,n){var i,$,a,o=i=u(r,"Kernel"),s=(o.$$proto,[o].concat(n),"Object freezing is not supported by Opal");t.def(o,"$freeze",$=function(){var t=this;return e(s),t},$.$$arity=0),t.def(o,"$frozen?",a=function(){return e(s),!1},a.$$arity=0)}(a[0],a),function(r,n){var i,$,a,o,s=i=u(r,"Kernel"),l=(s.$$proto,[s].concat(n),"Object tainting is not supported by Opal");t.def(s,"$taint",$=function(){var t=this;return e(l),t},$.$$arity=0),t.def(s,"$untaint",a=function(){var t=this;return e(l),t},a.$$arity=0),t.def(s,"$tainted?",o=function(){return e(l),!1},o.$$arity=0)}(a[0],a),function(e,r,n){function i(){}var $,a,s,u,c=i=l(e,r,"Module",i);c.$$proto,[c].concat(n);return t.def(c,"$public",$=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return 0===e.length&&(r.$$module_function=!1),o},$.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",a=function(t){var e=this;return e},a.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",s=function(t){return!1},s.$$arity=1),t.def(c,"$private_constant",u=function(t){return o},u.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_method_defined?","method_defined?")}(a[0],null,a),function(e,r){var n,i,$=n=u(e,"Kernel");$.$$proto,[$].concat(r);t.def($,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias($,"private_instance_methods","private_methods")}(a[0],a),function(e,r){var n,i,$=n=u(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$eval",i=function(t){var e=this;return e.$raise(s(a,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+s(a,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},i.$$arity=-1)}(a[0],a),t.defs($,"$public",n=function(t){return o},n.$$arity=-1),t.defs($,"$private",i=function(t){return o},i.$$arity=-1),o&&"private"},Opal.modules.opal=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")}}).call(exports,function(){return this}(),__webpack_require__(15))},119:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=(t.top,[]),a=t.nil,o=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function($,l,u){function c(){}var f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T=c=o($,l,"StringIO",c),R=T.$$proto,I=[T].concat(u);return R.position=R.string=R.closed=a,T.$include(t.const_get_qualified(t.const_get_relative(I,"IO"),"Readable")),T.$include(t.const_get_qualified(t.const_get_relative(I,"IO"),"Writable")),t.defs(T,"$open",f=function(t,e){var r=this,n=f.$$p,i=n||a,$=a,o=a;return null==t&&(t=""),null==e&&(e=a),n&&(f.$$p=null),$=r.$new(t,e),o=i.$call($),$.$close(),o},f.$$arity=-1),T.$attr_accessor("string"),t.defn(T,"$initialize",_=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),s(s(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":s(s(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":a},_.$$arity=-1),t.defn(T,"$eof?",h=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},h.$$arity=0),t.alias(T,"eof","eof?"),t.defn(T,"$seek",d=function($,o){var l=this,u=a;return null==o&&(o=t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_SET")),u=o,t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_SET")["$==="](u)?(s(e($,0))||l.$raise(t.const_get_qualified(t.const_get_relative(I,"Errno"),"EINVAL")),l.position=$):t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_CUR")["$==="](u)?s(r(n(l.position,$),l.string.$length()))?l.position=l.string.$length():l.position=n(l.position,$):t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_END")["$==="](u)&&(s(r($,l.string.$length()))?l.position=0:l.position=i(l.position,$)),0},d.$$arity=-2),t.defn(T,"$tell",p=function(){var t=this;return t.position},p.$$arity=0),t.alias(T,"pos","tell"),t.alias(T,"pos=","seek"),t.defn(T,"$rewind",y=function(){var t=this;return t.$seek(0)},y.$$arity=0),t.defn(T,"$each_byte",m=function(){var t=this,e=m.$$p,r=e||a,i=a;if(e&&(m.$$p=null),!s(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),i=n(i,1);return t},m.$$arity=0),t.defn(T,"$each_char",g=function(){var t=this,e=g.$$p,r=e||a,i=a;if(e&&(g.$$p=null),!s(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},g.$$arity=0),t.defn(T,"$write",v=function(e){var r=this,$=a,o=a;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):($=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n($,e),o),r.position=n(r.position,e.$length()))},v.$$arity=1),t.defn(T,"$read",b=function(e,r){var i=this,$=a,o=a;return null==e&&(e=a),null==r&&(r=a),i.$check_readable(),s(i["$eof?"]())?a:($=function(){return s(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),s(r)?r.$write($):$)},b.$$arity=-1),t.defn(T,"$close",w=function(){var t=this;return t.closed="both"},w.$$arity=0),t.defn(T,"$close_read",E=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},E.$$arity=0),t.defn(T,"$close_write",k=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},k.$$arity=0),t.defn(T,"$closed?",x=function(){var t=this;return t.closed["$=="]("both")},x.$$arity=0),t.defn(T,"$closed_read?",A=function(){var t,e=this;return s(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},A.$$arity=0),t.defn(T,"$closed_write?",O=function(){var t,e=this;return s(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},O.$$arity=0),t.defn(T,"$check_writable",M=function(){var e=this;return s(e["$closed_write?"]())?e.$raise(t.const_get_relative(I,"IOError"),"not opened for writing"):a},M.$$arity=0),t.defn(T,"$check_readable",S=function(){var e=this;return s(e["$closed_read?"]())?e.$raise(t.const_get_relative(I,"IOError"),"not opened for reading"):a},S.$$arity=0),a&&"check_readable"}($[0],t.const_get_relative($,"IO"),$)},Opal.modules["open-uri"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=(t.breaker,t.slice,t.module),o=t.truthy,s=t.send,l=t.hash2,u=t.klass;return t.add_stubs(["$require","$private","$respond_to?","$=~","$open_uri","$to_proc","$open_uri_original_open","$module_function","$open_loop","$rewind","$close_io","$close!","$closed?","$close","$request","$==","$build_response","$raise","$new","$<<","$io","$status=","$-","$meta_add_field","$attr_reader","$+","$length","$===","$init","$extend","$instance_eval","$status","$base_uri","$base_uri=","$each","$metas","$meta_add_field2","$attr_accessor","$charset","$find_encoding","$set_encoding","$force_encoding","$string","$find","$downcase","$[]=","$join","$meta_setup_encoding","$[]","$utc","$at","$content_type_parse","$scheme","$open","$read"]),n.$require("stringio"),function(e,r){var n,i,l=n=a(e,"Kernel"),u=(l.$$proto,[l].concat(r));l.$private(),t.alias(l,"open_uri_original_open","open"),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"open_uri_original_open","open")}(t.get_singleton_class(l),u),t.defn(l,"$open",i=function(e,r){var n,a,l=this,c=i.$$p,f=c||$,_=arguments.length,h=_-1;h<0&&(h=0),a=new Array(h);for(var d=1;d<_;d++)a[d-1]=arguments[d];return c&&(i.$$p=null),o(o(n=e["$respond_to?"]("to_str"))?/^[A-Za-z][A-Za-z0-9+\-\.]*:\/\//["$=~"](e):n)?s(t.const_get_relative(u,"OpenURI"),"open_uri",[e].concat(t.to_a(a)),f.$to_proc()):s(l,"open_uri_original_open",[e].concat(t.to_a(a)),f.$to_proc())},i.$$arity=-2),l.$module_function("open")}(i[0],i),function(n,i){var c,f,_,h,d,p,y=c=a(n,"OpenURI"),m=(y.$$proto,[y].concat(i));t.defs(y,"$open_uri",f=function(e,r){var n,i=this,a=f.$$p,o=a||$,s=$,u=arguments.length,c=u-1;c<0&&(c=0),n=new Array(c);for(var _=1;_<u;_++)n[_-1]=arguments[_];return a&&(f.$$p=null),s=i.$open_loop(e,l([],{})),s.$rewind(),o!==$?function(){try{return t.yield1(o,s)}finally{i.$close_io(s)}}():s},f.$$arity=-2),t.defs(y,"$close_io",_=function(t){return o(t["$respond_to?"]("close!"))?t["$close!"]():o(t["$closed?"]())?$:t.$close()},_.$$arity=1),t.defs(y,"$open_loop",h=function(e,r){var n,i,a=this,s=$,l=$,u=$,c=$;return s=a.$request(e),l=s.responseText,u=s.status,c=s.statusText&&s.statusText.errno?s.statusText.errno:s.statusText,o(o(n=u["$=="](200))?n:(i=u["$=="](0))?l:u["$=="](0))?a.$build_response(s,l,u,c):a.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(""+u+" "+c,""))},h.$$arity=2),t.defs(y,"$build_response",d=function(r,n,i,a){var l=$,u=$,c=$,f=$;return l=t.const_get_relative(m,"Buffer").$new(),l["$<<"](n),u=l.$io(),c=[""+i+" "+a],s(u,"status=",t.to_a(c)),c[e(c.length,1)],u.$meta_add_field("content-type",r.getResponseHeader("Content-Type")),f=r.getResponseHeader("Last-Modified"),o(f)&&u.$meta_add_field("last-modified",f),u},d.$$arity=4),t.defs(y,"$request",p=function(e){var r=this;try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n}catch(e){r.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(e.message,""))}},p.$$arity=1),function(e,r,n){function i(){}var $,a=i=u(e,r,"HTTPError",i);a.$$proto,[a].concat(n);return t.defn(a,"$initialize",$=function(e,r){var n=this,i=$.$$p;return i&&($.$$p=null),s(n,t.find_super_dispatcher(n,"initialize",$,!1),[e,r],null),n.io=r},$.$$arity=2),a.$attr_reader("io")}(m[0],t.const_get_relative(m,"StandardError"),m),function(e,n,i){function a(){}var s,l,c,f=a=u(e,n,"Buffer",a),_=f.$$proto,h=[f].concat(i);return _.io=_.size=$,t.defn(f,"$initialize",s=function(){var e=this;return e.io=t.const_get_relative(h,"StringIO").$new(),e.size=0},s.$$arity=0),f.$attr_reader("size"),t.defn(f,"$<<",l=function(t){var e=this;return e.io["$<<"](t),e.size=r(e.size,t.$length())},l.$$arity=1),t.defn(f,"$io",c=function(){var e=this;return o(t.const_get_relative(h,"Meta")["$==="](e.io))||t.const_get_relative(h,"Meta").$init(e.io),e.io},c.$$arity=0),$&&"io"}(m[0],null,m),function(r,n){var i,u,c,f,_,h,d,p,y,m,g,v=i=a(r,"Meta"),b=(v.$$proto,[v].concat(n));t.defs(t.const_get_relative(b,"Meta"),"$init",u=function(r,n){var i,a,u=this,c=$;return null==n&&(n=$),r.$extend(t.const_get_relative(b,"Meta")),s(r,"instance_eval",[],(i=function(){var t=i.$$s||this;return t.base_uri=$,t.meta=l([],{}),t.metas=l([],{})},i.$$s=u,i.$$arity=0,i)),o(n)?(c=[n.$status()],s(r,"status=",t.to_a(c)),c[e(c.length,1)],c=[n.$base_uri()],s(r,"base_uri=",t.to_a(c)),c[e(c.length,1)],s(n.$metas(),"each",[],(a=function(t,e){a.$$s||this;return null==t&&(t=$),null==e&&(e=$),r.$meta_add_field2(t,e)},a.$$s=u,a.$$arity=2,a))):$},u.$$arity=-2),v.$attr_accessor("status"),v.$attr_accessor("base_uri"),v.$attr_reader("meta"),v.$attr_reader("metas"),t.defn(v,"$meta_setup_encoding",c=function(){var t=this,e=$,r=$;return e=t.$charset(),r=t.$find_encoding(e),t.$set_encoding(r)},c.$$arity=0),t.defn(v,"$set_encoding",f=function(t){var e=this;return o(e["$respond_to?"]("force_encoding"))?e.$force_encoding(t):o(e["$respond_to?"]("string"))?e.$string().$force_encoding(t):e.$set_encoding(t)},f.$$arity=1),t.defn(v,"$find_encoding",_=function(e){var r=$;if(r=$,o(e))try{r=t.const_get_relative(b,"Encoding").$find(e)}catch(e){if(!t.rescue(e,[t.const_get_relative(b,"ArgumentError")]))throw e;try{}finally{t.pop_exception()}}return o(r)||(r=t.const_get_qualified(t.const_get_relative(b,"Encoding"),"ASCII_8BIT")),r},_.$$arity=1),t.defn(v,"$meta_add_field2",h=function(r,n){var i=this,a=$;return null==i.metas&&(i.metas=$),null==i.meta&&(i.meta=$),r=r.$downcase(),a=[r,n],s(i.metas,"[]=",t.to_a(a)),a[e(a.length,1)],a=[r,n.$join(", ")],s(i.meta,"[]=",t.to_a(a)),a[e(a.length,1)],r["$=="]("content-type")?i.$meta_setup_encoding():$},h.$$arity=2),t.defn(v,"$meta_add_field",d=function(t,e){var r=this;return r.$meta_add_field2(t,[e])},d.$$arity=2),t.defn(v,"$last_modified",p=function(){var e=this,r=$;return null==e.metas&&(e.metas=$),o(r=e.metas["$[]"]("last-modified"))?t.const_get_relative(b,"Time").$at(Date.parse(r.$join(", "))/1e3).$utc():$},p.$$arity=0),t.defn(v,"$content_type_parse",y=function(){var t=this,e=$;return null==t.metas&&(t.metas=$),e=t.metas["$[]"]("content-type"),e.$join(", ")},y.$$arity=0),t.defn(v,"$charset",m=function(){var t,e,r,n=this,i=$;return null==n.base_uri&&(n.base_uri=$),i=n.$content_type_parse(),o(o(t=o(e=o(r=i)?/^text\//["$=~"](i):r)?n.base_uri:e)?/^http$/i["$=~"](n.base_uri.$scheme()):t)?"iso-8859-1":$},m.$$arity=0),t.defn(v,"$content_type",g=function(){var t,e=this,r=$;return r=e.$content_type_parse(),o(t=r)?t:"application/octet-stream"},g.$$arity=0)}(m[0],m),function(e,r){var n,i,o,u=n=a(e,"OpenRead"),c=(u.$$proto,[u].concat(r));t.defn(u,"$open",i=function(e){var r,n=this,a=i.$$p,o=a||$,l=arguments.length,u=l-0;u<0&&(u=0),r=new Array(u);for(var f=0;f<l;f++)r[f-0]=arguments[f];return a&&(i.$$p=null),s(t.const_get_relative(c,"OpenURI"),"open_uri",[n].concat(t.to_a(r)),o.$to_proc())},i.$$arity=-1),t.defn(u,"$read",o=function(e){var r,n=this;return null==e&&(e=l([],{})),s(n,"open",[e],(r=function(e){var n=(r.$$s||this,$);return null==e&&(e=$),n=e.$read(),t.const_get_relative(c,"Meta").$init(n,e),n},r.$$s=n,r.$$arity=1,r))},o.$$arity=-1)}(m[0],m)}(i[0],i)}},120:function(t,e){Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var l,u,c,f,_,h,d,p,y,m=l=a(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",u=function(t){return o($(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},u.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==$(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[$(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>0},f.$$arity=1),t.def(m,"$>=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.def(m,"$<",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<0},h.$$arity=1),t.def(m,"$<=",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<=0},d.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),t.def(m,"$clamp",y=function(t,n){var a=this,s=i;return s=t["$<=>"](n),o(s)||a.$raise($(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(g,"Comparable").$normalize(s),0))&&a.$raise($(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(g,"Comparable").$normalize(a["$<=>"](t)),0))?t:o(e($(g,"Comparable").$normalize(a["$<=>"](n)),0))?n:a},y.$$arity=2)}(n[0],n)},Opal.modules.pathname=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.send,u=t.module;return t.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,n,u){function c(){}var f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B=c=o(r,n,"Pathname",c),q=B.$$proto,D=[B].concat(u);return q.path=i,B.$include(a(D,"Comparable")),t.const_set(D[0],"SEPARATOR_PAT",new RegExp(a(D,"Regexp").$quote($(a(D,"File"),"SEPARATOR")))),t.def(B,"$initialize",f=function(t){var e=this;return s(a(D,"Pathname")["$==="](t))?e.path=t.$path().$to_s():s(t["$respond_to?"]("to_path"))?e.path=t.$to_path():s(t["$is_a?"](a(D,"String")))?e.path=t:s(t["$nil?"]())?e.$raise(a(D,"TypeError"),"no implicit conversion of nil into String"):e.$raise(a(D,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),e.path["$=="]("\0")?e.$raise(a(D,"ArgumentError")):i},f.$$arity=1),B.$attr_reader("path"),t.def(B,"$==",_=function(t){var e=this;return t.$path()["$=="](e.path)},_.$$arity=1),t.def(B,"$absolute?",h=function(){var t=this;return t["$relative?"]()["$!"]()},h.$$arity=0),t.def(B,"$relative?",d=function(){var e,r,n=this,$=i,a=i;for($=n.path;s(a=n.$chop_basename($));)r=a,e=t.to_ary(r),$=null==e[0]?i:e[0],r;return $["$=="]("")},d.$$arity=0),t.def(B,"$chop_basename",p=function(t){var e=i;return e=a(D,"File").$basename(t),s(a(D,"Regexp").$new("^"+$(a(D,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](e))?i:[t["$[]"](0,t.$rindex(e)),e]},p.$$arity=1),t.def(B,"$root?",y=function(){var t=this;return t.path["$=="]("/")},y.$$arity=0),t.def(B,"$parent",m=function(){var t=this,e=i;return e=t.path.$sub(/\/([^\/]+\/?$)/,""),e["$=="]("")&&(e=function(){return s(t["$absolute?"]())?"/":"."}()),a(D,"Pathname").$new(e)},m.$$arity=0),t.def(B,"$sub",g=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return a(D,"Pathname").$new(l(n.path,"sub",t.to_a(r)))},g.$$arity=-1),t.def(B,"$cleanpath",v=function(){var e=this;return t.normalize(e.path)},v.$$arity=0),t.def(B,"$to_path",b=function(){var t=this;return t.path},b.$$arity=0),t.def(B,"$hash",w=function(){var t=this;return t.path},w.$$arity=0),t.def(B,"$expand_path",E=function(){var t=this;return a(D,"File").$expand_path(t.path)},E.$$arity=0),t.def(B,"$+",k=function(t){var e=this;return s(a(D,"Pathname")["$==="](t))||(t=a(D,"Pathname").$new(t)),a(D,"Pathname").$new(e.$plus(e.path,t.$to_s()))},k.$$arity=1),t.def(B,"$plus",x=function(r,n){var $,o,l,u=this,c=i,f=i,_=i,h=i,d=i,p=i,y=i,m=i,g=i;for(c=n,f=[],_=[];s(h=u.$chop_basename(c));)l=h,o=t.to_ary(l),c=null==o[0]?i:o[0],d=null==o[1]?i:o[1],l,f.$unshift(c.$length()),_.$unshift(d);if(s(c["$!="]("")))return n;for(p=r;s(!0);){for(;s(s(l=_["$empty?"]()["$!"]())?_.$first()["$=="]("."):l);)f.$shift(),_.$shift();if(!s(y=u.$chop_basename(p)))break;if(l=y,o=t.to_ary(l),p=null==o[0]?i:o[0],m=null==o[1]?i:o[1],l,!m["$=="](".")){if(s(s(o=s(l=m["$=="](".."))?l:_["$empty?"]())?o:_.$first()["$!="](".."))){p=e(p,m);break}f.$shift(),_.$shift()}}if(y=u.$chop_basename(p),s(s($=y["$!"]())?new RegExp(a(D,"SEPARATOR_PAT"))["$=~"](a(D,"File").$basename(p)):$))for(;s(s(o=_["$empty?"]()["$!"]())?_.$first()["$=="](".."):o);)f.$shift(),_.$shift();return s(_["$empty?"]()["$!"]())?(g=n["$[]"](t.Range.$new(f.$first(),-1,!1)),s(y)?a(D,"File").$join(p,g):e(p,g)):s(y)?p:a(D,"File").$dirname(p)},x.$$arity=2),t.def(B,"$join",A=function(r){try{var n,$,o=this,u=i,c=arguments.length,f=c-0;f<0&&(f=0),$=new Array(f);for(var _=0;_<c;_++)$[_-0]=arguments[_];return s($["$empty?"]())?o:(u=$.$pop(),s(a(D,"Pathname")["$==="](u))||(u=a(D,"Pathname").$new(u)),s(u["$absolute?"]())?u:(l($,"reverse_each",[],(n=function(r){n.$$s||this;return null==r&&(r=i),s(a(D,"Pathname")["$==="](r))||(r=a(D,"Pathname").$new(r)),u=e(r,u),s(u["$absolute?"]())?void t.ret(u):i},n.$$s=o,n.$$arity=1,n)),e(o,u)))}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(B,"$split",O=function(){var t=this;return[t.$dirname(),t.$basename()]},O.$$arity=0),t.def(B,"$dirname",M=function(){var t=this;return a(D,"Pathname").$new(a(D,"File").$dirname(t.path))},M.$$arity=0),t.def(B,"$basename",S=function(){var t=this;return a(D,"Pathname").$new(a(D,"File").$basename(t.path))},S.$$arity=0),t.def(B,"$directory?",T=function(){var t=this;return a(D,"File")["$directory?"](t.path)},T.$$arity=0),t.def(B,"$extname",R=function(){var t=this;return a(D,"File").$extname(t.path)},R.$$arity=0),t.def(B,"$<=>",I=function(t){var e=this;return e.$path()["$<=>"](t.$path())},I.$$arity=1),t.alias(B,"eql?","=="),t.alias(B,"===","=="),t.alias(B,"to_str","to_path"),t.alias(B,"to_s","to_path"),t.const_set(D[0],"SAME_PATHS",function(){return s($(a(D,"File"),"FNM_SYSCASE")["$nonzero?"]())?l(B,"proc",[],(C=function(t,e){C.$$s||this;return null==t&&(t=i),null==e&&(e=i),t.$casecmp(e)["$=="](0)},C.$$s=B,C.$$arity=2,C)):l(B,"proc",[],(N=function(t,e){N.$$s||this;return null==t&&(t=i),null==e&&(e=i),t["$=="](e)},N.$$s=B,N.$$arity=2,N))}()),t.def(B,"$relative_path_from",z=function(r){var n,$,o=this,u=i,c=i,f=i,_=i,h=i,d=i,p=i,y=i;for(u=o.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=u,f=[];s(_=o.$chop_basename(c));)$=_,n=t.to_ary($),c=null==n[0]?i:n[0],h=null==n[1]?i:n[1],$,s(h["$!="]("."))&&f.$unshift(h);for(d=r,p=[];s(_=o.$chop_basename(d));)$=_,n=t.to_ary($),d=null==n[0]?i:n[0],h=null==n[1]?i:n[1],$,s(h["$!="]("."))&&p.$unshift(h);for(s(a(D,"SAME_PATHS")["$[]"](c,d))||o.$raise(a(D,"ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());s(s(n=s($=f["$empty?"]()["$!"]())?p["$empty?"]()["$!"]():$)?a(D,"SAME_PATHS")["$[]"](f.$first(),p.$first()):n);)f.$shift(),p.$shift();return s(p["$include?"](".."))&&o.$raise(a(D,"ArgumentError"),"base_directory has ..: "+r.$inspect()),p.$fill(".."),y=e(p,f),s(y["$empty?"]())?a(D,"Pathname").$new("."):a(D,"Pathname").$new(l(a(D,"File"),"join",t.to_a(y)))},z.$$arity=1),t.def(B,"$entries",P=function(){var t,e=this;return l(a(D,"Dir").$entries(e.path),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=i),r.$class().$new(e)},t.$$s=e,t.$$arity=1,t))},P.$$arity=0),i&&"entries"}(n[0],null,n),function(e,r){var n,i,$=n=u(e,"Kernel"),o=($.$$proto,[$].concat(r));t.def($,"$Pathname",i=function(t){return a(o,"Pathname").$new(t)},i.$$arity=1)}(n[0],n)}},121:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=(t.top,[]),a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.klass),u=t.truthy,c=t.gvars;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$to_str","$chomp","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function($,f,_){function h(){}var d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N=h=l($,f,"StringIO",h),z=N.$$proto,P=[N].concat(_);return z.position=z.string=z.closed=a,N.$include(o(s(P,"IO"),"Readable")),N.$include(o(s(P,"IO"),"Writable")),t.defs(N,"$open",d=function(t,e){var r=this,n=d.$$p,i=n||a,$=a,o=a;return null==t&&(t=""),null==e&&(e=a),n&&(d.$$p=null),$=r.$new(t,e),o=i.$call($),$.$close(),o},d.$$arity=-1),N.$attr_accessor("string"),t.def(N,"$initialize",p=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),u(u(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":u(u(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":a},p.$$arity=-1),t.def(N,"$eof?",y=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},y.$$arity=0),t.alias(N,"eof","eof?"),t.def(N,"$seek",m=function(t,$){var l=this,c=a;return null==$&&($=o(s(P,"IO"),"SEEK_SET")),c=$,o(s(P,"IO"),"SEEK_SET")["$==="](c)?(u(e(t,0))||l.$raise(o(s(P,"Errno"),"EINVAL")),l.position=t):o(s(P,"IO"),"SEEK_CUR")["$==="](c)?u(r(n(l.position,t),l.string.$length()))?l.position=l.string.$length():l.position=n(l.position,t):o(s(P,"IO"),"SEEK_END")["$==="](c)&&(u(r(t,l.string.$length()))?l.position=0:l.position=i(l.position,t)),0},m.$$arity=-2),t.def(N,"$tell",g=function(){var t=this;return t.position},g.$$arity=0),t.alias(N,"pos","tell"),t.alias(N,"pos=","seek"),t.def(N,"$rewind",v=function(){var t=this;return t.$seek(0)},v.$$arity=0),t.def(N,"$each_byte",b=function(){var t=this,e=b.$$p,r=e||a,i=a;if(e&&(b.$$p=null),!u(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!u(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),
i=n(i,1);return t},b.$$arity=0),t.def(N,"$each_char",w=function(){var t=this,e=w.$$p,r=e||a,i=a;if(e&&(w.$$p=null),!u(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!u(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},w.$$arity=0),t.def(N,"$each",E=function(e){var r=this,n=E.$$p,i=n||a,$=a;if(null==c["/"]&&(c["/"]=a),null==e&&(e=c["/"]),n&&(E.$$p=null),i===a)return r.$enum_for("each_line");r.$check_readable(),$=!1,e=u(o("::","Hash")["$==="](e))?function(){return u($=e["$[]"]("chomp"))?/\r?\n/:c["/"]}():u(e)?e.$to_str():void 0;var s=r.string,l=s.length;if(r.position<l&&(s=s.substr(r.position)),e)for(var f=s.$chomp(),_=s.length!==f.length,h=f.split(e),d=0,p=h.length;d<p;d++){var y=$?h[d]:d<p-1||_?h[d]+e:h[d];t.yield1(i,y)}else if(void 0===e)t.yield1(i,s);else for(var m,g=/(.+(?:\n\n|$))\n*/g;m=g.exec(s);)t.yield1(i,m[1]);return r.position=l,r},E.$$arity=-1),t.alias(N,"each_line","each"),t.def(N,"$write",k=function(e){var r=this,$=a,o=a;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):($=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n($,e),o),r.position=n(r.position,e.$length()))},k.$$arity=1),t.def(N,"$read",x=function(e,r){var i=this,$=a,o=a;return null==e&&(e=a),null==r&&(r=a),i.$check_readable(),u(i["$eof?"]())?a:($=function(){return u(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),u(r)?r.$write($):$)},x.$$arity=-1),t.def(N,"$close",A=function(){var t=this;return t.closed="both"},A.$$arity=0),t.def(N,"$close_read",O=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},O.$$arity=0),t.def(N,"$close_write",M=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},M.$$arity=0),t.def(N,"$closed?",S=function(){var t=this;return t.closed["$=="]("both")},S.$$arity=0),t.def(N,"$closed_read?",T=function(){var t,e=this;return u(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},T.$$arity=0),t.def(N,"$closed_write?",R=function(){var t,e=this;return u(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},R.$$arity=0),t.def(N,"$check_writable",I=function(){var t=this;return u(t["$closed_write?"]())?t.$raise(s(P,"IOError"),"not opened for writing"):a},I.$$arity=0),t.def(N,"$check_readable",C=function(){var t=this;return u(t["$closed_read?"]())?t.$raise(s(P,"IOError"),"not opened for reading"):a},C.$$arity=0),a&&"check_readable"}($[0],s($,"IO"),$)}},141:function(t,e,r){(function(e,n,i){"use strict";function $(t){var e=this;this.next=null,this.entry=null,this.finish=function(){O(e,t)}}function a(t){return N.from(t)}function o(t){return N.isBuffer(t)||t instanceof z}function s(){}function l(t,e){S=S||r(28),t=t||{};var n=e instanceof S;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark,o=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&(a||0===a)?this.highWaterMark=a:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){m(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new $(this)}function u(t){return S=S||r(28),B.call(u,this)||this instanceof S?(this._writableState=new l(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void C.call(this)):new u(t)}function c(t,e){var r=new Error("write after end");t.emit("error",r),M.nextTick(e,r)}function f(t,e,r,n){var i=!0,$=!1;return null===r?$=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||($=new TypeError("Invalid non-string/buffer chunk")),$&&(t.emit("error",$),M.nextTick(n,$),i=!1),i}function _(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=N.from(e,r)),e}function h(t,e,r,n,i,$){if(!r){var a=_(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:$,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else d(t,e,!1,o,n,i,$);return s}function d(t,e,r,n,i,$,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,$,e.onwrite),e.sync=!1}function p(t,e,r,n,i){--e.pendingcb,r?(M.nextTick(i,n),M.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),x(t,e))}function y(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function m(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(y(r),e)p(t,r,n,e,i);else{var $=w(r);$||r.corked||r.bufferProcessing||!r.bufferedRequest||b(t,r),n?T(g,t,r,$,i):g(t,r,$,i)}}function g(t,e,r,n){r||v(t,e),e.pendingcb--,n(),x(t,e)}function v(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,d(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new $(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,f=e.objectMode?1:l.length;if(d(t,e,!1,f,l,u,c),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function k(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,M.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function x(t,e){var r=w(e);return r&&(k(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function A(t,e,r){e.ending=!0,x(t,e),r&&(e.finished?M.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function O(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var M=r(71);t.exports=u;var S,T=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:M.nextTick;u.WritableState=l;var R=r(52);R.inherits=r(8);var I={deprecate:r(494)},C=r(215),N=r(17).Buffer,z=i.Uint8Array||function(){},P=r(214);R.inherits(u,C),l.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(l.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var B;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(t){return!!B.call(this,t)||this===u&&(t&&t._writableState instanceof l)}})):B=function(t){return t instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,r){var n=this._writableState,i=!1,$=!n.objectMode&&o(t);return $&&!N.isBuffer(t)&&(t=a(t)),"function"==typeof e&&(r=e,e=null),$?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=s),n.ended?c(this,r):($||f(this,n,t,r))&&(n.pendingcb++,i=h(this,n,$,t,e,r)),i},u.prototype.cork=function(){var t=this._writableState;t.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||A(this,n,r)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),u.prototype.destroy=P.destroy,u.prototype._undestroy=P.undestroy,u.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,r(15),r(493).setImmediate,function(){return this}())},142:function(t,e,r){e=t.exports=r(212),e.Stream=e,e.Readable=e,e.Writable=r(141),e.Duplex=r(28),e.Transform=r(213),e.PassThrough=r(476)},143:function(t,e,r){(function(t){function r(t){var e,r;return e=t>o||t<0?(r=Math.abs(t)%o,t<0?o-r:r):t}function n(t){var e,r,n;for(e=r=0,n=t.length;0<=n?r<n:r>n;e=0<=n?++r:--r)t[e]=0;return!1}function i(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.INV_SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function $(t){for(var e=t.length/4,r=new Array(e),n=-1;++n<e;)r[n]=t.readUInt32BE(4*n);return r}function a(t){this._key=$(t),this._doReset()}var o=Math.pow(2,32);i.prototype.init=function(){var t,e,r,n,i,$,a,o,s,l;for(t=function(){var t,r;for(r=[],e=t=0;t<256;e=++t)e<128?r.push(e<<1):r.push(e<<1^283);return r}(),i=0,s=0,e=l=0;l<256;e=++l)r=s^s<<1^s<<2^s<<3^s<<4,r=r>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,$=t[i],a=t[$],o=t[a],n=257*t[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*o^65537*a^257*$^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=s=1:(i=$^t[t[t[o^$]]],s^=t[t[s]]);return!0};var s=new i;a.blockSize=16,a.prototype.blockSize=a.blockSize,a.keySize=32,a.prototype.keySize=a.keySize,a.ivSize=a.blockSize,a.prototype.ivSize=a.ivSize,a.prototype._doReset=function(){var t,e,r,n,i,$,a,o;for(r=this._key,e=r.length,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)this._keySchedule[n]=n<e?r[n]:($=this._keySchedule[n-1],n%e===0?($=$<<8|$>>>24,$=s.SBOX[$>>>24]<<24|s.SBOX[$>>>16&255]<<16|s.SBOX[$>>>8&255]<<8|s.SBOX[255&$],$^=s.RCON[n/e|0]<<24):e>6&&n%e===4?$=s.SBOX[$>>>24]<<24|s.SBOX[$>>>16&255]<<16|s.SBOX[$>>>8&255]<<8|s.SBOX[255&$]:void 0,this._keySchedule[n-e]^$);for(this._invKeySchedule=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)n=i-t,$=this._keySchedule[n-(t%4?0:4)],this._invKeySchedule[t]=t<4||n<=4?$:s.INV_SUB_MIX[0][s.SBOX[$>>>24]]^s.INV_SUB_MIX[1][s.SBOX[$>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[$>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&$]];return!0},a.prototype.encryptBlock=function(e){e=$(new t(e));var r=this._doCryptBlock(e,this._keySchedule,s.SUB_MIX,s.SBOX),n=new t(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},a.prototype.decryptBlock=function(e){e=$(new t(e));var r=[e[3],e[1]];e[1]=r[0],e[3]=r[1];var n=this._doCryptBlock(e,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX),i=new t(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},a.prototype._doCryptBlock=function(t,e,n,i){var $,a,o,s,l,u,c,f,_,h,d,p;for(o=t[0]^e[0],s=t[1]^e[1],l=t[2]^e[2],u=t[3]^e[3],$=4,a=d=1,p=this._nRounds;1<=p?d<p:d>p;a=1<=p?++d:--d)c=n[0][o>>>24]^n[1][s>>>16&255]^n[2][l>>>8&255]^n[3][255&u]^e[$++],f=n[0][s>>>24]^n[1][l>>>16&255]^n[2][u>>>8&255]^n[3][255&o]^e[$++],_=n[0][l>>>24]^n[1][u>>>16&255]^n[2][o>>>8&255]^n[3][255&s]^e[$++],h=n[0][u>>>24]^n[1][o>>>16&255]^n[2][s>>>8&255]^n[3][255&l]^e[$++],o=c,s=f,l=_,u=h;return c=(i[o>>>24]<<24|i[s>>>16&255]<<16|i[l>>>8&255]<<8|i[255&u])^e[$++],f=(i[s>>>24]<<24|i[l>>>16&255]<<16|i[u>>>8&255]<<8|i[255&o])^e[$++],_=(i[l>>>24]<<24|i[u>>>16&255]<<16|i[o>>>8&255]<<8|i[255&s])^e[$++],h=(i[u>>>24]<<24|i[o>>>16&255]<<16|i[s>>>8&255]<<8|i[255&l])^e[$++],[r(c),r(f),r(_),r(h)]},e.AES=a}).call(e,r(7).Buffer)},144:function(t,e,r){(function(e){function n(){i.call(this)}var i=r(218).Transform,$=r(8);t.exports=n,$(n,i),n.prototype.update=function(t,r,n){this.write(t,r);for(var i,$=new e("");i=this.read();)$=e.concat([$,i]);return n&&($=$.toString(n)),$},n.prototype.final=function(t){this.end();for(var r,n=new e("");r=this.read();)n=e.concat([n,r]);return t&&(n=n.toString(t)),n}}).call(e,r(7).Buffer)},145:function(t,e){e["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},e["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},e["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},e["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},e["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},e["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},e.aes128=e["aes-128-cbc"],e.aes192=e["aes-192-cbc"],e.aes256=e["aes-256-cbc"],e["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},e["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},e["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},e["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},e["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},e["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},e["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},e["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},e["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},212:function(t,e,r){(function(e,n){"use strict";function i(t){return B.from(t)}function $(t){return B.isBuffer(t)||t instanceof q}function a(t,e,r){return"function"==typeof t.prependListener?t.prependListener(e,r):void(t._events&&t._events[e]?N(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r))}function o(t,e){C=C||r(28),t=t||{};var n=e instanceof C;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,$=t.readableHighWaterMark,a=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&($||0===$)?this.highWaterMark=$:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(j||(j=r(219).StringDecoder),this.decoder=new j(t.encoding),this.encoding=t.encoding)}function s(t){return C=C||r(28),this instanceof s?(this._readableState=new o(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void P.call(this)):new s(t)}function l(t,e,r,n,$){var a=t._readableState;if(null===e)a.reading=!1,d(t,a);else{var o;$||(o=c(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===B.prototype||(e=i(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):u(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?u(t,a,e,!1):m(t,a)):u(t,a,e,!1))):n||(a.reading=!1)}return f(a)}function u(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&p(t)),m(t,e)}function c(t,e){var r;return $(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function _(t){return t>=Y?t=Y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function h(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=_(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function d(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,p(t)}}function p(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(F("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?I.nextTick(y,t):y(t))}function y(t){F("emit readable"),t.emit("readable"),k(t)}function m(t,e){e.readingMore||(e.readingMore=!0,I.nextTick(g,t,e))}function g(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(F("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;F("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&z(t,"data")&&(e.flowing=!0,k(t))}}function b(t){F("readable nexttick read 0"),t.read(0)}function w(t,e){e.resumeScheduled||(e.resumeScheduled=!0,I.nextTick(E,t,e))}function E(t,e){e.reading||(F("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(F("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){if(0===e.length)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=A(t,e.buffer,e.decoder),r}function A(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?O(t,e):M(t,e),n}function O(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var $=r.data,a=t>$.length?$.length:t;if(i+=a===$.length?$:$.slice(0,t),t-=a,0===t){a===$.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=$.slice(a));break}++n}return e.length-=n,i}function M(t,e){var r=B.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var $=n.data,a=t>$.length?$.length:t;if($.copy(r,r.length-t,0,a),t-=a,0===t){a===$.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=$.slice(a));break}++i}return e.length-=i,r}function S(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,I.nextTick(T,e,t))}function T(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var I=r(71);t.exports=s;var C,N=r(113);s.ReadableState=o;var z=(r(106).EventEmitter,function(t,e){return t.listeners(e).length}),P=r(215),B=r(17).Buffer,q=e.Uint8Array||function(){},D=r(52);D.inherits=r(8);var L=r(504),F=void 0;F=L&&L.debuglog?L.debuglog("stream"):function(){};var j,U=r(477),H=r(214);D.inherits(s,P);var G=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=H.destroy,s.prototype._undestroy=H.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=B.from(t,e),e=""),r=!0),l(this,t,e,!1,r)},s.prototype.unshift=function(t){return l(this,t,null,!0,!1)},s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(t){return j||(j=r(219).StringDecoder),this._readableState.decoder=new j(t),this._readableState.encoding=t,this};var Y=8388608;s.prototype.read=function(t){F("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return F("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?S(this):p(this),null;if(t=h(t,e),0===t&&e.ended)return 0===e.length&&S(this),null;var n=e.needReadable;F("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,F("length less than watermark",n)),e.ended||e.reading?(n=!1,F("reading or ended",n)):n&&(F("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=h(r,e)));var i;return i=t>0?x(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&S(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(t,e){F("onunpipe"),t===f&&e&&e.hasUnpiped===!1&&(e.hasUnpiped=!0,$())}function i(){F("onend"),t.end()}function $(){F("cleanup"),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",c),f.removeListener("data",o),y=!0,!_.awaitDrain||t._writableState&&!t._writableState.needDrain||p()}function o(e){F("ondata"),m=!1;var r=t.write(e);!1!==r||m||((1===_.pipesCount&&_.pipes===t||_.pipesCount>1&&R(_.pipes,t)!==-1)&&!y&&(F("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,m=!0),f.pause())}function s(e){F("onerror",e),c(),t.removeListener("error",s),0===z(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",u),c()}function u(){F("onfinish"),t.removeListener("close",l),c()}function c(){F("unpipe"),f.unpipe(t)}var f=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=t;break;case 1:_.pipes=[_.pipes,t];break;default:_.pipes.push(t)}_.pipesCount+=1,F("pipe count=%d opts=%j",_.pipesCount,e);var h=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,d=h?i:c;_.endEmitted?I.nextTick(d):f.once("end",d),t.on("unpipe",r);var p=v(f);t.on("drain",p);var y=!1,m=!1;return f.on("data",o),a(t,"error",s),t.once("close",l),t.once("finish",u),t.emit("pipe",f),_.flowing||(F("pipe resume"),f.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var $=0;$<i;$++)n[$].emit("unpipe",this,r);return this}var a=R(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},s.prototype.on=function(t,e){var r=P.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&p(this):I.nextTick(b,this))}return r},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(F("resume"),t.flowing=!0,w(this,t)),this},s.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(F("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(F("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var $=e.push(i);$||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var $=0;$<G.length;$++)t.on(G[$],this.emit.bind(this,G[$]));return this._read=function(e){F("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),s._fromList=x}).call(e,function(){return this}(),r(15))},213:function(t,e,r){"use strict";function n(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){return this instanceof i?(o.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",$)):new i(t)}function $(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var o=r(28),s=r(52);s.inherits=r(8),s.inherits(i,o),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var r=this;o.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},214:function(t,e,r){"use strict";function n(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a.nextTick($,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(a.nextTick($,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $(t,e){t.emit("error",e)}var a=r(71);t.exports={destroy:n,undestroy:i}},215:function(t,e,r){t.exports=r(106).EventEmitter},216:function(t,e,r){function n(){this.init(),this._w=h,c.call(this,64,56)}function i(t,e,r){return r^t&(e^r)}function $(t,e,r){return t&e|r&(t|e)}function a(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function o(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function s(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function l(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var u=r(8),c=r(45),f=r(17).Buffer,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);u(n,c),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,u=0|this._c,c=0|this._d,f=0|this._e,h=0|this._f,d=0|this._g,p=0|this._h,y=0;y<16;++y)e[y]=t.readInt32BE(4*y);for(;y<64;++y)e[y]=l(e[y-2])+e[y-7]+s(e[y-15])+e[y-16]|0;for(var m=0;m<64;++m){var g=p+o(f)+i(f,h,d)+_[m]+e[m]|0,v=a(r)+$(r,n,u)|0;p=d,d=h,h=f,f=c+g|0,c=u,u=n,n=r,r=g+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=f+this._e|0,this._f=h+this._f|0,this._g=d+this._g|0,this._h=p+this._h|0},n.prototype._hash=function(){var t=f.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=n},217:function(t,e,r){function n(){this.init(),this._w=y,h.call(this,128,112)}function i(t,e,r){return r^t&(e^r)}function $(t,e,r){return t&e|r&(t|e)}function a(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function o(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function s(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function l(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function u(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function c(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function f(t,e){return t>>>0<e>>>0?1:0}var _=r(8),h=r(45),d=r(17).Buffer,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);
_(n,h),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,_=0|this._ch,h=0|this._dh,d=0|this._eh,y=0|this._fh,m=0|this._gh,g=0|this._hh,v=0|this._al,b=0|this._bl,w=0|this._cl,E=0|this._dl,k=0|this._el,x=0|this._fl,A=0|this._gl,O=0|this._hl,M=0;M<32;M+=2)e[M]=t.readInt32BE(4*M),e[M+1]=t.readInt32BE(4*M+4);for(;M<160;M+=2){var S=e[M-30],T=e[M-30+1],R=s(S,T),I=l(T,S);S=e[M-4],T=e[M-4+1];var C=u(S,T),N=c(T,S),z=e[M-14],P=e[M-14+1],B=e[M-32],q=e[M-32+1],D=I+P|0,L=R+z+f(D,I)|0;D=D+N|0,L=L+C+f(D,N)|0,D=D+q|0,L=L+B+f(D,q)|0,e[M]=L,e[M+1]=D}for(var F=0;F<160;F+=2){L=e[F],D=e[F+1];var j=$(r,n,_),U=$(v,b,w),H=a(r,v),G=a(v,r),Y=o(d,k),W=o(k,d),X=p[F],K=p[F+1],V=i(d,y,m),J=i(k,x,A),Z=O+W|0,Q=g+Y+f(Z,O)|0;Z=Z+J|0,Q=Q+V+f(Z,J)|0,Z=Z+K|0,Q=Q+X+f(Z,K)|0,Z=Z+D|0,Q=Q+L+f(Z,D)|0;var tt=G+U|0,et=H+j+f(tt,G)|0;g=m,O=A,m=y,A=x,y=d,x=k,k=E+Z|0,d=h+Q+f(k,E)|0,h=_,E=w,_=n,w=b,n=r,b=v,v=Z+tt|0,r=Q+et+f(v,Z)|0}this._al=this._al+v|0,this._bl=this._bl+b|0,this._cl=this._cl+w|0,this._dl=this._dl+E|0,this._el=this._el+k|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+O|0,this._ah=this._ah+r+f(this._al,v)|0,this._bh=this._bh+n+f(this._bl,b)|0,this._ch=this._ch+_+f(this._cl,w)|0,this._dh=this._dh+h+f(this._dl,E)|0,this._eh=this._eh+d+f(this._el,k)|0,this._fh=this._fh+y+f(this._fl,x)|0,this._gh=this._gh+m+f(this._gl,A)|0,this._hh=this._hh+g+f(this._hl,O)|0},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=d.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=n},218:function(t,e,r){function n(){i.call(this)}t.exports=n;var i=r(106).EventEmitter,$=r(8);$(n,i),n.Readable=r(142),n.Writable=r(480),n.Duplex=r(475),n.Transform=r(479),n.PassThrough=r(478),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function $(){u||(u=!0,t.end())}function a(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function o(t){if(s(),0===i.listenerCount(this,"error"))throw t}function s(){l.removeListener("data",r),t.removeListener("drain",n),l.removeListener("end",$),l.removeListener("close",a),l.removeListener("error",o),t.removeListener("error",o),l.removeListener("end",s),l.removeListener("close",s),t.removeListener("close",s)}var l=this;l.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(l.on("end",$),l.on("close",a));var u=!1;return l.on("error",o),t.on("error",o),l.on("end",s),l.on("close",s),t.on("close",s),t.emit("pipe",l),t}},219:function(t,e,r){"use strict";function n(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=n(t);if("string"!=typeof e&&(m.isEncoding===g||!g(t)))throw new Error("Unknown encoding: "+t);return e||t}function $(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=f,this.end=_,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=h,this.end=d,e=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function o(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=a(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=a(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function s(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,r=s(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var r=o(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function f(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function _(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function h(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}var m=r(17).Buffer,g=m.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=$,$.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},$.prototype.end=c,$.prototype.text=u,$.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},220:function(t,e){(function(e){t.exports=e}).call(e,{})},221:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},222:function(t,e,r){(function(e){t.exports=function(t,r,n,i){n/=8,i=i||0;for(var $,a,o,s=0,l=0,u=new e(n),c=new e(i),f=0;;){if($=t.createHash("md5"),f++>0&&$.update(a),$.update(r),a=$.digest(),o=0,n>0)for(;;){if(0===n)break;if(o===a.length)break;u[s++]=a[o],n--,o++}if(i>0&&o!==a.length)for(;;){if(0===i)break;if(o===a.length)break;c[l++]=a[o],i--,o++}if(0===n&&0===i)break}for(o=0;o<a.length;o++)a[o]=0;return{key:u,iv:c}}}).call(e,r(7).Buffer)},223:function(t,e,r){var n=r(78);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},224:function(t,e,r){(function(t){function n(e,r,n){var $=r.length,a=i(r,e._cache);return e._cache=e._cache.slice($),e._prev=t.concat([e._prev,n?r:a]),a}var i=r(78);e.encrypt=function(e,r,i){for(var $,a=new t("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=r.length)){a=t.concat([a,n(e,r,i)]);break}$=e._cache.length,a=t.concat([a,n(e,r.slice(0,$),i)]),r=r.slice($)}return a}}).call(e,r(7).Buffer)},225:function(t,e,r){(function(t){function n(t){var e=t._cipher.encryptBlock(t._prev);return i(t._prev),e}function i(t){for(var e,r=t.length;r--;){if(e=t.readUInt8(r),255!==e){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}var $=r(78);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),$(r,i)}}).call(e,r(7).Buffer)},226:function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},227:function(t,e,r){(function(t){function n(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=r(78);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var $=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),i(r,$)}}).call(e,r(7).Buffer)},228:function(t,e,r){(function(e){function n(t,r,a,o){return this instanceof n?($.call(this),this._cipher=new i.AES(r),this._prev=new e(a.length),this._cache=new e(""),this._secCache=new e(""),this._decrypt=o,a.copy(this._prev),void(this._mode=t)):new n(t,r,a)}var i=r(143),$=r(144),a=r(8);a(n,$),t.exports=n,n.prototype._transform=function(t,e,r){r(null,this._mode.encrypt(this,t,this._decrypt))},n.prototype._flush=function(t){this._cipher.scrub(),t()}}).call(e,r(7).Buffer)},229:function(t,e,r){(function(e){function n(t){return function(){var r=[],n={update:function(t,n){return e.isBuffer(t)||(t=new e(t,n)),r.push(t),this},digest:function(n){var i=e.concat(r),$=t(i);return r=null,n?$.toString(n):$}};return n}}var i=r(486),$=n(r(501)),a=n(r(482));t.exports=function(t){return"md5"===t?new $:"rmd160"===t?new a:i(t)}}).call(e,r(7).Buffer)},8:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},238:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){for(var e=t.length,r=t,n=0,i=e;i>=0;i--){var $=r[i];if(c.indexOf($)!==-1){n=i+1;break}}return[n,e,r.substr(n,e-n)]}e.__esModule=!0;var s=r(4),l=n(s),u=r(245),c=" \n\t",f=function(t){function e(r){i(this,e);var n=$(this,t.call(this,r));return n.state={value:""},n.setTextInputRef=function(t){n.textInput=t},n.handleChange=n.handleChange.bind(n),n}return a(e,t),e.prototype.handleChange=function(t){if(t&&(t.keyCode>=48&&t.keyCode<=90||219===t.keyCode||221===t.keyCode)){var e=t.target.value,r=o(e),n=(0,u.doEvaluate)(r[2],{shift:t.getModifierState("Shift"),capslock:t.getModifierState("CapsLock")}),i=e.substring(0,r[0])+n+e.substring(r[1]);t.target.value=i}},e.prototype.render=function(){return l.default.createElement("div",null,l.default.createElement("textarea",{ref:this.setTextInputRef,onKeyUp:this.handleChange,className:"form-control",rows:"10"}))},e}(l.default.Component);e.default=f,t.exports=e.default},240:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global,process,__dirname){"use strict";"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=__webpack_require__(116).Opal),"undefined"==typeof Opal&&(function(t){function e(){}function r(){}function n(){}function i(){}function $(){}function a(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(null!=t)for(r=0,n=(i=y.ancestors(t)).length;r<n;r++)if(i[r].$$const&&g.call(i[r].$$const,e))return i[r].$$const[e]}function s(t,e,r){if(!r)return(t||_).$const_missing(e)}function l(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;r>=0;r--)n="$"+i[r],y.bridge_method(t,e,n,e.$$proto[n])}var u,c,f,_,h,d,p=this;if("undefined"!=typeof global&&(p=global),"undefined"!=typeof window&&(p=window),"log"in(u="object"==typeof p.console?p.console:null==p.console?p.console={}:{})||(u.log=function(){}),"warn"in u||(u.warn=u.log),void 0!==this.Opal)return u.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var y=this.Opal={},m={};y.global=p,p.Opal=y,y.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var g=Object.hasOwnProperty,v=(y.slice=Array.prototype.slice,4);y.uid=function(){return v+=2},y.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=y.uid())},y.gvars={},y.exit=function(t){y.gvars.DEBUG&&u.log("Exited with status "+t)},y.exceptions=[],y.pop_exception=function(){y.gvars["!"]=y.exceptions.pop()||c},y.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},y.truthy=function(t){return t!==c&&null!=t&&(!t.$$is_boolean||1==t)},y.falsy=function(t){return t===c||null==t||t.$$is_boolean&&0==t},y.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=_),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return null!=(n=a(t,e))?n:null!=(n=s(t,e,r))?n:void 0}},y.const_get_qualified=function(t,e,r){var n,i,$,l=y.const_cache_version;if(null!=t){if("::"===t&&(t=_),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==($=i[e])||$[0]!==l?(null!=(n=a(t,e))||(n=o(t,e)),i[e]=[l,n]):n=$[1],null!=n?n:s(t,e,r)}},y.const_cache_version=1,y.const_get_relative=function(t,e,r){var n,i,$,l=t[0],u=y.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),null==($=i[e])||$[0]!==u?(null!=(n=a(l,e))||null!=(n=function(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=(i=t[r].$$const[e]))return i}(t,e))||null!=(n=o(l,e))||(n=function(t,e){if(null==t||t.$$is_module)return o(_,e)}(l,e)),i[e]=[u,n]):n=$[1],null!=n?n:s(l,e,r)},y.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=_),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==c||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,y.const_cache_version++,t===_&&(y[e]=r),r},y.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],o={};for(e&&(a=a.concat(y.ancestors(t))),e&&t.$$is_module&&(a=a.concat([y.Object]).concat(y.ancestors(y.Object))),n=0,i=a.length;n<i&&(r=a[n],t===_||r!=_);n++)for($ in r.$$const)o[$]=!0;return Object.keys(o)},y.const_remove=function(t,e){if(y.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],c;throw y.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},y.klass=function(t,e,r,n){var i,$,o;if(null==t&&(t=_),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=_),i=a(t,r)){if(!i.$$is_class)throw y.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw y.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=_),o=$||y.boot_class_alloc(r,n,e),(i=y.setup_class_object(r,o,e.$$name,e.constructor)).$$super=e,i.$$parent=e,y.const_set(t,r,i),t[r]=i,$?y.bridge(i,o):e.$inherited&&e.$inherited(i),i},y.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},y.setup_module_or_class=function(t){t.$$id=y.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=c,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},y.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var $=function(){};$.prototype=new i;var a=new $;return y.setup_module_or_class(a),a.$$alloc=e,a.$$name=t||c,$.displayName="#<Class:"+(t||"#<Class:"+a.$$id+">")+">",a.$$proto=e.prototype,a.$$proto.$$class=a,a.constructor=$,a.$$is_class=!0,a.$$class=d,a},y.module=function(t,e){var r;if(null==t&&(t=_),t.$$is_class||t.$$is_module||(t=t.$$class),null==(r=a(t,e))&&t===_&&(r=o(_,e)),r){if(!r.$$is_module&&r!==_)throw y.TypeError.$new(e+" is not a module")}else r=y.module_allocate(h),y.const_set(t,e,r);return r},y.module_initialize=function(t,e){if(e!==c){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return c},y.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r;return y.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto={},n.constructor=r,n.$$is_module=!0,n.$$class=h,n.$$super=t,n.$$parent=t,n},y.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?y.build_class_singleton_class(t):y.build_object_singleton_class(t)},y.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===f?d:y.build_class_singleton_class(t.$$super),(n=y.setup_class_object(null,e,r.$$name,r.constructor)).$$super=r,n.$$parent=r,n.$$is_singleton=!0,n.$$singleton_of=t,t.$$meta=n)},y.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=y.boot_class_alloc(r,function(){},e),i=y.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},y.class_variables=function(t){var e,r=y.ancestors(t),n={};for(e=r.length-1;e>=0;e--){var i=r[e];for(var $ in i.$$cvars)n[$]=i.$$cvars[$]}return n},y.class_variable_set=function(t,e,r){var n,i=y.ancestors(t);for(n=i.length-2;n>=0;n--){var $=i[n];if(g.call($.$$cvars,e))return $.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},y.bridge_method=function(t,e,r,n){var i,$,a,o;for($=0,o=(i=t.$$bridge.$ancestors()).length;$<o&&(a=i[$],!g.call(a.$$proto,r)||!a.$$proto[r]||a.$$proto[r].$$donated||a.$$proto[r].$$stub||a===e);$++)if(a===e){t.prototype[r]=n;break}},y.bridge_methods=function(t,e){var r,n=m[t.$__id__()],i=e.$__id__();if(n)for(m[i]=n.slice(),r=n.length-1;r>=0;r--)l(n[r],e)},y.has_cyclic_dep=function t(e,r,n,i){var $,a,o;for($=r.length-1;$>=0;$--)if(!i[a=(o=r[$]).$$id]){if(i[a]=!0,a===e)return!0;if(t(e,o[n],n,i))return!0}return!1},y.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&y.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw y.ArgumentError.$new("cyclic include detected");for(y.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),y.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,i=(n=t.$instance_methods()).length-1;i>=0;i--)y.update_includer(t,e,"$"+n[i])},y.stubs={},y.bridge=function(t,r){if(r.$$bridge)throw y.ArgumentError.$new("already bridged");for(var n in y.stub_subscribers.push(r.prototype),y.stubs)n in r.prototype||(r.prototype[n]=y.stub_for(n));r.prototype.$$class=t,r.$$bridge=t;for(var i,$,a,o=t.$ancestors(),s=o.length-1;s>=0;s--)i=r,$=o[s],a=$.$__id__(),m[a]||(m[a]=[]),m[a].push(i),l(r,o[s]);for(var u in e.prototype){var c=e.prototype[c];!c||!c.$$stub||u in r.prototype||(r.prototype[u]=c)}return t},y.update_includer=function(t,e,r){var n,i,$,a,o,s,l,u;if($=t.$$proto[r],i=(n=e.$$proto)[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for(o=0,s=(a=e.$$inc).length;o<s;o++)a[o]===i.$$donated&&(l=o),a[o]===t&&(u=o);l<=u&&(n[r]=$,n[r].$$donated=t)}else n[r]=$,n[r].$$donated=t;e.$$included_in&&y.update_includers(e,r)},y.update_includers=function(t,e){var r,n,i,$;if($=t.$$included_in)for(r=0,n=$.length;r<n;r++)i=$[r],y.update_includer(t,i,e)},y.ancestors=function(t){for(var e,r,n,i,$=t,a=[];$;){for(a.push($),r=$.$$inc.length-1;r>=0;r--)for(n=0,i=(e=y.ancestors($.$$inc[r])).length;n<i;n++)a.push(e[n]);$=$.$$is_singleton&&$.$$singleton_of.$$is_module?$.$$singleton_of.$$super:$.$$is_class?$.$$super:null}return a},y.add_stubs=function(t){var e,r,n,i,$,a=y.stub_subscribers,o=t.length,s=a.length,l=y.stubs;for(r=0;r<o;r++)if(i=t[r],!l.hasOwnProperty(i))for(l[i]=!0,$=y.stub_for(i),n=0;n<s;n++)i in(e=a[n])||(e[i]=$)},y.stub_subscribers=[e.prototype],y.add_stub_for=function(t,e){var r=y.stub_for(e);t[e]=r},y.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},y.ac=function(t,e,r,n){var i="";throw i+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",i+=n,y.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},y.block_ac=function(t,e,r){var n="`block in "+r+"'";throw y.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},y.find_super_dispatcher=function(t,e,r,n,i){var $;if($=(i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:y.find_obj_super_dispatcher(t,e,r))["$"+e],!n&&$.$$stub&&y.Kernel.$method_missing===t.$method_missing)throw y.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},y.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw y.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw y.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),y.find_super_dispatcher(t,$,r,n)},y.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(!(n=y.find_owning_class(n,r)))throw new Error("could not find current class for super()");return y.find_super_func(n,"$"+e,r)},y.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},y.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},y.ret=function(t){throw y.returner.$v=t,y.returner},y.brk=function(t,e){throw e.$v=t,e},y.new_brk=function(){return new Error("unexpected break")},y.yield1=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=y.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},y.yieldX=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},y.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=y.rescue(t,n);if(i)return i}else{if(n===y.JS.Error)return n;if(n["$==="](t))return n}}return null},y.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=y.ancestors(t.$$is_class?y.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},y.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw y.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},y.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===c)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},y.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===c)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},y.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):y.hash2([],{})},y.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return y.hash2(r,n)},y.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},y.lambda=function(t){return t.$$is_lambda=!0,t},y.def=function(t,e,r){t===y.top?y.defn(y.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?y.defs(t,e,r):y.defn(t,e,r)},y.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(y.update_includers(t,e),t.$$module_function&&y.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&m[t.$__id__()];if(n)for(var i=n.length-1;i>=0;i--)y.bridge_method(n[i],t,e,r);var $=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),c},y.defs=function(t,e,r){y.defn(y.get_singleton_class(t),e,r)},y.rdef=function(t,e){if(!g.call(t.$$proto,e))throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},y.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());y.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},y.alias=function(t,e,r){var n,i="$"+e,$="$"+r,a=t.$$proto["$"+r];if(t.$$eval)return y.alias(y.get_singleton_class(t),e,r);if("function"!=typeof a||a.$$stub){for(var o=t.$$super;"function"!=typeof a&&o;)a=o[$],o=o.$$super;if("function"!=typeof a||a.$$stub)throw y.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),(n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),y.send(this,a,t,i)}).displayName=e,n.length=a.length,n.$$arity=a.$$arity,n.$$parameters=a.$$parameters,n.$$source_location=a.$$source_location,n.$$alias_of=a,n.$$alias_name=e,y.defn(t,i,n),t},y.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw y.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return y.defn(t,n,i),t},y.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},y.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,o=$.length;i<o;i++)(r=$[i]).$$is_string?n=a[r]:(n=r.value,r=r.key),y.hash_put(e,r,n)},y.hash_put=function(e,r,n){if(r.$$is_string)return g.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,$,a;if(i=e.$$by_identity?y.id(r):r.$hash(),!g.call(e.$$map,i))return $={key:r,key_hash:i,value:n},e.$$keys.push($),void(e.$$map[i]=$);for($=e.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){a=t,$.value=n;break}a=$,$=$.next}a&&($={key:r,key_hash:i,value:n},e.$$keys.push($),a.next=$)},y.hash_get=function(t,e){if(e.$$is_string)return g.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?y.id(e):e.$hash(),g.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},y.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!g.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(g.call(t.$$map,a))for(var o,s=t.$$map[a];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<$;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[a]=s.next:delete t.$$map[a],n}o=s,s=s.next}},y.hash_rehash=function(e){for(var r,n,i,$=0,a=e.$$keys.length;$<a;$++)if(!e.$$keys[$].$$is_string&&(r=e.$$keys[$].key.$hash())!==e.$$keys[$].key_hash){for(n=e.$$map[e.$$keys[$].key_hash],i=t;n;){if(n===e.$$keys[$]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[$].key_hash]=n.next:delete e.$$map[e.$$keys[$].key_hash];break}i=n,n=n.next}if(e.$$keys[$].key_hash=r,g.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[$]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[$])}else e.$$map[r]=e.$$keys[$]}},y.hash=function(){var t,e,r,n,i,$,a=arguments.length;if(1===a&&arguments[0].$$is_hash)return arguments[0];if(e=new y.Hash.$$alloc,y.hash_init(e),1===a&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw y.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],y.hash_put(e,i,$)}return e}if(1===a){for(i in t=arguments[0])g.call(t,i)&&($=t[i],y.hash_put(e,i,$));return e}if(a%2!=0)throw y.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<a;r+=2)i=arguments[r],$=arguments[r+1],y.hash_put(e,i,$);return e},y.hash2=function(t,e){var r=new y.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},y.range=function(t,e,r){var n=new y.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},y.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},y.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},y.modules={},y.loaded_features=["corelib/runtime"],y.current_dir=".",y.require_table={"corelib/runtime":!0},y.normalize=function(t){var e,r,n=[];"."!==y.current_dir&&(t=y.current_dir.replace(/\/*$/,"/")+t);for(var i=0,$=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<$;i++)""!==(r=e[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},y.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=y.normalize(t[e]),y.require_table[n])return;y.loaded_features.push(n),y.require_table[n]=!0}},y.load=function(t){t=y.normalize(t),y.loaded([t]);var e=y.modules[t];if(e)e(y);else{var r=y.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw y.LoadError?y.LoadError.$new(n):n;"warning"===r&&u.warn("WARNING: LoadError: "+n)}return!0},y.require=function(t){return t=y.normalize(t),!y.require_table[t]&&y.load(t)},y.boot_class_alloc("BasicObject",e),y.boot_class_alloc("Object",r,e),y.boot_class_alloc("Module",i,r),y.boot_class_alloc("Class",n,i),y.BasicObject=f=y.setup_class_object("BasicObject",e,"Class",n),y.Object=_=y.setup_class_object("Object",r,"BasicObject",f.constructor),y.Module=h=y.setup_class_object("Module",i,"Object",_.constructor),y.Class=d=y.setup_class_object("Class",n,"Module",h.constructor),f.$$const.BasicObject=f,y.const_set(_,"BasicObject",f),y.const_set(_,"Object",_),y.const_set(_,"Module",h),y.const_set(_,"Class",d),f.$$class=d,_.$$class=d,h.$$class=d,d.$$class=d,f.$$super=null,_.$$super=f,h.$$super=_,d.$$super=h,f.$$parent=null,_.$$parent=f,h.$$parent=_,d.$$parent=h,_.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},_.$$proto.$require=y.require,y.$$=_.$$,y.top=new _.$$alloc,y.top.$to_s=y.top.$inspect=function(){
return"main"},y.klass(_,_,"NilClass",$),(c=y.nil=new $).$$id=4,c.call=c.apply=function(){throw y.LocalJumpError.$new("no block given")},y.breaker=new Error("unexpected break (old)"),y.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(void 0),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e,r,n,i,$,a,o,s,l,u,c,f,_,h,d,p,y,m=[],g=t.nil,v=(t.const_get_qualified,t.const_get_relative),b=(t.breaker,t.slice,t.module),w=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),e=m,(p=b(m[0],"Opal")).$$proto,y=[p].concat(e),t.defs(p,"$bridge",r=function(e,r){return t.bridge(e,r)},r.$$arity=2),t.defs(p,"$type_error",n=function(t,e,r,n){var i;return null==r&&(r=g),null==n&&(n=g),w(w(i=r)?n:i)?v(y,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+r+" gives "+n.$class()+")"):v(y,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},n.$$arity=-3),t.defs(p,"$coerce_to",i=function(t,e,r){return w(e["$==="](t))?t:(w(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},i.$$arity=3),t.defs(p,"$coerce_to!",$=function(t,e,r){var n;return n=this.$coerce_to(t,e,r),w(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n},$.$$arity=3),t.defs(p,"$coerce_to?",a=function(t,e,r){var n=g;return w(t["$respond_to?"](r))?(n=this.$coerce_to(t,e,r),w(n["$nil?"]())?g:(w(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n)):g},a.$$arity=3),t.defs(p,"$try_convert",o=function(t,e,r){return w(e["$==="](t))?t:w(t["$respond_to?"](r))?t.$__send__(r):g},o.$$arity=3),t.defs(p,"$compare",s=function(t,e){var r;return r=t["$<=>"](e),w(r===g)&&this.$raise(v(y,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),r},s.$$arity=2),t.defs(p,"$destructure",l=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},l.$$arity=1),t.defs(p,"$respond_to?",u=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},u.$$arity=-3),t.defs(p,"$inspect_obj",c=function(e){return t.inspect(e)},c.$$arity=1),t.defs(p,"$instance_variable_name!",f=function(t){return t=v(y,"Opal")["$coerce_to!"](t,v(y,"String"),"to_str"),w(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(v(y,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},f.$$arity=1),t.defs(p,"$class_variable_name!",_=function(t){return t=v(y,"Opal")["$coerce_to!"](t,v(y,"String"),"to_str"),w(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(v(y,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},_.$$arity=1),t.defs(p,"$const_name!",h=function(t){return t=v(y,"Opal")["$coerce_to!"](t,v(y,"String"),"to_str"),w(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(v(y,"NameError"),"wrong constant name "+t),t},h.$$arity=1),void t.defs(p,"$pristine",d=function(t,e){var r,n,i,$=arguments.length,a=$-1;a<0&&(a=0),r=new Array(a);for(var o=1;o<$;o++)r[o-1]=arguments[o];for(var s=r.length-1;s>=0;s--)n=r[s],(i=t.$$proto["$"+n])&&!i.$$stub&&(i.$$pristine=!0);return g},d.$$arity=-2)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,_TMP_Module_initialize_,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,_TMP_Module_define_method_,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_extend_object_42,TMP_Module_method_added_43,TMP_Module_method_removed_44,TMP_Module_method_undefined_45,TMP_Module_module_eval_46,_TMP_Module_module_exec_,TMP_Module_method_defined$q_49,TMP_Module_module_function_50,TMP_Module_name_51,TMP_Module_remove_const_52,TMP_Module_to_s_53,TMP_Module_undef_method_54,TMP_Module_instance_variables_55,_TMP_Module_dup_,TMP_Module_copy_class_variables_57,TMP_Module_copy_constants_58;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.module_allocate(this)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",_TMP_Module_initialize_=function(){var t=_TMP_Module_initialize_.$$p,e=t||nil;return t&&(_TMP_Module_initialize_.$$p=null),Opal.module_initialize(this,e)},_TMP_Module_initialize_.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){$truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var e,r,n;if(this===t)return!1;for(r=0,n=(e=Opal.ancestors(this)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===this)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){return Opal.ancestors(this)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return $send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=this.$$proto,a=e.length-1;a>=0;a--){var o=e[a],s="$"+o,l=Opal.ivar(o),u=function(t){return function(){return null==this[t]?nil:this[t]}}(l);$[l]=nil,u.$$parameters=[],u.$$arity=0,this.$$is_singleton?$.constructor.prototype[s]=u:Opal.defn(this,s,u)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=this.$$proto,a=e.length-1;a>=0;a--){var o=e[a],s="$"+o+"=",l=Opal.ivar(o),u=function(t){return function(e){return this[t]=e}}(l);u.$$parameters=[["req"]],u.$$arity=1,$[l]=nil,this.$$is_singleton?$.constructor.prototype[s]=u:Opal.defn(this,s,u)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){t=$$($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){if(null==t){var e,r,n,i=(this.$$nesting||[]).concat(Opal.Object),$={};for(r=0,n=i.length;r<n;r++)for(e in i[r].$$const)$[e]=!0;return Object.keys($)}return Opal.constants(this,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){return this.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var r,n,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,n=i.length;r<n;r++)if(null!=i[r].$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[n],((r=function(t,e){return r.$$s,null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="]($$($nesting,"Object"))?t:r+"::"+t,r.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",_TMP_Module_define_method_=function(t,e){var r,n,i=this,$=_TMP_Module_define_method_.$$p,a=$||nil,o=nil;$&&(_TMP_Module_define_method_.$$p=null),$truthy(void 0===e&&a===nil)&&i.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");var s="$"+t;return(a=$truthy(r=a)?r:(o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda(((n=function(t){var r,i,$=n.$$s||this,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<a;s++)r[s-0]=arguments[s];return i=e.$bind($),$send(i,"call",Opal.to_a(r))}).$$s=i,n.$$arity=-1,n)):i.$raise($$($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Proc/Method)"))).$$jsid=t,a.$$s=null,a.$$def=a,a.$$define_meth=!0,Opal.defn(i,s,a),t},_TMP_Module_define_method_.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)Opal.rdef(this,"$"+e[$]);return this},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=e.length-1;$>=0;$--){var a=e[$];a.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)"),a.$append_features(this),a.$included(this)}return this},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=function t(e){for(var r=[],n=0,i=e.$$inc.length;n<i;n++){var $=e.$$inc[n];r.push($),r=r.concat(t($))}return r};if(t=e(this),this.$$is_class)for(var r=this;r;r=r.$$super)t=t.concat(e(r));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){t.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,r,n,i=Opal.ancestors(this);for(e=0,r=i.length;e<r;e++)if((n=i[e])===t&&n!==this)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){null==t&&(t=!0);var e,r=[],n=this.$$proto;for(var i in n)if("$"===i.charAt(0)&&"$"!==i.charAt(1)&&"function"==typeof(e=n[i])&&!e.$$stub){if(!this.$$is_module){if(this!==Opal.BasicObject&&e===Opal.BasicObject.$$proto[i])continue;if(!t&&!n.hasOwnProperty(i))continue;if(!t&&e.$$donated)continue}r.push(i.substr(1))}return r},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_42=function(t){return nil},TMP_Module_extend_object_42.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_43=function(t){return nil},TMP_Module_method_added_43.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_44=function(t){return nil},TMP_Module_method_removed_44.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_45=function(t){return nil},TMP_Module_method_undefined_45.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_46=function $$module_eval($a_rest){var $b,_TMP_,self=this,args,$iter=TMP_Module_module_eval_46.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_46.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(_TMP_=function TMP_47(){var self=_TMP_.$$s||this;return function(self){return eval(compiled)}(self)},_TMP_.$$s=self,_TMP_.$$arity=0,_TMP_))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",_TMP_Module_module_exec_=function(t){var e,r=_TMP_Module_module_exec_.$$p,n=r||nil,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];r&&(_TMP_Module_module_exec_.$$p=null),n===nil&&this.$raise($$($nesting,"LocalJumpError"),"no block given");var o,s=n.$$s;return n.$$s=null,o=n.apply(this,e),n.$$s=s,o},_TMP_Module_module_exec_.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_49=function(t){var e=this.$$proto["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_49.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_50=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(0===e.length)this.$$module_function=!0;else for(var $=0,a=e.length;$<a;$++){var o="$"+e[$],s=this.$$proto[o];Opal.defs(this,o,s)}return this},TMP_Module_module_function_50.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_51=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_51.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_52=function(t){return Opal.const_remove(this,t)},TMP_Module_remove_const_52.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_53=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_53.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_54=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)Opal.udef(this,"$"+e[$]);return this},TMP_Module_undef_method_54.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_55=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&e.push("@"+r);return e},TMP_Module_instance_variables_55.$$arity=0),Opal.def(self,"$dup",_TMP_Module_dup_=function(){var t,e=_TMP_Module_dup_.$$p,r=nil,n=nil,i=nil;for(e&&(_TMP_Module_dup_.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=$send(this,Opal.find_super_dispatcher(this,"dup",_TMP_Module_dup_,!1),n,e)).$copy_class_variables(this),r.$copy_constants(this),r},_TMP_Module_dup_.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_57=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_57.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_58=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},TMP_Module_copy_constants_58.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,o,s){function l(){}var u,c,f,_,h,d,p,y=l=$(r[0],null,"Class",l),m=(y.$$proto,[y].concat(s));return t.defs(y,"$new",u=function(e){var r=u.$$p,$=r||n;if(null==e&&(e=i(m,"Object")),r&&(u.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.boot_class_alloc(null,function(){},e),o=t.setup_class_object(null,a,e.$$name,e.constructor);return o.$$super=e,o.$$parent=e,e.$inherited(o),t.module_initialize(o,$),o},u.$$arity=-1),t.def(y,"$allocate",c=function(){var e=new this.$$alloc;return e.$$id=t.uid(),e},c.$$arity=0),t.def(y,"$inherited",f=function(t){return n},f.$$arity=1),t.def(y,"$initialize_dup",_=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},_.$$arity=1),t.def(y,"$new",h=function(e){var r,i=h.$$p,$=i||n,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<a;s++)r[s-0]=arguments[s];i&&(h.$$p=null);var l=this.$allocate();return t.send(l,l.$initialize,r,$),l},h.$$arity=-1),t.def(y,"$superclass",d=function(){return this.$$super||n},d.$$arity=0),t.def(y,"$to_s",p=function(){var e=p.$$p;e&&(p.$$p=null);var r=this.$$singleton_of;return r&&(r.$$is_class||r.$$is_module)?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":a(this,t.find_super_dispatcher(this,"to_s",p,!1),[],null)},p.$$arity=0),n&&"to_s"}(0,0,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,_TMP_BasicObject___send___,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,_TMP_BasicObject_instance_exec_,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,_TMP_BasicObject_method_missing_;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){return this.$$id||(this.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",_TMP_BasicObject___send___=function(t,e){var r,n=this,i=_TMP_BasicObject___send___.$$p,$=i||nil,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];i&&(_TMP_BasicObject___send___.$$p=null);var l=n["$"+t];return l?($!==nil&&(l.$$p=$),l.apply(n,r)):($!==nil&&(n.$method_missing.$$p=$),n.$method_missing.apply(n,[t].concat(r)))},_TMP_BasicObject___send___.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,_TMP_2,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(_TMP_2=function TMP_9(){var self=_TMP_2.$$s||this;return function(self){return eval(compiled)}(self)},_TMP_2.$$s=self,_TMP_2.$$arity=0,_TMP_2))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",_TMP_BasicObject_instance_exec_=function(t){var e,r=this,n=_TMP_BasicObject_instance_exec_.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];n&&(_TMP_BasicObject_instance_exec_.$$p=null),$truthy(i)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var s,l=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{s=i.apply(r,e)}finally{r.$$eval=!1}}else s=i.apply(r,e);return i.$$s=l,s},_TMP_BasicObject_instance_exec_.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",_TMP_BasicObject_method_missing_=function(t,e){var r,n,i=this,$=_TMP_BasicObject_method_missing_.$$p,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];return $&&(_TMP_BasicObject_method_missing_.$$p=null),n=$truthy(i.$inspect&&!i.$inspect.$$stub)?"undefined method `"+t+"' for "+i.$inspect()+":"+i.$$class:"undefined method `"+t+"' for "+i.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(n,t))},_TMP_BasicObject_method_missing_.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){t.top;var e,r,n,i,$,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt=[],pt=t.nil,yt=t.const_get_qualified,mt=t.const_get_relative,gt=(t.breaker,t.slice,t.module),vt=t.truthy,bt=t.gvars,wt=t.hash2,Et=t.send,kt=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),e=dt,(_t=gt(dt[0],"Kernel")).$$proto,ht=[_t].concat(e),t.def(_t,"$method_missing",r=function(t,e){var n,i=r.$$p,$=arguments.length,a=$-1;a<0&&(a=0),n=new Array(a);for(var o=1;o<$;o++)n[o-1]=arguments[o];return i&&(r.$$p=null),this.$raise(mt(ht,"NoMethodError").$new("undefined method `"+t+"' for "+this.$inspect(),t,n))},r.$$arity=-2),t.def(_t,"$=~",n=function(t){return!1},n.$$arity=1),t.def(_t,"$!~",i=function(t){return this["$=~"](t)["$!"]()},i.$$arity=1),t.def(_t,"$===",$=function(t){var e;return vt(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},$.$$arity=1),t.def(_t,"$<=>",a=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==pt?0:pt},a.$$arity=1),t.def(_t,"$method",o=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(mt(ht,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),mt(ht,"Method").$new(e,r.$$owner||e.$class(),r,t)},o.$$arity=1),t.def(_t,"$methods",s=function(e){null==e&&(e=!0);var r=[];for(var n in this)if("$"==n[0]&&"function"==typeof this[n]){if((0==e||e===pt)&&!t.hasOwnProperty.call(this,n))continue;void 0===this[n].$$stub&&r.push(n.substr(1))}return r},s.$$arity=-1),t.alias(_t,"public_methods","methods"),t.def(_t,"$Array",l=function(t){var e;return t===pt?[]:t.$$is_array?t:(e=mt(ht,"Opal")["$coerce_to?"](t,mt(ht,"Array"),"to_ary"))!==pt?e:(e=mt(ht,"Opal")["$coerce_to?"](t,mt(ht,"Array"),"to_a"))!==pt?e:[t]},l.$$arity=1),t.def(_t,"$at_exit",u=function(){var t,e=u.$$p,r=e||pt;return null==bt.__at_exit__&&(bt.__at_exit__=pt),e&&(u.$$p=null),bt.__at_exit__=vt(t=bt.__at_exit__)?t:[],bt.__at_exit__["$<<"](r)},u.$$arity=0),t.def(_t,"$caller",c=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},c.$$arity=-1),t.def(_t,"$class",f=function(){return this.$$class},f.$$arity=0),t.def(_t,"$copy_instance_variables",_=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)"$"!==(n=i[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},_.$$arity=1),t.def(_t,"$copy_singleton_methods",h=function(e){var r;if(e.hasOwnProperty("$$meta")){var n=t.get_singleton_class(e).$$proto,i=t.get_singleton_class(this).$$proto;for(r in n)"$"===r.charAt(0)&&n.hasOwnProperty(r)&&(i[r]=n[r]);
}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(this[r]=e[r])},h.$$arity=1),t.def(_t,"$clone",d=function(e){var r=pt;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=wt([],{})}return e.$$smap.freeze,(r=this.$class().$allocate()).$copy_instance_variables(this),r.$copy_singleton_methods(this),r.$initialize_clone(this),r},d.$$arity=-1),t.def(_t,"$initialize_clone",p=function(t){return this.$initialize_copy(t)},p.$$arity=1),t.def(_t,"$define_singleton_method",y=function(t,e){var r=y.$$p,n=r||pt;return r&&(y.$$p=null),Et(this.$singleton_class(),"define_method",[t,e],n.$to_proc())},y.$$arity=-2),t.def(_t,"$dup",m=function(){var t=pt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},m.$$arity=0),t.def(_t,"$initialize_dup",g=function(t){return this.$initialize_copy(t)},g.$$arity=1),t.def(_t,"$enum_for",v=function(e,r){var n,i=this,$=v.$$p,a=$||pt;null==e&&(e="each");var o=arguments.length,s=o-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<o;l++)n[l-1]=arguments[l];return $&&(v.$$p=null),Et(mt(ht,"Enumerator"),"for",[i,e].concat(t.to_a(n)),a.$to_proc())},v.$$arity=-1),t.alias(_t,"to_enum","enum_for"),t.def(_t,"$equal?",b=function(t){return this===t},b.$$arity=1),t.def(_t,"$exit",w=function(e){var r;for(null==bt.__at_exit__&&(bt.__at_exit__=pt),null==e&&(e=!0),bt.__at_exit__=vt(r=bt.__at_exit__)?r:[];!vt(bt.__at_exit__["$empty?"]());)bt.__at_exit__.$pop().$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),pt},w.$$arity=-1),t.def(_t,"$extend",E=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=r.$singleton_class(),o=e.length-1;o>=0;o--){var s=e[o];s.$$is_module||r.$raise(mt(ht,"TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(a),s.$extend_object(r),s.$extended(r)}return r},E.$$arity=-1),t.def(_t,"$format",k=function t(e,r){function n(){I&B&&f.$raise(mt(ht,"ArgumentError"),"flag after width"),I&q&&f.$raise(mt(ht,"ArgumentError"),"flag after precision")}function i(){I&B&&f.$raise(mt(ht,"ArgumentError"),"width given twice"),I&q&&f.$raise(mt(ht,"ArgumentError"),"width after precision")}function $(t){return t>=c.length&&f.$raise(mt(ht,"ArgumentError"),"too few arguments"),c[t]}function a(){switch(P){case-1:f.$raise(mt(ht,"ArgumentError"),"unnumbered("+z+") mixed with numbered");case-2:f.$raise(mt(ht,"ArgumentError"),"unnumbered("+z+") mixed with named")}return $((P=z++)-1)}function o(t){return P>0&&f.$raise(mt(ht,"ArgumentError"),"numbered("+t+") after unnumbered("+P+")"),-2===P&&f.$raise(mt(ht,"ArgumentError"),"numbered("+t+") after named"),t<1&&f.$raise(mt(ht,"ArgumentError"),"invalid index - "+t+"$"),P=-1,$(t-1)}function s(){return void 0===R?a():R}function l(t){for(var r,n="";;m++){if(m===N&&f.$raise(mt(ht,"ArgumentError"),"malformed format string - %*[0-9]"),e.charCodeAt(m)<48||e.charCodeAt(m)>57)return m--,(r=parseInt(n,10)||0)>2147483647&&f.$raise(mt(ht,"ArgumentError"),t+" too big"),r;n+=e.charAt(m)}}function u(t){var r,n=l(t);return"$"===e.charAt(m+1)?(m++,r=o(n)):r=a(),r.$to_int()}var c,f=this,_=pt;null==bt.DEBUG&&(bt.DEBUG=pt);var h=arguments.length,d=h-1;d<0&&(d=0),c=new Array(d);for(var p=1;p<h;p++)c[p-1]=arguments[p];vt(c.$length()["$=="](1)?c["$[]"](0)["$respond_to?"]("to_ary"):c.$length()["$=="](1))&&(_=mt(ht,"Opal")["$coerce_to?"](c["$[]"](0),mt(ht,"Array"),"to_ary"),vt(_["$nil?"]())||(c=_.$to_a()));var y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,t="",C=0,N=e.length,z=1,P=0,B=32,q=128;for(m=e.indexOf("%");-1!==m;m=e.indexOf("%",m)){switch(v=void 0,I=0,w=-1,E=-1,R=void 0,y=m,m++,e.charAt(m)){case"%":C=m;case"":case"\n":case"\0":m++;continue}t:for(;m<N;m++)switch(e.charAt(m)){case" ":n(),I|=16;continue t;case"#":n(),I|=1;continue t;case"+":n(),I|=4;continue t;case"-":n(),I|=2;continue t;case"0":n(),I|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(k=l("width"),"$"===e.charAt(m+1)){if(m+2===N){v="%",m++;break t}void 0!==R&&f.$raise(mt(ht,"ArgumentError"),"value given twice - %"+k+"$"),R=o(k),m++}else i(),I|=B,w=k;continue t;case"<":case"{":for(A="<"===e.charAt(m)?">":"}",x="",m++;;m++){if(m===N&&f.$raise(mt(ht,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(m)===A){if(P>0&&f.$raise(mt(ht,"ArgumentError"),"named "+x+" after unnumbered("+P+")"),-1===P&&f.$raise(mt(ht,"ArgumentError"),"named "+x+" after numbered"),P=-2,void 0!==c[0]&&c[0].$$is_hash||f.$raise(mt(ht,"ArgumentError"),"one hash required"),R=c[0].$fetch(x),">"===A)continue t;if(v=R.toString(),-1!==E&&(v=v.slice(0,E)),2&I)for(;v.length<w;)v+=" ";else for(;v.length<w;)v=" "+v;break t}x+=e.charAt(m)}case"*":m++,i(),I|=B,(w=u("width"))<0&&(I|=2,w=-w);continue t;case".":if(I&q&&f.$raise(mt(ht,"ArgumentError"),"precision given twice"),I|=64|q,E=0,m++,"*"===e.charAt(m)){m++,(E=u("precision"))<0&&(I&=-65);continue t}E=l("precision");continue t;case"d":case"i":case"u":if((g=f.$Integer(s()))>=0){for(v=g.toString();v.length<E;)v="0"+v;if(2&I)for((4&I||16&I)&&(v=(4&I?"+":" ")+v);v.length<w;)v+=" ";else if(8&I&&-1===E){for(;v.length<w-(4&I||16&I?1:0);)v="0"+v;(4&I||16&I)&&(v=(4&I?"+":" ")+v)}else for((4&I||16&I)&&(v=(4&I?"+":" ")+v);v.length<w;)v=" "+v}else{for(v=(-g).toString();v.length<E;)v="0"+v;if(2&I)for(v="-"+v;v.length<w;)v+=" ";else if(8&I&&-1===E){for(;v.length<w-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<w;)v=" "+v}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(m)){case"b":case"B":O=2,M="0b",S=/^1+/,T="1";break;case"o":O=8,M="0",S=/^3?7+/,T="7";break;case"x":case"X":O=16,M="0x",S=/^f+/,T="f"}if((g=f.$Integer(s()))>=0){for(v=g.toString(O);v.length<E;)v="0"+v;if(2&I)for((4&I||16&I)&&(v=(4&I?"+":" ")+v),1&I&&0!==g&&(v=M+v);v.length<w;)v+=" ";else if(8&I&&-1===E){for(;v.length<w-(4&I||16&I?1:0)-(1&I&&0!==g?M.length:0);)v="0"+v;1&I&&0!==g&&(v=M+v),(4&I||16&I)&&(v=(4&I?"+":" ")+v)}else for(1&I&&0!==g&&(v=M+v),(4&I||16&I)&&(v=(4&I?"+":" ")+v);v.length<w;)v=" "+v}else if(4&I||16&I){for(v=(-g).toString(O);v.length<E;)v="0"+v;if(2&I)for(1&I&&(v=M+v),v="-"+v;v.length<w;)v+=" ";else if(8&I&&-1===E){for(;v.length<w-1-(1&I?2:0);)v="0"+v;1&I&&(v=M+v),v="-"+v}else for(1&I&&(v=M+v),v="-"+v;v.length<w;)v=" "+v}else{for(v=(g>>>0).toString(O).replace(S,T);v.length<E-2;)v=T+v;if(2&I)for(v=".."+v,1&I&&(v=M+v);v.length<w;)v+=" ";else if(8&I&&-1===E){for(;v.length<w-2-(1&I?M.length:0);)v=T+v;v=".."+v,1&I&&(v=M+v)}else for(v=".."+v,1&I&&(v=M+v);v.length<w;)v=" "+v}e.charAt(m)===e.charAt(m).toUpperCase()&&(v=v.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if((g=f.$Float(s()))>=0||isNaN(g)){if(g===1/0)v="Inf";else switch(e.charAt(m)){case"f":v=g.toFixed(-1===E?6:E);break;case"e":case"E":v=g.toExponential(-1===E?6:E);break;case"g":case"G":v=g.toExponential(),(b=parseInt(v.split("e")[1],10))<-4||b>=(-1===E?6:E)||(v=g.toPrecision(-1===E?1&I?6:void 0:E))}if(2&I)for((4&I||16&I)&&(v=(4&I?"+":" ")+v);v.length<w;)v+=" ";else if(8&I&&g!==1/0&&!isNaN(g)){for(;v.length<w-(4&I||16&I?1:0);)v="0"+v;(4&I||16&I)&&(v=(4&I?"+":" ")+v)}else for((4&I||16&I)&&(v=(4&I?"+":" ")+v);v.length<w;)v=" "+v}else{if(g===-1/0)v="Inf";else switch(e.charAt(m)){case"f":v=(-g).toFixed(-1===E?6:E);break;case"e":case"E":v=(-g).toExponential(-1===E?6:E);break;case"g":case"G":v=(-g).toExponential(),(b=parseInt(v.split("e")[1],10))<-4||b>=(-1===E?6:E)||(v=(-g).toPrecision(-1===E?1&I?6:void 0:E))}if(2&I)for(v="-"+v;v.length<w;)v+=" ";else if(8&I&&g!==-1/0){for(;v.length<w-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<w;)v=" "+v}e.charAt(m)!==e.charAt(m).toUpperCase()||g===1/0||g===-1/0||isNaN(g)||(v=v.toUpperCase()),v=v.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":f.$raise(mt(ht,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((g=s())["$respond_to?"]("to_ary")&&(g=g.$to_ary()[0]),1!==(v=g["$respond_to?"]("to_str")?g.$to_str():String.fromCharCode(mt(ht,"Opal").$coerce_to(g,mt(ht,"Integer"),"to_int"))).length&&f.$raise(mt(ht,"ArgumentError"),"%c requires a character"),2&I)for(;v.length<w;)v+=" ";else for(;v.length<w;)v=" "+v;break t;case"p":if(v=s().$inspect(),-1!==E&&(v=v.slice(0,E)),2&I)for(;v.length<w;)v+=" ";else for(;v.length<w;)v=" "+v;break t;case"s":if(v=s().$to_s(),-1!==E&&(v=v.slice(0,E)),2&I)for(;v.length<w;)v+=" ";else for(;v.length<w;)v=" "+v;break t;default:f.$raise(mt(ht,"ArgumentError"),"malformed format string - %"+e.charAt(m))}void 0===v&&f.$raise(mt(ht,"ArgumentError"),"malformed format string - %"),t+=e.slice(C,y)+v,C=m+1}return bt.DEBUG&&P>=0&&z<c.length&&f.$raise(mt(ht,"ArgumentError"),"too many arguments for format string"),t+e.slice(C)},k.$$arity=-2),t.def(_t,"$hash",x=function(){return this.$__id__()},x.$$arity=0),t.def(_t,"$initialize_copy",A=function(t){return pt},A.$$arity=1),t.def(_t,"$inspect",O=function(){return this.$to_s()},O.$$arity=0),t.def(_t,"$instance_of?",M=function(t){return t.$$is_class||t.$$is_module||this.$raise(mt(ht,"TypeError"),"class or module required"),this.$$class===t},M.$$arity=1),t.def(_t,"$instance_variable_defined?",S=function(e){return e=mt(ht,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},S.$$arity=1),t.def(_t,"$instance_variable_get",T=function(e){e=mt(ht,"Opal")["$instance_variable_name!"](e);var r=this[t.ivar(e.substr(1))];return null==r?pt:r},T.$$arity=1),t.def(_t,"$instance_variable_set",R=function(e,r){return e=mt(ht,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=r},R.$$arity=2),t.def(_t,"$remove_instance_variable",I=function(e){e=mt(ht,"Opal")["$instance_variable_name!"](e);var r,n=t.ivar(e.substr(1));return this.hasOwnProperty(n)?(r=this[n],delete this[n],r):this.$raise(mt(ht,"NameError"),"instance variable "+e+" not defined")},I.$$arity=1),t.def(_t,"$instance_variables",C=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},C.$$arity=0),t.def(_t,"$Integer",N=function(t,e){var r,n,i,$=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(1===(e=mt(ht,"Opal").$coerce_to(e,mt(ht,"Integer"),"to_int"))||e<0||e>36)&&$.$raise(mt(ht,"ArgumentError"),"invalid radix "+e),n=(n=(n=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}$.$raise(mt(ht,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),i="0-"+((e=0===e?10:e)<=10?e-1:"9a-"+String.fromCharCode(e-11+97)),new RegExp("^\\s*[+-]?["+i+"]+\\s*$").test(n)||$.$raise(mt(ht,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(n,e),isNaN(r)&&$.$raise(mt(ht,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&$.$raise(mt(ht,"ArgumentError"),"base specified for non string value"),t===pt&&$.$raise(mt(ht,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-1/0||isNaN(t))&&$.$raise(mt(ht,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int())!==pt?r:mt(ht,"Opal")["$coerce_to!"](t,mt(ht,"Integer"),"to_i"))},N.$$arity=-2),t.def(_t,"$Float",z=function(t){var e;return t===pt&&this.$raise(mt(ht,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(mt(ht,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):mt(ht,"Opal")["$coerce_to!"](t,mt(ht,"Float"),"to_f")},z.$$arity=1),t.def(_t,"$Hash",P=function(t){var e;return vt(vt(e=t["$nil?"]())?e:t["$=="]([]))?wt([],{}):vt(mt(ht,"Hash")["$==="](t))?t:mt(ht,"Opal")["$coerce_to!"](t,mt(ht,"Hash"),"to_hash")},P.$$arity=1),t.def(_t,"$is_a?",B=function(e){return e.$$is_class||e.$$is_module||this.$raise(mt(ht,"TypeError"),"class or module required"),t.is_a(this,e)},B.$$arity=1),t.def(_t,"$itself",q=function(){return this},q.$$arity=0),t.alias(_t,"kind_of?","is_a?"),t.def(_t,"$lambda",D=function(){var e=D.$$p,r=e||pt;return e&&(D.$$p=null),t.lambda(r)},D.$$arity=0),t.def(_t,"$load",L=function(e){return e=mt(ht,"Opal")["$coerce_to!"](e,mt(ht,"String"),"to_str"),t.load(e)},L.$$arity=1),t.def(_t,"$loop",F=function(){var e,r=F.$$p,n=r||pt,i=pt;if(r&&(F.$$p=null),n===pt)return Et(this,"enum_for",["loop"],((e=function(){return e.$$s,yt(mt(ht,"Float"),"INFINITY")}).$$s=this,e.$$arity=0,e));for(;vt(!0);)try{t.yieldX(n,[])}catch(e){if(!t.rescue(e,[mt(ht,"StopIteration")]))throw e;i=e;try{return i.$result()}finally{t.pop_exception()}}return this},F.$$arity=0),t.def(_t,"$nil?",j=function(){return!1},j.$$arity=0),t.alias(_t,"object_id","__id__"),t.def(_t,"$printf",U=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return vt(r["$any?"]())&&this.$print(Et(this,"format",t.to_a(r))),pt},U.$$arity=-1),t.def(_t,"$proc",H=function(){var t=H.$$p,e=t||pt;return t&&(H.$$p=null),vt(e)||this.$raise(mt(ht,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},H.$$arity=0),t.def(_t,"$puts",G=function(e){var r;null==bt.stdout&&(bt.stdout=pt);var n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return Et(bt.stdout,"puts",t.to_a(r))},G.$$arity=-1),t.def(_t,"$p",Y=function(t){var e,r,n,i,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return Et(r,"each",[],((e=function(t){return e.$$s,null==bt.stdout&&(bt.stdout=pt),null==t&&(t=pt),bt.stdout.$puts(t.$inspect())}).$$s=this,e.$$arity=1,e)),vt((n=r.$length(),i=1,"number"==typeof n&&"number"==typeof i?n<=i:n["$<="](i)))?r["$[]"](0):r},Y.$$arity=-1),t.def(_t,"$print",W=function(e){var r;null==bt.stdout&&(bt.stdout=pt);var n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return Et(bt.stdout,"print",t.to_a(r))},W.$$arity=-1),t.def(_t,"$warn",X=function(e){var r,n;null==bt.VERBOSE&&(bt.VERBOSE=pt),null==bt.stderr&&(bt.stderr=pt);var i=arguments.length,$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];return vt(vt(r=bt.VERBOSE["$nil?"]())?r:n["$empty?"]())?pt:Et(bt.stderr,"puts",t.to_a(n))},X.$$arity=-1),t.def(_t,"$raise",K=function(e,r,n){if(null==bt["!"]&&(bt["!"]=pt),null==r&&(r=pt),null==n&&(n=pt),null==e&&bt["!"]!==pt)throw bt["!"];throw null==e?e=mt(ht,"RuntimeError").$new():e.$$is_string?e=mt(ht,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"](mt(ht,"Exception"))||(e=mt(ht,"TypeError").$new("exception class/object expected")),bt["!"]!==pt&&t.exceptions.push(bt["!"]),bt["!"]=e,e},K.$$arity=-1),t.alias(_t,"fail","raise"),t.def(_t,"$rand",V=function(t){return void 0===t?yt(mt(ht,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),yt(mt(ht,"Random"),"DEFAULT").$rand(t))},V.$$arity=-1),t.def(_t,"$respond_to?",J=function(t,e){if(null==e&&(e=!1),vt(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},J.$$arity=-2),t.def(_t,"$respond_to_missing?",Z=function(t,e){return null==e&&(e=!1),!1},Z.$$arity=-2),t.def(_t,"$require",Q=function(e){return e=mt(ht,"Opal")["$coerce_to!"](e,mt(ht,"String"),"to_str"),t.require(e)},Q.$$arity=1),t.def(_t,"$require_relative",tt=function(e){return mt(ht,"Opal")["$try_convert!"](e,mt(ht,"String"),"to_str"),e=mt(ht,"File").$expand_path(mt(ht,"File").$join(t.current_file,"..",e)),t.require(e)},tt.$$arity=1),t.def(_t,"$require_tree",et=function(e){var r=[];for(var n in e=mt(ht,"File").$expand_path(e),"."===(e=t.normalize(e))&&(e=""),t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},et.$$arity=1),t.alias(_t,"send","__send__"),t.alias(_t,"public_send","__send__"),t.def(_t,"$singleton_class",rt=function(){return t.get_singleton_class(this)},rt.$$arity=0),t.def(_t,"$sleep",nt=function(e){null==e&&(e=pt),e===pt&&this.$raise(mt(ht,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise(mt(ht,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&this.$raise(mt(ht,"ArgumentError"),"time interval must be positive");for(var r=t.global.performance?function(){return performance.now()}:function(){return new Date},n=r();r()-n<=1e3*e;);return e},nt.$$arity=-1),t.alias(_t,"sprintf","format"),t.def(_t,"$srand",it=function(t){return null==t&&(t=mt(ht,"Random").$new_seed()),mt(ht,"Random").$srand(t)},it.$$arity=-1),t.def(_t,"$String",$t=function(t){var e;return vt(e=mt(ht,"Opal")["$coerce_to?"](t,mt(ht,"String"),"to_str"))?e:mt(ht,"Opal")["$coerce_to!"](t,mt(ht,"String"),"to_s")},$t.$$arity=1),t.def(_t,"$tap",at=function(){var e=at.$$p,r=e||pt;return e&&(at.$$p=null),t.yield1(r,this),this},at.$$arity=0),t.def(_t,"$to_proc",ot=function(){return this},ot.$$arity=0),t.def(_t,"$to_s",st=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},st.$$arity=0),t.def(_t,"$catch",lt=function(e){var r=this,n=lt.$$p,i=n||pt,$=pt;n&&(lt.$$p=null);try{return t.yieldX(i,[])}catch(n){if(!t.rescue(n,[mt(ht,"UncaughtThrowError")]))throw n;$=n;try{return $.$sym()["$=="](e)?$.$arg():r.$raise()}finally{t.pop_exception()}}},lt.$$arity=1),t.def(_t,"$throw",ut=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise(mt(ht,"UncaughtThrowError"),e)},ut.$$arity=-1),t.def(_t,"$open",ct=function(e){var r,n=ct.$$p,i=n||pt,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n&&(ct.$$p=null),Et(mt(ht,"File"),"open",t.to_a(r),i.$to_proc())},ct.$$arity=-1),t.def(_t,"$yield_self",ft=function(){var e,r=ft.$$p,n=r||pt;return r&&(ft.$$p=null),n===pt?Et(this,"enum_for",["yield_self"],((e=function(){return e.$$s,1}).$$s=this,e.$$arity=0,e)):t.yield1(n,this)},ft.$$arity=0),function(t,e,r){function n(){}var i=n=kt(dt[0],null,"Object",n),$=(i.$$proto,[i].concat(r));return i.$include(mt($,"Kernel"))}(0,0,dt)},Opal.modules["corelib/error"]=function(t){t.top;var e,r,n,i,$,a,o=[],s=t.nil,l=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),c=t.send,f=t.truthy,_=t.module,h=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(e,r,n){function i(){}var $,a,l,_,h,d,p,y,m,g=i=u(o[0],r,"Exception",i),v=g.$$proto;[g].concat(n),v.message=s,t.defs(g,"$new",$=function e(r){var n,i=arguments.length,$=i-0;$<0&&($=0),n=new Array($);for(var e=0;e<i;e++)n[e-0]=arguments[e];var a=n.length>0?n[0]:s,o=new this.$$alloc(a);return o.name=this.$$name,o.message=a,t.send(o,o.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(o,m),o},$.$$arity=-1),m=g.$new,t.defs(g,"$exception",a=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return c(this,"new",t.to_a(r))},a.$$arity=-1),t.def(g,"$initialize",l=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.message=e.length>0?e[0]:s},l.$$arity=-1),t.def(g,"$backtrace",_=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},_.$$arity=0),t.def(g,"$exception",h=function(t){if(null==t&&(t=s),t===s||this===t)return this;var e=this.$clone();return e.message=t,e},h.$$arity=-1),t.def(g,"$message",d=function(){return this.$to_s()},d.$$arity=0),t.def(g,"$inspect",p=function(){var t=s;return t=this.$to_s(),f(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.def(g,"$to_s",y=function(){var t,e;return f(t=f(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},y.$$arity=0)}(0,Error,o),function(t,e,r){function n(){}var i=n=u(t,e,"ScriptError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"SyntaxError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"ScriptError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"LoadError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"ScriptError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"NotImplementedError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"ScriptError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"SystemExit",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"NoMemoryError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"SignalException",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"Interrupt",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"SecurityError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"StandardError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"Exception"),o),function(t,e,r){function n(){}var i=n=u(t,e,"EncodingError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"ZeroDivisionError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"NameError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"NoMethodError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"NameError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"RuntimeError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"FrozenError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"RuntimeError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"LocalJumpError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"TypeError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"ArgumentError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"IndexError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"StopIteration",n);i.$$proto,[i].concat(r)}(o[0],l(o,"IndexError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"KeyError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"IndexError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"RangeError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"FloatDomainError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"RangeError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"IOError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),function(t,e,r){function n(){}var i=n=u(t,e,"SystemCallError",n);i.$$proto,[i].concat(r)}(o[0],l(o,"StandardError"),o),e=o,(r=_(o[0],"Errno")).$$proto,function(e,r,n){function i(){}var $,a=i=u(e,r,"EINVAL",i);a.$$proto,[a].concat(n),t.defs(a,"$new",$=function(e){var r,n,a=$.$$p,o=s;return null==e&&(e=s),a&&($.$$p=null),o="Invalid argument",f(e)&&(n=" - "+e,o="number"==typeof(r=o)&&"number"==typeof n?r+n:r["$+"](n)),c(this,t.find_super_dispatcher(this,"new",$,!1,i),[o],null)},$.$$arity=-1)}((n=[r].concat(e))[0],l(n,"SystemCallError"),n),function(e,r,n){function i(){}var $,a=i=u(e,r,"UncaughtThrowError",i),o=a.$$proto;[a].concat(n),o.sym=s,a.$attr_reader("sym","arg"),t.def(a,"$initialize",$=function(e){var r,n,i=this,a=$.$$p;return a&&($.$$p=null),i.sym=e["$[]"](0),f((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?r>n:r["$>"](n)))&&(i.arg=e["$[]"](1)),c(i,t.find_super_dispatcher(i,"initialize",$,!1),["uncaught throw "+i.sym.$inspect()],null)},$.$$arity=1)}(o[0],l(o,"ArgumentError"),o),function(e,r,n){function i(){}var $,a=i=u(o[0],null,"NameError",i);a.$$proto,[a].concat(n),a.$attr_reader("name"),t.def(a,"$initialize",$=function(e,r){var n=$.$$p;return null==r&&(r=s),n&&($.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",$,!1),[e],null),this.name=r},$.$$arity=-2)}(0,0,o),function(e,r,n){function i(){}var $,a=i=u(o[0],null,"NoMethodError",i);a.$$proto,[a].concat(n),a.$attr_reader("args"),t.def(a,"$initialize",$=function(e,r,n){var i=$.$$p;return null==r&&(r=s),null==n&&(n=[]),i&&($.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",$,!1),[e,r],null),this.args=n},$.$$arity=-2)}(0,0,o),function(t,e,r){function n(){}var i=n=u(o[0],null,"StopIteration",n);i.$$proto,[i].concat(r),i.$attr_reader("result")}(0,0,o),function(e,r,n){function i(){}var $,a,_,d=i=u(o[0],null,"KeyError",i),p=d.$$proto,y=[d].concat(n);p.receiver=p.key=s,t.def(d,"$initialize",$=function(e,r){var n,i,a=$.$$p;if(null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=h([],{})}return null==(n=r.$$smap.receiver)&&(n=s),null==(i=r.$$smap.key)&&(i=s),a&&($.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",$,!1),[e],null),this.receiver=n,this.key=i},$.$$arity=-2),t.def(d,"$receiver",a=function(){var t;return f(t=this.receiver)?t:this.$raise(l(y,"ArgumentError"),"no receiver is available")},a.$$arity=0),t.def(d,"$key",_=function(){var t;return f(t=this.key)?t:this.$raise(l(y,"ArgumentError"),"no key is available")},_.$$arity=0)}(0,0,o),i=o,($=_(o[0],"JS")).$$proto,void function(t,e,r){function n(){}var i=n=u(t,null,"Error",n);i.$$proto,[i].concat(r)}((a=[$].concat(i))[0],0,a)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2,a=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(o,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S=u=i(e[0],null,"NilClass",u),T=S.$$proto,R=[S].concat(l);T.$$meta=S,function(e,r){e.$$proto;var i,$=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n($,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(S),R),t.def(S,"$!",c=function(){return!0},c.$$arity=0),t.def(S,"$&",f=function(t){return!1},f.$$arity=1),t.def(S,"$|",_=function(t){return!1!==t&&t!==r},_.$$arity=1),t.def(S,"$^",h=function(t){return!1!==t&&t!==r},h.$$arity=1),t.def(S,"$==",d=function(t){return t===r},d.$$arity=1),t.def(S,"$dup",p=function(){return r},p.$$arity=0),t.def(S,"$clone",y=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return null==e.$$smap.freeze&&!0,r},y.$$arity=-1),t.def(S,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(S,"$nil?",g=function(){return!0},g.$$arity=0),t.def(S,"$singleton_class",v=function(){return n(R,"NilClass")},v.$$arity=0),t.def(S,"$to_a",b=function(){return[]},b.$$arity=0),t.def(S,"$to_h",w=function(){return t.hash()},w.$$arity=0),t.def(S,"$to_i",E=function(){return 0},E.$$arity=0),t.alias(S,"to_f","to_i"),t.def(S,"$to_s",k=function(){return""},k.$$arity=0),t.def(S,"$to_c",x=function(){return n(R,"Complex").$new(0,0)},x.$$arity=0),t.def(S,"$rationalize",A=function(t){var e,r,i,$=arguments.length,o=$-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<$;s++)e[s-0]=arguments[s];return a((r=e.$length(),i=1,"number"==typeof r&&"number"==typeof i?r>i:r["$>"](i)))&&this.$raise(n(R,"ArgumentError")),this.$Rational(0,1)},A.$$arity=-1),t.def(S,"$to_r",O=function(){return this.$Rational(0,1)},O.$$arity=0),t.def(S,"$instance_variables",M=function(){return[]},M.$$arity=0)}(0,0,e),t.const_set(e[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2;return t.add_stubs(["$raise","$name"]),function(a,o,s){function l(){}var u,c,f,_,h,d,p,y,m,g,v=l=i(e[0],o,"Boolean",l),b=v.$$proto,w=[v].concat(s);b.$$is_boolean=!0,b.$$meta=v,function(e,r){e.$$proto;var i,$=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n($,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(v),w),t.def(v,"$__id__",u=function(){return this.valueOf()?2:0},u.$$arity=0),t.alias(v,"object_id","__id__"),t.def(v,"$!",c=function(){return 1!=this},c.$$arity=0),t.def(v,"$&",f=function(t){return 1==this&&!1!==t&&t!==r},f.$$arity=1),t.def(v,"$|",_=function(t){return 1==this||!1!==t&&t!==r},_.$$arity=1),t.def(v,"$^",h=function(t){return 1==this?!1===t||t===r:!1!==t&&t!==r},h.$$arity=1),t.def(v,"$==",d=function(t){return 1==this===t.valueOf()},d.$$arity=1),t.alias(v,"equal?","=="),t.alias(v,"eql?","=="),t.def(v,"$singleton_class",p=function(){return n(w,"Boolean")},p.$$arity=0),t.def(v,"$to_s",y=function(){return 1==this?"true":"false"},y.$$arity=0),t.def(v,"$dup",m=function(){return this},m.$$arity=0),t.def(v,"$clone",g=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return null==e.$$smap.freeze&&!0,this},g.$$arity=-1)}(0,Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n,i,$,a,o,s,l,u,c,f,_,h=[],d=t.nil,p=(t.const_get_qualified,t.const_get_relative),y=(t.breaker,t.slice,t.module),m=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),n=h,(f=y(h[0],"Comparable")).$$proto,_=[f].concat(n),t.defs(f,"$normalize",i=function(t){return m(p(_,"Integer")["$==="](t))?t:m(e(t,0))?1:m(r(t,0))?-1:0},i.$$arity=1),t.def(f,"$==",$=function(e){var r=this,n=d;try{return!!m(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!m(n=r["$<=>"](e))&&0==p(_,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[p(_,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},$.$$arity=1),t.def(f,"$>",a=function(t){var e;return m(e=this["$<=>"](t))||this.$raise(p(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),p(_,"Comparable").$normalize(e)>0},a.$$arity=1),t.def(f,"$>=",o=function(t){var e;return m(e=this["$<=>"](t))||this.$raise(p(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),p(_,"Comparable").$normalize(e)>=0},o.$$arity=1),t.def(f,"$<",s=function(t){var e;return m(e=this["$<=>"](t))||this.$raise(p(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),p(_,"Comparable").$normalize(e)<0},s.$$arity=1),t.def(f,"$<=",l=function(t){var e;return m(e=this["$<=>"](t))||this.$raise(p(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),p(_,"Comparable").$normalize(e)<=0},l.$$arity=1),t.def(f,"$between?",u=function(t,n){return!r(this,t)&&!e(this,n)},u.$$arity=2),void t.def(f,"$clamp",c=function(t,n){var i,$=this;
return i=t["$<=>"](n),m(i)||$.$raise(p(_,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),m(e(p(_,"Comparable").$normalize(i),0))&&$.$raise(p(_,"ArgumentError"),"min argument must be smaller than max argument"),m(r(p(_,"Comparable").$normalize($["$<=>"](t)),0))?t:m(e(p(_,"Comparable").$normalize($["$<=>"](n)),0))?n:$},c.$$arity=2)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.send,a=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,r){function n(){}var $=n=i(t,e,"RegexpError",n);$.$$proto,[$].concat(r)}(e[0],n(e,"StandardError"),e),function(s,l,u){function c(){}var f,_,h,d,p,y,m,g,v,b,w=c=i(e[0],l,"Regexp",c),E=w.$$proto,k=[w].concat(u);t.const_set(k[0],"IGNORECASE",1),t.const_set(k[0],"EXTENDED",2),t.const_set(k[0],"MULTILINE",4),E.$$is_regexp=!0,function(e,i){e.$$proto;var s,l,u,c,f,_=[e].concat(i);t.def(e,"$allocate",s=function(){var e,n=s.$$p,i=r,a=r,o=r;for(n&&(s.$$p=null),o=0,e=arguments.length,a=new Array(e);o<e;o++)a[o]=arguments[o];return(i=$(this,t.find_super_dispatcher(this,"allocate",s,!1),a,n)).uninitialized=!0,i},s.$$arity=0),t.def(e,"$escape",l=function(e){return t.escape_regexp(e)},l.$$arity=1),t.def(e,"$last_match",u=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),a(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},u.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function t(e){var r,i,$,a,o,s,l=this,u=arguments.length,c=u-0;c<0&&(c=0),r=new Array(c);for(var t=0;t<u;t++)r[t-0]=arguments[t];if(0==r.length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];i=r[0].$$is_array,r.length>1&&i&&l.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),i&&(r=r[0]),o=void 0,$=[];for(var f=0;f<r.length;f++)(a=r[f]).$$is_string?$.push(l.$escape(a)):a.$$is_regexp?(s=a.$options(),null!=o&&o!=s&&l.$raise(n(_,"TypeError"),"All expressions must use the same options"),o=s,$.push("("+a.source+")")):$.push(l.$escape(a.$to_str()));return l.$new($.$join("|"),o)},c.$$arity=-1),t.def(e,"$new",f=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";n(_,"IGNORECASE")&e&&(r+="i"),n(_,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},f.$$arity=-2)}(t.get_singleton_class(w),k),t.def(w,"$==",f=function(t){return t.constructor==RegExp&&this.toString()===t.toString()},f.$$arity=1),t.def(w,"$===",_=function(t){return this.$match(n(k,"Opal")["$coerce_to?"](t,n(k,"String"),"to_str"))!==r},_.$$arity=1),t.def(w,"$=~",h=function(t){var e;return null==o["~"]&&(o["~"]=r),a(e=this.$match(t))?o["~"].$begin(0):e},h.$$arity=1),t.alias(w,"eql?","=="),t.def(w,"$inspect",d=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],i=r.split(""),$=i.length,a=!1,o="",s=0;s<$;s++){var l=i[s];a||"/"!=l||(o=o.concat("\\")),o=o.concat(l),a="\\"==l&&!a}return"/"+o+"/"+n}return t},d.$$arity=0),t.def(w,"$match",p=function(e,i){var $=this,a=p.$$p,s=a||r;if(null==o["~"]&&(o["~"]=r),a&&(p.$$p=null),$.uninitialized&&$.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var l=$.exec(n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"));return l?(o["~"]=n(k,"MatchData").$new($,l),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(k,"Opal").$coerce_to(i,n(k,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"),i<0&&(i+=e.length)<0)return o["~"]=r;for(var u,c=$.source,f=$.multiline?"gm":"g",_=new RegExp(c,f+($.ignoreCase?"i":""));;){if(null===(u=_.exec(e)))return o["~"]=r;if(u.index>=i)return o["~"]=n(k,"MatchData").$new(_,u),s===r?o["~"]:t.yield1(s,o["~"]);_.lastIndex=u.index+1}},p.$$arity=-2),t.def(w,"$match?",y=function(t,e){var i=this;if(i.uninitialized&&i.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&i.test(n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"));if(e=n(k,"Opal").$coerce_to(e,n(k,"Integer"),"to_int"),t===r)return!1;if(t=n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"),e<0&&(e+=t.length)<0)return!1;var $,a=i.source,o=i.multiline?"gm":"g";return!(null===($=new RegExp(a,o+(i.ignoreCase?"i":"")).exec(t))||$.index<e)},y.$$arity=-2),t.def(w,"$~",m=function(){return null==o._&&(o._=r),this["$=~"](o._)},m.$$arity=0),t.def(w,"$source",g=function(){return this.source},g.$$arity=0),t.def(w,"$options",v=function(){this.uninitialized&&this.$raise(n(k,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=n(k,"MULTILINE")),this.ignoreCase&&(t|=n(k,"IGNORECASE")),t},v.$$arity=0),t.def(w,"$casefold?",b=function(){return this.ignoreCase},b.$$arity=0),t.alias(w,"to_s","source")}(0,RegExp,e),function(s,l,u){function c(){}var f,_,h,d,p,y,m,g,v,b,w,E,k=c=i(e[0],null,"MatchData",c),x=k.$$proto,A=[k].concat(u);return x.matches=r,k.$attr_reader("post_match","pre_match","regexp","string"),t.def(k,"$initialize",f=function(t,e){var n=this;o["~"]=n,n.regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var i=0,$=e.length;i<$;i++){var a=e[i];null==a?n.matches.push(r):n.matches.push(a)}},f.$$arity=2),t.def(k,"$[]",_=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var a=0;a<n;a++)r[a-0]=arguments[a];return $(this.matches,"[]",t.to_a(r))},_.$$arity=-1),t.def(k,"$offset",h=function(t){return 0!==t&&this.$raise(n(A,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},h.$$arity=1),t.def(k,"$==",d=function(t){var e,r,i,$,o=this;return!!a(n(A,"MatchData")["$==="](t))&&(a(e=a(r=a(i=a($=o.string==t.string)?o.regexp.toString()==t.regexp.toString():$)?o.pre_match==t.pre_match:i)?o.post_match==t.post_match:r)?o.begin==t.begin:e)},d.$$arity=1),t.alias(k,"eql?","=="),t.def(k,"$begin",p=function(t){return 0!==t&&this.$raise(n(A,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},p.$$arity=1),t.def(k,"$end",y=function(t){return 0!==t&&this.$raise(n(A,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},y.$$arity=1),t.def(k,"$captures",m=function(){return this.matches.slice(1)},m.$$arity=0),t.def(k,"$inspect",g=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},g.$$arity=0),t.def(k,"$length",v=function(){return this.matches.length},v.$$arity=0),t.alias(k,"size","length"),t.def(k,"$to_a",b=function(){return this.matches},b.$$arity=0),t.def(k,"$to_s",w=function(){return this.matches[0]},w.$$arity=0),t.def(k,"$values_at",E=function(t){var e,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];var o,s,l,u=[];for(o=0;o<e.length;o++)e[o].$$is_range&&((s=e[o].$to_a()).unshift(o,1),Array.prototype.splice.apply(e,s)),(l=n(A,"Opal")["$coerce_to!"](e[o],n(A,"Integer"),"to_int"))<0&&(l+=this.matches.length)<0?u.push(r):u.push(this.matches[l]);return u},E.$$arity=-1),r&&"values_at"}(0,0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,c,f){function _(){}function h(t){function e(t){var e,r,n,i,$,o,s="",l=t.length;for(e=0;e<l;e++)if("-"===(r=t.charAt(e))&&e>0&&e<l-1&&!n){for((i=t.charCodeAt(e-1))>($=t.charCodeAt(e+1))&&Nt.$raise(a(Pt,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),o=i+1;o<$+1;o++)s+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,$,o,s,l,u="",c="";for(n=0,i=t.length;n<i;n++)$=e((o="^"===($=a(Pt,"Opal").$coerce_to(t[n],a(Pt,"String"),"to_str")).charAt(0)&&$.length>1)?$.slice(1):$),o?c=r(c,$):u=r(u,$);if(u.length>0&&c.length>0){for(l="",n=0,i=u.length;n<i;n++)s=u.charAt(n),-1===c.indexOf(s)&&(l+=s);u=l,c=""}return u.length>0?"["+a(Pt,"Regexp").$escape(u)+"]":c.length>0?"[^"+a(Pt,"Regexp").$escape(c)+"]":null}var d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct,Nt=_=o(i[0],c,"String",_),zt=Nt.$$proto,Pt=[Nt].concat(f);zt.length=$,Nt.$include(a(Pt,"Comparable")),zt.$$is_string=!0,t.def(Nt,"$__id__",d=function(){return this.toString()},d.$$arity=0),t.alias(Nt,"object_id","__id__"),t.defs(Nt,"$try_convert",p=function(t){return a(Pt,"Opal")["$coerce_to?"](t,a(Pt,"String"),"to_str")},p.$$arity=1),t.defs(Nt,"$new",y=function(t){return null==t&&(t=""),t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),new String(t)},y.$$arity=-1),t.def(Nt,"$initialize",m=function(t){return void 0===t?this:this.$raise(a(Pt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},m.$$arity=-1),t.def(Nt,"$%",g=function(e){var r=this;return s(a(Pt,"Array")["$==="](e))?l(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},g.$$arity=1),t.def(Nt,"$*",v=function(t){if((t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int"))<0&&this.$raise(a(Pt,"ArgumentError"),"negative argument"),0===t)return"";var e="",r=this.toString();for(r.length*t>=1<<28&&this.$raise(a(Pt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=r),0!==(t>>>=1);)r+=r;return e},v.$$arity=1),t.def(Nt,"$+",b=function(t){return this+(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str")).$to_s()},b.$$arity=1),t.def(Nt,"$<=>",w=function(t){if(s(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var e=t["$<=>"](this);return e===$?$:e>0?-1:e<0?1:0},w.$$arity=1),t.def(Nt,"$==",E=function(t){return t.$$is_string?this.toString()===t.toString():!!a(Pt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},E.$$arity=1),t.alias(Nt,"eql?","=="),t.alias(Nt,"===","=="),t.def(Nt,"$=~",k=function(t){return t.$$is_string&&this.$raise(a(Pt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},k.$$arity=1),t.def(Nt,"$[]",x=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=a(Pt,"Opal").$coerce_to(t.end,a(Pt,"Integer"),"to_int"),t=a(Pt,"Opal").$coerce_to(t.begin,a(Pt,"Integer"),"to_int"),Math.abs(t)>i?$:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),(e-=t)<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise(a(Pt,"TypeError")),-1!==n.indexOf(t)?t:$;if(t.$$is_regexp){var o=n.match(t);return null===o?(u["~"]=$,$):(u["~"]=a(Pt,"MatchData").$new(t,o),null==e?o[0]:(e=a(Pt,"Opal").$coerce_to(e,a(Pt,"Integer"),"to_int"))<0&&-e<o.length?o[e+=o.length]:e>=0&&e<o.length?o[e]:$)}return(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int"))<0&&(t+=i),null==e?t>=i||t<0?$:n.substr(t,1):(e=a(Pt,"Opal").$coerce_to(e,a(Pt,"Integer"),"to_int"))<0?$:t>i||t<0?$:n.substr(t,e)},x.$$arity=-2),t.alias(Nt,"byteslice","[]"),t.def(Nt,"$b",A=function(){return this.$force_encoding("binary")},A.$$arity=0),t.def(Nt,"$capitalize",O=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},O.$$arity=0),t.def(Nt,"$casecmp",M=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return $;t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},M.$$arity=1),t.def(Nt,"$casecmp?",S=function(t){var e=this.$casecmp(t);return e===$?$:0===e},S.$$arity=1),t.def(Nt,"$center",T=function(t,n){var i=this;if(null==n&&(n=" "),t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int"),n=a(Pt,"Opal").$coerce_to(n,a(Pt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise(a(Pt,"ArgumentError"),"zero width padding"),s(t<=i.length))return i;var $=i.$ljust(e(r(t,i.length),2).$ceil(),n);return i.$rjust(e(r(t,i.length),2).$floor(),n)+$.slice(i.length)},T.$$arity=-2),t.def(Nt,"$chars",R=function(){var t=R.$$p,e=t||$;return t&&(R.$$p=null),s(e)?l(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},R.$$arity=0),t.def(Nt,"$chomp",I=function(t){var e=this;return null==u["/"]&&(u["/"]=$),null==t&&(t=u["/"]),s(t===$||0===e.length)?e:"\n"===(t=a(Pt,"Opal")["$coerce_to!"](t,a(Pt,"String"),"to_str").$to_s())?e.replace(/\r?\n?$/,""):""===t?e.replace(/(\r?\n)+$/,""):e.length>t.length&&e.substr(e.length-t.length,t.length)===t?e.substr(0,e.length-t.length):e},I.$$arity=-1),t.def(Nt,"$chop",C=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},C.$$arity=0),t.def(Nt,"$chr",N=function(){return this.charAt(0)},N.$$arity=0),t.def(Nt,"$clone",z=function(){var t=$;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},z.$$arity=0),t.def(Nt,"$dup",P=function(){var t=$;return(t=this.slice()).$initialize_dup(this),t},P.$$arity=0),t.def(Nt,"$count",B=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];0===e.length&&this.$raise(a(Pt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=h(e);return null===$?0:this.length-this.replace(new RegExp($,"g"),"").length},B.$$arity=-1),t.def(Nt,"$delete",q=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];0===e.length&&this.$raise(a(Pt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=h(e);return null===$?this:this.replace(new RegExp($,"g"),"")},q.$$arity=-1),t.def(Nt,"$delete_prefix",D=function(t){return t.$$is_string||(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str")),this.slice(0,t.length)===t?this.slice(t.length):this},D.$$arity=1),t.def(Nt,"$delete_suffix",L=function(t){var e=this;return t.$$is_string||(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},L.$$arity=1),t.def(Nt,"$downcase",F=function(){return this.toLowerCase()},F.$$arity=0),t.def(Nt,"$each_char",j=function(){var e,r=this,n=j.$$p,i=n||$;if(n&&(j.$$p=null),i===$)return l(r,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=r,e.$$arity=0,e));for(var a=0,o=r.length;a<o;a++)t.yield1(i,r.charAt(a));return r},j.$$arity=0),t.def(Nt,"$each_line",U=function(e){var r,n,i,o,s,l,c,f=this,_=U.$$p,h=_||$;if(null==u["/"]&&(u["/"]=$),null==e&&(e=u["/"]),_&&(U.$$p=null),h===$)return f.$enum_for("each_line",e);if(e===$)return t.yield1(h,f),f;if(0===(e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str")).length){for(n=0,i=(r=f.split(/(\n{2,})/)).length;n<i;n+=2)(r[n]||r[n+1])&&t.yield1(h,(r[n]||"")+(r[n+1]||""));return f}for(s=f.$chomp(e),l=f.length!=s.length,n=0,o=(c=s.split(e)).length;n<o;n++)n<o-1||l?t.yield1(h,c[n]+e):t.yield1(h,c[n]);return f},U.$$arity=-1),t.def(Nt,"$empty?",H=function(){return 0===this.length},H.$$arity=0),t.def(Nt,"$end_with?",G=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,o=e.length;$<o;$++){var s=a(Pt,"Opal").$coerce_to(e[$],a(Pt,"String"),"to_str").$to_s();if(this.length>=s.length&&this.substr(this.length-s.length,s.length)==s)return!0}return!1},G.$$arity=-1),t.alias(Nt,"equal?","==="),t.def(Nt,"$gsub",Y=function(t,e){var r=this,n=Y.$$p,i=n||$;if(n&&(Y.$$p=null),void 0===e&&i===$)return r.$enum_for("gsub",t);var o,s,l="",c=$,f=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(o=t.exec(r))){u["~"]=$,l+=r.slice(f);break}c=a(Pt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(l+=s+r.slice(f,o.index+1),t.lastIndex+=1):l+=r.slice(f,o.index)+s,f=t.lastIndex}return u["~"]=c,l},Y.$$arity=-2),t.def(Nt,"$hash",W=function(){return this.toString()},W.$$arity=0),t.def(Nt,"$hex",X=function(){return this.$to_i(16)},X.$$arity=0),t.def(Nt,"$include?",K=function(t){return t.$$is_string||(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str")),-1!==this.indexOf(t)},K.$$arity=1),t.def(Nt,"$index",V=function(t,e){var r,n,i;if(void 0===e)e=0;else if((e=a(Pt,"Opal").$coerce_to(e,a(Pt,"Integer"),"to_int"))<0&&(e+=this.length)<0)return $;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(n=i.exec(this))){u["~"]=$,r=-1;break}if(n.index>=e){u["~"]=a(Pt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else r=0===(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str")).length&&e>this.length?-1:this.indexOf(t,e);return-1===r?$:r},V.$$arity=-2),t.def(Nt,"$inspect",J=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},J.$$arity=0),t.def(Nt,"$intern",Z=function(){return this},Z.$$arity=0),t.def(Nt,"$lines",Q=function(t){var e=Q.$$p,r=e||$,n=$;return null==u["/"]&&(u["/"]=$),null==t&&(t=u["/"]),e&&(Q.$$p=null),n=l(this,"each_line",[t],r.$to_proc()),s(r)?this:n.$to_a()},Q.$$arity=-1),t.def(Nt,"$length",tt=function(){return this.length},tt.$$arity=0),t.def(Nt,"$ljust",et=function(t,e){var r=this;if(null==e&&(e=" "),t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int"),e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(Pt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},et.$$arity=-2),t.def(Nt,"$lstrip",rt=function(){return this.replace(/^\s*/,"")},rt.$$arity=0),t.def(Nt,"$ascii_only?",nt=function(){return this.match(/[ -~\n]*/)[0]===this},nt.$$arity=0),t.def(Nt,"$match",it=function(t,e){var r,n=it.$$p,i=n||$;return n&&(it.$$p=null),s(s(r=a(Pt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=a(Pt,"Regexp").$new(t.$to_str())),s(a(Pt,"Regexp")["$==="](t))||this.$raise(a(Pt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[this,e],i.$to_proc())},it.$$arity=-2),t.def(Nt,"$next",$t=function(){var t=this.length;if(0===t)return"";for(var e,r=this,n=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if((e=this.charCodeAt(t))>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===n?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(r=r.slice(0,t)+String.fromCharCode(e)+r.slice(t+1),i&&(0===t||t===n)){switch(e){case 65:case 97:break;default:e+=1}r=0===t?String.fromCharCode(e)+r:r.slice(0,t)+String.fromCharCode(e)+r.slice(t),i=!1}if(!i)break}return r},$t.$$arity=0),t.def(Nt,"$oct",at=function(){var t,e=this,r=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+i}),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},at.$$arity=0),t.def(Nt,"$ord",ot=function(){return this.charCodeAt(0)},ot.$$arity=0),t.def(Nt,"$partition",st=function(t){var e,r,n=this;return t.$$is_regexp?null===(r=t.exec(n))?e=-1:(a(Pt,"MatchData").$new(t,r),t=r[0],e=r.index):(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),e=n.indexOf(t)),-1===e?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},st.$$arity=1),t.def(Nt,"$reverse",lt=function(){return this.split("").reverse().join("")},lt.$$arity=0),t.def(Nt,"$rindex",ut=function(t,e){var r,n,i,o;if(void 0===e)e=this.length;else if((e=a(Pt,"Opal").$coerce_to(e,a(Pt,"Integer"),"to_int"))<0&&(e+=this.length)<0)return $;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));!(null===(o=i.exec(this))||o.index>e);)n=o,i.lastIndex=n.index+1;null===n?(u["~"]=$,r=-1):(a(Pt,"MatchData").$new(i,n),r=n.index)}else t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),r=this.lastIndexOf(t,e);return-1===r?$:r},ut.$$arity=-2),t.def(Nt,"$rjust",ct=function(t,e){var r=this;if(null==e&&(e=" "),t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int"),e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(Pt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),$=Array(i+1).join(e),o=n-$.length;return $+e.slice(0,o)+r},ct.$$arity=-2),t.def(Nt,"$rpartition",ft=function(t){var e,r,n,i,$=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));null!==(i=n.exec($));)r=i,n.lastIndex=r.index+1;null===r?e=-1:(a(Pt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),e=$.lastIndexOf(t);return-1===e?["","",$]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},ft.$$arity=1),t.def(Nt,"$rstrip",_t=function(){return this.replace(/[\s\u0000]*$/,"")},_t.$$arity=0),t.def(Nt,"$scan",ht=function(t){var e=ht.$$p,r=e||$;e&&(ht.$$p=null);var n,i=[],o=$;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(n=t.exec(this));)o=a(Pt,"MatchData").$new(t,n),r===$?1==n.length?i.push(n[0]):i.push(o.$captures()):1==n.length?r(n[0]):r.call(this,o.$captures()),t.lastIndex===n.index&&(t.lastIndex+=1);return u["~"]=o,r!==$?this:i},ht.$$arity=1),t.alias(Nt,"size","length"),t.alias(Nt,"slice","[]"),t.def(Nt,"$split",dt=function(t,e){var r;if(null==u[";"]&&(u[";"]=$),0===this.length)return[];if(void 0===e)e=0;else if(1===(e=a(Pt,"Opal")["$coerce_to!"](e,a(Pt,"Integer"),"to_int")))return[this];void 0!==t&&t!==$||(t=s(r=u[";"])?r:" ");var n,i,o,l=[],c=this.toString(),f=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):" "===(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str").$to_s())?(t=/\s+/gm,c=c.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(l=c.split(t)).length&&l[0]===c)return l;for(;-1!==(i=l.indexOf(void 0));)l.splice(i,1);if(0===e){for(;""===l[l.length-1];)l.length-=1;return l}if(n=t.exec(c),e<0){if(null!==n&&""===n[0]&&-1===t.source.indexOf("(?="))for(i=0,o=n.length;i<o;i++)l.push("");return l}if(null!==n&&""===n[0])return l.splice(e-1,l.length-1,l.slice(e-1).join("")),l;if(e>=l.length)return l;for(i=0;null!==n&&(i++,f=t.lastIndex,i+1!==e);)n=t.exec(c);return l.splice(e-1,l.length-1,c.slice(f)),l},dt.$$arity=-1),t.def(Nt,"$squeeze",pt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];if(0===e.length)return this.replace(/(.)\1+/g,"$1");var $=h(e);return null===$?this:this.replace(new RegExp("("+$+")\\1+","g"),"$1")},pt.$$arity=-1),t.def(Nt,"$start_with?",yt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,o=e.length;$<o;$++){var s=a(Pt,"Opal").$coerce_to(e[$],a(Pt,"String"),"to_str").$to_s();if(0===this.indexOf(s))return!0}return!1},yt.$$arity=-1),t.def(Nt,"$strip",mt=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},mt.$$arity=0),t.def(Nt,"$sub",gt=function(t,e){var r=this,n=gt.$$p,i=n||$;n&&(gt.$$p=null),t.$$is_regexp||(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(u["~"]=$,r.toString()):(a(Pt,"MatchData").$new(t,o),void 0===e?(i===$&&r.$raise(a(Pt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=(e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},gt.$$arity=-2),t.alias(Nt,"succ","next"),t.def(Nt,"$sum",vt=function(t){null==t&&(t=16),t=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},vt.$$arity=-1),t.def(Nt,"$swapcase",bt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},bt.$$arity=0),t.def(Nt,"$to_f",wt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},wt.$$arity=0),t.def(Nt,"$to_i",Et=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),n=a(Pt,"Opal").$coerce_to(t,a(Pt,"Integer"),"to_int");return(1===n||n<0||n>36)&&this.$raise(a(Pt,"ArgumentError"),"invalid radix "+n),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r&&(0===n||16===n))return t}switch(r){case"0b":if(0===n||2===n)return n=2,e+i;break;case"0":case"0o":if(0===n||8===n)return n=8,e+i;break;case"0d":if(0===n||10===n)return n=10,e+i;break;case"0x":if(0===n||16===n)return n=16,e+i}return t}),e=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)},Et.$$arity=-1),t.def(Nt,"$to_proc",kt=function(){var e,r;return r=this.valueOf(),l(this,"proc",[],((e=function(n){var i,o,s=e.$$s||this;(i=e.$$p||$)&&(e.$$p=null);var l=arguments.length,u=l-0;u<0&&(u=0),o=new Array(u);for(var c=0;c<l;c++)o[c-0]=arguments[c];0===o.length&&s.$raise(a(Pt,"ArgumentError"),"no receiver given");var f=o.shift();return null==f&&(f=$),t.send(f,r,o,i)}).$$s=this,e.$$arity=-1,e))},kt.$$arity=0),t.def(Nt,"$to_s",xt=function(){return this.toString()},xt.$$arity=0),t.alias(Nt,"to_str","to_s"),t.alias(Nt,"to_sym","intern"),t.def(Nt,"$tr",At=function(t,e){var r,n,i,$,o,s,l,u=this;if(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str").$to_s(),e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str").$to_s(),0==t.length||t===e)return u;var c={},f=t.split(""),_=f.length,h=e.split(""),d=h.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=h[d-1],_-=1);var m=[],g=null;for(n=!1,r=0;r<_;r++)if($=f[r],null==g)g=$,m.push($);else if("-"===$)"-"===g?(m.push("-"),m.push("-")):r==_-1?m.push("-"):n=!0;else if(n){for((o=g.charCodeAt(0))>(s=$.charCodeAt(0))&&u.$raise(a(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=o+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),n=null,g=null}else m.push($);if(_=(f=m).length,p)for(r=0;r<_;r++)c[f[r]]=!0;else{if(d>0){var v=[],b=null;for(n=!1,r=0;r<d;r++)if($=h[r],null==b)b=$,v.push($);else if("-"===$)"-"===b?(v.push("-"),v.push("-")):r==d-1?v.push("-"):n=!0;else if(n){for((o=b.charCodeAt(0))>(s=$.charCodeAt(0))&&u.$raise(a(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=o+1;i<s;i++)v.push(String.fromCharCode(i));v.push($),n=null,b=null}else v.push($);d=(h=v).length}var w=_-d;if(w>0){var E=d>0?h[d-1]:"";for(r=0;r<w;r++)h.push(E)}for(r=0;r<_;r++)c[f[r]]=h[r]}var k="";for(r=0,l=u.length;r<l;r++){var x=c[$=u.charAt(r)];k+=p?null==x?y:$:null!=x?x:$}return k},At.$$arity=2),t.def(Nt,"$tr_s",Ot=function(t,e){var r,n,i,$,o,s,l,u=this;if(t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str").$to_s(),e=a(Pt,"Opal").$coerce_to(e,a(Pt,"String"),"to_str").$to_s(),0==t.length)return u;var c={},f=t.split(""),_=f.length,h=e.split(""),d=h.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=h[d-1],_-=1);var m=[],g=null;for(n=!1,r=0;r<_;r++)if($=f[r],null==g)g=$,m.push($);else if("-"===$)"-"===g?(m.push("-"),m.push("-")):r==_-1?m.push("-"):n=!0;else if(n){for((o=g.charCodeAt(0))>(s=$.charCodeAt(0))&&u.$raise(a(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=o+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),n=null,g=null}else m.push($);if(_=(f=m).length,p)for(r=0;r<_;r++)c[f[r]]=!0;else{if(d>0){var v=[];for(n=!1,r=0;r<d;r++)if($=h[r],null==g)g=$,v.push($);else if("-"===$)r==d-1?v.push("-"):n=!0;else if(n){for((o=g.charCodeAt(0))>(s=$.charCodeAt(0))&&u.$raise(a(Pt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=o+1;i<s;i++)v.push(String.fromCharCode(i));v.push($),n=null,g=null}else v.push($);d=(h=v).length}var b=_-d;if(b>0){var w=d>0?h[d-1]:"";for(r=0;r<b;r++)h.push(w)}for(r=0;r<_;r++)c[f[r]]=h[r]}var E="",k=null;for(r=0,l=u.length;r<l;r++){var x=c[$=u.charAt(r)];p?null==x?null==k&&(E+=y,k=!0):(E+=$,k=null):null!=x?null!=k&&k===x||(E+=x,k=x):(E+=$,k=null)}return E},Ot.$$arity=2),t.def(Nt,"$upcase",Mt=function(){return this.toUpperCase()},Mt.$$arity=0),t.def(Nt,"$upto",St=function(t,e){var r=St.$$p,n=r||$;if(null==e&&(e=!1),r&&(St.$$p=null),n===$)return this.$enum_for("upto",t,e);t=a(Pt,"Opal").$coerce_to(t,a(Pt,"String"),"to_str");var i,o,s=this.toString();if(1===s.length&&1===t.length)for(i=s.charCodeAt(0),o=t.charCodeAt(0);i<=o&&(!e||i!==o);)n(String.fromCharCode(i)),i+=1;else if(parseInt(s,10).toString()===s&&parseInt(t,10).toString()===t)for(i=parseInt(s,10),o=parseInt(t,10);i<=o&&(!e||i!==o);)n(i.toString()),i+=1;else for(;s.length<=t.length&&s<=t&&(!e||s!==t);)n(s),s=s.$succ();return this},St.$$arity=-2),t.def(Nt,"$instance_variables",Tt=function(){return[]},Tt.$$arity=0),t.defs(Nt,"$_load",Rt=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return l(this,"new",t.to_a(r))},Rt.$$arity=-1),t.def(Nt,"$unpack",It=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},It.$$arity=1),t.def(Nt,"$unpack1",Ct=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Ct.$$arity=1)}(0,String,i),t.const_set(i[0],"Symbol",a(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e);
}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var $=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.module),u=t.truthy,c=t.send,f=t.falsy,_=t.hash2,h=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(d,p){function y(t){return 0===t.length&&(t=[a]),t.length>1&&(t=[t]),t}var m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft=l($[0],"Enumerable"),_t=(ft.$$proto,[ft].concat(p));t.def(ft,"$all?",m=function(e){try{var r,n,i,$=this,o=m.$$p,l=o||a;return o&&(m.$$p=null),u(void 0!==e)?c($,"each",[],((r=function(n){r.$$s;var i,$,o=arguments.length,s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return $=y(i),u(c(e,"public_send",["==="].concat(t.to_a($))))?a:void t.ret(!1)}).$$s=$,r.$$arity=-1,r)):c($,"each",[],l!==a?((n=function(e){n.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(l,t.to_a(r)))?a:void t.ret(!1)}).$$s=$,n.$$arity=-1,n):((i=function(e){i.$$s;var r,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var o=0;o<n;o++)r[o-0]=arguments[o];return u(s(_t,"Opal").$destructure(r))?a:void t.ret(!1)}).$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ft,"$any?",g=function(e){try{var r,n,i,$=this,o=g.$$p,l=o||a;return o&&(g.$$p=null),u(void 0!==e)?c($,"each",[],((r=function(n){r.$$s;var i,$,o=arguments.length,s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return $=y(i),u(c(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!0):a}).$$s=$,r.$$arity=-1,r)):c($,"each",[],l!==a?((n=function(e){n.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(l,t.to_a(r)))?void t.ret(!0):a}).$$s=$,n.$$arity=-1,n):((i=function(e){i.$$s;var r,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var o=0;o<n;o++)r[o-0]=arguments[o];return u(s(_t,"Opal").$destructure(r))?void t.ret(!0):a}).$$s=$,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},g.$$arity=-1),t.def(ft,"$chunk",v=function(){var e,r,n=v.$$p,i=n||a;return n&&(v.$$p=null),i===a?c(this,"to_enum",["chunk"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):c(o("::","Enumerator"),"new",[],((r=function(e){function n(){s.length>0&&e.$yield(o,s)}var $=r.$$s||this;null==e&&(e=a);var o=a,s=[];$.$each.$$p=function(e){var r=t.yield1(i,e);r===a?(n(),s=[],o=a):(o===a||o===r?s.push(e):(n(),s=[e]),o=r)},$.$each(),n()}).$$s=this,r.$$arity=1,r))},v.$$arity=0),t.def(ft,"$chunk_while",b=function(){var e,r=b.$$p,n=r||a;return r&&(b.$$p=null),n!==a||this.$raise(s(_t,"ArgumentError"),"no block given"),c(this,"slice_when",[],((e=function(r,i){return e.$$s,null==r&&(r=a),null==i&&(i=a),t.yieldX(n,[r,i])["$!"]()}).$$s=this,e.$$arity=2,e))},b.$$arity=0),t.def(ft,"$collect",w=function(){var e,r=w.$$p,n=r||a;if(r&&(w.$$p=null),n===a)return c(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(n,arguments);i.push(e)},this.$each(),i},w.$$arity=0),t.def(ft,"$collect_concat",E=function(){var e,r,n=E.$$p,i=n||a;return n&&(E.$$p=null),i===a?c(this,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):c(this,"map",[],(r=function(e){return r.$$s,null==e&&(e=a),t.yield1(i,e)},r.$$s=this,r.$$arity=1,r)).$flatten(1)},E.$$arity=0),t.def(ft,"$count",k=function(e){var r,n,i,$=this,o=k.$$p,l=o||a,f=a;return o&&(k.$$p=null),f=0,null!=e&&l!==a&&$.$warn("warning: given block not used"),u(null!=e)?l=c($,"proc",[],((r=function(t){r.$$s;var n,i=arguments.length,$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];return s(_t,"Opal").$destructure(n)["$=="](e)}).$$s=$,r.$$arity=-1,r)):u(l["$nil?"]())&&(l=c($,"proc",[],((n=function(){return n.$$s,!0}).$$s=$,n.$$arity=0,n))),c($,"each",[],((i=function(e){i.$$s;var r,n=arguments.length,$=n-0;$<0&&($=0),r=new Array($);for(var o=0;o<n;o++)r[o-0]=arguments[o];return u(t.yieldX(l,r))?f++:a}).$$s=$,i.$$arity=-1,i)),f},k.$$arity=-1),t.def(ft,"$cycle",x=function(r){var n,i=x.$$p,$=i||a;if(null==r&&(r=a),i&&(x.$$p=null),$===a)return c(this,"enum_for",["cycle",r],((n=function(){var t,i,$=n.$$s||this;return u(r["$nil?"]())?u($["$respond_to?"]("size"))?o(s(_t,"Float"),"INFINITY"):a:(r=s(_t,"Opal")["$coerce_to!"](r,s(_t,"Integer"),"to_int"),u(e(r,0))?(t=$.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(u(r["$nil?"]()));else if(r=s(_t,"Opal")["$coerce_to!"](r,s(_t,"Integer"),"to_int"),u(r<=0))return a;var l,f,_=[];if(this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);t.yield1($,e),_.push(e)},this.$each(),0===_.length)return a;if(r===a)for(;;)for(l=0,f=_.length;l<f;l++)t.yield1($,_[l]);else for(;r>1;){for(l=0,f=_.length;l<f;l++)t.yield1($,_[l]);r--}},x.$$arity=-1),t.def(ft,"$detect",A=function(e){try{var r,n=A.$$p,i=n||a;return n&&(A.$$p=null),i===a?this.$enum_for("detect",e):(c(this,"each",[],((r=function(e){r.$$s;var n,$,o=arguments.length,l=o-0;l<0&&(l=0),n=new Array(l);for(var c=0;c<o;c++)n[c-0]=arguments[c];return $=s(_t,"Opal").$destructure(n),u(t.yield1(i,$))?void t.ret($):a}).$$s=this,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:a)}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(ft,"$drop",O=function(t){t=s(_t,"Opal").$coerce_to(t,s(_t,"Integer"),"to_int"),u(t<0)&&this.$raise(s(_t,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(s(_t,"Opal").$destructure(arguments)),r++},this.$each(),e},O.$$arity=1),t.def(ft,"$drop_while",M=function(){var e=M.$$p,r=e||a;if(e&&(M.$$p=null),r===a)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);if(i){var $=t.yield1(r,e);f($)&&(i=!1,n.push(e))}else n.push(e)},this.$each(),n},M.$$arity=0),t.def(ft,"$each_cons",S=function(e){var i,$=this,o=S.$$p,l=o||a;if(o&&(S.$$p=null),u(1!=arguments.length)&&$.$raise(s(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=s(_t,"Opal").$try_convert(e,s(_t,"Integer"),"to_int"),u(e<=0)&&$.$raise(s(_t,"ArgumentError"),"invalid size"),l===a)return c($,"enum_for",["each_cons",e],((i=function(){var t,$,o,s=i.$$s||this,l=a;return l=s.$enumerator_size(),u(l["$nil?"]())?a:u(u(t=l["$=="](0))?t:(o=e,"number"==typeof($=l)&&"number"==typeof o?$<o:$["$<"](o)))?0:r(n(l,e),1)}).$$s=$,i.$$arity=0,i));var f=[],_=a;return $.$each.$$p=function(){var r=s(_t,"Opal").$destructure(arguments);f.push(r),f.length>e&&f.shift(),f.length==e&&t.yield1(l,f.slice(0,e))},$.$each(),_},S.$$arity=1),t.def(ft,"$each_entry",T=function(e){var r,n,i=this,$=T.$$p,o=$||a,l=arguments.length,u=l-0;u<0&&(u=0),n=new Array(u);for(var f=0;f<l;f++)n[f-0]=arguments[f];return $&&(T.$$p=null),o===a?c(i,"to_enum",["each_entry"].concat(t.to_a(n)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=i,r.$$arity=0,r)):(i.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);t.yield1(o,e)},i.$each.apply(i,n),i)},T.$$arity=-1),t.def(ft,"$each_slice",R=function(e){var r,n=this,i=R.$$p,$=i||a;if(i&&(R.$$p=null),e=s(_t,"Opal").$coerce_to(e,s(_t,"Integer"),"to_int"),u(e<=0)&&n.$raise(s(_t,"ArgumentError"),"invalid slice size"),$===a)return c(n,"enum_for",["each_slice",e],((r=function(){var t,n,i=r.$$s||this;return u(i["$respond_to?"]("size"))?(t=i.$size(),n=e,"number"==typeof t&&"number"==typeof n?t/n:t["$/"](n)).$ceil():a}).$$s=n,r.$$arity=0,r));var o=[];return n.$each.$$p=function(){var r=s(_t,"Opal").$destructure(arguments);o.push(r),o.length===e&&(t.yield1($,o),o=[])},n.$each(),o.length>0&&t.yield1($,o),a},R.$$arity=1),t.def(ft,"$each_with_index",I=function(e){var r,n,i=this,$=I.$$p,o=$||a,l=arguments.length,u=l-0;u<0&&(u=0),n=new Array(u);for(var f=0;f<l;f++)n[f-0]=arguments[f];if($&&(I.$$p=null),o===a)return c(i,"enum_for",["each_with_index"].concat(t.to_a(n)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=i,r.$$arity=0,r));var _=0;return i.$each.$$p=function(){var t=s(_t,"Opal").$destructure(arguments);o(t,_),_++},i.$each.apply(i,n),i},I.$$arity=-1),t.def(ft,"$each_with_object",C=function(t){var e,r=C.$$p,n=r||a;return r&&(C.$$p=null),n===a?c(this,"enum_for",["each_with_object",t],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);n(e,t)},this.$each(),t)},C.$$arity=1),t.def(ft,"$entries",N=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $=[];return this.$each.$$p=function(){$.push(s(_t,"Opal").$destructure(arguments))},this.$each.apply(this,e),$},N.$$arity=-1),t.alias(ft,"find","detect"),t.def(ft,"$find_all",z=function(){var e,r=z.$$p,n=r||a;if(r&&(z.$$p=null),n===a)return c(this,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);u(r)&&i.push(e)},this.$each(),i},z.$$arity=0),t.def(ft,"$find_index",P=function(e){try{var r,n,i=this,$=P.$$p,o=$||a,l=a;return $&&(P.$$p=null),u(void 0===e&&o===a)?i.$enum_for("find_index"):(null!=e&&o!==a&&i.$warn("warning: given block not used"),l=0,u(null!=e)?c(i,"each",[],((r=function(n){r.$$s;var i,$=arguments.length,a=$-0;a<0&&(a=0),i=new Array(a);for(var o=0;o<$;o++)i[o-0]=arguments[o];return s(_t,"Opal").$destructure(i)["$=="](e)&&t.ret(l),l+=1}).$$s=i,r.$$arity=-1,r)):c(i,"each",[],((n=function(e){n.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return u(t.yieldX(o,t.to_a(r)))&&t.ret(l),l+=1}).$$s=i,n.$$arity=-1,n)),a)}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=-1),t.def(ft,"$first",B=function(e){try{var r,n,i=this,$=a,o=a;return u(void 0===e)?c(i,"each",[],((r=function(e){r.$$s,null==e&&(e=a),t.ret(e)}).$$s=i,r.$$arity=1,r)):($=[],e=s(_t,"Opal").$coerce_to(e,s(_t,"Integer"),"to_int"),u(e<0)&&i.$raise(s(_t,"ArgumentError"),"attempt to take negative size"),u(0==e)?[]:(o=0,c(i,"each",[],((n=function(r){n.$$s;var i,l=arguments.length,c=l-0;c<0&&(c=0),i=new Array(c);for(var f=0;f<l;f++)i[f-0]=arguments[f];return $.push(s(_t,"Opal").$destructure(i)),u(e<=++o)?void t.ret($):a}).$$s=i,n.$$arity=-1,n)),$))}catch(e){if(e===t.returner)return e.$v;throw e}},B.$$arity=-1),t.alias(ft,"flat_map","collect_concat"),t.def(ft,"$grep",q=function(r){var n,$=q.$$p,o=$||a,s=a;return $&&(q.$$p=null),s=[],c(this,"each",[],((n=function($){n.$$s;var l,f,_=arguments.length,h=_-0;h<0&&(h=0),l=new Array(h);for(var d=0;d<_;d++)l[d-0]=arguments[d];return f=y(l),u(c(r,"__send__",["==="].concat(t.to_a(f))))?(o!==a?(u(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):u(i(l.$length(),1))&&(l=l["$[]"](0)),s.$push(l)):a}).$$s=this,n.$$arity=-1,n)),s},q.$$arity=1),t.def(ft,"$grep_v",D=function(r){var n,$=D.$$p,o=$||a,s=a;return $&&(D.$$p=null),s=[],c(this,"each",[],((n=function($){n.$$s;var l,f,_=arguments.length,h=_-0;h<0&&(h=0),l=new Array(h);for(var d=0;d<_;d++)l[d-0]=arguments[d];return f=y(l),u(c(r,"__send__",["==="].concat(t.to_a(f))))?a:(o!==a?(u(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):u(i(l.$length(),1))&&(l=l["$[]"](0)),s.$push(l))}).$$s=this,n.$$arity=-1,n)),s},D.$$arity=1),t.def(ft,"$group_by",L=function(){var e,r,i=L.$$p,$=i||a,o=a,l=a;return i&&(L.$$p=null),$===a?c(this,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(o=_([],{}),this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),i=t.yield1($,e);(u(r=o["$[]"](i))?r:(l=[i,[]],c(o,"[]=",t.to_a(l)),l[n(l.length,1)]))["$<<"](e)},this.$each(),o)},L.$$arity=0),t.def(ft,"$include?",F=function(e){try{var r;return c(this,"each",[],((r=function(n){r.$$s;var i,$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var l=0;l<$;l++)i[l-0]=arguments[l];return s(_t,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):a}).$$s=this,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},F.$$arity=1),t.def(ft,"$inject",j=function(e,r){var n=j.$$p,i=n||a;n&&(j.$$p=null);var $=e;return i!==a&&void 0===r?this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);void 0!==$?(e=t.yieldX(i,[$,e]),$=e):$=e}:(void 0===r&&(s(_t,"Symbol")["$==="](e)||this.$raise(s(_t,"TypeError"),e.$inspect()+" is not a Symbol"),r=e,$=void 0),this.$each.$$p=function(){var t=s(_t,"Opal").$destructure(arguments);$=void 0!==$?$.$__send__(r,t):t}),this.$each(),null==$?a:$},j.$$arity=-1),t.def(ft,"$lazy",U=function(){var e;return c(o(s(_t,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,n){e.$$s;var i,$=arguments.length,o=$-1;o<0&&(o=0),i=new Array(o);for(var s=1;s<$;s++)i[s-1]=arguments[s];return null==r&&(r=a),c(r,"yield",t.to_a(i))}).$$s=this,e.$$arity=-2,e))},U.$$arity=0),t.def(ft,"$enumerator_size",H=function(){return u(this["$respond_to?"]("size"))?this.$size():a},H.$$arity=0),t.alias(ft,"map","collect"),t.def(ft,"$max",G=function(e){var r,n,i=this,$=G.$$p,o=$||a;return $&&(G.$$p=null),void 0===e||e===a?(i.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments);void 0!==r?((n=o!==a?t.yieldX(o,[e,r]):e["$<=>"](r))===a&&i.$raise(s(_t,"ArgumentError"),"comparison failed"),n>0&&(r=e)):r=e},i.$each(),void 0===r?a:r):(e=s(_t,"Opal").$coerce_to(e,s(_t,"Integer"),"to_int"),c(i,"sort",[],o.$to_proc()).$reverse().$first(e))},G.$$arity=-1),t.def(ft,"$max_by",Y=function(){var e,r,n,i=Y.$$p,$=i||a;return i&&(Y.$$p=null),u($)?(this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),i=t.yield1($,e);return void 0===r?(r=e,void(n=i)):void(i["$<=>"](n)>0&&(r=e,n=i))},this.$each(),void 0===r?a:r):c(this,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},Y.$$arity=0),t.alias(ft,"member?","include?"),t.def(ft,"$min",W=function(){var t,e=this,r=W.$$p,n=r||a;return r&&(W.$$p=null),e.$each.$$p=n!==a?function(){var r=s(_t,"Opal").$destructure(arguments);if(void 0!==t){var i=n(r,t);i===a&&e.$raise(s(_t,"ArgumentError"),"comparison failed"),i<0&&(t=r)}else t=r}:function(){var e=s(_t,"Opal").$destructure(arguments);void 0!==t?s(_t,"Opal").$compare(e,t)<0&&(t=e):t=e},e.$each(),void 0===t?a:t},W.$$arity=0),t.def(ft,"$min_by",X=function(){var e,r,n,i=X.$$p,$=i||a;return i&&(X.$$p=null),u($)?(this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),i=t.yield1($,e);return void 0===r?(r=e,void(n=i)):void(i["$<=>"](n)<0&&(r=e,n=i))},this.$each(),void 0===r?a:r):c(this,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},X.$$arity=0),t.def(ft,"$minmax",K=function(){var t,e,r=this,n=K.$$p,i=n||a;n&&(K.$$p=null),i=u(t=i)?t:c(r,"proc",[],((e=function(t,r){return e.$$s,null==t&&(t=a),null==r&&(r=a),t["$<=>"](r)}).$$s=r,e.$$arity=2,e));var $=a,o=a,l=!0;return r.$each.$$p=function(){var t=s(_t,"Opal").$destructure(arguments);if(l)$=o=t,l=!1;else{var e=i.$call($,t);e===a?r.$raise(s(_t,"ArgumentError"),"comparison failed"):e>0&&($=t);var n=i.$call(o,t);n===a?r.$raise(s(_t,"ArgumentError"),"comparison failed"):n<0&&(o=t)}},r.$each(),[$,o]},K.$$arity=0),t.def(ft,"$minmax_by",V=function(){var t=V.$$p;return t&&(V.$$p=null),this.$raise(s(_t,"NotImplementedError"))},V.$$arity=0),t.def(ft,"$none?",J=function(e){try{var r,n,i,$=this,o=J.$$p,l=o||a;return o&&(J.$$p=null),u(void 0!==e)?c($,"each",[],((r=function(n){r.$$s;var i,$,o=arguments.length,s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return $=y(i),u(c(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!1):a}).$$s=$,r.$$arity=-1,r)):c($,"each",[],l!==a?((n=function(e){n.$$s;var r,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return u(t.yieldX(l,t.to_a(r)))?void t.ret(!1):a}).$$s=$,n.$$arity=-1,n):((i=function(e){i.$$s;var r,n,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];return n=s(_t,"Opal").$destructure(r),u(n)?void t.ret(!1):a}).$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},J.$$arity=-1),t.def(ft,"$one?",Z=function(n){try{var i,$,o,l=this,f=Z.$$p,_=f||a,h=a;return f&&(Z.$$p=null),h=0,u(void 0!==n)?c(l,"each",[],((i=function($){i.$$s;var o,s,l=arguments.length,f=l-0;f<0&&(f=0),o=new Array(f);for(var _=0;_<l;_++)o[_-0]=arguments[_];return s=y(o),u(c(n,"public_send",["==="].concat(t.to_a(s))))?(h=r(h,1),u(e(h,1))?void t.ret(!1):a):a}).$$s=l,i.$$arity=-1,i)):c(l,"each",[],_!==a?(($=function(n){$.$$s;var i,o=arguments.length,s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return u(t.yieldX(_,t.to_a(i)))?(h=r(h,1),u(e(h,1))?void t.ret(!1):a):a}).$$s=l,$.$$arity=-1,$):((o=function(n){o.$$s;var i,$=arguments.length,l=$-0;l<0&&(l=0),i=new Array(l);for(var c=0;c<$;c++)i[c-0]=arguments[c];return u(s(_t,"Opal").$destructure(i))?(h=r(h,1),u(e(h,1))?void t.ret(!1):a):a}).$$s=l,o.$$arity=-1,o)),h["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},Z.$$arity=-1),t.def(ft,"$partition",Q=function(){var e,r=Q.$$p,n=r||a;if(r&&(Q.$$p=null),n===a)return c(this,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[],$=[];return this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);u(r)?i.push(e):$.push(e)},this.$each(),[i,$]},Q.$$arity=0),t.alias(ft,"reduce","inject"),t.def(ft,"$reject",tt=function(){var e,r=tt.$$p,n=r||a;if(r&&(tt.$$p=null),n===a)return c(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),r=t.yield1(n,e);f(r)&&i.push(e)},this.$each(),i},tt.$$arity=0),t.def(ft,"$reverse_each",et=function(){var e,r=et.$$p,n=r||a;if(r&&(et.$$p=null),n===a)return c(this,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];this.$each.$$p=function(){i.push(arguments)},this.$each();for(var $=i.length-1;$>=0;$--)t.yieldX(n,i[$]);return i},et.$$arity=0),t.alias(ft,"select","find_all"),t.def(ft,"$slice_before",rt=function(e){var r,n=rt.$$p,i=n||a;return n&&(rt.$$p=null),u(void 0===e&&i===a)&&this.$raise(s(_t,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&i!==a||arguments.length>1)&&this.$raise(s(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(s(_t,"Enumerator"),"new",[],((r=function(n){var $=r.$$s||this;null==n&&(n=a);var o=[];$.$each.$$p=i!==a?void 0===e?function(){var e=s(_t,"Opal").$destructure(arguments),r=t.yield1(i,e);u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(e)}:function(){var t=s(_t,"Opal").$destructure(arguments),r=i(t,e.$dup());u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)}:function(){var t=s(_t,"Opal").$destructure(arguments),r=e["$==="](t);u(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)},$.$each(),o.length>0&&n["$<<"](o)}).$$s=this,r.$$arity=1,r))},rt.$$arity=-1),t.def(ft,"$slice_after",nt=function(e){var r,n,i=this,$=nt.$$p,o=$||a;return $&&(nt.$$p=null),u(void 0===e&&o===a)&&i.$raise(s(_t,"ArgumentError"),"both pattern and block are given"),u(void 0!==e&&o!==a||arguments.length>1)&&i.$raise(s(_t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),u(void 0!==e)&&(o=c(i,"proc",[],((r=function(t){return r.$$s,null==t&&(t=a),e["$==="](t)}).$$s=i,r.$$arity=1,r))),c(s(_t,"Enumerator"),"new",[],((n=function(e){var r,i=n.$$s||this;null==e&&(e=a),i.$each.$$p=function(){var n=s(_t,"Opal").$destructure(arguments),i=t.yield1(o,n);null==r&&(r=[]),u(i)?(r.push(n),e.$yield(r),r=null):r.push(n)},i.$each(),null!=r&&e.$yield(r)}).$$s=i,n.$$arity=1,n))},nt.$$arity=-1),t.def(ft,"$slice_when",it=function(){var e,r=it.$$p,n=r||a;return r&&(it.$$p=null),n!==a||this.$raise(s(_t,"ArgumentError"),"wrong number of arguments (0 for 1)"),c(s(_t,"Enumerator"),"new",[],((e=function(r){var i=e.$$s||this;null==r&&(r=a);var $=a,o=a;i.$each_cons.$$p=function(){var e=s(_t,"Opal").$destructure(arguments),i=e[0],l=e[1],c=t.yieldX(n,[i,l]);o=l,$===a&&($=[]),u(c)?($.push(i),r.$yield($),$=[]):$.push(i)},i.$each_cons(2),$!==a&&($.push(o),r.$yield($))}).$$s=this,e.$$arity=1,e))},it.$$arity=0),t.def(ft,"$sort",$t=function(){var t,e,r=$t.$$p,n=r||a;return r&&($t.$$p=null),e=this.$to_a(),n!==a||(n=h(((t=function(e,r){return t.$$s,null==e&&(e=a),null==r&&(r=a),e["$<=>"](r)}).$$s=this,t.$$arity=2,t))),c(e,"sort",[],n.$to_proc())},$t.$$arity=0),t.def(ft,"$sort_by",at=function(){var e,r,n,i,$,o=this,l=at.$$p,u=l||a;return l&&(at.$$p=null),u===a?c(o,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=o,e.$$arity=0,e)):($=c(o,"map",[],((r=function(){var e;return r.$$s,e=s(_t,"Opal").$destructure(arguments),[t.yield1(u,e),e]}).$$s=o,r.$$arity=0,r)),c($,"sort!",[],((n=function(t,e){return n.$$s,null==t&&(t=a),null==e&&(e=a),t[0]["$<=>"](e[0])}).$$s=o,n.$$arity=2,n)),c($,"map!",[],((i=function(t){return i.$$s,null==t&&(t=a),t[1]}).$$s=o,i.$$arity=1,i)))},at.$$arity=0),t.def(ft,"$sum",ot=function(e){var n,i=ot.$$p,$=i||a,o=a;return null==e&&(e=0),i&&(ot.$$p=null),o=e,c(this,"each",[],((n=function(e){n.$$s;var i,l,u=arguments.length,c=u-0;c<0&&(c=0),i=new Array(c);for(var f=0;f<u;f++)i[f-0]=arguments[f];return l=$!==a?t.yieldX($,t.to_a(i)):s(_t,"Opal").$destructure(i),o=r(o,l)}).$$s=this,n.$$arity=-1,n)),o},ot.$$arity=-1),t.def(ft,"$take",st=function(t){return this.$first(t)},st.$$arity=1),t.def(ft,"$take_while",lt=function(){try{var e,r=lt.$$p,n=r||a,i=a;return r&&(lt.$$p=null),u(n)?(i=[],c(this,"each",[],((e=function(r){e.$$s;var $,a,o=arguments.length,l=o-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<o;c++)$[c-0]=arguments[c];return a=s(_t,"Opal").$destructure($),u(t.yield1(n,a))||t.ret(i),i.push(a)}).$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},lt.$$arity=0),t.def(ft,"$uniq",ut=function(){var e,r=ut.$$p,i=r||a,$=a;return r&&(ut.$$p=null),$=_([],{}),c(this,"each",[],((e=function(r){e.$$s;var o,l,f,_=a,h=arguments.length,d=h-0;d<0&&(d=0),o=new Array(d);for(var p=0;p<h;p++)o[p-0]=arguments[p];return l=s(_t,"Opal").$destructure(o),f=i!==a?t.yield1(i,l):l,u($["$key?"](f))?a:(_=[f,l],c($,"[]=",t.to_a(_)),_[n(_.length,1)])}).$$s=this,e.$$arity=-1,e)),$.$values()},ut.$$arity=0),t.alias(ft,"to_a","entries"),t.def(ft,"$zip",ct=function(e){var r,n=ct.$$p,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return n&&(ct.$$p=null),c(this.$to_a(),"zip",t.to_a(r))},ct.$$arity=-1)}(0,$)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=t.breaker,s=t.slice,l=t.klass,u=t.truthy,c=t.send,f=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,_,h){function d(){}var p,y,m,g,v,b,w=d=l(i[0],null,"Enumerator",d),E=w.$$proto,k=[w].concat(h);return E.size=E.args=E.object=E.method=$,w.$include(a(k,"Enumerable")),E.$$is_enumerator=!0,t.defs(w,"$for",p=function(t,e,r){var n,i=p.$$p,a=i||$;null==e&&(e="each");var o=arguments.length,s=o-2;s<0&&(s=0),n=new Array(s);for(var l=2;l<o;l++)n[l-2]=arguments[l];i&&(p.$$p=null);var u=this.$allocate();return u.object=t,u.size=a,u.method=e,u.args=n,u},p.$$arity=-2),t.def(w,"$initialize",y=function(t){var e=this,r=y.$$p,n=r||$;return r&&(y.$$p=null),u(n)?(e.object=c(a(k,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=arguments[0]||$,u(e.size)?e.size=a(k,"Opal").$coerce_to(e.size,a(k,"Integer"),"to_int"):$):(e.object=arguments[0],e.method=arguments[1]||"each",e.args=s.call(arguments,2),e.size=$)},y.$$arity=-1),t.def(w,"$each",m=function(r){var n,i,a=this,o=m.$$p,s=o||$,l=arguments.length,f=l-0;f<0&&(f=0),i=new Array(f);for(var _=0;_<l;_++)i[_-0]=arguments[_];return o&&(m.$$p=null),u(u(n=s["$nil?"]())?i["$empty?"]():n)?a:(i=e(a.args,i),u(s["$nil?"]())?c(a.$class(),"new",[a.object,a.method].concat(t.to_a(i))):c(a.object,"__send__",[a.method].concat(t.to_a(i)),s.$to_proc()))},m.$$arity=-1),t.def(w,"$size",g=function(){return u(a(k,"Proc")["$==="](this.size))?c(this.size,"call",t.to_a(this.args)):this.size},g.$$arity=0),t.def(w,"$with_index",v=function(t){var e,r=v.$$p,n=r||$;if(null==t&&(t=0),r&&(v.$$p=null),t=u(t)?a(k,"Opal").$coerce_to(t,a(k,"Integer"),"to_int"):0,!u(n))return c(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=a(k,"Opal").$destructure(arguments),e=n(t,i);return i++,e},this.$each()},v.$$arity=-1),t.alias(w,"with_object","each_with_object"),t.def(w,"$inspect",b=function(){var t=this,r=$;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,u(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"](a(k,"Range").$new(1,-2))+")")),e(r,">")},b.$$arity=0),function(e,r,n){function i(){}var s,f,_=i=l(e,null,"Generator",i),h=_.$$proto,d=[_].concat(n);h.block=$,_.$include(a(d,"Enumerable")),t.def(_,"$initialize",s=function(){var t=s.$$p,e=t||$;return t&&(s.$$p=null),u(e)||this.$raise(a(d,"LocalJumpError"),"no block given"),this.block=e},s.$$arity=0),t.def(_,"$each",f=function(e){var r,n,i=f.$$p,s=i||$,l=arguments.length,u=l-0;u<0&&(u=0),r=new Array(u);for(var _=0;_<l;_++)r[_-0]=arguments[_];i&&(f.$$p=null),n=c(a(d,"Yielder"),"new",[],s.$to_proc());try{r.unshift(n),t.yieldX(this.block,r)}catch(t){if(t===o)return o.$v;throw t}return this},f.$$arity=-1)}(k[0],0,k),function(e,r,n){function i(){}var a,s,u,f=i=l(e,null,"Yielder",i),_=f.$$proto;[f].concat(n),_.block=$,t.def(f,"$initialize",a=function(){var t=a.$$p,e=t||$;return t&&(a.$$p=null),this.block=e},a.$$arity=0),t.def(f,"$yield",s=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];var a=t.yieldX(this.block,r);if(a===o)throw o;return a},s.$$arity=-1),t.def(f,"$<<",u=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return c(this,"yield",t.to_a(r)),this},u.$$arity=-1)}(k[0],0,k),function(n,i,o){function s(){}var _,h,d,p,y,m,g,v,b,E,k,x,A,O=s=l(n,w,"Lazy",s),M=O.$$proto,S=[O].concat(o);return M.enumerator=$,function(t,e,r){function n(){}var i=n=l(t,e,"StopLazyError",n);i.$$proto,[i].concat(r)}(S[0],a(S,"Exception"),S),t.def(O,"$initialize",_=function(e,r){var n,i=this,o=_.$$p,s=o||$;return null==r&&(r=$),o&&(_.$$p=null),s!==$||i.$raise(a(S,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",_,!1),[r],((n=function(r,i){var o,l,u=n.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var h=1;h<f;h++)o[h-1]=arguments[h];null==r&&(r=$);try{return c(e,"each",t.to_a(o),((l=function(e){l.$$s;var n,i=arguments.length,$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];n.unshift(r),t.yieldX(s,n)}).$$s=u,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[a(S,"Exception")]))throw e;try{return $}finally{t.pop_exception()}}}).$$s=i,n.$$arity=-2,n))},_.$$arity=-2),t.alias(O,"force","to_a"),t.def(O,"$lazy",h=function(){return this},h.$$arity=0),t.def(O,"$collect",d=function(){var e,r=d.$$p,n=r||$;return r&&(d.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy map without a block"),c(a(S,"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,i){e.$$s;var a,o=arguments.length,s=o-1;s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var u=t.yieldX(n,a);r.$yield(u)}).$$s=this,e.$$arity=-2,e))},d.$$arity=0),t.def(O,"$collect_concat",p=function(){var e,r=p.$$p,n=r||$;return r&&(p.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy map without a block"),c(a(S,"Lazy"),"new",[this,$],((e=function(r,i){var o,s,l,u=e.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var h=1;h<f;h++)o[h-1]=arguments[h];null==r&&(r=$);var d=t.yieldX(n,o);d["$respond_to?"]("force")&&d["$respond_to?"]("each")?c(d,"each",[],((s=function(t){return s.$$s,null==t&&(t=$),r.$yield(t)}).$$s=u,s.$$arity=1,s)):a(S,"Opal").$try_convert(d,a(S,"Array"),"to_ary")===$?r.$yield(d):c(d,"each",[],((l=function(t){return l.$$s,null==t&&(t=$),r.$yield(t)}).$$s=u,l.$$arity=1,l))}).$$s=this,e.$$arity=-2,e))},p.$$arity=0),t.def(O,"$drop",y=function(n){var i,o,s,l=$;return n=a(S,"Opal").$coerce_to(n,a(S,"Integer"),"to_int"),u(r(n,0))&&this.$raise(a(S,"ArgumentError"),"attempt to drop negative size"),o=this.$enumerator_size(),s=u(a(S,"Integer")["$==="](o))&&u(r(n,o))?n:o,l=0,c(a(S,"Lazy"),"new",[this,s],((i=function(a,o){i.$$s;var s,f=arguments.length,_=f-1;_<0&&(_=0),s=new Array(_);for(var h=1;h<f;h++)s[h-1]=arguments[h];return null==a&&(a=$),u(r(l,n))?l=e(l,1):c(a,"yield",t.to_a(s))}).$$s=this,i.$$arity=-2,i))},y.$$arity=1),t.def(O,"$drop_while",m=function(){var e,r=m.$$p,n=r||$,i=$;return r&&(m.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,c(a(S,"Lazy"),"new",[this,$],((e=function(r,a){e.$$s;var o,s=arguments.length,l=s-1;l<0&&(l=0),o=new Array(l);for(var _=1;_<s;_++)o[_-1]=arguments[_];if(null==r&&(r=$),!u(i))return c(r,"yield",t.to_a(o));var h=t.yieldX(n,o);f(h)&&(i=!1,c(r,"yield",t.to_a(o)))}).$$s=this,e.$$arity=-2,e))},m.$$arity=0),t.def(O,"$enum_for",g=function(e,r){var n,i=this,a=g.$$p,o=a||$;null==e&&(e="each");var s=arguments.length,l=s-1;l<0&&(l=0),n=new Array(l);for(var u=1;u<s;u++)n[u-1]=arguments[u];return a&&(g.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(n)),o.$to_proc())},g.$$arity=-1),t.def(O,"$find_all",v=function(){var e,r=v.$$p,n=r||$;return r&&(v.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy select without a block"),c(a(S,"Lazy"),"new",[this,$],((e=function(r,i){e.$$s;var a,o=arguments.length,s=o-1;s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var f=t.yieldX(n,a);u(f)&&c(r,"yield",t.to_a(a))}).$$s=this,e.$$arity=-2,e))},v.$$arity=0),t.alias(O,"flat_map","collect_concat"),t.def(O,"$grep",b=function(e){var r,n,i=b.$$p,o=i||$;return i&&(b.$$p=null),u(o)?c(a(S,"Lazy"),"new",[this,$],((r=function(n,i){r.$$s;var s,l=arguments.length,c=l-1;c<0&&(c=0),s=new Array(c);for(var f=1;f<l;f++)s[f-1]=arguments[f];null==n&&(n=$);var _=a(S,"Opal").$destructure(s),h=e["$==="](_);u(h)&&(h=t.yield1(o,_),n.$yield(t.yield1(o,_)))}).$$s=this,r.$$arity=-2,r)):c(a(S,"Lazy"),"new",[this,$],((n=function(t,r){n.$$s;var i,o=arguments.length,s=o-1;s<0&&(s=0),i=new Array(s);for(var l=1;l<o;l++)i[l-1]=arguments[l];null==t&&(t=$);var c=a(S,"Opal").$destructure(i),f=e["$==="](c);u(f)&&t.$yield(c)}).$$s=this,n.$$arity=-2,n))},b.$$arity=1),t.alias(O,"map","collect"),t.alias(O,"select","find_all"),t.def(O,"$reject",E=function(){var e,r=E.$$p,n=r||$;return r&&(E.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy reject without a block"),c(a(S,"Lazy"),"new",[this,$],((e=function(r,i){e.$$s;var a,o=arguments.length,s=o-1;
s<0&&(s=0),a=new Array(s);for(var l=1;l<o;l++)a[l-1]=arguments[l];null==r&&(r=$);var u=t.yieldX(n,a);f(u)&&c(r,"yield",t.to_a(a))}).$$s=this,e.$$arity=-2,e))},E.$$arity=0),t.def(O,"$take",k=function(n){var i,o,s,l=$;return n=a(S,"Opal").$coerce_to(n,a(S,"Integer"),"to_int"),u(r(n,0))&&this.$raise(a(S,"ArgumentError"),"attempt to take negative size"),o=this.$enumerator_size(),s=u(a(S,"Integer")["$==="](o))&&u(r(n,o))?n:o,l=0,c(a(S,"Lazy"),"new",[this,s],((i=function(o,s){var f,_=i.$$s||this,h=arguments.length,d=h-1;d<0&&(d=0),f=new Array(d);for(var p=1;p<h;p++)f[p-1]=arguments[p];return null==o&&(o=$),u(r(l,n))?(c(o,"yield",t.to_a(f)),l=e(l,1)):_.$raise(a(S,"StopLazyError"))}).$$s=this,i.$$arity=-2,i))},k.$$arity=1),t.def(O,"$take_while",x=function(){var e,r=x.$$p,n=r||$;return r&&(x.$$p=null),u(n)||this.$raise(a(S,"ArgumentError"),"tried to call lazy take_while without a block"),c(a(S,"Lazy"),"new",[this,$],((e=function(r,i){var o,s=e.$$s||this,l=arguments.length,f=l-1;f<0&&(f=0),o=new Array(f);for(var _=1;_<l;_++)o[_-1]=arguments[_];null==r&&(r=$);var h=t.yieldX(n,o);u(h)?c(r,"yield",t.to_a(o)):s.$raise(a(S,"StopLazyError"))}).$$s=this,e.$$arity=-2,e))},x.$$arity=0),t.alias(O,"to_enum","enum_for"),t.def(O,"$inspect",A=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},A.$$arity=0),$&&"inspect"}(k[0],0,k)}(0,0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,_,h){function d(){}var p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q=d=u(a[0],null,"Numeric",d),tt=(Q.$$proto,[Q].concat(h));return Q.$include(l(tt,"Comparable")),t.def(Q,"$coerce",p=function(t){return c(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},p.$$arity=1),t.def(Q,"$__coerced__",y=function(e,r){var n,i,$=this,a=o,s=o,u=o;return c(r["$respond_to?"]("coerce"))?(i=r.$coerce($),a=null==(n=t.to_ary(i))[0]?o:n[0],s=null==n[1]?o:n[1],a.$__send__(e,s)):"+"["$==="](u=e)||"-"["$==="](u)||"*"["$==="](u)||"/"["$==="](u)||"%"["$==="](u)||"&"["$==="](u)||"|"["$==="](u)||"^"["$==="](u)||"**"["$==="](u)?$.$raise(l(tt,"TypeError"),r.$class()+" can't be coerced into Numeric"):">"["$==="](u)||">="["$==="](u)||"<"["$==="](u)||"<="["$==="](u)||"<=>"["$==="](u)?$.$raise(l(tt,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed"):o},y.$$arity=2),t.def(Q,"$<=>",m=function(t){return c(this["$equal?"](t))?0:o},m.$$arity=1),t.def(Q,"$+@",g=function(){return this},g.$$arity=0),t.def(Q,"$-@",v=function(){return e(0,this)},v.$$arity=0),t.def(Q,"$%",b=function(t){return e(this,r(t,this.$div(t)))},b.$$arity=1),t.def(Q,"$abs",w=function(){return n(this,0)?this["$-@"]():this},w.$$arity=0),t.def(Q,"$abs2",E=function(){return r(this,this)},E.$$arity=0),t.def(Q,"$angle",k=function(){return n(this,0)?s(l(tt,"Math"),"PI"):0},k.$$arity=0),t.alias(Q,"arg","angle"),t.def(Q,"$ceil",x=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},x.$$arity=-1),t.def(Q,"$conj",A=function(){return this},A.$$arity=0),t.alias(Q,"conjugate","conj"),t.def(Q,"$denominator",O=function(){return this.$to_r().$denominator()},O.$$arity=0),t.def(Q,"$div",M=function(t){return t["$=="](0)&&this.$raise(l(tt,"ZeroDivisionError"),"divided by o"),i(this,t).$floor()},M.$$arity=1),t.def(Q,"$divmod",S=function(t){return[this.$div(t),this["$%"](t)]},S.$$arity=1),t.def(Q,"$fdiv",T=function(t){return i(this.$to_f(),t)},T.$$arity=1),t.def(Q,"$floor",R=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},R.$$arity=-1),t.def(Q,"$i",I=function(){return this.$Complex(0,this)},I.$$arity=0),t.def(Q,"$imag",C=function(){return 0},C.$$arity=0),t.alias(Q,"imaginary","imag"),t.def(Q,"$integer?",N=function(){return!1},N.$$arity=0),t.alias(Q,"magnitude","abs"),t.alias(Q,"modulo","%"),t.def(Q,"$nonzero?",z=function(){return c(this["$zero?"]())?o:this},z.$$arity=0),t.def(Q,"$numerator",P=function(){return this.$to_r().$numerator()},P.$$arity=0),t.alias(Q,"phase","arg"),t.def(Q,"$polar",B=function(){return[this.$abs(),this.$arg()]},B.$$arity=0),t.def(Q,"$quo",q=function(t){return i(l(tt,"Opal")["$coerce_to!"](this,l(tt,"Rational"),"to_r"),t)},q.$$arity=1),t.def(Q,"$real",D=function(){return this},D.$$arity=0),t.def(Q,"$real?",L=function(){return!0},L.$$arity=0),t.def(Q,"$rect",F=function(){return[this,0]},F.$$arity=0),t.alias(Q,"rectangular","rect"),t.def(Q,"$round",j=function(t){return this.$to_f().$round(t)},j.$$arity=-1),t.def(Q,"$to_c",U=function(){return this.$Complex(this,0)},U.$$arity=0),t.def(Q,"$to_int",H=function(){return this.$to_i()},H.$$arity=0),t.def(Q,"$truncate",G=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},G.$$arity=-1),t.def(Q,"$zero?",Y=function(){return this["$=="](0)},Y.$$arity=0),t.def(Q,"$positive?",W=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},W.$$arity=0),t.def(Q,"$negative?",X=function(){return n(this,0)},X.$$arity=0),t.def(Q,"$dup",K=function(){return this},K.$$arity=0),t.def(Q,"$clone",V=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=f([],{})}return null==e.$$smap.freeze&&!0,this},V.$$arity=-1),t.def(Q,"$finite?",J=function(){return!0},J.$$arity=0),t.def(Q,"$infinite?",Z=function(){return o},Z.$$arity=0),o&&"infinite?"}(0,0,a)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=(t.breaker,t.slice,t.klass),s=t.truthy,l=t.hash2,u=t.send,c=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,f,_){function h(){}function d(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function p(t,e){return t===e||0===e?1:e>0&&t>e?p(t-1,e-1)+p(t-1,e):0}var y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt,Dt,Lt,Ft,jt,Ut,Ht,Gt,Yt,Wt,Xt,Kt,Vt,Jt,Zt,Qt,te,ee,re=h=o(n[0],f,"Array",h),ne=re.$$proto,ie=[re].concat(_);return re.$include(a(ie,"Enumerable")),ne.$$is_array=!0,t.defs(re,"$[]",y=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return d(e,this)},y.$$arity=-1),t.def(re,"$initialize",m=function(t,e){var r,n,o=this,s=m.$$p,l=s||i;if(null==t&&(t=i),null==e&&(e=i),s&&(m.$$p=null),e!==i&&l!==i&&o.$warn("warning: block supersedes default value argument"),t>$(a(ie,"Integer"),"MAX")&&o.$raise(a(ie,"ArgumentError"),"array size too big"),arguments.length>2&&o.$raise(a(ie,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return o.splice(0,o.length),o;if(1===arguments.length){if(t.$$is_array)return o.$replace(t.$to_a()),o;if(t["$respond_to?"]("to_ary"))return o.$replace(t.$to_ary()),o}if((t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&o.$raise(a(ie,"ArgumentError"),"negative array size"),o.splice(0,o.length),l===i)for(r=0;r<t;r++)o.push(e);else for(r=0;r<t;r++)n=l(r),o[r]=n;return o},m.$$arity=-1),t.defs(re,"$try_convert",g=function(t){return a(ie,"Opal")["$coerce_to?"](t,a(ie,"Array"),"to_ary")},g.$$arity=1),t.def(re,"$&",v=function(e){e=s(a(ie,"Array")["$==="](e))?e.$to_a():a(ie,"Opal").$coerce_to(e,a(ie,"Array"),"to_ary").$to_a();var r,n,i,$=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0!==t.hash_delete(o,i)&&$.push(i);return $},v.$$arity=1),t.def(re,"$|",b=function(e){e=s(a(ie,"Array")["$==="](e))?e.$to_a():a(ie,"Opal").$coerce_to(e,a(ie,"Array"),"to_ary").$to_a();var r,n,i=l([],{});for(r=0,n=this.length;r<n;r++)t.hash_put(i,this[r],!0);for(r=0,n=e.length;r<n;r++)t.hash_put(i,e[r],!0);return i.$keys()},b.$$arity=1),t.def(re,"$*",w=function(t){if(s(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),s(t<0)&&this.$raise(a(ie,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return d(e,this.$class())},w.$$arity=1),t.def(re,"$+",E=function(t){return t=s(a(ie,"Array")["$==="](t))?t.$to_a():a(ie,"Opal").$coerce_to(t,a(ie,"Array"),"to_ary").$to_a(),this.concat(t)},E.$$arity=1),t.def(re,"$-",k=function(e){if(e=s(a(ie,"Array")["$==="](e))?e.$to_a():a(ie,"Opal").$coerce_to(e,a(ie,"Array"),"to_ary").$to_a(),s(0===this.length))return[];if(s(0===e.length))return this.slice();var r,n,i,$=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0===t.hash_get(o,i)&&$.push(i);return $},k.$$arity=1),t.def(re,"$<<",x=function(t){return this.push(t),this},x.$$arity=1),t.def(re,"$<=>",A=function(t){if(s(a(ie,"Array")["$==="](t)))t=t.$to_a();else{if(!s(t["$respond_to?"]("to_ary")))return i;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},A.$$arity=1),t.def(re,"$==",O=function(t){var e={};return function t(r,n){var i,$,o,s;if(r===n)return!0;if(!n.$$is_array)return!!a(ie,"Opal")["$respond_to?"](n,"to_ary")&&n["$=="](r);if(r.constructor!==Array&&(r=r.$to_a()),n.constructor!==Array&&(n=n.$to_a()),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,$=r.length;i<$;i++)if(o=r[i],s=n[i],o.$$is_array){if(s.$$is_array&&s.length!==o.length)return!1;if(!e.hasOwnProperty(o.$object_id())&&!t(o,s))return!1}else if(!o["$=="](s))return!1;return!0}(this,t)},O.$$arity=1),t.def(re,"$[]",M=function(e,r){var n,$,a,o,s,l,u,c,f,_;return e.$$is_range?(l=e,_=(s=this).length,u=l.excl,c=t.Opal.$coerce_to(l.begin,t.Integer,"to_int"),f=t.Opal.$coerce_to(l.end,t.Integer,"to_int"),c<0&&(c+=_)<0?i:c>_?i:f<0&&(f+=_)<0?[]:(u||(f+=1),d(s.slice(c,f),s.$class()))):($=e,a=r,o=(n=this).length,($=t.Opal.$coerce_to($,t.Integer,"to_int"))<0&&($+=o)<0?i:void 0===a?$>=o||$<0?i:n[$]:(a=t.Opal.$coerce_to(a,t.Integer,"to_int"))<0||$>o||$<0?i:d(n.slice($,$+a),n.$class()))},M.$$arity=-2),t.def(re,"$[]=",S=function(t,e,r){var n,$,o=this,l=i,u=i,c=o.length;if(s(a(ie,"Range")["$==="](t))){l=s(a(ie,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var f=t.excl,_=a(ie,"Opal").$coerce_to(t.begin,a(ie,"Integer"),"to_int"),h=a(ie,"Opal").$coerce_to(t.end,a(ie,"Integer"),"to_int");if(_<0&&(_+=c)<0&&o.$raise(a(ie,"RangeError"),t.$inspect()+" out of range"),h<0&&(h+=c),f||(h+=1),_>c)for(n=c;n<_;n++)o[n]=i;return h<0?o.splice.apply(o,[_,0].concat(l)):o.splice.apply(o,[_,h-_].concat(l)),e}if(s(void 0===r)?u=1:(u=e,e=r,l=s(a(ie,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),u=a(ie,"Opal").$coerce_to(u,a(ie,"Integer"),"to_int"),t<0&&($=t,(t+=c)<0&&o.$raise(a(ie,"IndexError"),"index "+$+" too small for array; minimum "+-o.length)),u<0&&o.$raise(a(ie,"IndexError"),"negative length ("+u+")"),t>c)for(n=c;n<t;n++)o[n]=i;return void 0===r?o[t]=e:o.splice.apply(o,[t,u].concat(l)),e},S.$$arity=-3),t.def(re,"$any?",T=function(e){var r,n=T.$$p,$=i,a=i;for(n&&(T.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return 0!==this.length&&u(this,t.find_super_dispatcher(this,"any?",T,!1),$,n)},T.$$arity=-1),t.def(re,"$assoc",R=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return i},R.$$arity=1),t.def(re,"$at",I=function(t){return(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?i:this[t]},I.$$arity=1),t.def(re,"$bsearch_index",C=function(){var e=C.$$p,r=e||i;if(e&&(C.$$p=null),r===i)return this.$enum_for("bsearch_index");for(var n,$,o,s=0,l=this.length,u=!1,c=i;s<l;){if($=this[n=s+Math.floor((l-s)/2)],!0===(o=t.yield1(r,$)))c=n,u=!0;else if(!1===o||o===i)u=!1;else if(o.$$is_number){if(0===o)return n;u=o<0}else this.$raise(a(ie,"TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");u?l=n:s=n+1}return c},C.$$arity=0),t.def(re,"$bsearch",N=function(){var t,e=N.$$p,r=e||i;return e&&(N.$$p=null),r===i?this.$enum_for("bsearch"):null!=(t=u(this,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?this[t]:t},N.$$arity=0),t.def(re,"$cycle",z=function(r){var n,o,l,c,f=z.$$p,_=f||i;if(null==r&&(r=i),f&&(z.$$p=null),_===i)return u(this,"enum_for",["cycle",r],((n=function(){var t,i,o=n.$$s||this;return s(r["$nil?"]())?$(a(ie,"Float"),"INFINITY"):(r=a(ie,"Opal")["$coerce_to!"](r,a(ie,"Integer"),"to_int"),s(e(r,0))?(t=o.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(s(s(o=this["$empty?"]())?o:r["$=="](0)))return i;if(r===i)for(;;)for(l=0,c=this.length;l<c;l++)t.yield1(_,this[l]);else{if((r=a(ie,"Opal")["$coerce_to!"](r,a(ie,"Integer"),"to_int"))<=0)return this;for(;r>0;){for(l=0,c=this.length;l<c;l++)t.yield1(_,this[l]);r--}}return this},z.$$arity=-1),t.def(re,"$clear",P=function(){return this.splice(0,this.length),this},P.$$arity=0),t.def(re,"$count",B=function(e){var r,n,$=B.$$p,a=$||i,o=i,l=i;for(null==e&&(e=i),$&&(B.$$p=null),l=0,n=arguments.length,o=new Array(n);l<n;l++)o[l]=arguments[l];return s(s(r=e)?r:a)?u(this,t.find_super_dispatcher(this,"count",B,!1),o,$):this.$size()},B.$$arity=-1),t.def(re,"$initialize_copy",q=function(t){return this.$replace(t)},q.$$arity=1),t.def(re,"$collect",D=function(){var e,r=D.$$p,n=r||i;if(r&&(D.$$p=null),n===i)return u(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=[],a=0,o=this.length;a<o;a++){var s=t.yield1(n,this[a]);$.push(s)}return $},D.$$arity=0),t.def(re,"$collect!",L=function(){var e,r=L.$$p,n=r||i;if(r&&(L.$$p=null),n===i)return u(this,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,a=this.length;$<a;$++){var o=t.yield1(n,this[$]);this[$]=o}return this},L.$$arity=0),t.def(re,"$combination",F=function(e){var r,n,$,o,s,l,c,f,_,h=this,d=F.$$p,y=d||i;if(d&&(F.$$p=null),n=a(ie,"Opal")["$coerce_to!"](e,a(ie,"Integer"),"to_int"),y===i)return u(h,"enum_for",["combination",n],((r=function(){return p((r.$$s||this).length,n)}).$$s=h,r.$$arity=0,r));if(0===n)t.yield1(y,[]);else if(1===n)for($=0,o=h.length;$<o;$++)t.yield1(y,[h[$]]);else if(n===h.length)t.yield1(y,h.slice());else if(n>=0&&n<h.length){for(s=[],$=0;$<=n+1;$++)s.push(0);for(l=[],c=0,f=!1,s[0]=-1;!f;){for(l[c]=h[s[c+1]];c<n-1;)_=s[++c+1]=s[c]+1,l[c]=h[_];t.yield1(y,l.slice()),c++;do f=0===c,s[c]++,c--;while(s[c+1]+n===h.length+c+1)}}return h},F.$$arity=1),t.def(re,"$repeated_combination",j=function(e){var r,n,$=j.$$p,o=$||i;return $&&(j.$$p=null),n=a(ie,"Opal")["$coerce_to!"](e,a(ie,"Integer"),"to_int"),o===i?u(this,"enum_for",["repeated_combination",n],((r=function(){return p((r.$$s||this).length+n-1,n)}).$$s=this,r.$$arity=0,r)):(n>=0&&function e(r,n,i,$){if(i.length!=r)for(var a=n;a<$.length;a++)i.push($[a]),e(r,a,i,$),i.pop();else{var s=i.slice();t.yield1(o,s)}}(n,0,[],this),this)},j.$$arity=1),t.def(re,"$compact",U=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==i&&e.push(t);return e},U.$$arity=0),t.def(re,"$compact!",H=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===i&&(this.splice(e,1),r--,e--);return this.length===t?i:this},H.$$arity=0),t.def(re,"$concat",G=function(t){var e,r,n,$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<$;l++)n[l-0]=arguments[l];return n=u(n,"map",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=i),t=s(a(ie,"Array")["$==="](t))?t.$to_a():a(ie,"Opal").$coerce_to(t,a(ie,"Array"),"to_ary").$to_a(),s(t["$equal?"](r))&&(t=t.$dup()),t}).$$s=this,e.$$arity=1,e)),u(n,"each",[],((r=function(t){var e=r.$$s||this;null==t&&(t=i);for(var n=0,$=t.length;n<$;n++)e.push(t[n])}).$$s=this,r.$$arity=1,r)),this},G.$$arity=-1),t.def(re,"$delete",Y=function(e){var r=Y.$$p,n=r||i;r&&(Y.$$p=null);for(var $=this.length,a=0,o=$;a<o;a++)this[a]["$=="](e)&&(this.splice(a,1),o--,a--);return this.length===$?n!==i?t.yieldX(n,[]):i:e},Y.$$arity=1),t.def(re,"$delete_at",W=function(t){if((t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return i;var e=this[t];return this.splice(t,1),e},W.$$arity=1),t.def(re,"$delete_if",X=function(){var t,e=X.$$p,r=e||i;if(e&&(X.$$p=null),r===i)return u(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=0,a=this.length;$<a;$++)!1!==(n=r(this[$]))&&n!==i&&(this.splice($,1),a--,$--);return this},X.$$arity=0),t.def(re,"$dig",K=function(e,r){var n,$=i,o=arguments.length,l=o-1;l<0&&(l=0),n=new Array(l);for(var c=1;c<o;c++)n[c-1]=arguments[c];return($=this["$[]"](e))===i||0===n.length?$:(s($["$respond_to?"]("dig"))||this.$raise(a(ie,"TypeError"),$.$class()+" does not have #dig method"),u($,"dig",t.to_a(n)))},K.$$arity=-2),t.def(re,"$drop",V=function(t){return t<0&&this.$raise(a(ie,"ArgumentError")),this.slice(t)},V.$$arity=1),t.def(re,"$dup",J=function(){var e,r=J.$$p,n=i,$=i;for(r&&(J.$$p=null),$=0,e=arguments.length,n=new Array(e);$<e;$++)n[$]=arguments[$];return this.$$class===t.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):u(this,t.find_super_dispatcher(this,"dup",J,!1),n,r)},J.$$arity=0),t.def(re,"$each",Z=function(){var e,r=Z.$$p,n=r||i;if(r&&(Z.$$p=null),n===i)return u(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,a=this.length;$<a;$++)t.yield1(n,this[$]);return this},Z.$$arity=0),t.def(re,"$each_index",Q=function(){var e,r=Q.$$p,n=r||i;if(r&&(Q.$$p=null),n===i)return u(this,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,a=this.length;$<a;$++)t.yield1(n,$);return this},Q.$$arity=0),t.def(re,"$empty?",tt=function(){return 0===this.length},tt.$$arity=0),t.def(re,"$eql?",et=function(t){var e={};return function t(r,n){var i,$,a,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,$=r.length;i<$;i++)if(a=r[i],o=n[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!e.hasOwnProperty(a.$object_id())&&!t(a,o))return!1}else if(!a["$eql?"](o))return!1;return!0}(this,t)},et.$$arity=1),t.def(re,"$fetch",rt=function(t,e){var r=rt.$$p,n=r||i;r&&(rt.$$p=null);var $=t;return(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&(t+=this.length),t>=0&&t<this.length?this[t]:(n!==i&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==i?n($):null!=e?e:void(0===this.length?this.$raise(a(ie,"IndexError"),"index "+$+" outside of array bounds: 0...0"):this.$raise(a(ie,"IndexError"),"index "+$+" outside of array bounds: -"+this.length+"..."+this.length)))},rt.$$arity=-2),t.def(re,"$fill",nt=function(e){var r,n,$,o,l,u=this,c=nt.$$p,f=c||i,_=i,h=i,d=i,p=i,y=i,m=arguments.length,g=m-0;g<0&&(g=0),$=new Array(g);for(var v=0;v<m;v++)$[v-0]=arguments[v];if(c&&(nt.$$p=null),s(f)?(s($.length>2)&&u.$raise(a(ie,"ArgumentError"),"wrong number of arguments ("+$.$length()+" for 0..2)"),n=$,_=null==(r=t.to_ary(n))[0]?i:r[0],h=null==r[1]?i:r[1]):(s(0==$.length)?u.$raise(a(ie,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):s($.length>3)&&u.$raise(a(ie,"ArgumentError"),"wrong number of arguments ("+$.$length()+" for 1..3)"),n=$,d=null==(r=t.to_ary(n))[0]?i:r[0],_=null==r[1]?i:r[1],h=null==r[2]?i:r[2]),s(a(ie,"Range")["$==="](_))){if(s(h)&&u.$raise(a(ie,"TypeError"),"length invalid with range"),p=a(ie,"Opal").$coerce_to(_.$begin(),a(ie,"Integer"),"to_int"),s(p<0)&&(p+=this.length),s(p<0)&&u.$raise(a(ie,"RangeError"),_.$inspect()+" out of range"),y=a(ie,"Opal").$coerce_to(_.$end(),a(ie,"Integer"),"to_int"),s(y<0)&&(y+=this.length),s(_["$exclude_end?"]())||(y+=1),s(y<=p))return u}else if(s(_))if(p=a(ie,"Opal").$coerce_to(_,a(ie,"Integer"),"to_int"),s(p<0)&&(p+=this.length),s(p<0)&&(p=0),s(h)){if(y=a(ie,"Opal").$coerce_to(h,a(ie,"Integer"),"to_int"),s(0==y))return u;y+=p}else y=this.length;else p=0,y=this.length;if(s(p>this.length))for(o=this.length;o<y;o++)u[o]=i;if(s(y>this.length)&&(this.length=y),s(f))for(this.length;p<y;p++)l=f(p),u[p]=l;else for(this.length;p<y;p++)u[p]=d;return u},nt.$$arity=-1),t.def(re,"$first",it=function(t){return null==t?0===this.length?i:this[0]:((t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&this.$raise(a(ie,"ArgumentError"),"negative array size"),this.slice(0,t))},it.$$arity=-1),t.def(re,"$flatten",$t=function(t){var e=this;return void 0!==t&&(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int")),d(function t(r,n){var $,o,s,l,u=[];for($=0,o=(r=r.$to_a()).length;$<o;$++)if(s=r[$],a(ie,"Opal")["$respond_to?"](s,"to_ary",!0))if((l=s.$to_ary())!==i)switch(l.$$is_array||e.$raise(a(ie,"TypeError")),l===e&&e.$raise(a(ie,"ArgumentError")),n){case void 0:u=u.concat(t(l));break;case 0:u.push(l);break;default:u.push.apply(u,t(l,n-1))}else u.push(s);else u.push(s);return u}(e,t),e.$class())},$t.$$arity=-1),t.def(re,"$flatten!",at=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var r=0,n=this.length;r<n&&this[r]===e[r];r++);if(r==n)return i}return this.$replace(e),this},at.$$arity=-1),t.def(re,"$hash",ot=function(){var e,r,n,i=void 0===t.hash_ids,$=["A"],a=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[a])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],this["$eql?"](e))return"self";for(t.hash_ids[a]=this,r=0;r<this.length;r++)e=this[r],$.push(e.$hash());return $.join(",")}finally{i&&(t.hash_ids=void 0)}},ot.$$arity=0),t.def(re,"$include?",st=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},st.$$arity=1),t.def(re,"$index",lt=function(t){var e,r,n,$=lt.$$p,a=$||i;if($&&(lt.$$p=null),null!=t&&a!==i&&this.$warn("warning: given block not used"),null!=t){for(e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return e}else{if(a===i)return this.$enum_for("index");for(e=0,r=this.length;e<r;e++)if(!1!==(n=a(this[e]))&&n!==i)return e}return i},lt.$$arity=-1),t.def(re,"$insert",ut=function(t,e){var r,n=arguments.length,$=n-1;$<0&&($=0),r=new Array($);for(var o=1;o<n;o++)r[o-1]=arguments[o];if(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=this.length+1)<0&&this.$raise(a(ie,"IndexError"),t+" is out of bounds"),t>this.length)for(var s=this.length;s<t;s++)this.push(i);this.splice.apply(this,[t,0].concat(r))}return this},ut.$$arity=-2),t.def(re,"$inspect",ct=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},ct.$$arity=0),t.def(re,"$join",ft=function(e){if(null==c[","]&&(c[","]=i),null==e&&(e=i),s(0===this.length))return"";s(e===i)&&(e=c[","]);var r,n,$,o,l=[];for(r=0,n=this.length;r<n;r++)$=this[r],a(ie,"Opal")["$respond_to?"]($,"to_str")&&(o=$.$to_str())!==i?l.push(o.$to_s()):a(ie,"Opal")["$respond_to?"]($,"to_ary")&&((o=$.$to_ary())===this&&this.$raise(a(ie,"ArgumentError")),o!==i)?l.push(o.$join(e)):a(ie,"Opal")["$respond_to?"]($,"to_s")&&(o=$.$to_s())!==i?l.push(o):this.$raise(a(ie,"NoMethodError").$new(t.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?l.join(""):l.join(a(ie,"Opal")["$coerce_to!"](e,a(ie,"String"),"to_str").$to_s())},ft.$$arity=-1),t.def(re,"$keep_if",_t=function(){var t,e=_t.$$p,r=e||i;if(e&&(_t.$$p=null),r===i)return u(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=0,a=this.length;$<a;$++)!1!==(n=r(this[$]))&&n!==i||(this.splice($,1),a--,$--);return this},_t.$$arity=0),t.def(re,"$last",ht=function(t){return null==t?0===this.length?i:this[this.length-1]:((t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&this.$raise(a(ie,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},ht.$$arity=-1),t.def(re,"$length",dt=function(){return this.length},dt.$$arity=0),t.alias(re,"map","collect"),t.alias(re,"map!","collect!"),t.def(re,"$max",pt=function(t){var e=pt.$$p,r=e||i;return e&&(pt.$$p=null),u(this.$each(),"max",[t],r.$to_proc())},pt.$$arity=-1),t.def(re,"$min",yt=function(){var t=yt.$$p,e=t||i;return t&&(yt.$$p=null),u(this.$each(),"min",[],e.$to_proc())},yt.$$arity=0),t.def(re,"$permutation",mt=function(e){var r,n,$,o,s=this,l=mt.$$p,c=l||i,f=i,_=i;if(l&&(mt.$$p=null),c===i)return u(s,"enum_for",["permutation",e],((r=function(){var t=r.$$s||this;return function(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)}).$$s=s,r.$$arity=0,r));if((e=void 0===e?s.length:a(ie,"Opal").$coerce_to(e,a(ie,"Integer"),"to_int"))<0||s.length<e);else if(0===e)t.yield1(c,[]);else if(1===e)for(var h=0;h<s.length;h++)t.yield1(c,[s[h]]);else f=a(ie,"Array").$new(e),_=a(ie,"Array").$new(s.length,!1),n=function(e,r,i,$,a){s=this;for(var l=0;l<s.length;l++)if($["$[]"](l)["$!"]())if(r[i]=l,i<e-1)$[l]=!0,n.call(s,e,r,i+1,$,a),$[l]=!1;else{o=[];for(var u=0;u<r.length;u++)o.push(s[r[u]]);t.yield1(a,o)}},c!==i?($=s.slice(),n.call($,e,f,0,_,c)):n.call(s,e,f,0,_,c);return s},mt.$$arity=-1),t.def(re,"$repeated_permutation",gt=function(e){var r,n,$=gt.$$p,o=$||i;return $&&(gt.$$p=null),n=a(ie,"Opal")["$coerce_to!"](e,a(ie,"Integer"),"to_int"),o===i?u(this,"enum_for",["repeated_permutation",n],((r=function(){var t,e,i=r.$$s||this;return s((e=0,"number"==typeof(t=n)&&"number"==typeof e?t>=e:t["$>="](e)))?i.$size()["$**"](n):0}).$$s=this,r.$$arity=0,r)):(function e(r,n,i){if(n.length!=r)for(var $=0;$<i.length;$++)n.push(i[$]),e(r,n,i),n.pop();else{var a=n.slice();t.yield1(o,a)}}(n,[],this.slice()),this)},gt.$$arity=1),t.def(re,"$pop",vt=function(t){var e=this;return s(void 0===t)?s(0===e.length)?i:e.pop():(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),s(t<0)&&e.$raise(a(ie,"ArgumentError"),"negative array size"),s(0===e.length)?[]:s(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},vt.$$arity=-1),t.def(re,"$product",bt=function(e){var r,n=bt.$$p,$=n||i,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];n&&(bt.$$p=null);var u,c,f,_,h=$!==i?null:[],d=r.length+1,p=new Array(d),y=new Array(d),m=new Array(d),g=1;for(m[0]=this,u=1;u<d;u++)m[u]=a(ie,"Opal").$coerce_to(r[u-1],a(ie,"Array"),"to_ary");for(u=0;u<d;u++){if(0===(_=m[u].length))return h||this;(g*=_)>2147483647&&this.$raise(a(ie,"RangeError"),"too big to product"),y[u]=_,p[u]=0}t:for(;;){for(f=[],u=0;u<d;u++)f.push(m[u][p[u]]);for(h?h.push(f):t.yield1($,f),p[c=d-1]++;p[c]===y[c];){if(p[c]=0,--c<0)break t;p[c]++}}return h||this},bt.$$arity=-1),t.def(re,"$push",wt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=0,a=e.length;$<a;$++)this.push(e[$]);return this},wt.$$arity=-1),t.alias(re,"append","push"),t.def(re,"$rassoc",Et=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},Et.$$arity=1),t.def(re,"$reject",kt=function(){var t,e=kt.$$p,r=e||i;if(e&&(kt.$$p=null),r===i)return u(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=[],a=0,o=this.length;a<o;a++)!1!==(n=r(this[a]))&&n!==i||$.push(this[a]);return $},kt.$$arity=0),t.def(re,"$reject!",xt=function(){var t,e,r=xt.$$p,n=r||i;return r&&(xt.$$p=null),n===i?u(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),u(this,"delete_if",[],n.$to_proc()),this.$length()["$=="](e)?i:this)},xt.$$arity=0),t.def(re,"$replace",At=function(t){return t=s(a(ie,"Array")["$==="](t))?t.$to_a():a(ie,"Opal").$coerce_to(t,a(ie,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},At.$$arity=1),t.def(re,"$reverse",Ot=function(){return this.slice(0).reverse()},Ot.$$arity=0),t.def(re,"$reverse!",Mt=function(){return this.reverse()},Mt.$$arity=0),t.def(re,"$reverse_each",St=function(){var t,e=St.$$p,r=e||i;return e&&(St.$$p=null),r===i?u(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(u(this.$reverse(),"each",[],r.$to_proc()),this)},St.$$arity=0),t.def(re,"$rindex",Tt=function(t){var e,r,n=Tt.$$p,$=n||i;if(n&&(Tt.$$p=null),null!=t&&$!==i&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if($!==i){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(!1!==(r=$(this[e]))&&r!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},Tt.$$arity=-1),t.def(re,"$rotate",Rt=function(t){var e,r,n,i;return null==t&&(t=1),t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=t%(e=this.slice()).length,n=e.slice(r),i=e.slice(0,r),n.concat(i))},Rt.$$arity=-1),t.def(re,"$rotate!",It=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},It.$$arity=-1),function(e,r,n){function $(){}var l,u,c=$=o(e,null,"SampleRandom",$),f=c.$$proto,_=[c].concat(n);f.rng=i,t.def(c,"$initialize",l=function(t){return this.rng=t},l.$$arity=1),t.def(c,"$rand",u=function(t){var e;return e=a(_,"Opal").$coerce_to(this.rng.$rand(t),a(_,"Integer"),"to_int"),s(e<0)&&this.$raise(a(_,"RangeError"),"random value must be >= 0"),s(e<t)||this.$raise(a(_,"RangeError"),"random value must be less than Array size"),e},u.$$arity=1)}(ie[0],0,ie),t.def(re,"$sample",Ct=function(t,e){var r,n,$,o,l,u,c,f,_,h=this,d=i,p=i;if(s(void 0===t))return h.$at(a(ie,"Kernel").$rand(h.length));if(s(void 0===e)?s(d=a(ie,"Opal")["$coerce_to?"](t,a(ie,"Hash"),"to_hash"))?(e=d,t=i):(e=i,t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int")):(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),e=a(ie,"Opal").$coerce_to(e,a(ie,"Hash"),"to_hash")),s(s(r=t)?t<0:r)&&h.$raise(a(ie,"ArgumentError"),"count must be greater than 0"),s(e)&&(p=e["$[]"]("random")),p=s(s(r=p)?p["$respond_to?"]("rand"):r)?a(ie,"SampleRandom").$new(p):a(ie,"Kernel"),!s(t))return h[p.$rand(h.length)];switch(t>h.length&&(t=h.length),t){case 0:return[];case 1:return[h[p.$rand(h.length)]];case 2:return(l=p.$rand(h.length))===(u=p.$rand(h.length))&&(u=0===l?l+1:l-1),[h[l],h[u]];default:if(h.length/t>3){for(n=!1,$=0,l=1,(o=a(ie,"Array").$new(t))[0]=p.$rand(h.length);l<t;){for(c=p.$rand(h.length),
u=0;u<l;){for(;c===o[u];){if(++$>100){n=!0;break}c=p.$rand(h.length)}if(n)break;u++}if(n)break;o[l]=c,l++}if(!n){for(l=0;l<t;)o[l]=h[o[l]],l++;return o}}o=h.slice();for(var y=0;y<t;y++)f=p.$rand(h.length),_=o[y],o[y]=o[f],o[f]=_;return t===h.length?o:o["$[]"](0,t)}},Ct.$$arity=-1),t.def(re,"$select",Nt=function(){var e,r=Nt.$$p,n=r||i;if(r&&(Nt.$$p=null),n===i)return u(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $,a,o=[],s=0,l=this.length;s<l;s++)$=this[s],!1!==(a=t.yield1(n,$))&&a!==i&&o.push($);return o},Nt.$$arity=0),t.def(re,"$select!",zt=function(){var t,e=zt.$$p,r=e||i;if(e&&(zt.$$p=null),r===i)return u(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n=this.length;return u(this,"keep_if",[],r.$to_proc()),this.length===n?i:this},zt.$$arity=0),t.def(re,"$shift",Pt=function(t){return s(void 0===t)?s(0===this.length)?i:this.shift():(t=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),s(t<0)&&this.$raise(a(ie,"ArgumentError"),"negative array size"),s(0===this.length)?[]:this.splice(0,t))},Pt.$$arity=-1),t.alias(re,"size","length"),t.def(re,"$shuffle",Bt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Bt.$$arity=-1),t.def(re,"$shuffle!",qt=function(t){var e,r,n,$=this.length;for(void 0!==t&&(t=a(ie,"Opal")["$coerce_to?"](t,a(ie,"Hash"),"to_hash"))!==i&&(t=t["$[]"]("random"))!==i&&t["$respond_to?"]("rand")&&(e=t);$;)e?((r=e.$rand($).$to_int())<0&&this.$raise(a(ie,"RangeError"),"random number too small "+r),r>=$&&this.$raise(a(ie,"RangeError"),"random number too big "+r)):r=this.$rand($),n=this[--$],this[$]=this[r],this[r]=n;return this},qt.$$arity=-1),t.alias(re,"slice","[]"),t.def(re,"$slice!",Dt=function(t,e){var r=this,n=i,$=i,o=i,l=i,u=i;if(n=i,s(void 0===e))if(s(a(ie,"Range")["$==="](t))){$=t,n=r["$[]"]($),o=a(ie,"Opal").$coerce_to($.$begin(),a(ie,"Integer"),"to_int"),l=a(ie,"Opal").$coerce_to($.$end(),a(ie,"Integer"),"to_int"),o<0&&(o+=r.length),l<0?l+=r.length:l>=r.length&&(l=r.length-1,$.excl&&(l+=1));var c=l-o;$.excl?l-=1:c+=1,o<r.length&&o>=0&&l<r.length&&l>=0&&c>0&&r.splice(o,c)}else{if((u=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"))<0&&(u+=r.length),u<0||u>=r.length)return i;n=r[u],0===u?r.shift():r.splice(u,1)}else{if(u=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),(e=a(ie,"Opal").$coerce_to(e,a(ie,"Integer"),"to_int"))<0)return i;n=r["$[]"](u,e),u<0&&(u+=r.length),u+e>r.length&&(e=r.length-u),u<r.length&&u>=0&&r.splice(u,e)}return n},Dt.$$arity=-2),t.def(re,"$sort",Lt=function(){var t=this,r=Lt.$$p,n=r||i;return r&&(Lt.$$p=null),s(t.length>1)?(n===i&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,$){var o,s,l=n(r,$);return l===i&&t.$raise(a(ie,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(l,0)?1:(s=0,("number"==typeof(o=l)&&"number"==typeof s?o<s:o["$<"](s))?-1:0)})):t},Lt.$$arity=0),t.def(re,"$sort!",Ft=function(){var t,e=Ft.$$p,r=e||i;e&&(Ft.$$p=null),t=r!==i?u(this.slice(),"sort",[],r.$to_proc()):this.slice().$sort(),this.length=0;for(var n=0,$=t.length;n<$;n++)this.push(t[n]);return this},Ft.$$arity=0),t.def(re,"$sort_by!",jt=function(){var t,e=jt.$$p,r=e||i;return e&&(jt.$$p=null),r===i?u(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(u(this,"sort_by",[],r.$to_proc()))},jt.$$arity=0),t.def(re,"$take",Ut=function(t){return t<0&&this.$raise(a(ie,"ArgumentError")),this.slice(0,t)},Ut.$$arity=1),t.def(re,"$take_while",Ht=function(){var t=Ht.$$p,e=t||i;t&&(Ht.$$p=null);for(var r,n,$=[],a=0,o=this.length;a<o;a++){if(!1===(n=e(r=this[a]))||n===i)return $;$.push(r)}return $},Ht.$$arity=0),t.def(re,"$to_a",Gt=function(){return this},Gt.$$arity=0),t.alias(re,"to_ary","to_a"),t.def(re,"$to_h",Yt=function(){var e,r,n,i,$=this.length,o=l([],{});for(e=0;e<$;e++)(r=a(ie,"Opal")["$coerce_to?"](this[e],a(ie,"Array"),"to_ary")).$$is_array||this.$raise(a(ie,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&this.$raise(a(ie,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Yt.$$arity=0),t.alias(re,"to_s","inspect"),t.def(re,"$transpose",Wt=function(){var e,r=i,n=i;return s(this["$empty?"]())?[]:(r=[],n=i,u(this,"each",[],((e=function($){var o,l,c=e.$$s||this;return null==$&&($=i),$=s(a(ie,"Array")["$==="]($))?$.$to_a():a(ie,"Opal").$coerce_to($,a(ie,"Array"),"to_ary").$to_a(),n=s(o=n)?o:$.length,s($.length["$!="](n))&&c.$raise(a(ie,"IndexError"),"element size differs ("+$.length+" should be "+n+")"),u($.length,"times",[],((l=function(e){l.$$s;var n,a,o,c=i;return null==e&&(e=i),(s(n=r["$[]"](e))?n:(c=[e,[]],u(r,"[]=",t.to_a(c)),c[(a=c.length,o=1,"number"==typeof a&&"number"==typeof o?a-o:a["$-"](o))]))["$<<"]($.$at(e))}).$$s=c,l.$$arity=1,l))}).$$s=this,e.$$arity=1,e)),r)},Wt.$$arity=0),t.def(re,"$uniq",Xt=function(){var e=Xt.$$p,r=e||i;e&&(Xt.$$p=null);var n,$,a,o,s=l([],{});if(r===i)for(n=0,$=this.length;n<$;n++)a=this[n],void 0===t.hash_get(s,a)&&t.hash_put(s,a,a);else for(n=0,$=this.length;n<$;n++)a=this[n],o=t.yield1(r,a),void 0===t.hash_get(s,o)&&t.hash_put(s,o,a);return d(s.$values(),this.$class())},Xt.$$arity=0),t.def(re,"$uniq!",Kt=function(){var e=Kt.$$p,r=e||i;e&&(Kt.$$p=null);var n,$,a,o,s=this.length,u=l([],{});for(n=0,$=s;n<$;n++)a=this[n],o=r===i?a:t.yield1(r,a),void 0!==t.hash_get(u,o)?(this.splice(n,1),$--,n--):t.hash_put(u,o,a);return this.length===s?i:this},Kt.$$arity=0),t.def(re,"$unshift",Vt=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];for(var $=e.length-1;$>=0;$--)this.unshift(e[$]);return this},Vt.$$arity=-1),t.alias(re,"prepend","unshift"),t.def(re,"$values_at",Jt=function(t){var e,r,n=i,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<$;l++)r[l-0]=arguments[l];return n=[],u(r,"each",[],((e=function(t){var r,$=e.$$s||this,o=i,l=i,c=i;return null==t&&(t=i),s(t["$is_a?"](a(ie,"Range")))?(o=a(ie,"Opal").$coerce_to(t.$last(),a(ie,"Integer"),"to_int"),(l=a(ie,"Opal").$coerce_to(t.$first(),a(ie,"Integer"),"to_int"))<0?(l+=$.length,i):(o<0&&(o+=$.length),t["$exclude_end?"]()&&o--,o<l?i:u(l,"upto",[o],((r=function(t){var e=r.$$s||this;return null==t&&(t=i),n["$<<"](e.$at(t))}).$$s=$,r.$$arity=1,r)))):(c=a(ie,"Opal").$coerce_to(t,a(ie,"Integer"),"to_int"),n["$<<"]($.$at(c)))}).$$s=this,e.$$arity=1,e)),n},Jt.$$arity=-1),t.def(re,"$zip",Zt=function(t){var e,r,n=Zt.$$p,$=n||i,o=arguments.length,l=o-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<o;u++)r[u-0]=arguments[u];n&&(Zt.$$p=null);var c,f,_,h,d,p=[],y=this.length;for(h=0,d=r.length;h<d;h++)(f=r[h]).$$is_array||(f.$$is_enumerator?f.$size()===1/0?r[h]=f.$take(y):r[h]=f.$to_a():r[h]=(s(e=a(ie,"Opal")["$coerce_to?"](f,a(ie,"Array"),"to_ary"))?e:a(ie,"Opal")["$coerce_to!"](f,a(ie,"Enumerator"),"each")).$to_a());for(_=0;_<y;_++){for(c=[this[_]],h=0,d=r.length;h<d;h++)null==(f=r[h][_])&&(f=i),c[h+1]=f;p[_]=c}if($!==i){for(_=0;_<y;_++)$(p[_]);return i}return p},Zt.$$arity=-1),t.defs(re,"$inherited",Qt=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},Qt.$$arity=1),t.def(re,"$instance_variables",te=function(){var e,r,n=te.$$p,$=i,a=i;for(n&&(te.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return u(u(this,t.find_super_dispatcher(this,"instance_variables",te,!1),$,n),"reject",[],((e=function(t){var r;return e.$$s,null==t&&(t=i),s(r=/^@\d+$/.test(t))?r:t["$=="]("@length")}).$$s=this,e.$$arity=1,e))},te.$$arity=0),a(ie,"Opal").$pristine(re.$singleton_class(),"allocate"),a(ie,"Opal").$pristine(re,"copy_instance_variables","initialize_dup"),t.def(re,"$pack",ee=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},ee.$$arity=-1),i&&"pack"}(0,Array,n)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.send,l=t.hash2,u=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),n.$require("corelib/enumerable"),function(n,c,f){function _(){}var h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et=_=o(i[0],null,"Hash",_),kt=Et.$$proto,xt=[Et].concat(f);return Et.$include(a(xt,"Enumerable")),kt.$$is_hash=!0,t.defs(Et,"$[]",h=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var o,s,l=e.length;if(1===l){if((o=a(xt,"Opal")["$coerce_to?"](e["$[]"](0),a(xt,"Hash"),"to_hash"))!==$)return this.$allocate()["$merge!"](o);for((e=a(xt,"Opal")["$coerce_to?"](e["$[]"](0),a(xt,"Array"),"to_ary"))===$&&this.$raise(a(xt,"ArgumentError"),"odd number of arguments for Hash"),l=e.length,o=this.$allocate(),s=0;s<l;s++)if(e[s].$$is_array)switch(e[s].length){case 1:o.$store(e[s][0],$);break;case 2:o.$store(e[s][0],e[s][1]);break;default:this.$raise(a(xt,"ArgumentError"),"invalid number of elements ("+e[s].length+" for 1..2)")}return o}for(l%2!=0&&this.$raise(a(xt,"ArgumentError"),"odd number of arguments for Hash"),o=this.$allocate(),s=0;s<l;s+=2)o.$store(e[s],e[s+1]);return o},h.$$arity=-1),t.defs(Et,"$allocate",d=function(){var e=new this.$$alloc;return t.hash_init(e),e.$$none=$,e.$$proc=$,e},d.$$arity=0),t.defs(Et,"$try_convert",p=function(t){return a(xt,"Opal")["$coerce_to?"](t,a(xt,"Hash"),"to_hash")},p.$$arity=1),t.def(Et,"$initialize",y=function(t){var e=y.$$p,r=e||$;return e&&(y.$$p=null),void 0!==t&&r!==$&&this.$raise(a(xt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?$:t,this.$$proc=r,this},y.$$arity=-1),t.def(Et,"$==",m=function(e){if(this===e)return!0;if(!e.$$is_hash)return!1;if(this.$$keys.length!==e.$$keys.length)return!1;for(var r,n,i,$=0,a=this.$$keys,o=a.length;$<o;$++)if((r=a[$]).$$is_string?(n=this.$$smap[r],i=e.$$smap[r]):(n=r.value,i=t.hash_get(e,r.key)),void 0===i||!n["$eql?"](i))return!1;return!0},m.$$arity=1),t.def(Et,"$>=",g=function(t){var e,r=$;return t=a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,s(t,"each",[],((e=function(t,n){var i,a=e.$$s||this;null==t&&(t=$),null==n&&(n=$),null!=(i=a.$fetch(t,null))&&i===n||(r=!1)}).$$s=this,e.$$arity=2,e)),r)},g.$$arity=1),t.def(Et,"$>",v=function(t){return t=a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},v.$$arity=1),t.def(Et,"$<",b=function(t){var e,r;return t=a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)},b.$$arity=1),t.def(Et,"$<=",w=function(t){return e(t=a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash"),this)},w.$$arity=1),t.def(Et,"$[]",E=function(e){var r=t.hash_get(this,e);return void 0!==r?r:this.$default(e)},E.$$arity=1),t.def(Et,"$[]=",k=function(e,r){return t.hash_put(this,e,r),r},k.$$arity=2),t.def(Et,"$assoc",x=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},x.$$arity=1),t.def(Et,"$clear",A=function(){return t.hash_init(this),this},A.$$arity=0),t.def(Et,"$clone",O=function(){var e=new this.$$class.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},O.$$arity=0),t.def(Et,"$compact",M=function(){for(var e,r,n=t.hash(),i=0,a=this.$$keys,o=a.length;i<o;i++)(e=a[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r!==$&&t.hash_put(n,e,r);return n},M.$$arity=0),t.def(Et,"$compact!",S=function(){for(var e,r,n=!1,i=0,a=this.$$keys,o=a.length;i<o;i++)(e=a[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r===$&&void 0!==t.hash_delete(this,e)&&(n=!0,o--,i--);return n?this:$},S.$$arity=0),t.def(Et,"$compare_by_identity",T=function(){var e,r,n,i,$=this,a=$.$$keys;if($.$$by_identity)return $;if(0===$.$$keys.length)return $.$$by_identity=!0,$;for(i=l([],{}).$compare_by_identity(),e=0,r=a.length;e<r;e++)(n=a[e]).$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get($,n));return $.$$by_identity=!0,$.$$map=i.$$map,$.$$smap=i.$$smap,$},T.$$arity=0),t.def(Et,"$compare_by_identity?",R=function(){return!0===this.$$by_identity},R.$$arity=0),t.def(Et,"$default",I=function(t){return void 0!==t&&this.$$proc!==$&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?$:this.$$none},I.$$arity=-1),t.def(Et,"$default=",C=function(t){return this.$$proc=$,this.$$none=t,t},C.$$arity=1),t.def(Et,"$default_proc",N=function(){return void 0!==this.$$proc?this.$$proc:$},N.$$arity=0),t.def(Et,"$default_proc=",z=function(t){var e=t;return e!==$&&(e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(a(xt,"TypeError"),"default_proc takes two arguments"),this.$$none=$,this.$$proc=e,t},z.$$arity=1),t.def(Et,"$delete",P=function(e){var r=P.$$p,n=r||$;r&&(P.$$p=null);var i=t.hash_delete(this,e);return void 0!==i?i:n!==$?t.yield1(n,e):$},P.$$arity=1),t.def(Et,"$delete_if",B=function(){var e,r=B.$$p,n=r||$;if(r&&(B.$$p=null),!u(n))return s(this,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=0,c=this.$$keys,f=c.length;l<f;l++)(i=c[l]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$&&void 0!==t.hash_delete(this,i)&&(f--,l--);return this},B.$$arity=0),t.alias(Et,"dup","clone"),t.def(Et,"$dig",q=function(e,r){var n,i=$,o=arguments.length,l=o-1;l<0&&(l=0),n=new Array(l);for(var c=1;c<o;c++)n[c-1]=arguments[c];return(i=this["$[]"](e))===$||0===n.length?i:(u(i["$respond_to?"]("dig"))||this.$raise(a(xt,"TypeError"),i.$class()+" does not have #dig method"),s(i,"dig",t.to_a(n)))},q.$$arity=-2),t.def(Et,"$each",D=function(){var e,r=D.$$p,n=r||$;if(r&&(D.$$p=null),!u(n))return s(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o=0,l=this.$$keys,c=l.length;o<c;o++)(i=l[o]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),t.yield1(n,[i,a]);return this},D.$$arity=0),t.def(Et,"$each_key",L=function(){var t,e=L.$$p,r=e||$;if(e&&(L.$$p=null),!u(r))return s(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,a=this.$$keys,o=a.length;i<o;i++)r((n=a[i]).$$is_string?n:n.key);return this},L.$$arity=0),t.alias(Et,"each_pair","each"),t.def(Et,"$each_value",F=function(){var t,e=F.$$p,r=e||$;if(e&&(F.$$p=null),!u(r))return s(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,a=this.$$keys,o=a.length;i<o;i++)r((n=a[i]).$$is_string?this.$$smap[n]:n.value);return this},F.$$arity=0),t.def(Et,"$empty?",j=function(){return 0===this.$$keys.length},j.$$arity=0),t.alias(Et,"eql?","=="),t.def(Et,"$fetch",U=function(e,r){var n=U.$$p,i=n||$;n&&(U.$$p=null);var o=t.hash_get(this,e);return void 0!==o?o:i!==$?i(e):void 0!==r?r:this.$raise(a(xt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:this})))},U.$$arity=-2),t.def(Et,"$fetch_values",H=function(t){var e,r,n=H.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var l=0;l<a;l++)r[l-0]=arguments[l];return n&&(H.$$p=null),s(r,"map",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=$),s(r,"fetch",[t],i.$to_proc())}).$$s=this,e.$$arity=1,e))},H.$$arity=-1),t.def(Et,"$flatten",G=function(t){null==t&&(t=1),t=a(xt,"Opal")["$coerce_to!"](t,a(xt,"Integer"),"to_int");for(var e,r,n=[],i=0,$=this.$$keys,o=$.length;i<o;i++)if((e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},G.$$arity=-1),t.def(Et,"$has_key?",Y=function(e){return void 0!==t.hash_get(this,e)},Y.$$arity=1),t.def(Et,"$has_value?",W=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},W.$$arity=1),t.def(Et,"$hash",X=function(){var e,r,n=void 0===t.hash_ids,i=this.$object_id(),$=["Hash"];try{if(n&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],this["$eql?"](r))return"self";t.hash_ids[i]=this;for(var a=0,o=this.$$keys,s=o.length;a<s;a++)(e=o[a]).$$is_string?$.push([e,this.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{n&&(t.hash_ids=void 0)}},X.$$arity=0),t.alias(Et,"include?","has_key?"),t.def(Et,"$index",K=function(t){for(var e,r,n=0,i=this.$$keys,a=i.length;n<a;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return $},K.$$arity=1),t.def(Et,"$indexes",V=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];for(var a,o,s=[],l=0,u=r.length;l<u;l++)a=r[l],void 0!==(o=t.hash_get(this,a))?s.push(o):s.push(this.$default());return s},V.$$arity=-1),t.alias(Et,"indices","indexes"),t.def(Et,"$inspect",J=function(){var t=void 0===wt,e=this.$object_id(),r=[];try{if(t&&(wt={}),wt.hasOwnProperty(e))return"{...}";wt[e]=!0;for(var n,i,$=0,a=this.$$keys,o=a.length;$<o;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(wt=void 0)}},J.$$arity=0),t.def(Et,"$invert",Z=function(){for(var e,r,n=t.hash(),i=0,$=this.$$keys,a=$.length;i<a;i++)(e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),t.hash_put(n,r,e);return n},Z.$$arity=0),t.def(Et,"$keep_if",Q=function(){var e,r=Q.$$p,n=r||$;if(r&&(Q.$$p=null),!u(n))return s(this,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=0,c=this.$$keys,f=c.length;l<f;l++)(i=c[l]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$||void 0!==t.hash_delete(this,i)&&(f--,l--);return this},Q.$$arity=0),t.alias(Et,"key","index"),t.alias(Et,"key?","has_key?"),t.def(Et,"$keys",tt=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},tt.$$arity=0),t.def(Et,"$length",et=function(){return this.$$keys.length},et.$$arity=0),t.alias(Et,"member?","has_key?"),t.def(Et,"$merge",rt=function(t){var e=rt.$$p,r=e||$;return e&&(rt.$$p=null),s(this.$dup(),"merge!",[t],r.$to_proc())},rt.$$arity=1),t.def(Et,"$merge!",nt=function(e){var r=nt.$$p,n=r||$;r&&(nt.$$p=null),e.$$is_hash||(e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"Hash"),"to_hash"));var i,o,s,l,u=e.$$keys,c=u.length;if(n===$){for(i=0;i<c;i++)(o=u[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(this,o,l);return this}for(i=0;i<c;i++)(o=u[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),void 0!==(s=t.hash_get(this,o))?t.hash_put(this,o,n(o,s,l)):t.hash_put(this,o,l);return this},nt.$$arity=1),t.def(Et,"$rassoc",it=function(t){for(var e,r,n=0,i=this.$$keys,a=i.length;n<a;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return $},it.$$arity=1),t.def(Et,"$rehash",$t=function(){return t.hash_rehash(this),this},$t.$$arity=0),t.def(Et,"$reject",at=function(){var e,r=at.$$p,n=r||$;if(r&&(at.$$p=null),!u(n))return s(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=t.hash(),c=0,f=this.$$keys,_=f.length;c<_;c++)(i=f[c]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$||t.hash_put(l,i,a);return l},at.$$arity=0),t.def(Et,"$reject!",ot=function(){var e,r=ot.$$p,n=r||$;if(r&&(ot.$$p=null),!u(n))return s(this,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=!1,c=0,f=this.$$keys,_=f.length;c<_;c++)(i=f[c]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$&&void 0!==t.hash_delete(this,i)&&(l=!0,_--,c--);return l?this:$},ot.$$arity=0),t.def(Et,"$replace",st=function(e){var n=$;e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"Hash"),"to_hash"),t.hash_init(this);for(var i,o,l=0,c=e.$$keys,f=c.length;l<f;l++)(i=c[l]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),t.hash_put(this,i,o);return u(e.$default_proc())?(n=[e.$default_proc()],s(this,"default_proc=",t.to_a(n)),n[r(n.length,1)]):(n=[e.$default()],s(this,"default=",t.to_a(n)),n[r(n.length,1)]),this},st.$$arity=1),t.def(Et,"$select",lt=function(){var e,r=lt.$$p,n=r||$;if(r&&(lt.$$p=null),!u(n))return s(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=t.hash(),c=0,f=this.$$keys,_=f.length;c<_;c++)(i=f[c]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$&&t.hash_put(l,i,a);return l},lt.$$arity=0),t.def(Et,"$select!",ut=function(){var e,r=ut.$$p,n=r||$;if(r&&(ut.$$p=null),!u(n))return s(this,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o,l=$,c=0,f=this.$$keys,_=f.length;c<_;c++)(i=f[c]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),!1!==(o=n(i,a))&&o!==$||(void 0!==t.hash_delete(this,i)&&(_--,c--),l=this);return l},ut.$$arity=0),t.def(Et,"$shift",ct=function(){var e,r=this.$$keys;return r.length>0?[e=(e=r[0]).$$is_string?e:e.key,t.hash_delete(this,e)]:this.$default($)},ct.$$arity=0),t.alias(Et,"size","length"),t.def(Et,"$slice",ft=function(e){var r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];for(var a=t.hash(),o=0,s=r.length;o<s;o++){var l=r[o],u=t.hash_get(this,l);void 0!==u&&t.hash_put(a,l,u)}return a},ft.$$arity=-1),t.alias(Et,"store","[]="),t.def(Et,"$to_a",_t=function(){for(var t,e,r=[],n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},_t.$$arity=0),t.def(Et,"$to_h",ht=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},ht.$$arity=0),t.def(Et,"$to_hash",dt=function(){return this},dt.$$arity=0),t.def(Et,"$to_proc",pt=function(){var t;return s(this,"proc",[],((t=function(e){var r=t.$$s||this;return null==e&&r.$raise(a(xt,"ArgumentError"),"no key given"),r["$[]"](e)}).$$s=this,t.$$arity=-1,t))},pt.$$arity=0),t.alias(Et,"to_s","inspect"),t.def(Et,"$transform_keys",yt=function(){var e,r=yt.$$p,n=r||$;if(r&&(yt.$$p=null),!u(n))return s(this,"enum_for",["transform_keys"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o=t.hash(),l=0,c=this.$$keys,f=c.length;l<f;l++)(i=c[l]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),i=t.yield1(n,i),t.hash_put(o,i,a);return o},yt.$$arity=0),t.def(Et,"$transform_keys!",mt=function(){var e,r=mt.$$p,n=r||$;if(r&&(mt.$$p=null),!u(n))return s(this,"enum_for",["transform_keys!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i,a,o,l,c=t.slice.call(this.$$keys),f=c.length;for(i=0;i<f;i++)(a=c[i]).$$is_string?o=this.$$smap[a]:(o=a.value,a=a.key),l=t.yield1(n,a),t.hash_delete(this,a),t.hash_put(this,l,o);return this},mt.$$arity=0),t.def(Et,"$transform_values",gt=function(){var e,r=gt.$$p,n=r||$;if(r&&(gt.$$p=null),!u(n))return s(this,"enum_for",["transform_values"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o=t.hash(),l=0,c=this.$$keys,f=c.length;l<f;l++)(i=c[l]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),a=t.yield1(n,a),t.hash_put(o,i,a);return o},gt.$$arity=0),t.def(Et,"$transform_values!",vt=function(){var e,r=vt.$$p,n=r||$;if(r&&(vt.$$p=null),!u(n))return s(this,"enum_for",["transform_values!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,a,o=0,l=this.$$keys,c=l.length;o<c;o++)(i=l[o]).$$is_string?a=this.$$smap[i]:(a=i.value,i=i.key),a=t.yield1(n,a),t.hash_put(this,i,a);return this},vt.$$arity=0),t.alias(Et,"update","merge!"),t.alias(Et,"value?","has_value?"),t.alias(Et,"values_at","indexes"),t.def(Et,"$values",bt=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},bt.$$arity=0),$&&"values"}(0,0,i)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var o=t.top,s=[],l=t.nil,u=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.klass),_=t.truthy,h=t.send,d=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),o.$require("corelib/numeric"),function(o,s,p){function y(){}var m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft,_t,ht,dt,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,Mt,St,Tt,Rt,It,Ct,Nt,zt,Pt=y=f(o,s,"Number",y),Bt=(Pt.$$proto,[Pt].concat(p));c(Bt,"Opal").$bridge(Pt,Number),Number.prototype.$$is_number=!0,Pt.$$is_number_class=!0,function(e,r){e.$$proto;var n,i=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(c(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(Pt),Bt),t.def(Pt,"$coerce",m=function(t){if(t===l)this.$raise(c(Bt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(c(Bt,"TypeError"),"can't convert "+t.$class()+" into Float")}},m.$$arity=1),t.def(Pt,"$__id__",g=function(){return 2*this+1},g.$$arity=0),t.alias(Pt,"object_id","__id__"),t.def(Pt,"$+",v=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},v.$$arity=1),t.def(Pt,"$-",b=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},b.$$arity=1),t.def(Pt,"$*",w=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},w.$$arity=1),t.def(Pt,"$/",E=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},E.$$arity=1),t.alias(Pt,"fdiv","/"),t.def(Pt,"$%",k=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},k.$$arity=1),t.def(Pt,"$&",x=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},x.$$arity=1),t.def(Pt,"$|",A=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},A.$$arity=1),t.def(Pt,"$^",O=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},O.$$arity=1),t.def(Pt,"$<",M=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},M.$$arity=1),t.def(Pt,"$<=",S=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},S.$$arity=1),t.def(Pt,"$>",T=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},T.$$arity=1),t.def(Pt,"$>=",R=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},R.$$arity=1),t.def(Pt,"$<=>",I=function(e){var r,n;try{return r=this,(n=e).$$is_number?isNaN(r)||isNaN(n)?l:r>n?1:r<n?-1:0:r.$__coerced__("<=>",n)}catch(e){if(!t.rescue(e,[c(Bt,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},I.$$arity=1),t.def(Pt,"$<<",C=function(t){return(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"))>0?this<<t:this>>-t},C.$$arity=1),t.def(Pt,"$>>",N=function(t){return(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"))>0?this>>t:this<<-t},N.$$arity=1),t.def(Pt,"$[]",z=function(t){return(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1},z.$$arity=1),t.def(Pt,"$+@",P=function(){return+this},P.$$arity=0),t.def(Pt,"$-@",B=function(){return-this},B.$$arity=0),t.def(Pt,"$~",q=function(){return~this},q.$$arity=0),t.def(Pt,"$**",D=function(t){var n,i;return _(c(Bt,"Integer")["$==="](t))?_(_(n=c(Bt,"Integer")["$==="](this)["$!"]())?n:e(t,0))?Math.pow(this,t):c(Bt,"Rational").$new(this,1)["$**"](t):_((n=r(this,0))?_(i=c(Bt,"Float")["$==="](t))?i:c(Bt,"Rational")["$==="](t):r(this,0))?c(Bt,"Complex").$new(this,0)["$**"](t.$to_f()):_(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},D.$$arity=1),t.def(Pt,"$===",L=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},L.$$arity=1),t.def(Pt,"$==",F=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},F.$$arity=1),t.def(Pt,"$abs",j=function(){return Math.abs(this)},j.$$arity=0),t.def(Pt,"$abs2",U=function(){return Math.abs(this*this)},U.$$arity=0),t.def(Pt,"$allbits?",H=function(t){return(this&(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int")))==t},H.$$arity=1),t.def(Pt,"$anybits?",G=function(t){return 0!=(this&(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int")))},G.$$arity=1),t.def(Pt,"$angle",Y=function(){return _(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0},Y.$$arity=0),t.alias(Pt,"arg","angle"),t.alias(Pt,"phase","angle"),t.def(Pt,"$bit_length",W=function(){if(_(c(Bt,"Integer")["$==="](this))||this.$raise(c(Bt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},W.$$arity=0),t.def(Pt,"$ceil",X=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},X.$$arity=-1),t.def(Pt,"$chr",K=function(t){return String.fromCharCode(this)},K.$$arity=-1),t.def(Pt,"$denominator",V=function(){var e,r,n=V.$$p,i=l,$=l;for(n&&(V.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?1:h(this,t.find_super_dispatcher(this,"denominator",V,!1),i,n)},V.$$arity=0),t.def(Pt,"$downto",J=function(t){var r,$=J.$$p,a=$||l;if($&&(J.$$p=null),a===l)return h(this,"enum_for",["downto",t],((r=function(){var $=r.$$s||this;return _(c(Bt,"Numeric")["$==="](t))||$.$raise(c(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(e(t,$))?0:n(i($,t),1)}).$$s=this,r.$$arity=0,r));t.$$is_number||this.$raise(c(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o>=t;o--)a(o);return this},J.$$arity=1),t.alias(Pt,"eql?","=="),t.def(Pt,"$equal?",Z=function(t){var e;return _(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},Z.$$arity=1),t.def(Pt,"$even?",Q=function(){return this%2==0},Q.$$arity=0),t.def(Pt,"$floor",tt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},tt.$$arity=-1),t.def(Pt,"$gcd",et=function(t){_(c(Bt,"Integer")["$==="](t))||this.$raise(c(Bt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);e>0;){var n=e;e=r%e,r=n}return r},et.$$arity=1),t.def(Pt,"$gcdlcm",rt=function(t){return[this.$gcd(),this.$lcm()]},rt.$$arity=1),t.def(Pt,"$integer?",nt=function(){
return this%1==0},nt.$$arity=0),t.def(Pt,"$is_a?",it=function(e){var r,n=it.$$p,i=l,$=l;for(n&&(it.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return!!_(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||!!_(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||!!_(e["$=="](c(Bt,"Float"))?c(Bt,"Float")["$==="](this):e["$=="](c(Bt,"Float")))||h(this,t.find_super_dispatcher(this,"is_a?",it,!1),i,n)},it.$$arity=1),t.alias(Pt,"kind_of?","is_a?"),t.def(Pt,"$instance_of?",$t=function(e){var r,n=$t.$$p,i=l,$=l;for(n&&($t.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return!!_(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||!!_(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||!!_(e["$=="](c(Bt,"Float"))?c(Bt,"Float")["$==="](this):e["$=="](c(Bt,"Float")))||h(this,t.find_super_dispatcher(this,"instance_of?",$t,!1),i,n)},$t.$$arity=1),t.def(Pt,"$lcm",at=function(t){return _(c(Bt,"Integer")["$==="](t))||this.$raise(c(Bt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},at.$$arity=1),t.alias(Pt,"magnitude","abs"),t.alias(Pt,"modulo","%"),t.def(Pt,"$next",ot=function(){return this+1},ot.$$arity=0),t.def(Pt,"$nobits?",st=function(t){return 0==(this&(t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int")))},st.$$arity=1),t.def(Pt,"$nonzero?",lt=function(){return 0==this?l:this},lt.$$arity=0),t.def(Pt,"$numerator",ut=function(){var e,r,n=ut.$$p,i=l,$=l;for(n&&(ut.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?this:h(this,t.find_super_dispatcher(this,"numerator",ut,!1),i,n)},ut.$$arity=0),t.def(Pt,"$odd?",ct=function(){return this%2!=0},ct.$$arity=0),t.def(Pt,"$ord",ft=function(){return this},ft.$$arity=0),t.def(Pt,"$pow",_t=function(t,e){return 0==this&&this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(c(Bt,"Integer")["$==="](t)||this.$raise(c(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(c(Bt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),c(Bt,"Integer")["$==="](e)||this.$raise(c(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},_t.$$arity=-2),t.def(Pt,"$pred",ht=function(){return this-1},ht.$$arity=0),t.def(Pt,"$quo",dt=function(e){var r,n=dt.$$p,i=l,a=l;for(n&&(dt.$$p=null),a=0,r=arguments.length,i=new Array(r);a<r;a++)i[a]=arguments[a];return _(c(Bt,"Integer")["$==="](this))?h(this,t.find_super_dispatcher(this,"quo",dt,!1),i,n):$(this,e)},dt.$$arity=1),t.def(Pt,"$rationalize",pt=function(e){var r,n,$=l,o=l;return arguments.length>1&&this.$raise(c(Bt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(c(Bt,"Integer")["$==="](this))?c(Bt,"Rational").$new(this,1):_(this["$infinite?"]())?this.$raise(c(Bt,"FloatDomainError"),"Infinity"):_(this["$nan?"]())?this.$raise(c(Bt,"FloatDomainError"),"NaN"):_(null==e)?(n=c(Bt,"Math").$frexp(this),$=null==(r=t.to_ary(n))[0]?l:r[0],o=null==r[1]?l:r[1],$=c(Bt,"Math").$ldexp($,u(c(Bt,"Float"),"MANT_DIG")).$to_i(),o=i(o,u(c(Bt,"Float"),"MANT_DIG")),c(Bt,"Rational").$new(a(2,$),1["$<<"](i(1,o))).$rationalize(c(Bt,"Rational").$new(1,1["$<<"](i(1,o))))):this.$to_r().$rationalize(e)},pt.$$arity=-1),t.def(Pt,"$remainder",yt=function(t){return i(this,a(t,$(this,t).$truncate()))},yt.$$arity=1),t.def(Pt,"$round",mt=function(a){var o,s,f,h,d,p,y=this,m=l;if(_(c(Bt,"Integer")["$==="](y))){if(_(null==a))return y;if(_(_(o=c(Bt,"Float")["$==="](a))?a["$infinite?"]():o)&&y.$raise(c(Bt,"RangeError"),"Infinity"),a=c(Bt,"Opal")["$coerce_to!"](a,c(Bt,"Integer"),"to_int"),_(r(a,u(c(Bt,"Integer"),"MIN")))&&y.$raise(c(Bt,"RangeError"),"out of bounds"),_(a>=0))return y;if(.415241*(a=a["$-@"]())-.125>y.$size())return 0;var g=Math.pow(10,a),v=Math.floor((Math.abs(v)+g/2)/g)*g;return y<0?-v:v}if(_(_(o=y["$nan?"]())?null==a:o)&&y.$raise(c(Bt,"FloatDomainError"),"NaN"),a=c(Bt,"Opal")["$coerce_to!"](a||0,c(Bt,"Integer"),"to_int"),_((p=0,"number"==typeof(d=a)&&"number"==typeof p?d<=p:d["$<="](p))))_(y["$nan?"]())?y.$raise(c(Bt,"RangeError"),"NaN"):_(y["$infinite?"]())&&y.$raise(c(Bt,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(y);if(_(_(o=y["$nan?"]())?o:y["$infinite?"]()))return y}return s=c(Bt,"Math").$frexp(y),null==(o=t.to_ary(s))[0]?l:o[0],m=null==o[1]?l:o[1],_((f=a,h=i(n(u(c(Bt,"Float"),"DIG"),2),_(e(m,0))?$(m,4):i($(m,3),1)),"number"==typeof f&&"number"==typeof h?f>=h:f["$>="](h)))?y:_(r(a,(_(e(m,0))?n($(m,3),1):$(m,4))["$-@"]()))?0:Math.round(y*Math.pow(10,a))/Math.pow(10,a)},mt.$$arity=-1),t.def(Pt,"$step",gt=function(e,r,n){function i(){void 0!==s&&(_=s),void 0===_&&(_=l),p===l&&y.$raise(c(Bt,"TypeError"),"step must be numeric"),0===p&&y.$raise(c(Bt,"ArgumentError"),"step can't be 0"),void 0!==f&&(p=f),p!==l&&null!=p||(p=1);var t=p["$<=>"](0);t===l&&y.$raise(c(Bt,"ArgumentError"),"0 can't be coerced into "+p.$class()),_!==l&&null!=_||(_=t>0?u(c(Bt,"Float"),"INFINITY"):u(c(Bt,"Float"),"INFINITY")["$-@"]()),c(Bt,"Opal").$compare(y,_)}function $(){if(p>0&&y>_||p<0&&y<_)return 0;if(p===1/0||p===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(y)+t(_)+t(_-y))/t(p)*u(c(Bt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),e((_-y)/p+r)+1)}var a,o,s,f,_,p,y=this,m=gt.$$p,g=m||l,v=l,b=l;if(o=t.slice.call(arguments,0,arguments.length),null==(n=t.extract_kwargs(o))||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=d([],{})}if(s=n.$$smap.to,f=n.$$smap.by,0<o.length&&(_=o.splice(0,1)[0]),0<o.length&&(p=o.splice(0,1)[0]),m&&(gt.$$p=null),void 0!==_&&void 0!==s&&y.$raise(c(Bt,"ArgumentError"),"to is given twice"),void 0!==p&&void 0!==f&&y.$raise(c(Bt,"ArgumentError"),"step is given twice"),g===l)return v=[],b=d([],{}),void 0!==_&&v.push(_),void 0!==p&&v.push(p),void 0!==s&&t.hash_put(b,"to",s),void 0!==f&&t.hash_put(b,"by",f),b["$any?"]()&&v.push(b),h(y,"enum_for",["step"].concat(t.to_a(v)),((a=function(){return a.$$s,function(){if(i(),0===p)return 1/0;if(p%1!=0)return $();if(p>0&&y>_||p<0&&y<_)return 0;var t=Math.ceil,e=Math.abs;return t((e(y-_)+1)/e(p))}()}).$$s=y,a.$$arity=0,a));if(i(),0===p)for(;;)g(y);if(y%1!=0||_%1!=0||p%1!=0){var w=$();if(w>0)if(p===1/0||p===-1/0)g(y);else{var E,k=0;if(p>0)for(;k<w;)_<(E=k*p+y)&&(E=_),g(E),k+=1;else for(;k<w;)_>(E=k*p+y)&&(E=_),g(E),k+=1}}else{var x=y;if(p>0)for(;x<=_;)g(x),x+=p;else for(;x>=_;)g(x),x+=p}return y},gt.$$arity=-1),t.alias(Pt,"succ","next"),t.def(Pt,"$times",vt=function(){var t,e=vt.$$p,r=e||l;if(e&&(vt.$$p=null),!_(r))return h(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var n=0;n<this;n++)r(n);return this},vt.$$arity=0),t.def(Pt,"$to_f",bt=function(){return this},bt.$$arity=0),t.def(Pt,"$to_i",wt=function(){return parseInt(this,10)},wt.$$arity=0),t.alias(Pt,"to_int","to_i"),t.def(Pt,"$to_r",Et=function(){var e,r,n=l,$=l;return _(c(Bt,"Integer")["$==="](this))?c(Bt,"Rational").$new(this,1):(r=c(Bt,"Math").$frexp(this),n=null==(e=t.to_ary(r))[0]?l:e[0],$=null==e[1]?l:e[1],n=c(Bt,"Math").$ldexp(n,u(c(Bt,"Float"),"MANT_DIG")).$to_i(),$=i($,u(c(Bt,"Float"),"MANT_DIG")),a(n,u(c(Bt,"Float"),"RADIX")["$**"]($)).$to_r())},Et.$$arity=0),t.def(Pt,"$to_s",kt=function(t){var n;return null==t&&(t=10),t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),_(_(n=r(t,2))?n:e(t,36))&&this.$raise(c(Bt,"ArgumentError"),"invalid radix "+t),this.toString(t)},kt.$$arity=-1),t.def(Pt,"$truncate",xt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},xt.$$arity=-1),t.alias(Pt,"inspect","to_s"),t.def(Pt,"$digits",At=function(t){null==t&&(t=10),r(this,0)&&this.$raise(u(c(Bt,"Math"),"DomainError"),"out of domain"),t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),_(r(t,2))&&this.$raise(c(Bt,"ArgumentError"),"invalid radix "+t);for(var e=this,n=[];0!==e;)n.push(e%t),e=parseInt(e/t,10);return n},At.$$arity=-1),t.def(Pt,"$divmod",Ot=function(e){var r,n,i=Ot.$$p,$=l,a=l;for(i&&(Ot.$$p=null),a=0,n=arguments.length,$=new Array(n);a<n;a++)$[a]=arguments[a];return _(_(r=this["$nan?"]())?r:e["$nan?"]())?this.$raise(c(Bt,"FloatDomainError"),"NaN"):_(this["$infinite?"]())?this.$raise(c(Bt,"FloatDomainError"),"Infinity"):h(this,t.find_super_dispatcher(this,"divmod",Ot,!1),$,i)},Ot.$$arity=1),t.def(Pt,"$upto",Mt=function(t){var e,$=Mt.$$p,a=$||l;if($&&(Mt.$$p=null),a===l)return h(this,"enum_for",["upto",t],((e=function(){var $=e.$$s||this;return _(c(Bt,"Numeric")["$==="](t))||$.$raise(c(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(r(t,$))?0:n(i(t,$),1)}).$$s=this,e.$$arity=0,e));t.$$is_number||this.$raise(c(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o<=t;o++)a(o);return this},Mt.$$arity=1),t.def(Pt,"$zero?",St=function(){return 0==this},St.$$arity=0),t.def(Pt,"$size",Tt=function(){return 4},Tt.$$arity=0),t.def(Pt,"$nan?",Rt=function(){return isNaN(this)},Rt.$$arity=0),t.def(Pt,"$finite?",It=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},It.$$arity=0),t.def(Pt,"$infinite?",Ct=function(){return this==1/0?1:this==-1/0?-1:l},Ct.$$arity=0),t.def(Pt,"$positive?",Nt=function(){return 0!=this&&(this==1/0||1/this>0)},Nt.$$arity=0),t.def(Pt,"$negative?",zt=function(){return this==-1/0||1/this<0},zt.$$arity=0)}(s[0],c(s,"Numeric"),s),t.const_set(s[0],"Fixnum",c(s,"Number")),function(e,r,n){function i(){}var $=i=f(e,r,"Integer",i),a=($.$$proto,[$].concat(n));$.$$is_number_class=!0,function(e,r){e.$$proto;var n,i,$,a=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(c(a,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1==0},i.$$arity=1),t.def(e,"$sqrt",$=function(t){return(t=c(a,"Opal")["$coerce_to!"](t,c(a,"Integer"),"to_int"))<0&&this.$raise(u(c(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},$.$$arity=1)}(t.get_singleton_class($),a),t.const_set(a[0],"MAX",Math.pow(2,30)-1),t.const_set(a[0],"MIN",-Math.pow(2,30))}(s[0],c(s,"Numeric"),s),function(e,r,n){function i(){}var $=i=f(e,r,"Float",i),a=($.$$proto,[$].concat(n));return $.$$is_number_class=!0,function(e,r){e.$$proto;var n,i,$=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(c($,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1)}(t.get_singleton_class($),a),t.const_set(a[0],"INFINITY",1/0),t.const_set(a[0],"MAX",Number.MAX_VALUE),t.const_set(a[0],"MIN",Number.MIN_VALUE),t.const_set(a[0],"NAN",NaN),t.const_set(a[0],"DIG",15),t.const_set(a[0],"MANT_DIG",53),t.const_set(a[0],"RADIX",2),t.const_set(a[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(s[0],c(s,"Numeric"),s)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),$.$require("corelib/enumerable"),function($,_,h){function d(){}var p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N=d=u(a[0],null,"Range",d),z=N.$$proto,P=[N].concat(h);return z.begin=z.end=z.excl=o,N.$include(l(P,"Enumerable")),z.$$is_range=!0,N.$attr_reader("begin","end"),t.def(N,"$initialize",p=function(t,e,r){return null==r&&(r=!1),c(this.begin)&&this.$raise(l(P,"NameError"),"'initialize' called twice"),c(t["$<=>"](e))||this.$raise(l(P,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},p.$$arity=-3),t.def(N,"$==",y=function(t){return!!t.$$is_range&&this.excl===t.excl&&this.begin==t.begin&&this.end==t.end},y.$$arity=1),t.def(N,"$===",m=function(t){return this["$include?"](t)},m.$$arity=1),t.def(N,"$cover?",g=function(t){var n,i,$;return i=this.begin["$<=>"](t),!!c(c(n=i)?e(i,0):n)&&($=t["$<=>"](this.end),c(this.excl)?c(n=$)?r($,0):n:c(n=$)?e($,0):n)},g.$$arity=1),t.def(N,"$each",v=function(){var e,n,i,$,a=this,s=v.$$p,u=s||o,_=o;if(s&&(v.$$p=null),u===o)return a.$enum_for("each");if(a.begin.$$is_number&&a.end.$$is_number){for(a.begin%1==0&&a.end%1==0||a.$raise(l(P,"TypeError"),"can't iterate from Float"),i=a.begin,$=a.end+(c(a.excl)?0:1);i<$;i++)u(i);return a}if(a.begin.$$is_string&&a.end.$$is_string)return f(a.begin,"upto",[a.end,a.excl],u.$to_proc()),a;for(_=a.begin,n=a.end,c(_["$respond_to?"]("succ"))||a.$raise(l(P,"TypeError"),"can't iterate from "+_.$class());c(r(_["$<=>"](n),0));)t.yield1(u,_),_=_.$succ();return c(c(e=a.excl["$!"]())?_["$=="](n):e)&&t.yield1(u,_),a},v.$$arity=0),t.def(N,"$eql?",b=function(t){var e,r;return!!c(l(P,"Range")["$==="](t))&&(c(e=c(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},b.$$arity=1),t.def(N,"$exclude_end?",w=function(){return this.excl},w.$$arity=0),t.def(N,"$first",E=function(e){var r,n=E.$$p,i=o,$=o;for(n&&(E.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return c(null==e)?this.begin:f(this,t.find_super_dispatcher(this,"first",E,!1),i,n)},E.$$arity=-1),t.alias(N,"include?","cover?"),t.def(N,"$last",k=function(t){return c(null==t)?this.end:this.$to_a().$last(t)},k.$$arity=-1),t.def(N,"$max",x=function(){var e,r,i=this,$=x.$$p,a=$||o,s=o,l=o;for($&&(x.$$p=null),l=0,r=arguments.length,s=new Array(r);l<r;l++)s[l]=arguments[l];return a!==o?f(i,t.find_super_dispatcher(i,"max",x,!1),s,$):c(n(i.begin,i.end))?o:c(c(e=i.excl)?i.begin["$=="](i.end):e)?o:i.excl?i.end-1:i.end},x.$$arity=0),t.alias(N,"member?","cover?"),t.def(N,"$min",A=function(){var e,r,i=A.$$p,$=i||o,a=o,s=o;for(i&&(A.$$p=null),s=0,r=arguments.length,a=new Array(r);s<r;s++)a[s]=arguments[s];return $!==o?f(this,t.find_super_dispatcher(this,"min",A,!1),a,i):c(n(this.begin,this.end))?o:c(c(e=this.excl)?this.begin["$=="](this.end):e)?o:this.begin},A.$$arity=0),t.def(N,"$size",O=function(){var t,e,n,i,$=o,a=o;return $=this.begin,a=this.end,c(this.excl)&&(i=1,a="number"==typeof(n=a)&&"number"==typeof i?n-i:n["$-"](i)),c(c(t=l(P,"Numeric")["$==="]($))?l(P,"Numeric")["$==="](a):t)?c(r(a,$))?0:(e=s(l(P,"Float"),"INFINITY"),c([$.$abs(),a.$abs()]["$include?"](e))?e:(Math.abs(a-$)+1).$to_i()):o},O.$$arity=0),t.def(N,"$step",M=function(e){function r(){e.$$is_number||(e=l(P,"Opal")["$coerce_to!"](e,l(P,"Integer"),"to_int")),e<0?_.$raise(l(P,"ArgumentError"),"step can't be negative"):0===e&&_.$raise(l(P,"ArgumentError"),"step can't be 0")}var $,a,u,_=this,h=M.$$p,d=h||o,p=o;return null==e&&(e=1),h&&(M.$$p=null),d===o?f(_,"enum_for",["step",e],(($=function(){return $.$$s,r(),function(){if(!_.begin["$respond_to?"]("succ"))return o;if(_.begin.$$is_string&&_.end.$$is_string)return o;if(e%1==0)return(r=_.$size(),n=e,"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n)).$ceil();var t,r,n,i=_.begin,$=_.end,a=Math.abs,u=Math.floor,c=(a(i)+a($)+a($-i))/a(e)*s(l(P,"Float"),"EPSILON");return c>.5&&(c=.5),_.excl?(t=u(($-i)/e-c))*e+i<$&&t++:t=u(($-i)/e+c)+1,t}()}).$$s=_,$.$$arity=0,$)):(r(),c(_.begin.$$is_number&&_.end.$$is_number)?(p=0,function(){var r=t.new_brk();try{f(_,"loop",[],((a=function(){var $,s,l,u,f,_=a.$$s||this;return null==_.begin&&(_.begin=o),null==_.excl&&(_.excl=o),null==_.end&&(_.end=o),$=i(_.begin,(l=e,"number"==typeof(s=p)&&"number"==typeof l?s*l:s["$*"](l))),c(_.excl)?c((u=$,f=_.end,"number"==typeof u&&"number"==typeof f?u>=f:u["$>="](f)))&&t.brk(o,r):c(n($,_.end))&&t.brk(o,r),t.yield1(d,$),p=i(p,1)}).$$s=_,a.$$brk=r,a.$$arity=0,a))}catch(t){if(t===r)return t.$v;throw t}}()):(_.begin.$$is_string&&_.end.$$is_string&&e%1!=0&&_.$raise(l(P,"TypeError"),"no implicit conversion to float from string"),f(_,"each_with_index",[],((u=function(r,n){return u.$$s,null==r&&(r=o),null==n&&(n=o),n["$%"](e)["$=="](0)?t.yield1(d,r):o}).$$s=_,u.$$arity=2,u))),_)},M.$$arity=-1),t.def(N,"$bsearch",S=function(){var t=S.$$p,e=t||o;return t&&(S.$$p=null),e===o?this.$enum_for("bsearch"):(c(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(l(P,"TypeError"),"can't do binary search for "+this.begin.$class()),f(this.$to_a(),"bsearch",[],e.$to_proc()))},S.$$arity=0),t.def(N,"$to_s",T=function(){var t=this;return t.begin+(c(t.excl)?"...":"..")+t.end},T.$$arity=0),t.def(N,"$inspect",R=function(){var t=this;return t.begin.$inspect()+(c(t.excl)?"...":"..")+t.end.$inspect()},R.$$arity=0),t.def(N,"$marshal_load",I=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},I.$$arity=1),t.def(N,"$hash",C=function(){return[this.begin,this.end,this.excl].$hash()},C.$$arity=0),o&&"hash"}(0,0,a)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),$=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(o,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v,b=u=$(e[0],s,"Proc",u),w=b.$$proto,E=[b].concat(l);return w.$$is_proc=!0,w.$$is_lambda=!1,t.defs(b,"$new",c=function(){var t=c.$$p,e=t||r;return t&&(c.$$p=null),a(e)||this.$raise(n(E,"ArgumentError"),"tried to create a Proc object without a block"),e},c.$$arity=0),t.def(b,"$call",f=function(e){var n,i=f.$$p,$=i||r,a=arguments.length,o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];i&&(f.$$p=null),$!==r&&(this.$$p=$);var l,u=this.$$brk;if(u)try{l=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n)}catch(t){if(t===u)return u.$v;throw t}else l=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n);return l},f.$$arity=-1),t.alias(b,"[]","call"),t.alias(b,"===","call"),t.alias(b,"yield","call"),t.def(b,"$to_proc",_=function(){return this},_.$$arity=0),t.def(b,"$lambda?",h=function(){return!!this.$$is_lambda},h.$$arity=0),t.def(b,"$arity",d=function(){return this.$$is_curried?-1:this.$$arity},d.$$arity=0),t.def(b,"$source_location",p=function(){return this.$$is_curried,r},p.$$arity=0),t.def(b,"$binding",y=function(){return this.$$is_curried&&this.$raise(n(E,"ArgumentError"),"Can't create Binding"),r},y.$$arity=0),t.def(b,"$parameters",m=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},m.$$arity=0),t.def(b,"$curry",g=function(t){function e(){var $,a=i.call(arguments),o=a.length;return o>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(E,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?r.$call.apply(r,a):(($=function(){return e.apply(null,a.concat(i.call(arguments)))}).$$is_lambda=r.$$is_lambda,$.$$is_curried=!0,$)}var r=this;return void 0===t?t=r.length:(t=n(E,"Opal")["$coerce_to!"](t,n(E,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(E,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},g.$$arity=-1),t.def(b,"$dup",v=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},v.$$arity=0),t.alias(b,"clone","dup")}(0,Function,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(a,o,s){function l(){}var u,c,f,_,h,d,p,y,m,g=l=i(e[0],null,"Method",l),v=g.$$proto,b=[g].concat(s);v.method=v.receiver=v.owner=v.name=r,g.$attr_reader("owner","receiver","name"),t.def(g,"$initialize",u=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},u.$$arity=4),t.def(g,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.def(g,"$parameters",f=function(){return this.method.$$parameters},f.$$arity=0),t.def(g,"$source_location",_=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},_.$$arity=0),t.def(g,"$comments",h=function(){var t;return $(t=this.method.$$comments)?t:[]},h.$$arity=0),t.def(g,"$call",d=function(t){var e,n=d.$$p,i=n||r,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];return n&&(d.$$p=null),this.method.$$p=i,this.method.apply(this.receiver,e)},d.$$arity=-1),t.alias(g,"[]","call"),t.def(g,"$unbind",p=function(){return n(b,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},p.$$arity=0),t.def(g,"$to_proc",y=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},y.$$arity=0),t.def(g,"$inspect",m=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},m.$$arity=0)}(0,0,e),function(a,o,s){function l(){}var u,c,f,_,h,d,p,y=l=i(e[0],null,"UnboundMethod",l),m=y.$$proto,g=[y].concat(s);return m.method=m.owner=m.name=m.source=r,y.$attr_reader("source","owner","name"),t.def(y,"$initialize",u=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},u.$$arity=4),t.def(y,"$arity",c=function(){return this.method.$arity()},c.$$arity=0),t.def(y,"$parameters",f=function(){return this.method.$$parameters},f.$$arity=0),t.def(y,"$source_location",_=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},_.$$arity=0),t.def(y,"$comments",h=function(){var t;return $(t=this.method.$$comments)?t:[]},h.$$arity=0),t.def(y,"$bind",d=function(e){return this.owner.$$is_module||t.is_a(e,this.owner)?n(g,"Method").$new(e,this.owner,this.method,this.name):void this.$raise(n(g,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},d.$$arity=1),t.def(y,"$inspect",p=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},p.$$arity=0),r&&"inspect"}(0,0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),e=i,(r=o(i[0],"Opal")).$$proto,n=[r].concat(e),t.const_set(n[0],"REGEXP_START",a(n,"RUBY_ENGINE")["$=="]("opal")?"^":$),t.const_set(n[0],"REGEXP_END",a(n,"RUBY_ENGINE")["$=="]("opal")?"$":$),t.const_set(n[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(n[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(n[0],"INLINE_IDENTIFIER_REGEXP",a(n,"Regexp").$new("[^"+a(n,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+a(n,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(n[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),void t.const_set(n[0],"CONST_NAME_REGEXP",a(n,"Regexp").$new(a(n,"REGEXP_START")+"(::)?[A-Z][^"+a(n,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+a(n,"REGEXP_END")))},Opal.modules["opal/mini"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.klass),o=t.send,s=t.truthy,l=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),e.$require("corelib/string"),function(e,n,o){function s(){}var l,u=s=a(r[0],null,"String",s),c=(u.$$proto,[u].concat(o));t.defs(u,"$inherited",l=function(t){var e;e=$(c,"Class").$new(i($(c,"String"),"Wrapper")),t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=i($(c,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},l.$$arity=1)}(0,0,r),function(e,r,i){function $(){}var u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M=$=a(e,null,"Wrapper",$),S=M.$$proto;return[M].concat(i),S.literal=n,S.$$is_string=!0,t.defs(M,"$allocate",u=function(e){var r=u.$$p,i=n;return null==e&&(e=""),r&&(u.$$p=null),(i=o(this,t.find_super_dispatcher(this,"allocate",u,!1,$),[],null)).literal=e,i},u.$$arity=-1),t.defs(M,"$new",c=function(e){var r,i,$=c.$$p,a=$||n,s=arguments.length,l=s-0;l<0&&(l=0),r=new Array(l);for(var u=0;u<s;u++)r[u-0]=arguments[u];return $&&(c.$$p=null),i=this.$allocate(),o(i,"initialize",t.to_a(r),a.$to_proc()),i},c.$$arity=-1),t.defs(M,"$[]",f=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$allocate(e)},f.$$arity=-1),t.def(M,"$initialize",_=function(t){return null==t&&(t=""),this.literal=t},_.$$arity=-1),t.def(M,"$method_missing",h=function(e){var r,i,$=h.$$p,a=$||n,l=arguments.length,u=l-0;u<0&&(u=0),r=new Array(u);for(var c=0;c<l;c++)r[c-0]=arguments[c];return $&&(h.$$p=null),i=o(this.literal,"__send__",t.to_a(r),a.$to_proc()),s(null!=i.$$is_string)?s(i==this.literal)?this:this.$class().$allocate(i):i},h.$$arity=-1),t.def(M,"$initialize_copy",d=function(t){return this.literal=t.literal.$clone()},d.$$arity=1),t.def(M,"$respond_to?",p=function(e,r){var i,$,a=p.$$p,l=n,u=n;for(a&&(p.$$p=null),u=0,$=arguments.length,l=new Array($);u<$;u++)l[u]=arguments[u];return s(i=o(this,t.find_super_dispatcher(this,"respond_to?",p,!1),l,a))?i:this.literal["$respond_to?"](e)},p.$$arity=-2),t.def(M,"$==",y=function(t){return this.literal["$=="](t)},y.$$arity=1),t.alias(M,"eql?","=="),t.alias(M,"===","=="),t.def(M,"$to_s",m=function(){return this.literal.$to_s()},m.$$arity=0),t.alias(M,"to_str","to_s"),t.def(M,"$inspect",g=function(){return this.literal.$inspect()},g.$$arity=0),t.def(M,"$+",v=function(t){var e,r;return e=this.literal,r=t,"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r)},v.$$arity=1),t.def(M,"$*",b=function(t){var e,r,n=(e=this.literal,r=t,"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r));return n.$$is_string?this.$class().$allocate(n):n},b.$$arity=1),t.def(M,"$split",w=function(t,e){var r;return o(this.literal.$split(t,e),"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$class().$allocate(t)}).$$s=this,r.$$arity=1,r))},w.$$arity=-1),t.def(M,"$replace",E=function(t){return this.literal=t},E.$$arity=1),t.def(M,"$each_line",k=function(e){var r,i=k.$$p,$=i||n;return null==l["/"]&&(l["/"]=n),null==e&&(e=l["/"]),i&&(k.$$p=null),$===n?this.$enum_for("each_line",e):o(this.literal,"each_line",[e],((r=function(e){var i=r.$$s||this;return null==e&&(e=n),t.yield1($,i.$class().$allocate(e))}).$$s=this,r.$$arity=1,r))},k.$$arity=-1),t.def(M,"$lines",x=function(t){var e=x.$$p,r=e||n,i=n;return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),e&&(x.$$p=null),i=o(this,"each_line",[t],r.$to_proc()),s(r)?this:i.$to_a()},x.$$arity=-1),t.def(M,"$%",A=function(t){return this.literal["$%"](t)},A.$$arity=1),t.def(M,"$instance_variables",O=function(){var e,r,i,$=O.$$p,a=n,s=n;for($&&(O.$$p=null),s=0,e=arguments.length,a=new Array(e);s<e;s++)a[s]=arguments[s];return r=o(this,t.find_super_dispatcher(this,"instance_variables",O,!1),a,$),i=["@literal"],"number"==typeof r&&"number"==typeof i?r-i:r["$-"](i)},O.$$arity=0),n&&"instance_variables"}($(r,"String"),0,r)},Opal.modules["corelib/string/encoding"]=function(t){var e,r,n,i,$,a=t.top,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.send,h=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),a.$require("corelib/string"),function(e,r,n){function i(){}var $,a,l,d,p,y,m,g,v,b,w=i=c(o[0],null,"Encoding",i),E=w.$$proto,k=[w].concat(n);E.ascii=E.dummy=E.name=s,w.$$register={},t.defs(w,"$register",$=function(t,e){var r,n,i,a,o,l=$.$$p,c=l||s,d=s,p=s;return null==e&&(e=h([],{})),l&&($.$$p=null),a=[t],o=f(r=e["$[]"]("aliases"))?r:[],d="number"==typeof a&&"number"==typeof o?a+o:a["$+"](o),i=_(u(k,"Class"),"new",[this],c.$to_proc()).$new(t,d,!!f(r=e["$[]"]("ascii"))&&r,!!f(r=e["$[]"]("dummy"))&&r),p=this.$$register,_(d,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=s),e.$const_set(t.$sub("-","_"),i),p["$$"+t]=i}).$$s=this,n.$$arity=1,n))},$.$$arity=-2),t.defs(w,"$find",a=function(t){var e,r,n;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,n=f(e=r["$$"+t])?e:r["$$"+t.$upcase()],f(n)||this.$raise(u(k,"ArgumentError"),"unknown encoding name - "+t),n)},a.$$arity=1),function(t,e){t.$$proto,[t].concat(e),t.$attr_accessor("default_external")}(t.get_singleton_class(w),k),w.$attr_reader("name","names"),t.def(w,"$initialize",l=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},l.$$arity=4),t.def(w,"$ascii_compatible?",d=function(){return this.ascii},d.$$arity=0),t.def(w,"$dummy?",p=function(){return this.dummy},p.$$arity=0),t.def(w,"$to_s",y=function(){return this.name},y.$$arity=0),t.def(w,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+(f(t.dummy)?" (dummy)":s)+">"},m.$$arity=0),t.def(w,"$each_byte",g=function(t){return this.$raise(u(k,"NotImplementedError"))},g.$$arity=-1),t.def(w,"$getbyte",v=function(t){return this.$raise(u(k,"NotImplementedError"))},v.$$arity=-1),t.def(w,"$bytesize",b=function(t){return this.$raise(u(k,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=c(t,e,"EncodingError",n);i.$$proto,[i].concat(r)}(k[0],u(k,"StandardError"),k),function(t,e,r){function n(){}var i=n=c(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r)}(k[0],u(k,"EncodingError"),k)}(0,0,o),_(u(o,"Encoding"),"register",["UTF-8",h(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((e=function(){var r,n,i=e.$$s||this;return t.def(i,"$each_byte",r=function(e){var n=r.$$p,i=n||s;n&&(r.$$p=null);for(var $=0,a=e.length;$<a;$++){var o=e.charCodeAt($);if(o<=127)t.yield1(i,o);else for(var l=encodeURIComponent(e.charAt($)).substr(1).split("%"),u=0,c=l.length;u<c;u++)t.yield1(i,parseInt(l[u],16));
}},r.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),s&&"bytesize"}).$$s=a,e.$$arity=0,e)),_(u(o,"Encoding"),"register",["UTF-16LE"],((r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||s;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),s&&"bytesize"}).$$s=a,r.$$arity=0,r)),_(u(o,"Encoding"),"register",["UTF-16BE"],((n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||s;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"}).$$s=a,n.$$arity=0,n)),_(u(o,"Encoding"),"register",["UTF-32LE"],((i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||s;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"}).$$s=a,i.$$arity=0,i)),_(u(o,"Encoding"),"register",["ASCII-8BIT",h(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||s;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),s&&"bytesize"}).$$s=a,$.$$arity=0,$)),function(e,r,n){function i(){}var $,a,f,h,d,p,y,m=i=c(o[0],null,"String",i),g=m.$$proto,v=[m].concat(n);return g.encoding=s,m.$attr_reader("encoding"),String.prototype.encoding=l(u(v,"Encoding"),"UTF_16LE"),t.def(m,"$bytes",$=function(){return this.$each_byte().$to_a()},$.$$arity=0),t.def(m,"$bytesize",a=function(){return this.encoding.$bytesize(this)},a.$$arity=0),t.def(m,"$each_byte",f=function(){var t=f.$$p,e=t||s;return t&&(f.$$p=null),e===s?this.$enum_for("each_byte"):(_(this.encoding,"each_byte",[this],e.$to_proc()),this)},f.$$arity=0),t.def(m,"$encode",h=function(t){return this.$dup().$force_encoding(t)},h.$$arity=1),t.def(m,"$force_encoding",d=function(t){return t===this.encoding?this:(t=u(v,"Opal")["$coerce_to!"](t,u(v,"String"),"to_s"),(t=u(v,"Encoding").$find(t))===this.encoding?this:(this.encoding=t,this))},d.$$arity=1),t.def(m,"$getbyte",p=function(t){return this.encoding.$getbyte(this,t)},p.$$arity=1),t.def(m,"$valid_encoding?",y=function(){return!0},y.$$arity=0),s&&"valid_encoding?"}(0,0,o)},Opal.modules["corelib/math"]=function(t){t.top;var e,r,n,i,$,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C=[],N=(t.nil,t.const_get_qualified),z=t.const_get_relative,P=(t.breaker,t.slice,t.module),B=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),e=C,(R=P(C[0],"Math")).$$proto,I=[R].concat(e),t.const_set(I[0],"E",Math.E),t.const_set(I[0],"PI",Math.PI),t.const_set(I[0],"DomainError",z(I,"Class").$new(z(I,"StandardError"))),t.defs(R,"$checked",r=function t(e,r){var t,n=arguments.length,i=n-1;i<0&&(i=0),t=new Array(i);for(var $=1;$<n;$++)t[$-1]=arguments[$];if(isNaN(t[0])||2==t.length&&isNaN(t[1]))return NaN;var a=Math[e].apply(null,t);return isNaN(a)&&this.$raise(z(I,"DomainError"),'Numerical argument is out of domain - "'+e+'"'),a},r.$$arity=-2),t.defs(R,"$float!",n=function(e){var r=this;try{return r.$Float(e)}catch(n){if(!t.rescue(n,[z(I,"ArgumentError")]))throw n;try{return r.$raise(z(I,"Opal").$type_error(e,z(I,"Float")))}finally{t.pop_exception()}}},n.$$arity=1),t.defs(R,"$integer!",i=function(e){var r=this;try{return r.$Integer(e)}catch(n){if(!t.rescue(n,[z(I,"ArgumentError")]))throw n;try{return r.$raise(z(I,"Opal").$type_error(e,z(I,"Integer")))}finally{t.pop_exception()}}},i.$$arity=1),R.$module_function(),t.def(R,"$acos",$=function(t){return z(I,"Math").$checked("acos",z(I,"Math")["$float!"](t))},$.$$arity=1),B(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(R,"$acosh",a=function(t){return z(I,"Math").$checked("acosh",z(I,"Math")["$float!"](t))},a.$$arity=1),t.def(R,"$asin",o=function(t){return z(I,"Math").$checked("asin",z(I,"Math")["$float!"](t))},o.$$arity=1),B(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(R,"$asinh",s=function(t){return z(I,"Math").$checked("asinh",z(I,"Math")["$float!"](t))},s.$$arity=1),t.def(R,"$atan",l=function(t){return z(I,"Math").$checked("atan",z(I,"Math")["$float!"](t))},l.$$arity=1),t.def(R,"$atan2",u=function(t,e){return z(I,"Math").$checked("atan2",z(I,"Math")["$float!"](t),z(I,"Math")["$float!"](e))},u.$$arity=2),B(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(R,"$atanh",c=function(t){return z(I,"Math").$checked("atanh",z(I,"Math")["$float!"](t))},c.$$arity=1),B(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),t.def(R,"$cbrt",f=function(t){return z(I,"Math").$checked("cbrt",z(I,"Math")["$float!"](t))},f.$$arity=1),t.def(R,"$cos",_=function(t){return z(I,"Math").$checked("cos",z(I,"Math")["$float!"](t))},_.$$arity=1),B(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(R,"$cosh",h=function(t){return z(I,"Math").$checked("cosh",z(I,"Math")["$float!"](t))},h.$$arity=1),B(void 0!==Math.erf)||(Math.erf=function(t){var e=1;t<0&&(e=-1);var r=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-t*t))}),t.def(R,"$erf",d=function(t){return z(I,"Math").$checked("erf",z(I,"Math")["$float!"](t))},d.$$arity=1),B(void 0!==Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=-e*e-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=r*Math.exp(n);return t<0?2-i:i}),t.def(R,"$erfc",p=function(t){return z(I,"Math").$checked("erfc",z(I,"Math")["$float!"](t))},p.$$arity=1),t.def(R,"$exp",y=function(t){return z(I,"Math").$checked("exp",z(I,"Math")["$float!"](t))},y.$$arity=1),t.def(R,"$frexp",m=function(t){if(t=z(I,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},m.$$arity=1),t.def(R,"$gamma",g=function(t){var e,r,n,i,$,a,o,s,l;t=z(I,"Math")["$float!"](t);var u,c,f=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if(-1!==t&&t!==-1/0||this.$raise(z(I,"DomainError"),'Numerical argument is out of domain - "gamma"'),z(I,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(i=t-2,$=t-1;i>1;)$*=i,i--;return 0==$&&($=1),$}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*z(I,"Math").$gamma((c=t,"number"==typeof(u=1)&&"number"==typeof c?u-c:u["$-"](c))));if(t>=171.35)return 1/0;if(t>85)return l=(s=(o=(a=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*a)-139/(51840*o)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t));for(t-=1,n=f[0],e=1;e<f.length;++e)n+=f[e]/(t+e);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n},g.$$arity=1),B(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(R,"$hypot",v=function(t,e){return z(I,"Math").$checked("hypot",z(I,"Math")["$float!"](t),z(I,"Math")["$float!"](e))},v.$$arity=2),t.def(R,"$ldexp",b=function(t,e){return t=z(I,"Math")["$float!"](t),e=z(I,"Math")["$integer!"](e),isNaN(e)&&this.$raise(z(I,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},b.$$arity=2),t.def(R,"$lgamma",w=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(z(I,"Math").$gamma(t))),z(I,"Math").$gamma(t)<0?-1:1]},w.$$arity=1),t.def(R,"$log",E=function(t,e){var r,n;return B(z(I,"String")["$==="](t))&&this.$raise(z(I,"Opal").$type_error(t,z(I,"Float"))),B(null==e)?z(I,"Math").$checked("log",z(I,"Math")["$float!"](t)):(B(z(I,"String")["$==="](e))&&this.$raise(z(I,"Opal").$type_error(e,z(I,"Float"))),r=z(I,"Math").$checked("log",z(I,"Math")["$float!"](t)),n=z(I,"Math").$checked("log",z(I,"Math")["$float!"](e)),"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n))},E.$$arity=-2),B(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(R,"$log10",k=function(t){return B(z(I,"String")["$==="](t))&&this.$raise(z(I,"Opal").$type_error(t,z(I,"Float"))),z(I,"Math").$checked("log10",z(I,"Math")["$float!"](t))},k.$$arity=1),B(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(R,"$log2",x=function(t){return B(z(I,"String")["$==="](t))&&this.$raise(z(I,"Opal").$type_error(t,z(I,"Float"))),z(I,"Math").$checked("log2",z(I,"Math")["$float!"](t))},x.$$arity=1),t.def(R,"$sin",A=function(t){return z(I,"Math").$checked("sin",z(I,"Math")["$float!"](t))},A.$$arity=1),B(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(R,"$sinh",O=function(t){return z(I,"Math").$checked("sinh",z(I,"Math")["$float!"](t))},O.$$arity=1),t.def(R,"$sqrt",M=function(t){return z(I,"Math").$checked("sqrt",z(I,"Math")["$float!"](t))},M.$$arity=1),t.def(R,"$tan",S=function(t){return t=z(I,"Math")["$float!"](t),B(t["$infinite?"]())?N(z(I,"Float"),"NAN"):z(I,"Math").$checked("tan",z(I,"Math")["$float!"](t))},S.$$arity=1),B(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void t.def(R,"$tanh",T=function(t){return z(I,"Math").$checked("tanh",z(I,"Math")["$float!"](t))},T.$$arity=1)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $,a,o,s,l=t.top,u=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,h=(t.breaker,t.slice,t.klass),d=t.truthy,p=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),l.$require("corelib/numeric"),function($,a,o){function s(){}var l,u,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G=s=h($,a,"Complex",s),Y=G.$$proto,W=[G].concat(o);Y.real=Y.imag=c,t.defs(G,"$rect",l=function(t,e){var r,n,i;return null==e&&(e=0),d(d(r=d(n=d(i=_(W,"Numeric")["$==="](t))?t["$real?"]():i)?_(W,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(_(W,"TypeError"),"not a real"),this.$new(t,e)},l.$$arity=-2),function(e,r){e.$$proto,[e].concat(r),t.alias(e,"rectangular","rect")}(t.get_singleton_class(G),W),t.defs(G,"$polar",u=function(t,r){var n,i,$;return null==r&&(r=0),d(d(n=d(i=d($=_(W,"Numeric")["$==="](t))?t["$real?"]():$)?_(W,"Numeric")["$==="](r):i)?r["$real?"]():n)||this.$raise(_(W,"TypeError"),"not a real"),this.$new(e(t,_(W,"Math").$cos(r)),e(t,_(W,"Math").$sin(r)))},u.$$arity=-2),G.$attr_reader("real","imag"),t.def(G,"$initialize",p=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},p.$$arity=-2),t.def(G,"$coerce",y=function(t){var e;return d(_(W,"Complex")["$==="](t))?[t,this]:d(d(e=_(W,"Numeric")["$==="](t))?t["$real?"]():e)?[_(W,"Complex").$new(t,0),this]:this.$raise(_(W,"TypeError"),t.$class()+" can't be coerced into Complex")},y.$$arity=1),t.def(G,"$==",m=function(t){var e;return d(_(W,"Complex")["$==="](t))?(e=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):this.real["$=="](t.$real()):d(d(e=_(W,"Numeric")["$==="](t))?t["$real?"]():e)?(e=this.real["$=="](t))?this.imag["$=="](0):this.real["$=="](t):t["$=="](this)},m.$$arity=1),t.def(G,"$-@",g=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},g.$$arity=0),t.def(G,"$+",v=function(t){var e;return d(_(W,"Complex")["$==="](t))?this.$Complex(r(this.real,t.$real()),r(this.imag,t.$imag())):d(d(e=_(W,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(r(this.real,t),this.imag):this.$__coerced__("+",t)},v.$$arity=1),t.def(G,"$-",b=function(t){var e;return d(_(W,"Complex")["$==="](t))?this.$Complex(n(this.real,t.$real()),n(this.imag,t.$imag())):d(d(e=_(W,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(n(this.real,t),this.imag):this.$__coerced__("-",t)},b.$$arity=1),t.def(G,"$*",w=function(t){var i;return d(_(W,"Complex")["$==="](t))?this.$Complex(n(e(this.real,t.$real()),e(this.imag,t.$imag())),r(e(this.real,t.$imag()),e(this.imag,t.$real()))):d(d(i=_(W,"Numeric")["$==="](t))?t["$real?"]():i)?this.$Complex(e(this.real,t),e(this.imag,t)):this.$__coerced__("*",t)},w.$$arity=1),t.def(G,"$/",E=function(t){var r,n,$,a;return d(_(W,"Complex")["$==="](t))?d(d(r=d(n=d($=d(a=_(W,"Number")["$==="](this.real))?this.real["$nan?"]():a)?$:d(a=_(W,"Number")["$==="](this.imag))?this.imag["$nan?"]():a)?n:d($=_(W,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():$)?r:d(n=_(W,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?_(W,"Complex").$new(f(_(W,"Float"),"NAN"),f(_(W,"Float"),"NAN")):i(e(this,t.$conj()),t.$abs2()):d(d(r=_(W,"Numeric")["$==="](t))?t["$real?"]():r)?this.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)},E.$$arity=1),t.def(G,"$**",k=function $(a){var o,s,l,u,f,h,p=c,y=c,m=c,g=c,v=c,b=c,w=c,E=c,k=c,$=c,x=c;if(a["$=="](0))return _(W,"Complex").$new(1,0);if(d(_(W,"Complex")["$==="](a)))return s=this.$polar(),p=null==(o=t.to_ary(s))[0]?c:o[0],y=null==o[1]?c:o[1],m=a.$real(),g=a.$imag(),v=_(W,"Math").$exp(n(e(m,_(W,"Math").$log(p)),e(g,y))),b=r(e(y,m),e(g,_(W,"Math").$log(p))),_(W,"Complex").$polar(v,b);if(d(_(W,"Integer")["$==="](a))){if(d((h=0,"number"==typeof(f=a)&&"number"==typeof h?f>h:f["$>"](h)))){for(E=w=this,k=n(a,1);d(k["$!="](0));){for(l=k.$divmod(2),$=null==(s=t.to_ary(l))[0]?c:s[0],x=null==s[1]?c:s[1];x["$=="](0);)w=this.$Complex(n(e(w.$real(),w.$real()),e(w.$imag(),w.$imag())),e(e(2,w.$real()),w.$imag())),u=(k=$).$divmod(2),$=null==(l=t.to_ary(u))[0]?c:l[0],x=null==l[1]?c:l[1];E=e(E,w),k=n(k,1)}return E}return i(_(W,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return d(d(o=_(W,"Float")["$==="](a))?o:_(W,"Rational")["$==="](a))?(s=this.$polar(),p=null==(o=t.to_ary(s))[0]?c:o[0],y=null==o[1]?c:o[1],_(W,"Complex").$polar(p["$**"](a),e(y,a))):this.$__coerced__("**",a)},k.$$arity=1),t.def(G,"$abs",x=function(){return _(W,"Math").$hypot(this.real,this.imag)},x.$$arity=0),t.def(G,"$abs2",A=function(){return r(e(this.real,this.real),e(this.imag,this.imag))},A.$$arity=0),t.def(G,"$angle",O=function(){return _(W,"Math").$atan2(this.imag,this.real)},O.$$arity=0),t.alias(G,"arg","angle"),t.def(G,"$conj",M=function(){return this.$Complex(this.real,this.imag["$-@"]())},M.$$arity=0),t.alias(G,"conjugate","conj"),t.def(G,"$denominator",S=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},S.$$arity=0),t.alias(G,"divide","/"),t.def(G,"$eql?",T=function(t){var e,r;return d(e=d(r=_(W,"Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](t):e},T.$$arity=1),t.def(G,"$fdiv",R=function(t){return d(_(W,"Numeric")["$==="](t))||this.$raise(_(W,"TypeError"),t.$class()+" can't be coerced into Complex"),i(this,t)},R.$$arity=1),t.def(G,"$finite?",I=function(){var t;return d(t=this.real["$finite?"]())?this.imag["$finite?"]():t},I.$$arity=0),t.def(G,"$hash",C=function(){return"Complex:"+this.real+":"+this.imag},C.$$arity=0),t.alias(G,"imaginary","imag"),t.def(G,"$infinite?",N=function(){var t;return d(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()},N.$$arity=0),t.def(G,"$inspect",z=function(){return"("+this+")"},z.$$arity=0),t.alias(G,"magnitude","abs"),t.udef(G,"$negative?"),t.def(G,"$numerator",P=function(){var t;return t=this.$denominator(),this.$Complex(e(this.real.$numerator(),i(t,this.real.$denominator())),e(this.imag.$numerator(),i(t,this.imag.$denominator())))},P.$$arity=0),t.alias(G,"phase","arg"),t.def(G,"$polar",B=function(){return[this.$abs(),this.$arg()]},B.$$arity=0),t.udef(G,"$positive?"),t.alias(G,"quo","/"),t.def(G,"$rationalize",q=function(t){return arguments.length>1&&this.$raise(_(W,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(this.imag["$!="](0))&&this.$raise(_(W,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},q.$$arity=-1),t.def(G,"$real?",D=function(){return!1},D.$$arity=0),t.def(G,"$rect",L=function(){return[this.real,this.imag]},L.$$arity=0),t.alias(G,"rectangular","rect"),t.def(G,"$to_f",F=function(){return this.imag["$=="](0)||this.$raise(_(W,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},F.$$arity=0),t.def(G,"$to_i",j=function(){return this.imag["$=="](0)||this.$raise(_(W,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},j.$$arity=0),t.def(G,"$to_r",U=function(){return this.imag["$=="](0)||this.$raise(_(W,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},U.$$arity=0),t.def(G,"$to_s",H=function(){var t,e,n,i=this,$=c;return $=r($=r($=i.real.$inspect(),d(d(t=d(e=d(n=_(W,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"),i.imag.$abs().$inspect()),d(d(t=_(W,"Number")["$==="](i.imag))?d(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&($=r($,"*")),r($,"i")},H.$$arity=0),t.const_set(W[0],"I",G.$new(0,1))}(u[0],_(u,"Numeric"),u),$=u,(o=p(u[0],"Kernel")).$$proto,s=[o].concat($),void t.def(o,"$Complex",a=function(t,e){return null==e&&(e=c),d(e)?_(s,"Complex").$new(t,e):_(s,"Complex").$new(t,0)},a.$$arity=-2)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a,o,s,l,u=t.top,c=[],f=t.nil,_=t.const_get_qualified,h=t.const_get_relative,d=(t.breaker,t.slice,t.klass),p=t.truthy,y=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),u.$require("corelib/numeric"),function(a,o,s){function l(){}var u,c,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F=l=d(a,o,"Rational",l),j=F.$$proto,U=[F].concat(s);j.num=j.den=f,t.defs(F,"$reduce",u=function(t,n){var i;if(t=t.$to_i(),(n=n.$to_i())["$=="](0))this.$raise(h(U,"ZeroDivisionError"),"divided by 0");else if(p(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return this.$new(t,n);return i=t.$gcd(n),this.$new(r(t,i),r(n,i))},u.$$arity=2),t.defs(F,"$convert",c=function(t,e){var n,i;return p(p(n=t["$nil?"]())?n:e["$nil?"]())&&this.$raise(h(U,"TypeError"),"cannot convert nil into Rational"),p(p(n=h(U,"Integer")["$==="](t))?h(U,"Integer")["$==="](e):n)?this.$reduce(t,e):(p(p(n=p(i=h(U,"Float")["$==="](t))?i:h(U,"String")["$==="](t))?n:h(U,"Complex")["$==="](t))&&(t=t.$to_r()),p(p(n=p(i=h(U,"Float")["$==="](e))?i:h(U,"String")["$==="](e))?n:h(U,"Complex")["$==="](e))&&(e=e.$to_r()),p(p(n=e["$equal?"](1))?h(U,"Integer")["$==="](t)["$!"]():n)?h(U,"Opal")["$coerce_to!"](t,h(U,"Rational"),"to_r"):p(p(n=h(U,"Numeric")["$==="](t))?h(U,"Numeric")["$==="](e):n)?r(t,e):this.$reduce(t,e))},c.$$arity=2),t.def(F,"$initialize",y=function(t,e){return this.num=t,this.den=e},y.$$arity=2),t.def(F,"$numerator",m=function(){return this.num},m.$$arity=0),t.def(F,"$denominator",g=function(){return this.den},g.$$arity=0),t.def(F,"$coerce",v=function(t){var e=this,r=f;return r=t,h(U,"Rational")["$==="](r)?[t,e]:h(U,"Integer")["$==="](r)?[t.$to_r(),e]:h(U,"Float")["$==="](r)?[t,e.$to_f()]:f},v.$$arity=1),t.def(F,"$==",b=function(t){var e=this,r=f;return r=t,h(U,"Rational")["$==="](r)?e.num["$=="](t.$numerator())?e.den["$=="](t.$denominator()):e.num["$=="](t.$numerator()):h(U,"Integer")["$==="](r)?e.num["$=="](t)?e.den["$=="](1):e.num["$=="](t):h(U,"Float")["$==="](r)?e.$to_f()["$=="](t):t["$=="](e)},b.$$arity=1),t.def(F,"$<=>",w=function(t){var e=this,r=f;return r=t,h(U,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):h(U,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):h(U,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)},w.$$arity=1),t.def(F,"$+",E=function(t){var e=this,r=f,n=f,a=f;return r=t,h(U,"Rational")["$==="](r)?(n=$(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational(n,a)):h(U,"Integer")["$==="](r)?e.$Rational($(e.num,i(t,e.den)),e.den):h(U,"Float")["$==="](r)?$(e.$to_f(),t):e.$__coerced__("+",t)},E.$$arity=1),t.def(F,"$-",k=function(t){var e=this,r=f,$=f,a=f;return r=t,h(U,"Rational")["$==="](r)?($=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational($,a)):h(U,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):h(U,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)},k.$$arity=1),t.def(F,"$*",x=function(t){var e=this,r=f,n=f,$=f;return r=t,h(U,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),$=i(e.den,t.$denominator()),e.$Rational(n,$)):h(U,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):h(U,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)},x.$$arity=1),t.def(F,"$/",A=function(t){var e=this,n=f,$=f,a=f;return n=t,h(U,"Rational")["$==="](n)?($=i(e.num,t.$denominator()),a=i(e.den,t.$numerator()),e.$Rational($,a)):h(U,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):h(U,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)},A.$$arity=1),t.def(F,"$**",O=function(t){var r,n,i=this,$=f;return $=t,h(U,"Integer")["$==="]($)?p(i["$=="](0)?e(t,0):i["$=="](0))?_(h(U,"Float"),"INFINITY"):p((n=0,"number"==typeof(r=t)&&"number"==typeof n?r>n:r["$>"](n)))?i.$Rational(i.num["$**"](t),i.den["$**"](t)):p(e(t,0))?i.$Rational(i.den["$**"](t["$-@"]()),i.num["$**"](t["$-@"]())):i.$Rational(1,1):h(U,"Float")["$==="]($)?i.$to_f()["$**"](t):h(U,"Rational")["$==="]($)?t["$=="](0)?i.$Rational(1,1):t.$denominator()["$=="](1)?p(e(t,0))?i.$Rational(i.den["$**"](t.$numerator().$abs()),i.num["$**"](t.$numerator().$abs())):i.$Rational(i.num["$**"](t.$numerator()),i.den["$**"](t.$numerator())):p(i["$=="](0)?e(t,0):i["$=="](0))?i.$raise(h(U,"ZeroDivisionError"),"divided by 0"):i.$to_f()["$**"](t):i.$__coerced__("**",t)},O.$$arity=1),t.def(F,"$abs",M=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},M.$$arity=0),t.def(F,"$ceil",S=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},S.$$arity=-1),t.alias(F,"divide","/"),t.def(F,"$floor",T=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},T.$$arity=-1),t.def(F,"$hash",R=function(){return"Rational:"+this.num+":"+this.den},R.$$arity=0),t.def(F,"$inspect",I=function(){return"("+this+")"},I.$$arity=0),t.alias(F,"quo","/"),t.def(F,"$rationalize",C=function(t){if(arguments.length>1&&this.$raise(h(U,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,i,a,o,s,l,u,c=t.$abs(),f=n(this,c),_=$(this,c),d=0,p=1,y=1,m=0;a=f.$ceil(),u=_,!("number"==typeof(l=a)&&"number"==typeof u?l<=u:l["$<="](u));)e=(o=a-1)*p+d,i=o*m+y,s=r(1,n(_,o)),_=r(1,n(f,o)),f=s,d=p,y=m,p=e,m=i;return this.$Rational(a*p+d,a*m+y)},C.$$arity=-1),t.def(F,"$round",N=function(t){var n=f;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(n=r($(i(this.num.$abs(),2),this.den),i(this.den,2)).$truncate(),p(e(this.num,0))?n["$-@"]():n):this.$with_precision("round",t)},N.$$arity=-1),t.def(F,"$to_f",z=function(){return r(this.num,this.den)},z.$$arity=0),t.def(F,"$to_i",P=function(){return this.$truncate()},P.$$arity=0),t.def(F,"$to_r",B=function(){return this},B.$$arity=0),t.def(F,"$to_s",q=function(){return this.num+"/"+this.den},q.$$arity=0),t.def(F,"$truncate",D=function(t){return null==t&&(t=0),t["$=="](0)?p(e(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},D.$$arity=-1),t.def(F,"$with_precision",L=function(t,n){var $,a=f;return p(h(U,"Integer")["$==="](n))||this.$raise(h(U,"TypeError"),"not an Integer"),a=i(this,$=10["$**"](n)),p(e(n,1))?r(a.$send(t),$).$to_i():this.$Rational(a.$send(t),$)},L.$$arity=2)}(c[0],h(c,"Numeric"),c),a=c,(s=y(c[0],"Kernel")).$$proto,l=[s].concat(a),void t.def(s,"$Rational",o=function(t,e){return null==e&&(e=1),h(l,"Rational").$convert(t,e)},o.$$arity=-2)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $=t.top,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice),u=t.klass,c=t.truthy,f=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),$.$require("corelib/comparable"),function($,_,h){function d(){}function p(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):s(at,"Opal")["$coerce_to!"](t,s(at,"Integer"),"to_int"),e===o)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch((e=e.$to_str()).toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=s(at,"Opal")["$coerce_to!"](e,s(at,"Integer"),"to_int");return(e<1||e>12)&&$t.$raise(s(at,"ArgumentError"),"month out of range: "+e),e-=1,((r=r===o?1:r.$$is_string?parseInt(r,10):s(at,"Opal")["$coerce_to!"](r,s(at,"Integer"),"to_int"))<1||r>31)&&$t.$raise(s(at,"ArgumentError"),"day out of range: "+r),((n=n===o?0:n.$$is_string?parseInt(n,10):s(at,"Opal")["$coerce_to!"](n,s(at,"Integer"),"to_int"))<0||n>24)&&$t.$raise(s(at,"ArgumentError"),"hour out of range: "+n),((i=i===o?0:i.$$is_string?parseInt(i,10):s(at,"Opal")["$coerce_to!"](i,s(at,"Integer"),"to_int"))<0||i>59)&&$t.$raise(s(at,"ArgumentError"),"min out of range: "+i),$===o?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):s(at,"Opal")["$coerce_to!"]($,s(at,"Integer"),"to_int")),($<0||$>60)&&$t.$raise(s(at,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}var y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t=d=u(a[0],_,"Time",d),at=($t.$$proto,[$t].concat(h));$t.$include(s(at,"Comparable"));var ot=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],st=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ut=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs($t,"$at",y=function(t,e){var r;return s(at,"Time")["$==="](t)?(void 0!==e&&this.$raise(s(at,"TypeError"),"can't convert Time into an exact number"),(r=new Date(t.getTime())).is_utc=t.is_utc,r):(t.$$is_number||(t=s(at,"Opal")["$coerce_to!"](t,s(at,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=s(at,"Opal")["$coerce_to!"](e,s(at,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},y.$$arity=-2),t.defs($t,"$new",m=function(t,e,r,n,i,$,a){var l,u;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),void 0===t?new Date:(a!==o&&this.$raise(s(at,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),t=(l=p(t,e,r,n,i,$))[0],e=l[1],r=l[2],n=l[3],i=l[4],$=l[5],u=new Date(t,e,r,n,i,0,1e3*$),t<100&&u.setFullYear(t),u)},m.$$arity=-1),t.defs($t,"$local",g=function(t,e,r,n,i,$,a,s,u,c){var f,_;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),null==s&&(s=o),null==u&&(u=o),null==c&&(c=o),10===arguments.length&&(t=(f=l.call(arguments))[5],e=f[4],r=f[3],n=f[2],i=f[1],$=f[0]),t=(f=p(t,e,r,n,i,$))[0],e=f[1],r=f[2],n=f[3],i=f[4],$=f[5],_=new Date(t,e,r,n,i,0,1e3*$),t<100&&_.setFullYear(t),_},g.$$arity=-2),t.defs($t,"$gm",v=function(t,e,r,n,i,$,a,s,u,c){var f,_;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),null==s&&(s=o),null==u&&(u=o),null==c&&(c=o),10===arguments.length&&(t=(f=l.call(arguments))[5],e=f[4],r=f[3],n=f[2],i=f[1],$=f[0]),t=(f=p(t,e,r,n,i,$))[0],e=f[1],r=f[2],n=f[3],i=f[4],$=f[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},v.$$arity=-2),function(e,r){e.$$proto,[e].concat(r),t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class($t),at),t.defs($t,"$now",b=function(){return this.$new()},b.$$arity=0),t.def($t,"$+",w=function(t){c(s(at,"Time")["$==="](t))&&this.$raise(s(at,"TypeError"),"time + time?"),t.$$is_number||(t=s(at,"Opal")["$coerce_to!"](t,s(at,"Integer"),"to_int"));var e=new Date(this.getTime()+1e3*t);return e.is_utc=this.is_utc,e},w.$$arity=1),t.def($t,"$-",E=function(t){if(c(s(at,"Time")["$==="](t)))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=s(at,"Opal")["$coerce_to!"](t,s(at,"Integer"),"to_int"));var e=new Date(this.getTime()-1e3*t);return e.is_utc=this.is_utc,e},E.$$arity=1),t.def($t,"$<=>",k=function(t){var e,r,n,i,$=o;return c(s(at,"Time")["$==="](t))?this.$to_f()["$<=>"](t.$to_f()):($=t["$<=>"](this),c($["$nil?"]())?o:c((i=0,"number"==typeof(n=$)&&"number"==typeof i?n>i:n["$>"](i)))?-1:c((r=0,"number"==typeof(e=$)&&"number"==typeof r?e<r:e["$<"](r)))?1:0)},k.$$arity=1),t.def($t,"$==",x=function(t){var e;return c(e=s(at,"Time")["$==="](t))?this.$to_f()===t.$to_f():e},x.$$arity=1),t.def($t,"$asctime",A=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},A.$$arity=0),t.alias($t,"ctime","asctime"),t.def($t,"$day",O=function(){return this.is_utc?this.getUTCDate():this.getDate()},O.$$arity=0),t.def($t,"$yday",M=function(){var t;return t=s(at,"Time").$new(this.$year()).$to_i(),e(r(n(s(at,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),t),86400).$round(),1)},M.$$arity=0),t.def($t,"$isdst",S=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},S.$$arity=0),t.alias($t,"dst?","isdst"),
t.def($t,"$dup",T=function(){var t=o;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},T.$$arity=0),t.def($t,"$eql?",R=function(t){var e;return c(e=t["$is_a?"](s(at,"Time")))?this["$<=>"](t)["$zero?"]():e},R.$$arity=1),t.def($t,"$friday?",I=function(){return 5==this.$wday()},I.$$arity=0),t.def($t,"$hash",C=function(){return"Time:"+this.getTime()},C.$$arity=0),t.def($t,"$hour",N=function(){return this.is_utc?this.getUTCHours():this.getHours()},N.$$arity=0),t.def($t,"$inspect",z=function(){return c(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},z.$$arity=0),t.alias($t,"mday","day"),t.def($t,"$min",P=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},P.$$arity=0),t.def($t,"$mon",B=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},B.$$arity=0),t.def($t,"$monday?",q=function(){return 1==this.$wday()},q.$$arity=0),t.alias($t,"month","mon"),t.def($t,"$saturday?",D=function(){return 6==this.$wday()},D.$$arity=0),t.def($t,"$sec",L=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},L.$$arity=0),t.def($t,"$succ",F=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},F.$$arity=0),t.def($t,"$usec",j=function(){return 1e3*this.getMilliseconds()},j.$$arity=0),t.def($t,"$zone",U=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},U.$$arity=0),t.def($t,"$getgm",H=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},H.$$arity=0),t.alias($t,"getutc","getgm"),t.def($t,"$gmtime",G=function(){return this.is_utc=!0,this},G.$$arity=0),t.alias($t,"utc","gmtime"),t.def($t,"$gmt?",Y=function(){return!0===this.is_utc},Y.$$arity=0),t.def($t,"$gmt_offset",W=function(){return 60*-this.getTimezoneOffset()},W.$$arity=0),t.def($t,"$strftime",X=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,$){var a="",o=-1!==r.indexOf("0"),s=-1===r.indexOf("-"),l=-1!==r.indexOf("_"),u=-1!==r.indexOf("^"),c=-1!==r.indexOf("#"),_=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&l&&(r.indexOf("0")<r.indexOf("_")?o=!1:l=!1),$){case"Y":a+=e.$year();break;case"C":o=!l,a+=Math.round(e.$year()/100);break;case"y":o=!l,a+=e.$year()%100;break;case"m":o=!l,a+=e.$mon();break;case"B":a+=ut[e.$mon()-1];break;case"b":case"h":l=!o,a+=lt[e.$mon()-1];break;case"d":o=!l,a+=e.$day();break;case"e":l=!o,a+=e.$day();break;case"j":a+=e.$yday();break;case"H":o=!l,a+=e.$hour();break;case"k":l=!o,a+=e.$hour();break;case"I":o=!l,a+=e.$hour()%12||12;break;case"l":l=!o,a+=e.$hour()%12||12;break;case"P":a+=e.$hour()>=12?"pm":"am";break;case"p":a+=e.$hour()>=12?"PM":"AM";break;case"M":o=!l,a+=e.$min();break;case"S":o=!l,a+=e.$sec();break;case"L":o=!l,n=isNaN(n)?3:n,a+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,a=(a+=e.getMilliseconds().toString().$rjust(3,"0")).$ljust(n,"0");break;case"z":var h=e.getTimezoneOffset(),d=Math.floor(Math.abs(h)/60),p=Math.abs(h)%60;a+=h<0?"+":"-",a+=d<10?"0":"",a+=d,_>0&&(a+=":"),a+=p<10?"0":"",a+=p,_>1&&(a+=":00");break;case"Z":a+=e.$zone();break;case"A":a+=ot[e.$wday()];break;case"a":a+=st[e.$wday()];break;case"u":a+=e.$wday()+1;break;case"w":a+=e.$wday();break;case"V":a+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":a+=e.$cweek_cyear()["$[]"](1);break;case"g":a+=e.$cweek_cyear()["$[]"](1)["$[]"](f(-2,-1,!1));break;case"s":a+=e.$to_i();break;case"n":a+="\n";break;case"t":a+="\t";break;case"%":a+="%";break;case"c":a+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":a+=e.$strftime("%m/%d/%y");break;case"F":a+=e.$strftime("%Y-%m-%d");break;case"v":a+=e.$strftime("%e-%^b-%4Y");break;case"r":a+=e.$strftime("%I:%M:%S %p");break;case"R":a+=e.$strftime("%H:%M");break;case"T":case"X":a+=e.$strftime("%H:%M:%S");break;default:return t}return u&&(a=a.toUpperCase()),c&&(a=a.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||l)&&(a=a.$rjust(isNaN(n)?2:n,l?" ":"0")),a})},X.$$arity=1),t.def($t,"$sunday?",K=function(){return 0==this.$wday()},K.$$arity=0),t.def($t,"$thursday?",V=function(){return 4==this.$wday()},V.$$arity=0),t.def($t,"$to_a",J=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},J.$$arity=0),t.def($t,"$to_f",Z=function(){return this.getTime()/1e3},Z.$$arity=0),t.def($t,"$to_i",Q=function(){return parseInt(this.getTime()/1e3,10)},Q.$$arity=0),t.alias($t,"to_s","inspect"),t.def($t,"$tuesday?",tt=function(){return 2==this.$wday()},tt.$$arity=0),t.alias($t,"tv_sec","to_i"),t.alias($t,"tv_usec","usec"),t.alias($t,"utc?","gmt?"),t.alias($t,"gmtoff","gmt_offset"),t.alias($t,"utc_offset","gmt_offset"),t.def($t,"$wday",et=function(){return this.is_utc?this.getUTCDay():this.getDay()},et.$$arity=0),t.def($t,"$wednesday?",rt=function(){return 3==this.$wday()},rt.$$arity=0),t.def($t,"$year",nt=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},nt.$$arity=0),t.def($t,"$cweek_cyear",it=function(){var t,$=o,a=o,l=o,u=o,f=o;return $=s(at,"Time").$new(this.$year(),1,1).$wday(),a=this.$year(),c(c(t=i($,4))?$["$!="](0):t)?l=n($,1):(l=n(n($,7),1))["$=="](-8)&&(l=-1),u=r(e(this.$yday(),l),7).$ceil(),c(i(u,0))?s(at,"Time").$new(n(this.$year(),1),12,31).$cweek_cyear():(u["$=="](53)&&(f=s(at,"Time").$new(this.$year(),12,31).$wday(),c(c(t=i(f,3))?f["$!="](0):t)&&(u=1,a=e(a,1))),[u,a])},it.$$arity=0),o&&"cweek_cyear"}(0,Date,a)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,o=[],s=t.nil,l=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.send,_=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),a.$require("corelib/enumerable"),function(a,h,d){function p(){}var y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P=p=u(o[0],null,"Struct",p),B=(P.$$proto,[P].concat(d));return P.$include(l(B,"Enumerable")),t.defs(P,"$new",y=function(e,r,n){var i,$,a,o,u,h=y.$$p,d=h||s,p=s;if(a=t.slice.call(arguments,1,arguments.length),null==(n=t.extract_kwargs(a))||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=_([],{})}if(null==(o=n.$$smap.keyword_init)&&(o=!1),u=0<a.length?a.splice(0,a.length-0):[],h&&(y.$$p=null),c(e))try{e=l(B,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[l(B,"TypeError"),l(B,"NameError")]))throw r;try{u.$unshift(e),e=s}finally{t.pop_exception()}}return f(u,"map",[],((i=function(t){return i.$$s,null==t&&(t=s),l(B,"Opal")["$coerce_to!"](t,l(B,"String"),"to_str")}).$$s=this,i.$$arity=1,i)),p=f(l(B,"Class"),"new",[this],(($=function(){var e,r=$.$$s||this;return f(u,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)}).$$s=r,e.$$arity=1,e)),function(e,r){var n;return e.$$proto,[e].concat(r),t.def(e,"$new",n=function e(r){var n,e=s,i=arguments.length,$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];return(e=this.$allocate()).$$data={},f(e,"initialize",t.to_a(n)),e},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),B)}).$$s=this,$.$$arity=0,$)),c(d)&&f(p,"module_eval",[],d.$to_proc()),p.$$keyword_init=o,c(e)&&l(B,"Struct").$const_set(e,p),p},y.$$arity=-2),t.defs(P,"$define_struct_attribute",m=function(t){var e,r;return this["$=="](l(B,"Struct"))&&this.$raise(l(B,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),f(this,"define_method",[t],((e=function(){return(e.$$s||this).$$data[t]}).$$s=this,e.$$arity=0,e)),f(this,"define_method",[t+"="],((r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e}).$$s=this,r.$$arity=1,r))},m.$$arity=1),t.defs(P,"$members",g=function(){var t;return null==this.members&&(this.members=s),this["$=="](l(B,"Struct"))&&this.$raise(l(B,"ArgumentError"),"the Struct class has no members"),this.members=c(t=this.members)?t:[]},g.$$arity=0),t.defs(P,"$inherited",v=function(t){var e,r;return null==this.members&&(this.members=s),r=this.members,f(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=this,e.$$arity=0,e))},v.$$arity=1),t.def(P,"$initialize",b=function(n){var i,$,a,o,u=this,h=s,d=s,p=arguments.length,y=p-0;y<0&&(y=0),o=new Array(y);for(var m=0;m<p;m++)o[m-0]=arguments[m];return c(u.$class().$$keyword_init)?(h=c(i=o.$last())?i:_([],{}),c(c(i=e(o.$length(),1))?i:1===o.length&&!h.$$is_hash)&&u.$raise(l(B,"ArgumentError"),"wrong number of arguments (given "+o.$length()+", expected 0)"),d=r(h.$keys(),u.$class().$members()),c(d["$any?"]())&&u.$raise(l(B,"ArgumentError"),"unknown keywords: "+d.$join(", ")),f(u.$class().$members(),"each",[],(($=function(e){var n,i=$.$$s||this;return null==e&&(e=s),n=[e,h["$[]"](e)],f(i,"[]=",t.to_a(n)),n[r(n.length,1)]}).$$s=u,$.$$arity=1,$))):(c(e(o.$length(),u.$class().$members().$length()))&&u.$raise(l(B,"ArgumentError"),"struct size differs"),f(u.$class().$members(),"each_with_index",[],((a=function(e,n){var i,$=a.$$s||this;return null==e&&(e=s),null==n&&(n=s),i=[e,o["$[]"](n)],f($,"[]=",t.to_a(i)),i[r(i.length,1)]}).$$s=u,a.$$arity=2,a)))},b.$$arity=-1),t.def(P,"$members",w=function(){return this.$class().$members()},w.$$arity=0),t.def(P,"$hash",E=function(){return l(B,"Hash").$new(this.$$data).$hash()},E.$$arity=0),t.def(P,"$[]",k=function(t){var e=this;return c(l(B,"Integer")["$==="](t))?(c(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(l(B,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),c(i(t,e.$class().$members().$size()))&&e.$raise(l(B,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):c(l(B,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(l(B,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(l(B,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(B,"Opal")["$coerce_to!"](t,l(B,"String"),"to_str"),e.$$data[t]},k.$$arity=1),t.def(P,"$[]=",x=function(t,e){var r=this;return c(l(B,"Integer")["$==="](t))?(c(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(l(B,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),c(i(t,r.$class().$members().$size()))&&r.$raise(l(B,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):c(l(B,"String")["$==="](t))?c(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(l(B,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(l(B,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(B,"Opal")["$coerce_to!"](t,l(B,"String"),"to_str"),r.$$data[t]=e},x.$$arity=2),t.def(P,"$==",A=function(t){if(!c(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var $,a,o;for($ in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(a=n.$$data[$],o=i.$$data[$],l(B,"Struct")["$==="](a)){if(!(e.hasOwnProperty(a.$__id__())&&r.hasOwnProperty(o.$__id__())||t(a,o)))return!1}else if(!a["$=="](o))return!1;return!0}(this,t)},A.$$arity=1),t.def(P,"$eql?",O=function(t){if(!c(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var $,a,o;for($ in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(a=n.$$data[$],o=i.$$data[$],l(B,"Struct")["$==="](a)){if(!(e.hasOwnProperty(a.$__id__())&&r.hasOwnProperty(o.$__id__())||t(a,o)))return!1}else if(!a["$eql?"](o))return!1;return!0}(this,t)},O.$$arity=1),t.def(P,"$each",M=function(){var e,r,n=M.$$p,i=n||s;return n&&(M.$$p=null),i===s?f(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(f(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(i,n["$[]"](e))}).$$s=this,r.$$arity=1,r)),this)},M.$$arity=0),t.def(P,"$each_pair",S=function(){var e,r,n=S.$$p,i=n||s;return n&&(S.$$p=null),i===s?f(this,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(f(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(i,[e,n["$[]"](e)])}).$$s=this,r.$$arity=1,r)),this)},S.$$arity=0),t.def(P,"$length",T=function(){return this.$class().$members().$length()},T.$$arity=0),t.alias(P,"size","length"),t.def(P,"$to_a",R=function(){var t;return f(this.$class().$members(),"map",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)}).$$s=this,t.$$arity=1,t))},R.$$arity=0),t.alias(P,"values","to_a"),t.def(P,"$inspect",I=function(){var t,e,r=s;return r="#<struct ",c(c(t=l(B,"Struct")["$==="](this))?this.$class().$name():t)&&(r=$(r,this.$class()+" ")),r=$(r=$(r,f(this.$each_pair(),"map",[],(e=function(t,r){return e.$$s,null==t&&(t=s),null==r&&(r=s),t+"="+r.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", ")),">")},I.$$arity=0),t.alias(P,"to_s","inspect"),t.def(P,"$to_h",C=function(){var e;return f(this.$class().$members(),"each_with_object",[_([],{})],((e=function(n,i){var $,a=e.$$s||this;return null==n&&(n=s),null==i&&(i=s),$=[n,a["$[]"](n)],f(i,"[]=",t.to_a($)),$[r($.length,1)]}).$$s=this,e.$$arity=2,e))},C.$$arity=0),t.def(P,"$values_at",N=function(t){var e,r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];for(var a=[],o=0,u=(r=f(r,"map",[],(e=function(t){return e.$$s,null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=this,e.$$arity=1,e)).$flatten()).length;o<u;o++)r[o].$$is_number||this.$raise(l(B,"TypeError"),"no implicit conversion of "+r[o].$class()+" into Integer"),a.push(this["$[]"](r[o]));return a},N.$$arity=-1),t.def(P,"$dig",z=function(e,r){var n,i=this,$=s,a=arguments.length,o=a-1;o<0&&(o=0),n=new Array(o);for(var u=1;u<a;u++)n[u-1]=arguments[u];return($=c(e.$$is_string&&i.$$data.hasOwnProperty(e))&&i.$$data[e]||s)===s||0===n.length?$:(c($["$respond_to?"]("dig"))||i.$raise(l(B,"TypeError"),$.$class()+" does not have #dig method"),f($,"dig",t.to_a(n)))},z.$$arity=-2),s&&"dig"}(0,0,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.klass),o=t.module,s=t.send,l=t.gvars,u=t.truthy,c=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,i,c){function f(){}var _,h,d,p,y,m,g,v,b,w,E,k,x=f=a(r[0],null,"IO",f),A=x.$$proto,O=[x].concat(c);A.tty=A.closed=n,t.const_set(O[0],"SEEK_SET",0),t.const_set(O[0],"SEEK_CUR",1),t.const_set(O[0],"SEEK_END",2),t.def(x,"$tty?",_=function(){return this.tty},_.$$arity=0),t.def(x,"$closed?",h=function(){return this.closed},h.$$arity=0),x.$attr_accessor("write_proc"),t.def(x,"$write",d=function(t){return this.write_proc(t),t.$size()},d.$$arity=1),x.$attr_accessor("sync","tty"),t.def(x,"$flush",p=function(){return n},p.$$arity=0),function(e,r){var i,$,a,c=o(e,"Writable");c.$$proto,[c].concat(r),t.def(c,"$<<",i=function(t){return this.$write(t),this},i.$$arity=1),t.def(c,"$print",$=function t(e){var r,i;null==l[","]&&(l[","]=n);var $=arguments.length,t=$-0;t<0&&(t=0),i=new Array(t);for(var a=0;a<$;a++)i[a-0]=arguments[a];return this.$write(s(i,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$String(t)},r.$$s=this,r.$$arity=1,r)).$join(l[","])),n},$.$$arity=-1),t.def(c,"$puts",a=function t(e){var r,i,$;null==l["/"]&&(l["/"]=n);var a=arguments.length,t=a-0;t<0&&(t=0),i=new Array(t);for(var o=0;o<a;o++)i[o-0]=arguments[o];return $=l["/"],u(i["$empty?"]())?this.$write(l["/"]):this.$write(s(i,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$String(t).$chomp()},r.$$s=this,r.$$arity=1,r)).$concat([n]).$join($)),n},a.$$arity=-1)}(O[0],O),y=O[0],m=O,(E=o(y,"Readable")).$$proto,k=[E].concat(m),t.def(E,"$readbyte",g=function(){return this.$getbyte()},g.$$arity=0),t.def(E,"$readchar",v=function(){return this.$getc()},v.$$arity=0),t.def(E,"$readline",b=function(t){return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),this.$raise($(k,"NotImplementedError"))},b.$$arity=-1),t.def(E,"$readpartial",w=function(t,e){return null==e&&(e=n),this.$raise($(k,"NotImplementedError"))},w.$$arity=-2)}(0,0,r),t.const_set(r[0],"STDERR",l.stderr=$(r,"IO").$new()),t.const_set(r[0],"STDIN",l.stdin=$(r,"IO").$new()),t.const_set(r[0],"STDOUT",l.stdout=$(r,"IO").$new());var f=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){f.log(t)}],s($(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){f.warn(t)}],s($(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],$(r,"STDOUT").$extend(i($(r,"IO"),"Writable")),$(r,"STDERR").$extend(i($(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return a(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$[]"]),function(a,o,s){function l(){}var u=l=i(e[0],null,"Dir",l),c=(u.$$proto,[u].concat(s));return function(e,i){e.$$proto;var a,o,s,l=[e].concat(i);return t.def(e,"$chdir",a=function(e){var n=a.$$p,i=n||r,$=r;return n&&(a.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},a.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return $(t=n(l,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(u),c)}(0,0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.truthy,o=t.range,s=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(r,l,u){function c(){}var f=c=$(r,l,"File",c),_=(f.$$proto,[f].concat(u)),h=n;return t.const_set(_[0],"Separator",t.const_set(_[0],"SEPARATOR","/")),t.const_set(_[0],"ALT_SEPARATOR",n),t.const_set(_[0],"PATH_SEPARATOR",":"),t.const_set(_[0],"FNM_SYSCASE",0),h=/^[a-zA-Z]:(?:\\|\/)/,function(r,$){function l(t){return a(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(v,"Opal")["$coerce_to!"](t,i(v,"String"),"to_str")}function u(){return i(v,"ALT_SEPARATOR")===n?t.escape_regexp(i(v,"SEPARATOR")):t.escape_regexp(e(i(v,"SEPARATOR"),i(v,"ALT_SEPARATOR")))}r.$$proto;var c,f,_,d,p,y,m,g,v=[r].concat($);return t.def(r,"$expand_path",c=function t(r,$){var o,s,l,t,c,f,_=n,d=n,p=n,y=n,m=n,g=n,b=n;null==$&&($=n),s=i(v,"SEPARATOR"),l=u(),_=[],a("~"===r[0]||$&&"~"===$[0])&&(d=i(v,"Dir").$home(),a(d)||this.$raise(i(v,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),a(d["$start_with?"](s))||this.$raise(i(v,"ArgumentError"),"non-absolute home"),d=e(d,s),p=new RegExp("^\\~(?:"+s+"|$)"),r=r.$sub(p,d),a($)&&($=$.$sub(p,d))),$=a(o=$)?o:i(v,"Dir").$pwd(),t=r.substr(0,s.length)===s||h.test(r),c=$.substr(0,s.length)===s||h.test($),a(t)?(y=r.$split(new RegExp("["+l+"]")),m=h.test(r)?"":r.$sub(new RegExp("^(["+l+"]+).*$"),"\\1"),g=!0):(y=e($.$split(new RegExp("["+l+"]")),r.$split(new RegExp("["+l+"]"))),m=h.test($)?"":$.$sub(new RegExp("^(["+l+"]+).*$"),"\\1"),g=c);for(var w=0,E=y.length;w<E;w++)(f=y[w])===n||""===f&&(0===_.length||g)||"."===f&&(0===_.length||g)||(".."===f?_.pop():_.push(f));return g||"."===y[0]||_.$unshift("."),b=_.$join(s),a(g)&&(b=e(m,b)),b},c.$$arity=-2),t.alias(r,"realpath","expand_path"),t.def(r,"$dirname",f=function(t){var e;e=u();var r=(t=l(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},f.$$arity=1),t.def(r,"$basename",_=function(e,r){var $;return null==r&&(r=n),$=u(),0==(e=l(e)).length?e:(r=r!==n?i(v,"Opal")["$coerce_to!"](r,i(v,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+$+"]*$"),"$1")).replace(new RegExp("^(?:.*["+$+"])?([^"+$+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(r+"$"),"")),e)},_.$$arity=-2),t.def(r,"$extname",d=function(r){var i,$,s,u=n,c=n;return r=l(r),u=this.$basename(r),a(u["$empty?"]())?"":(c=u["$[]"](o(1,-1,!1)).$rindex("."),a(a(i=c["$nil?"]())?i:e(c,1)["$=="](($=u.$length(),s=1,"number"==typeof $&&"number"==typeof s?$-s:$["$-"](s))))?"":u["$[]"](t.Range.$new(e(c,1),-1,!1)))},d.$$arity=1),t.def(r,"$exist?",p=function(e){return null!=t.modules[e]},p.$$arity=1),t.alias(r,"exists?","exist?"),t.def(r,"$directory?",y=function(e){var r,$=n;for(var a in $=[],t.modules)$.push(a);return e=e.$gsub(new RegExp("(^."+i(v,"SEPARATOR")+"+|"+i(v,"SEPARATOR")+"+$)")),s($,"find",[],((r=function(t){return r.$$s,null==t&&(t=n),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},y.$$arity=1),t.def(r,"$join",m=function(t){var r,$,o,l=n,u=arguments.length,c=u-0;c<0&&(c=0),o=new Array(c);for(var f=0;f<u;f++)o[f-0]=arguments[f];return a(o["$empty?"]())?"":(l="",o=s(o.$flatten().$each_with_index(),"map",[],((r=function(t,$){return r.$$s,null==t&&(t=n),null==$&&($=n),a($["$=="](0)?t["$empty?"]():$["$=="](0))?i(v,"SEPARATOR"):a(o.$length()["$=="](e($,1))?t["$empty?"]():o.$length()["$=="](e($,1)))?i(v,"SEPARATOR"):t}).$$s=this,r.$$arity=2,r)),o=s(o,"reject",[],"empty?".$to_proc()),s(o,"each_with_index",[],(($=function(t,r){$.$$s;var s,u=n;return null==t&&(t=n),null==r&&(r=n),u=o["$[]"](e(r,1)),a(u["$nil?"]())?l=""+l+t:(a(a(s=t["$end_with?"](i(v,"SEPARATOR")))?u["$start_with?"](i(v,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(i(v,"SEPARATOR")+"+$"),"")),l=a(a(s=t["$end_with?"](i(v,"SEPARATOR")))?s:u["$start_with?"](i(v,"SEPARATOR")))?""+l+t:""+l+t+i(v,"SEPARATOR"))}).$$s=this,$.$$arity=2,$)),l)},m.$$arity=-1),t.def(r,"$split",g=function(t){return t.$split(i(v,"SEPARATOR"))},g.$$arity=1),n&&"split"}(t.get_singleton_class(f),_)}(r[0],i(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(o,s,l){function u(){}var c,f,_,h,d=u=$(e[0],null,"Process",u),p=(d.$$proto,[d].concat(l)),y=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",c=function(t,e){return null==this.__clocks__&&(this.__clocks__=r),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},c.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),y=!1,t.global.performance)y=function(){return performance.now()};else if(t.global.process&&process.hrtime){var m=process.hrtime();y=function(){var t=process.hrtime(m),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}a(y)&&d.$__register_clock__("CLOCK_MONOTONIC",y),t.defs(d,"$pid",f=function(){return 0},f.$$arity=0),t.defs(d,"$times",_=function(){var t;return t=i(p,"Time").$now().$to_f(),n(i(p,"Benchmark"),"Tms").$new(t,t,t,t,t)},_.$$arity=0),t.defs(d,"$clock_gettime",h=function(t,e){var $=r;null==this.__clocks__&&(this.__clocks__=r),null==e&&(e="float_second"),a($=this.__clocks__["$[]"](t))||this.$raise(n(i(p,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var o=$();switch(e){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:this.$raise(i(p,"ArgumentError"),"unexpected unit: "+e)}},h.$$arity=-2)}(0,0,e),function(n,i,a){function o(){}var s,l=o=$(e[0],null,"Signal",o);l.$$proto,[l].concat(a),t.defs(l,"$trap",s=function(t){return r},s.$$arity=-1)}(0,0,e),function(n,i,a){function o(){}var s,l=o=$(e[0],null,"GC",o);return l.$$proto,[l].concat(a),t.defs(l,"$start",s=function(){return r},s.$$arity=0),r&&"start"}(0,0,e)},Opal.modules["corelib/random/seedrandom"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass);return function(t,n,i){function $(){}var a=$=r(e[0],null,"Random",$);a.$$proto,[a].concat(i),!function(t,e){function r(r,d,p){var y=[],m=i(function t(e,r){var n,i=[],$=typeof e;if(r&&"object"==$)for(n in e)if(e.hasOwnProperty(n))try{i.push(t(e[n],r-1))}catch(t){}return i.length?i:"string"==$?e:e+"\0"}((d=1==d?{entropy:!0}:d||{}).entropy?[r,$(t)]:null==r?function(){try{if(a)return $(a.randomBytes(s));var e=new Uint8Array(s);return(o.crypto||o.msCrypto).getRandomValues(e),$(e)}catch(e){var r=o.navigator,n=r&&r.plugins;return[+new Date,o,n,o.screen,$(t)]}}():r,3),y),g=new function(t){var e,r=t.length,n=this,i=0,$=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<s;)a[i]=i++;for(i=0;i<s;i++)a[i]=a[$=h&$+t[i%r]+(e=a[i])],a[$]=e;(n.g=function(t){for(var e,r=0,i=n.i,$=n.j,a=n.S;t--;)e=a[i=h&i+1],r=r*s+a[h&(a[i]=a[$=h&$+e])+(a[$]=e)];return n.i=i,n.j=$,r})(s)}(y),v=function(){for(var t=g.g(l),e=c,r=0;t<f;)t=(t+r)*s,e*=s,r=g.g(1);for(;t>=_;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,i($(g.S),t),(d.pass||p||function(t,r,i,$){return $&&($.S&&n($,g),t.state=function(){return n(g,{})}),i?(e[u]=t,r):t})(v,m,"global"in d?d.global:this==e,d.state)}function n(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function i(t,e){for(var r,n=t+"",i=0;i<n.length;)e[h&i]=h&(r^=19*e[h&i])+n.charCodeAt(i++);return $(e)}function $(t){return String.fromCharCode.apply(0,t)}var a,o=this,s=256,l=6,u="random",c=e.pow(s,l),f=e.pow(2,52),_=2*f,h=s-1;if(e["seed"+u]=r,i(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{a=__webpack_require__(230)}catch(t){}}else __webpack_require__(220)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}([],Math)}(0,0,e)},Opal.modules["corelib/random"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.truthy,o=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),e.$require("corelib/random/seedrandom.js"),function(e,s,l){function u(){}var c,f,_,h,d,p,y,m,g,v=u=$(r[0],null,"Random",u),b=(v.$$proto,[v].concat(l));v.$attr_reader("seed","state"),t.def(v,"$initialize",c=function(t){return null==t&&(t=i(b,"Random").$new_seed()),t=i(b,"Opal")["$coerce_to!"](t,i(b,"Integer"),"to_int"),this.state=t,this.$reseed(t)},c.$$arity=-1),t.def(v,"$reseed",f=function(t){return this.seed=t,this.$rng=new Math.seedrandom(t)},f.$$arity=1);var w=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",_=function(){return Math.abs(w.int32())},_.$$arity=0),t.defs(v,"$rand",h=function(t){return i(b,"DEFAULT").$rand(t)},h.$$arity=-1),t.defs(v,"$srand",d=function(t){var e;return null==t&&(t=i(b,"Random").$new_seed()),t=i(b,"Opal")["$coerce_to!"](t,i(b,"Integer"),"to_int"),e=i(b,"DEFAULT").$seed(),i(b,"DEFAULT").$reseed(t),e},d.$$arity=-1),t.defs(v,"$urandom",p=function(t){var e,r,n;return t=i(b,"Opal")["$coerce_to!"](t,i(b,"Integer"),"to_int"),a((n=0,"number"==typeof(r=t)&&"number"==typeof n?r<n:r["$<"](n)))&&this.$raise(i(b,"ArgumentError"),"negative string size (or size too big)"),o(i(b,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},p.$$arity=1),t.const_set(b[0],"DEFAULT",v.$new(v.$new_seed())),t.def(v,"$==",y=function(t){return!!a(i(b,"Random")["$==="](t))&&(this.$seed()["$=="](t.$seed())?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},y.$$arity=1),t.def(v,"$bytes",m=function(t){var e;return t=i(b,"Opal")["$coerce_to!"](t,i(b,"Integer"),"to_int"),o(i(b,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(v,"$rand",g=function(t){function e(){return $.state++,$.$rng.quick()}function r(){return Math.floor(e()*t)}var $=this;return null==t?e():t.$$is_range?function(){var e=t.begin,r=t.end;if(e===n||r===n)return n;var i=r-e;return i<0?n:0===i?e:(r%1!=0||e%1!=0||t.excl||i++,$.$rand(i)+e)}():t.$$is_number?(t<=0&&$.$raise(i(b,"ArgumentError"),"invalid argument - "+t),t%1==0?r():e()*t):((t=i(b,"Opal")["$coerce_to!"](t,i(b,"Integer"),"to_int"))<=0&&$.$raise(i(b,"ArgumentError"),"invalid argument - "+t),r())},g.$$arity=-1),n&&"rand"}(0,0,r)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":o($,"Kernel").$raise(o($,"NotImplementedError"),e);break;case"warning":!function(t){M[t]||(M[t]=!0,i.$warn(t))}(e)}}var r,n,i=t.top,$=[],a=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M={};return function(e,r,n){function i(){}var $,a,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A=i=s(e,null,"String",i),O=(A.$$proto,[A].concat(n)),M="String#%s not supported. Mutable String methods are not supported in Opal.";t.def(A,"$<<",$=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("<<"))},$.$$arity=-1),t.def(A,"$capitalize!",a=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("capitalize!"))},a.$$arity=-1),t.def(A,"$chomp!",l=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("chomp!"))},l.$$arity=-1),t.def(A,"$chop!",u=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("chop!"))},u.$$arity=-1),t.def(A,"$downcase!",c=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("downcase!"))},c.$$arity=-1),t.def(A,"$gsub!",f=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("gsub!"))},f.$$arity=-1),t.def(A,"$lstrip!",_=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("lstrip!"))},_.$$arity=-1),t.def(A,"$next!",h=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("next!"))},h.$$arity=-1),t.def(A,"$reverse!",d=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("reverse!"))},d.$$arity=-1),t.def(A,"$slice!",p=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("slice!"))},p.$$arity=-1),t.def(A,"$squeeze!",y=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("squeeze!"))},y.$$arity=-1),t.def(A,"$strip!",m=function(t){
return this.$raise(o(O,"NotImplementedError"),M["$%"]("strip!"))},m.$$arity=-1),t.def(A,"$sub!",g=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("sub!"))},g.$$arity=-1),t.def(A,"$succ!",v=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("succ!"))},v.$$arity=-1),t.def(A,"$swapcase!",b=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("swapcase!"))},b.$$arity=-1),t.def(A,"$tr!",w=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("tr!"))},w.$$arity=-1),t.def(A,"$tr_s!",E=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("tr_s!"))},E.$$arity=-1),t.def(A,"$upcase!",k=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("upcase!"))},k.$$arity=-1),t.def(A,"$prepend",x=function(t){return this.$raise(o(O,"NotImplementedError"),M["$%"]("prepend"))},x.$$arity=-1)}($[0],0,$),u=$[0],c=$,(h=l(u,"Kernel")).$$proto,[h].concat(c),d="Object freezing is not supported by Opal",t.def(h,"$freeze",f=function(){return e(d),this},f.$$arity=0),t.def(h,"$frozen?",_=function(){return e(d),!1},_.$$arity=0),p=$[0],y=$,(b=l(p,"Kernel")).$$proto,[b].concat(y),w="Object tainting is not supported by Opal",t.def(b,"$taint",m=function(){return e(w),this},m.$$arity=0),t.def(b,"$untaint",g=function(){return e(w),this},g.$$arity=0),t.def(b,"$tainted?",v=function(){return e(w),!1},v.$$arity=0),function(e,r,n){function i(){}var $,o,l,u,c=i=s(e,null,"Module",i);c.$$proto,[c].concat(n),t.def(c,"$public",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return 0===e.length&&(this.$$module_function=!1),a},$.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",o=function(t){return this},o.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",l=function(t){return!1},l.$$arity=1),t.def(c,"$private_constant",u=function(t){return a},u.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_method_defined?","method_defined?")}($[0],0,$),function(e,r){var n,i=l(e,"Kernel");i.$$proto,[i].concat(r),t.def(i,"$private_methods",n=function(t){return[]},n.$$arity=-1),t.alias(i,"private_instance_methods","private_methods")}($[0],$),E=$[0],k=$,(A=l(E,"Kernel")).$$proto,O=[A].concat(k),t.def(A,"$eval",x=function(t){return this.$raise(o(O,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+o(O,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},x.$$arity=-1),t.defs(i,"$public",r=function(t){return a},r.$$arity=-1),t.defs(i,"$private",n=function(t){return a},n.$$arity=-1),a&&"private"},Opal.modules.opal=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:(__WEBPACK_AMD_DEFINE_ARRAY__=[module],__WEBPACK_AMD_DEFINE_RESULT__=function(t){return e(t.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(void 0,function(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass);return t.add_stubs(["$new"]),function($,a,o){function s(){}var l,u=s=i(e[0],null,"File",s),c=(u.$$proto,[u].concat(o));return t.defs(u,"$read",l=function(t){var e="",r=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.addEventListener("load",function(){0!==(r=this.status)&&200!==r||(e=this.responseText)}),i.overrideMimeType("text/plain"),i.send()}catch(e){throw n(c,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===r||0===r&&!e)throw n(c,"IOError").$new("No such file or directory: "+t);return e},l.$$arity=1),r&&"read"}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var r,n,i,$,a=e.top,o=[];if(e.nil,e.const_get_qualified,e.const_get_relative,e.breaker,e.slice,e.add_stubs(["$require"]),"object"==typeof t&&"object"==typeof t.runtime){var s=t.runtime;r=s.platform,n=s.engine,i=s.framework,$=s.ioModule}return $=$||"xmlhttprequest",r=r||"browser",n=n||"",i=i||"",e.const_set(o[0],"JAVASCRIPT_IO_MODULE",$),e.const_set(o[0],"JAVASCRIPT_PLATFORM",r),e.const_set(o[0],"JAVASCRIPT_ENGINE",n),e.const_set(o[0],"JAVASCRIPT_FRAMEWORK",i),a.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i,$,a,o,s=[],l=t.nil,u=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice,t.klass),f=t.hash2,_=t.truthy,h=t.send,d=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,$,a){function o(){}var d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U=o=c(s[0],null,"Set",o),H=U.$$proto,G=[U].concat(a);H.hash=l,U.$include(u(G,"Enumerable")),t.defs(U,"$[]",d=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$new(e)},d.$$arity=-1),t.def(U,"$initialize",p=function(e){var r,n=p.$$p,i=n||l;return null==e&&(e=l),n&&(p.$$p=null),this.hash=f([],{}),_(e["$nil?"]())?l:(_(u(G,"Enumerable")["$==="](e))||this.$raise(u(G,"ArgumentError"),"value must be enumerable"),_(i)?h(e,"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=l),n.$add(t.yield1(i,e))}).$$s=this,r.$$arity=1,r)):this.$merge(e))},p.$$arity=-1),t.def(U,"$dup",y=function(){return this.$class().$new().$merge(this)},y.$$arity=0),t.def(U,"$-",m=function(t){return _(t["$respond_to?"]("each"))||this.$raise(u(G,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},m.$$arity=1),t.alias(U,"difference","-"),t.def(U,"$inspect",g=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},g.$$arity=0),t.def(U,"$==",v=function(t){var e,r;return!!_(this["$equal?"](t))||(_(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!_(_(e=t["$is_a?"](u(G,"Set")))?this.$size()["$=="](t.$size()):e)&&h(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=l),null==t&&(t=l),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},v.$$arity=1),t.def(U,"$add",b=function(r){var n;return n=[r,!0],h(this.hash,"[]=",t.to_a(n)),e(n.length,1),this},b.$$arity=1),t.alias(U,"<<","add"),t.def(U,"$classify",w=function(){var r,n,i=w.$$p,$=i||l,a=l;return i&&(w.$$p=null),$===l?this.$enum_for("classify"):(a=h(u(G,"Hash"),"new",[],((r=function(n,i){var $,a=r.$$s||this;return null==n&&(n=l),null==i&&(i=l),$=[i,a.$class().$new()],h(n,"[]=",t.to_a($)),$[e($.length,1)]}).$$s=this,r.$$arity=2,r)),h(this,"each",[],((n=function(e){return n.$$s,null==e&&(e=l),a["$[]"](t.yield1($,e)).$add(e)}).$$s=this,n.$$arity=1,n)),a)},w.$$arity=0),t.def(U,"$collect!",E=function(){var e,r=E.$$p,n=r||l,i=l;return r&&(E.$$p=null),n===l?this.$enum_for("collect!"):(i=this.$class().$new(),h(this,"each",[],((e=function(r){return e.$$s,null==r&&(r=l),i["$<<"](t.yield1(n,r))}).$$s=this,e.$$arity=1,e)),this.$replace(i))},E.$$arity=0),t.alias(U,"map!","collect!"),t.def(U,"$delete",k=function(t){return this.hash.$delete(t),this},k.$$arity=1),t.def(U,"$delete?",x=function(t){return _(this["$include?"](t))?(this.$delete(t),this):l},x.$$arity=1),t.def(U,"$delete_if",A=function(){var e,r,n=A.$$p,i=n||l;return n&&(A.$$p=null),i===l?this.$enum_for("delete_if"):(h(h(this,"select",[],((e=function(r){return e.$$s,null==r&&(r=l),t.yield1(i,r)}).$$s=this,e.$$arity=1,e)),"each",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=l),null==t&&(t=l),e.hash.$delete(t)}).$$s=this,r.$$arity=1,r)),this)},A.$$arity=0),t.def(U,"$add?",O=function(t){return _(this["$include?"](t))?l:this.$add(t)},O.$$arity=1),t.def(U,"$each",M=function(){var t=M.$$p,e=t||l;return t&&(M.$$p=null),e===l?this.$enum_for("each"):(h(this.hash,"each_key",[],e.$to_proc()),this)},M.$$arity=0),t.def(U,"$empty?",S=function(){return this.hash["$empty?"]()},S.$$arity=0),t.def(U,"$eql?",T=function(t){var e;return this.hash["$eql?"](h(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=l),t.hash}).$$s=this,e.$$arity=0,e)))},T.$$arity=1),t.def(U,"$clear",R=function(){return this.hash.$clear(),this},R.$$arity=0),t.def(U,"$include?",I=function(t){return this.hash["$include?"](t)},I.$$arity=1),t.alias(U,"member?","include?"),t.def(U,"$merge",C=function(t){var e;return h(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=l),r.$add(t)}).$$s=this,e.$$arity=1,e)),this},C.$$arity=1),t.def(U,"$replace",N=function(t){return this.$clear(),this.$merge(t),this},N.$$arity=1),t.def(U,"$size",z=function(){return this.hash.$size()},z.$$arity=0),t.alias(U,"length","size"),t.def(U,"$subtract",P=function(t){var e;return h(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=l),r.$delete(t)}).$$s=this,e.$$arity=1,e)),this},P.$$arity=1),t.def(U,"$|",B=function(t){return _(t["$respond_to?"]("each"))||this.$raise(u(G,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},B.$$arity=1),t.def(U,"$superset?",q=function(t){var e;return _(t["$is_a?"](u(G,"Set")))||this.$raise(u(G,"ArgumentError"),"value must be a set"),!_(r(this.$size(),t.$size()))&&h(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=l),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},q.$$arity=1),t.alias(U,">=","superset?"),t.def(U,"$proper_superset?",D=function(t){var e;return _(t["$is_a?"](u(G,"Set")))||this.$raise(u(G,"ArgumentError"),"value must be a set"),!_(n(this.$size(),t.$size()))&&h(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=l),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},D.$$arity=1),t.alias(U,">","proper_superset?"),t.def(U,"$subset?",L=function(t){var e;return _(t["$is_a?"](u(G,"Set")))||this.$raise(u(G,"ArgumentError"),"value must be a set"),!_(r(t.$size(),this.$size()))&&h(this,"all?",[],((e=function(r){return e.$$s,null==r&&(r=l),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},L.$$arity=1),t.alias(U,"<=","subset?"),t.def(U,"$proper_subset?",F=function(t){var e;return _(t["$is_a?"](u(G,"Set")))||this.$raise(u(G,"ArgumentError"),"value must be a set"),!_(n(t.$size(),this.$size()))&&h(this,"all?",[],((e=function(r){return e.$$s,null==r&&(r=l),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},F.$$arity=1),t.alias(U,"<","proper_subset?"),t.alias(U,"+","|"),t.alias(U,"union","|"),t.def(U,"$to_a",j=function(){return this.hash.$keys()},j.$$arity=0)}(0,0,s),i=s,(a=d(s[0],"Enumerable")).$$proto,o=[a].concat(i),void t.def(a,"$to_set",$=function(e,r){var n,i=this,a=$.$$p,s=a||l;null==e&&(e=u(o,"Set"));var c=arguments.length,f=c-1;f<0&&(f=0),n=new Array(f);for(var _=1;_<c;_++)n[_-1]=arguments[_];return a&&($.$$p=null),h(e,"new",[i].concat(t.to_a(n)),s.$to_proc())},$.$$arity=-1)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e,r,n,i,$=[],a=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),l=t.send,u=t.klass,c=t.truthy,f=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),e=$,(n=s($[0],"Kernel")).$$proto,i=[n].concat(e),t.def(n,"$open",r=function(e,n){var $,s,u=r.$$p,c=u||a,f=arguments.length,_=f-1;_<0&&(_=0),$=new Array(_);for(var h=1;h<f;h++)$[h-1]=arguments[h];return u&&(r.$$p=null),s=l(o(i,"File"),"new",[e].concat(t.to_a($))),c!==a?t.yield1(c,s):s},r.$$arity=-2),function(e,r,n){function i(){}var s,l,_,h,d=i=u($[0],null,"File",i),p=d.$$proto,y=[d].concat(n);p.eof=p.path=a,d.$attr_reader("eof"),d.$attr_reader("lineno"),d.$attr_reader("path"),t.def(d,"$initialize",s=function(t,e){var r;return null==e&&(e="r"),this.path=t,this.contents=a,this.eof=!1,this.lineno=0,r=/:(.*)/,e=(e=e.$delete("b")).$gsub(r,""),this.flags=e},s.$$arity=-2),t.def(d,"$read",l=function(){var t=a;return c(this.eof)?"":(t=o(y,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},l.$$arity=0),t.def(d,"$each_line",_=function(e){var r=this,n=_.$$p,i=n||a,$=a;if(null==f["/"]&&(f["/"]=a),null==e&&(e=f["/"]),n&&(_.$$p=null),c(r.eof))return i!==a?r:[].$to_enum();if(i!==a){$=o(y,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var s=$.$chomp(),l=$.length!=s.length,u=s.split(e),h=0,d=u.length;h<d;h++)r.lineno+=1,h<d-1||l?t.yield1(i,u[h]+e):t.yield1(i,u[h]);return r.eof=!0,r}return r.$read().$each_line()},_.$$arity=-1),t.def(d,"$readlines",h=function(){return o(y,"File").$readlines(this.path)},h.$$arity=0),function(e,r){e.$$proto;var n,i,$,s,l=[e].concat(r);t.def(e,"$readlines",n=function(t,e){return null==f["/"]&&(f["/"]=a),null==e&&(e=f["/"]),o(l,"File").$read(t).$split(e)},n.$$arity=-2),t.def(e,"$file?",i=function(t){return!0},i.$$arity=1),t.def(e,"$readable?",$=function(t){return!0},$.$$arity=1),t.def(e,"$read",s=function(t){return""},s.$$arity=1)}(t.get_singleton_class(d),y)}(0,0,$),function(e,r,n){function i(){}var s,l=i=u($[0],null,"IO",i),c=(l.$$proto,[l].concat(n));return t.defs(l,"$read",s=function(t){return o(c,"File").$read(t)},s.$$arity=1),a&&"read"}(0,0,$)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$[]=","$-"]),function($,a,o){function s(){}var l,u=s=n(e[0],null,"MatchData",s),c=u.$$proto;return[u].concat(o),c.matches=r,t.def(u,"$[]=",l=function(e,r){var n,$,a;return n=[e,r],i(this.matches,"[]=",t.to_a(n)),n[($=n.length,a=1,"number"==typeof $&&"number"==typeof a?$-a:$["$-"](a))]},l.$$arity=2),r&&"[]="}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(n,i){var $,a=r(e[0],"Kernel");a.$$proto,[a].concat(i),t.def(a,"$freeze",$=function(){return this},$.$$arity=0)}(0,e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e,r,n,i=[],$=(t.nil,t.const_get_qualified),a=(t.const_get_relative,t.breaker,t.slice,t.module),o=t.klass;return e=i,(r=a(i[0],"ThreadSafe")).$$proto,void function(t,e,r){function n(){}var i=n=o(t,e,"Cache",n);i.$$proto,[i].concat(r)}((n=[r].concat(e))[0],$("::","Hash"),n)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy,$=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(a,o,s){function l(){}var u,c,f=l=n(e[0],null,"String",l);return f.$$proto,[f].concat(s),i(f["$method_defined?"]("limit_bytesize"))||t.def(f,"$limit_bytesize",u=function(t){var e,r;return i((e=t,r=this.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?this.$byteslice(0,t).$to_s():this.$to_s()},u.$$arity=1),i(f["$method_defined?"]("limit"))||t.alias(f,"limit","limit_bytesize"),t.alias(f,"_original_unpack","unpack"),t.def(f,"$unpack",c=function(t){var e;return t["$=="]("C3")?$(this["$[]"](0,3).$bytes().$select(),"with_index",[],((e=function(t,n){return e.$$s,null==t&&(t=r),null==n&&(n=r),n["$even?"]()}).$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},c.$$arity=1),r&&"unpack"}(0,0,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e,r,n,i,$,a=[],o=(t.nil,t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),e=a,(i=s(a[0],"URI")).$$proto,$=[i].concat(e),t.defs(i,"$parse",r=function(t){return t.$extend(o($,"URI"))},r.$$arity=1),void t.def(i,"$path",n=function(){return this},n.$$arity=0)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r,n,i,$,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.module),u=t.send,c=t.gvars,f=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),r=a,(i=l(a[0],"Asciidoctor")).$$proto,$=[i].concat(r),t.const_set($[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(i,"$unpack_hex_range",n=function(t){var e;return u(t,"gsub",[s($,"HEX_RANGE_RX")],((e=function(){var t,r;return e.$$s,"\\u"+((t=c["~"])===o?o:t["$[]"](1))+(f(t=(r=c["~"])===o?o:r["$[]"](2))?"-\\u"+((r=c["~"])===o?o:r["$[]"](2)):t)}).$$s=this,e.$$arity=0,e))},n.$$arity=1),t.const_set($[0],"P_L",e("A-Za-z",i.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set($[0],"P_Nl",i.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set($[0],"P_Nd",e("0-9",i.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set($[0],"P_Pc",i.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set($[0],"CC_ALPHA",""+s($,"P_L")+s($,"P_Nl")),t.const_set($[0],"CG_ALPHA","["+s($,"CC_ALPHA")+"]"),t.const_set($[0],"CC_ALNUM",""+s($,"CC_ALPHA")+s($,"P_Nd")),t.const_set($[0],"CG_ALNUM","["+s($,"CC_ALNUM")+"]"),t.const_set($[0],"CC_WORD",""+s($,"CC_ALNUM")+s($,"P_Pc")),t.const_set($[0],"CG_WORD","["+s($,"CC_WORD")+"]"),t.const_set($[0],"CG_BLANK","[ \\t]"),t.const_set($[0],"CC_EOL","(?=\\n|$)"),t.const_set($[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),void t.const_set($[0],"CC_ALL","[\\s\\S]")},Opal.modules.strscan=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function($,a,o){function s(){}var l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N=s=n(e[0],null,"StringScanner",s),z=N.$$proto;return[N].concat(o),z.pos=z.string=z.working=z.matched=z.prev_pos=z.match=r,N.$attr_reader("pos"),N.$attr_reader("matched"),t.def(N,"$initialize",l=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},l.$$arity=1),N.$attr_reader("string"),t.def(N,"$beginning_of_line?",u=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},u.$$arity=0),t.alias(N,"bol?","beginning_of_line?"),t.def(N,"$scan",c=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?e.matched=r:"object"==typeof n?(e.prev_pos=e.pos,e.pos+=n[0].length,e.working=e.working.substring(n[0].length),e.matched=n[0],e.match=n,n[0]):"string"==typeof n?(e.pos+=n.length,e.working=e.working.substring(n.length),n):r},c.$$arity=1),t.def(N,"$scan_until",f=function(t){var e=this;t=e.$anchor(t);for(var n,i=e.pos,$=e.working;;){if(n=t.exec($),i+=1,$=$.substr(1),null!=n)return e.matched=e.string.substr(e.pos,i-e.pos-1+n[0].length),e.prev_pos=i-1,e.pos=i,e.working=$.substr(n[0].length),e.matched;if(0===$.length)return e.matched=r}},f.$$arity=1),t.def(N,"$[]",_=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?r:null==e[t]?r:e[t]},_.$$arity=1),t.def(N,"$check",h=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?r:e[0]},h.$$arity=1),t.def(N,"$check_until",d=function(t){var e=this.prev_pos,n=this.pos,i=this.$scan_until(t);return i!==r&&(this.matched=i.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,i},d.$$arity=1),t.def(N,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.def(N,"$eos?",y=function(){return 0===this.working.length},y.$$arity=0),t.def(N,"$exist?",m=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},m.$$arity=1),t.def(N,"$skip",g=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=r;var n=e[0],i=n.length;return this.matched=n,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},g.$$arity=1),t.def(N,"$skip_until",v=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},v.$$arity=1),t.def(N,"$get_byte",b=function(){var t=this,e=r;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=r,e},b.$$arity=0),t.alias(N,"getch","get_byte"),t.def(N,"$match?",w=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?r:(this.prev_pos=this.pos,e[0].length)},w.$$arity=1),t.def(N,"$pos=",E=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},E.$$arity=1),t.def(N,"$matched_size",k=function(){return this.matched===r?r:this.matched.length},k.$$arity=0),t.def(N,"$post_match",x=function(){return this.matched===r?r:this.string.substr(this.pos)},x.$$arity=0),t.def(N,"$pre_match",A=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},A.$$arity=0),t.def(N,"$reset",O=function(){return this.working=this.string,this.matched=r,this.pos=0},O.$$arity=0),t.def(N,"$rest",M=function(){return this.working},M.$$arity=0),t.def(N,"$rest?",S=function(){return 0!==this.working.length},S.$$arity=0),t.def(N,"$rest_size",T=function(){return this.$rest().$size()},T.$$arity=0),t.def(N,"$terminate",R=function(){var e,n,$;return this.match=r,e=[this.string.$length()],i(this,"pos=",t.to_a(e)),e[(n=e.length,$=1,"number"==typeof n&&"number"==typeof $?n-$:n["$-"]($))]},R.$$arity=0),t.def(N,"$unscan",I=function(){return this.pos=this.prev_pos,this.prev_pos=r,this.match=r,this},I.$$arity=0),N.$private(),t.def(N,"$anchor",C=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},C.$$arity=1),r&&"anchor"}(0,0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;return t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var i,$,a,o=[],s=t.nil,l=t.const_get_qualified,u=(t.const_get_relative,t.breaker,t.slice,t.module),c=t.klass,f=t.hash2,_=t.send,h=t.truthy,d=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),i=o,($=u(o[0],"Asciidoctor")).$$proto,void function(i,$,a){function o(){}var u,p,y,m,g,v,b,w,E=o=c(i,null,"Timings",o),k=E.$$proto;[E].concat(a),k.timers=k.log=s,t.def(E,"$initialize",u=function(){return this.log=f([],{}),this.timers=f([],{})},u.$$arity=0),t.def(E,"$start",p=function(r){var n;return n=[r,l("::","Time").$now()],_(this.timers,"[]=",t.to_a(n)),n[e(n.length,1)]},p.$$arity=1),t.def(E,"$record",y=function(r){var n;return n=[r,e(l("::","Time").$now(),this.timers.$delete(r))],_(this.log,"[]=",t.to_a(n)),n[e(n.length,1)]},y.$$arity=1),t.def(E,"$read_parse",m=function(){var t,e;return h(r(e=n(h(t=this.log["$[]"]("read"))?t:0,h(t=this.log["$[]"]("parse"))?t:0),0))?e:s},m.$$arity=0),t.def(E,"$convert",g=function(){var t;return h(t=this.log["$[]"]("convert"))?t:0},g.$$arity=0),t.def(E,"$read_parse_convert",v=function(){var t,e;return h(r(e=n(n(h(t=this.log["$[]"]("read"))?t:0,h(t=this.log["$[]"]("parse"))?t:0),h(t=this.log["$[]"]("convert"))?t:0),0))?e:s},v.$$arity=0),t.def(E,"$total",b=function(){var t,e;return h(r(e=n(n(n(h(t=this.log["$[]"]("read"))?t:0,h(t=this.log["$[]"]("parse"))?t:0),h(t=this.log["$[]"]("convert"))?t:0),h(t=this.log["$[]"]("write"))?t:0),0))?e:s},b.$$arity=0),t.def(E,"$print_report",w=function(t,e){return null==d.stdout&&(d.stdout=s),null==t&&(t=d.stdout),null==e&&(e=s),h(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},w.$$arity=-1)}((a=[$].concat(i))[0],0,a)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e,r,n,i=[],$=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return e=i,(r=$(i[0],"Asciidoctor")).$$proto,n=[r].concat(e),void t.const_set(n[0],"VERSION","1.5.6.2")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(r,$,a){function o(){}var s=o=n(e[0],null,"NilClass",o);s.$$proto,[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","nil?")}(0,0,e),function(r,$,a){function o(){}var s=o=n(e[0],null,"String",o);s.$$proto,[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(0,0,e),function(r,$,a){function o(){}var s=o=n(e[0],null,"Array",o);s.$$proto,[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(0,0,e),function(r,$,a){function o(){}var s=o=n(e[0],null,"Hash",o);s.$$proto,[s].concat(a),i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(0,0,e),function($,a,o){function s(){}var l=s=n(e[0],null,"Numeric",s);return l.$$proto,[l].concat(o),i(l["$method_defined?"]("nil_or_empty?"))?r:t.alias(l,"nil_or_empty?","nil?")}(0,0,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function($,a,o){function s(){}var l=s=n(e[0],null,"Regexp",s);return l.$$proto,[l].concat(o),i(l["$method_defined?"]("match?"))?r:t.alias(l,"match?","===")}(0,0,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=(t.const_get_relative,t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(a,o,s){function l(){}var u,c=l=i(e[0],null,"String",l);return c.$$proto,[c].concat(s),$(c["$method_defined?"]("limit_bytesize"))?r:(t.def(c,"$limit_bytesize",u=function(t){var e,i,a,o,s=r;if(!$((e=t,i=this.$bytesize(),"number"==typeof e&&"number"==typeof i?e<i:e["$<"](i))))return this;for(;!$((s=this.$byteslice(0,t)).$force_encoding(n(n("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)o=1,t="number"==typeof(a=t)&&"number"==typeof o?a-o:a["$-"](o);return s},u.$$arity=1),r&&"limit_bytesize")}(0,0,e)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){t.top;var e,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.truthy),a=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),$(i(r,"IO")["$respond_to?"]("write"))?n:(t.defs(i(r,"IO"),"$write",e=function(t,e,$,o){var s;return null==$&&($=0),null==o&&(o=n),a(i(r,"File"),"open",[t,"w"],((s=function(t){return s.$$s,null==t&&(t=n),t.$write(e)}).$$s=this,s.$$arity=1,s))},e.$$arity=-3),n&&"write")},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),$(i(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),
i(r,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):n):($(i(r,"RUBY_ENGINE")["$!="]("opal")),n)},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r,n,i,$,a,o,s,l,u,c,f,_,h,d,p,y,m,g=[],v=t.nil,b=t.const_get_qualified,w=t.const_get_relative,E=(t.breaker,t.slice,t.module),k=t.truthy,x=t.send,A=t.range,O=t.gvars;return t.add_stubs(["$require","$==","$===","$raise","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$map","$each_line","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$length","$basename","$extname","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),r=g,(y=E(g[0],"Asciidoctor")).$$proto,m=[y].concat(r),n=m[0],i=m,(d=E(n,"Helpers")).$$proto,p=[d].concat(i),t.defs(d,"$require_library",$=function e(r,n,i){var $=this,e=v,a=v;null==n&&(n=!0),null==i&&(i="abort");try{return $.$require(r)}catch(o){if(!t.rescue(o,[b("::","LoadError")]))throw o;e=o;try{return k(n)?(n["$=="](!0)&&(n=r),"abort"["$==="](a=i)?$.$raise(b("::","LoadError"),"asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](a)?$.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):v):"abort"["$==="](a=i)?$.$raise(b("::","LoadError"),"asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](a)?$.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):v}finally{t.pop_exception()}}},$.$$arity=-2),t.defs(d,"$normalize_lines",a=function(t){return t.$class()["$=="](b("::","String"))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},a.$$arity=1),t.defs(d,"$normalize_lines_array",o=function r(n){var i,$,a,o,r=v,s=v,l=v,u=v,c=v;return k(n["$empty?"]())?n:(r=(s=n["$[]"](0)).$unpack("C3"),k(w(p,"COERCE_ENCODING"))?(l=b(b("::","Encoding"),"UTF_8"),(u=r.$slice(0,2))["$=="](w(p,"BOM_BYTES_UTF_16LE"))?x(n.$join().$force_encoding(b(b("::","Encoding"),"UTF_16LE"))["$[]"](A(1,-1,!1)).$encode(l).$each_line(),"map",[],((i=function(t){return i.$$s,null==t&&(t=v),t.$rstrip()}).$$s=this,i.$$arity=1,i)):u["$=="](w(p,"BOM_BYTES_UTF_16BE"))?(c=[0,s.$force_encoding(b(b("::","Encoding"),"UTF_16BE"))["$[]"](A(1,-1,!1))],x(n,"[]=",t.to_a(c)),c[e(c.length,1)],x(n,"map",[],(($=function(t){return $.$$s,null==t&&(t=v),""+t.$force_encoding(b(b("::","Encoding"),"UTF_16BE")).$encode(l).$rstrip()}).$$s=this,$.$$arity=1,$))):(r["$=="](w(p,"BOM_BYTES_UTF_8"))&&(c=[0,s.$force_encoding(l)["$[]"](A(1,-1,!1))],x(n,"[]=",t.to_a(c)),c[e(c.length,1)]),x(n,"map",[],((a=function(t){return a.$$s,null==t&&(t=v),t.$encoding()["$=="](l)?t.$rstrip():t.$force_encoding(l).$rstrip()}).$$s=this,a.$$arity=1,a)))):(r["$=="](w(p,"BOM_BYTES_UTF_8"))&&(c=[0,s["$[]"](A(3,-1,!1))],x(n,"[]=",t.to_a(c)),c[e(c.length,1)]),x(n,"map",[],((o=function(t){return o.$$s,null==t&&(t=v),t.$rstrip()}).$$s=this,o.$$arity=1,o))))},o.$$arity=1),t.defs(d,"$normalize_lines_from_string",s=function(t){var e,r=v,n=v,i=v;return k(t["$nil_or_empty?"]())?[]:(r=t.$unpack("C3"),k(w(p,"COERCE_ENCODING"))?(n=b(b("::","Encoding"),"UTF_8"),(i=r.$slice(0,2))["$=="](w(p,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(b(b("::","Encoding"),"UTF_16LE"))["$[]"](A(1,-1,!1)).$encode(n):i["$=="](w(p,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(b(b("::","Encoding"),"UTF_16BE"))["$[]"](A(1,-1,!1)).$encode(n):r["$=="](w(p,"BOM_BYTES_UTF_8"))?t=t.$encoding()["$=="](n)?t["$[]"](A(1,-1,!1)):t.$force_encoding(n)["$[]"](A(1,-1,!1)):t.$encoding()["$=="](n)||(t=t.$force_encoding(n))):r["$=="](w(p,"BOM_BYTES_UTF_8"))&&(t=t["$[]"](A(3,-1,!1))),x(t.$each_line(),"map",[],((e=function(t){return e.$$s,null==t&&(t=v),t.$rstrip()}).$$s=this,e.$$arity=1,e)))},s.$$arity=1),t.defs(d,"$uriish?",l=function(t){var e;return k(e=t["$include?"](":"))?w(p,"UriSniffRx")["$match?"](t):e},l.$$arity=1),t.defs(d,"$uri_prefix",u=function(t){var e;return k(k(e=t["$include?"](":"))?w(p,"UriSniffRx")["$=~"](t):e)?(e=O["~"])===v?v:e["$[]"](0):v},u.$$arity=1),t.const_set(p[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(d,"$uri_encode",c=function(t){var e;return x(t,"gsub",[w(p,"REGEXP_ENCODE_URI_CHARS")],((e=function(){var t,r,n=e.$$s||this;return x(((t=O["~"])===v?v:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=v),e.$sprintf("%%%02X",t)},r.$$s=n,r.$$arity=1,r)).$join()}).$$s=this,e.$$arity=0,e))},c.$$arity=1),t.defs(d,"$rootname",f=function(t){var e;return t.$slice(0,k(e=t.$rindex("."))?e:t.$length())},f.$$arity=1),t.defs(d,"$basename",_=function(t,e){return null==e&&(e=v),k(e)?b("::","File").$basename(t,e["$=="](!0)?b("::","File").$extname(t):e):b("::","File").$basename(t)},_.$$arity=-2),void t.defs(d,"$mkdir_p",h=function(t){var e,r=v;return k(b("::","File")["$directory?"](t))?v:(r=b("::","File").$dirname(t),k(k(e=b("::","File")["$directory?"](r=b("::","File").$dirname(t))["$!"]())?r["$!="]("."):e)&&this.$mkdir_p(r),b("::","Dir").$mkdir(t))},h.$$arity=1)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var $,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U=[],H=t.nil,G=t.const_get_qualified,Y=t.const_get_relative,W=(t.breaker,t.slice),X=t.module,K=t.hash2,V=t.hash,J=t.truthy,Z=t.send,Q=t.gvars,tt=t.range;return t.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$!","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$-","$end_with?","$parse_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$to_sym","$nil_or_empty?","$attributes","$basebackend?","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$slice","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$!=","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$delete","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$rindex","$catalog","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$concat","$parse_into","$parse","$each_char","$join","$chr","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),$=U,(F=X(U[0],"Asciidoctor")).$$proto,j=[F].concat($),a=j[0],o=j,(D=X(a,"Substitutors")).$$proto,L=[D].concat(o),t.const_set(L[0],"SpecialCharsRx",/[<&>]/),t.const_set(L[0],"SpecialCharsTr",K([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(L[0],"QuotedTextSniffRx",V(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(L[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(L[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(L[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(L[0],"NONE_SUBS",[]).$freeze(),t.const_set(L[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),t.const_set(L[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(L[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(L[0],"SUB_GROUPS",K(["none","normal","verbatim","specialchars"],{none:Y(L,"NONE_SUBS"),normal:Y(L,"NORMAL_SUBS"),verbatim:Y(L,"VERBATIM_SUBS"),specialchars:Y(L,"BASIC_SUBS")})),t.const_set(L[0],"SUB_HINTS",K(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(L[0],"SUB_OPTIONS",K(["block","inline"],{block:e(e(Y(L,"SUB_GROUPS").$keys(),Y(L,"NORMAL_SUBS")),["callouts"]),inline:e(Y(L,"SUB_GROUPS").$keys(),Y(L,"NORMAL_SUBS"))})),t.const_set(L[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(L[0],"PASS_START",""),t.const_set(L[0],"PASS_END",""),t.const_set(L[0],"PassSlotRx",new RegExp(Y(L,"PASS_START")+"(\\d+)"+Y(L,"PASS_END"))),t.const_set(L[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+Y(L,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+Y(L,"PASS_END")+"</span>")),t.const_set(L[0],"RS","\\"),t.const_set(L[0],"R_SB","]"),t.const_set(L[0],"ESC_R_SB","\\]"),t.const_set(L[0],"PLUS","+"),t.const_set(L[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(L[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),D.$attr_reader("passthroughs"),t.def(D,"$apply_subs",s=function t(n,i,$){var a,o,s,t=H,l=H,u=H,c=H;if(null==this.passthroughs&&(this.passthroughs=H),null==i&&(i=Y(L,"NORMAL_SUBS")),null==$&&($=H),J(J(a=n["$empty?"]())?a:i["$!"]()))return n;if(J($)){if(J(G("::","Symbol")["$==="](i)))i=J(a=Y(L,"SUB_GROUPS")["$[]"](i))?a:[i];else if(t=[],Z(i,"each",[],((o=function(r){o.$$s;var n=H;return null==r&&(r=H),J(n=Y(L,"SUB_GROUPS")["$[]"](r))?J(n["$empty?"]())?H:t=e(t,n):t["$<<"](r)}).$$s=this,o.$$arity=1,o)),J((i=t)["$empty?"]()))return n}else if(J(i["$empty?"]()))return n;return l=J(u=G("::","Array")["$==="](n))?r(n,Y(L,"LF")):n,J(c=i["$include?"]("macros"))&&(l=this.$extract_passthroughs(l),J(this.passthroughs["$empty?"]())&&(c=!1)),Z(i,"each",[],((s=function(t){var e=s.$$s||this,n=H;return null==t&&(t=H),"specialcharacters"["$==="](n=t)?l=e.$sub_specialchars(l):"quotes"["$==="](n)?l=e.$sub_quotes(l):"attributes"["$==="](n)?J(l["$include?"](Y(L,"ATTR_REF_HEAD")))?l=r(e.$sub_attributes(l.$split(Y(L,"LF"),-1)),Y(L,"LF")):H:"replacements"["$==="](n)?l=e.$sub_replacements(l):"macros"["$==="](n)?l=e.$sub_macros(l):"highlight"["$==="](n)?l=e.$highlight_source(l,i["$include?"]("callouts")):"callouts"["$==="](n)?J(i["$include?"]("highlight"))?H:l=e.$sub_callouts(l):"post_replacements"["$==="](n)?l=e.$sub_post_replacements(l):e.$warn("asciidoctor: WARNING: unknown substitution type "+t)}).$$s=this,s.$$arity=1,s)),J(c)&&(l=this.$restore_passthroughs(l)),J(u)?l.$split(Y(L,"LF"),-1):l},s.$$arity=-2),t.def(D,"$apply_normal_subs",l=function(t){return this.$apply_subs(t)},l.$$arity=1),t.def(D,"$apply_title_subs",u=function(t){return this.$apply_subs(t,Y(L,"TITLE_SUBS"))},u.$$arity=1),t.def(D,"$apply_reftext_subs",c=function(t){return this.$apply_subs(t,Y(L,"REFTEXT_SUBS"))},c.$$arity=1),t.def(D,"$apply_header_subs",f=function(t){return this.$apply_subs(t,Y(L,"HEADER_SUBS"))},f.$$arity=1),t.def(D,"$extract_passthroughs",_=function e($){var a,o,s,l,u,c,f,_,e;return null==this.document&&(this.document=H),c=this.document.$compat_mode(),J(J(a=J(o=$["$include?"]("++"))?o:$["$include?"]("$$"))?a:$["$include?"]("ss:"))&&($=Z($,"gsub",[Y(L,"InlinePassMacroRx")],((s=function(){var e,$=s.$$s||this,a=H,o=H,l=H,u=H,f=H,_=H,h=H,d=H,p=H,y=H;if(null==$.passthroughs&&($.passthroughs=H),null==Q["~"]&&(Q["~"]=H),a=Q["~"],o=H,J(l=a["$[]"](4))){if(J(J(e=c)?l["$=="]("++"):e))return J(a["$[]"](2))?a["$[]"](1)+"["+a["$[]"](2)+"]"+a["$[]"](3)+"++"+$.$extract_passthroughs(a["$[]"](5))+"++":""+a["$[]"](1)+a["$[]"](3)+"++"+$.$extract_passthroughs(a["$[]"](5))+"++";if(u=a["$[]"](2),f=a["$[]"](3).$length(),_=a["$[]"](5),h=!1,J(u)){if(J(n(f,0)))return a["$[]"](1)+"["+u+"]"+r(Y(L,"RS"),i(f,1))+l+a["$[]"](5)+l;a["$[]"](1)["$=="](Y(L,"RS"))?(o="["+u+"]",u=H):(J((e=l["$=="]("++"))?u["$end_with?"]("x-"):l["$=="]("++"))&&(h=!0,u=u["$[]"](tt(0,-2,!0))),u=$.$parse_attributes(u))}else if(J(n(f,0)))return""+r(Y(L,"RS"),i(f,1))+l+a["$[]"](5)+l;d=l["$=="]("+++")?[]:Y(L,"BASIC_SUBS"),p=$.passthroughs.$size(),J(u)?J(h)?(y=[p,K(["text","subs","type","attributes"],{text:_,subs:Y(L,"NORMAL_SUBS"),type:"monospaced",attributes:u})],Z($.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]):(y=[p,K(["text","subs","type","attributes"],{text:_,subs:d,type:"unquoted",attributes:u})],Z($.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]):(y=[p,K(["text","subs"],{text:_,subs:d})],Z($.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)])}else{if(a["$[]"](6)["$=="](Y(L,"RS")))return a["$[]"](0)["$[]"](tt(1,-1,!1));y=[p=$.passthroughs.$size(),K(["text","subs"],{text:$.$unescape_brackets(a["$[]"](8)),subs:J(a["$[]"](7))?$.$resolve_pass_subs(a["$[]"](7)):[]})],Z($.passthroughs,"[]=",t.to_a(y)),y[i(y.length,1)]}return""+o+Y(L,"PASS_START")+p+Y(L,"PASS_END")}).$$s=this,s.$$arity=0,s))),o=Y(L,"PassInlineRx")["$[]"](c),f=null==(a=t.to_ary(o))[0]?H:a[0],_=null==a[1]?H:a[1],e=null==a[2]?H:a[2],J(J(a=$["$include?"](f))?a:J(o=_)?$["$include?"](_):o)&&($=Z($,"gsub",[e],((l=function(){var e,r,n,$=l.$$s||this,a=H,o=H,s=H,u=H,f=H,_=H,h=H,d=H;if(null==$.passthroughs&&($.passthroughs=H),null==Q["~"]&&(Q["~"]=H),o=(a=Q["~"])["$[]"](1),s=a["$[]"](2),J(a["$[]"](3)["$start_with?"](Y(L,"RS")))&&(u=Y(L,"RS")),f=a["$[]"](4),r=a["$[]"](5),J(c)?_=!0:J(_=J(e=s)?s["$end_with?"]("x-"):e)&&(s=s["$[]"](tt(0,-2,!0))),J(s)){if(J((e=f["$=="]("`"))?_["$!"]():f["$=="]("`")))return o+"["+s+"]"+u+"`"+$.$extract_passthroughs(r)+"`";if(J(u))return o+"["+s+"]"+a["$[]"](3)["$[]"](tt(1,-1,!1));o["$=="](Y(L,"RS"))?(o="["+s+"]",s=H):s=$.$parse_attributes(s)}else{if(J((e=f["$=="]("`"))?_["$!"]():f["$=="]("`")))return""+o+u+"`"+$.$extract_passthroughs(r)+"`";if(J(u))return""+o+a["$[]"](3)["$[]"](tt(1,-1,!1))}return n=$.passthroughs.$size(),J(c)?(h=[n,K(["text","subs","attributes","type"],{text:r,subs:Y(L,"BASIC_SUBS"),attributes:s,type:"monospaced"})],Z($.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):J(s)?J(_)?(d=f["$=="]("`")?Y(L,"BASIC_SUBS"):Y(L,"NORMAL_SUBS"),h=[n,K(["text","subs","attributes","type"],{text:r,subs:d,attributes:s,type:"monospaced"})],Z($.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):(h=[n,K(["text","subs","attributes","type"],{text:r,subs:Y(L,"BASIC_SUBS"),attributes:s,type:"unquoted"})],Z($.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]):(h=[n,K(["text","subs"],{text:r,subs:Y(L,"BASIC_SUBS")})],Z($.passthroughs,"[]=",t.to_a(h)),h[i(h.length,1)]),""+o+Y(L,"PASS_START")+n+Y(L,"PASS_END")}).$$s=this,l.$$arity=0,l))),J(J(a=$["$include?"](":"))?J(o=$["$include?"]("stem:"))?o:$["$include?"]("math:"):a)&&($=Z($,"gsub",[Y(L,"InlineStemMacroRx")],((u=function(){var e,r,n,$,a=u.$$s||this,o=H,s=H,l=H;return null==a.document&&(a.document=H),null==a.passthroughs&&(a.passthroughs=H),null==Q["~"]&&(Q["~"]=H),o=Q["~"],J(o["$[]"](0)["$start_with?"](Y(L,"RS")))?o["$[]"](0)["$[]"](tt(1,-1,!1)):((s=o["$[]"](1).$to_sym())["$=="]("stem")&&(s=(J((l=a.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":l).$to_sym()),e=a.$unescape_brackets(o["$[]"](3)),r=J(o["$[]"](2))?a.$resolve_pass_subs(o["$[]"](2)):J(a.document["$basebackend?"]("html"))?Y(L,"BASIC_SUBS"):[],n=[$=a.passthroughs.$size(),K(["text","subs","type"],{text:e,subs:r,type:s})],Z(a.passthroughs,"[]=",t.to_a(n)),i(n.length,1),""+Y(L,"PASS_START")+$+Y(L,"PASS_END"))}).$$s=this,u.$$arity=0,u))),$},_.$$arity=1),t.def(D,"$restore_passthroughs",h=function(t,e){var r,n,i,$=this;return null==$.passthroughs&&($.passthroughs=H),null==e&&(e=!0),function(){try{return J(J(r=e)?J(n=$.passthroughs["$empty?"]())?n:t["$include?"](Y(L,"PASS_START"))["$!"]():r)?t:Z(t,"gsub",[Y(L,"PassSlotRx")],((i=function(){var t,e,r=i.$$s||this,n=H,$=H;return null==r.passthroughs&&(r.passthroughs=H),n=r.passthroughs["$[]"](((t=Q["~"])===H?H:t["$[]"](1)).$to_i()),$=r.$apply_subs(n["$[]"]("text"),n["$[]"]("subs")),J(e=n["$[]"]("type"))&&($=Y(L,"Inline").$new(r,"quoted",$,K(["type","attributes"],{type:e,attributes:n["$[]"]("attributes")})).$convert()),J($["$include?"](Y(L,"PASS_START")))?r.$restore_passthroughs($,!1):$}).$$s=$,i.$$arity=0,i))}finally{J(e)&&$.passthroughs.$clear()}}()},h.$$arity=-2),Y(L,"RUBY_ENGINE")["$=="]("opal")&&(t.def(D,"$sub_quotes",d=function(t){var e,r;return null==this.document&&(this.document=H),J(Y(L,"QuotedTextSniffRx")["$[]"](r=this.document.$compat_mode())["$match?"](t))&&Z(Y(L,"QUOTE_SUBS")["$[]"](r),"each",[],((e=function(r,n,i){var $,a=e.$$s||this;return null==r&&(r=H),null==n&&(n=H),null==i&&(i=H),t=Z(t,"gsub",[i],(($=function(){var t=$.$$s||this;return null==Q["~"]&&(Q["~"]=H),t.$convert_quoted_text(Q["~"],r,n)}).$$s=a,$.$$arity=0,$))}).$$s=this,e.$$arity=3,e)),t},d.$$arity=1),t.def(D,"$sub_replacements",p=function(t){var e;return J(Y(L,"ReplaceableTextRx")["$match?"](t))&&Z(Y(L,"REPLACEMENTS"),"each",[],((e=function(r,n,i){var $,a=e.$$s||this;return null==r&&(r=H),null==n&&(n=H),null==i&&(i=H),t=Z(t,"gsub",[r],(($=function(){var t=$.$$s||this;return null==Q["~"]&&(Q["~"]=H),t.$do_replacement(Q["~"],n,i)}).$$s=a,$.$$arity=0,$))}).$$s=this,e.$$arity=3,e)),t},p.$$arity=1),t.def(D,"$sub_specialchars",y=function(t){var e,r;return J(J(e=J(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(Y(L,"SpecialCharsRx"),Y(L,"SpecialCharsTr")):t},y.$$arity=1)),t.alias(D,"sub_specialcharacters","sub_specialchars"),t.def(D,"$do_replacement",m=function(t,e,r){var n=H,i=H;return J((n=t["$[]"](0))["$include?"](Y(L,"RS")))?n.$sub(Y(L,"RS"),""):"none"["$==="](i=r)?e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e},m.$$arity=3),t.def(D,"$sub_attributes",g=function(e,n){var i,$,a,o=this,s=H,l=H;return null==o.document&&(o.document=H),null==n&&(n=K([],{})),J(a=G("::","String")["$==="](e))&&(e=[e]),i=[o.document.$attributes(),[]],s=i[0],l=i[1],function(){var r=t.new_brk();try{Z(e,"each",[],(($=function(e){var r,i,a,o=$.$$s||this,u=H,c=H;return null==e&&(e=H),u=c=!1,J(e["$include?"](Y(L,"ATTR_REF_HEAD")))&&(e=function(){var i=t.new_brk();try{return Z(e,"gsub",[Y(L,"AttributeReferenceRx")],((r=function(){var e,$,a,o=r.$$s||this,l=H,f=H,_=H,h=H,d=H;return null==o.document&&(o.document=H),J(J(e=(($=Q["~"])===H?H:$["$[]"](1))["$=="](Y(L,"RS")))?e:(($=Q["~"])===H?H:$["$[]"](4))["$=="](Y(L,"RS")))?"{"+((e=Q["~"])===H?H:e["$[]"](2))+"}":J((e=Q["~"])===H?H:e["$[]"](3))?(l=(f=((e=Q["~"])===H?H:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](l)?($=Y(L,"Parser").$store_attribute(f["$[]"](0),J(a=f["$[]"](1))?a:"",o.document),null==(e=t.to_ary($))[0]||e[0],_=null==e[1]?H:e[1],J(_)||s.$fetch("attribute-undefined",Y(L,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(u=!0,t.brk("",i)),c=!0,""):"counter2"["$==="](l)?(Z(o.document,"counter",t.to_a(f)),c=!0,""):Z(o.document,"counter",t.to_a(f))):J(s["$key?"](h=((e=Q["~"])===H?H:e["$[]"](2)).$downcase()))?s["$[]"](h):J(Y(L,"INTRINSIC_ATTRIBUTES")["$key?"](h))?Y(L,"INTRINSIC_ATTRIBUTES")["$[]"](h):(l=d=J(e=d)?e:J($=n["$[]"]("attribute_missing"))?$:s.$fetch("attribute-missing",Y(L,"Compliance").$attribute_missing()),"drop"["$==="](l)?(c=!0,""):"drop-line"["$==="](l)?(o.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+h),u=!0,void t.brk("",i)):"warn"["$==="](l)?(o.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+h),(e=Q["~"])===H?H:e["$[]"](0)):(e=Q["~"])===H?H:e["$[]"](0))}).$$s=o,r.$$brk=i,r.$$arity=0,r))}catch(t){if(t===i)return t.$v;throw t}}()),J(J(i=u)?i:J(a=c)?e["$empty?"]():a)?H:l["$<<"](e)}).$$s=o,$.$$brk=r,$.$$arity=1,$))}catch(t){if(t===r)return t.$v;throw t}}(),J(a)?r(l,Y(L,"LF")):l},g.$$arity=-2),t.def(D,"$sub_macros",v=function e(r){var $,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,e=this,b=H,w=H,E=H,k=H,x=H,A=H;return null==e.document&&(e.document=H),y=K([],{}),w=["square_bracket",r["$include?"]("[")],Z(y,"[]=",t.to_a(w)),b=w[i(w.length,1)],m=r["$include?"](":"),w=["macroish",J($=b)?m:$],Z(y,"[]=",t.to_a(w)),E=w[i(w.length,1)],g=J($=E)?r["$include?"](":["):$,k=e.document.$attributes(),v=k["$key?"]("linkattrs"),x=r,J(k["$key?"]("experimental"))&&(J(J($=g)?J(a=x["$include?"]("kbd:"))?a:x["$include?"]("btn:"):$)&&(x=Z(x,"gsub",[Y(L,"InlineKbdBtnMacroRx")],((o=function(){var e,r,$,a=o.$$s||this,s=H,l=H,u=H;return J((e=Q["~"])===H?H:e["$[]"](1))?((e=Q["~"])===H?H:e["$[]"](0)).$slice(1,((e=Q["~"])===H?H:e["$[]"](0)).$length()):((e=Q["~"])===H?H:e["$[]"](2))["$=="]("kbd")?(J((s=((e=Q["~"])===H?H:e["$[]"](3)).$strip())["$include?"](Y(L,"R_SB")))&&(s=s.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),J(J(e=n(s.$length(),1))?l=J(l=s.$index(",",1))?[l,s.$index("+",1)].$compact().$min():s.$index("+",1):e)?(u=s.$slice(l,1),J(s["$end_with?"](u))?(s=Z(s.$chop().$split(u,-1),"map",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$strip()}).$$s=a,r.$$arity=1,r)),w=[-1,""+s["$[]"](-1)+u],Z(s,"[]=",t.to_a(w)),w[i(w.length,1)]):s=Z(s.$split(u),"map",[],(($=function(t){return $.$$s,null==t&&(t=H),t.$strip()}).$$s=a,$.$$arity=1,$))):s=[s],Y(L,"Inline").$new(a,"kbd",H,K(["attributes"],{attributes:K(["keys"],{keys:s})})).$convert()):Y(L,"Inline").$new(a,"button",a.$unescape_bracketed_text((e=Q["~"])===H?H:e["$[]"](3))).$convert()}).$$s=e,o.$$arity=0,o))),J(J($=E)?x["$include?"]("menu:"):$)&&(x=Z(x,"gsub",[Y(L,"InlineMenuMacroRx")],((s=function(){var t,e,r,n=s.$$s||this,i=H,$=H,a=H,o=H,l=H,u=H;return null==Q["~"]&&(Q["~"]=H),i=Q["~"],J(($=i["$[]"](0))["$start_with?"](Y(L,"RS")))?$["$[]"](tt(1,-1,!1)):(r=(t=[i["$[]"](1),i["$[]"](2)])[0],a=t[1],J(a)?(J(a["$include?"](Y(L,"R_SB")))&&(a=a.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),J(o=J(a["$include?"]("&gt;"))?"&gt;":J(a["$include?"](","))?",":H)?u=(l=Z(a.$split(o),"map",[],((e=function(t){return e.$$s,null==t&&(t=H),t.$strip()}).$$s=n,e.$$arity=1,e))).$pop():(l=(t=[[],a.$rstrip()])[0],u=t[1])):(l=(t=[[],H])[0],u=t[1]),Y(L,"Inline").$new(n,"menu",H,K(["attributes"],{attributes:K(["menu","submenus","menuitem"],{menu:r,submenus:l,menuitem:u})})).$convert())}).$$s=e,s.$$arity=0,s))),J(J($=x["$include?"]('"'))?x["$include?"]("&gt;"):$)&&(x=Z(x,"gsub",[Y(L,"MenuInlineRx")],((l=function(){var e,r,n,i,$,a=l.$$s||this,o=H,s=H,u=H,c=H;return null==Q["~"]&&(Q["~"]=H),o=Q["~"],J((s=o["$[]"](0))["$start_with?"](Y(L,"RS")))?s["$[]"](tt(1,-1,!1)):(u=o["$[]"](1),r=Z(u.$split("&gt;"),"map",[],((n=function(t){return n.$$s,null==t&&(t=H),t.$strip()}).$$s=a,n.$$arity=1,n)),i=null==(e=t.to_ary(r))[0]?H:e[0],$=(c=W.call(e,1)).$pop(),Y(L,"Inline").$new(a,"menu",H,K(["attributes"],{attributes:K(["menu","submenus","menuitem"],{menu:i,submenus:c,menuitem:$})})).$convert())}).$$s=e,l.$$arity=0,l)))),J(J($=A=e.document.$extensions())?A["$inline_macros?"]():$)&&Z(A.$inline_macros(),"each",[],((u=function(e){var r,n=u.$$s||this;return null==e&&(e=H),x=Z(x,"gsub",[e.$instance().$regexp()],((r=function(){var n,$=r.$$s||this,a=H,o=H,s=H,l=H,u=H,c=H;return null==Q["~"]&&(Q["~"]=H),a=Q["~"],J(a["$[]"](0)["$start_with?"](Y(L,"RS")))?a["$[]"](0)["$[]"](tt(1,-1,!1)):(J(function(){try{return a.$names()}catch(e){if(!t.rescue(e,[Y(L,"StandardError")]))throw e;try{return[]}finally{t.pop_exception()}}}()["$empty?"]())?(o=(n=[a["$[]"](1),a["$[]"](2),e.$config()])[0],s=n[1],l=n[2]):(o=(n=[function(){try{return a["$[]"]("target")}catch(e){if(!t.rescue(e,[Y(L,"StandardError")]))throw e;try{return H}finally{t.pop_exception()}}}(),function(){try{return a["$[]"]("content")}catch(e){if(!t.rescue(e,[Y(L,"StandardError")]))throw e;try{return H}finally{t.pop_exception()}}}(),e.$config()])[0],s=n[1],l=n[2]),u=J(u=l["$[]"]("default_attrs"))?u.$dup():K([],{}),J(s["$nil_or_empty?"]())?J(J(n=s)?l["$[]"]("content_model")["$!="]("attributes"):n)&&(w=["text",s],Z(u,"[]=",t.to_a(w)),w[i(w.length,1)]):(s=$.$unescape_bracketed_text(s),l["$[]"]("content_model")["$=="]("attributes")?$.$parse_attributes(s,J(n=l["$[]"]("pos_attrs"))?n:[],K(["sub_result","into"],{sub_result:!1,into:u})):(w=["text",s],Z(u,"[]=",t.to_a(w)),w[i(w.length,1)])),c=e.$process_method()["$[]"]($,J(n=o)?n:s,u),J(Y(L,"Inline")["$==="](c))?c.$convert():c)}).$$s=n,r.$$arity=0,r))}).$$s=e,u.$$arity=1,u)),J(J($=E)?J(a=x["$include?"]("image:"))?a:x["$include?"]("icon:"):$)&&(x=Z(x,"gsub",[Y(L,"InlineImageMacroRx")],((c=function(){var e,r=c.$$s||this,n=H,$=H,a=H,o=H,s=H,l=H;return null==r.document&&(r.document=H),null==Q["~"]&&(Q["~"]=H),n=Q["~"],J(($=(e=Q["~"])===H?H:e["$[]"](0))["$start_with?"](Y(L,"RS")))?$["$[]"](tt(1,-1,!1)):(J($["$start_with?"]("icon:"))?(a=(e=["icon",["size"]])[0],o=e[1]):(a=(e=["image",["alt","width","height"]])[0],o=e[1]),J((s=n["$[]"](1))["$include?"](Y(L,"ATTR_REF_HEAD")))&&(s=r.$sub_attributes(s)),a["$=="]("icon")||r.document.$register("images",s),l=r.$parse_attributes(n["$[]"](2),o,K(["unescape_input"],{unescape_input:!0})),J(e=l["$[]"]("alt"))||(w=["alt",(w=["default-alt",Y(L,"Helpers").$basename(s,!0).$tr("_-"," ")],Z(l,"[]=",t.to_a(w)),w[i(w.length,1)])],Z(l,"[]=",t.to_a(w)),w[i(w.length,1)]),Y(L,"Inline").$new(r,"image",H,K(["type","target","attributes"],{type:a,target:s,attributes:l})).$convert())}).$$s=e,c.$$arity=0,c))),J(J($=J(a=x["$include?"]("(("))?x["$include?"]("))"):a)?$:J(a=g)?x["$include?"]("indexterm"):a)&&(x=Z(x,"gsub",[Y(L,"InlineIndextermMacroRx")],((f=function(){var t,e=f.$$s||this,r=H,n=H,$=H,a=H,o=H,s=H,l=H,u=H;return null==e.document&&(e.document=H),null==Q["~"]&&(Q["~"]=H),r=Q["~"],J(r["$[]"](0)["$start_with?"](Y(L,"RS")))?r["$[]"](0)["$[]"](tt(1,-1,!1)):(n=r["$[]"](1),"indexterm"["$==="](n)?($=e.$split_simple_csv(e.$normalize_string(r["$[]"](2),!0)),e.document.$register("indexterms",$),Y(L,"Inline").$new(e,"indexterm",H,K(["attributes"],{attributes:K(["terms"],{terms:$})})).$convert()):"indexterm2"["$==="](n)?(a=e.$normalize_string(r["$[]"](2),!0),e.document.$register("indexterms",[a]),Y(L,"Inline").$new(e,"indexterm",a,K(["type"],{type:"visible"})).$convert()):(t=[r["$[]"](3),!0,H,H],o=t[0],s=t[1],l=t[2],u=t[3],J(o["$start_with?"]("("))?J(o["$end_with?"](")"))?(t=[o.$slice(1,i(o.$length(),2)),!1],o=t[0],s=t[1]):(t=[o.$slice(1,i(o.$length(),1)),"(",""],o=t[0],l=t[1],u=t[2]):J(o["$end_with?"](")"))&&(J(o["$start_with?"]("("))?(t=[o.$slice(1,i(o.$length(),2)),!1],o=t[0],s=t[1]):(t=[o.$slice(0,i(o.$length(),1)),"",")"],o=t[0],l=t[1],u=t[2])),J(s)?(a=e.$normalize_string(o),e.document.$register("indexterms",[a]),x=Y(L,"Inline").$new(e,"indexterm",a,K(["type"],{type:"visible"})).$convert()):($=e.$split_simple_csv(e.$normalize_string(o)),e.document.$register("indexterms",$),x=Y(L,"Inline").$new(e,"indexterm",H,K(["attributes"],{attributes:K(["terms"],{terms:$})})).$convert()),J(l)?""+l+x+u:x))}).$$s=e,f.$$arity=0,f))),J(J($=m)?x["$include?"]("://"):$)&&(x=Z(x,"gsub",[Y(L,"LinkInlineRx")],((_=function(){var e,r,n,$,a,o=_.$$s||this,s=H,l=H,u=H,c=H,f=H,h=H,d=H;if(null==o.document&&(o.document=H),null==Q["~"]&&(Q["~"]=H),s=Q["~"],J(s["$[]"](2)["$start_with?"](Y(L,"RS"))))return""+s["$[]"](1)+s["$[]"](2)["$[]"](tt(1,-1,!1))+s["$[]"](3);if(l=(e=[s["$[]"](1),s["$[]"](2),J(r=$=s["$[]"](3))?r:"",""])[0],u=e[1],c=e[2],f=e[3],l["$=="]("link:")){if(!J($))return s["$[]"](0);l=""}return J(J(e=$)?e:Y(L,"UriTerminatorRx")["$!~"](u))||(h=(e=Q["~"])===H?H:e["$[]"](0),")"["$==="](h)?(u=u.$chop(),f=")"):";"["$==="](h)?J(J(e=l["$start_with?"]("&lt;"))?u["$end_with?"]("&gt;"):e)?(l=l["$[]"](tt(4,-1,!1)),u=u["$[]"](tt(0,-4,!0))):J((u=u.$chop())["$end_with?"](")"))?(u=u.$chop(),f=");"):f=";":":"["$==="](h)&&(J((u=u.$chop())["$end_with?"](")"))?(u=u.$chop(),f="):"):f=":")),e=[H,K(["type"],{type:"link"})],d=e[0],a=e[1],J(c["$empty?"]())||(J(c["$include?"](Y(L,"R_SB")))&&(c=c.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),J(J(e=v)?J(r=c["$start_with?"]('"'))?r:J(n=c["$include?"](","))?c["$include?"]("="):n:e)&&(d=o.$parse_attributes(c,[]),J(d["$key?"]("id"))&&(w=["id",d.$delete("id")],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)]),c=J(e=d["$[]"](1))?e:""),J(c["$end_with?"]("^"))&&(c=c.$chop(),J(d)?J(e=d["$[]"]("window"))||(w=["window","_blank"],Z(d,"[]=",t.to_a(w)),w[i(w.length,1)]):d=K(["window"],{window:"_blank"}))),J(c["$empty?"]())&&(c=J(k["$key?"]("hide-uri-scheme"))?u.$sub(Y(L,"UriSniffRx"),""):u,J(d)?(w=["role",J(d["$key?"]("role"))?"bare "+d["$[]"]("role"):"bare"],Z(d,"[]=",t.to_a(w)),w[i(w.length,1)]):d=K(["role"],{role:"bare"})),o.document.$register("links",(w=["target",u],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)])),J(d)&&(w=["attributes",d],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)]),""+l+Y(L,"Inline").$new(o,"anchor",c,a).$convert()+f}).$$s=e,_.$$arity=0,_))),J(J($=E)?J(a=x["$include?"]("link:"))?a:x["$include?"]("mailto:"):$)&&(x=Z(x,"gsub",[Y(L,"InlineLinkMacroRx")],((h=function(){var e,r,n,$,a,o=h.$$s||this,s=H,l=H,u=H,c=H,f=H;return null==o.document&&(o.document=H),null==Q["~"]&&(Q["~"]=H),s=Q["~"],J(s["$[]"](0)["$start_with?"](Y(L,"RS")))?s["$[]"](0)["$[]"](tt(1,-1,!1)):(l=J(u=s["$[]"](1))?"mailto:"+s["$[]"](2):s["$[]"](2),e=[H,K(["type"],{type:"link"})],c=e[0],a=e[1],J((f=s["$[]"](3))["$empty?"]())||(J(f["$include?"](Y(L,"R_SB")))&&(f=f.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),J(J(e=v)?J(r=f["$start_with?"]('"'))?r:J(n=f["$include?"](","))?J($=u)?$:f["$include?"]("="):n:e)&&(c=o.$parse_attributes(f,[]),J(c["$key?"]("id"))&&(w=["id",c.$delete("id")],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)]),J(u)&&J(c["$key?"](2))&&(l=J(c["$key?"](3))?l+"?subject="+Y(L,"Helpers").$uri_encode(c["$[]"](2))+"&amp;body="+Y(L,"Helpers").$uri_encode(c["$[]"](3)):l+"?subject="+Y(L,"Helpers").$uri_encode(c["$[]"](2))),f=J(e=c["$[]"](1))?e:""),J(f["$end_with?"]("^"))&&(f=f.$chop(),J(c)?J(e=c["$[]"]("window"))||(w=["window","_blank"],Z(c,"[]=",t.to_a(w)),w[i(w.length,1)]):c=K(["window"],{window:"_blank"}))),J(f["$empty?"]())&&(J(u)?f=s["$[]"](2):(f=J(k["$key?"]("hide-uri-scheme"))?l.$sub(Y(L,"UriSniffRx"),""):l,J(c)?(w=["role",J(c["$key?"]("role"))?"bare "+c["$[]"]("role"):"bare"],Z(c,"[]=",t.to_a(w)),w[i(w.length,1)]):c=K(["role"],{role:"bare"}))),o.document.$register("links",(w=["target",l],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)])),J(c)&&(w=["attributes",c],Z(a,"[]=",t.to_a(w)),w[i(w.length,1)]),Y(L,"Inline").$new(o,"anchor",f,a).$convert())}).$$s=e,h.$$arity=0,h))),J(x["$include?"]("@"))&&(x=Z(x,"gsub",[Y(L,"EmailInlineRx")],((d=function(){var t,e,r,n=d.$$s||this,i=H,$=H;return null==n.document&&(n.document=H),t=[(e=Q["~"])===H?H:e["$[]"](0),(e=Q["~"])===H?H:e["$[]"](1)],i=t[0],J($=t[1])?$["$=="](Y(L,"RS"))?i["$[]"](tt(1,-1,!1)):i:(r="mailto:"+i,n.document.$register("links",r),Y(L,"Inline").$new(n,"anchor",i,K(["type","target"],{type:"link",target:r})).$convert())}).$$s=e,d.$$arity=0,d))),J(J($=g)?x["$include?"]("footnote"):$)&&(x=Z(x,"gsub",[Y(L,"InlineFootnoteMacroRx")],((p=function(){var e,r,n,i=p.$$s||this,$=H,a=H,o=H,s=H,l=H,u=H,c=H;return null==i.document&&(i.document=H),null==Q["~"]&&(Q["~"]=H),$=Q["~"],J($["$[]"](0)["$start_with?"](Y(L,"RS")))?$["$[]"](0)["$[]"](tt(1,-1,!1)):($["$[]"](1)["$=="]("footnote")?(a=H,o=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string($["$[]"](2),!0))),!1),s=i.document.$counter("footnote-number"),i.document.$register("footnotes",G(Y(L,"Document"),"Footnote").$new(s,a,o)),l=H,u=H):(r=$["$[]"](2).$split(",",2),e=t.to_ary(r),a=null==e[0]?H:e[0],o=null==e[1]?H:e[1],a=a.$strip(),J(o)?(o=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(o,!0))),!1),s=i.document.$counter("footnote-number"),i.document.$register("footnotes",G(Y(L,"Document"),"Footnote").$new(s,a,o)),l="ref",u=H):(J(c=Z(i.document.$footnotes(),"find",[],((n=function(t){return n.$$s,null==t&&(t=H),t.$id()["$=="](a)}).$$s=i,n.$$arity=1,n)))?(s=c.$index(),o=c.$text()):(s=H,o=a),u=a,a=H,l="xref")),Y(L,"Inline").$new(i,"footnote",o,K(["attributes","id","target","type"],{attributes:K(["index"],{index:s}),id:a,target:u,type:l})).$convert())}).$$s=e,
p.$$arity=0,p))),e.$sub_inline_xrefs(e.$sub_inline_anchors(x,y),y)},v.$$arity=1),t.def(D,"$sub_inline_anchors",b=function(t,e){var r,n,i,$,a;return null==this.context&&(this.context=H),null==this.parent&&(this.parent=H),null==e&&(e=H),J(this.context["$=="]("list_item")?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(t=Z(t,"sub",[Y(L,"InlineBiblioAnchorRx")],((n=function(){var t,e,r=n.$$s||this;return Y(L,"Inline").$new(r,"anchor","["+(J(t=(e=Q["~"])===H?H:e["$[]"](2))?t:(e=Q["~"])===H?H:e["$[]"](1))+"]",K(["type","id","target"],{type:"bibref",id:(t=Q["~"])===H?H:t["$[]"](1),target:(t=Q["~"])===H?H:t["$[]"](1)})).$convert()}).$$s=this,n.$$arity=0,n))),J(J(r=J(i=J($=e["$!"]())?$:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:J(i=J($=e["$!"]())?$:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=Z(t,"gsub",[Y(L,"InlineAnchorRx")],((a=function(){var t,e,r=a.$$s||this,n=H,i=H;return J((t=Q["~"])===H?H:t["$[]"](1))?((t=Q["~"])===H?H:t["$[]"](0)).$slice(1,((t=Q["~"])===H?H:t["$[]"](0)).$length()):(J(n=(t=Q["~"])===H?H:t["$[]"](2))?i=(t=Q["~"])===H?H:t["$[]"](3):(n=(t=Q["~"])===H?H:t["$[]"](4),J(J(t=i=(e=Q["~"])===H?H:e["$[]"](5))?i["$include?"](Y(L,"R_SB")):t)&&(i=i.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB")))),Y(L,"Inline").$new(r,"anchor",i,K(["type","id","target"],{type:"ref",id:n,target:n})).$convert())}).$$s=this,a.$$arity=0,a))),t},b.$$arity=-2),t.def(D,"$sub_inline_xrefs",w=function(r,$){var a,o,s;return null==$&&($=H),J(J(a=J(o=J($)?$["$[]"]("macroish"):r["$include?"]("["))?r["$include?"]("xref:"):o)?a:J(o=r["$include?"]("&"))?r["$include?"]("&lt;&lt;"):o)&&(r=Z(r,"gsub",[Y(L,"InlineXrefMacroRx")],((s=function(){var r,$,a,o=s.$$s||this,l=H,u=H,c=H,f=H,_=H,h=H,d=H,p=H,y=H,m=H;return null==o.document&&(o.document=H),null==Q["~"]&&(Q["~"]=H),null==Q.VERBOSE&&(Q.VERBOSE=H),l=Q["~"],J(l["$[]"](0)["$start_with?"](Y(L,"RS")))?l["$[]"](0)["$[]"](tt(1,-1,!1)):(J(u=l["$[]"](1))?($=u.$split(",",2),u=null==(r=t.to_ary($))[0]?H:r[0],c=null==r[1]?H:r[1],J(c)&&(c=c.$lstrip())):(u=l["$[]"](2),J(J(r=c=l["$[]"](3))?c["$include?"](Y(L,"R_SB")):r)&&(c=c.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB")))),J(a=u.$index("#"))?J(n(a,0))?J(n(f=i(i(u.$length(),a),1),0))?(r=[u.$slice(0,a),u.$slice(e(a,1),f)],_=r[0],h=r[1]):(r=[u.$slice(0,a),H],_=r[0],h=r[1]):(d=(r=[u,H,u.$slice(1,u.$length())])[0],_=r[1],h=r[2]):(_=(r=[H,u])[0],h=r[1]),J(d)?p=h:J(_)?(J(J(r=y=_.$rindex("."))?Y(L,"ASCIIDOC_EXTENSIONS")["$[]"](_.$slice(y,_.$length())):r)&&(_=_.$slice(0,y)),J(J(r=o.document.$attributes()["$[]"]("docname")["$=="](_))?r:o.document.$catalog()["$[]"]("includes")["$include?"](_))?(p=(r=[h,H,"#"+h])[0],_=r[1],d=r[2]):(p=J(h)?_+"#"+h:_,_=""+o.document.$attributes()["$[]"]("relfileprefix")+_+o.document.$attributes().$fetch("outfilesuffix",".html"),d=J(h)?_+"#"+h:_)):(J(o.document.$catalog()["$[]"]("ids")["$key?"](h))||(J(J(r=J($=h["$include?"](" "))?$:h.$downcase()["$!="](h))?m=o.document.$catalog()["$[]"]("ids").$key(h):r)?h=m:J(Q.VERBOSE)&&o.$warn("asciidoctor: WARNING: invalid reference: "+h)),p=(r=[h,"#"+h])[0],d=r[1]),Y(L,"Inline").$new(o,"anchor",c,K(["type","target","attributes"],{type:"xref",target:d,attributes:K(["path","fragment","refid"],{path:_,fragment:h,refid:p})})).$convert())}).$$s=this,s.$$arity=0,s))),r},w.$$arity=-2),t.def(D,"$sub_callouts",E=function(t){var e,r,n=this;return r=J(n["$attr?"]("line-comment"))?new RegExp("(?:"+G("::","Regexp").$escape(n.$attr("line-comment"))+" )?"+Y(L,"CalloutSourceRxt")):Y(L,"CalloutSourceRx"),Z(t,"gsub",[r],((e=function(){var t,r=e.$$s||this;return null==r.document&&(r.document=H),J((t=Q["~"])===H?H:t["$[]"](1))?((t=Q["~"])===H?H:t["$[]"](0)).$sub(Y(L,"RS"),""):Y(L,"Inline").$new(r,"callout",(t=Q["~"])===H?H:t["$[]"](3),K(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()}).$$s=n,e.$$arity=0,e))},E.$$arity=1),t.def(D,"$sub_post_replacements",k=function(t){var e,n,$,a,o,s=H,l=H;return null==this.document&&(this.document=H),null==this.attributes&&(this.attributes=H),J(J(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))?(s=t.$split(Y(L,"LF"),-1),J((a=s.$size(),o=2,"number"==typeof a&&"number"==typeof o?a<o:a["$<"](o)))?t:(l=s.$pop(),r(Z(s,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=H),Y(L,"Inline").$new(e,"break",J(t["$end_with?"](Y(L,"HARD_LINE_BREAK")))?t.$slice(0,i(t.$length(),2)):t,K(["type"],{type:"line"})).$convert()},n.$$s=this,n.$$arity=1,n))["$<<"](l),Y(L,"LF")))):J(J(e=t["$include?"](Y(L,"PLUS")))?t["$include?"](Y(L,"HARD_LINE_BREAK")):e)?Z(t,"gsub",[Y(L,"HardLineBreakRx")],(($=function(){var t,e=$.$$s||this;return Y(L,"Inline").$new(e,"break",(t=Q["~"])===H?H:t["$[]"](1),K(["type"],{type:"line"})).$convert()}).$$s=this,$.$$arity=0,$)):t},k.$$arity=1),t.def(D,"$convert_quoted_text",x=function(t,e,r){var n=H,i=H,$=H,a=H,o=H;if(J(t["$[]"](0)["$start_with?"](Y(L,"RS")))){if(!J(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0)["$[]"](tt(1,-1,!1));i="["+n+"]"}return r["$=="]("constrained")?J(i)?""+i+Y(L,"Inline").$new(this,"quoted",t["$[]"](3),K(["type"],{type:e})).$convert():(J($=t["$[]"](2))&&(a=(o=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+Y(L,"Inline").$new(this,"quoted",t["$[]"](3),K(["type","id","attributes"],{type:e,id:a,attributes:o})).$convert()):(J($=t["$[]"](1))&&(a=(o=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),Y(L,"Inline").$new(this,"quoted",t["$[]"](2),K(["type","id","attributes"],{type:e,id:a,attributes:o})).$convert())},x.$$arity=3),t.def(D,"$parse_quoted_text_attributes",A=function(e){var $,a,o=H,s=H,l=H,u=H,c=H,f=H;return J(e["$include?"](Y(L,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),J(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),J((e=e.$strip())["$empty?"]())?K([],{}):J(J($=e["$start_with?"](".","#"))?Y(L,"Compliance").$shorthand_property_syntax():$)?(o=e.$split("#",2),J(n(o.$size(),1))?(a=o["$[]"](1).$split("."),s=null==($=t.to_ary(a))[0]?H:$[0],l=W.call($,1)):(s=H,l=[]),u=J(o["$[]"](0)["$empty?"]())?[]:o["$[]"](0).$split("."),J(n(u.$size(),1))&&u.$shift(),J(n(l.$size(),0))&&u.$concat(l),c=K([],{}),J(s)&&(f=["id",s],Z(c,"[]=",t.to_a(f)),f[i(f.length,1)]),J(u["$empty?"]())||(f=["role",r(u," ")],Z(c,"[]=",t.to_a(f)),f[i(f.length,1)]),c):K(["role"],{role:e})},A.$$arity=1),t.def(D,"$parse_attributes",O=function(t,e,r){var n,i,$,a=this;return null==a.document&&(a.document=H),null==e&&(e=["role"]),null==r&&(r=K([],{})),J(t)?J(t["$empty?"]())?K([],{}):(J(J(n=r["$[]"]("sub_input"))?t["$include?"](Y(L,"ATTR_REF_HEAD")):n)&&(t=a.document.$sub_attributes(t)),J(r["$[]"]("unescape_input"))&&(t=a.$unescape_bracketed_text(t)),i=J(r.$fetch("sub_result",!0))?a:H,J($=r["$[]"]("into"))?Y(L,"AttributeList").$new(t,i).$parse_into($,e):Y(L,"AttributeList").$new(t,i).$parse(e)):H},O.$$arity=-2),t.def(D,"$unescape_bracketed_text",M=function(t){return J(t["$empty?"]())||J((t=t.$strip().$tr(Y(L,"LF")," "))["$include?"](Y(L,"R_SB")))&&(t=t.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),t},M.$$arity=1),t.def(D,"$normalize_string",S=function(t,e){var r;return null==e&&(e=!1),J(t["$empty?"]())||(t=t.$strip().$tr(Y(L,"LF")," "),J(J(r=e)?t["$include?"](Y(L,"R_SB")):r)&&(t=t.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB")))),t},S.$$arity=-2),t.def(D,"$unescape_brackets",T=function(t){return J(t["$empty?"]())||J(t["$include?"](Y(L,"RS")))&&(t=t.$gsub(Y(L,"ESC_R_SB"),Y(L,"R_SB"))),t},T.$$arity=1),t.def(D,"$split_simple_csv",R=function(t){var e,r,n=H,i=H,$=H;return J(t["$empty?"]())?n=[]:J(t["$include?"]('"'))?(n=[],i=[],$=!1,Z(t,"each_char",[],((e=function(t){e.$$s;var r=H;return null==t&&(t=H),","["$==="](r=t)?J($)?i["$<<"](t):(n["$<<"](i.$join().$strip()),i=[]):'"'["$==="](r)?$=$["$!"]():i["$<<"](t)}).$$s=this,e.$$arity=1,e)),n["$<<"](i.$join().$strip())):n=Z(t.$split(","),"map",[],((r=function(t){return r.$$s,null==t&&(t=H),t.$strip()}).$$s=this,r.$$arity=1,r)),n},R.$$arity=1),t.def(D,"$resolve_subs",I=function(t,$,a,o){var s,l,u,c=H,f=H;return null==$&&($="block"),null==a&&(a=H),null==o&&(o=H),J(t["$nil_or_empty?"]())?[]:(c=H,J(t["$include?"](" "))&&(t=t.$delete(" ")),l=Y(L,"SubModifierSniffRx")["$match?"](t),Z(t.$split(","),"each",[],((s=function(t){s.$$s;var r,n,o=H,u=H,f=H,_=H,h=H,d=H;return null==t&&(t=H),o=H,J(l)&&((u=t.$chr())["$=="]("+")?(o="append",t=t["$[]"](tt(1,-1,!1))):u["$=="]("-")?(o="remove",t=t["$[]"](tt(1,-1,!1))):J(t["$end_with?"]("+"))&&(o="prepend",t=t.$chop())),t=t.$to_sym(),J((r=$["$=="]("inline"))?J(n=t["$=="]("verbatim"))?n:t["$=="]("v"):$["$=="]("inline"))?f=Y(L,"BASIC_SUBS"):J(Y(L,"SUB_GROUPS")["$key?"](t))?f=Y(L,"SUB_GROUPS")["$[]"](t):J(J(r=(n=$["$=="]("inline"))?t.$length()["$=="](1):$["$=="]("inline"))?Y(L,"SUB_HINTS")["$key?"](t):r)?(_=Y(L,"SUB_HINTS")["$[]"](t),f=J(h=Y(L,"SUB_GROUPS")["$[]"](_))?h:[_]):f=[t],J(o)?(c=J(r=c)?r:J(a)?a.$dup():[],"append"["$==="](d=o)?c=e(c,f):"prepend"["$==="](d)?c=e(f,c):"remove"["$==="](d)?c=i(c,f):H):c=e(c=J(r=c)?r:[],f)}).$$s=this,s.$$arity=1,s)),J(c)?(u=c["$&"](Y(L,"SUB_OPTIONS")["$[]"]($)),J(i(c,u)["$empty?"]())||(f=i(c,u),this.$warn("asciidoctor: WARNING: invalid substitution type"+(J(n(f.$size(),1))?"s":"")+(J(o)?" for ":H)+o+": "+r(f,", "))),u):[])},I.$$arity=-2),t.def(D,"$resolve_block_subs",C=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},C.$$arity=3),t.def(D,"$resolve_pass_subs",N=function(t){return this.$resolve_subs(t,"inline",H,"passthrough macro")},N.$$arity=1),t.def(D,"$highlight_source",z=function(n,$,a){var o,s,l,u,c=this,f=H,_=H,h=H,d=H,p=H,y=H,m=H,g=H,v=H,b=H,w=H,E=H,k=H,x=H;return null==c.document&&(c.document=H),null==c.passthroughs&&(c.passthroughs=H),null==a&&(a=H),f=a=J(o=a)?o:c.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](f)?J(J(o=_=G("::","CodeRay","skip_raise")?"constant":H)?o:c.document.$attributes()["$[]"]("coderay-unavailable"))||(J(Y(L,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?c.document.$set_attr("coderay-unavailable"):_=!0):"pygments"["$==="](f)?J(J(o=_=G("::","Pygments","skip_raise")?"constant":H)?o:c.document.$attributes()["$[]"]("pygments-unavailable"))||(J(Y(L,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?c.document.$set_attr("pygments-unavailable"):_=!0):_=!1,J(_)?(h=0,d=!1,J($)?(p=K([],{}),y=-1,m=J(c["$attr?"]("line-comment"))?new RegExp("(?:"+G("::","Regexp").$escape(c.$attr("line-comment"))+" )?"+Y(L,"CalloutExtractRxt")):Y(L,"CalloutExtractRx"),n=r(Z(n.$split(Y(L,"LF"),-1),"map",[],((s=function(r){var n,$=s.$$s||this;return null==r&&(r=H),h=e(h,1),Z(r,"gsub",[m],((n=function(){n.$$s;var e,r=H,$=H;return null==Q["~"]&&(Q["~"]=H),(r=Q["~"])["$[]"](1)["$=="](Y(L,"RS"))?r["$[]"](0).$sub(Y(L,"RS"),""):((J(e=p["$[]"](h))?e:($=[h,[]],Z(p,"[]=",t.to_a($)),$[i($.length,1)]))["$<<"](r["$[]"](3)),y=h,H)}).$$s=$,n.$$arity=0,n))}).$$s=c,s.$$arity=1,s)),Y(L,"LF")),d=y["$=="](h),J(p["$empty?"]())&&(p=H)):p=H,g=H,v=H,"coderay"["$==="](f=a)?(J(g=J(c["$attr?"]("linenums",H,!1))?(J(o=c.document.$attributes()["$[]"]("coderay-linenums-mode"))?o:"table").$to_sym():H)&&J(c["$attr?"]("highlight",H,!1))&&(v=c.$resolve_highlight_lines(c.$attr("highlight",H,!1))),b=G(G("::","CodeRay"),"Duo")["$[]"](c.$attr("language","text",!1).$to_sym(),"html",K(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(J(o=c.document.$attributes()["$[]"]("coderay-css"))?o:"class").$to_sym(),line_numbers:g,line_number_anchors:!1,highlight_lines:v,bold_every:!1})).$highlight(n)):"pygments"["$==="](f)&&(w=J(o=G(G("::","Pygments"),"Lexer").$find_by_alias(c.$attr("language","text",!1)))?o:G(G("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),E=K(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),w.$name()["$=="]("PHP")&&(k=["startinline",c["$option?"]("mixed")["$!"]()],Z(E,"[]=",t.to_a(k)),k[i(k.length,1)]),(J(o=c.document.$attributes()["$[]"]("pygments-css"))?o:"class")["$=="]("class")||(k=["noclasses",!0],Z(E,"[]=",t.to_a(k)),k[i(k.length,1)],k=["style",J(o=c.document.$attributes()["$[]"]("pygments-style"))?o:G(Y(L,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],Z(E,"[]=",t.to_a(k)),k[i(k.length,1)]),J(c["$attr?"]("highlight",H,!1))&&(J((v=c.$resolve_highlight_lines(c.$attr("highlight",H,!1)))["$empty?"]())||(k=["hl_lines",r(v," ")],Z(E,"[]=",t.to_a(k)),k[i(k.length,1)])),J(J(o=c["$attr?"]("linenums",H,!1))?(k=["linenos",J(l=c.document.$attributes()["$[]"]("pygments-linenums-mode"))?l:"table"],Z(E,"[]=",t.to_a(k)),k[i(k.length,1)])["$=="]("table"):o)?(g="table",b=w.$highlight(n,K(["options"],{options:E})).$sub(Y(L,"PygmentsWrapperDivRx"),"\\1").$gsub(Y(L,"PygmentsWrapperPreRx"),"\\1")):J(Y(L,"PygmentsWrapperPreRx")["$=~"](b=w.$highlight(n,K(["options"],{options:E}))))&&(b=(o=Q["~"])===H?H:o["$[]"](1))),J(c.passthroughs["$empty?"]())||(b=b.$gsub(Y(L,"HighlightedPassSlotRx"),Y(L,"PASS_START")+"\\1"+Y(L,"PASS_END"))),J(J(o=$)?p:o)?(h=0,x=g["$!="]("table"),r(Z(b.$split(Y(L,"LF"),-1),"map",[],((u=function(t){var n,i,$,o=u.$$s||this,s=H,l=H,c=H;if(null==o.document&&(o.document=H),null==t&&(t=H),J(x));else{if(!J(t["$include?"]('<td class="code">')))return t;x=!0}return h=e(h,1),J(s=p.$delete(h))?(l=H,J(J(n=J(i=d)?p["$empty?"]():i)?g["$=="]("table"):n)&&(J((n=a["$=="]("coderay"))?c=t.$index("</pre>"):a["$=="]("coderay"))?(t=(n=[t.$slice(0,c),t.$slice(c,t.$length())])[0],l=n[1]):J((n=a["$=="]("pygments"))?c=t["$start_with?"]("</td>"):a["$=="]("pygments"))&&(t=(n=["",t])[0],l=n[1])),s.$size()["$=="](1)?""+t+Y(L,"Inline").$new(o,"callout",s["$[]"](0),K(["id"],{id:o.document.$callouts().$read_next_id()})).$convert()+l:""+t+r(Z(s,"map",[],(($=function(t){var e=$.$$s||this;return null==e.document&&(e.document=H),null==t&&(t=H),Y(L,"Inline").$new(e,"callout",t,K(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()}).$$s=o,$.$$arity=1,$))," ")+l):t}).$$s=c,u.$$arity=1,u)),Y(L,"LF"))):b):c.$sub_source(n,$)},z.$$arity=-3),t.def(D,"$resolve_highlight_lines",P=function(e){var r,n=H;return n=[],Z((J(e["$include?"](" "))?e.$delete(" "):e).$split(Y(L,"DataDelimiterRx")),"map",[],((r=function(e){r.$$s;var $,a,o=H,s=H,l=H,u=H;return null==e&&(e=H),o=!1,J(e["$start_with?"]("!"))&&(e=e["$[]"](tt(1,-1,!1)),o=!0),J(e["$include?"]("-"))?(a=e.$split("-",2),s=null==($=t.to_ary(a))[0]?H:$[0],l=null==$[1]?H:$[1],u=t.Range.$new(s.$to_i(),l.$to_i(),!1).$to_a(),J(o)?n=i(n,u):n.$concat(u)):J(o)?n.$delete(e.$to_i()):n["$<<"](e.$to_i())}).$$s=this,r.$$arity=1,r)),n.$sort().$uniq()},P.$$arity=1),t.def(D,"$sub_source",B=function(t,e){return J(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},B.$$arity=2),void t.def(D,"$lock_in_subs",q=function(){var e,r,n,$,a=this,o=H,s=H,l=H,u=H,c=H;if(null==a.default_subs&&(a.default_subs=H),null==a.content_model&&(a.content_model=H),null==a.context&&(a.context=H),null==a.subs&&(a.subs=H),null==a.attributes&&(a.attributes=H),null==a.style&&(a.style=H),null==a.document&&(a.document=H),J(o=a.default_subs));else if(s=a.content_model,"simple"["$==="](s))o=Y(L,"NORMAL_SUBS");else if("verbatim"["$==="](s))o=J(J(e=a.context["$=="]("listing"))?e:(r=a.context["$=="]("literal"))?a["$option?"]("listparagraph")["$!"]():a.context["$=="]("literal"))?Y(L,"VERBATIM_SUBS"):a.context["$=="]("verse")?Y(L,"NORMAL_SUBS"):Y(L,"BASIC_SUBS");else{if(!"raw"["$==="](s))return a.subs;o=a.context["$=="]("stem")?Y(L,"BASIC_SUBS"):Y(L,"NONE_SUBS")}return a.subs=J(l=a.attributes["$[]"]("subs"))?a.$resolve_block_subs(l,o,a.context):o.$dup(),J(J(e=J(r=J(n=J($=a.context["$=="]("listing")?a.style["$=="]("source"):a.context["$=="]("listing"))?a.attributes["$key?"]("language"):$)?a.document["$basebackend?"]("html"):n)?Y(L,"SUB_HIGHLIGHT")["$include?"](a.document.$attributes()["$[]"]("source-highlighter")):r)?u=a.subs.$index("specialcharacters"):e)&&(c=[u,"highlight"],Z(a.subs,"[]=",t.to_a(c)),c[i(c.length,1)]),a.subs},q.$$arity=0)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var i,$,a,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.module),f=t.klass,_=t.truthy,h=t.hash2,d=t.send,p=t.range;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$converter","$raise","$attributes","$nil?","$[]=","$-","$delete","$update","$nil_or_empty?","$split","$include?","$empty?","$*","$apply_reftext_subs","$attr?","$extname","$image_uri","$attr","$<","$safe","$uriish?","$uri_encode_spaces","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$encode64","$binread","$require_library","$!","$open","$content_type","$read","$base_dir","$new","$root?","$join","$system_path","$web_path","$===","$!=","$normalize_lines_from_string","$open_uri","$fetch","$read_asset","$gsub"]),i=o,($=c(o[0],"Asciidoctor")).$$proto,void function(i,$,a){function o(){}var c,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X=o=f(i,null,"AbstractNode",o),K=X.$$proto,V=[X].concat(a);K.document=K.attributes=K.parent=K.path_resolver=s,X.$include(u(V,"Substitutors")),X.$attr_reader("parent"),X.$attr_reader("document"),X.$attr_reader("context"),X.$attr_reader("node_name"),X.$attr_accessor("id"),X.$attr_reader("attributes"),t.def(X,"$initialize",c=function(t,e,r){var n,i=this;return null==r&&(r=h([],{})),e["$=="]("document")?(n=[i,s],i.document=n[0],i.parent=n[1]):_(t)?(n=[t.$document(),t],i.document=n[0],i.parent=n[1]):i.document=i.parent=s,i.node_name=(i.context=e).$to_s(),i.attributes=_(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():h([],{}),i.passthroughs=h([],{})},c.$$arity=-3),t.def(X,"$parent=",y=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],s},y.$$arity=1),t.def(X,"$converter",m=function(){return this.document.$converter()},m.$$arity=0),t.def(X,"$block?",g=function(){return this.$raise(l("::","NotImplementedError"))},g.$$arity=0),t.def(X,"$inline?",v=function(){return this.$raise(l("::","NotImplementedError"))},v.$$arity=0),t.def(X,"$attr",b=function(t,e,r){var n,i,$=this;return null==e&&(e=s),null==r&&(r=!0),t=t.$to_s(),_(n=$.attributes["$[]"](t))?n:_(_(i=r)?$.parent:i)&&_(i=$.document.$attributes()["$[]"](t))?i:e},b.$$arity=-2),t.def(X,"$attr?",w=function(t,e,r){var n,i,$,a=this;return null==e&&(e=s),null==r&&(r=!0),t=t.$to_s(),_(e["$nil?"]())?_(n=a.attributes["$key?"](t))?n:_(i=_($=r)?a.parent:$)?a.document.$attributes()["$key?"](t):i:e["$=="](_(n=a.attributes["$[]"](t))?n:_(_(i=r)?a.parent:i)?a.document.$attributes()["$[]"](t):s)},w.$$arity=-2),t.def(X,"$set_attr",E=function(r,n,i){var $=s;return null==n&&(n=""),null==i&&(i=!0),!_(i["$=="](!1)?this.attributes["$key?"](r):i["$=="](!1))&&($=[r,n],d(this.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0)},E.$$arity=-2),t.def(X,"$remove_attr",k=function(t){return this.attributes.$delete(t)},k.$$arity=1),t.def(X,"$option?",x=function(t){return this.attributes["$key?"](t+"-option")},x.$$arity=1),t.def(X,"$set_option",A=function(r){var n=s;return _(this.attributes["$key?"]("options"))?(n=["options",this.attributes["$[]"]("options")+","+r],d(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)]):(n=["options",r],d(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)]),n=[r+"-option",""],d(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)]},A.$$arity=1),t.def(X,"$update_attributes",O=function(t){return this.attributes.$update(t),s},O.$$arity=1),t.def(X,"$role",M=function(){var t;return _(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},M.$$arity=0),t.def(X,"$roles",S=function(){var t,e=s;return _((e=_(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},S.$$arity=0),t.def(X,"$role?",T=function(t){var e;return null==t&&(t=s),_(t)?t["$=="](_(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):_(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},T.$$arity=-1),t.def(X,"$has_role?",R=function(t){var e,r;return!_((r=_(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+r+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(X,"$add_role",I=function(r){var n,i=s;return _((n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(i=["role",r],d(this.attributes,"[]=",t.to_a(i)),i[e(i.length,1)],!0):!_((" "+n+" ")["$include?"](" "+r+" "))&&(i=["role",n+" "+r],d(this.attributes,"[]=",t.to_a(i)),i[e(i.length,1)],!0)},I.$$arity=1),t.def(X,"$remove_role",C=function(n){var i=s,$=s;return!_((i=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&!!_((i=i.$split()).$delete(n))&&(_(i["$empty?"]())?this.attributes.$delete("role"):($=["role",r(i," ")],d(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]),!0)},C.$$arity=1),t.def(X,"$reftext",N=function(){var t;return _(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):s},N.$$arity=0),t.def(X,"$reftext?",z=function(){return this.attributes["$key?"]("reftext")},z.$$arity=0),t.def(X,"$icon_uri",P=function(t){var e=s;return _(this["$attr?"]("icon"))?_(l("::","File").$extname(e=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?e+"."+this.document.$attr("icontype","png"):e:this.$image_uri(t+"."+this.document.$attr("icontype","png"),"iconsdir")},P.$$arity=1),t.def(X,"$image_uri",B=function(t,e){var r,i,$,a,o=s,c=s;return null==e&&(e="imagesdir"),_(_(r=n((o=this.document).$safe(),l(u(V,"SafeMode"),"SECURE")))?o["$attr?"]("data-uri"):r)?_(_(r=_(i=u(V,"Helpers")["$uriish?"](t))?t=this.$uri_encode_spaces(t):i)?r:_(i=_($=_(a=e)?c=o.$attr(e):a)?u(V,"Helpers")["$uriish?"](c):$)?t=this.$normalize_web_path(t,c,!1):i)?_(o["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,o["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,_(e)?o.$attr(e):s)},B.$$arity=-2),t.def(X,"$media_uri",q=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,_(e)?r.document.$attr(e):s)},q.$$arity=-2),t.def(X,"$generate_data_uri",D=function(t,e){var r,n=s,i=s;return null==e&&(e=s),r=(n=l("::","File").$extname(t))["$=="](".svg")?"image/svg+xml":"image/"+n["$[]"](p(1,-1,!1)),i=_(e)?this.$normalize_system_path(t,this.document.$attr(e),s,h(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),_(l("::","File")["$readable?"](i))?"data:"+r+";base64,"+l("::","Base64").$encode64(l("::","IO").$binread(i)).$delete(u(V,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+i),"data:"+r+";base64,")},D.$$arity=-2),t.def(X,"$generate_data_uri_from_uri",L=function(e,r){var n,i=this,$=s,a=s;null==r&&(r=!1),_(r)?u(V,"Helpers").$require_library("open-uri/cached","open-uri-cached"):_(l("::","RUBY_ENGINE_OPAL")["$!"]())&&l("::","OpenURI");try{return $=s,a=d(i,"open",[e,"rb"],((n=function(t){return n.$$s,null==t&&(t=s),$=t.$content_type(),t.$read()}).$$s=i,n.$$arity=1,n)),"data:"+$+";base64,"+l("::","Base64").$encode64(a).$delete(u(V,"LF"))}catch(r){if(!t.rescue(r,[u(V,"StandardError")]))throw r;try{return i.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},L.$$arity=-2),t.def(X,"$normalize_asset_path",F=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),s,h(["target_name","recover"],{target_name:e,recover:r}))},F.$$arity=-2),t.def(X,"$normalize_system_path",j=function(t,e,r,i){var $,a=s,o=s;return null==e&&(e=s),null==r&&(r=s),null==i&&(i=h([],{})),a=this.path_resolver=_($=this.path_resolver)?$:u(V,"PathResolver").$new(),_(n((o=this.document).$safe(),l(u(V,"SafeMode"),"SAFE")))?_(e)?_(a["$root?"](e))||(e=l("::","File").$join(o.$base_dir(),e)):e=o.$base_dir():(_(e)||(e=o.$base_dir()),_(r)||(r=o.$base_dir())),a.$system_path(t,e,r,i)},j.$$arity=-2),t.def(X,"$normalize_web_path",U=function(t,e,r){var n;return null==e&&(e=s),null==r&&(r=!0),_(_(n=r)?u(V,"Helpers")["$uriish?"](t):n)?this.$uri_encode_spaces(t):(this.path_resolver=_(n=this.path_resolver)?n:u(V,"PathResolver").$new()).$web_path(t,e)},U.$$arity=-2),t.def(X,"$read_asset",H=function(t,e){var n;return null==e&&(e=h([],{})),_(l("::","Hash")["$==="](e))||(e=h(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),_(l("::","File")["$readable?"](t))?_(e["$[]"]("normalize"))?r(u(V,"Helpers").$normalize_lines_from_string(l("::","IO").$read(t)),u(V,"LF")):l("::","IO").$read(t):_(e["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(_(n=this.$attr("docfile"))?n:"<stdin>")+": "+(_(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t):s},H.$$arity=-2),t.def(X,"$read_contents",G=function(e,n){var i,$,a,o,c=this,f=s,p=s,y=s;if(null==n&&(n=h([],{})),f=c.document,_(_(i=u(V,"Helpers")["$uriish?"](e))?i:_($=_(a=p=n["$[]"]("start"))?u(V,"Helpers")["$uriish?"](p):a)?e=(c.path_resolver=_(a=c.path_resolver)?a:u(V,"PathResolver").$new()).$web_path(e,p):$))if(_(f["$attr?"]("allow-uri-read"))){_(f["$attr?"]("cache-uri"))&&u(V,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{y=d(l("::","OpenURI"),"open_uri",[e],((o=function(t){return o.$$s,null==t&&(t=s),t.$read()}).$$s=c,o.$$arity=1,o)),_(n["$[]"]("normalize"))&&(y=r(u(V,"Helpers").$normalize_lines_from_string(y),u(V,"LF")))}catch(r){if(!t.rescue(r,[u(V,"StandardError")]))throw r;try{_(n.$fetch("warn_on_failure",!0))&&c.$warn("asciidoctor: WARNING: could not retrieve contents of "+(_(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e),y=s}finally{t.pop_exception()}}}else _(n.$fetch("warn_on_failure",!0))&&c.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(_(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),y=s;else e=c.$normalize_system_path(e,n["$[]"]("start"),s,h(["target_name"],{target_name:_(i=n["$[]"]("label"))?i:"asset"})),y=c.$read_asset(e,h(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));return y},G.$$arity=-2),t.def(X,"$uri_encode_spaces",Y=function(t){return _(t["$include?"](" "))?t.$gsub(" ","%20"):t},Y.$$arity=1),t.def(X,"$is_uri?",W=function(t){return u(V,"Helpers")["$uriish?"](t)},W.$$arity=1)}((a=[$].concat(i))[0],0,a)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n,i,$,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.module),u=t.klass,c=t.send,f=t.truthy,_=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$apply_title_subs","$[]","$title","$sub_specialchars","$match?","$sub_replacements","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$<<","$select","$context","$>","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$blocks","$parent","$+","$find_index","$next_adjacent_block","$delete","$increment_and_store_counter","$index=","$-","$numbered","$sectname","$counter","$number=","$number","$caption=","$enumerate_section","$reindex_sections"]),n=a,(i=l(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var l,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L=a=u(n,i,"AbstractBlock",a),F=L.$$proto,j=[L].concat($);F.document=F.attributes=F.blocks=F.source_location=F.subs=F.title=F.title_converted=F.converted_title=F.context=F.caption=F.number=F.next_section_index=F.style=F.id=F.header=F.next_section_number=o,L.$attr_accessor("content_model"),L.$attr_reader("subs"),L.$attr_reader("blocks"),L.$attr_accessor("level"),L.$attr_accessor("style"),L.$attr_writer("caption"),L.$attr_accessor("number"),L.$attr_accessor("source_location"),t.def(L,"$initialize",l=function(e,r,n){var i,$,a=this,s=l.$$p,u=o,h=o;for(null==n&&(n=_([],{})),s&&(l.$$p=null),h=0,$=arguments.length,u=new Array($);h<$;h++)u[h]=arguments[h];return c(a,t.find_super_dispatcher(a,"initialize",l,!1),u,s),a.content_model="compound",a.blocks=[],a.subs=[],a.id=a.title=a.title_converted=a.caption=a.number=a.style=a.default_subs=a.source_location=o,r["$=="]("document")?a.level=0:f(f(i=e)?r["$!="]("section"):i)?a.level=e.$level():a.level=o,a.next_section_index=0,a.next_section_number=1},l.$$arity=-3),t.def(L,"$block?",h=function(){return!0},h.$$arity=0),t.def(L,"$inline?",d=function(){return!1},d.$$arity=0),t.def(L,"$context=",p=function(t){return this.context=t,this.node_name=t.$to_s()},p.$$arity=1),t.def(L,"$convert",y=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},y.$$arity=0),t.alias(L,"render","convert"),t.def(L,"$content",m=function(){var t,e,r;return e=c(this.blocks,"map",[],((t=function(e){return t.$$s,null==e&&(e=o),e.$convert()}).$$s=this,t.$$arity=1,t)),r=s(j,"LF"),"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r)},m.$$arity=0),t.def(L,"$file",g=function(){return f(this.source_location)?this.source_location.$file():o},g.$$arity=0),t.def(L,"$lineno",v=function(){return f(this.source_location)?this.source_location.$lineno():o},v.$$arity=0),t.def(L,"$sub?",b=function(t){return this.subs["$include?"](t)},b.$$arity=1),t.def(L,"$title?",w=function(){return!!f(this.title)},w.$$arity=0),t.def(L,"$title",E=function(){var t,e;return f(this.title_converted)?this.converted_title:this.converted_title=f(t=f(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},E.$$arity=0),t.def(L,"$title=",k=function(t){var e;return e=[t,o],this.title=e[0],this.title_converted=e[1],e},k.$$arity=1),t.def(L,"$caption",x=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},x.$$arity=0),t.def(L,"$captioned_title",A=function(){return""+this.caption+this.$title()},A.$$arity=0),t.def(L,"$alt",O=function(){var t=o;return f(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),f(s(j,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):o},O.$$arity=0),t.def(L,"$xreftext",M=function(t){var e,r,n=this,i=o,$=o,a=o,s=o;return null==t&&(t=o),f(f(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:f(f(e=f(r=t)?n.title:r)?n.caption:e)?"full"["$==="]($=t)?(a=n.$sprintf(n.$sub_quotes(f(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),f(f(e=n.number)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.number+", "+a:n.caption.$chomp(". ")+", "+a):"short"["$==="]($)?f(f(e=n.number)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.number:n.caption.$chomp(". "):n.$title():n.$title()},M.$$arity=-1),t.def(L,"$blocks?",S=function(){return this.blocks["$empty?"]()["$!"]()},S.$$arity=0),t.def(L,"$<<",T=function(t){return this.blocks["$<<"](t),this},T.$$arity=1),t.alias(L,"append","<<"),t.def(L,"$sections",R=function(){var t;return c(this.blocks,"select",[],((t=function(e){return t.$$s,null==e&&(e=o),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},R.$$arity=0),t.def(L,"$sections?",I=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)},I.$$arity=0),t.def(L,"$find_by",C=function(e){var r,n,i,$,a,s,l,u=this,h=C.$$p,d=h||o,p=o,y=o,m=o,g=o,v=o;if(null==e&&(e=_([],{})),h&&(C.$$p=null),p=[],f(f(r=f(n=f(i=f($=l=(y=e["$[]"]("context"))["$!"]())?$:y["$=="](u.context))?f($=(m=e["$[]"]("style"))["$!"]())?$:m["$=="](u.style):i)?f(i=(g=e["$[]"]("role"))["$!"]())?i:u["$has_role?"](g):n)?f(n=(v=e["$[]"]("id"))["$!"]())?n:v["$=="](u.id):r)){if(f(v))return d!==o?f(t.yield1(d,u))?[u]:p:[u];
d!==o?f(t.yield1(d,u))&&p["$<<"](u):p["$<<"](u)}return f(f(r=(n=u.context["$=="]("document"))?f(i=l)?i:y["$=="]("section"):u.context["$=="]("document"))?u["$header?"]():r)&&p.$concat(c(u.header,"find_by",[e],d.$to_proc())),y["$=="]("document")||(u.context["$=="]("dlist")?f(f(r=l)?r:y["$!="]("section"))&&c(u.blocks.$flatten(),"each",[],((a=function(t){return a.$$s,null==t&&(t=o),f(t)?p.$concat(c(t,"find_by",[e],d.$to_proc())):o}).$$s=u,a.$$arity=1,a)):f(c(u.blocks,"each",[],((s=function(t){return s.$$s,null==t&&(t=o),f(y["$=="]("section")?t.$context()["$!="]("section"):y["$=="]("section"))?o:p.$concat(c(t,"find_by",[e],d.$to_proc()))}).$$s=u,s.$$arity=1,s)))),p},C.$$arity=-1),t.alias(L,"query","find_by"),t.def(L,"$next_adjacent_block",N=function(){var t=o,r=o;return this.context["$=="]("document")?o:f(t=(r=this.$parent()).$blocks()["$[]"](e(r.$blocks().$find_index(this),1)))?t:r.$next_adjacent_block()},N.$$arity=0),t.def(L,"$remove_sub",z=function(t){return this.subs.$delete(t),o},z.$$arity=1),t.def(L,"$assign_caption",P=function(t,e){var r,n,i=this,$=o;return null==t&&(t=o),null==e&&(e=o),f(f(r=f(n=i.caption)?n:i.title["$!"]())?r:i.caption=f(n=t)?n:i.document.$attributes()["$[]"]("caption"))?o:f($=i.document.$attributes()["$[]"]((e=f(r=e)?r:i.context)+"-caption"))?(i.caption=$+" "+(i.number=i.document.$increment_and_store_counter(e+"-number",i))+". ",o):o},P.$$arity=-1),t.def(L,"$enumerate_section",B=function(n){var i=o,$=o,a=o;return this.next_section_index=e((i=[this.next_section_index],c(n,"index=",t.to_a(i)),i[r(i.length,1)]),1),f(n.$numbered())&&(($=n.$sectname())["$=="]("appendix")?(i=[this.document.$counter("appendix-number","A")],c(n,"number=",t.to_a(i)),i[r(i.length,1)],f(a=this.document.$attributes()["$[]"]("appendix-caption"))?(i=[a+" "+n.$number()+": "],c(n,"caption=",t.to_a(i)),i[r(i.length,1)]):(i=[n.$number()+". "],c(n,"caption=",t.to_a(i)),i[r(i.length,1)])):$["$=="]("chapter")?(i=[this.document.$counter("chapter-number",1)],c(n,"number=",t.to_a(i)),i[r(i.length,1)]):this.next_section_number=e((i=[this.next_section_number],c(n,"number=",t.to_a(i)),i[r(i.length,1)]),1)),o},B.$$arity=1),t.def(L,"$list_marker_keyword",q=function(t){var e;return null==t&&(t=o),s(j,"ORDERED_LIST_KEYWORDS")["$[]"](f(e=t)?e:this.style)},q.$$arity=-1),t.def(L,"$reindex_sections",D=function(){var t;return this.next_section_index=0,this.next_section_number=1,c(this.blocks,"each",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=o),e.$context()["$=="]("section")?(r.$enumerate_section(e),e.$reindex_sections()):o}).$$s=this,t.$$arity=1,t))},D.$$arity=0)}(($=[i].concat(n))[0],s($,"AbstractNode"),$)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n,i,$,a=[],o=t.nil,s=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,f=t.hash2,_=t.truthy,h=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),n=a,(i=u(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var u,d,p,y,m,g,v,b,w,E,k,x,A=a=c(n,null,"AttributeList",a),O=A.$$proto,M=[A].concat($);O.attributes=O.scanner=O.delimiter=O.block=O.delimiter_skip_pattern=O.delimiter_boundary_pattern=o,t.const_set(M[0],"BACKSLASH","\\"),t.const_set(M[0],"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),t.const_set(M[0],"EscapedQuotes",f(['"',"'"],{'"':'\\"',"'":"\\'"})),t.const_set(M[0],"NameRx",new RegExp(l(M,"CG_WORD")+"["+l(M,"CC_WORD")+"\\-.]*")),t.const_set(M[0],"BlankRx",/[ \t]+/),t.const_set(M[0],"SkipRxs",f(["blank",","],{blank:l(M,"BlankRx"),",":/[ \t]*(,|$)/})),t.def(A,"$initialize",u=function(t,e,r){return null==e&&(e=o),null==r&&(r=","),this.scanner=s("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=l(M,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=l(M,"BoundaryRxs")["$[]"](r),this.attributes=o},u.$$arity=-2),t.def(A,"$parse_into",d=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},d.$$arity=-2),t.def(A,"$parse",p=function(t){var r=o;if(null==t&&(t=[]),_(this.attributes))return this.attributes;for(this.attributes=f([],{}),r=0;_(this.$parse_attribute(r,t))&&!_(this.scanner["$eos?"]());)this.$skip_delimiter(),r=e(r,1);return this.attributes},p.$$arity=-1),t.def(A,"$rekey",y=function(t){return l(M,"AttributeList").$rekey(this.attributes,t)},y.$$arity=1),t.defs(A,"$rekey",m=function(n,i){var $;return h(i,"each_with_index",[],(($=function(i,a){$.$$s;var s,l,u=o;return null==i&&(i=o),null==a&&(a=o),_(i)?(s=e(a,1),_(l=n["$[]"](s))?(u=[i,l],h(n,"[]=",t.to_a(u)),u[r(u.length,1)]):o):o}).$$s=this,$.$$arity=2,$)),n},m.$$arity=2),t.def(A,"$parse_attribute",g=function n(i,$){var a,s,l,u,c=this,f=o,d=o,p=o,y=o,m=o,g=o,n=o,v=o,b=o,w=o;if(null==i&&(i=0),null==$&&($=[]),f=!1,c.$skip_blank(),(d=c.scanner.$peek(1))["$=="]('"'))p=c.$parse_attribute_value(c.scanner.$get_byte()),y=o;else if(d["$=="]("'"))p=c.$parse_attribute_value(c.scanner.$get_byte()),y=o,f=!0;else{if(p=c.$scan_name(),m=0,g=o,_(c.scanner["$eos?"]())){if(!_(p))return!1}else m=_(a=c.$skip_blank())?a:0,g=c.scanner.$get_byte();if(_(_(a=g["$!"]())?a:g["$=="](c.delimiter)))y=o;else if(_(_(a=g["$!="]("="))?a:p["$!"]()))p=""+p+(u=m,"number"==typeof(l=" ")&&"number"==typeof u?l*u:l["$*"](u))+g+c.$scan_to_delimiter(),y=o;else if(c.$skip_blank(),_(c.scanner.$peek(1)))if((g=c.scanner.$get_byte())["$=="]('"'))y=c.$parse_attribute_value(g);else if(g["$=="]("'"))y=c.$parse_attribute_value(g),f=!0;else if(g["$=="](c.delimiter))y=o;else if((y=""+g+c.$scan_to_delimiter())["$=="]("None"))return!0}return _(y)?"options"["$==="](n=p)||"opts"["$==="](n)?(_(y["$include?"](","))?(_(y["$include?"](" "))&&(y=y.$delete(" ")),h(y.$split(","),"each",[],((s=function(e){var n=s.$$s||this,i=o;return null==n.attributes&&(n.attributes=o),null==e&&(e=o),_(e["$empty?"]())?o:(i=[e+"-option",""],h(n.attributes,"[]=",t.to_a(i)),i[r(i.length,1)])}).$$s=c,s.$$arity=1,s))):(v=[(y=y.$strip())+"-option",""],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),v=["options",y],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):_(_(a=f)?c.block:a)?"title"["$==="](n=p)||"reftext"["$==="](n)?(v=[p,y],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[p,c.block.$apply_subs(y)],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[p,y],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(b=_(_(a=f)?c.block:a)?c.block.$apply_subs(p):p,_(w=$["$[]"](i))&&(v=[w,b],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),v=[e(i,1),b],h(c.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),!0},g.$$arity=-1),t.def(A,"$parse_attribute_value",v=function(t){var e=o;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):_(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),_(e["$include?"](l(M,"BACKSLASH")))?e.$gsub(l(M,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},v.$$arity=1),t.def(A,"$skip_blank",b=function(){return this.scanner.$skip(l(M,"BlankRx"))},b.$$arity=0),t.def(A,"$skip_delimiter",w=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},w.$$arity=0),t.def(A,"$scan_name",E=function(){return this.scanner.$scan(l(M,"NameRx"))},E.$$arity=0),t.def(A,"$scan_to_delimiter",k=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},k.$$arity=0),t.def(A,"$scan_to_quote",x=function(t){return this.scanner.$scan(l(M,"BoundaryRxs")["$[]"](t))},x.$$arity=1)}(($=[i].concat(n))[0],0,$)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var n,i,$,a=[],o=t.nil,s=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,f=t.send,_=t.hash2,h=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),n=a,(i=u(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var u,d,p,y,m,g=a=c(n,i,"Block",a),v=g.$$proto,b=[g].concat($);v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=o,m=["simple"],f(t.const_set(b[0],"DEFAULT_CONTENT_MODEL",_(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(m)),e(m.length,1),t.alias(g,"blockname","context"),g.$attr_accessor("lines"),t.def(g,"$initialize",u=function(r,n,i){var $,a,c=this,d=u.$$p,p=o,y=o,m=o,g=o,v=o;for(null==i&&(i=_([],{})),d&&(u.$$p=null),v=0,a=arguments.length,g=new Array(a);v<a;v++)g[v]=arguments[v];return f(c,t.find_super_dispatcher(c,"initialize",u,!1),g,d),c.content_model=h($=i["$[]"]("content_model"))?$:l(b,"DEFAULT_CONTENT_MODEL")["$[]"](n),h(i["$key?"]("subs"))?h(p=i["$[]"]("subs"))?(p["$=="]("default")?c.default_subs=i["$[]"]("default_subs"):h(s("::","Array")["$==="](p))?(c.default_subs=p.$dup(),c.attributes.$delete("subs")):(c.default_subs=o,y=["subs",""+p],f(c.attributes,"[]=",t.to_a(y)),y[e(y.length,1)]),c.$lock_in_subs()):(c.default_subs=[],c.attributes.$delete("subs")):c.default_subs=o,h((m=i["$[]"]("source"))["$nil_or_empty?"]())?c.lines=[]:h(s("::","String")["$==="](m))?c.lines=l(b,"Helpers").$normalize_lines_from_string(m):c.lines=m.$dup()},u.$$arity=-3),t.def(g,"$content",d=function(){var e,n,i=this,$=d.$$p,a=o,s=o,u=o,c=o,_=o,p=o;for($&&(d.$$p=null),p=0,n=arguments.length,_=new Array(n);p<n;p++)_[p]=arguments[p];return function(){if(a=i.content_model,"compound"["$==="](a))return f(i,t.find_super_dispatcher(i,"content",d,!1),_,$);if("simple"["$==="](a))return i.$apply_subs(r(i.lines,l(b,"LF")),i.subs);if("verbatim"["$==="](a)||"raw"["$==="](a)){if(s=i.$apply_subs(i.lines,i.subs),h((n=s.$size(),p=2,"number"==typeof n&&"number"==typeof p?n<p:n["$<"](p))))return s["$[]"](0);for(;h(h(e=u=s["$[]"](0))?u.$rstrip()["$empty?"]():e);)s.$shift();for(;h(h(e=c=s["$[]"](-1))?c.$rstrip()["$empty?"]():e);)s.$pop();return r(s,l(b,"LF"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),o;var n,p}()},d.$$arity=0),t.def(g,"$source",p=function(){return r(this.lines,l(b,"LF"))},p.$$arity=0),t.def(g,"$to_s",y=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},y.$$arity=0)}(($=[i].concat(n))[0],l($,"AbstractBlock"),$)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n,i,$,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),l=t.klass,u=t.hash2,c=t.truthy,f=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),n=a,(i=s(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var s,_,h,d,p,y,m,g,v,b=a=l(n,null,"Callouts",a),w=b.$$proto;[b].concat($),w.co_index=w.lists=w.list_index=o,t.def(b,"$initialize",s=function(){return this.lists=[],this.list_index=0,this.$next_list()},s.$$arity=0),t.def(b,"$register",_=function(t){var r;return this.$current_list()["$<<"](u(["ordinal","id"],{ordinal:t.$to_i(),id:r=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),r},_.$$arity=1),t.def(b,"$read_next_id",h=function(){var t,n,i=o,$=o;return i=o,$=this.$current_list(),c((t=this.co_index,n=$.$size(),"number"==typeof t&&"number"==typeof n?t<=n:t["$<="](n)))&&(i=$["$[]"](r(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),i},h.$$arity=0),t.def(b,"$callout_ids",d=function(t){var e;return f(this.$current_list(),"map",[],(e=function(r){return e.$$s,null==r&&(r=o),r["$[]"]("ordinal")["$=="](t)?r["$[]"]("id")+" ":o},e.$$s=this,e.$$arity=1,e)).$join().$chop()},d.$$arity=1),t.def(b,"$current_list",p=function(){return this.lists["$[]"](r(this.list_index,1))},p.$$arity=0),t.def(b,"$next_list",y=function(){var t,r;return this.list_index=e(this.list_index,1),c((t=this.lists.$size(),r=this.list_index,"number"==typeof t&&"number"==typeof r?t<r:t["$<"](r)))&&this.lists["$<<"]([]),this.co_index=1,o},y.$$arity=0),t.def(b,"$rewind",m=function(){return this.list_index=1,this.co_index=1,o},m.$$arity=0),t.def(b,"$generate_next_callout_id",g=function(){return this.$generate_callout_id(this.list_index,this.co_index)},g.$$arity=0),t.def(b,"$generate_callout_id",v=function(t,e){return"CO"+t+"-"+e},v.$$arity=2)}(($=[i].concat(n))[0],0,$)},Opal.modules["asciidoctor/converter/base"]=function(t){t.top;var e,r,n,i,$,a,o=[],s=t.nil,l=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.module),c=t.klass,f=t.hash2,_=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),e=o,($=u(o[0],"Asciidoctor")).$$proto,a=[$].concat(e),r=a[0],n=a,(i=u(r,"Converter")).$$proto,[i].concat(n),function(t,e,r){function n(){}var i=n=c(t,null,"Base",n),$=(i.$$proto,[i].concat(r));i.$include(l($,"Converter"))}(l(a,"Converter"),0,a),void function(e,r,n){function i(){}var $,a,o,l,u=i=c(e,null,"BuiltIn",i);u.$$proto,[u].concat(n),t.def(u,"$initialize",$=function(t,e){return null==e&&(e=f([],{})),s},$.$$arity=-2),t.def(u,"$convert",a=function(t,e,r){var n;return null==e&&(e=s),null==r&&(r=f([],{})),e=_(n=e)?n:t.$node_name(),_(r["$empty?"]())?this.$send(e,t):this.$send(e,t,r)},a.$$arity=-2),t.alias(u,"handles?","respond_to?"),t.def(u,"$content",o=function(t){return t.$content()},o.$$arity=1),t.alias(u,"pass","content"),t.def(u,"$skip",l=function(t){return s},l.$$arity=1)}(l(a,"Converter"),0,a)},Opal.modules["asciidoctor/converter/factory"]=function(t){t.top;var e,r,n,i,$,a,o,s=[],l=t.nil,u=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.module),_=t.klass,h=t.truthy,d=t.hash2,p=t.send;return t.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),e=s,(a=f(s[0],"Asciidoctor")).$$proto,o=[a].concat(e),r=o[0],n=o,(i=f(r,"Converter")).$$proto,void function(e,r,n){function i(){}var $,a,o,s,f,y,m,g,v,b,w,E,k,x=i=_(e,null,"Factory",i),A=x.$$proto,O=[x].concat(n);A.converters=A.star_converter=l,x.__default__=l,y=t.get_singleton_class(x),m=O,y.$$proto,[y].concat(m),t.def(y,"$default",g=function(e){var r,n=this;return null==n.__default__&&(n.__default__=l),null==e&&(e=!0),h(e)?n.__default__=h(r=n.__default__)?r:function(){try{return h(u("::","ThreadSafe","skip_raise")?"constant":l)||n.$require("thread_safe".$to_s()),n.$new(u(u("::","ThreadSafe"),"Cache").$new())}catch(e){if(!t.rescue(e,[u("::","LoadError")]))throw e;try{return n.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),n.$new()}finally{t.pop_exception()}}}():h(r=n.__default__)?r:n.$new()},g.$$arity=-1),t.def(y,"$register",v=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},v.$$arity=-2),t.def(y,"$resolve",b=function(t){return this.$default().$resolve(t)},b.$$arity=1),t.def(y,"$create",w=function(t,e){return null==e&&(e=d([],{})),this.$default().$create(t,e)},w.$$arity=-2),t.def(y,"$converters",E=function(){return this.$default().$converters()},E.$$arity=0),t.def(y,"$unregister_all",k=function(){return this.$default().$unregister_all()},k.$$arity=0),x.$attr_reader("converters"),t.def(x,"$initialize",$=function(t){var e;return null==t&&(t=l),this.converters=h(e=t)?e:d([],{}),this.star_converter=l},$.$$arity=-1),t.def(x,"$register",a=function(e,r){var n;return null==r&&(r=["*"]),p(r,"each",[],((n=function(r){var i,$,a,o=n.$$s||this;return null==o.converters&&(o.converters=l),null==r&&(r=l),i=[r,e],p(o.converters,"[]=",t.to_a(i)),a=1,"number"==typeof($=i.length)&&"number"==typeof a||$["$-"](a),r["$=="]("*")?o.star_converter=e:l}).$$s=this,n.$$arity=1,n)),l},a.$$arity=-2),t.def(x,"$resolve",o=function(t){var e,r;return h(e=this.converters)?h(r=this.converters["$[]"](t))?r:this.star_converter:e},o.$$arity=1),t.def(x,"$unregister_all",s=function(){return this.converters.$clear(),this.star_converter=l},s.$$arity=0),t.def(x,"$create",f=function t(e,r){var n,i,$,a,o,s,f,t,_,p,y,m,g,v,b=this,w=l,E=l;return null==r&&(r=d([],{})),h(w=b.$resolve(e))?h(u("::","Class")["$==="](w))?w.$new(e,r):w:(g="html5"["$==="](E=e)?(h((i=u("::","Asciidoctor","skip_raise"))&&(n=u(i,"Converter","skip_raise"))&&u(n,"Html5Converter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/html5".$to_s()),c(O,"Html5Converter").$new(e,r)):"docbook5"["$==="](E)?(h((a=u("::","Asciidoctor","skip_raise"))&&($=u(a,"Converter","skip_raise"))&&u($,"DocBook5Converter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/docbook5".$to_s()),c(O,"DocBook5Converter").$new(e,r)):"docbook45"["$==="](E)?(h((s=u("::","Asciidoctor","skip_raise"))&&(o=u(s,"Converter","skip_raise"))&&u(o,"DocBook45Converter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/docbook45".$to_s()),c(O,"DocBook45Converter").$new(e,r)):"manpage"["$==="](E)?(h((t=u("::","Asciidoctor","skip_raise"))&&(f=u(t,"Converter","skip_raise"))&&u(f,"ManPageConverter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/manpage".$to_s()),c(O,"ManPageConverter").$new(e,r)):l,h(r["$key?"]("template_dirs"))?(h((p=u("::","Asciidoctor","skip_raise"))&&(_=u(p,"Converter","skip_raise"))&&u(_,"TemplateConverter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/template".$to_s()),h((m=u("::","Asciidoctor","skip_raise"))&&(y=u(m,"Converter","skip_raise"))&&u(y,"CompositeConverter","skip_raise")?"constant":l)||b.$require("asciidoctor/converter/composite".$to_s()),v=c(O,"TemplateConverter").$new(e,r["$[]"]("template_dirs"),r),c(O,"CompositeConverter").$new(e,v,g)):g)},f.$$arity=-2)}(($=[i].concat(n))[0],0,$)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,n,i,$,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P=t.top,B=[],q=t.nil,D=t.const_get_qualified,L=t.const_get_relative,F=(t.breaker,t.slice,t.module),j=t.send,U=t.truthy,H=t.range,G=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),r=B,(N=F(B[0],"Asciidoctor")).$$proto,z=[N].concat(r),n=z[0],i=z,(w=F(n,"Converter")).$$proto,E=[w].concat(i),o=E[0],s=E,(u=F(o,"Config")).$$proto,c=[u].concat(s),t.def(u,"$register_for",l=function e(r){var n,i,$,a,o,s,l=arguments.length,e=l-0;e<0&&(e=0),$=new Array(e);for(var u=0;u<l;u++)$[u-0]=arguments[u];return L(c,"Factory").$register(this,$),o=t.get_singleton_class(this),s=c,o.$$proto,[o].concat(s),a=o,$["$=="](["*"])?j(a,"send",["define_method","converts?"],((n=function(t){return n.$$s,null==t&&(t=q),!0}).$$s=this,n.$$arity=1,n)):j(a,"send",["define_method","converts?"],((i=function(t){return i.$$s,null==t&&(t=q),$["$include?"](t)}).$$s=this,i.$$arity=1,i)),q},l.$$arity=-1),f=E[0],_=E,(v=F(f,"BackendInfo")).$$proto,b=[v].concat(_),t.def(v,"$backend_info",h=function(){var t;return null==this.backend_info&&(this.backend_info=q),this.backend_info=U(t=this.backend_info)?t:this.$setup_backend_info()},h.$$arity=0),t.def(v,"$setup_backend_info",d=function(){var t=q,e=q,r=q,n=q;return null==this.backend&&(this.backend=q),U(this.backend)||this.$raise(D("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),t=this.backend.$sub(L(b,"TrailingDigitsRx"),""),U(e=L(b,"DEFAULT_EXTENSIONS")["$[]"](t))?r=e["$[]"](H(1,-1,!1)):(t="html",e=".html",r="html",n="html"),G(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:t,outfilesuffix:e,filetype:r,htmlsyntax:n})},d.$$arity=0),t.def(v,"$filetype",p=function(r){var n=q;return null==r&&(r=q),U(r)?(n=["filetype",r],j(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("filetype")},p.$$arity=-1),t.def(v,"$basebackend",y=function(r){var n=q;return null==r&&(r=q),U(r)?(n=["basebackend",r],j(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("basebackend")},y.$$arity=-1),t.def(v,"$outfilesuffix",m=function(r){var n=q;return null==r&&(r=q),U(r)?(n=["outfilesuffix",r],j(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},m.$$arity=-1),t.def(v,"$htmlsyntax",g=function(r){var n=q;return null==r&&(r=q),U(r)?(n=["htmlsyntax",r],j(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},g.$$arity=-1),function(e,r){e.$$proto;var n,i=[e].concat(r);t.def(e,"$included",n=function(t){return t.$extend(L(i,"Config"))},n.$$arity=1)}(t.get_singleton_class(w),E),w.$include(L(E,"Config")),w.$include(L(E,"BackendInfo")),t.def(w,"$initialize",$=function(t,e){return null==e&&(e=G([],{})),this.backend=t,this.$setup_backend_info()},$.$$arity=-2),t.def(w,"$convert",a=function(t,e,r){return null==e&&(e=q),null==r&&(r=G([],{})),this.$raise(D("::","NotImplementedError"))},a.$$arity=-2),t.alias(w,"convert_with_options","convert"),k=z[0],x=z,(O=F(k,"Writer")).$$proto,M=[O].concat(x),t.def(O,"$write",A=function(t,e){return U(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write(L(M,"LF"))):D("::","IO").$write(e,t),q},A.$$arity=2),S=z[0],T=z,(I=F(S,"VoidWriter")).$$proto,C=[I].concat(T),I.$include(L(C,"Writer")),t.def(I,"$write",R=function(t,e){return q},R.$$arity=2),P.$require("asciidoctor/converter/base"),P.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var i,$,a,o=[],s=t.nil,l=t.const_get_qualified,u=t.const_get_relative,c=(t.breaker,t.slice,t.module),f=t.klass,_=t.truthy,h=t.send,d=t.hash2,p=t.range,y=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$catalog","$==","$callouts","$dup","$attributes","$safe","$compat_mode","$sourcemap","$converter","$extensions","$each","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$update_doctype_attributes","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$slice","$strftime","$year","$join","$create","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$merge","$find","$context","$enumerate_section","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$backend","$default","$doctype","$content_model","$warn","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$*","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),i=o,($=c(o[0],"Asciidoctor")).$$proto,void function(i,$,a){function o(){}var c,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot=o=f(i,$,"Document",o),st=ot.$$proto,lt=[ot].concat(a);st.attributes=st.safe=st.reader=st.base_dir=st.parsed=st.parent_document=st.extensions=st.options=st.counters=st.catalog=st.header=st.blocks=st.attributes_modified=st.id=st.callouts=st.header_attributes=st.max_attribute_value_size=st.attribute_overrides=st.backend=st.doctype=st.converter=st.outfilesuffix=st.docinfo_processor_extensions=st.document=s,t.const_set(lt[0],"Footnote",l("::","Struct").$new("index","id","text")),function(r,n,i){function $(){}var a,o,l=$=f(r,null,"AttributeEntry",$);l.$$proto,[l].concat(i),l.$attr_reader("name","value","negate"),t.def(l,"$initialize",a=function(t,e,r){return null==r&&(r=s),this.name=t,this.value=e,this.negate=_(r["$nil?"]())?e["$nil?"]():r},a.$$arity=-3),t.def(l,"$save_to",o=function(r){var n,i=s;return(_(n=r["$[]"]("attribute_entries"))?n:(i=["attribute_entries",[]],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},o.$$arity=1)}(lt[0],0,lt),function(e,r,n){function i(){}var $,a,o,l,c=i=f(e,null,"Title",i),h=c.$$proto,p=[c].concat(n);h.sanitized=h.subtitle=h.combined=s,c.$attr_reader("main"),t.alias(c,"title","main"),c.$attr_reader("subtitle"),c.$attr_reader("combined"),t.def(c,"$initialize",$=function e(r,n){var i,$,e=s;return null==n&&(n=d([],{})),_(_(i=this.sanitized=n["$[]"]("sanitize"))?r["$include?"]("<"):i)&&(r=r.$gsub(u(p,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),_(_(i=(e=_($=n["$[]"]("separator"))?$:":")["$empty?"]())?i:r["$include?"](e+=" ")["$!"]())?(this.main=r,this.subtitle=s):($=r.$rpartition(e),i=t.to_ary($),this.main=null==i[0]?s:i[0],null==i[1]||i[1],this.subtitle=null==i[2]?s:i[2]),this.combined=r},$.$$arity=-2),t.def(c,"$sanitized?",a=function(){return this.sanitized},a.$$arity=0),t.def(c,"$subtitle?",o=function(){return!!_(this.subtitle)},o.$$arity=0),t.def(c,"$to_s",l=function(){return this.combined},l.$$arity=0)}(lt[0],0,lt),ot.$attr_reader("safe"),ot.$attr_reader("compat_mode"),ot.$attr_reader("backend"),ot.$attr_reader("doctype"),ot.$attr_accessor("sourcemap"),ot.$attr_reader("catalog"),t.alias(ot,"references","catalog"),ot.$attr_reader("counters"),ot.$attr_reader("callouts"),ot.$attr_reader("header"),ot.$attr_reader("base_dir"),ot.$attr_reader("options"),ot.$attr_reader("outfilesuffix"),ot.$attr_reader("parent_document"),ot.$attr_reader("reader"),ot.$attr_reader("converter"),ot.$attr_reader("extensions"),t.def(ot,"$initialize",c=function(i,$){var a,o,f,y,m,g,v,b,w,E,k,x,A=this,O=c.$$p,M=s,S=s,T=s,R=s,I=s,C=s,N=s,z=s,P=s,B=s,q=s,D=s,L=s,F=s;if(null==i&&(i=s),null==$&&($=d([],{})),O&&(c.$$p=null),h(A,t.find_super_dispatcher(A,"initialize",c,!1),[A,"document"],null),_(M=$.$delete("parent")))A.parent_document=M,_(a=$["$[]"]("base_dir"))||(S=["base_dir",M.$base_dir()],h($,"[]=",t.to_a(S)),S[e(S.length,1)]),A.catalog=h(M.$catalog(),"inject",[d([],{})],((o=function(r,n){var i,$,a;return o.$$s,null==n&&(n=s),n=t.to_ary(n),i=t.slice.call(n,0,n.length),null==($=i.splice(0,1)[0])&&($=s),null==(a=i.splice(0,1)[0])&&(a=s),null==r&&(r=s),S=[$,$["$=="]("footnotes")?[]:a],h(r,"[]=",t.to_a(S)),S[e(S.length,1)],r}).$$s=A,o.$$arity=2,o.$$has_top_level_mlhs_arg=!0,o)),A.callouts=M.$callouts(),A.attribute_overrides=T=M.$attributes().$dup(),R=T.$delete("doctype"),T.$delete("compat-mode"),T.$delete("toc"),T.$delete("toc-placement"),T.$delete("toc-position"),A.safe=M.$safe(),_(A.compat_mode=M.$compat_mode())&&(S=["compat-mode",""],h(A.attributes,"[]=",t.to_a(S)),S[e(S.length,1)]),A.sourcemap=M.$sourcemap(),A.converter=M.$converter(),I=!1,A.extensions=M.$extensions();else{if(A.parent_document=s,A.catalog=d(["ids","refs","footnotes","links","images","indexterms","includes"],{ids:d([],{}),refs:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:l("::","Set").$new()}),A.callouts=u(lt,"Callouts").$new(),T=d([],{}),h(_(a=$["$[]"]("attributes"))?a:d([],{}),"each",[],((f=function(r,n){return f.$$s,null==r&&(r=s),null==n&&(n=s),_(r["$start_with?"]("!"))?(r=r["$[]"](p(1,-1,!1)),n=s):_(r["$end_with?"]("!"))&&(r=r.$chop(),n=s),S=[r.$downcase(),n],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]}).$$s=A,f.$$arity=2,f)),A.attribute_overrides=T,_((C=$["$[]"]("safe"))["$!"]()))A.safe=l(u(lt,"SafeMode"),"SECURE");else if(_(l("::","Integer")["$==="](C)))A.safe=C;else try{A.safe=u(lt,"SafeMode").$value_for_name(C.$to_s())}catch(e){if(!t.rescue(e,[u(lt,"StandardError")]))throw e;try{A.safe=l(u(lt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}A.compat_mode=T["$key?"]("compat-mode"),A.sourcemap=$["$[]"]("sourcemap"),A.converter=s,I=(y=l("::","Asciidoctor","skip_raise"))&&(a=l(y,"Extensions","skip_raise"))?"constant":s,A.extensions=s}return A.parsed=!1,A.header=s,A.counters=d([],{}),A.attributes_modified=l("::","Set").$new(),A.docinfo_processor_extensions=d([],{}),b=_(m=$["$[]"]("header_footer"))?m:(S=["header_footer",!1],h($,"[]=",t.to_a(S)),S[e(S.length,1)]),(A.options=$).$freeze(),N=A.attributes,S=["sectids",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["toc-placement","auto"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],_(b)?(S=["copycss",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["embedded",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]):(S=["notitle",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["embedded",""],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["stylesheet",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["webfonts",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["prewrap",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["attribute-undefined",u(lt,"Compliance").$attribute_undefined()],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["attribute-missing",u(lt,"Compliance").$attribute_missing()],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["iconfont-remote",""],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["caution-caption","Caution"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["important-caption","Important"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["note-caption","Note"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["tip-caption","Tip"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["warning-caption","Warning"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["example-caption","Example"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["figure-caption","Figure"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["table-caption","Table"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["toc-title","Table of Contents"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["manname-title","NAME"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["section-refsig","Section"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["chapter-refsig","Chapter"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["appendix-caption",(S=["appendix-refsig","Appendix"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)])],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["untitled-label","Untitled"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["version-label","Version"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["last-update-label","Last updated"],h(N,"[]=",t.to_a(S)),S[e(S.length,1)],S=["asciidoctor",""],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],S=["asciidoctor-version",u(lt,"VERSION")],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-name",w=u(lt,"SafeMode").$name_for_value(A.safe)],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-"+w,""],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-level",A.safe],
h(T,"[]=",t.to_a(S)),S[e(S.length,1)],_(m=T["$[]"]("max-include-depth"))||(S=["max-include-depth",64],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=T["$[]"]("allow-uri-read"))||(S=["allow-uri-read",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["user-home",u(lt,"USER_HOME")],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],_(T["$key?"]("numbered"))&&(S=["sectnums",T.$delete("numbered")],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(E=$["$[]"]("base_dir"))?A.base_dir=(S=["docdir",l("::","File").$expand_path(E)],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]):_(T["$[]"]("docdir"))?A.base_dir=T["$[]"]("docdir"):A.base_dir=(S=["docdir",l("::","Dir").$pwd()],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(k=$["$[]"]("backend"))&&(S=["backend",""+k],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(x=$["$[]"]("doctype"))&&(S=["doctype",""+x],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(r(A.safe,l(u(lt,"SafeMode"),"SERVER")))&&(_(m=T["$[]"]("copycss"))||(S=["copycss",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=T["$[]"]("source-highlighter"))||(S=["source-highlighter",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=T["$[]"]("backend"))||(S=["backend",u(lt,"DEFAULT_BACKEND")],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(_(m=M["$!"]())?T["$key?"]("docfile"):m)&&(S=["docfile",T["$[]"]("docfile")["$[]"](t.Range.$new(n(T["$[]"]("docdir").$length(),1),-1,!1))],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["docdir",""],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],S=["user-home","."],h(T,"[]=",t.to_a(S)),S[e(S.length,1)],_(r(A.safe,l(u(lt,"SafeMode"),"SECURE")))&&(_(T["$key?"]("max-attribute-value-size"))||(S=["max-attribute-value-size",4096],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(T.$fetch("linkcss","")["$nil?"]())||(S=["linkcss",""],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=T["$[]"]("icons"))||(S=["icons",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]))),A.max_attribute_value_size=_(z=_(m=T["$[]"]("max-attribute-value-size"))?m:(S=["max-attribute-value-size",s],h(T,"[]=",t.to_a(S)),S[e(S.length,1)]))?z.$to_i().$abs():s,h(T,"delete_if",[],((g=function(r,n){g.$$s;var i,$=s;return null==r&&(r=s),null==n&&(n=s),$=!1,_(n["$nil?"]())?N.$delete(r):(_(_(i=l("::","String")["$==="](n))?n["$end_with?"]("@"):i)&&(n=n.$chop(),$=!0),S=[r,n],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),$}).$$s=A,g.$$arity=2,g)),_(M)?(A.backend=N["$[]"]("backend"),(A.doctype=(S=["doctype",R],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]))["$=="](u(lt,"DEFAULT_DOCTYPE"))||A.$update_doctype_attributes(u(lt,"DEFAULT_DOCTYPE")),A.reader=u(lt,"Reader").$new(i,$["$[]"]("cursor")),u(lt,"Parser").$parse(A.reader,A),A.$restore_attributes(),A.parsed=!0):(A.backend=s,(_(m=N["$[]"]("backend"))?m:(S=["backend",u(lt,"DEFAULT_BACKEND")],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]))["$=="]("manpage")?A.doctype=(S=["doctype",(S=["doctype","manpage"],h(T,"[]=",t.to_a(S)),S[e(S.length,1)])],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]):A.doctype=_(m=N["$[]"]("doctype"))?m:(S=["doctype",u(lt,"DEFAULT_DOCTYPE")],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),A.$update_backend_attributes(N["$[]"]("backend"),!0),P=_(l("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?l("::","Time").$at(A.$Integer(l("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():l("::","Time").$now(),_(B=N["$[]"]("localdate"))?q=_(m=N["$[]"]("localyear"))?m:(S=["localyear",B.$index("-")["$=="](4)?B.$slice(0,4):s],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]):(S=["localdate",P.$strftime("%Y-%m-%d")],h(N,"[]=",t.to_a(S)),B=S[e(S.length,1)],q=_(m=N["$[]"]("localyear"))?m:(S=["localyear",P.$year().$to_s()],h(N,"[]=",t.to_a(S)),S[e(S.length,1)])),D=_(m=N["$[]"]("localtime"))?m:(S=["localtime",function(){try{return P.$strftime("%H:%M:%S %Z")}catch(e){if(!t.rescue(e,[u(lt,"StandardError")]))throw e;try{return P.$strftime("%H:%M:%S %z")}finally{t.pop_exception()}}}()],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("localdatetime"))||(S=["localdatetime",B+" "+D],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("docdate"))||(S=["docdate",B],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("docyear"))||(S=["docyear",q],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("doctime"))||(S=["doctime",D],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("docdatetime"))||(S=["docdatetime",B+" "+D],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("stylesdir"))||(S=["stylesdir","."],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(m=N["$[]"]("iconsdir"))||(S=["iconsdir",l("::","File").$join(N.$fetch("imagesdir","./images"),"icons")],h(N,"[]=",t.to_a(S)),S[e(S.length,1)]),_(I)&&(_(L=$["$[]"]("extension_registry"))?_(_(m=l(u(lt,"Extensions"),"Registry")["$==="](L))?m:_(v=l("::","RUBY_ENGINE_JRUBY"))?l(l(l("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](L):v)||(L=l(u(lt,"Extensions"),"Registry").$new()):L=_(l("::","Proc")["$==="](F=$["$[]"]("extensions")))?h(u(lt,"Extensions"),"create",[],F.$to_proc()):l(u(lt,"Extensions"),"Registry").$new(),A.extensions=L.$activate(A)),A.reader=u(lt,"PreprocessorReader").$new(A,i,l(u(lt,"Reader"),"Cursor").$new(N["$[]"]("docfile"),A.base_dir),d(["normalize"],{normalize:!0})))},c.$$arity=-1),t.def(ot,"$parse",m=function(t){var e,r,n,i=this,$=s,a=s;return null==t&&(t=s),_(i.parsed)?i:($=i,_(t)&&(i.reader=u(lt,"PreprocessorReader").$new($,t,l(u(lt,"Reader"),"Cursor").$new(i.attributes["$[]"]("docfile"),i.base_dir),d(["normalize"],{normalize:!0}))),_(_(e=a=_(i.parent_document)?s:i.extensions)?a["$preprocessors?"]():e)&&h(a.$preprocessors(),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=s),null==t&&(t=s),n.reader=_(e=t.$process_method()["$[]"]($,n.reader))?e:n.reader}).$$s=i,r.$$arity=1,r)),u(lt,"Parser").$parse(i.reader,$,d(["header_only"],{header_only:i.options["$[]"]("parse_header_only")})),i.$restore_attributes(),_(_(e=a)?a["$tree_processors?"]():e)&&h(a.$tree_processors(),"each",[],((n=function(t){n.$$s;var e,r,i=s;return null==t&&(t=s),_(_(e=_(r=i=t.$process_method()["$[]"]($))?u(lt,"Document")["$==="](i):r)?i["$!="]($):e)?$=i:s}).$$s=i,n.$$arity=1,n)),i.parsed=!0,$)},m.$$arity=-1),t.def(ot,"$counter",g=function(r,n){var i,$,a,o=this,l=s;return null==n&&(n=s),_(o.parent_document)?o.parent_document.$counter(r,n):_(_(i=$=(a=o.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?o.counters["$key?"](r):i)?(l=[r,(l=[r,o.$nextval(a)],h(o.counters,"[]=",t.to_a(l)),l[e(l.length,1)])],h(o.attributes,"[]=",t.to_a(l)),l[e(l.length,1)]):_(n)?(l=[r,(l=[r,n["$=="](n.$to_i().$to_s())?n.$to_i():n],h(o.counters,"[]=",t.to_a(l)),l[e(l.length,1)])],h(o.attributes,"[]=",t.to_a(l)),l[e(l.length,1)]):(l=[r,(l=[r,o.$nextval(_($)?a:0)],h(o.counters,"[]=",t.to_a(l)),l[e(l.length,1)])],h(o.attributes,"[]=",t.to_a(l)),l[e(l.length,1)])},g.$$arity=-2),t.def(ot,"$increment_and_store_counter",v=function(t,e){return u(lt,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},v.$$arity=2),t.alias(ot,"counter_increment","increment_and_store_counter"),t.def(ot,"$nextval",b=function(t){var e=s;return _(l("::","Integer")["$==="](t))?n(t,1):(e=t.$to_i(),_(e.$to_s()["$!="](t.$to_s()))?n(t["$[]"](0).$ord(),1).$chr():n(e,1))},b.$$arity=1),t.def(ot,"$register",w=function(r,i){var $,a,o=this,l=s,u=s,c=s,f=s,d=s,p=s,y=s;return"ids"["$==="](l=r)?(a=i,$=t.to_ary(a),u=null==$[0]?s:$[0],c=null==$[1]?s:$[1],f=o.catalog["$[]"]("ids"),_($=f["$[]"](u))?$:(d=[u,_(a=c)?a:n(n("[",u),"]")],h(f,"[]=",t.to_a(d)),d[e(d.length,1)])):"refs"["$==="](l)?(a=i,$=t.to_ary(a),u=null==$[0]?s:$[0],p=null==$[1]?s:$[1],c=null==$[2]?s:$[2],_((y=o.catalog["$[]"]("refs"))["$key?"](u))?s:(d=[u,_($=c)?$:n(n("[",u),"]")],h(o.catalog["$[]"]("ids"),"[]=",t.to_a(d)),d[e(d.length,1)],d=[u,p],h(y,"[]=",t.to_a(d)),d[e(d.length,1)])):"footnotes"["$==="](l)||"indexterms"["$==="](l)?o.catalog["$[]"](r)["$<<"](i):_(o.options["$[]"]("catalog_assets"))?o.catalog["$[]"](r)["$<<"](i):s},w.$$arity=2),t.def(ot,"$footnotes?",E=function(){return!_(this.catalog["$[]"]("footnotes")["$empty?"]())},E.$$arity=0),t.def(ot,"$footnotes",k=function(){return this.catalog["$[]"]("footnotes")},k.$$arity=0),t.def(ot,"$nested?",x=function(){return!!_(this.parent_document)},x.$$arity=0),t.def(ot,"$embedded?",A=function(){return this.attributes["$key?"]("embedded")},A.$$arity=0),t.def(ot,"$extensions?",O=function(){return!!_(this.extensions)},O.$$arity=0),t.def(ot,"$source",M=function(){return _(this.reader)?this.reader.$source():s},M.$$arity=0),t.def(ot,"$source_lines",S=function(){return _(this.reader)?this.reader.$source_lines():s},S.$$arity=0),t.def(ot,"$basebackend?",T=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},T.$$arity=1),t.def(ot,"$title",R=function(){return this.attributes["$[]"]("title")},R.$$arity=0),t.def(ot,"$title=",I=function(r){var n=s,i=s;return _(n=this.header)||(i=["header"],h(n=this.header=u(lt,"Section").$new(this,0,!1),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[r],h(n,"title=",t.to_a(i)),i[e(i.length,1)]},I.$$arity=1),t.def(ot,"$doctitle",C=function(t){var e,r=this,n=s,i=s,$=s;if(null==t&&(t=d([],{})),_((n=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))n=r.$title();else if(_(i=r.$first_section()))n=i.$title();else if(!_(_(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e))return s;return _($=t["$[]"]("partition"))?u(lt,"Title").$new(n,t.$merge(d(["separator"],{separator:$["$=="](!0)?r.attributes["$[]"]("title-separator"):$}))):_(_(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(u(lt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},C.$$arity=-1),t.alias(ot,"name","doctitle"),t.def(ot,"$author",N=function(){return this.attributes["$[]"]("author")},N.$$arity=0),t.def(ot,"$revdate",z=function(){return this.attributes["$[]"]("revdate")},z.$$arity=0),t.def(ot,"$notitle",P=function(){var t;return _(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},P.$$arity=0),t.def(ot,"$noheader",B=function(){return this.attributes["$key?"]("noheader")},B.$$arity=0),t.def(ot,"$nofooter",q=function(){return this.attributes["$key?"]("nofooter")},q.$$arity=0),t.def(ot,"$first_section",D=function(){var t,e;return _(t=this.header)?t:h(this.blocks,"find",[],((e=function(t){return e.$$s,null==t&&(t=s),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},D.$$arity=0),t.def(ot,"$has_header?",L=function(){return!!_(this.header)},L.$$arity=0),t.alias(ot,"header?","has_header?"),t.def(ot,"$<<",F=function(e){var r,n=F.$$p,i=s,$=s;for(n&&(F.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return e.$context()["$=="]("section")&&this.$enumerate_section(e),h(this,t.find_super_dispatcher(this,"<<",F,!1),i,n)},F.$$arity=1),t.def(ot,"$finalize_header",j=function(r,n){var i=s;return null==n&&(n=!0),this.$clear_playback_attributes(r),this.$save_attributes(),_(n)||(i=["invalid-header",!0],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]),r},j.$$arity=-2),t.def(ot,"$save_attributes",U=function(){var r,n,i,$=this,a=s,o=s,l=s,c=s,f=s,d=s,p=s,y=s,m=s,g=s;return(a=$.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(_(_(r=$["$attribute_locked?"]("toc"))?r:$.attributes_modified["$include?"]("toc"))||(o=["toc",""],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]),_(_(r=$["$attribute_locked?"]("sectnums"))?r:$.attributes_modified["$include?"]("sectnums"))||(o=["sectnums",""],h(a,"[]=",t.to_a(o)),o[e(o.length,1)])),_(_(r=a["$key?"]("doctitle"))?r:(l=$.$doctitle())["$!"]())||(o=["doctitle",l],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]),_($.id)||($.id=a["$[]"]("css-signature")),c=_(f=_(a.$delete("toc2"))?"left":a["$[]"]("toc"))?_(_(r=d=a.$fetch("toc-placement","macro"))?d["$!="]("auto"):r)?d:a["$[]"]("toc-position"):s,_(_(r=f)?_(n=f["$empty?"]()["$!"]())?n:c["$nil_or_empty?"]()["$!"]():r)&&(p="left",y="toc2",m=_(c["$nil_or_empty?"]()["$!"]())?c:_(f["$empty?"]()["$!"]())?f:p,o=["toc",""],h(a,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement","auto"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)],"left"["$==="](g=m)||"<"["$==="](g)||"&lt;"["$==="](g)?(o=["toc-position","left"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]):"right"["$==="](g)||">"["$==="](g)||"&gt;"["$==="](g)?(o=["toc-position","right"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]):"top"["$==="](g)||"^"["$==="](g)?(o=["toc-position","top"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]):"bottom"["$==="](g)||"v"["$==="](g)?(o=["toc-position","bottom"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]):"preamble"["$==="](g)||"macro"["$==="](g)?(o=["toc-position","content"],h(a,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement",m],h(a,"[]=",t.to_a(o)),o[e(o.length,1)],y=s):(a.$delete("toc-position"),y=s),_(y)&&(_(r=a["$[]"]("toc-class"))||(o=["toc-class",y],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]))),_($.compat_mode=a["$key?"]("compat-mode"))&&_(a["$key?"]("language"))&&(o=["source-language",a["$[]"]("language")],h(a,"[]=",t.to_a(o)),o[e(o.length,1)]),$.outfilesuffix=a["$[]"]("outfilesuffix"),$.header_attributes=a.$dup(),_($.parent_document)?s:h(u(lt,"FLEXIBLE_ATTRIBUTES"),"each",[],((i=function(t){var e,r=i.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=s),null==t&&(t=s),_(_(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):s}).$$s=$,i.$$arity=1,i))},U.$$arity=0),t.def(ot,"$restore_attributes",H=function(){return _(this.parent_document)||this.callouts.$rewind(),this.attributes=this.header_attributes},H.$$arity=0),t.def(ot,"$clear_playback_attributes",G=function(t){return t.$delete("attribute_entries")},G.$$arity=1),t.def(ot,"$playback_attributes",Y=function(r){var n;return _(r["$key?"]("attribute_entries"))?h(r["$[]"]("attribute_entries"),"each",[],((n=function(r){var i=n.$$s||this,$=s,a=s;return null==i.attributes&&(i.attributes=s),null==r&&(r=s),$=r.$name(),_(r.$negate())?(i.attributes.$delete($),$["$=="]("compat-mode")?i.compat_mode=!1:s):(a=[$,r.$value()],h(i.attributes,"[]=",t.to_a(a)),a[e(a.length,1)],$["$=="]("compat-mode")?i.compat_mode=!0:s)}).$$s=this,n.$$arity=1,n)):s},Y.$$arity=1),t.def(ot,"$set_attribute",W=function(r,n){var i=this,$=s,a=s,o=s;return null==n&&(n=""),!_(i["$attribute_locked?"](r))&&($=_(i.max_attribute_value_size)?i.$apply_attribute_value_subs(n).$limit_bytesize(i.max_attribute_value_size):i.$apply_attribute_value_subs(n),"backend"["$==="](a=r)?i.$update_backend_attributes($,i.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](a)?i.$update_doctype_attributes($):(o=[r,$],h(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]),i.attributes_modified["$<<"](r),$)},W.$$arity=-2),t.def(ot,"$delete_attribute",X=function(t){return!_(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},X.$$arity=1),t.def(ot,"$attribute_locked?",K=function(t){return this.attribute_overrides["$key?"](t)},K.$$arity=1),t.def(ot,"$apply_attribute_value_subs",V=function(t){var e;return _(u(lt,"AttributeEntryPassMacroRx")["$=~"](t))?_((e=y["~"])===s?s:e["$[]"](1))?this.$apply_subs((e=y["~"])===s?s:e["$[]"](2),this.$resolve_pass_subs((e=y["~"])===s?s:e["$[]"](1))):(e=y["~"])===s?s:e["$[]"](2):this.$apply_header_subs(t)},V.$$arity=1),t.def(ot,"$update_backend_attributes",J=function(r,n){var i,$,a=this,o=s,c=s,f=s,d=s,y=s,m=s,g=s,v=s,b=s,w=s,E=s;return null==n&&(n=s),_(_(i=n)?i:_($=r)?r["$!="](a.backend):$)?(c=(i=[a.backend,(o=a.attributes)["$[]"]("basebackend"),a.doctype])[0],f=i[1],d=i[2],_(r["$start_with?"]("xhtml"))?(y=["htmlsyntax","xml"],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],r=r["$[]"](p(1,-1,!1))):_(r["$start_with?"]("html"))&&(o["$[]"]("htmlsyntax")["$=="]("xml")||(y=["htmlsyntax","html"],h(o,"[]=",t.to_a(y)),y[e(y.length,1)])),_(m=u(lt,"BACKEND_ALIASES")["$[]"](r))&&(r=m),_(d)?(_(c)&&(o.$delete("backend-"+c),o.$delete("backend-"+c+"-doctype-"+d)),y=["backend-"+r+"-doctype-"+d,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],y=["doctype-"+d,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]):_(c)&&o.$delete("backend-"+c),y=["backend-"+r,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],a.backend=(y=["backend",r],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]),_(l(u(lt,"Converter"),"BackendInfo")["$==="](a.converter=a.$create_converter()))?(g=a.converter.$basebackend(),_(a["$attribute_locked?"]("outfilesuffix"))||(y=["outfilesuffix",a.converter.$outfilesuffix()],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]),v=a.converter.$filetype()):_(a.converter)?(g=r.$sub(u(lt,"TrailingDigitsRx"),""),_(b=u(lt,"DEFAULT_EXTENSIONS")["$[]"](g))?v=b["$[]"](p(1,-1,!1)):(b=(i=[".html","html","html"])[0],g=i[1],v=i[2]),_(a["$attribute_locked?"]("outfilesuffix"))||(y=["outfilesuffix",b],h(o,"[]=",t.to_a(y)),y[e(y.length,1)])):a.$raise(l("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),_(w=o["$[]"]("filetype"))&&o.$delete("filetype-"+w),y=["filetype",v],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],y=["filetype-"+v,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],_(E=u(lt,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(y=["pagewidth",E],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]):o.$delete("pagewidth"),_(g["$!="](f))&&(_(d)?(_(f)&&(o.$delete("basebackend-"+f),o.$delete("basebackend-"+f+"-doctype-"+d)),y=["basebackend-"+g+"-doctype-"+d,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]):_(f)&&o.$delete("basebackend-"+f),y=["basebackend-"+g,""],h(o,"[]=",t.to_a(y)),y[e(y.length,1)],y=["basebackend",g],h(o,"[]=",t.to_a(y)),y[e(y.length,1)]),r):s},J.$$arity=-2),t.def(ot,"$update_doctype_attributes",Z=function(r){var n,i=s,$=s,a=s,o=s,l=s;return _(_(n=r)?r["$!="](this.doctype):n)?($=(n=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype])[0],a=n[1],o=n[2],_(o)?(i.$delete("doctype-"+o),_($)&&(i.$delete("backend-"+$+"-doctype-"+o),l=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_(a)&&(i.$delete("basebackend-"+a+"-doctype-"+o),l=["basebackend-"+a+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])):(_($)&&(l=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_(a)&&(l=["basebackend-"+a+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)],this.doctype=(l=["doctype",r],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])):s},Z.$$arity=1),t.def(ot,"$create_converter",Q=function(){var r,n,i=this,$=s,a=s,o=s;return r=d([],{}),$=["htmlsyntax",i.attributes["$[]"]("htmlsyntax")],h(r,"[]=",t.to_a($)),$[e($.length,1)],a=_(o=i.options["$[]"]("template_dir"))?($=["template_dirs",[o]],h(r,"[]=",t.to_a($)),$[e($.length,1)]):_(a=i.options["$[]"]("template_dirs"))?($=["template_dirs",a],h(r,"[]=",t.to_a($)),$[e($.length,1)]):s,_(a)&&($=["template_cache",i.options.$fetch("template_cache",!0)],h(r,"[]=",t.to_a($)),$[e($.length,1)],$=["template_engine",i.options["$[]"]("template_engine")],h(r,"[]=",t.to_a($)),$[e($.length,1)],$=["template_engine_options",i.options["$[]"]("template_engine_options")],h(r,"[]=",t.to_a($)),$[e($.length,1)],$=["eruby",i.options["$[]"]("eruby")],h(r,"[]=",t.to_a($)),$[e($.length,1)],$=["safe",i.safe],h(r,"[]=",t.to_a($)),$[e($.length,1)]),(_(n=i.options["$[]"]("converter"))?l(u(lt,"Converter"),"Factory").$new(l("::","Hash")["$[]"](i.$backend(),n)):l(u(lt,"Converter"),"Factory").$default(!1)).$create(i.$backend(),r)},Q.$$arity=0),t.def(ot,"$convert",tt=function(n){var i,$,a=this,o=s,c=s,f=s,p=s,y=s;return null==n&&(n=d([],{})),_(a.parsed)||a.$parse(),_(_(i=r(a.safe,l(u(lt,"SafeMode"),"SERVER")))?i:n["$empty?"]())||(_((o=["outfile",n["$[]"]("outfile")],h(a.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]))||a.attributes.$delete("outfile"),_((o=["outdir",n["$[]"]("outdir")],h(a.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]))||a.attributes.$delete("outdir")),a.$doctype()["$=="]("inline")?_(c=a.blocks["$[]"](0))&&(_(_(i=c.$content_model()["$=="]("compound"))?i:c.$content_model()["$=="]("empty"))?a.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):f=c.$content()):(p=_(_(n["$key?"]("header_footer"))?n["$[]"]("header_footer"):a.options["$[]"]("header_footer"))?"document":"embedded",f=a.converter.$convert(a,p)),_(a.parent_document)||_(_(i=y=a.extensions)?y["$postprocessors?"]():i)&&h(y.$postprocessors(),"each",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=s),f=t.$process_method()["$[]"](e,f)}).$$s=a,$.$$arity=1,$)),f},tt.$$arity=-1),t.alias(ot,"render","convert"),t.def(ot,"$write",et=function(t,e){return _(u(lt,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(_(e["$respond_to?"]("write"))?_(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(u(lt,"LF"))):l("::","IO").$write(e,t),s)},et.$$arity=2),t.def(ot,"$content",rt=function(){var e,r=rt.$$p,n=s,i=s;for(r&&(rt.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return this.attributes.$delete("title"),h(this,t.find_super_dispatcher(this,"content",rt,!1),n,r)},rt.$$arity=0),t.def(ot,"$docinfo",nt=function(t,e){var i,$,a,o,c,f=this,p=s,y=s,m=s,g=s,v=s,b=s,w=s,E=s,k=s;return null==t&&(t="head"),null==e&&(e=s),_(r(f.$safe(),l(u(lt,"SafeMode"),"SECURE")))?"":(p=[],t["$=="]("head")||(y="-"+t),_(e)||(e=f.outfilesuffix),m=_((m=f.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?_(f.attributes["$key?"]("docinfo2"))?["private","shared"]:_(f.attributes["$key?"]("docinfo1"))?["shared"]:_(m)?["private"]:s:h(m.$split(","),"map",[],((i=function(t){return i.$$s,null==t&&(t=s),t.$strip()}).$$s=f,i.$$arity=1,i)),_(m)&&(g=($=["docinfo"+y+e,f.attributes["$[]"]("docinfodir"),f.$resolve_docinfo_subs()])[0],v=$[1],b=$[2],_(m["$&"](["shared","shared-"+t])["$empty?"]())||(w=f.$normalize_system_path(g,v),_(E=f.$read_asset(w,d(["normalize"],{normalize:!0})))&&p["$<<"](f.$apply_subs(E,b))),_(_($=f.attributes["$[]"]("docname")["$nil_or_empty?"]())?$:m["$&"](["private","private-"+t])["$empty?"]())||(w=f.$normalize_system_path(f.attributes["$[]"]("docname")+"-"+g,v),_(k=f.$read_asset(w,d(["normalize"],{normalize:!0})))&&p["$<<"](f.$apply_subs(k,b)))),_(_($=f.extensions)?f["$docinfo_processors?"](t):$)&&(p=n(p,h(f.docinfo_processor_extensions["$[]"](t),"map",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=s),t.$process_method()["$[]"](e)},a.$$s=f,a.$$arity=1,a)).$compact())),o=p,c=u(lt,"LF"),"number"==typeof o&&"number"==typeof c?o*c:o["$*"](c))},nt.$$arity=-1),t.def(ot,"$resolve_docinfo_subs",it=function(){return _(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",s,"docinfo"):["attributes"]},it.$$arity=0),t.def(ot,"$docinfo_processors?",$t=function(r){var n,i=s;return null==r&&(r="head"),_(this.docinfo_processor_extensions["$key?"](r))?this.docinfo_processor_extensions["$[]"](r)["$!="](!1):_(_(n=this.extensions)?this.document.$extensions()["$docinfo_processors?"](r):n)?(i=[r,this.document.$extensions().$docinfo_processors(r)],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[r,!1],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},$t.$$arity=-1),t.def(ot,"$to_s",at=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(_(t.header["$!="](s))?t.header.$title():s).$inspect()+", blocks: "+t.blocks.$size()+"}>"},at.$$arity=0)}((a=[$].concat(i))[0],u(a,"AbstractBlock"),a)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module),s=t.klass,l=t.send,u=t.truthy,c=t.hash2;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),e=i,(r=o(i[0],"Asciidoctor")).$$proto,void function(e,r,n){function i(){}var a,o,f,_,h,d,p,y,m=i=s(e,r,"Inline",i),g=m.$$proto;[m].concat(n),g.text=g.type=$,m.$attr_reader("text"),m.$attr_reader("type"),m.$attr_accessor("target"),t.def(m,"$initialize",a=function(e,r,n,i){var o,s=a.$$p;return null==n&&(n=$),null==i&&(i=c([],{})),s&&(a.$$p=null),l(this,t.find_super_dispatcher(this,"initialize",a,!1),[e,r],null),this.node_name="inline_"+r,this.text=n,this.id=i["$[]"]("id"),this.type=i["$[]"]("type"),this.target=i["$[]"]("target"),u((o=i["$[]"]("attributes"))["$nil_or_empty?"]())?$:this.$update_attributes(o)},a.$$arity=-3),t.def(m,"$block?",o=function(){return!1},o.$$arity=0),t.def(m,"$inline?",f=function(){return!0},f.$$arity=0),t.def(m,"$convert",_=function(){return this.$converter().$convert(this)},_.$$arity=0),t.alias(m,"render","convert"),t.def(m,"$alt",h=function(){return this.$attr("alt")},h.$$arity=0),t.def(m,"$reftext?",d=function(){var t,e;return u(t=this.text)?u(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},d.$$arity=0),t.def(m,"$reftext",p=function(){var t;return u(t=this.text)?this.$apply_reftext_subs(t):$},p.$$arity=0),t.def(m,"$xreftext",y=function(t){return null==t&&(t=$),this.$reftext()},y.$$arity=-1)}((n=[r].concat(e))[0],a(n,"AbstractNode"),n)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module),s=t.klass,l=t.send,u=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),e=i,(r=o(i[0],"Asciidoctor")).$$proto,function(e,r,n){function i(){}var a,o,c,f,_=i=s(e,r,"List",i),h=_.$$proto;[_].concat(n),h.context=h.document=h.style=$,t.alias(_,"items","blocks"),t.alias(_,"content","blocks"),t.alias(_,"items?","blocks?"),t.def(_,"$initialize",a=function(e,r){var n,i=a.$$p,o=$,s=$;for(i&&(a.$$p=null),s=0,n=arguments.length,o=new Array(n);s<n;s++)o[s]=arguments[s];return l(this,t.find_super_dispatcher(this,"initialize",a,!1),o,i)},a.$$arity=2),t.def(_,"$outline?",o=function(){var t;return u(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},o.$$arity=0),t.def(_,"$convert",c=function(){var e,r=c.$$p,n=$,i=$,a=$;for(r&&(c.$$p=null),a=0,e=arguments.length,i=new Array(e);a<e;a++)i[a]=arguments[a];return this.context["$=="]("colist")?(n=l(this,t.find_super_dispatcher(this,"convert",c,!1),i,r),this.document.$callouts().$next_list(),n):l(this,t.find_super_dispatcher(this,"convert",c,!1),i,r)},c.$$arity=0),t.alias(_,"render","convert"),t.def(_,"$to_s",f=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},f.$$arity=0)}((n=[r].concat(e))[0],a(n,"AbstractBlock"),n),void function(e,r,n){function i(){}var o,c,f,_,h,d,p,y,m=i=s(e,r,"ListItem",i),g=m.$$proto,v=[m].concat(n);g.text=g.subs=g.blocks=$,t.alias(m,"list","parent"),m.$attr_accessor("marker"),t.def(m,"$initialize",o=function(e,r){var n=o.$$p;return null==r&&(r=$),n&&(o.$$p=null),l(this,t.find_super_dispatcher(this,"initialize",o,!1),[e,"list_item"],null),this.text=r,this.level=e.$level(),this.subs=a(v,"NORMAL_SUBS").$dup()},o.$$arity=-2),t.def(m,"$text?",c=function(){return this.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.def(m,"$text",f=function(){return this.$apply_subs(this.text,this.subs)},f.$$arity=0),t.def(m,"$text=",_=function(t){return this.text=t},_.$$arity=1),t.def(m,"$simple?",h=function(){var t,e,r=$;return u(t=this.blocks["$empty?"]())?t:u(e=this.blocks.$size()["$=="](1)?a(v,"List")["$==="](r=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?r["$outline?"]():e},h.$$arity=0),t.def(m,"$compound?",d=function(){return this["$simple?"]()["$!"]()},d.$$arity=0),t.def(m,"$fold_first",p=function(t,e){var r,n,i,o,s,l=$,c=$;return null==t&&(t=!1),null==e&&(e=!1),u(u(r=u(n=l=this.blocks["$[]"](0))?a(v,"Block")["$==="](l):n)?u(n=(i=l.$context()["$=="]("paragraph"))?t["$!"]():l.$context()["$=="]("paragraph"))?n:u(i=u(o=u(s=e)?s:t["$!"]())?l.$context()["$=="]("literal"):o)?l["$option?"]("listparagraph"):i:r)&&(c=this.$blocks().$shift(),u(this.text["$nil_or_empty?"]())||c.$lines().$unshift(this.text),this.text=c.$source()),$},p.$$arity=-1),t.def(m,"$to_s",y=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(u(t=this.blocks)?t:[]).$size()+"}>"},y.$$arity=0)}(n[0],a(n,"AbstractBlock"),n)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var a,o,s,l=[],u=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.module),h=t.klass,d=t.send,p=t.truthy,y=t.hash2,m=t.hash,g=t.gvars,v=t.range;return t.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_doctitle?","$attributes","$key?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$=~","$sub_attributes","$downcase","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$*","$read_lines_until","$match","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$sectname","$+","$to_i","$>","$line_info","$include?","$size","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$path","$lineno","$read_line","$===","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$lstrip","$keys","$chr","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$register","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$update","$process_method","$replace","$peek_line","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_item_list","$each","$catalog_inline_biblio_anchor","$instance_variable_get","$marker","$find","$next_description_list","$underline_style_section_titles","$is_section_title?","$atx_section_title?","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$split","$pop","$build_block","$chop","$catalog_inline_anchors","$rekey","$index","$slice","$strip","$<","$next_table","$concat","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$gsub","$reader","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$special","$numbered","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$map","$compact","$Array","$squeeze","$to_a","$process_attribute_entry","$skip_comment_lines","$advance","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$resolve_ordered_list_marker","$ord","$roman_numeral_to_int","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$post_match","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$join","$each_char","$call","$sub!","$gsub!","$%","$begin"]),
a=l,(o=_(l[0],"Asciidoctor")).$$proto,void function(a,o,s){function l(){}var _,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,lt,ut,ct,ft=l=h(a,null,"Parser",l),_t=(ft.$$proto,[ft].concat(s));t.const_set(_t[0],"BlockMatchData",f(_t,"Struct").$new("context","masq","tip","terminator")),t.const_set(_t[0],"TabRx",/\t/),t.const_set(_t[0],"TabIndentRx",/^\t+/),t.const_set(_t[0],"StartOfBlockProc",d(ft,"lambda",[],((_=function(t){var e,r,n=_.$$s||this;return null==t&&(t=u),p(e=p(r=t["$start_with?"]("["))?f(_t,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)}).$$s=ft,_.$$arity=1,_))),t.const_set(_t[0],"StartOfListProc",d(ft,"lambda",[],((b=function(t){return b.$$s,null==t&&(t=u),f(_t,"AnyListRx")["$match?"](t)}).$$s=ft,b.$$arity=1,b))),t.const_set(_t[0],"StartOfBlockOrListProc",d(ft,"lambda",[],((w=function(t){var e,r,n,i=w.$$s||this;return null==t&&(t=u),p(e=p(r=i["$is_delimited_block?"](t))?r:p(n=t["$start_with?"]("["))?f(_t,"BlockAttributeLineRx")["$match?"](t):n)?e:f(_t,"AnyListRx")["$match?"](t)}).$$s=ft,w.$$arity=1,w))),t.const_set(_t[0],"NoOp",u),t.const_set(_t[0],"TableCellHorzAlignments",y(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(_t[0],"TableCellVertAlignments",y(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(_t[0],"TableCellStyles",y(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.def(ft,"$initialize",E=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},E.$$arity=0),t.defs(ft,"$parse",k=function(e,r,n){var i,$,a=u,o=u;if(null==n&&(n=y([],{})),a=this.$parse_document_header(e,r),p(n["$[]"]("header_only")));else for(;p(e["$has_more_lines?"]());)$=this.$next_section(e,r,a),o=null==(i=t.to_ary($))[0]?u:i[0],a=null==i[1]?u:i[1],p(o)&&r["$<<"](o);return r},k.$$arity=-3),t.defs(ft,"$parse_document_header",x=function(r,n){var i,$,a,o=u,s=u,l=u,c=u,f=u,_=u,h=u,y=u,g=u,v=u,b=u;return o=this.$parse_block_metadata_lines(r,n),p(p(i=a=this["$is_next_line_doctitle?"](r,o,n.$attributes()["$[]"]("leveloffset")))?o["$key?"]("title"):i)?n.$finalize_header(o,!1):(s=u,p((l=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(c=[s=l],d(n,"title=",t.to_a(c)),c[e(c.length,1)]),f=u,p(a)&&(p(n.$sourcemap())&&(_=r.$cursor()),$=this.$parse_section_title(r,n),i=t.to_ary($),n["$id="](null==i[0]?u:i[0]),null==i[1]||i[1],h=null==i[2]?u:i[2],null==i[3]||i[3],y=null==i[4]?u:i[4],p(s)||(c=[s=h],d(n,"title=",t.to_a(c)),c[e(c.length,1)]),p(p(i=y)?i:n["$attribute_locked?"]("compat-mode"))||n.$set_attr("compat-mode"),p(g=o.$delete("separator"))&&(p(n["$attribute_locked?"]("title-separator"))||n.$set_attr("title-separator",g)),p(_)&&(c=[_],d(n.$header(),"source_location=",t.to_a(c)),c[e(c.length,1)]),c=["doctitle",f=h],d(n.$attributes(),"[]=",t.to_a(c)),c[e(c.length,1)],p(n.$id())?(o.$delete(1),o.$delete("id")):(p(v=o.$delete(1))&&(b=m(1,v),this.$parse_style_attribute(b,r),p(b["$key?"]("id"))&&(c=["id",b["$[]"]("id")],d(o,"[]=",t.to_a(c)),c[e(c.length,1)])),c=[o.$delete("id")],d(n,"id=",t.to_a(c)),c[e(c.length,1)]),this.$parse_header_metadata(r,n)),p(p(i=(l=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:l["$=="](f))||(c=[s=l],d(n,"title=",t.to_a(c)),c[e(c.length,1)]),p(s)&&(c=["doctitle",s],d(n.$attributes(),"[]=",t.to_a(c)),c[e(c.length,1)]),n.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(r,n),n.$finalize_header(o))},x.$$arity=2),t.defs(ft,"$parse_manpage_header",A=function(n,i){var $,a=u,o=u,s=u;return p(f(_t,"ManpageTitleVolnumRx")["$=~"](i.$attributes()["$[]"]("doctitle")))?(a=["mantitle",i.$sub_attributes((($=g["~"])===u?u:$["$[]"](1)).$downcase())],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manvolnum",($=g["~"])===u?u:$["$[]"](2)],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)]):(this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),a=["mantitle",i.$attributes()["$[]"]("doctitle")],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manvolnum","1"],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)]),n.$skip_blank_lines(),p(this["$is_next_line_section?"](n,y([],{})))?this.$initialize_section(n,i,y([],{})).$level()["$=="](1)?(o=r(n.$read_lines_until(y(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),p(s=f(_t,"ManpageNamePurposeRx").$match(o))?(a=["manname",i.$sub_attributes(s["$[]"](1))],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manpurpose",s["$[]"](2)],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],i.$backend()["$=="]("manpage")?(a=["docname",i.$attributes()["$[]"]("manname")],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["outfilesuffix","."+i.$attributes()["$[]"]("manvolnum")],d(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)]):u):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1"):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected")},A.$$arity=2),t.defs(ft,"$next_section",O=function $(a,o,s){var l,c,_,h=this,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,$=u,M=u,S=u,T=u,R=u,I=u,C=u;for(null==s&&(s=y([],{})),m=g=v=!1,p(p(l=(c=o.$context()["$=="]("document"))?o.$blocks()["$empty?"]():o.$context()["$=="]("document"))?p(c=p(_=b=o["$has_header?"]())?_:s.$delete("invalid-header"))?c:h["$is_next_line_section?"](a,s)["$!"]():l)?(w=(E=o).$doctype(),p(p(l=b)?l:(c=w["$=="]("book"))?s["$[]"](1)["$!="]("abstract"):w["$=="]("book"))&&(m=g=f(_t,"Block").$new(o,"preamble",y(["content_model"],{content_model:"compound"})),p((l=w["$=="]("book"))?o["$attr?"]("preface-title"):w["$=="]("book"))&&(k=[o.$attr("preface-title")],d(m,"title=",t.to_a(k)),k[e(k.length,1)]),o["$<<"](m)),x=o,A=0,O=p(o.$attributes()["$key?"]("fragment"))?u:w["$=="]("book")?[0,1]:[1]):(w=(E=o.$document()).$doctype(),x=h.$initialize_section(a,o,s),s=p($=s["$[]"]("title"))?y(["title"],{title:$}):y([],{}),v=x.$sectname()["$=="]("part"),O=[n(A=x.$level(),1)]),a.$skip_blank_lines();p(a["$has_more_lines?"]());){if(h.$parse_block_metadata_lines(a,E,s),p(M=h["$is_next_line_section?"](a,s))){if(p(E["$attr?"]("leveloffset"))&&(M=n(M,E.$attr("leveloffset").$to_i())),!p(p(c=i(M,A))?c:(_=M["$=="](0))?x.$context()["$=="]("document"):M["$=="](0))){p((c=M["$=="](0))?w["$!="]("book"):M["$=="](0))&&h.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections");break}p((c=M["$=="](0))?w["$!="]("book"):M["$=="](0))?h.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections"):p(p(c=O)?O["$include?"](M)["$!"]():c)&&h.$warn("asciidoctor: WARNING: "+a.$line_info()+": section title out of sequence: expected "+(p(i(O.$size(),1))?"levels":"level")+" "+r(O," or ")+", got level "+M),_=h.$next_section(a,x,s),S=null==(c=t.to_ary(_))[0]?u:c[0],s=null==c[1]?u:c[1],x["$<<"](S)}else T=a.$line_info(),p(R=h.$next_block(a,p(c=g)?c:x,s,y(["parse_metadata"],{parse_metadata:!1})))&&(p(v)&&(p(x["$blocks?"]()["$!"]())?p(R.$style()["$!="]("partintro"))&&(R.$context()["$=="]("paragraph")?(k=["open"],d(R,"context=",t.to_a(k)),k[e(k.length,1)],k=["partintro"],d(R,"style=",t.to_a(k)),k[e(k.length,1)]):(g=f(_t,"Block").$new(x,"open",y(["content_model"],{content_model:"compound"})),k=["partintro"],d(g,"style=",t.to_a(k)),k[e(k.length,1)],k=[g],d(R,"parent=",t.to_a(k)),k[e(k.length,1)],x["$<<"](g))):x.$blocks().$size()["$=="](1)&&(I=x.$blocks()["$[]"](0),p(p(c=g["$!"]())?I.$content_model()["$=="]("compound"):c)?h.$warn("asciidoctor: ERROR: "+T+": illegal block content outside of partintro block"):p(I.$content_model()["$!="]("compound"))&&(g=f(_t,"Block").$new(x,"open",y(["content_model"],{content_model:"compound"})),k=["partintro"],d(g,"style=",t.to_a(k)),k[e(k.length,1)],x.$blocks().$shift(),I.$style()["$=="]("partintro")&&(k=["paragraph"],d(I,"context=",t.to_a(k)),k[e(k.length,1)],k=[u],d(I,"style=",t.to_a(k)),k[e(k.length,1)]),k=[g],d(I,"parent=",t.to_a(k)),k[e(k.length,1)],g["$<<"](I),k=[g],d(R,"parent=",t.to_a(k)),k[e(k.length,1)],x["$<<"](g)))),(p(c=g)?c:x)["$<<"](R),s=y([],{}));if(!p(c=a.$skip_blank_lines()))break}if(p(v))p(p(l=x["$blocks?"]())?x.$blocks()["$[]"](-1).$context()["$=="]("section"):l)||h.$warn("asciidoctor: ERROR: "+a.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(p(m))if(p(m["$blocks?"]())){if(p(p(l=p(c=f(_t,"Compliance").$unwrap_standalone_preamble())?E.$blocks().$size()["$=="](1):c)?w["$!="]("book"):l))for(E.$blocks().$shift();p(C=m.$blocks().$shift());)k=[E],d(C,"parent=",t.to_a(k)),k[e(k.length,1)],E["$<<"](C)}else E.$blocks().$shift();return[p(x["$!="](o))?x:u,s.$dup()]},O.$$arity=-3),t.defs(ft,"$next_block",M=function a(o,s,l,c){try{var _,h,m,b,w,E,k,x,A,O,M,a,S,T,R=this,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u,L=u,F=u,j=u,U=u,H=u,G=u,Y=u,W=u,X=u,K=u,V=u,J=u,Z=u,Q=u,tt=u,et=u,rt=u,nt=u,it=u,$t=u,at=u,ot=u,st=u,lt=u,ut=u,ct=u,ft=u,ht=u,dt=u,pt=u,yt=u,mt=u,gt=u,vt=u,bt=u,wt=u,Et=u,kt=u,xt=u,At=u,Ot=u,Mt=u;if(null==l&&(l=y([],{})),null==c&&(c=y([],{})),!p(I=o.$skip_blank_lines()))return u;if(p(p(_=C=c["$[]"]("text"))?i(I,0):_)&&(c.$delete("text"),C=!1),N=s.$document(),p(c.$fetch("parse_metadata",!0)))for(;p(R.$parse_block_metadata_line(o,N,l,c));)o.$shift(),p(h=o.$skip_blank_lines())||t.ret(u);if(p(z=N.$extensions())&&(P=(_=[z["$blocks?"](),z["$block_macros?"]()])[0],B=_[1]),p(N.$sourcemap())&&(q=o.$cursor()),M=(_=[o.$path(),o.$lineno(),o.$read_line(),f(_t,"ListItem")["$==="](s)])[0],a=_[1],D=_[2],S=_[3],L=F=j=U=u,H=p(l["$[]"](1))?R.$parse_style_attribute(l,o):u,p(G=R["$is_delimited_block?"](D,!0))&&(F=j=G.$context(),U=G.$terminator(),p(H["$!"]())?(Y=["style",F.$to_s()],d(l,"[]=",t.to_a(Y)),H=Y[e(Y.length,1)]):p(H["$!="](F.$to_s()))&&(p(G.$masq()["$include?"](H))?F=H.$to_sym():p(p(_=G.$masq()["$include?"]("admonition"))?f(_t,"ADMONITION_STYLES")["$include?"](H):_)?F="admonition":p(p(_=P)?z["$registered_for_block?"](H,F):_)?F=H.$to_sym():(R.$warn("asciidoctor: WARNING: "+M+": line "+a+": invalid style for "+F+" block: "+H),H=F.$to_s()))),p(G));else for(;p(!0);){if(p(p(h=p(m=H)?f(_t,"Compliance").$strict_verbatim_paragraphs():m)?f(_t,"VERBATIM_STYLES")["$include?"](H):h)){F=H.$to_sym(),o.$unshift_line(D);break}if(p(C))W=D["$start_with?"](" ",f(_t,"TAB"));else if(X=f(_t,"Compliance").$markdown_syntax(),p(D["$start_with?"](" "))){if(W=(h=[!0," "])[0],K=h[1],p(p(h=p(m=X)?d(D.$lstrip(),"start_with?",t.to_a(f(_t,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):m)?f(_t,"MarkdownThematicBreakRx")["$match?"](D):h)){L=f(_t,"Block").$new(s,"thematic_break",y(["content_model"],{content_model:"empty"}));break}}else if(p(D["$start_with?"](f(_t,"TAB"))))h=[!0,f(_t,"TAB")],W=h[0],K=h[1];else{if(h=[!1,D.$chr()],W=h[0],K=h[1],V=p(X)?f(_t,"HYBRID_LAYOUT_BREAK_CHARS"):f(_t,"LAYOUT_BREAK_CHARS"),p(p(h=V["$key?"](K))?p(X)?f(_t,"ExtLayoutBreakRx")["$match?"](D):(m=D["$=="](r(K,J=D.$length())))?i(J,2):D["$=="](r(K,J=D.$length())):h)){L=f(_t,"Block").$new(s,V["$[]"](K),y(["content_model"],{content_model:"empty"}));break}if(p(p(h=D["$end_with?"]("]"))?D["$include?"]("::"):h)){if(p(p(h=p(m=K["$=="]("i"))?m:D["$start_with?"]("video:","audio:"))?Z=f(_t,"BlockMediaMacroRx").$match(D):h)){if(Q=(h=[Z["$[]"](1).$to_sym(),Z["$[]"](2)])[0],tt=h[1],L=f(_t,"Block").$new(s,Q,y(["content_model"],{content_model:"empty"})),rt="video"["$==="](et=Q)?["poster","width","height"]:"audio"["$==="](et)?[]:["alt","width","height"],L.$parse_attributes(Z["$[]"](3),rt,y(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:l})),p(l["$key?"]("style"))&&l.$delete("style"),p(p(h=tt["$include?"](f(_t,"ATTR_REF_HEAD")))?(tt=L.$sub_attributes(tt,y(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():h))return N.$attributes().$fetch("attribute-missing",f(_t,"Compliance").$attribute_missing())["$=="]("skip")?f(_t,"Block").$new(s,"paragraph",y(["content_model","source"],{content_model:"simple",source:[D]})):(l.$clear(),u);Q["$=="]("image")&&(L.$document().$register("images",tt),p(h=l["$[]"]("alt"))||(Y=["alt",p(m=H)?m:(Y=["default-alt",f(_t,"Helpers").$basename(tt,!0).$tr("_-"," ")],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)])],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p((nt=l.$delete("scaledwidth"))["$nil_or_empty?"]())||(Y=["scaledwidth",p(f(_t,"TrailingDigitsRx")["$match?"](nt))?nt+"%":nt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),Y=[l.$delete("title")],d(L,"title=",t.to_a(Y)),Y[e(Y.length,1)],L.$assign_caption(l.$delete("caption"),"figure")),Y=["target",tt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)];break}if(p(p(h=(m=K["$=="]("t"))?D["$start_with?"]("toc:"):K["$=="]("t"))?Z=f(_t,"BlockTocMacroRx").$match(D):h)){(L=f(_t,"Block").$new(s,"toc",y(["content_model"],{content_model:"empty"}))).$parse_attributes(Z["$[]"](1),[],y(["sub_result","into"],{sub_result:!1,into:l}));break}if(p(p(h=p(m=B)?Z=f(_t,"CustomBlockMacroRx").$match(D):m)?it=z["$registered_for_block_macro?"](Z["$[]"](1)):h)){if(tt=Z["$[]"](2),$t=Z["$[]"](3),it.$config()["$[]"]("content_model")["$=="]("attributes")?p($t["$empty?"]())||N.$parse_attributes($t,p(h=it.$config()["$[]"]("pos_attrs"))?h:[],y(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:l})):(Y=["text",$t],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(at=it.$config()["$[]"]("default_attrs"))&&d(l,"update",[at],((b=function(t,e){return b.$$s,null==t&&(t=u),null==e&&(e=u),e}).$$s=R,b.$$arity=2,b)),p(L=it.$process_method()["$[]"](s,tt,l))){l.$replace(L.$attributes());break}return l.$clear(),u}}}if(p(p(h=p(m=p(w=W["$!"]())?f(_t,"CALLOUT_LIST_HEADS")["$include?"](K=p(E=K)?E:D.$chr()):w)?f(_t,"CalloutListSniffRx")["$match?"](D):m)?Z=f(_t,"CalloutListRx").$match(D):h)){for(L=f(_t,"List").$new(s,"colist"),Y=["style","arabic"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],o.$unshift_line(D),ot=1;p(p(m=Z)?m:p(w=o["$has_more_lines?"]())?Z=f(_t,"CalloutListRx").$match(o.$peek_line()):w);)st=o.$lineno(),Z["$[]"](1)["$=="](ot.$to_s())||R.$warn("asciidoctor: WARNING: "+o.$path()+": line "+st+": callout list item index: expected "+ot+" got "+Z["$[]"](1)),p(lt=R.$next_list_item(o,L,Z))&&(L["$<<"](lt),p((ut=N.$callouts().$callout_ids(L.$items().$size()))["$empty?"]())?R.$warn("asciidoctor: WARNING: "+o.$path()+": line "+st+": no callouts refer to list item "+L.$items().$size()):(Y=["coids",ut],d(lt.$attributes(),"[]=",t.to_a(Y)),Y[e(Y.length,1)])),ot=n(ot,1),Z=u;N.$callouts().$next_list();break}if(p(f(_t,"UnorderedListRx")["$match?"](D))){o.$unshift_line(D),L=R.$next_item_list(o,"ulist",s),(p(h=H)?h:p(m=f(_t,"Section")["$==="](s))?s.$sectname():m)["$=="]("bibliography")&&(p(H)||(Y=["style","bibliography"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),d(L.$items(),"each",[],((k=function(t){var e=k.$$s||this;return null==t&&(t=u),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),t,N)}).$$s=R,k.$$arity=1,k)));break}if(p(Z=f(_t,"OrderedListRx").$match(D))){o.$unshift_line(D),L=R.$next_item_list(o,"olist",s),p(H)||(ct=L.$items()["$[]"](0).$marker(),p(ct["$start_with?"]("."))?(Y=["style",(p(h=f(_t,"ORDERED_LIST_STYLES")["$[]"](e(ct.$length(),1)))?h:"arabic").$to_s()],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]):(Y=["style",(p(h=d(f(_t,"ORDERED_LIST_STYLES"),"find",[],(x=function(t){return x.$$s,null==t&&(t=u),f(_t,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](ct)},x.$$s=R,x.$$arity=1,x)))?h:"arabic").$to_s()],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]));break}if(p(Z=f(_t,"DescriptionListRx").$match(D))){o.$unshift_line(D),L=R.$next_description_list(o,Z,s);break}if(p(p(h=p(m=H["$=="]("float"))?m:H["$=="]("discrete"))?p(f(_t,"Compliance").$underline_style_section_titles())?R["$is_section_title?"](D,o.$peek_line()):p(m=W["$!"]())?R["$atx_section_title?"](D):m:h)){o.$unshift_line(D),m=R.$parse_section_title(o,N),ft=null==(h=t.to_ary(m))[0]?u:h[0],ht=null==h[1]?u:h[1],dt=null==h[2]?u:h[2],pt=null==h[3]?u:h[3],null==h[4]||h[4],p(ht)&&(Y=["reftext",ht],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),L=f(_t,"Block").$new(s,"floating_title",y(["content_model"],{content_model:"empty"})),Y=[dt],d(L,"title=",t.to_a(Y)),Y[e(Y.length,1)],l.$delete("title"),Y=[p(h=p(m=ft)?m:l["$[]"]("id"))?h:p(N.$attributes()["$key?"]("sectids"))?f(_t,"Section").$generate_id(L.$title(),N):u],d(L,"id=",t.to_a(Y)),Y[e(Y.length,1)],Y=[pt],d(L,"level=",t.to_a(Y)),Y[e(Y.length,1)];break}if(p(p(h=H)?H["$!="]("normal"):h)){if(p(f(_t,"PARAGRAPH_STYLES")["$include?"](H))){F=H.$to_sym(),j="paragraph",o.$unshift_line(D);break}if(p(f(_t,"ADMONITION_STYLES")["$include?"](H))){F="admonition",j="paragraph",o.$unshift_line(D);break}if(p(p(h=P)?z["$registered_for_block?"](H,"paragraph"):h)){F=H.$to_sym(),j="paragraph",o.$unshift_line(D);break}R.$warn("asciidoctor: WARNING: "+M+": line "+a+": invalid style for paragraph: "+H),H=u}if(yt=(h=I["$=="](0))?S:I["$=="](0),o.$unshift_line(D),p(p(h=W)?H["$!"]():h))mt=R.$read_paragraph_lines(o,yt,y(["skip_line_comments"],{skip_line_comments:C})),R["$adjust_indentation!"](mt),L=f(_t,"Block").$new(s,"literal",y(["content_model","source","attributes"],{content_model:"verbatim",source:mt,attributes:l})),p(S)&&L.$set_option("listparagraph");else{if(mt=R.$read_paragraph_lines(o,yt,y(["skip_line_comments"],{skip_line_comments:!0})),p(C))p(p(h=W)?H["$=="]("normal"):h)&&R["$adjust_indentation!"](mt),L=f(_t,"Block").$new(s,"paragraph",y(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:l}));else if(p(p(h=p(m=f(_t,"ADMONITION_STYLE_HEADS")["$include?"](K))?D["$include?"](":"):m)?f(_t,"AdmonitionParagraphRx")["$=~"](D):h))Y=[0,(h=g["~"])===u?u:h.$post_match()],d(mt,"[]=",t.to_a(Y)),Y[e(Y.length,1)],Y=["name",gt=(Y=["style",(h=g["~"])===u?u:h["$[]"](1)],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]).$downcase()],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],Y=["textlabel",p(h=l.$delete("caption"))?h:N.$attributes()["$[]"](gt+"-caption")],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],L=f(_t,"Block").$new(s,"admonition",y(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:l}));else if(p(p(h=p(m=X)?K["$=="](">"):m)?D["$start_with?"]("> "):h)){if(d(mt,"map!",[],((A=function(t){return A.$$s,null==t&&(t=u),t["$=="](">")?t["$[]"](v(1,-1,!1)):p(t["$start_with?"]("> "))?t["$[]"](v(2,-1,!1)):t}).$$s=R,A.$$arity=1,A)),p(mt["$[]"](-1)["$start_with?"]("-- ")))for(m=mt.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),vt=null==(h=t.to_ary(m))[0]?u:h[0],bt=null==h[1]?u:h[1],p(vt)&&(Y=["attribution",vt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(bt)&&(Y=["citetitle",bt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]);p(mt["$[]"](-1)["$empty?"]());)mt.$pop();Y=["style","quote"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],L=R.$build_block("quote","compound",!1,s,f(_t,"Reader").$new(mt),l)}else if(p(p(h=p(m=(w=K["$=="]('"'))?i(mt.$size(),1):K["$=="]('"'))?mt["$[]"](-1)["$start_with?"]("-- "):m)?mt["$[]"](-2)["$end_with?"]('"'):h)){for(Y=[0,D["$[]"](v(1,-1,!1))],d(mt,"[]=",t.to_a(Y)),Y[e(Y.length,1)],m=mt.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),vt=null==(h=t.to_ary(m))[0]?u:h[0],bt=null==h[1]?u:h[1],p(vt)&&(Y=["attribution",vt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(bt)&&(Y=["citetitle",bt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]);p(mt["$[]"](-1)["$empty?"]());)mt.$pop();Y=[-1,mt["$[]"](-1).$chop()],d(mt,"[]=",t.to_a(Y)),Y[e(Y.length,1)],Y=["style","quote"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],L=f(_t,"Block").$new(s,"quote",y(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:l}))}else p(p(h=W)?H["$=="]("normal"):h)&&R["$adjust_indentation!"](mt),L=f(_t,"Block").$new(s,"paragraph",y(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:l}));R.$catalog_inline_anchors(r(mt,f(_t,"LF")),L,N)}break}if(p(L));else if(p(p(_=F["$=="]("abstract"))?_:F["$=="]("partintro"))&&(F="open"),"admonition"["$==="](et=F))Y=["name",gt=H.$downcase()],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],Y=["textlabel",p(_=l.$delete("caption"))?_:N.$attributes()["$[]"](gt+"-caption")],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],L=R.$build_block(F,"compound",U,s,o,l);else{if("comment"["$==="](et))return R.$build_block(F,"skip",U,s,o,l),l.$clear(),u;if("example"["$==="](et))L=R.$build_block(F,"compound",U,s,o,l);else if("listing"["$==="](et)||"literal"["$==="](et))L=R.$build_block(F,"verbatim",U,s,o,l);else if("source"["$==="](et))f(_t,"AttributeList").$rekey(l,[u,"language","linenums"]),p(l["$key?"]("language"))||p(N.$attributes()["$key?"]("source-language"))&&(Y=["language",p(_=N.$attributes()["$[]"]("source-language"))?_:"text"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(l["$key?"]("linenums"))||p(p(_=l["$key?"]("linenums-option"))?_:N.$attributes()["$key?"]("source-linenums-option"))&&(Y=["linenums",""],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(l["$key?"]("indent"))||p(N.$attributes()["$key?"]("source-indent"))&&(Y=["indent",N.$attributes()["$[]"]("source-indent")],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),L=R.$build_block("listing","verbatim",U,s,o,l);else if("fenced_code"["$==="](et))Y=["style","source"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)],(J=D.$length())["$=="](3)?wt=u:p(Et=(wt=D.$slice(3,J)).$index(","))?p(i(Et,0))?(wt=wt.$slice(0,Et).$strip(),p($(Et,e(J,4)))&&(Y=["linenums",""],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)])):(wt=u,p(i(J,4))&&(Y=["linenums",""],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)])):wt=wt.$lstrip(),p(wt["$nil_or_empty?"]())?p(N.$attributes()["$key?"]("source-language"))&&(Y=["language",p(_=N.$attributes()["$[]"]("source-language"))?_:"text"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]):(Y=["language",wt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(l["$key?"]("linenums"))||p(p(_=l["$key?"]("linenums-option"))?_:N.$attributes()["$key?"]("source-linenums-option"))&&(Y=["linenums",""],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),p(l["$key?"]("indent"))||p(N.$attributes()["$key?"]("source-indent"))&&(Y=["indent",N.$attributes()["$[]"]("source-indent")],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),U=U.$slice(0,3),L=R.$build_block("listing","verbatim",U,s,o,l);else if("pass"["$==="](et))L=R.$build_block(F,"raw",U,s,o,l);else if("stem"["$==="](et)||"latexmath"["$==="](et)||"asciimath"["$==="](et))F["$=="]("stem")&&(Y=["style",p(kt=l["$[]"](2))?p(kt["$include?"]("tex"))?"latexmath":"asciimath":p((xt=N.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":xt],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),L=R.$build_block("stem","raw",U,s,o,l);else if("open"["$==="](et)||"sidebar"["$==="](et))L=R.$build_block(F,"compound",U,s,o,l);else if("table"["$==="](et))At=f(_t,"Reader").$new(o.$read_lines_until(y(["terminator","skip_line_comments"],{terminator:U,skip_line_comments:!0})),o.$cursor()),p(U["$start_with?"]("|","!"))||p(_=l["$[]"]("format"))||(Y=["format",p(U["$start_with?"](","))?"csv":"dsv"],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),L=R.$next_table(At,s,l);else if("quote"["$==="](et)||"verse"["$==="](et))f(_t,"AttributeList").$rekey(l,[u,"attribution","citetitle"]),L=R.$build_block(F,F["$=="]("verse")?"verbatim":"compound",U,s,o,l);else if(p(p(_=P)?it=z["$registered_for_block?"](F,j):_)){if(p((Ot=it.$config()["$[]"]("content_model"))["$!="]("skip"))&&(p((Mt=p(_=it.$config()["$[]"]("pos_attrs"))?_:[])["$empty?"]()["$!"]())&&f(_t,"AttributeList").$rekey(l,[u].$concat(Mt)),p(at=it.$config()["$[]"]("default_attrs"))&&d(at,"each",[],((O=function(r,n){var i;return O.$$s,null==r&&(r=u),null==n&&(n=u),p(i=l["$[]"](r))?i:(Y=[r,n],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)])}).$$s=R,O.$$arity=2,O)),Y=["cloaked-context",j],d(l,"[]=",t.to_a(Y)),Y[e(Y.length,1)]),L=R.$build_block(F,Ot,U,s,o,l,y(["extension"],{extension:it})),!p(L))return l.$clear(),u}else R.$raise("Unsupported block type "+F+" at "+o.$line_info())}return p(q)&&(Y=[q],d(L,"source_location=",t.to_a(Y)),Y[e(Y.length,1)]),p(l["$key?"]("title"))&&(Y=[l.$delete("title")],d(L,"title=",t.to_a(Y)),Y[e(Y.length,1)]),Y=[l["$[]"]("style")],d(L,"style=",t.to_a(Y)),Y[e(Y.length,1)],p(T=p(_=L.$id())?_:(Y=[l["$[]"]("id")],d(L,"id=",t.to_a(Y)),Y[e(Y.length,1)]))&&(p(N.$register("refs",[T,L,p(_=l["$[]"]("reftext"))?_:p(L["$title?"]())?L.$title():u]))||R.$warn("asciidoctor: WARNING: "+M+": line "+a+": id assigned to block already in use: "+T)),p(l["$empty?"]())||L.$attributes().$update(l),L.$lock_in_subs(),p(L["$sub?"]("callouts"))&&(p(R.$catalog_callouts(L.$source(),N))||L.$remove_sub("callouts")),L}catch(e){if(e===t.returner)return e.$v;throw e}},M.$$arity=-3),t.defs(ft,"$read_paragraph_lines",S=function(r,n,i){var $=u,a=u;return null==i&&(i=y([],{})),$=["break_on_blank_lines",!0],d(i,"[]=",t.to_a($)),$[e($.length,1)],$=["break_on_list_continuation",!0],d(i,"[]=",t.to_a($)),$[e($.length,1)],$=["preserve_last_line",!0],d(i,"[]=",t.to_a($)),$[e($.length,1)],a=p(n)?p(f(_t,"Compliance").$block_terminates_paragraph())?f(_t,"StartOfBlockOrListProc"):f(_t,"StartOfListProc"):p(f(_t,"Compliance").$block_terminates_paragraph())?f(_t,"StartOfBlockProc"):f(_t,"NoOp"),d(r,"read_lines_until",[i],a.$to_proc())},S.$$arity=-3),t.defs(ft,"$is_delimited_block?",T=function(n,a){var o,s,l,c,_=u,h=u,d=u,y=u,m=u,g=u,b=u;if(null==a&&(a=!1),!p(p(o=i(_=n.$length(),1))?f(_t,"DELIMITED_BLOCK_HEADS")["$include?"](n.$slice(0,2)):o))return u;if(_["$=="](2))h=n,d=2;else{if(p((c=4,"number"==typeof(l=_)&&"number"==typeof c?l<=c:l["$<="](c)))?(h=n,d=_):(h=n.$slice(0,4),d=4),y=!1,p(f(_t,"Compliance").$markdown_syntax())&&(m=d["$=="](4)?h.$chop():h)["$=="]("```")){if(p((o=d["$=="](4))?h["$end_with?"]("`"):d["$=="](4)))return u;h=m,d=3,y=!0}if(p((o=d["$=="](3))?y["$!"]():d["$=="](3)))return u}return p(f(_t,"DELIMITED_BLOCKS")["$key?"](h))?p(p(o=$(d,4))?o:d["$=="](_))?!p(a)||(s=f(_t,"DELIMITED_BLOCKS")["$[]"](h),g=null==(o=t.to_ary(s))[0]?u:o[0],b=null==o[1]?u:o[1],f(_t,"BlockMatchData").$new(g,b,h,h)):(""+h+r(h["$[]"](v(-1,-1,!1)),e(_,d)))["$=="](n)?!p(a)||(s=f(_t,"DELIMITED_BLOCKS")["$[]"](h),g=null==(o=t.to_ary(s))[0]?u:o[0],b=null==o[1]?u:o[1],f(_t,"BlockMatchData").$new(g,b,h,n)):u:u},T.$$arity=-2),t.defs(ft,"$build_block",R=function(r,n,$,a,o,s,l){var c,_,h=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u;if(null==l&&(l=y([],{})),n["$=="]("skip")?(h=(c=[!0,"simple"])[0],m=c[1]):n["$=="]("raw")?(h=(c=[!1,"simple"])[0],m=c[1]):(h=(c=[!1,n])[0],m=c[1]),p($["$nil?"]())?(m["$=="]("verbatim")?g=o.$read_lines_until(y(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(n["$=="]("compound")&&(n="simple"),g=this.$read_paragraph_lines(o,!1,y(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:h}))),v=u):p(m["$!="]("compound"))?(g=o.$read_lines_until(y(["terminator","skip_processing"],{terminator:$,skip_processing:h})),v=u):$["$=="](!1)?(g=u,v=o):(g=u,v=f(_t,"Reader").$new(o.$read_lines_until(y(["terminator","skip_processing"],{terminator:$,skip_processing:h})),o.$cursor())),n["$=="]("verbatim"))p(b=s["$[]"]("indent"))?this["$adjust_indentation!"](g,b,p(c=s["$[]"]("tabsize"))?c:a.$document().$attributes()["$[]"]("tabsize")):p(i(w=(p(c=s["$[]"]("tabsize"))?c:a.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](g,u,w);else if(n["$=="]("skip"))return u;if(p(E=l["$[]"]("extension"))){if(s.$delete("style"),!p(k=E.$process_method()["$[]"](a,p(c=v)?c:f(_t,"Reader").$new(g),s.$dup())))return u;s.$replace(k.$attributes()),p((c=k.$content_model()["$=="]("compound"))?(g=k.$lines())["$nil_or_empty?"]()["$!"]():k.$content_model()["$=="]("compound"))&&(n="compound",v=f(_t,"Reader").$new(g))}else k=f(_t,"Block").$new(a,r,y(["content_model","source","attributes"],{content_model:n,source:g,attributes:s}));return p(p(c=p(_=s["$key?"]("title"))?k.$context()["$!="]("admonition"):_)?a.$document().$attributes()["$key?"](k.$context()+"-caption"):c)&&(x=[s.$delete("title")],d(k,"title=",t.to_a(x)),x[e(x.length,1)],k.$assign_caption(s.$delete("caption"))),n["$=="]("compound")&&this.$parse_blocks(v,k),k},R.$$arity=-7),t.defs(ft,"$parse_blocks",I=function(t,e){for(var r,n,i=u;p(p(r=p(n=i=this.$next_block(t,e))?e["$<<"](i):n)?r:t["$has_more_lines?"]()););},I.$$arity=2),t.defs(ft,"$next_item_list",C=function(r,a,o){var s,l=u,c=u,_=u,h=u,y=u,m=u,g=u;for(l=f(_t,"List").$new(o,a),o.$context()["$=="](a)?(c=[n(o.$level(),1)],d(l,"level=",t.to_a(c)),c[e(c.length,1)]):(c=[1],d(l,"level=",t.to_a(c)),c[e(c.length,1)]);p(p(s=r["$has_more_lines?"]())?_=f(_t,"ListRxMap")["$[]"](a).$match(r.$peek_line()):s);){if(h=this.$resolve_list_marker(a,_["$[]"](1)),p(p(s=l["$items?"]())?h["$!="](l.$items()["$[]"](0).$marker()):s))for(y=n(l.$level(),1),m=o;m.$context()["$=="](a);){if(h["$=="](m.$items()["$[]"](0).$marker())){y=m.$level();break}m=m.$parent()}else y=l.$level();if(p(p(s=l["$items?"]()["$!"]())?s:y["$=="](l.$level())))g=this.$next_list_item(r,l,_);else{if(p($(y,l.$level())))break;p(i(y,l.$level()))&&l.$items()["$[]"](-1)["$<<"](this.$next_block(r,l))}if(p(g)&&l["$<<"](g),g=u,!p(s=r.$skip_blank_lines()))break}return l},C.$$arity=3),t.defs(ft,"$catalog_callouts",N=function(t,e){var r,n=u;return n=!1,p(t["$include?"]("<"))&&d(t,"scan",[f(_t,"CalloutScanRx")],((r=function(){var t,i,$;return r.$$s,$=(t=[(i=g["~"])===u?u:i["$[]"](0),(i=g["~"])===u?u:i["$[]"](2)])[1],p(t[0]["$start_with?"]("\\"))||e.$callouts().$register($),n=!0}).$$s=this,r.$$arity=0,r)),n},N.$$arity=2),t.defs(ft,"$catalog_inline_anchors",z=function(t,e,r){var n,i;return p(p(n=t["$include?"]("[["))?n:t["$include?"]("or:"))&&d(t,"scan",[f(_t,"InlineAnchorScanRx")],((i=function(){var t,n=i.$$s||this,$=u,a=u;if(p($=(t=g["~"])===u?u:t["$[]"](1))){if(p(a=(t=g["~"])===u?u:t["$[]"](2))&&p(p(t=a["$include?"](f(_t,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():t))return u}else if($=(t=g["~"])===u?u:t["$[]"](3),p(a=(t=g["~"])===u?u:t["$[]"](4))&&(p(a["$include?"]("]"))&&(a=a.$gsub("\\]","]")),p(p(t=a["$include?"](f(_t,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():t)))return u;return p(r.$register("refs",[$,f(_t,"Inline").$new(e,"anchor",a,y(["type","id"],{type:"ref",id:$})),a]))?u:n.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to anchor already in use: "+$)}).$$s=this,i.$$arity=0,i)),u},z.$$arity=3),t.defs(ft,"$catalog_inline_biblio_anchor",P=function(t,e,r){var n,i,$=u,a=u;return p(f(_t,"InlineBiblioAnchorRx")["$=~"](t))&&(p(r.$register("refs",[$=(n=g["~"])===u?u:n["$[]"](1),f(_t,"Inline").$new(e,"anchor",a="["+(p(n=(i=g["~"])===u?u:i["$[]"](2))?n:$)+"]",y(["type","id"],{type:"bibref",id:$})),a]))||this.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to bibliography anchor already in use: "+$)),u},P.$$arity=3),t.defs(ft,"$next_description_list",B=function(e,r,n){var i,$,a=u,o=u,s=u,l=u,c=u;for(a=f(_t,"List").$new(n,"dlist"),o=u,s=f(_t,"DescriptionListSiblingRx")["$[]"](r["$[]"](2));p(p(i=r)?i:p($=e["$has_more_lines?"]())?r=s.$match(e.$peek_line()):$);)$=this.$next_list_item(e,a,r,s),l=null==(i=t.to_ary($))[0]?u:i[0],c=null==i[1]?u:i[1],p(p(i=o)?o["$[]"](-1)["$!"]():i)?(o.$pop(),o["$[]"](0)["$<<"](l),o["$<<"](c)):a.$items()["$<<"](o=[[l],c]),r=u;return a},B.$$arity=3),t.defs(ft,"$next_list_item",q=function(r,n,i,$){var a,o,s,l=u,c=u,_=u,h=u,m=u,g=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u,S=u;if(null==$&&($=u),(l=n.$context())["$=="]("dlist")?(c=f(_t,"ListItem").$new(n,i["$[]"](1)),_=f(_t,"ListItem").$new(n,i["$[]"](3)),h=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(m=i["$[]"](2),g=!1,p((a=l["$=="]("ulist"))?m["$start_with?"]("["):l["$=="]("ulist"))&&(p(m["$start_with?"]("[ ] "))?(g=!0,b=!1,m=m["$[]"](v(3,-1,!1)).$lstrip()):p(m["$start_with?"]("[x] ","[*] "))&&(g=!0,b=!0,m=m["$[]"](v(3,-1,!1)).$lstrip())),_=f(_t,"ListItem").$new(n,m),p(g)&&(w=["checklist-option",""],d(n.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)],w=["checkbox",""],d(_.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)],p(b)&&(w=["checked",""],d(_.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)])),w=[$=p(a=$)?a:this.$resolve_list_marker(l,i["$[]"](1),n.$items().$size(),!0,r)],d(_,"marker=",t.to_a(w)),w[e(w.length,1)],h=!0),r.$shift(),E=f(_t,"Reader").$new(this.$read_lines_for_list_item(r,l,$,h),r.$cursor()),p(E["$has_more_lines?"]())){for(k=E.$skip_line_comments(),p(x=E.$peek_line())?(p(k["$empty?"]())||E.$unshift_lines(k),
p(A=x["$empty?"]())?O=!1:(O=!0,l["$=="]("dlist")||(h=!1))):(A=!1,O=!1),M=y(["text"],{text:h["$!"]()});p(p(o=p(s=S=this.$next_block(E,_,y([],{}),M))?_["$<<"](S):s)?o:E["$has_more_lines?"]()););_.$fold_first(A,O)}return l["$=="]("dlist")?p(p(a=_["$text?"]())?a:_["$blocks?"]())?[c,_]:[c,u]:_},q.$$arity=-4),t.defs(ft,"$read_lines_for_list_item",D=function(r,n,i,$){var a,o,s,l,c,_,h,m,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u;for(null==i&&(i=u),null==$&&($=!0),v=[],b="inactive",w=!1,E=u;p(r["$has_more_lines?"]())&&(k=r.$read_line(),!p(this["$is_sibling_list_item?"](k,n,i)));)if((x=p(v["$empty?"]())?u:v["$[]"](-1))["$=="](f(_t,"LIST_CONTINUATION"))&&(b["$=="]("inactive")&&(b="active",$=!0,p(w)||(A=[-1,""],d(v,"[]=",t.to_a(A)),A[e(A.length,1)])),k["$=="](f(_t,"LIST_CONTINUATION"))))p(b["$!="]("frozen"))&&(b="frozen",v["$<<"](k)),k=u;else{if(p(O=this["$is_delimited_block?"](k,!0))){if(!b["$=="]("active"))break;v["$<<"](k),v.$concat(r.$read_lines_until(y(["terminator","read_last_line"],{terminator:O.$terminator(),read_last_line:!0}))),b="inactive"}else{if(p(p(o=(s=n["$=="]("dlist"))?b["$!="]("active"):n["$=="]("dlist"))?f(_t,"BlockAttributeLineRx")["$match?"](k):o))break;if(p((o=b["$=="]("active"))?k["$empty?"]()["$!"]():b["$=="]("active")))p(f(_t,"LiteralParagraphRx")["$match?"](k))?(r.$unshift_line(k),v.$concat(d(r,"read_lines_until",[y(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((l=function(t){var e=l.$$s||this;return null==t&&(t=u),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")}).$$s=this,l.$$arity=1,l))),b="inactive"):p(p(o=p(s=f(_t,"BlockTitleRx")["$match?"](k))?s:f(_t,"BlockAttributeLineRx")["$match?"](k))?o:f(_t,"AttributeEntryRx")["$match?"](k))?v["$<<"](k):(p(M=d(p(w)?["dlist"]:f(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((c=function(t){return c.$$s,null==t&&(t=u),f(_t,"ListRxMap")["$[]"](t)["$match?"](k)}).$$s=this,c.$$arity=1,c)))&&(w=!0,p((o=M["$=="]("dlist"))?((s=g["~"])===u?u:s["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&($=!1)),v["$<<"](k),b="inactive");else if(p(p(o=x)?x["$empty?"]():o)){if(p(k["$empty?"]())){if(!p(k=p(o=r.$skip_blank_lines())?r.$read_line():o))break;if(p(this["$is_sibling_list_item?"](k,n,i)))break}if(k["$=="](f(_t,"LIST_CONTINUATION")))E=v.$size(),v["$<<"](k);else if(p($)){if(p(this["$is_sibling_list_item?"](k,n,i)))break;if(p(M=d(f(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((_=function(t){return _.$$s,null==t&&(t=u),f(_t,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,_.$$arity=1,_))))v["$<<"](k),w=!0,p((o=M["$=="]("dlist"))?((s=g["~"])===u?u:s["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&($=!1);else{if(!p(f(_t,"LiteralParagraphRx")["$match?"](k)))break;r.$unshift_line(k),v.$concat(d(r,"read_lines_until",[y(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((h=function(t){var e=h.$$s||this;return null==t&&(t=u),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")}).$$s=this,h.$$arity=1,h)))}}else p(w)||v.$pop(),v["$<<"](k),$=!0}else p(k["$empty?"]()["$!"]())&&($=!0),p(M=d(p(w)?["dlist"]:f(_t,"NESTABLE_LIST_CONTEXTS"),"find",[],((m=function(t){return m.$$s,null==t&&(t=u),f(_t,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,m.$$arity=1,m)))&&(w=!0,p((o=M["$=="]("dlist"))?((s=g["~"])===u?u:s["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&($=!1)),v["$<<"](k)}k=u}for(p(k)&&r.$unshift_line(k),p(E)&&v.$delete_at(E);p(p(o=v["$empty?"]()["$!"]())?v["$[]"](-1)["$empty?"]():o);)v.$pop();return p(p(a=v["$empty?"]()["$!"]())?v["$[]"](-1)["$=="](f(_t,"LIST_CONTINUATION")):a)&&v.$pop(),v},D.$$arity=-3),t.defs(ft,"$initialize_section",L=function(r,n,$){var a,o,s,l,c,_=this,h=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u;return null==$&&($=y([],{})),h=n.$document(),p(h.$sourcemap())&&(m=r.$cursor()),o=_.$parse_section_title(r,h),s=null==(a=t.to_ary(o))[0]?u:a[0],g=null==a[1]?u:a[1],v=null==a[2]?u:a[2],b=null==a[3]?u:a[3],l=null==a[4]?u:a[4],p(g)?(w=["reftext",g],d($,"[]=",t.to_a(w)),w[e(w.length,1)]):p($["$key?"]("reftext"))&&(g=$["$[]"]("reftext")),E=p($["$[]"](1))?_.$parse_style_attribute($,r):u,p(E)?p((a=E["$=="]("abstract"))?h.$doctype()["$=="]("book"):E["$=="]("abstract"))?(k=(a=["chapter",1])[0],b=a[1]):(k=(a=[E,!0])[0],x=a[1],b["$=="](0)&&(b=1),A=E["$=="]("appendix")):(O=h.$doctype(),"book"["$==="](O)?k=b["$=="](0)?"part":b["$=="](1)?"chapter":"section":"manpage"["$==="](O)&&v.$casecmp("synopsis")["$=="](0)?(k=(a=["synopsis",!0])[0],x=a[1]):k="section"),M=f(_t,"Section").$new(n,b,!1),a=[s,v,k,m],M["$id="](a[0]),M["$title="](a[1]),M["$sectname="](a[2]),M["$source_location="](a[3]),p(x)?(w=[!0],d(M,"special=",t.to_a(w)),w[e(w.length,1)],p(A)&&(w=[!0],d(M,"numbered=",t.to_a(w)),w[e(w.length,1)])):p(p(a=i(b,0))?h.$attributes()["$key?"]("sectnums"):a)&&(w=[!p(M.$special())||((a=n.$context()["$=="]("section"))?n.$numbered():n.$context()["$=="]("section"))],d(M,"numbered=",t.to_a(w)),w[e(w.length,1)]),p(c=p(a=M.$id())?a:(w=[p(o=$["$[]"]("id"))?o:p(h.$attributes()["$key?"]("sectids"))?f(_t,"Section").$generate_id(M.$title(),h):u],d(M,"id=",t.to_a(w)),w[e(w.length,1)]))&&(p(h.$register("refs",[c,M,p(a=g)?a:M.$title()]))||_.$warn("asciidoctor: WARNING: "+r.$path()+": line "+e(r.$lineno(),p(l)?1:2)+": id assigned to section already in use: "+c)),M.$update_attributes($),r.$skip_blank_lines(),M},L.$$arity=-3),t.defs(ft,"$is_next_line_section?",F=function(e,r){var n,i,$=u;return p(p(n=p(i=$=r["$[]"](1))?$["$start_with?"]("discrete","float"):i)?f(_t,"DiscreteHeadingStyleRx")["$match?"]($):n)?u:p(e["$has_more_lines?"]())?p(f(_t,"Compliance").$underline_style_section_titles())?d(this,"is_section_title?",t.to_a(e.$peek_lines(2,p(n=$)?$["$=="]("comment"):n))):this["$atx_section_title?"](e.$peek_line()):u},F.$$arity=2),t.defs(ft,"$is_next_line_doctitle?",j=function(t,e,r){var i,$=u;return p(r)?p(i=$=this["$is_next_line_section?"](t,e))?n($,r.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},j.$$arity=3),t.defs(ft,"$is_section_title?",U=function(t,e){var r,n=this;return null==e&&(e=u),p(r=n["$atx_section_title?"](t))?r:p(e["$nil_or_empty?"]())?u:n["$setext_section_title?"](t,e)},U.$$arity=-2),t.defs(ft,"$atx_section_title?",H=function(t){var r;return p(p(f(_t,"Compliance").$markdown_syntax())?p(r=t["$start_with?"]("=","#"))?f(_t,"ExtAtxSectionTitleRx")["$=~"](t):r:p(r=t["$start_with?"]("="))?f(_t,"AtxSectionTitleRx")["$=~"](t):r)?e(((r=g["~"])===u?u:r["$[]"](1)).$length(),1):u},H.$$arity=1),t.defs(ft,"$setext_section_title?",G=function(t,n){var i,a,o,s,l,c=u;return p(p(i=p(a=p(o=s=f(_t,"SETEXT_SECTION_LEVELS")["$[]"](l=n.$chr()))?r(l,c=n.$length())["$=="](n):o)?f(_t,"SetextSectionTitleRx")["$match?"](t):a)?$(e(this.$line_length(t),c).$abs(),2):i)?s:u},G.$$arity=2),t.defs(ft,"$parse_section_title",Y=function(t,i){var a,o,s,l,c,_=u,h=u,d=u,y=u,m=u,v=u,b=u,w=u,E=u;return _=h=u,d=t.$read_line(),p(p(f(_t,"Compliance").$markdown_syntax())?p(a=d["$start_with?"]("=","#"))?f(_t,"ExtAtxSectionTitleRx")["$=~"](d):a:p(a=d["$start_with?"]("="))?f(_t,"AtxSectionTitleRx")["$=~"](d):a)?(y=(a=[e(((o=g["~"])===u?u:o["$[]"](1)).$length(),1),(o=g["~"])===u?u:o["$[]"](2),!0])[0],m=a[1],v=a[2],p(p(a=p(o=m["$end_with?"]("]]"))?f(_t,"InlineSectionAnchorRx")["$=~"](m):o)?((o=g["~"])===u?u:o["$[]"](1))["$!"]():a)&&(m=(a=[m.$slice(0,e(m.$length(),((o=g["~"])===u?u:o["$[]"](0)).$length())),(o=g["~"])===u?u:o["$[]"](2),(o=g["~"])===u?u:o["$[]"](3)])[0],_=a[1],h=a[2])):p(p(a=p(o=p(s=p(l=p(c=f(_t,"Compliance").$underline_style_section_titles())?b=t.$peek_line(!0):c)?y=f(_t,"SETEXT_SECTION_LEVELS")["$[]"](w=b.$chr()):l)?r(w,E=b.$length())["$=="](b):s)?m=p(s=f(_t,"SetextSectionTitleRx")["$=~"](d))?(l=g["~"])===u?u:l["$[]"](1):s:o)?$(e(this.$line_length(d),E).$abs(),2):a)?(v=!1,p(p(a=p(o=m["$end_with?"]("]]"))?f(_t,"InlineSectionAnchorRx")["$=~"](m):o)?((o=g["~"])===u?u:o["$[]"](1))["$!"]():a)&&(m=(a=[m.$slice(0,e(m.$length(),((o=g["~"])===u?u:o["$[]"](0)).$length())),(o=g["~"])===u?u:o["$[]"](2),(o=g["~"])===u?u:o["$[]"](3)])[0],_=a[1],h=a[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$prev_line_info()),p(i["$attr?"]("leveloffset"))&&(y=n(y,i.$attr("leveloffset").$to_i())),[_,h,m,y,v]},Y.$$arity=2),p(f(_t,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(ft,"$line_length",W=function(t){return t.$scan(f(_t,"UnicodeCharScanRx")).$size()},W.$$arity=1):t.defs(ft,"$line_length",X=function(t){return t.$length()},X.$$arity=1),t.defs(ft,"$parse_header_metadata",K=function(i,$){var a,o,s,l,_=this,h=u,m=u,g=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u,S=u,T=u,R=u,I=u,C=u;if(null==$&&($=u),_.$process_attribute_entries(i,$),h=(a=[y([],{}),u,u])[0],m=a[1],g=a[2],p(p(a=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():a)&&(p((b=_.$process_authors(i.$read_line()))["$empty?"]())||(p($)&&(d(b,"each",[],((o=function(r,n){o.$$s;var i=u;return null==r&&(r=u),null==n&&(n=u),p($.$attributes()["$key?"](r))?u:(i=[r,p(c("::","String")["$==="](n))?$.$apply_header_subs(n):n],d($.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])}).$$s=_,o.$$arity=2,o)),m=$.$attributes()["$[]"]("author"),g=$.$attributes()["$[]"]("authors")),h=b),_.$process_attribute_entries(i,$),w=y([],{}),p(p(a=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():a)&&(E=i.$read_line(),p(k=f(_t,"RevisionInfoLineRx").$match(E))?(p(k["$[]"](1))&&(x=["revnumber",k["$[]"](1).$rstrip()],d(w,"[]=",t.to_a(x)),x[e(x.length,1)]),p((A=k["$[]"](2).$strip())["$empty?"]())||(p(p(a=k["$[]"](1)["$!"]())?A["$start_with?"]("v"):a)?(x=["revnumber",A["$[]"](v(1,-1,!1))],d(w,"[]=",t.to_a(x)),x[e(x.length,1)]):(x=["revdate",A],d(w,"[]=",t.to_a(x)),x[e(x.length,1)])),p(k["$[]"](3))&&(x=["revremark",k["$[]"](3).$rstrip()],d(w,"[]=",t.to_a(x)),x[e(x.length,1)])):i.$unshift_line(E)),p(w["$empty?"]())||(p($)&&d(w,"each",[],((s=function(r,n){return s.$$s,null==r&&(r=u),null==n&&(n=u),p($.$attributes()["$key?"](r))?u:(x=[r,$.$apply_header_subs(n)],d($.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)])}).$$s=_,s.$$arity=2,s)),h.$update(w)),_.$process_attribute_entries(i,$),i.$skip_blank_lines()),p($)){if(p(p(a=$.$attributes()["$key?"]("author"))?(O=$.$attributes()["$[]"]("author"))["$!="](m):a))b=_.$process_authors(O,!0,!1);else if(p(p(a=$.$attributes()["$key?"]("authors"))?(O=$.$attributes()["$[]"]("authors"))["$!="](g):a))b=_.$process_authors(O,!0);else{for(M=(a=[[],1,"author_1",!1,!1])[0],S=a[1],T=a[2],R=a[3],I=a[4];p($.$attributes()["$key?"](T));)(C=$.$attributes()["$[]"](T))["$=="](b["$[]"](T))?(M["$<<"](u),I=!0):(M["$<<"](C),R=!0),T="author_"+(S=n(S,1));p(R)?(p(I)&&d(M,"each_with_index",[],((l=function(i,$){var a,o=l.$$s||this,s=u;return null==i&&(i=u),null==$&&($=u),p(i)?u:(x=[$,r(d([b["$[]"]("firstname_"+(s=n($,1))),b["$[]"]("middlename_"+s),b["$[]"]("lastname_"+s)].$compact(),"map",[],(a=function(t){return a.$$s,null==t&&(t=u),t.$tr(" ","_")},a.$$s=o,a.$$arity=1,a))," ")],d(M,"[]=",t.to_a(x)),x[e(x.length,1)])}).$$s=_,l.$$arity=2,l)),b=_.$process_authors(M,!0,!1)):b=y([],{})}p(b["$empty?"]())||($.$attributes().$update(b),p(p(a=$.$attributes()["$key?"]("email")["$!"]())?$.$attributes()["$key?"]("email_1"):a)&&(x=["email",$.$attributes()["$[]"]("email_1")],d($.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)]))}return h},K.$$arity=-2),t.defs(ft,"$process_authors",V=function(r,i,$){var a,o,s,l,c=this,_=u;return null==i&&(i=!1),null==$&&($=!0),_=y([],{}),s=["author","authorinitials","firstname","middlename","lastname","email"],l=p($)?d(r.$split(";"),"map",[],((a=function(t){return a.$$s,null==t&&(t=u),t.$strip()}).$$s=c,a.$$arity=1,a)):c.$Array(r),d(l,"each_with_index",[],((o=function(r,$){var a,l,c,h,m=o.$$s||this,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u;return null==r&&(r=u),null==$&&($=u),p(r["$empty?"]())?u:(g=y([],{}),$["$=="](0)?d(s,"each",[],((a=function(r){var n;return a.$$s,null==r&&(r=u),n=[r.$to_sym(),r],d(g,"[]=",t.to_a(n)),n[e(n.length,1)]}).$$s=m,a.$$arity=1,a)):d(s,"each",[],((l=function(r){var i;return l.$$s,null==r&&(r=u),i=[r.$to_sym(),r+"_"+n($,1)],d(g,"[]=",t.to_a(i)),i[e(i.length,1)]}).$$s=m,l.$$arity=1,l)),v=u,p(i)?(p(r["$include?"]("<"))&&(b=[g["$[]"]("author"),r.$tr("_"," ")],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],r=r.$gsub(f(_t,"XmlSanitizeRx"),"")),(v=r.$split(u,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):p(w=f(_t,"AuthorInfoLineRx").$match(r))&&(v=w.$to_a()).$shift(),p(v)?(b=[g["$[]"]("firstname"),k=v["$[]"](0).$tr("_"," ")],d(_,"[]=",t.to_a(b)),E=b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],p(v["$[]"](1))&&(p(v["$[]"](2))?(b=[g["$[]"]("middlename"),x=v["$[]"](1).$tr("_"," ")],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("lastname"),A=v["$[]"](2).$tr("_"," ")],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],E=n(n(n(n(k," "),x)," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+x.$chr()+A.$chr()],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=[g["$[]"]("lastname"),A=v["$[]"](1).$tr("_"," ")],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],E=n(n(k," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+A.$chr()],d(_,"[]=",t.to_a(b)),b[e(b.length,1)])),p(c=_["$[]"](g["$[]"]("author")))||(b=[g["$[]"]("author"),E],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]),p(p(c=i)?c:v["$[]"](3)["$!"]())||(b=[g["$[]"]("email"),v["$[]"](3)],d(_,"[]=",t.to_a(b)),b[e(b.length,1)])):(b=[g["$[]"]("author"),(b=[g["$[]"]("firstname"),k=r.$squeeze(" ").$strip()],d(_,"[]=",t.to_a(b)),b[e(b.length,1)])],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]),b=["authorcount",n($,1)],d(_,"[]=",t.to_a(b)),b[e(b.length,1)],$["$=="](1)&&d(s,"each",[],((h=function(r){return h.$$s,null==r&&(r=u),p(_["$key?"](r))?(b=[r+"_1",_["$[]"](r)],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]):u}).$$s=m,h.$$arity=1,h)),$["$=="](0)?(b=["authors",_["$[]"](g["$[]"]("author"))],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=["authors",_["$[]"]("authors")+", "+_["$[]"](g["$[]"]("author"))],d(_,"[]=",t.to_a(b)),b[e(b.length,1)]))}).$$s=c,o.$$arity=2,o)),_},V.$$arity=-2),t.defs(ft,"$parse_block_metadata_lines",J=function(t,e,r,n){for(null==r&&(r=y([],{})),null==n&&(n=y([],{}));p(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),p(t.$skip_blank_lines())););return r},J.$$arity=-3),t.defs(ft,"$parse_block_metadata_line",Z=function(n,i,$,a){var o,s,l=u,c=u,_=u,h=u,m=u;return null==g["~"]&&(g["~"]=u),null==a&&(a=y([],{})),p(p(o=l=n.$peek_line())?p(a["$[]"]("text"))?l["$start_with?"]("[","/"):c=l["$start_with?"]("[",".","/",":"):o)?p(l["$start_with?"]("["))?p(l["$start_with?"]("[["))?p(p(o=l["$end_with?"]("]]"))?f(_t,"BlockAnchorRx")["$=~"](l):o)?(_=["id",(o=g["~"])===u?u:o["$[]"](1)],d($,"[]=",t.to_a(_)),_[e(_.length,1)],p(h=(o=g["~"])===u?u:o["$[]"](2))&&(_=["reftext",p(h["$include?"](f(_t,"ATTR_REF_HEAD")))?i.$sub_attributes(h):h],d($,"[]=",t.to_a(_)),_[e(_.length,1)]),!0):u:p(p(o=l["$end_with?"]("]"))?f(_t,"BlockAttributeListRx")["$=~"](l):o)?(i.$parse_attributes((o=g["~"])===u?u:o["$[]"](1),[],y(["sub_input","into"],{sub_input:!0,into:$})),!0):u:p(p(o=c)?l["$start_with?"]("."):o)?p(f(_t,"BlockTitleRx")["$=~"](l))?(_=["title",(o=g["~"])===u?u:o["$[]"](1)],d($,"[]=",t.to_a(_)),_[e(_.length,1)],!0):u:p(p(o=c["$!"]())?o:l["$start_with?"]("/"))?p(l["$start_with?"]("//"))?!!l["$=="]("//")||(p(p(o=c)?r("/",m=l.$length())["$=="](l):o)?m["$=="](3)?u:(n.$read_lines_until(y(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0})),!0):!p(l["$start_with?"]("///"))||u):u:p(p(o=p(s=c)?l["$start_with?"](":"):s)?f(_t,"AttributeEntryRx")["$=~"](l):o)?(this.$process_attribute_entry(n,i,$,g["~"]),!0):u:u},Z.$$arity=-4),t.defs(ft,"$process_attribute_entries",Q=function(t,e,r){for(null==r&&(r=u),t.$skip_comment_lines();p(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},Q.$$arity=-3),t.defs(ft,"$process_attribute_entry",tt=function(t,r,n,i){var $,a,o=u,s=u,l=u,c=u;if(null==n&&(n=u),null==i&&(i=u),p(i=p($=i)?$:p(t["$has_more_lines?"]())?f(_t,"AttributeEntryRx").$match(t.$peek_line()):u)){if(p((o=i["$[]"](2))["$nil_or_empty?"]()))o="";else if(p(o["$end_with?"](f(_t,"LINE_CONTINUATION"),f(_t,"LINE_CONTINUATION_LEGACY"))))for(s=($=[o.$slice(-2,2),o.$slice(0,e(o.$length(),2)).$rstrip()])[0],o=$[1];p(p(a=t.$advance())?(l=t.$peek_line().$lstrip())["$empty?"]()["$!"]():a)&&(p(c=l["$end_with?"](s))&&(l=l.$slice(0,e(l.$length(),2)).$rstrip()),o=""+o+(p(o["$end_with?"](f(_t,"HARD_LINE_BREAK")))?f(_t,"LF"):" ")+l,p(c)););return this.$store_attribute(i["$[]"](1),o,r,n),!0}return u},tt.$$arity=-3),t.defs(ft,"$store_attribute",et=function(t,r,i,$){var a,o=u;return null==i&&(i=u),null==$&&($=u),p(t["$end_with?"]("!"))?(t=(a=[t.$chop(),u])[0],r=a[1]):p(t["$start_with?"]("!"))&&(t=(a=[t.$slice(1,t.$length()),u])[0],r=a[1]),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")&&(t="sectnums"),p(i)?p(r)?(t["$=="]("leveloffset")&&(p(r["$start_with?"]("+"))?r=n(i.$attr("leveloffset",0).$to_i(),(p(a=r["$[]"](v(1,-1,!1)))?a:0).$to_i()).$to_s():p(r["$start_with?"]("-"))&&(r=e(i.$attr("leveloffset",0).$to_i(),(p(a=r["$[]"](v(1,-1,!1)))?a:0).$to_i()).$to_s())),p(o=i.$set_attribute(t,r))&&(r=o,p($)&&c(f(_t,"Document"),"AttributeEntry").$new(t,r).$save_to($))):p(p(a=i.$delete_attribute(t))?$:a)&&c(f(_t,"Document"),"AttributeEntry").$new(t,r).$save_to($):p($)&&c(f(_t,"Document"),"AttributeEntry").$new(t,r).$save_to($),[t,r]},et.$$arity=-3),t.defs(ft,"$resolve_list_marker",rt=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=u),t["$=="]("olist")?p(e["$start_with?"]("."))?e:this.$resolve_ordered_list_marker(e,r,n,i):t["$=="]("colist")?"<1>":e},rt.$$arity=-3),t.defs(ft,"$resolve_ordered_list_marker",nt=function(t,e,r,i){var $,a,o,s=u,l=u;return null==e&&(e=0),null==r&&(r=!1),null==i&&(i=u),s=l=u,o=d(f(_t,"ORDERED_LIST_STYLES"),"find",[],(($=function(e){return $.$$s,null==e&&(e=u),f(_t,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)}).$$s=this,$.$$arity=1,$)),"arabic"["$==="](o)?(p(r)&&(s=n(e,1),l=t.$to_i()),t="1."):"loweralpha"["$==="](o)?(p(r)&&(s=n("a"["$[]"](0).$ord(),e).$chr(),l=t.$chop()),t="a."):"upperalpha"["$==="](o)?(p(r)&&(s=n("A"["$[]"](0).$ord(),e).$chr(),l=t.$chop()),t="A."):"lowerroman"["$==="](o)?(p(r)&&(s=n(e,1),l=this.$roman_numeral_to_int(t.$chop())),t="i)"):"upperroman"["$==="](o)&&(p(r)&&(s=n(e,1),l=this.$roman_numeral_to_int(t.$chop())),t="I)"),p(p(a=r)?s["$!="](l):a)&&this.$warn("asciidoctor: WARNING: "+i.$line_info()+": list item index: expected "+s+", got "+l),t},nt.$$arity=-2),t.defs(ft,"$is_sibling_list_item?",it=function(t,e,r){var n=u,i=u,$=u;return p(c("::","Regexp")["$==="](r))?(n=r,i=!1):(n=f(_t,"ListRxMap")["$[]"](e),i=r),!!p($=n.$match(t))&&(!p(i)||i["$=="](this.$resolve_list_marker(e,$["$[]"](1))))},it.$$arity=3),t.defs(ft,"$next_table",$t=function(r,$,a){var o,s,l,_,h,y=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u,S=u,T=u,R=u;for(y=f(_t,"Table").$new($,a),p(a["$key?"]("title"))&&(m=[a.$delete("title")],d(y,"title=",t.to_a(m)),m[e(m.length,1)],y.$assign_caption(a.$delete("caption"))),p(p(o=a["$key?"]("cols"))?(g=this.$parse_colspecs(a["$[]"]("cols")))["$empty?"]()["$!"]():o)&&(y.$create_columns(g),v=!0),h=p(o=r.$skip_blank_lines())?o:0,w=(o=[(b=c(f(_t,"Table"),"ParserContext").$new(r,y,a)).$format(),-1,u])[0],E=o[1],k=o[2],p(p(o=p(s=i(h,0))?s:a["$key?"]("header-option"))?o:a["$key?"]("noheader-option"))||(x=!0),o=!1;o||p(A=r.$read_line());){for(o=!1,p(p(s=i(E=n(E,1),0))?A["$empty?"]():s)?(A=u,p(k)&&(k=n(k,1))):w["$=="]("psv")&&(p(b["$starts_with_delimiter?"](A))?(A=A.$slice(1,A.$length()),b.$close_open_cell(),p(k)&&(k=u)):(l=this.$parse_cellspec(A,"start",b.$delimiter()),O=null==(s=t.to_ary(l))[0]?u:s[0],A=null==s[1]?u:s[1],p(O)?(b.$close_open_cell(O),p(k)&&(k=u)):p(p(s=k)?k["$=="](E):s)&&(x=(s=[!1,u])[0],k=s[1]))),p((s=E["$=="](0))?x:E["$=="](0))&&(p(p(s=r["$has_more_lines?"]())?r.$peek_line()["$empty?"]():s)?k=1:x=!1),s=!1;s||p(!0);){if(s=!1,!p(p(l=A)?M=b.$match_delimiter(A):l)){m=[""+b.$buffer()+A+f(_t,"LF")],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)],"csv"["$==="](S=w)?(m=[b.$buffer().$rstrip()+" "],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)],p(b["$buffer_has_unclosed_quotes?"]())?(p(p(l=k)?E["$=="](0):l)&&(x=(l=[!1,u])[0],k=l[1]),b.$keep_cell_open()):b.$close_cell(!0)):"dsv"["$==="](S)?b.$close_cell(!0):b.$keep_cell_open();break}if("csv"["$==="](S=w)){if(p(b["$buffer_has_unclosed_quotes?"](M.$pre_match()))){if(p((A=b.$skip_past_delimiter(M))["$empty?"]()))break;s=!0}m=[""+b.$buffer()+M.$pre_match()],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)]}else if("dsv"["$==="](S)){if(p(M.$pre_match()["$end_with?"]("\\"))){if(p((A=b.$skip_past_escaped_delimiter(M))["$empty?"]())){m=[""+b.$buffer()+f(_t,"LF")],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)],b.$keep_cell_open();break}s=!0}m=[""+b.$buffer()+M.$pre_match()],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)]}else{if(p(M.$pre_match()["$end_with?"]("\\"))){if(p((A=b.$skip_past_escaped_delimiter(M))["$empty?"]())){m=[""+b.$buffer()+f(_t,"LF")],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)],b.$keep_cell_open();break}s=!0}_=this.$parse_cellspec(M.$pre_match()),O=null==(l=t.to_ary(_))[0]?u:l[0],T=null==l[1]?u:l[1],b.$push_cellspec(O),m=[""+b.$buffer()+T],d(b,"buffer=",t.to_a(m)),m[e(m.length,1)]}p((A=M.$post_match())["$empty?"]())&&(A=u),b.$close_cell()}if(p(b["$cell_open?"]()))p(r["$has_more_lines?"]())||b.$close_cell(!0);else if(!p(s=r.$skip_blank_lines()))break}return p(p(o=(R=y.$attributes(),p(s=R["$[]"]("colcount"))?s:(m=["colcount",y.$columns().$size()],d(R,"[]=",t.to_a(m)),m[e(m.length,1)]))["$=="](0))?o:v)||y.$assign_column_widths(),p(x)&&(m=[!0],d(y,"has_header_option=",t.to_a(m)),m[e(m.length,1)],m=["header-option",""],d(a,"[]=",t.to_a(m)),m[e(m.length,1)],m=["options",p(a["$key?"]("options"))?a["$[]"]("options")+",header":"header"],d(a,"[]=",t.to_a(m)),m[e(m.length,1)]),y.$partition_header_footer(a),y},$t.$$arity=3),t.defs(ft,"$parse_colspecs",at=function(r){var n,i,$=u;return p(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?d(c("::","Array"),"new",[r.$to_i()],((n=function(){return n.$$s,y(["width"],{width:1})}).$$s=this,n.$$arity=0,n)):($=[],d(r.$split(",",-1),"each",[],((i=function(r){var n,a,o,s=i.$$s||this,l=u,c=u,_=u,h=u,m=u;return null==r&&(r=u),p(r["$empty?"]())?$["$<<"](y(["width"],{width:1})):p(l=f(_t,"ColumnSpecRx").$match(r))?(c=y([],{}),p(l["$[]"](2))&&(a=l["$[]"](2).$split("."),_=null==(n=t.to_ary(a))[0]?u:n[0],h=null==n[1]?u:n[1],p(p(n=_["$nil_or_empty?"]()["$!"]())?f(_t,"TableCellHorzAlignments")["$key?"](_):n)&&(m=["halign",f(_t,"TableCellHorzAlignments")["$[]"](_)],d(c,"[]=",t.to_a(m)),m[e(m.length,1)]),p(p(n=h["$nil_or_empty?"]()["$!"]())?f(_t,"TableCellVertAlignments")["$key?"](h):n)&&(m=["valign",f(_t,"TableCellVertAlignments")["$[]"](h)],d(c,"[]=",t.to_a(m)),m[e(m.length,1)])),m=["width",p(l["$[]"](3))?l["$[]"](3).$to_i():1],d(c,"[]=",t.to_a(m)),m[e(m.length,1)],p(p(n=l["$[]"](4))?f(_t,"TableCellStyles")["$key?"](l["$[]"](4)):n)&&(m=["style",f(_t,"TableCellStyles")["$[]"](l["$[]"](4))],d(c,"[]=",t.to_a(m)),m[e(m.length,1)]),p(l["$[]"](1))?d(1,"upto",[l["$[]"](1).$to_i()],((o=function(){return o.$$s,$["$<<"](c.$dup())}).$$s=s,o.$$arity=0,o)):$["$<<"](c)):u}).$$s=this,i.$$arity=1,i)),$)},at.$$arity=1),t.defs(ft,"$parse_cellspec",ot=function(r,n,i){var $,a,o,s=u,l=u,c=u,_=u,h=u,m=u;if(null==n&&(n="end"),null==i&&(i=u),s=($=[u,""])[0],l=$[1],n["$=="]("start")){if(!p(r["$include?"](i)))return[u,r];if(a=r.$split(i,2),c=null==($=t.to_ary(a))[0]?u:$[0],l=null==$[1]?u:$[1],!p(s=f(_t,"CellSpecStartRx").$match(c)))return[u,r];if(p(s["$[]"](0)["$empty?"]()))return[y([],{}),l]}else{if(!p(s=f(_t,"CellSpecEndRx").$match(r)))return[y([],{}),r];if(p(s["$[]"](0).$lstrip()["$empty?"]()))return[y([],{}),r.$rstrip()];l=s.$pre_match()}return o=y([],{}),p(s["$[]"](1))&&(a=s["$[]"](1).$split("."),$=t.to_ary(a),_=null==$[0]?u:$[0],h=null==$[1]?u:$[1],_=p(_["$nil_or_empty?"]())?1:_.$to_i(),h=p(h["$nil_or_empty?"]())?1:h.$to_i(),s["$[]"](2)["$=="]("+")?(_["$=="](1)||(m=["colspan",_],d(o,"[]=",t.to_a(m)),m[e(m.length,1)]),h["$=="](1)||(m=["rowspan",h],d(o,"[]=",t.to_a(m)),m[e(m.length,1)])):s["$[]"](2)["$=="]("*")&&(_["$=="](1)||(m=["repeatcol",_],d(o,"[]=",t.to_a(m)),m[e(m.length,1)]))),p(s["$[]"](3))&&(a=s["$[]"](3).$split("."),$=t.to_ary(a),_=null==$[0]?u:$[0],h=null==$[1]?u:$[1],p(p($=_["$nil_or_empty?"]()["$!"]())?f(_t,"TableCellHorzAlignments")["$key?"](_):$)&&(m=["halign",f(_t,"TableCellHorzAlignments")["$[]"](_)],d(o,"[]=",t.to_a(m)),m[e(m.length,1)]),p(p($=h["$nil_or_empty?"]()["$!"]())?f(_t,"TableCellVertAlignments")["$key?"](h):$)&&(m=["valign",f(_t,"TableCellVertAlignments")["$[]"](h)],d(o,"[]=",t.to_a(m)),m[e(m.length,1)])),p(p($=s["$[]"](4))?f(_t,"TableCellStyles")["$key?"](s["$[]"](4)):$)&&(m=["style",f(_t,"TableCellStyles")["$[]"](s["$[]"](4))],d(o,"[]=",t.to_a(m)),m[e(m.length,1)]),[o,l]},ot.$$arity=-2),t.defs(ft,"$parse_style_attribute",st=function(i,$){var a,o,s,l,c,_=u,h=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u;return null==$&&($=u),p(p(a=p(o=_=i["$[]"](1))?_["$include?"](" ")["$!"]():o)?f(_t,"Compliance").$shorthand_property_syntax():a)?(a=["style",[],y([],{})],h=a[0],m=a[1],g=a[2],v=d(this,"lambda",[],((s=function(){var r,n=s.$$s||this,i=u,a=u;return p(m["$empty?"]())?h["$=="]("style")?u:n.$warn("asciidoctor: WARNING:"+(p($)?" "+$.$prev_line_info()+":":u)+" invalid empty "+h+" detected in style attribute"):("role"["$==="](i=h)||"option"["$==="](i)?(p(r=g["$[]"](h))?r:(a=[h,[]],d(g,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](m.$join()):"id"["$==="](i)?(p(g["$key?"]("id"))&&n.$warn("asciidoctor: WARNING:"+(p($)?" "+$.$prev_line_info()+":":u)+" multiple ids detected in style attribute"),a=[h,m.$join()],d(g,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=[h,m.$join()],d(g,"[]=",t.to_a(a)),a[e(a.length,1)]),m=[])}).$$s=this,s.$$arity=0,s)),d(_,"each_char",[],((l=function(t){l.$$s;var e,r,n=u;return null==t&&(t=u),p(p(e=p(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(v.$call(),"."["$==="](n=t)?h="role":"#"["$==="](n)?h="id":"%"["$==="](n)?h="option":u):m["$<<"](t)}).$$s=this,l.$$arity=1,l)),h["$=="]("style")?(b=["style",_],d(i,"[]=",t.to_a(b)),b[e(b.length,1)]):(v.$call(),p(g["$key?"]("style"))&&(b=["style",g["$[]"]("style")],d(i,"[]=",t.to_a(b)),w=b[e(b.length,1)]),p(g["$key?"]("id"))&&(b=["id",g["$[]"]("id")],d(i,"[]=",t.to_a(b)),b[e(b.length,1)]),p(g["$key?"]("role"))&&(b=["role",r(g["$[]"]("role")," ")],d(i,"[]=",t.to_a(b)),b[e(b.length,1)]),p(g["$key?"]("option"))&&(d(E=g["$[]"]("option"),"each",[],((c=function(r){return c.$$s,null==r&&(r=u),b=[r+"-option",""],d(i,"[]=",t.to_a(b)),b[e(b.length,1)]}).$$s=this,c.$$arity=1,c)),p(k=i["$[]"]("options"))?(b=["options",r(n(E,k.$split(",")),",")],d(i,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=["options",r(E,",")],d(i,"[]=",t.to_a(b)),b[e(b.length,1)])),w)):(b=["style",_],d(i,"[]=",t.to_a(b)),b[e(b.length,1)])},st.$$arity=-2),t.defs(ft,"$adjust_indentation!",lt=function($,a,o){var s,l,c,_,h,y,m=this,v=u,b=u,w=u;return null==a&&(a=0),null==o&&(o=0),p($["$empty?"]())?u:(p(p(s=i(o=o.$to_i(),0))?$.$join()["$include?"](f(_t,"TAB")):s)&&(v=r(" ",o),d($,"map!",[],((l=function(t){var i,$,a=l.$$s||this,s=u;return null==t&&(t=u),p(t["$empty?"]())?t:(p(t["$start_with?"](f(_t,"TAB")))&&(t=d(t,"sub",[f(_t,"TabIndentRx")],((i=function(){var t;return i.$$s,r(v,((t=g["~"])===u?u:t["$[]"](0)).$length())}).$$s=a,i.$$arity=0,i))),p(t["$include?"](f(_t,"TAB")))?(s=0,d(t,"gsub",[f(_t,"TabRx")],(($=function(){$.$$s;var t=u,i=u;return null==g["~"]&&(g["~"]=u),(t=n(g["~"].$begin(0),s))["$%"](o)["$=="](0)?(s=n(s,e(o,1)),v):((i=e(o,t["$%"](o)))["$=="](1)||(s=n(s,e(i,1))),r(" ",i))}).$$s=a,$.$$arity=0,$))):t)}).$$s=m,l.$$arity=1,l))),p(p(s=a)?i(a=a.$to_i(),-1):s)?(b=u,function(){var r=t.new_brk();try{d($,"each",[],((c=function(n){var $,a;return c.$$s,null==n&&(n=u),p(n["$empty?"]())?u:(a=e(n.$length(),n.$lstrip().$length()))["$=="](0)?(b=u,void t.brk(u,r)):p(p($=b)?i(a,b):$)?u:b=a}).$$s=m,c.$$brk=r,c.$$arity=1,c))}catch(t){if(t===r)return t.$v;throw t}}(),a["$=="](0)?p(b)&&d($,"map!",[],((_=function(e){return _.$$s,null==e&&(e=u),p(e["$empty?"]())?e:e["$[]"](t.Range.$new(b,-1,!1))}).$$s=m,_.$$arity=1,_)):(w=r(" ",a),p(b)?d($,"map!",[],((h=function(e){return h.$$s,null==e&&(e=u),p(e["$empty?"]())?e:n(w,e["$[]"](t.Range.$new(b,-1,!1)))}).$$s=m,h.$$arity=1,h)):d($,"map!",[],((y=function(t){return y.$$s,null==t&&(t=u),p(t["$empty?"]())?t:n(w,t)}).$$s=m,y.$$arity=1,y))),u):u)},lt.$$arity=-2),t.defs(ft,"$sanitize_attribute_name",ut=function(t){return t.$gsub(f(_t,"InvalidAttributeNameCharsRx"),"").$downcase()},ut.$$arity=1),t.defs(ft,"$roman_numeral_to_int",ct=function(r){var a,o=u,s=u;return r=r.$downcase(),o=y(["i","v","x"],{i:1,v:5,x:10}),s=0,d(t.Range.$new(0,e(r.$length(),1),!1),"each",[],((a=function(l){var c,f;return a.$$s,null==l&&(l=u),f=o["$[]"](r["$[]"](t.Range.$new(l,l,!1))),s=p(p(c=$(n(l,1),r.$length()))?i(o["$[]"](r["$[]"](t.Range.$new(n(l,1),n(l,1),!1))),f):c)?e(s,f):n(s,f)}).$$s=this,a.$$arity=1,a)),s},ct.$$arity=1)}((s=[o].concat(a))[0],0,s)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var n,i,$,a=[],o=t.nil,s=t.const_get_qualified,l=t.const_get_relative,u=(t.breaker,t.slice,t.module),c=t.klass,f=t.truthy,_=t.hash2,h=t.range,d=t.send;return t.add_stubs(["$attr_accessor","$root?","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$web_root?","$unc?","$slice","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$gsub"]),n=a,(i=u(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var u,p,y,m,g,v,b,w,E,k,x,A,O,M=a=c(n,null,"PathResolver",a),S=M.$$proto,T=[M].concat($);S.file_separator=S._partition_path_web=S._partition_path_sys=S.working_dir=o,t.const_set(T[0],"DOT","."),t.const_set(T[0],"DOT_DOT",".."),t.const_set(T[0],"DOT_SLASH","./"),t.const_set(T[0],"SLASH","/"),t.const_set(T[0],"BACKSLASH","\\"),t.const_set(T[0],"DOUBLE_SLASH","//"),t.const_set(T[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),M.$attr_accessor("file_separator"),M.$attr_accessor("working_dir"),t.def(M,"$initialize",u=function(t,e){var r,n=this;return null==t&&(t=o),null==e&&(e=o),n.file_separator=f(t)?t:f(r=s(s("::","File"),"ALT_SEPARATOR"))?r:s(s("::","File"),"SEPARATOR"),f(e)?n.working_dir=f(n["$root?"](e))?e:s("::","File").$expand_path(e):n.working_dir=s("::","File").$expand_path(s("::","Dir").$pwd()),r=[_([],{}),_([],{})],n._partition_path_sys=r[0],n._partition_path_web=r[1],r},u.$$arity=-1),t.def(M,"$absolute_path?",p=function(t){var e;return f(e=t["$start_with?"](l(T,"SLASH")))?e:this.file_separator["$=="](l(T,"BACKSLASH"))?l(T,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](l(T,"BACKSLASH"))},p.$$arity=1),f(l(T,"RUBY_ENGINE")["$=="]("opal")?s("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):l(T,"RUBY_ENGINE")["$=="]("opal"))?t.def(M,"$root?",y=function(t){var e;return f(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},y.$$arity=1):t.alias(M,"root?","absolute_path?"),t.def(M,"$unc?",m=function(t){return t["$start_with?"](l(T,"DOUBLE_SLASH"))},m.$$arity=1),t.def(M,"$web_root?",g=function(t){return t["$start_with?"](l(T,"SLASH"))},g.$$arity=1),t.def(M,"$descends_from?",v=function(t,r){return r["$=="](t)?0:!!f(t["$start_with?"](e(r,"/")))&&e(r.$length(),1)},v.$$arity=2),t.def(M,"$posixify",b=function(t){return f(t["$nil_or_empty?"]())?"":f(t["$include?"](l(T,"BACKSLASH")))?t.$tr(l(T,"BACKSLASH"),l(T,"SLASH")):t},b.$$arity=1),t.alias(M,"posixfy","posixify"),t.def(M,"$expand_path",w=function(e){var r,n,i,$;return n=this.$partition_path(e),i=null==(r=t.to_ary(n))[0]?o:r[0],$=null==r[1]?o:r[1],null==r[2]||r[2],this.$join_path(i,$)},w.$$arity=1),t.def(M,"$partition_path",E=function(r,n){
var i,$,a,s,u,c=this,_=o,p=o,y=o;return null==n&&(n=o),f(i=($=f(n)?c._partition_path_web:c._partition_path_sys)["$[]"](r))?i:(_=c.$posixify(r),p=f(n)?f(c["$web_root?"](_))?l(T,"SLASH"):f(_["$start_with?"](l(T,"DOT_SLASH")))?l(T,"DOT_SLASH"):o:f(c["$root?"](_))?f(c["$unc?"](_))?l(T,"DOUBLE_SLASH"):f(_["$start_with?"](l(T,"SLASH")))?l(T,"SLASH"):_.$slice(0,e(_.$index(l(T,"SLASH")),1)):f(_["$start_with?"](l(T,"DOT_SLASH")))?l(T,"DOT_SLASH"):o,y=_.$split(l(T,"SLASH")),p["$=="](l(T,"DOUBLE_SLASH"))?y=y["$[]"](h(2,-1,!1)):f(p)&&y.$shift(),y.$delete(l(T,"DOT")),a=[r,[y,p,_]],d($,"[]=",t.to_a(a)),a[(s=a.length,u=1,"number"==typeof s&&"number"==typeof u?s-u:s["$-"](u))])},E.$$arity=-2),t.def(M,"$join_path",k=function(t,e){return null==e&&(e=o),f(e)?""+e+r(t,l(T,"SLASH")):r(t,l(T,"SLASH"))},k.$$arity=-2),t.def(M,"$system_path",x=function(e,r,n,i){var $,a,u,c=this,h=o,p=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o;if(null==r&&(r=o),null==n&&(n=o),null==i&&(i=_([],{})),f(n)&&(f(c["$root?"](n))||c.$raise(s("::","SecurityError"),"Jail is not an absolute path: "+n),n=c.$posixify(n)),f(e["$nil_or_empty?"]())?h=[]:(a=c.$partition_path(e),h=null==($=t.to_ary(a))[0]?o:$[0],p=null==$[1]?o:$[1],null==$[2]||$[2]),f(h["$empty?"]())){if(f(r["$nil_or_empty?"]()))return f(n)?n:c.working_dir;if(!f(c["$root?"](r)))return c.$system_path(r,n,n,i);if(!f(n))return c.$expand_path(r)}return f(f($=p)?p["$!="](l(T,"DOT_SLASH")):$)&&(y=c.$join_path(h,p),f(f($=n["$!"]())?$:y["$start_with?"](n)))?y:(r=f(r["$nil_or_empty?"]())?f(n)?n:c.working_dir:f(c["$root?"](r))?c.$posixify(r):c.$system_path(r,n,n,i),n["$=="](r)?(a=c.$partition_path(n),$=t.to_ary(a),m=null==$[0]?o:$[0],g=null==$[1]?o:$[1],null==$[2]||$[2],v=m.$dup()):f(n)?(f(r["$start_with?"](n))||c.$raise(s("::","SecurityError"),(f($=i["$[]"]("target_name"))?$:"Start path")+" "+r+" is outside of jail: "+n+" (disallowed in safe mode)"),a=c.$partition_path(r),v=null==($=t.to_ary(a))[0]?o:$[0],b=null==$[1]?o:$[1],null==$[2]||$[2],a=c.$partition_path(n),$=t.to_ary(a),m=null==$[0]?o:$[0],g=null==$[1]?o:$[1],null==$[2]||$[2]):(a=c.$partition_path(r),v=null==($=t.to_ary(a))[0]?o:$[0],b=null==$[1]?o:$[1],null==$[2]||$[2],g=b),w=v.$dup(),E=!1,d(h,"each",[],((u=function(t){var r,$,a,c=u.$$s||this,_=o;return null==t&&(t=o),t["$=="](l(T,"DOT_DOT"))?f(n)?f(($=w.$size(),a=m.$size(),"number"==typeof $&&"number"==typeof a?$>a:$["$>"](a)))?w.$pop():f((_=f(r=_)?r:i.$fetch("recover",!0))["$!"]())?c.$raise(s("::","SecurityError"),(f(r=i["$[]"]("target_name"))?r:"path")+" "+e+" refers to location outside jail: "+n+" (disallowed in safe mode)"):f(E["$!"]())?(c.$warn("asciidoctor: WARNING: "+(f(r=i["$[]"]("target_name"))?r:"path")+" has illegal reference to ancestor of jail, auto-recovering"),E=!0):o:w.$pop():w["$<<"](t)}).$$s=c,u.$$arity=1,u)),c.$join_path(w,g))},x.$$arity=-2),t.def(M,"$web_path",A=function(e,r){var n,i,$,a,s=o,u=o,c=o,_=o;return null==r&&(r=o),e=this.$posixify(e),r=this.$posixify(r),s=o,f(f(n=r["$nil_or_empty?"]())?n:this["$web_root?"](e))||(e=f(r["$end_with?"](l(T,"SLASH")))?""+r+e:""+r+l(T,"SLASH")+e,f(s=l(T,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(s.$length(),-1,!1)))),i=this.$partition_path(e,!0),a=null==(n=t.to_ary(i))[0]?o:n[0],u=null==n[1]?o:n[1],null==n[2]||n[2],c=[],d(a,"each",[],(($=function(t){var e;return $.$$s,null==t&&(t=o),t["$=="](l(T,"DOT_DOT"))?f(c["$empty?"]())?f(f(e=u)?u["$!="](l(T,"DOT_SLASH")):e)?o:c["$<<"](t):c["$[]"](-1)["$=="](l(T,"DOT_DOT"))?c["$<<"](t):c.$pop():c["$<<"](t)}).$$s=this,$.$$arity=1,$)),f((_=this.$join_path(c,u))["$include?"](" "))&&(_=_.$gsub(" ","%20")),f(s)?""+s+_:_},A.$$arity=-2),t.def(M,"$relative_path",O=function(t,r){var n;return f(f(n=this["$root?"](t))?t["$start_with?"](r):n)?t.$slice(e(r.$length(),1),t.$length()):t},O.$$arity=2)}(($=[i].concat(n))[0],0,$)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var a,o,s,l=[],u=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.module),h=t.klass,d=t.truthy,p=t.hash2,y=t.range,m=t.send,g=t.gvars,v=t.hash;return t.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$empty?","$nil_or_empty?","$peek_line","$>","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$*","$read_lines","$unshift","$start_with?","$length","$push","$read_lines_until","$size","$clear","$[]=","$new","$line_info","$to_i","$fetch","$attributes","$<","$catalog","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$all?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$resolve_include_path","$each","$map","$/","$concat","$to_a","$uniq","$sort","$slice","$open","$each_line","$infinite?","$push_include","$delete","$value?","$rindex","$force_encoding","$chomp","$delete_at","$nil?","$keys","$read","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$base_dir","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),a=l,(o=_(l[0],"Asciidoctor")).$$proto,function($,a,o){function s(){}var l,_,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W=s=h($,null,"Reader",s),X=W.$$proto,K=[W].concat(o);X.file=X.dir=X.lines=X.process_lines=X.look_ahead=X.unescape_next_line=X.lineno=X.path=X.source_lines=u,function(e,r,n){function i(){}var $,a,o=i=h(e,null,"Cursor",i);o.$$proto,[o].concat(n),o.$attr_accessor("file"),o.$attr_accessor("dir"),o.$attr_accessor("path"),o.$attr_accessor("lineno"),t.def(o,"$initialize",$=function(t,e,r,n){return null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),this.file=t,this.dir=e,this.path=r,this.lineno=n},$.$$arity=-2),t.def(o,"$line_info",a=function(){return this.$path()+": line "+this.$lineno()},a.$$arity=0),t.alias(o,"to_s","line_info")}(K[0],0,K),W.$attr_reader("file"),W.$attr_reader("dir"),W.$attr_reader("path"),W.$attr_reader("lineno"),W.$attr_reader("source_lines"),W.$attr_accessor("process_lines"),t.def(W,"$initialize",l=function(e,r,n){var i,$,a=this;return null==e&&(e=u),null==r&&(r=u),null==n&&(n=p([],{})),d(r["$!"]())?(a.file=a.dir=u,a.path="<stdin>",a.lineno=1):d(c("::","String")["$==="](r))?(a.file=r,$=c("::","File").$split(a.file),i=t.to_ary($),a.dir=null==i[0]?u:i[0],a.path=null==i[1]?u:i[1],a.lineno=1):(a.file=r.$file(),a.dir=r.$dir(),a.path=d(i=r.$path())?i:"<stdin>",d(a.file)&&(d(a.dir)||(a.dir=c("::","File").$dirname(a.file),a.dir["$=="](".")&&(a.dir=u)),d(r.$path())||(a.path=c("::","File").$basename(a.file))),a.lineno=d(i=r.$lineno())?i:1),a.lines=d(e)?a.$prepare_lines(e,n):[],a.source_lines=a.lines.$dup(),a.look_ahead=0,a.process_lines=!0,a.unescape_next_line=!1},l.$$arity=-1),t.def(W,"$prepare_lines",_=function(t,e){return null==e&&(e=p([],{})),d(c("::","String")["$==="](t))?d(e["$[]"]("normalize"))?f(K,"Helpers").$normalize_lines_from_string(t):t.$split(f(K,"LF"),-1):d(e["$[]"]("normalize"))?f(K,"Helpers").$normalize_lines_array(t):t.$dup()},_.$$arity=-2),t.def(W,"$process_line",g=function(t){return d(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},g.$$arity=1),t.def(W,"$has_more_lines?",v=function(){return!d(this.lines["$empty?"]())||(this.look_ahead=0,!1)},v.$$arity=0),t.def(W,"$empty?",b=function(){return!!d(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},b.$$arity=0),t.alias(W,"eof?","empty?"),t.def(W,"$next_line_empty?",w=function(){return this.$peek_line()["$nil_or_empty?"]()},w.$$arity=0),t.def(W,"$peek_line",E=function(t){var e,n=u;return null==t&&(t=!1),d(d(e=t)?e:r(this.look_ahead,0))?d(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](y(1,-1,!1)):this.lines["$[]"](0):d(this.lines["$empty?"]())?(this.look_ahead=0,u):d(n=this.$process_line(this.lines["$[]"](0)))?n:this.$peek_line()},E.$$arity=-1),t.def(W,"$peek_lines",k=function(e,r){var i,$,a=this,o=u;return null==r&&(r=!1),$=a.look_ahead,o=[],function(){var $=t.new_brk();try{m(e,"times",[],((i=function(){var e,a=i.$$s||this;return null==a.lineno&&(a.lineno=u),d(e=d(r)?a.$shift():a.$read_line())?o["$<<"](e):(d(r)&&(a.lineno=n(a.lineno,1)),void t.brk(u,$))}).$$s=a,i.$$brk=$,i.$$arity=0,i))}catch(t){if(t===$)return t.$v;throw t}}(),d(o["$empty?"]())||(a.$unshift_all(o),d(r)&&(a.look_ahead=$)),o},k.$$arity=-2),t.def(W,"$read_line",x=function(){var t;return d(d(t=r(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():u},x.$$arity=0),t.def(W,"$read_lines",A=function(){var t=u;for(t=[];d(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},A.$$arity=0),t.alias(W,"readlines","read_lines"),t.def(W,"$read",O=function(){return i(this.$read_lines(),f(K,"LF"))},O.$$arity=0),t.def(W,"$advance",M=function(){return!!d(this.$shift())},M.$$arity=0),t.def(W,"$unshift_line",S=function(t){return this.$unshift(t),u},S.$$arity=1),t.alias(W,"restore_line","unshift_line"),t.def(W,"$unshift_lines",T=function(t){return this.$unshift_all(t),u},T.$$arity=1),t.alias(W,"restore_lines","unshift_lines"),t.def(W,"$replace_next_line",R=function(t){return this.$shift(),this.$unshift(t),!0},R.$$arity=1),t.alias(W,"replace_line","replace_next_line"),t.def(W,"$skip_blank_lines",I=function(){var t=u,r=u;if(d(this["$empty?"]()))return u;for(t=0;d(r=this.$peek_line());){if(!d(r["$empty?"]()))return t;this.$shift(),t=e(t,1)}},I.$$arity=0),t.def(W,"$skip_comment_lines",C=function(){var e,n=u,$=u,a=u;if(d(this["$empty?"]()))return[];for(n=[];d(d(e=$=this.$peek_line())?$["$empty?"]()["$!"]():e)&&d($["$start_with?"]("//"));)if(d($["$start_with?"]("///"))){if(!d(d(e=r(a=$.$length(),3))?$["$=="](i("/",a)):e))break;n["$<<"](this.$shift()),m(n,"push",t.to_a(this.$read_lines_until(p(["terminator","read_last_line","skip_processing"],{terminator:$,read_last_line:!0,skip_processing:!0}))))}else n["$<<"](this.$shift());return n},C.$$arity=0),t.def(W,"$skip_line_comments",N=function(){var t,e=u,r=u;if(d(this["$empty?"]()))return[];for(e=[];d(d(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&d(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},N.$$arity=0),t.def(W,"$terminate",z=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,u},z.$$arity=0),t.def(W,"$read_lines_until",P=function(e){var r,i,$,a,o,s=P.$$p,l=s||u,c=u,_=u,h=u,y=u,g=u,v=u,b=u,w=u,E=u,k=u;for(null==e&&(e=p([],{})),s&&(P.$$p=null),c=[],d(e["$[]"]("skip_first_line"))&&this.$shift(),d(d(r=this.process_lines)?e["$[]"]("skip_processing"):r)?(this.process_lines=!1,_=!0):_=!1,d(h=e["$[]"]("terminator"))?(y=!1,g=!1):(y=e["$[]"]("break_on_blank_lines"),g=e["$[]"]("break_on_list_continuation")),o=e["$[]"]("skip_line_comments"),v=!1,b=!1,w=!1;d(d(i=w["$!"]())?E=this.$read_line():i);)w=function(){for(;d(!0);)return!(!d(d($=h)?E["$=="](h):$)&&!d(d($=y)?E["$empty?"]():$)&&(d(d($=d(a=g)?v:a)?E["$=="](f(K,"LIST_CONTINUATION")):$)?(k=["preserve_last_line",!0],m(e,"[]=",t.to_a(k)),k[n(k.length,1)],0):!d(($=l!==u)?t.yield1(l,E):l!==u)));return u}(),d(w)?(d(e["$[]"]("read_last_line"))&&(c["$<<"](E),v=!0),d(e["$[]"]("preserve_last_line"))&&(this.$unshift(E),b=!0)):d(d(i=d($=o)?E["$start_with?"]("//"):$)?E["$start_with?"]("///")["$!"]():i)||(c["$<<"](E),v=!0);return d(_)&&(this.process_lines=!0,d(d(r=b)?h["$!"]():r)&&(this.look_ahead=n(this.look_ahead,1))),c},P.$$arity=-1),t.def(W,"$shift",B=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=n(this.look_ahead,1)),this.lines.$shift()},B.$$arity=0),t.def(W,"$unshift",q=function(t){return this.lineno=n(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},q.$$arity=1),t.def(W,"$unshift_all",D=function(r){return this.lineno=n(this.lineno,r.$size()),this.look_ahead=e(this.look_ahead,r.$size()),m(this.lines,"unshift",t.to_a(r))},D.$$arity=1),t.def(W,"$cursor",L=function(){return f(K,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},L.$$arity=0),t.def(W,"$line_info",F=function(){return this.path+": line "+this.lineno},F.$$arity=0),t.alias(W,"next_line_info","line_info"),t.def(W,"$prev_line_info",j=function(){return this.path+": line "+n(this.lineno,1)},j.$$arity=0),t.def(W,"$lines",U=function(){return this.lines.$dup()},U.$$arity=0),t.def(W,"$string",H=function(){return i(this.lines,f(K,"LF"))},H.$$arity=0),t.def(W,"$source",G=function(){return i(this.source_lines,f(K,"LF"))},G.$$arity=0),t.def(W,"$to_s",Y=function(){return this.$line_info()},Y.$$arity=0)}((s=[o].concat(a))[0],0,s),void function(a,o,s){function l(){}var _,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q=l=h(a,o,"PreprocessorReader",l),D=q.$$proto,L=[q].concat(s);D.document=D.lineno=D.process_lines=D.look_ahead=D.skipping=D.include_stack=D.conditional_stack=D.path=D.include_processor_extensions=D.maxdepth=D.dir=D.path_resolver=D.lines=D.file=D.includes=D.unescape_next_line=u,q.$attr_reader("include_stack"),q.$attr_reader("includes"),t.def(q,"$initialize",_=function(e,r,n,i){var $,a,o=_.$$p,s=u;return null==r&&(r=u),null==n&&(n=u),null==i&&(i=p([],{})),o&&(_.$$p=null),this.document=e,m(this,t.find_super_dispatcher(this,"initialize",_,!1),[r,n,i],null),s=e.$attributes().$fetch("max-include-depth",64).$to_i(),d((a=0,"number"==typeof($=s)&&"number"==typeof a?$<a:$["$<"](a)))&&(s=0),this.maxdepth=p(["abs","rel"],{abs:s,rel:s}),this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=u},_.$$arity=-2),t.def(q,"$prepare_lines",b=function(r,$){var a,o,s,l=b.$$p,c=u,_=u,h=u,y=u,g=u,v=u,w=u;for(null==$&&($=p([],{})),l&&(b.$$p=null),w=0,s=arguments.length,v=new Array(s);w<s;w++)v[w]=arguments[w];if(c=m(this,t.find_super_dispatcher(this,"prepare_lines",b,!1),v,l),d(d(a=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):a)&&d(_=this["$skip_front_matter!"](c))&&(h=["front-matter",i(_,f(L,"LF"))],m(this.document.$attributes(),"[]=",t.to_a(h)),h[n(h.length,1)]),d($.$fetch("condense",!0))){for(;d(d(o=y=c["$[]"](0))?y["$empty?"]():o);)d(o=c.$shift())&&(this.lineno=e(this.lineno,1));for(;d(d(o=g=c["$[]"](-1))?g["$empty?"]():o);)c.$pop()}return d($["$[]"]("indent"))&&f(L,"Parser")["$adjust_indentation!"](c,$["$[]"]("indent"),this.document.$attr("tabsize")),c},b.$$arity=-2),t.def(q,"$process_line",w=function(t){var r,n,i=this;return d(i.process_lines)?d(t["$empty?"]())?(i.look_ahead=e(i.look_ahead,1),t):d(d(r=d(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?d(d(r=t["$include?"]("if"))?f(L,"ConditionalDirectiveRx")["$=~"](t):r)?((r=g["~"])===u?u:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=e(i.look_ahead,1),t["$[]"](y(1,-1,!1))):d(i.$preprocess_conditional_directive((r=g["~"])===u?u:r["$[]"](2),(r=g["~"])===u?u:r["$[]"](3),(r=g["~"])===u?u:r["$[]"](4),(r=g["~"])===u?u:r["$[]"](5)))?(i.$shift(),u):(i.look_ahead=e(i.look_ahead,1),t):d(i.skipping)?(i.$shift(),u):d(d(r=t["$start_with?"]("inc","\\inc"))?f(L,"IncludeDirectiveRx")["$=~"](t):r)?((r=g["~"])===u?u:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=e(i.look_ahead,1),t["$[]"](y(1,-1,!1))):d(i.$preprocess_include_directive((r=g["~"])===u?u:r["$[]"](2),((r=g["~"])===u?u:r["$[]"](3)).$strip()))?u:(i.look_ahead=e(i.look_ahead,1),t):(i.look_ahead=e(i.look_ahead,1),t):d(i.skipping)?(i.$shift(),u):(i.look_ahead=e(i.look_ahead,1),t):t},w.$$arity=1),t.def(q,"$has_more_lines?",E=function(){return!!d(this.$peek_line())},E.$$arity=0),t.def(q,"$empty?",k=function(){return!d(this.$peek_line())},k.$$arity=0),t.alias(q,"eof?","empty?"),t.def(q,"$peek_line",x=function(e){var r,n,i=x.$$p,$=u,a=u;for(null==e&&(e=!1),i&&(x.$$p=null),a=0,n=arguments.length,$=new Array(n);a<n;a++)$[a]=arguments[a];return d(r=m(this,t.find_super_dispatcher(this,"peek_line",x,!1),$,i))?r:d(this.include_stack["$empty?"]())?u:(this.$pop_include(),this.$peek_line(e))},x.$$arity=-1),t.def(q,"$preprocess_conditional_directive",A=function(t,e,r,i){var $,a,o,s,l,c,_,h,y=this,v=u,b=u,w=u,E=u,k=u,x=u;if(d(h=e["$empty?"]())||(e=e.$downcase()),d(d($=d(a=h)?d(o=t["$=="]("ifdef"))?o:t["$=="]("ifndef"):a)?$:d(a=i)?t["$=="]("endif"):a))return!1;if(t["$=="]("endif"))return d(y.conditional_stack["$empty?"]())?y.$warn("asciidoctor: ERROR: "+y.$line_info()+": unmatched macro: endif::"+e+"[]"):d(d($=h)?$:e["$=="]((v=y.conditional_stack["$[]"](-1))["$[]"]("target")))?(y.conditional_stack.$pop(),y.skipping=!d(y.conditional_stack["$empty?"]())&&y.conditional_stack["$[]"](-1)["$[]"]("skipping")):y.$warn("asciidoctor: ERROR: "+y.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+v["$[]"]("target")+"[]"),!0;if(d(y.skipping))b=!1;else if("ifdef"["$==="](w=t))b=","["$==="](w=r)?m(e.$split(",",-1),"none?",[],((s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=u),null==t&&(t=u),e.document.$attributes()["$key?"](t)}).$$s=y,s.$$arity=1,s)):"+"["$==="](w)?m(e.$split("+",-1),"any?",[],((l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=u),null==t&&(t=u),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=y,l.$$arity=1,l)):y.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](w))b=","["$==="](w=r)?m(e.$split(",",-1),"any?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=u),null==t&&(t=u),e.document.$attributes()["$key?"](t)}).$$s=y,c.$$arity=1,c)):"+"["$==="](w)?m(e.$split("+",-1),"all?",[],((_=function(t){var e=_.$$s||this;return null==e.document&&(e.document=u),null==t&&(t=u),e.document.$attributes()["$key?"](t)}).$$s=y,_.$$arity=1,_)):y.document.$attributes()["$key?"](e);else if("ifeval"["$==="](w)){if(!d(d($=h)?f(L,"EvalExpressionRx")["$=~"](i.$strip()):$))return!1;E=($=[(a=g["~"])===u?u:a["$[]"](1),(a=g["~"])===u?u:a["$[]"](2),(a=g["~"])===u?u:a["$[]"](3)])[0],k=$[1],x=$[2],E=y.$resolve_expr_val(E),x=y.$resolve_expr_val(x),b=k["$=="]("!=")?E.$send("==",x):E.$send(k.$to_sym(),x)["$!"]()}return d(d($=t["$=="]("ifeval"))?$:i["$!"]())?(d(b)&&(y.skipping=!0),y.conditional_stack["$<<"](p(["target","skip","skipping"],{target:e,skip:b,skipping:y.skipping}))):d(d($=y.skipping)?$:b)||(y.$replace_next_line(i.$rstrip()),y.$unshift(""),d(i["$start_with?"]("include::"))&&(y.look_ahead=n(y.look_ahead,1))),!0},A.$$arity=4),t.def(q,"$preprocess_include_directive",O=function a(o,s){var l,_,h,y,b,w,E,k,x=this,A=u,O=u,a=u,M=u,S=u,T=u,R=u,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u,F=u,j=u,U=u,H=u,G=u,Y=u,W=u,X=u,K=u,V=u;if(d(d(l=(A=o)["$include?"](f(L,"ATTR_REF_HEAD")))?(A=x.document.$sub_attributes(o,p(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():l))return x.$shift(),x.document.$attributes().$fetch("attribute-missing",f(L,"Compliance").$attribute_missing())["$=="]("skip")&&x.$unshift("Unresolved directive in "+x.path+" - include::"+o+"["+s+"]"),!0;if(d(d(l=x["$include_processors?"]())?O=m(x.include_processor_extensions,"find",[],((_=function(t){return _.$$s,null==t&&(t=u),t.$instance()["$handles?"](A)}).$$s=x,_.$$arity=1,_)):l))return x.$shift(),O.$process_method()["$[]"](x.document,x,A,f(L,"AttributeList").$new(s).$parse()),!0;if(d($(x.document.$safe(),c(f(L,"SafeMode"),"SECURE"))))return x.$replace_next_line("link:"+A+"[]");if(d(r(a=x.maxdepth["$[]"]("abs"),0))){if(d($(x.include_stack.$size(),a)))return x.$warn("asciidoctor: ERROR: "+x.$line_info()+": maximum include depth of "+x.maxdepth["$[]"]("rel")+" exceeded"),u;if(M=d(s["$empty?"]())?p([],{}):f(L,"AttributeList").$new(s).$parse(),h=x.$resolve_include_path(A,s,M),l=t.to_ary(h),S=null==l[0]?u:l[0],T=null==l[1]?u:l[1],R=null==l[2]?u:l[2],!d(T))return S;if(I=C=u,d(M["$empty?"]())||(d(M["$key?"]("lines"))?(I=[],m(M["$[]"]("lines").$split(f(L,"DataDelimiterRx")),"each",[],((y=function(e){var r,n,i,$,a,o=y.$$s||this,s=u,l=u;return null==e&&(e=u),d(e["$include?"](".."))?(n=m(e.$split("..",2),"map",[],((i=function(t){return i.$$s,null==t&&(t=u),t.$to_i()}).$$s=o,i.$$arity=1,i)),s=null==(r=t.to_ary(n))[0]?u:r[0],(l=null==r[1]?u:r[1])["$=="](-1)?(I["$<<"](s),I["$<<"]((a=0,"number"==typeof($=1)&&"number"==typeof a?$/a:$["$/"](a)))):I.$concat(c("::","Range").$new(s,l).$to_a())):I["$<<"](e.$to_i())}).$$s=x,y.$$arity=1,y)),I=d(I["$empty?"]())?u:I.$sort().$uniq()):d(M["$key?"]("tag"))?d((N=M["$[]"]("tag"))["$empty?"]())||(d(N["$start_with?"]("!"))?N["$=="]("!")||(C=v(N.$slice(1,N.$length()),!1)):C=v(N,!0)):d(M["$key?"]("tags"))&&(C=p([],{}),m(M["$[]"]("tags").$split(f(L,"DataDelimiterRx")),"each",[],((b=function(e){b.$$s;var r=u;return null==e&&(e=u),d(e["$empty?"]())?u:d(e["$start_with?"]("!"))?e["$=="]("!")?u:(r=[e.$slice(1,e.$length()),!1],m(C,"[]=",t.to_a(r)),r[n(r.length,1)]):(r=[e,!0],m(C,"[]=",t.to_a(r)),r[n(r.length,1)])}).$$s=x,b.$$arity=1,b)),d(C["$empty?"]())&&(C=u))),d(I)){z=(l=[[],u,0])[0],P=l[1],B=l[2];try{!function(){var r=t.new_brk();try{m(x,"open",[S,"r"],((w=function(r){var n,i=w.$$s||this;return null==r&&(r=u),function(){var $=t.new_brk();try{return m(r,"each_line",[],((n=function(r){n.$$s;var i,a=u;return null==r&&(r=u),B=e(B,1),a=I["$[]"](0),d(d(i=c("::","Float")["$==="](a))?a["$infinite?"]():i)?(P=d(i=P)?i:B,z["$<<"](r)):(B["$=="](a)&&(P=d(i=P)?i:B,z["$<<"](r),I.$shift()),d(I["$empty?"]())?void t.brk(u,$):u)}).$$s=i,n.$$brk=$,n.$$arity=1,n))}catch(t){if(t===$)return t.$v;throw t}}()}).$$s=x,w.$$brk=r,w.$$arity=1,w))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[f(L,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+T+" not readable: "+S),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}x.$shift(),d(P)&&x.$push_include(z,S,R,P,M)}else if(d(C)){l=[[],u,0,[],c("::","Set").$new(),u],z=l[0],P=l[1],B=l[2],q=l[3],D=l[4],F=l[5],d(C["$key?"]("**"))?d(C["$key?"]("*"))?(j=U=C.$delete("**"),H=C.$delete("*")):j=U=H=C.$delete("**"):(j=U=C["$value?"](!0)["$!"](),H=C.$delete("*")),d(d(l=G=S.$rindex("."))?Y=f(L,"CIRCUMFIX_COMMENTS")["$[]"](S.$slice(G,S.$length())):l)&&(W=n((X="[] "+Y["$[]"]("suffix")).$length(),2));try{m(x,"open",[S,"r"],((E=function(r){var i,$=E.$$s||this;return null==r&&(r=u),m(r,"each_line",[],((i=function(r){var $,a,o,s,l,_=i.$$s||this,h=u,p=u,y=u;return null==r&&(r=u),B=e(B,1),d(f(L,"FORCE_ENCODING"))&&r.$force_encoding(c(c("::","Encoding"),"UTF_8")),d(d($=d(a=(h=r.$chomp())["$end_with?"]("[]"))?a:d(o=d(s=X)?h["$end_with?"](X):s)?h=h.$slice(0,n(h.$length(),W)):o)?f(L,"TagDirectiveRx")["$=~"](h):$)?d(($=g["~"])===u?u:$["$[]"](1))?(p=($=g["~"])===u?u:$["$[]"](2))["$=="](F)?(q.$pop(),a=d(q["$empty?"]())?[u,U]:q["$[]"](-1),$=t.to_ary(a),F=null==$[0]?u:$[0],j=null==$[1]?u:$[1],a):d(C["$key?"](p))?d(y=m(q,"rindex",[],((l=function(t,e){return l.$$s,null==t&&(t=u),null==e&&(e=u),t["$=="](p)}).$$s=_,l.$$arity=2,l)))?(y["$=="](0)?q.$shift():q.$delete_at(y),_.$warn("asciidoctor: WARNING: "+A+": line "+B+": mismatched end tag in include: expected "+F+", found "+p)):_.$warn("asciidoctor: WARNING: "+A+": line "+B+": unexpected end tag in include: "+p):u:d(C["$key?"](p=($=g["~"])===u?u:$["$[]"](2)))?(D["$<<"](p),q["$<<"]([F=p,j=C["$[]"](p)])):d(H["$nil?"]()["$!"]())?(j=!d(d($=F)?j["$!"]():$)&&H,q["$<<"]([F=p,j])):u:d(j)?(P=d($=P)?$:B,z["$<<"](r)):u}).$$s=$,i.$$arity=1,i))}).$$s=x,E.$$arity=1,E))}catch(e){if(!t.rescue(e,[f(L,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+T+" not readable: "+S),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}d((K=n(C.$keys().$to_a(),D.$to_a()))["$empty?"]())||x.$warn("asciidoctor: WARNING: "+x.$line_info()+": tag"+(d(r(K.$size(),1))?"s":u)+" '"+i(K,",")+"' not found in include "+T+": "+S),x.$shift(),d(P)&&x.$push_include(z,S,R,P,M)}else try{V=T["$=="]("file")?c("::","IO").$read(S):m(x,"open",[S,"r"],((k=function(t){return k.$$s,null==t&&(t=u),t.$read()}).$$s=x,k.$$arity=1,k)),x.$shift(),x.$push_include(V,S,R,1,M)}catch(e){if(!t.rescue(e,[f(L,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+T+" not readable: "+S),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}return!0}return!1},O.$$arity=2),t.def(q,"$resolve_include_path",M=function(t,e,r){var n,i,$=this,a=u;return d(f(L,"Helpers")["$uriish?"](t))?d($.document.$attributes()["$key?"]("allow-uri-read"))?(d($.document.$attributes()["$key?"]("cache-uri"))?d((n=c("::","OpenURI","skip_raise"))&&c(n,"Cache","skip_raise")?"constant":u)||f(L,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(c("::","RUBY_ENGINE_OPAL")["$!"]())&&c("::","OpenURI"),[t,"uri",t]):$.$replace_next_line("link:"+t+"["+e+"]"):(a=$.document.$normalize_system_path(t,$.dir,u,p(["target_name"],{target_name:"include file"})),d(c("::","File")["$file?"](a))?[a,"file",($.path_resolver=d(i=$.path_resolver)?i:f(L,"PathResolver").$new()).$relative_path(a,$.document.$base_dir())]:($.$warn("asciidoctor: WARNING: "+$.$line_info()+": include file not found: "+a),$.$replace_next_line("Unresolved directive in "+$.path+" - include::"+t+"["+e+"]")))},M.$$arity=3),t.def(q,"$push_include",S=function(t,r,i,$,a){var o,s,l=this,_=u,h=u;return null==r&&(r=u),null==i&&(i=u),null==$&&($=1),null==a&&(a=p([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),d(r)?(l.file=r,l.dir=f(L,"File").$dirname(r),l.process_lines=f(L,"ASCIIDOC_EXTENSIONS")["$[]"](c("::","File").$extname(r))):(l.file=u,l.dir=".",l.process_lines=!0),d(i)?l.includes["$<<"](f(L,"Helpers").$rootname(l.path=i)):l.path="<stdin>",l.lineno=$,d(a["$key?"]("depth"))&&(_=a["$[]"]("depth").$to_i(),d((s=0,"number"==typeof(o=_)&&"number"==typeof s?o<=s:o["$<="](s)))&&(_=1),l.maxdepth=p(["abs","rel"],{abs:e(n(l.include_stack.$size(),1),_),rel:_})),d((l.lines=l.$prepare_lines(t,p(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:a["$[]"]("indent")})))["$empty?"]())?l.$pop_include():(d(a["$key?"]("leveloffset"))&&(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+a["$[]"]("leveloffset")),l.lines["$<<"](""),d(h=l.document.$attr("leveloffset"))?l.lines["$<<"](":leveloffset: "+h):l.lines["$<<"](":leveloffset!:"),l.lineno=n(l.lineno,2)),l.look_ahead=0),l},S.$$arity=-2),t.def(q,"$pop_include",T=function(){var e,n,i=this;return d(r(i.include_stack.$size(),0))?(n=i.include_stack.$pop(),e=t.to_ary(n),i.lines=null==e[0]?u:e[0],i.file=null==e[1]?u:e[1],i.dir=null==e[2]?u:e[2],i.path=null==e[3]?u:e[3],i.lineno=null==e[4]?u:e[4],i.maxdepth=null==e[5]?u:e[5],i.process_lines=null==e[6]?u:e[6],i.look_ahead=0,u):u},T.$$arity=0),t.def(q,"$include_depth",R=function(){return this.include_stack.$size()},R.$$arity=0),t.def(q,"$exceeded_max_depth?",I=function(){var t,e;return!!d(d(t=r(e=this.maxdepth["$[]"]("abs"),0))?$(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},I.$$arity=0),t.def(q,"$shift",C=function(){var e,r=C.$$p,n=u,i=u;for(r&&(C.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return d(this.unescape_next_line)?(this.unescape_next_line=!1,m(this,t.find_super_dispatcher(this,"shift",C,!1),n,r)["$[]"](y(1,-1,!1))):m(this,t.find_super_dispatcher(this,"shift",C,!1),n,r)},C.$$arity=0),t.def(q,"$skip_front_matter!",N=function(r,n){var i,$=u,a=u;if(null==n&&(n=!0),$=u,r["$[]"](0)["$=="]("---")){for(a=r.$dup(),$=[],r.$shift(),d(n)&&(this.lineno=e(this.lineno,1));d(d(i=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):i);)$["$<<"](r.$shift()),d(n)&&(this.lineno=e(this.lineno,1));d(r["$empty?"]())?(m(r,"unshift",t.to_a(a)),d(n)&&(this.lineno=0),$=u):(r.$shift(),d(n)&&(this.lineno=e(this.lineno,1)))}return $},N.$$arity=-2),t.def(q,"$resolve_expr_val",z=function(t){var e,r,n=u;return d(d(e=d(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:d(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(n=!0,t=t["$[]"](y(1,-1,!0))):n=!1,d(t["$include?"](f(L,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,p(["attribute_missing"],{attribute_missing:"drop"}))),d(n)?t:d(t["$empty?"]())?u:!!t["$=="]("true")||!t["$=="]("false")&&(d(t.$rstrip()["$empty?"]())?" ":d(t["$include?"]("."))?t.$to_f():t.$to_i())},z.$$arity=1),t.def(q,"$include_processors?",P=function(){var t;return d(this.include_processor_extensions["$nil?"]())?d(d(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},P.$$arity=0),t.def(q,"$to_s",B=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+i(m(this.include_stack,"map",[],((t=function(e){return t.$$s,null==e&&(e=u),e.$to_s()}).$$s=this,t.$$arity=1,t)),", ")+"]}>"},B.$$arity=0)}(s[0],f(s,"Reader"),s)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}t.top;var n,i,$,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.module),u=t.klass,c=t.send,f=t.truthy,_=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$enumerate_section","$class","$object_id","$inspect","$size","$gsub","$downcase","$tr_s","$end_with?","$chop","$start_with?","$slice","$length","$key?","$catalog","$unique_id_start_index"]),n=a,(i=l(a[0],"Asciidoctor")).$$proto,void function(n,i,$){function a(){}var l,h,d,p,y,m,g,v=a=u(n,i,"Section",a),b=v.$$proto,w=[v].concat($);b.level=b.document=b.parent=b.number=b.numbered=b.sectname=b.title=b.blocks=o,v.$attr_accessor("index"),v.$attr_accessor("sectname"),v.$attr_accessor("special"),v.$attr_accessor("numbered"),v.$attr_reader("caption"),t.def(v,"$initialize",l=function(n,i,$,a){var s,u,h=l.$$p;return null==n&&(n=o),null==i&&(i=o),null==$&&($=!0),null==a&&(a=_([],{})),h&&(l.$$p=null),c(this,t.find_super_dispatcher(this,"initialize",l,!1),[n,"section",a],null),this.level=f(i)?i:f(n)?e(n.$level(),1):1,this.numbered=f(s=$)?r(this.level,0):s,this.special=f(s=f(u=n)?n.$context()["$=="]("section"):u)?n.$special():s,this.index=0,this.number=1},l.$$arity=-1),t.alias(v,"name","title"),t.def(v,"$generate_id",h=function(){return s(w,"Section").$generate_id(this.$title(),this.document)},h.$$arity=0),t.def(v,"$sectnum",d=function(t,e){var n,i,$;return null==t&&(t="."),null==e&&(e=o),e=f(n=e)?n:e["$=="](!1)?"":t,f(f(n=f(i=f($=this.level)?r(this.level,1):$)?this.parent:i)?this.parent.$context()["$=="]("section"):n)?""+this.parent.$sectnum(t)+this.number+e:""+this.number+e},d.$$arity=-1),t.def(v,"$xreftext",p=function(t){var e,r=this,n=o,i=o,$=o,a=o,s=o;return null==t&&(t=o),f(f(e=n=r.$reftext())?n["$empty?"]()["$!"]():e)?n:f(t)?f(r.numbered)?"full"["$==="](i=t)?(a=f(f(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$sprintf(r.$sub_quotes(f(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),f(s=r.document.$attributes()["$[]"]($+"-refsig"))?s+" "+r.$sectnum(".",",")+" "+a:r.$sectnum(".",",")+" "+a):"short"["$==="](i)?f(s=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?s+" "+r.$sectnum(".",""):r.$sectnum(".",""):f(f(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():f(f(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title();
},p.$$arity=-1),t.def(v,"$<<",y=function(e){var r,n=y.$$p,i=o,$=o;for(n&&(y.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return e.$context()["$=="]("section")&&this.$enumerate_section(e),c(this,t.find_super_dispatcher(this,"<<",y,!1),i,n)},y.$$arity=1),t.def(v,"$to_s",m=function(){var e,r=this,n=m.$$p,i=o,$=o,a=o;for(n&&(m.$$p=null),a=0,e=arguments.length,$=new Array(e);a<e;a++)$[a]=arguments[a];return f(r.title)?(i=f(r.numbered)?r.$sectnum()+" "+r.title:r.title,"#<"+r.$class()+"@"+r.$object_id()+" {level: "+r.level+", title: "+i.$inspect()+", blocks: "+r.blocks.$size()+"}>"):c(r,t.find_super_dispatcher(r,"to_s",m,!1),$,n)},m.$$arity=0),t.defs(v,"$generate_id",g=function(t,r){var n,i=o,$=o,a=o,l=o,u=o,c=o,_=o;if(i=r.$attributes(),$=f(n=i["$[]"]("idseparator"))?n:"_",l=""+(a=f(n=i["$[]"]("idprefix"))?n:"_")+t.$downcase().$gsub(s(w,"InvalidSectionIdCharsRx"),$),f($["$empty?"]()));else if(l=l.$tr_s($,$),f(l["$end_with?"]($))&&(l=l.$chop()),f(a["$empty?"]()))for(;f(l["$start_with?"]($));)l=l.$slice(1,l.$length());if(f(r.$catalog()["$[]"]("ids")["$key?"](l))){for(u=(n=[r.$catalog()["$[]"]("ids"),s(w,"Compliance").$unique_id_start_index()])[0],c=n[1];f(u["$key?"](_=""+l+$+c));)c=e(c,1);return _}return l},g.$$arity=2)}(($=[i].concat(n))[0],s($,"AbstractBlock"),$)},Opal.modules["asciidoctor/stylesheets"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=t.const_get_qualified,o=t.const_get_relative,s=(t.breaker,t.slice,t.module),l=t.klass,u=t.truthy,c=t.hash2,f=t.send;return t.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),e=i,(r=s(i[0],"Asciidoctor")).$$proto,void function(e,r,n){function i(){}var s,_,h,d,p,y,m,g,v,b,w,E,k,x,A=i=l(e,null,"Stylesheets",i),O=A.$$proto,M=[A].concat(n);O.primary_stylesheet_data=O.coderay_stylesheet_data=O.pygments_stylesheet_data=$,t.const_set(M[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(M[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(M[0],"STYLESHEETS_DATA_PATH",a("::","File").$join(o(M,"DATA_PATH"),"stylesheets")),A.__instance__=A.$new(),t.defs(A,"$instance",s=function(){return null==this.__instance__&&(this.__instance__=$),this.__instance__},s.$$arity=0),t.def(A,"$primary_stylesheet_name",_=function(){return o(M,"DEFAULT_STYLESHEET_NAME")},_.$$arity=0),t.def(A,"$primary_stylesheet_data",h=function(){var e,r=t.const_get_relative([],"File");return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===r.$basename(__dirname)&&"dist"===r.$basename(r.$dirname(__dirname))?r.$join(r.$dirname(__dirname),"css"):r.$join(__dirname,"css"):t.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===r.$basename(__DIR__)&&"dist"===r.$basename(r.$dirname(__DIR__))?r.$join(r.$dirname(__DIR__),"css"):r.$join(__DIR__,"css"):"css",!1!==($a=A.primary_stylesheet_data)&&$a!==$&&null!=$a?$a:A.primary_stylesheet_data=t.const_get_relative([],"IO").$read(r.$join(e,"asciidoctor.css")).$chomp()},h.$$arity=0),t.def(A,"$embed_primary_stylesheet",d=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},d.$$arity=0),t.def(A,"$write_primary_stylesheet",p=function(t){return null==t&&(t="."),a("::","IO").$write(a("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},p.$$arity=-1),t.def(A,"$coderay_stylesheet_name",y=function(){return"coderay-asciidoctor.css"},y.$$arity=0),t.def(A,"$coderay_stylesheet_data",m=function(){var t;return this.coderay_stylesheet_data=u(t=this.coderay_stylesheet_data)?t:a("::","IO").$read(a("::","File").$join(o(M,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},m.$$arity=0),t.def(A,"$embed_coderay_stylesheet",g=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},g.$$arity=0),t.def(A,"$write_coderay_stylesheet",v=function(t){return null==t&&(t="."),a("::","IO").$write(a("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},v.$$arity=-1),t.def(A,"$pygments_stylesheet_name",b=function(t){var e;return null==t&&(t=$),"pygments-"+(u(e=t)?e:o(M,"DEFAULT_PYGMENTS_STYLE"))+".css"},b.$$arity=-1),t.def(A,"$pygments_stylesheet_data",w=function(e){var r,n,i,s,l=$;return null==e&&(e=$),u(this.$load_pygments())?u(r=(this.pygments_stylesheet_data=u(n=this.pygments_stylesheet_data)?n:c([],{}))["$[]"](u(n=e)?n:o(M,"DEFAULT_PYGMENTS_STYLE")))?r:(l=[u(n=e)?n:o(M,"DEFAULT_PYGMENTS_STYLE"),a("::","Pygments").$css(".listingblock .pygments",c(["classprefix","style"],{classprefix:"tok-",style:u(n=e)?n:o(M,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],f(this.pygments_stylesheet_data=u(n=this.pygments_stylesheet_data)?n:c([],{}),"[]=",t.to_a(l)),l[(i=l.length,s=1,"number"==typeof i&&"number"==typeof s?i-s:i["$-"](s))]):"/* Pygments styles disabled. Pygments is not available. */"},w.$$arity=-1),t.def(A,"$embed_pygments_stylesheet",E=function(t){return null==t&&(t=$),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},E.$$arity=-1),t.def(A,"$write_pygments_stylesheet",k=function(t,e){return null==t&&(t="."),null==e&&(e=$),a("::","IO").$write(a("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e))},k.$$arity=-1),t.def(A,"$load_pygments",x=function(){return!!u(a("::","Pygments","skip_raise")?"constant":$)||o(M,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},x.$$arity=0)}((n=[r].concat(e))[0],0,n)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var o,s,l,u=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,h=(t.breaker,t.slice,t.module),d=t.klass,p=t.send,y=t.truthy,m=t.hash2,g=t.range;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$to_set","$cursor","$nested?","$document","$warn","$prev_line_info","$nil_or_empty?","$escape","$columns","$match","$pre_match","$post_match","$chop","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$line_info","$squeeze","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),o=u,(s=h(u[0],"Asciidoctor")).$$proto,function(o,s,l){function u(){}var f,h,m,g,v,b=u=d(o,s,"Table",u),w=b.$$proto,E=[b].concat(l);w.attributes=w.document=w.has_header_option=w.rows=w.columns=c,function(e,r,n){function i(){}var $,a,o=i=d(e,null,"Rows",i),s=o.$$proto;[o].concat(n),s.head=s.foot=s.body=c,o.$attr_accessor("head","foot","body"),t.def(o,"$initialize",$=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},$.$$arity=-1),t.alias(o,"[]","send"),t.def(o,"$by_section",a=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},a.$$arity=0)}(E[0],0,E),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),b.$attr_reader("caption"),t.def(b,"$initialize",f=function(a,o){var s,l,u=this,h=f.$$p,d=c,m=c,g=c;return h&&(f.$$p=null),p(u,t.find_super_dispatcher(u,"initialize",f,!1),[a,"table"],null),u.rows=_(E,"Rows").$new(),u.columns=[],u.has_header_option=o["$key?"]("header-option"),y(d=o["$[]"]("width"))?y(y(s=e(m=d.$to_i(),100))?s:r(m,1))&&(y((s=m["$=="](0))?y(l=d["$=="]("0"))?l:d["$=="]("0%"):m["$=="](0))||(m=100)):m=100,g=["tablepcwidth",m],p(u.attributes,"[]=",t.to_a(g)),g[n(g.length,1)],y(u.document.$attributes()["$key?"]("pagewidth"))&&(y(s=u.attributes["$[]"]("tableabswidth"))||(g=["tableabswidth",i($(u.attributes["$[]"]("tablepcwidth").$to_f(),100),u.document.$attributes()["$[]"]("pagewidth")).$round()],p(u.attributes,"[]=",t.to_a(g)),g[n(g.length,1)])),y(o["$key?"]("rotate-option"))?(g=["orientation","landscape"],p(o,"[]=",t.to_a(g)),g[n(g.length,1)]):c},f.$$arity=2),t.def(b,"$header_row?",h=function(){var t;return y(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},h.$$arity=0),t.def(b,"$create_columns",m=function(e){var r,i=c,$=c,o=c;return i=[],$=0,p(e,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=c),$=a($,t["$[]"]("width")),i["$<<"](_(E,"Column").$new(e,i.$size(),t))}).$$s=this,r.$$arity=1,r)),y((this.columns=i)["$empty?"]())||(o=["colcount",i.$size()],p(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],this.$assign_column_widths($["$=="](0)?c:$)),c},m.$$arity=1),t.def(b,"$assign_column_widths",g=function(t){var e,r,o,s=c,l=c;return null==t&&(t=c),o=10["$**"](4),s=l=0,y(t)?p(this.columns,"each",[],((e=function(r){return e.$$s,null==r&&(r=c),s=a(s,l=r.$assign_width(c,t,o))}).$$s=this,e.$$arity=1,e)):((l=$($(i(100,o),this.columns.$size()).$to_i(),o)).$to_i()["$=="](l)&&(l=l.$to_i()),p(this.columns,"each",[],((r=function(t){return r.$$s,null==t&&(t=c),s=a(s,t.$assign_width(l))}).$$s=this,r.$$arity=1,r))),s["$=="](100)||this.columns["$[]"](-1).$assign_width($(i(a(n(100,s),l),o).$round(),o)),c},g.$$arity=-1),t.def(b,"$partition_header_footer",v=function(r){var i,$,a=c,o=c,s=c;return a=["rowcount",this.rows.$body().$size()],p(this.attributes,"[]=",t.to_a(a)),a[n(a.length,1)],o=this.rows.$body().$size(),y(y(i=e(o,0))?this.has_header_option:i)&&(s=this.rows.$body().$shift(),o=n(o,1),p(s,"each",[],(($=function(e){return $.$$s,null==e&&(e=c),a=[c],p(e,"style=",t.to_a(a)),a[n(a.length,1)]}).$$s=this,$.$$arity=1,$)),a=[[s]],p(this.rows,"head=",t.to_a(a)),a[n(a.length,1)]),y(y(i=e(o,0))?r["$key?"]("footer-option"):i)&&(a=[[this.rows.$body().$pop()]],p(this.rows,"foot=",t.to_a(a)),a[n(a.length,1)]),c},v.$$arity=1)}((l=[s].concat(o))[0],_(l,"AbstractBlock"),l),function(e,r,o){function s(){}var l,u,f=s=d(e,r,"Column",s),_=f.$$proto;[f].concat(o),_.attributes=c,f.$attr_accessor("style"),t.def(f,"$initialize",l=function(e,r,i){var $=l.$$p,o=c;return null==i&&(i=m([],{})),$&&(l.$$p=null),p(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"column"],null),this.style=i["$[]"]("style"),o=["colnumber",a(r,1)],p(i,"[]=",t.to_a(o)),o[n(o.length,1)],y(i["$[]"]("width"))||(o=["width",1],p(i,"[]=",t.to_a(o)),o[n(o.length,1)]),y(i["$[]"]("halign"))||(o=["halign","left"],p(i,"[]=",t.to_a(o)),o[n(o.length,1)]),y(i["$[]"]("valign"))||(o=["valign","top"],p(i,"[]=",t.to_a(o)),o[n(o.length,1)]),this.$update_attributes(i)},l.$$arity=-3),t.alias(f,"table","parent"),t.def(f,"$assign_width",u=function(e,r,a){var o=c;return null==r&&(r=c),null==a&&(a=1e4),y(r)&&(e=$(i(i($(this.attributes["$[]"]("width").$to_f(),r),100),a).$to_i(),a)).$to_i()["$=="](e)&&(e=e.$to_i()),o=["colpcwidth",e],p(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],y(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(o=["colabswidth",i($(e,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],p(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)]),e},u.$$arity=-2)}(_(l,"Table"),_(l,"AbstractNode"),l),function(e,i,$){function a(){}var o,s,l,u,f,h=a=d(e,i,"Cell",a),g=h.$$proto,v=[h].concat($);g.document=g.text=g.style=g.inner_document=g.colspan=g.rowspan=g.attributes=c,h.$attr_accessor("style"),h.$attr_accessor("colspan"),h.$attr_accessor("rowspan"),t.alias(h,"column","parent"),h.$attr_reader("inner_document"),t.def(h,"$initialize",o=function(e,i,$,a){var s,l=this,u=o.$$p,f=c,h=c,d=c,g=c,b=c,w=c,E=c;if(null==$&&($=m([],{})),null==a&&(a=m([],{})),u&&(o.$$p=null),p(l,t.find_super_dispatcher(l,"initialize",o,!1),[e,"cell"],null),y(e)?(f=y(h=e.$table()["$header_row?"]())?c:e.$attributes()["$[]"]("style"),l.$update_attributes(e.$attributes())):h=f=c,y($)){if(l.colspan=$.$delete("colspan"),l.rowspan=$.$delete("rowspan"),y(y(s=h)?s:$["$key?"]("style")["$!"]())||(f=$["$[]"]("style")),y(a["$[]"]("strip_text")))if(y(y(s=f["$=="]("literal"))?s:f["$=="]("verse")))for(i=i.$rstrip();y(i["$start_with?"](_(v,"LF")));)i=i.$slice(1,n(i.$length(),1));else i=i.$strip();l.$update_attributes($)}else l.colspan=c,l.rowspan=c;return f["$=="]("asciidoc")&&(d=l.document.$attributes().$delete("doctitle"),g=i.$split(_(v,"LF"),-1),y(g["$empty?"]())||y((b=g["$[]"](0))["$include?"]("::"))&&(w=_(v,"PreprocessorReader").$new(l.document,[b]).$readlines(),y((s=b["$=="](w["$[]"](0)))?r(w.$size(),2):b["$=="](w["$[]"](0)))||(g.$shift(),y(w["$empty?"]())||p(g,"unshift",t.to_a(w)))),l.inner_document=_(v,"Document").$new(g,m(["header_footer","parent","cursor"],{header_footer:!1,parent:l.document,cursor:a["$[]"]("cursor")})),y(d["$nil?"]())||(E=["doctitle",d],p(l.document.$attributes(),"[]=",t.to_a(E)),E[n(E.length,1)])),l.text=i,l.style=f},o.$$arity=-3),t.def(h,"$text",s=function(){var t=this;return t.$apply_subs(t.text,t.style["$=="]("literal")?_(v,"BASIC_SUBS"):_(v,"NORMAL_SUBS"))},s.$$arity=0),t.def(h,"$text=",l=function(t){return this.text=t},l.$$arity=1),t.def(h,"$content",u=function(){var t;return this.style["$=="]("asciidoc")?this.inner_document.$convert():p(this.$text().$split(_(v,"BlankLineRx")),"map",[],((t=function(e){var r,n=t.$$s||this;return null==n.style&&(n.style=c),null==e&&(e=c),y(y(r=n.style["$!"]())?r:n.style["$=="]("header"))?e:_(v,"Inline").$new(n.$parent(),"quoted",e,m(["type"],{type:n.style})).$convert()}).$$s=this,t.$$arity=1,t))},u.$$arity=0),t.def(h,"$to_s",f=function(){var e,r,n=f.$$p,i=c,$=c;for(n&&(f.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return p(this,t.find_super_dispatcher(this,"to_s",f,!1),i,n).$to_s()+" - [text: "+this.text+", colspan: "+(y(e=this.colspan)?e:1)+", rowspan: "+(y(e=this.rowspan)?e:1)+", attributes: "+this.attributes+"]"},f.$$arity=0)}(_(l,"Table"),_(l,"AbstractNode"),l),void function(r,i,$){function o(){}var s,l,u,h,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z=o=d(r,null,"ParserContext",o),P=z.$$proto,B=[z].concat($);P.delimiter=P.delimiter_re=P.buffer=P.cellspecs=P.cell_open=P.format=P.last_cursor=P.table=P.current_row=P.colcount=P.column_visits=P.active_rowspans=P.linenum=c,t.const_set(B[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(B[0],"DELIMITERS",m(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),z.$attr_accessor("table"),z.$attr_accessor("format"),z.$attr_reader("colcount"),z.$attr_accessor("buffer"),z.$attr_reader("delimiter"),z.$attr_reader("delimiter_re"),t.def(z,"$initialize",s=function e(r,n,i){var $,a,o=this,s=c,e=c;return null==i&&(i=m([],{})),o.reader=r,o.table=n,o.last_cursor=r.$cursor(),y(i["$key?"]("format"))?y(_(B,"FORMATS")["$include?"](s=i["$[]"]("format")))?s["$=="]("tsv")?o.format="csv":y(($=(o.format=s)["$=="]("psv"))?n.$document()["$nested?"]():(o.format=s)["$=="]("psv"))&&(s="!sv"):(o.$warn("asciidoctor: ERROR: "+r.$prev_line_info()+": illegal table format: "+s),$=["psv",y(n.$document()["$nested?"]())?"!sv":"psv"],o.format=$[0],s=$[1]):($=["psv",y(n.$document()["$nested?"]())?"!sv":"psv"],o.format=$[0],s=$[1]),y(i["$key?"]("separator"))?y((e=i["$[]"]("separator"))["$nil_or_empty?"]())?(a=_(B,"DELIMITERS")["$[]"](s),$=t.to_ary(a),o.delimiter=null==$[0]?c:$[0],o.delimiter_re=null==$[1]?c:$[1]):e["$=="]("\\t")?(a=_(B,"DELIMITERS")["$[]"]("tsv"),$=t.to_ary(a),o.delimiter=null==$[0]?c:$[0],o.delimiter_re=null==$[1]?c:$[1]):($=[e,new RegExp(f("::","Regexp").$escape(e))],o.delimiter=$[0],o.delimiter_re=$[1]):(a=_(B,"DELIMITERS")["$[]"](s),$=t.to_ary(a),o.delimiter=null==$[0]?c:$[0],o.delimiter_re=null==$[1]?c:$[1]),o.colcount=y(n.$columns()["$empty?"]())?-1:n.$columns().$size(),o.buffer="",o.cellspecs=[],o.cell_open=!1,o.active_rowspans=[0],o.column_visits=0,o.current_row=[],o.linenum=-1},s.$$arity=-3),t.def(z,"$starts_with_delimiter?",l=function(t){return t["$start_with?"](this.delimiter)},l.$$arity=1),t.def(z,"$match_delimiter",u=function(t){return this.delimiter_re.$match(t)},u.$$arity=1),t.def(z,"$skip_past_delimiter",h=function(t){return this.buffer=""+this.buffer+t.$pre_match()+this.delimiter,t.$post_match()},h.$$arity=1),t.def(z,"$skip_past_escaped_delimiter",v=function(t){return this.buffer=""+this.buffer+t.$pre_match().$chop()+this.delimiter,t.$post_match()},v.$$arity=1),t.def(z,"$buffer_has_unclosed_quotes?",b=function(t){var e,r,n=this,i=c,$=c;return null==t&&(t=c),!!y((i=y(t)?a(n.$buffer(),t).$strip():n.$buffer().$strip())["$start_with?"]('"'))&&(y(y(e=y(r=$=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?y(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:$["$!"]())},b.$$arity=-1),t.def(z,"$take_cellspec",w=function(){return this.cellspecs.$shift()},w.$$arity=0),t.def(z,"$push_cellspec",E=function(t){var e;return null==t&&(t=m([],{})),this.cellspecs["$<<"](y(e=t)?e:m([],{})),c},E.$$arity=-1),t.def(z,"$keep_cell_open",k=function(){return this.cell_open=!0,c},k.$$arity=0),t.def(z,"$mark_cell_closed",x=function(){return this.cell_open=!1,c},x.$$arity=0),t.def(z,"$cell_open?",A=function(){return this.cell_open},A.$$arity=0),t.def(z,"$cell_closed?",O=function(){return this.cell_open["$!"]()},O.$$arity=0),t.def(z,"$close_open_cell",M=function(t){return null==t&&(t=m([],{})),this.$push_cellspec(t),y(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),c},M.$$arity=-1),t.def(z,"$close_cell",S=function(r){try{var i,$,o=this,s=c,l=c,u=c,h=c;return null==r&&(r=!1),o.format["$=="]("psv")?(s=!0,l=o.buffer,o.buffer="",y(u=o.$take_cellspec())?h=y(i=u.$delete("repeatcol"))?i:1:(o.$warn("asciidoctor: ERROR: "+o.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),u=m([],{}),h=1)):(s=!1,l=o.buffer.$strip(),o.buffer="",u=c,h=1,o.format["$=="]("csv")&&y(y(i=l["$empty?"]()["$!"]())?l["$include?"]('"'):i)&&(y(y(i=l["$start_with?"]('"'))?l["$end_with?"]('"'):i)&&(l=l["$[]"](g(1,-1,!0)).$strip()),l=l.$squeeze('"'))),p(1,"upto",[h],(($=function(i){var o,d,g,v,b=$.$$s||this,w=c,E=c,k=c,x=c;return null==b.colcount&&(b.colcount=c),null==b.table&&(b.table=c),null==b.current_row&&(b.current_row=c),null==b.last_cursor&&(b.last_cursor=c),null==b.reader&&(b.reader=c),null==b.column_visits&&(b.column_visits=c),null==b.linenum&&(b.linenum=c),null==i&&(i=c),b.colcount["$=="](-1)?(b.table.$columns()["$<<"](w=f(_(B,"Table"),"Column").$new(b.table,n(a(b.table.$columns().$size(),i),1))),y(y(o=y(d=u)?u["$key?"]("colspan"):d)?e(E=n(u["$[]"]("colspan").$to_i(),1),0):o)&&(k=b.table.$columns().$size(),p(E,"times",[],((g=function(t){var e=g.$$s||this;return null==e.table&&(e.table=c),null==t&&(t=c),e.table.$columns()["$<<"](f(_(B,"Table"),"Column").$new(e.table,a(k,t)))}).$$s=b,g.$$arity=1,g)))):y(w=b.table.$columns()["$[]"](b.current_row.$size()))||(b.$warn("asciidoctor: ERROR: "+b.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(c)),x=f(_(B,"Table"),"Cell").$new(w,l,u,m(["cursor","strip_text"],{cursor:b.last_cursor,strip_text:s})),b.last_cursor=b.reader.$cursor(),y(y(o=x.$rowspan()["$!"]())?o:x.$rowspan()["$=="](1))||b.$activate_rowspan(x.$rowspan(),y(o=x.$colspan())?o:1),b.column_visits=a(b.column_visits,y(o=x.$colspan())?o:1),b.current_row["$<<"](x),y(y(o=b["$end_of_row?"]())?y(d=y(v=b.colcount["$!="](-1))?v:e(b.linenum,0))?d:y(v=r)?i["$=="](h):v:o)?b.$close_row():c}).$$s=o,$.$$arity=1,$)),o.cell_open=!1,c}catch(e){if(e===t.returner)return e.$v;throw e}},S.$$arity=-1),t.def(z,"$close_row",T=function(){var e=this,r=c;return e.table.$rows().$body()["$<<"](e.current_row),e.colcount["$=="](-1)&&(e.colcount=e.column_visits),e.column_visits=0,e.current_row=[],e.active_rowspans.$shift(),y(e.active_rowspans["$[]"](0))||(r=[0,0],p(e.active_rowspans,"[]=",t.to_a(r)),r[n(r.length,1)]),c},T.$$arity=0),t.def(z,"$activate_rowspan",R=function(e,r){var i;return p(1..$upto(n(e,1)),"each",[],((i=function(e){var $,o,s=i.$$s||this;return null==s.active_rowspans&&(s.active_rowspans=c),null==e&&(e=c),o=[e,a(y($=s.active_rowspans["$[]"](e))?$:0,r)],p(s.active_rowspans,"[]=",t.to_a(o)),o[n(o.length,1)]}).$$s=this,i.$$arity=1,i)),c},R.$$arity=2),t.def(z,"$end_of_row?",I=function(){var t;return y(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},I.$$arity=0),t.def(z,"$effective_column_visits",C=function(){return a(this.column_visits,this.active_rowspans["$[]"](0))},C.$$arity=0),t.def(z,"$advance",N=function(){return this.linenum=a(this.linenum,1)},N.$$arity=0)}(_(l,"Table"),0,l)},Opal.modules["asciidoctor/converter/composite"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=t.const_get_qualified,o=t.const_get_relative,s=(t.breaker,t.slice,t.module),l=t.klass,u=t.send,c=t.truthy,f=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),e=i,(r=s(i[0],"Asciidoctor")).$$proto,n=[r].concat(e),void function(e,r,n){function i(){}var a,o,s,_,h=i=l(e,r,"CompositeConverter",i),d=h.$$proto;[h].concat(n),d.converter_map=d.converters=$,h.$attr_reader("converters"),t.def(h,"$initialize",a=function t(e,r){var n,i,a=arguments.length,t=a-1;t<0&&(t=0),i=new Array(t);for(var o=1;o<a;o++)i[o-1]=arguments[o];return this.backend=e,u(this.converters=i.$flatten().$compact(),"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=$),c(t["$respond_to?"]("composed"))?t.$composed(e):$}).$$s=this,n.$$arity=1,n)),this.converter_map=f([],{})},a.$$arity=-2),t.def(h,"$convert",o=function(t,e,r){var n;return null==e&&(e=$),null==r&&(r=f([],{})),e=c(n=e)?n:t.$node_name(),this.$converter_for(e).$convert(t,e,r)},o.$$arity=-2),t.alias(h,"convert_with_options","convert"),t.def(h,"$converter_for",s=function(e){var r,n,i,a=$;return c(r=this.converter_map["$[]"](e))?r:(a=[e,this.$find_converter(e)],u(this.converter_map,"[]=",t.to_a(a)),a[(n=a.length,i=1,"number"==typeof n&&"number"==typeof i?n-i:n["$-"](i))])},s.$$arity=1),t.def(h,"$find_converter",_=function(e){try{var r;return u(this.converters,"each",[],((r=function(n){return r.$$s,null==n&&(n=$),c(n["$handles?"](e))?void t.ret(n):$}).$$s=this,r.$$arity=1,r)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},_.$$arity=1)}(o(n,"Converter"),a(o(n,"Converter"),"Base"),n)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var a,o,s,l=[],u=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.module),h=t.klass,d=t.send,p=t.hash2,y=t.truthy,m=t.range;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$include?","$gsub","$extname","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$sectnum","$<","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$read_svg_contents","$alt","$image_uri","$encode_quotes","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$attributes","$catalog","$xreftext","$target","$join","$map","$chop","$read_contents","$sub","$match","$length"]),a=l,(o=_(l[0],"Asciidoctor")).$$proto,s=[o].concat(a),void function(a,o,s){function l(){}var _,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st=l=h(a,o,"Html5Converter",l),lt=st.$$proto,ut=[st].concat(s);lt.xml_mode=lt.void_element_slash=lt.stylesheets=lt.xrefstyle=u,$t=[["","",!1]],d(t.const_set(ut[0],"QUOTE_TAGS",p(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a($t)),ot=1,"number"==typeof(at=$t.length)&&"number"==typeof ot||at["$-"](ot),t.const_set(ut[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(ut[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(ut[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/),t.def(st,"$initialize",_=function(t,e){var r=this;return null==e&&(e=p([],{})),r.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=y(r.xml_mode)?"/":u,r.stylesheets=f(ut,"Stylesheets").$instance()},_.$$arity=-2),t.def(st,"$document",g=function n(i){var $,a,o,s,l,_,h,g,n,v,b,w,E,k,x=this,A=u,O=u,M=u,S=u,T=u,R=u,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u,L=u,F=u,j=u,U=u;return _=x.void_element_slash,h="<br"+_+">",y((A=i.$attr("asset-uri-scheme","https"))["$empty?"]())||(A+=":"),g=A+"//cdnjs.cloudflare.com/ajax/libs",n=y((E=i.$safe(),k=c(f(ut,"SafeMode"),"SECURE"),$="number"==typeof E&&"number"==typeof k?E>=k:E["$>="](k)))?$:i["$attr?"]("linkcss"),O=["<!DOCTYPE html>"],v=y(i["$attr?"]("nolang"))?u:' lang="'+i.$attr("lang","en")+'"',O["$<<"]("<html"+(y(x.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':u)+v+">"),O["$<<"]('<head>\n<meta charset="'+i.$attr("encoding","UTF-8")+'"'+_+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+_+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+_+'>\n<meta name="generator" content="Asciidoctor '+i.$attr("asciidoctor-version")+'"'+_+">"),y(i["$attr?"]("app-name"))&&O["$<<"]('<meta name="application-name" content="'+i.$attr("app-name")+'"'+_+">"),y(i["$attr?"]("description"))&&O["$<<"]('<meta name="description" content="'+i.$attr("description")+'"'+_+">"),y(i["$attr?"]("keywords"))&&O["$<<"]('<meta name="keywords" content="'+i.$attr("keywords")+'"'+_+">"),y(i["$attr?"]("authors"))&&O["$<<"]('<meta name="author" content="'+(y((M=i.$attr("authors"))["$include?"]("<"))?M.$gsub(f(ut,"XmlSanitizeRx"),""):M)+'"'+_+">"),y(i["$attr?"]("copyright"))&&O["$<<"]('<meta name="copyright" content="'+i.$attr("copyright")+'"'+_+">"),y(i["$attr?"]("favicon"))&&(y((S=i.$attr("favicon"))["$empty?"]())?(S=($=["favicon.ico","image/x-icon"])[0],T=$[1]):T=(R=c("::","File").$extname(S))["$=="](".ico")?"image/x-icon":"image/"+R["$[]"](m(1,-1,!1)),O["$<<"]('<link rel="shortcut icon" type="'+T+'" href="'+S+'">')),O["$<<"]("<title>"+i.$doctitle(p(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),y(f(ut,"DEFAULT_STYLESHEET_KEYS")["$include?"](i.$attr("stylesheet")))?(y(I=i.$attr("webfonts"))&&O["$<<"]('<link rel="stylesheet" href="'+A+"//fonts.googleapis.com/css?family="+(y(I["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":I)+'"'+_+">"),y(n)?O["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(f(ut,"DEFAULT_STYLESHEET_NAME"),i.$attr("stylesdir",""),!1)+'"'+_+">"):O["$<<"](x.stylesheets.$embed_primary_stylesheet())):y(i["$attr?"]("stylesheet"))&&(y(n)?O["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(i.$attr("stylesheet"),i.$attr("stylesdir",""))+'"'+_+">"):O["$<<"]("<style>\n"+i.$read_asset(i.$normalize_system_path(i.$attr("stylesheet"),i.$attr("stylesdir","")),p(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),y(i["$attr?"]("icons","font"))&&(y(i["$attr?"]("iconfont-remote"))?O["$<<"]('<link rel="stylesheet" href="'+i.$attr("iconfont-cdn",g+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+_+">"):(C=i.$attr("iconfont-name","font-awesome")+".css",O["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(C,i.$attr("stylesdir",""),!1)+'"'+_+">"))),N=b=i.$attr("source-highlighter"),"coderay"["$==="](N)?i.$attr("coderay-css","class")["$=="]("class")&&(y(n)?O["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(x.stylesheets.$coderay_stylesheet_name(),i.$attr("stylesdir",""),!1)+'"'+_+">"):O["$<<"](x.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](N)&&i.$attr("pygments-css","class")["$=="]("class")&&(z=i.$attr("pygments-style"),y(n)?O["$<<"]('<link rel="stylesheet" href="'+i.$normalize_web_path(x.stylesheets.$pygments_stylesheet_name(z),i.$attr("stylesdir",""),!1)+'"'+_+">"):O["$<<"](x.stylesheets.$embed_pygments_stylesheet(z))),y((P=i.$docinfo())["$empty?"]())||O["$<<"](P),O["$<<"]("</head>"),B=[],y(i.$id())&&B["$<<"]('id="'+i.$id()+'"'),y(y($=y(a=y(o=w=i["$sections?"]())?i["$attr?"]("toc-class"):o)?i["$attr?"]("toc"):a)?i["$attr?"]("toc-placement","auto"):$)?B["$<<"]('class="'+i.$doctype()+" "+i.$attr("toc-class")+" toc-"+i.$attr("toc-position","header")+'"'):B["$<<"]('class="'+i.$doctype()+'"'),y(i["$attr?"]("max-width"))&&B["$<<"]('style="max-width: '+i.$attr("max-width")+';"'),O["$<<"]("<body "+e(B," ")+">"),y(i.$noheader())||(O["$<<"]('<div id="header">'),i.$doctype()["$=="]("manpage")?(O["$<<"]("<h1>"+i.$doctitle()+" Manual Page</h1>"),y(y($=y(a=w)?i["$attr?"]("toc"):a)?i["$attr?"]("toc-placement","auto"):$)&&O["$<<"]('<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+x.$outline(i)+"\n</div>"),O["$<<"]("<h2>"+i.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+i.$attr("manname")+" - "+i.$attr("manpurpose")+"</p>\n</div>")):(y(i["$has_header?"]())&&(y(i.$notitle())||O["$<<"]("<h1>"+i.$header().$title()+"</h1>"),q=[],y(i["$attr?"]("author"))&&(q["$<<"]('<span id="author" class="author">'+i.$attr("author")+"</span>"+h),y(i["$attr?"]("email"))&&q["$<<"]('<span id="email" class="email">'+i.$sub_macros(i.$attr("email"))+"</span>"+h),y(r(D=i.$attr("authorcount").$to_i(),1))&&d(t.Range.$new(2,D,!1),"each",[],((s=function(t){return s.$$s,null==t&&(t=u),q["$<<"]('<span id="author'+t+'" class="author">'+i.$attr("author_"+t)+"</span>"+h),y(i["$attr?"]("email_"+t))?q["$<<"]('<span id="email'+t+'" class="email">'+i.$sub_macros(i.$attr("email_"+t))+"</span>"+h):u}).$$s=x,s.$$arity=1,s))),y(i["$attr?"]("revnumber"))&&q["$<<"]('<span id="revnumber">'+(y($=i.$attr("version-label"))?$:"").$downcase()+" "+i.$attr("revnumber")+(y(i["$attr?"]("revdate"))?",":"")+"</span>"),y(i["$attr?"]("revdate"))&&q["$<<"]('<span id="revdate">'+i.$attr("revdate")+"</span>"),y(i["$attr?"]("revremark"))&&q["$<<"](h+'<span id="revremark">'+i.$attr("revremark")+"</span>"),y(q["$empty?"]())||(O["$<<"]('<div class="details">'),O.$concat(q),O["$<<"]("</div>"))),y(y($=y(a=w)?i["$attr?"]("toc"):a)?i["$attr?"]("toc-placement","auto"):$)&&O["$<<"]('<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+x.$outline(i)+"\n</div>")),
O["$<<"]("</div>")),O["$<<"]('<div id="content">\n'+i.$content()+"\n</div>"),y(y($=i["$footnotes?"]())?i["$attr?"]("nofootnotes")["$!"]():$)&&(O["$<<"]('<div id="footnotes">\n<hr'+_+">"),d(i.$footnotes(),"each",[],((l=function(t){return l.$$s,null==t&&(t=u),O["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=x,l.$$arity=1,l)),O["$<<"]("</div>")),y(i.$nofooter())||(O["$<<"]('<div id="footer">'),O["$<<"]('<div id="footer-text">'),y(i["$attr?"]("revnumber"))&&O["$<<"](i.$attr("version-label")+" "+i.$attr("revnumber")+h),y(y($=i["$attr?"]("last-update-label"))?i["$attr?"]("reproducible")["$!"]():$)&&O["$<<"](i.$attr("last-update-label")+" "+i.$attr("docdatetime")),O["$<<"]("</div>"),O["$<<"]("</div>")),y((P=i.$docinfo("footer"))["$empty?"]())||O["$<<"](P),"highlightjs"["$==="](N=b)||"highlight.js"["$==="](N)?(L=i.$attr("highlightjsdir",g+"/highlight.js/9.12.0"),O["$<<"]('<link rel="stylesheet" href="'+L+"/styles/"+i.$attr("highlightjs-theme","github")+'.min.css"'+_+">"),O["$<<"]('<script src="'+L+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](N)&&(F=i.$attr("prettifydir",g+"/prettify/r298"),O["$<<"]('<link rel="stylesheet" href="'+F+"/"+i.$attr("prettify-theme","prettify")+'.min.css"'+_+">"),O["$<<"]('<script src="'+F+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),y(i["$attr?"]("stem"))&&(j=i.$attr("eqnums","none"),y(j["$empty?"]())&&(j="AMS"),U=' equationNumbers: { autoNumber: "'+j+'" } ',O["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+f(ut,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+f(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+f(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+U+'}\n});\n</script>\n<script src="'+g+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),O["$<<"]("</body>"),O["$<<"]("</html>"),e(O,f(ut,"LF"))},g.$$arity=1),t.def(st,"$embedded",v=function(t){var r,n,i,$,a=u,o=u,s=u;return a=[],t.$doctype()["$=="]("manpage")?(y(t.$notitle())||(o=y(t.$id())?' id="'+t.$id()+'"':u,a["$<<"]("<h1"+o+">"+t.$doctitle()+" Manual Page</h1>")),a["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):y(y(r=t["$has_header?"]())?t.$notitle()["$!"]():r)&&(o=y(t.$id())?' id="'+t.$id()+'"':u,a["$<<"]("<h1"+o+">"+t.$header().$title()+"</h1>")),y(y(r=y(n=y(i=t["$sections?"]())?t["$attr?"]("toc"):i)?(s=t.$attr("toc-placement"))["$!="]("macro"):n)?s["$!="]("preamble"):r)&&a["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),a["$<<"](t.$content()),y(y(r=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():r)&&(a["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),d(t.$footnotes(),"each",[],(($=function(t){return $.$$s,null==t&&(t=u),a["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,$.$$arity=1,$)),a["$<<"]("</div>")),e(a,f(ut,"LF"))},v.$$arity=1),t.def(st,"$outline",b=function(t,r){var $,a,o,s,l=u,c=u;return null==r&&(r=p([],{})),y(t["$sections?"]())?(o=y($=r["$[]"]("sectnumlevels"))?$:t.$document().$attr("sectnumlevels",3).$to_i(),s=y($=r["$[]"]("toclevels"))?$:t.$document().$attr("toclevels",2).$to_i(),l=t.$sections(),c=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'],d(l,"each",[],((a=function(t){var e,r,$=a.$$s||this,l=u,f=u;return null==t&&(t=u),r=t.$level(),l=y(t.$caption())?t.$captioned_title():y(y(e=t.$numbered())?n(r,o):e)?t.$sectnum()+" "+t.$title():t.$title(),y(y(e=i(r,s))?f=$.$outline(t,p(["toclevels","secnumlevels"],{toclevels:s,secnumlevels:o})):e)?(c["$<<"]('<li><a href="#'+t.$id()+'">'+l+"</a>"),c["$<<"](f),c["$<<"]("</li>")):c["$<<"]('<li><a href="#'+t.$id()+'">'+l+"</a></li>")}).$$s=this,a.$$arity=1,a)),c["$<<"]("</ul>"),e(c,f(ut,"LF"))):u},b.$$arity=-2),t.def(st,"$section",w=function(t){var e,r,i,a=u,o=u,s=u,l=u,c=u,f=u,_=u,h=u;return i="h"+$(a=t.$level(),1),o=s=l=c=u,y(t.$id())&&(o=' id="'+(f=t.$id())+'"',y((_=t.$document())["$attr?"]("sectanchors"))&&(s='<a class="anchor" href="#'+f+'"></a>'),y(_["$attr?"]("sectlinks"))&&(l='<a class="link" href="#'+f+'">',c="</a>")),a["$=="](0)?"<h1"+o+' class="sect0">'+s+l+t.$title()+c+"</h1>\n"+t.$content():"<div"+(y(h=t.$role())?' class="sect'+a+" "+h+'"':' class="sect'+a+'"')+">\n<"+i+o+">"+s+l+(y(y(e=y(r=t.$numbered())?t.$caption()["$!"]():r)?n(a,t.$document().$attr("sectnumlevels",3).$to_i()):e)?t.$sectnum()+" ":u)+t.$captioned_title()+c+"</"+i+">\n"+(a["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},w.$$arity=1),t.def(st,"$admonition",E=function(t){var e,r,n,i,$,a=u;return r=y(t.$id())?' id="'+t.$id()+'"':u,n=t.$attr("name"),i=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,a=y(t.$document()["$attr?"]("icons"))?y(y(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(y(e=$=t.$role())?" "+$:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+a+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},E.$$arity=1),t.def(st,"$audio",k=function(t){var r,n,i,$,a,o,s,l,c=this;return n=c.xml_mode,i=y(t.$id())?' id="'+t.$id()+'"':u,$=' class="'+e(["audioblock",t.$role()].$compact()," ")+'"',a=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,o=t.$attr("start",u,!1),s=t.$attr("end",u,!1),l=y(y(r=o)?r:s)?"#t="+o+(y(s)?",":u)+s:u,"<div"+i+$+">\n"+a+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+l+'"'+(y(t["$option?"]("autoplay"))?c.$append_boolean_attribute("autoplay",n):u)+(y(t["$option?"]("nocontrols"))?u:c.$append_boolean_attribute("controls",n))+(y(t["$option?"]("loop"))?c.$append_boolean_attribute("loop",n):u)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},k.$$arity=1),t.def(st,"$colist",x=function(t){var r,n,i,a,o,s=u,l=u,c=u;return s=[],a=y(t.$id())?' id="'+t.$id()+'"':u,o=' class="'+e(["colist",t.$style(),t.$role()].$compact()," ")+'"',s["$<<"]("<div"+a+o+">"),y(t["$title?"]())&&s["$<<"]('<div class="title">'+t.$title()+"</div>"),y(t.$document()["$attr?"]("icons"))?(s["$<<"]("<table>"),r=[t.$document()["$attr?"]("icons","font"),0],l=r[0],c=r[1],d(t.$items(),"each",[],((n=function(e){var r=n.$$s||this,i=u;return null==r.void_element_slash&&(r.void_element_slash=u),null==e&&(e=u),c=$(c,1),i=y(l)?'<i class="conum" data-value="'+c+'"></i><b>'+c+"</b>":'<img src="'+t.$icon_uri("callouts/"+c)+'" alt="'+c+'"'+r.void_element_slash+">",s["$<<"]("<tr>\n<td>"+i+"</td>\n<td>"+e.$text()+(y(e["$blocks?"]())?$(f(ut,"LF"),e.$content()):"")+"</td>\n</tr>")}).$$s=this,n.$$arity=1,n)),s["$<<"]("</table>")):(s["$<<"]("<ol>"),d(t.$items(),"each",[],((i=function(t){return i.$$s,null==t&&(t=u),s["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(y(t["$blocks?"]())?$(f(ut,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,i.$$arity=1,i)),s["$<<"]("</ol>")),s["$<<"]("</div>"),e(s,f(ut,"LF"))},x.$$arity=1),t.def(st,"$dlist",A=function(r){var n,i,$,a,o,s,l=u,c=u,_=u,h=u,p=u;return l=[],o=y(r.$id())?' id="'+r.$id()+'"':u,s=' class="'+e((c=r.$style(),"qanda"["$==="](c)?["qlist","qanda",r.$role()]:"horizontal"["$==="](c)?["hdlist",r.$role()]:["dlist",r.$style(),r.$role()]).$compact()," ")+'"',l["$<<"]("<div"+o+s+">"),y(r["$title?"]())&&l["$<<"]('<div class="title">'+r.$title()+"</div>"),c=r.$style(),"qanda"["$==="](c)?(l["$<<"]("<ol>"),d(r.$items(),"each",[],((n=function(e,r){var i,$=n.$$s||this;return null==e&&(e=u),null==r&&(r=u),l["$<<"]("<li>"),d([].concat(t.to_a(e)),"each",[],((i=function(t){return i.$$s,null==t&&(t=u),l["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=$,i.$$arity=1,i)),y(r)&&(y(r["$text?"]())&&l["$<<"]("<p>"+r.$text()+"</p>"),y(r["$blocks?"]())&&l["$<<"](r.$content())),l["$<<"]("</li>")}).$$s=this,n.$$arity=2,n)),l["$<<"]("</ol>")):"horizontal"["$==="](c)?(_=this.void_element_slash,l["$<<"]("<table>"),y(y(i=r["$attr?"]("labelwidth"))?i:r["$attr?"]("itemwidth"))&&(l["$<<"]("<colgroup>"),h=y(r["$attr?"]("labelwidth"))?' style="width: '+r.$attr("labelwidth").$chomp("%")+'%;"':u,l["$<<"]("<col"+h+_+">"),h=y(r["$attr?"]("itemwidth"))?' style="width: '+r.$attr("itemwidth").$chomp("%")+'%;"':u,l["$<<"]("<col"+h+_+">"),l["$<<"]("</colgroup>")),d(r.$items(),"each",[],(($=function(e,n){var i,a,o=$.$$s||this,s=u;return null==e&&(e=u),null==n&&(n=u),l["$<<"]("<tr>"),l["$<<"]('<td class="hdlist1'+(y(r["$option?"]("strong"))?" strong":u)+'">'),s=[].concat(t.to_a(e)),a=s["$[]"](-1),d(s,"each",[],((i=function(t){return i.$$s,null==t&&(t=u),l["$<<"](t.$text()),y(t["$!="](a))?l["$<<"]("<br"+_+">"):u}).$$s=o,i.$$arity=1,i)),l["$<<"]("</td>"),l["$<<"]('<td class="hdlist2">'),y(n)&&(y(n["$text?"]())&&l["$<<"]("<p>"+n.$text()+"</p>"),y(n["$blocks?"]())&&l["$<<"](n.$content())),l["$<<"]("</td>"),l["$<<"]("</tr>")}).$$s=this,$.$$arity=2,$)),l["$<<"]("</table>")):(l["$<<"]("<dl>"),p=y(r.$style())?u:' class="hdlist1"',d(r.$items(),"each",[],((a=function(e,r){var n,i=a.$$s||this;return null==e&&(e=u),null==r&&(r=u),d([].concat(t.to_a(e)),"each",[],((n=function(t){return n.$$s,null==t&&(t=u),l["$<<"]("<dt"+p+">"+t.$text()+"</dt>")}).$$s=i,n.$$arity=1,n)),y(r)?(l["$<<"]("<dd>"),y(r["$text?"]())&&l["$<<"]("<p>"+r.$text()+"</p>"),y(r["$blocks?"]())&&l["$<<"](r.$content()),l["$<<"]("</dd>")):u}).$$s=this,a.$$arity=2,a)),l["$<<"]("</dl>")),l["$<<"]("</div>"),e(l,f(ut,"LF"))},A.$$arity=1),t.def(st,"$example",O=function(t){var e,r,n,i;return r=y(t.$id())?' id="'+t.$id()+'"':u,n=y(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u,"<div"+r+' class="exampleblock'+(y(e=i=t.$role())?" "+i:e)+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},O.$$arity=1),t.def(st,"$floating_title",M=function(t){var r;return"<"+(r="h"+$(t.$level(),1))+(y(t.$id())?' id="'+t.$id()+'"':u)+' class="'+e([t.$style(),t.$role()].$compact()," ")+'">'+t.$title()+"</"+r+">"},M.$$arity=1),t.def(st,"$image",S=function(t){var r,n,$,a,o,s,l,_=this,h=u,d=u,p=u,m=u,g=u,v=u,b=u,w=u;return h=t.$attr("target"),a=y(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':u,o=y(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':u,y(y(r=y(n=y($=t["$attr?"]("format","svg",!1))?$:h["$include?"](".svg"))?i(t.$document().$safe(),c(f(ut,"SafeMode"),"SECURE")):n)?y(n=d=t["$option?"]("inline"))?n:p=t["$option?"]("interactive"):r)&&(y(d)?m=y(r=_.$read_svg_contents(t,h))?r:'<span class="alt">'+t.$alt()+"</span>":y(p)&&(g=y(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+_.$encode_quotes(t.$alt())+'"'+a+o+_.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",m='<object type="image/svg+xml" data="'+t.$image_uri(h)+'"'+a+o+">"+g+"</object>")),m=y(r=m)?r:'<img src="'+t.$image_uri(h)+'" alt="'+_.$encode_quotes(t.$alt())+'"'+a+o+_.void_element_slash+">",y(t["$attr?"]("link"))&&(y(t["$attr?"]("window"))&&(v=' target="'+(b=t.$attr("window"))+'"'+(y(y(r=b["$=="]("_blank"))?r:t["$option?"]("noopener"))?' rel="noopener"':"")),m='<a class="image" href="'+t.$attr("link")+'"'+v+">"+m+"</a>"),s=y(t.$id())?' id="'+t.$id()+'"':u,l=' class="'+e(["imageblock",t.$role()].$compact()," ")+'"',w=[],y(t["$attr?"]("align"))&&w["$<<"]("text-align: "+t.$attr("align")),y(t["$attr?"]("float"))&&w["$<<"]("float: "+t.$attr("float")),"<div"+s+l+(y(w["$empty?"]())?u:' style="'+e(w,";")+'"')+'>\n<div class="content">\n'+m+"\n</div>"+(y(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":u)+"\n</div>"},S.$$arity=1),t.def(st,"$listing",T=function(t){var e,r,n,i,$,a=u,o=u,s=u,l=u,c=u,f=u;return r=y(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(o=y(a=t.$attr("language",u,!1))?' data-lang="'+a+'"':u,s=t.$document().$attr("source-highlighter"),"coderay"["$==="](s)?l=' class="CodeRay highlight'+(y(r)?" nowrap":u)+'"':"pygments"["$==="](s)?l=' class="pygments highlight'+(y(r)?" nowrap":u)+'"':"highlightjs"["$==="](s)||"highlight.js"["$==="](s)?(l=' class="highlightjs highlight'+(y(r)?" nowrap":u)+'"',y(a)&&(o=' class="language-'+a+' hljs"'+o)):"prettify"["$==="](s)?(l=' class="prettyprint highlight'+(y(r)?" nowrap":u)+(y(t["$attr?"]("linenums",u,!1))?" linenums":u)+'"',y(a)&&(o=' class="language-'+a+'"'+o)):"html-pipeline"["$==="](s)?(l=y(a)?' lang="'+a+'"':u,o=u):(l=' class="highlight'+(y(r)?" nowrap":u)+'"',y(a)&&(o=' class="language-'+a+'"'+o)),c="<pre"+l+"><code"+o+">",f="</code></pre>"):(c="<pre"+(y(r)?' class="nowrap"':u)+">",f="</pre>"),n=y(t.$id())?' id="'+t.$id()+'"':u,i=y(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u,"<div"+n+' class="listingblock'+(y(e=$=t.$role())?" "+$:e)+'">\n'+i+'<div class="content">\n'+c+t.$content()+f+"\n</div>\n</div>"},T.$$arity=1),t.def(st,"$literal",R=function(t){var e,r,n,i,$;return r=y(t.$id())?' id="'+t.$id()+'"':u,n=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,i=y(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(y(e=$=t.$role())?" "+$:e)+'">\n'+n+'<div class="content">\n<pre'+(y(i)?' class="nowrap"':u)+">"+t.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1),t.def(st,"$stem",I=function(e){var r,n,i,$,a,o,s,l=u;return i=y(e.$id())?' id="'+e.$id()+'"':u,$=y(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":u,n=f(ut,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),a=null==(r=t.to_ary(n))[0]?u:r[0],o=null==r[1]?u:r[1],y(y(r=(l=e.$content())["$start_with?"](a))?l["$end_with?"](o):r)||(l=""+a+l+o),"<div"+i+' class="stemblock'+(y(r=s=e.$role())?" "+s:r)+'">\n'+$+'<div class="content">\n'+l+"\n</div>\n</div>"},I.$$arity=1),t.def(st,"$olist",C=function(t){var r,n,i,$,a,o,s=this,l=u,c=u;return l=[],n=y(t.$id())?' id="'+t.$id()+'"':u,i=' class="'+e(["olist",t.$style(),t.$role()].$compact()," ")+'"',l["$<<"]("<div"+n+i+">"),y(t["$title?"]())&&l["$<<"]('<div class="title">'+t.$title()+"</div>"),$=y(c=t.$list_marker_keyword())?' type="'+c+'"':u,a=y(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':u,o=y(t["$option?"]("reversed"))?s.$append_boolean_attribute("reversed",s.xml_mode):u,l["$<<"]('<ol class="'+t.$style()+'"'+$+a+o+">"),d(t.$items(),"each",[],((r=function(t){return r.$$s,null==t&&(t=u),l["$<<"]("<li>"),l["$<<"]("<p>"+t.$text()+"</p>"),y(t["$blocks?"]())&&l["$<<"](t.$content()),l["$<<"]("</li>")}).$$s=s,r.$$arity=1,r)),l["$<<"]("</ol>"),l["$<<"]("</div>"),e(l,f(ut,"LF"))},C.$$arity=1),t.def(st,"$open",N=function(t){var e,n,i,$=u,a=u,o=u,s=u;return($=t.$style())["$=="]("abstract")?y((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(a=y(t.$id())?' id="'+t.$id()+'"':u,o=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,"<div"+a+' class="quoteblock abstract'+(y(e=s=t.$role())?" "+s:e)+'">\n'+o+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):y((e=$["$=="]("partintro"))?y(n=y(i=r(t.$level(),0))?i:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(a=y(t.$id())?' id="'+t.$id()+'"':u,o=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,"<div"+a+' class="openblock'+(y(y(e=$)?$["$!="]("open"):e)?" "+$:"")+(y(e=s=t.$role())?" "+s:e)+'">\n'+o+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},N.$$arity=1),t.def(st,"$page_break",z=function(t){return'<div style="page-break-after: always;"></div>'},z.$$arity=1),t.def(st,"$paragraph",P=function(t){var e,r;return e=y(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',r=y(t.$id())?'id="'+t.$id()+'" '+e:e,y(t["$title?"]())?"<div "+r+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+r+">\n<p>"+t.$content()+"</p>\n</div>"},P.$$arity=1),t.def(st,"$preamble",B=function(t){var e,r,n=u,i=u;return i=y(y(e=y(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>":u,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},B.$$arity=1),t.def(st,"$quote",q=function(t){var r,n,i,$,a,o,s=this,l=u,c=u;return n=y(t.$id())?' id="'+t.$id()+'"':u,i=' class="'+e(["quoteblock",t.$role()].$compact()," ")+'"',$=y(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u,a=y(t["$attr?"]("attribution"))?t.$attr("attribution"):u,o=y(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u,y(y(r=a)?r:o)?(l=y(o)?"<cite>"+o+"</cite>":u,c='\n<div class="attribution">\n'+(y(a)?"&#8212; "+a+(y(o)?"<br"+s.void_element_slash+">\n":u):u)+l+"\n</div>"):c=u,"<div"+n+i+">"+$+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+c+"\n</div>"},q.$$arity=1),t.def(st,"$thematic_break",D=function(t){return"<hr"+this.void_element_slash+">"},D.$$arity=1),t.def(st,"$sidebar",L=function(t){var e,r,n,i;return r=y(t.$id())?' id="'+t.$id()+'"':u,n=y(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,"<div"+r+' class="sidebarblock'+(y(e=i=t.$role())?" "+i:e)+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},L.$$arity=1),t.def(st,"$table",F=function(t){var n,i,$,a,o,s,l,c,_=u,h=u,p=u,m=u,g=u;return _=[],o=y(t.$id())?' id="'+t.$id()+'"':u,h=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],p=[],y(y(n=t["$option?"]("autowidth"))?t["$attr?"]("width",u,!1)["$!"]():n)||(y(t["$attr?"]("tablepcwidth",100))?h["$<<"]("spread"):p["$<<"]("width: "+t.$attr("tablepcwidth")+"%;")),y(s=t.$role())&&h["$<<"](s),l=' class="'+e(h," ")+'"',y(t["$attr?"]("float"))&&p["$<<"]("float: "+t.$attr("float")+";"),c=y(p["$empty?"]())?u:' style="'+e(p," ")+'"',_["$<<"]("<table"+o+l+c+">"),y(t["$title?"]())&&_["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),y(r(t.$attr("rowcount"),0))&&(m=this.void_element_slash,_["$<<"]("<colgroup>"),y(t["$option?"]("autowidth"))?(g="<col"+m+">",d(t.$columns().$size(),"times",[],((i=function(){return i.$$s,_["$<<"](g)}).$$s=this,i.$$arity=0,i))):d(t.$columns(),"each",[],(($=function(t){return $.$$s,null==t&&(t=u),_["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+m+">")}).$$s=this,$.$$arity=1,$)),_["$<<"]("</colgroup>"),d(t.$rows().$by_section(),"each",[],((a=function(r,n){var i,$=a.$$s||this;return null==r&&(r=u),null==n&&(n=u),y(n["$empty?"]())?u:(_["$<<"]("<t"+r+">"),d(n,"each",[],((i=function(n){var $,a=i.$$s||this;return null==n&&(n=u),_["$<<"]("<tr>"),d(n,"each",[],(($=function(n){$.$$s;var i,a,o,s,l,c,f=u,h=u;return null==n&&(n=u),r["$=="]("head")?f=n.$text():(h=n.$style(),f="asciidoc"["$==="](h)?"<div>"+n.$content()+"</div>":"verse"["$==="](h)?'<div class="verse">'+n.$text()+"</div>":"literal"["$==="](h)?'<div class="literal"><pre>'+n.$text()+"</pre></div>":y((f=n.$content())["$empty?"]())?"":'<p class="tableblock">'+e(f,'</p>\n<p class="tableblock">')+"</p>"),a=y(y(i=r["$=="]("head"))?i:n.$style()["$=="]("header"))?"th":"td",o=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',s=y(n.$colspan())?' colspan="'+n.$colspan()+'"':u,l=y(n.$rowspan())?' rowspan="'+n.$rowspan()+'"':u,c=y(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':u,_["$<<"]("<"+a+o+s+l+c+">"+f+"</"+a+">")}).$$s=a,$.$$arity=1,$)),_["$<<"]("</tr>")}).$$s=$,i.$$arity=1,i)),_["$<<"]("</t"+r+">"))}).$$s=this,a.$$arity=2,a))),_["$<<"]("</table>"),e(_,f(ut,"LF"))},F.$$arity=1),t.def(st,"$toc",j=function(t){var e,r,n,i,$=u,a=u,o=u;return y(y(e=y(r=($=t.$document())["$attr?"]("toc-placement","macro"))?$["$sections?"]():r)?$["$attr?"]("toc"):e)?(y(t.$id())?(a=' id="'+t.$id()+'"',o=' id="'+t.$id()+'title"'):(a=' id="toc"',o=' id="toctitle"'),n=y(t["$title?"]())?t.$title():$.$attr("toc-title"),i=y(t["$attr?"]("levels"))?t.$attr("levels").$to_i():u,"<div"+a+' class="'+(y(t["$role?"]())?t.$role():$.$attr("toc-class","toc"))+'">\n<div'+o+' class="title">'+n+"</div>\n"+this.$outline($,p(["toclevels"],{toclevels:i}))+"\n</div>"):"<!-- toc disabled -->"},j.$$arity=1),t.def(st,"$ulist",U=function(t){var r,n,i,$=u,a=u,o=u,s=u,l=u;return $=[],n=y(t.$id())?' id="'+t.$id()+'"':u,a=["ulist",t.$style(),t.$role()].$compact(),o=u,s=u,y(i=t["$option?"]("checklist"))?(a.$unshift(a.$shift(),"checklist"),l=' class="checklist"',y(t["$option?"]("interactive"))?y(this.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',s='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',s='<input type="checkbox" data-item-complete="0"> '):y(t.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',s='<i class="fa fa-square-o"></i> '):(o="&#10003; ",s="&#10063; ")):l=y(t.$style())?' class="'+t.$style()+'"':u,$["$<<"]("<div"+n+' class="'+e(a," ")+'">'),y(t["$title?"]())&&$["$<<"]('<div class="title">'+t.$title()+"</div>"),$["$<<"]("<ul"+l+">"),d(t.$items(),"each",[],((r=function(t){var e;return r.$$s,null==t&&(t=u),$["$<<"]("<li>"),y(y(e=i)?t["$attr?"]("checkbox"):e)?$["$<<"]("<p>"+(y(t["$attr?"]("checked"))?o:s)+t.$text()+"</p>"):$["$<<"]("<p>"+t.$text()+"</p>"),y(t["$blocks?"]())&&$["$<<"](t.$content()),$["$<<"]("</li>")}).$$s=this,r.$$arity=1,r)),$["$<<"]("</ul>"),$["$<<"]("</div>"),e($,f(ut,"LF"))},U.$$arity=1),t.def(st,"$verse",H=function(t){var r,n,i,$,a,o,s=this,l=u,c=u;return n=y(t.$id())?' id="'+t.$id()+'"':u,i=' class="'+e(["verseblock",t.$role()].$compact()," ")+'"',$=y(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u,a=y(t["$attr?"]("attribution"))?t.$attr("attribution"):u,o=y(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u,y(y(r=a)?r:o)?(l=y(o)?"<cite>"+o+"</cite>":u,c='\n<div class="attribution">\n'+(y(a)?"&#8212; "+a+(y(o)?"<br"+s.void_element_slash+">\n":u):u)+l+"\n</div>"):c=u,"<div"+n+i+">"+$+'\n<pre class="content">'+t.$content()+"</pre>"+c+"\n</div>"},H.$$arity=1),t.def(st,"$video",G=function(r){var n,i,$,a,o,s,l,c,f,_=this,h=u,d=u,p=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,M=u,S=u,T=u,R=u,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u;return $=_.xml_mode,a=y(r.$id())?' id="'+r.$id()+'"':u,o=["videoblock",r.$role()].$compact(),s=' class="'+e(o," ")+'"',l=y(r["$title?"]())?'\n<div class="title">'+r.$title()+"</div>":u,c=y(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':u,f=y(r["$attr?"]("height"))?' height="'+r.$attr("height")+'"':u,h=r.$attr("poster"),"vimeo"["$==="](h)?(y((d=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(d+=":"),p=y(r["$attr?"]("start",u,!1))?"#at="+r.$attr("start"):u,m="?",g=y(r["$option?"]("autoplay"))?m+"autoplay=1":u,y(g)&&(m="&amp;"),v=y(r["$option?"]("loop"))?m+"loop=1":u,"<div"+a+s+">"+l+'\n<div class="content">\n<iframe'+c+f+' src="'+d+"//player.vimeo.com/video/"+r.$attr("target")+p+g+v+'" frameborder="0"'+(y(r["$option?"]("nofullscreen"))?u:_.$append_boolean_attribute("allowfullscreen",$))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](h)?(y((d=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(d+=":"),b=y(r["$option?"]("related"))?1:0,w=y(r["$attr?"]("start",u,!1))?"&amp;start="+r.$attr("start"):u,E=y(r["$attr?"]("end",u,!1))?"&amp;end="+r.$attr("end"):u,g=y(r["$option?"]("autoplay"))?"&amp;autoplay=1":u,v=y(r["$option?"]("loop"))?"&amp;loop=1":u,k=y(r["$option?"]("nocontrols"))?"&amp;controls=0":u,y(r["$option?"]("nofullscreen"))?(x="&amp;fs=0",A=u):(x=u,A=_.$append_boolean_attribute("allowfullscreen",$)),O=y(r["$option?"]("modest"))?"&amp;modestbranding=1":u,M=y(r["$attr?"]("theme",u,!1))?"&amp;theme="+r.$attr("theme"):u,S=y(r["$attr?"]("lang"))?"&amp;hl="+r.$attr("lang"):u,i=r.$attr("target").$split("/",2),n=t.to_ary(i),T=null==n[0]?u:n[0],R=null==n[1]?u:n[1],y(R=y(n=R)?n:r.$attr("list",u,!1))?I="&amp;list="+R:(i=T.$split(",",2),n=t.to_ary(i),T=null==n[0]?u:n[0],C=null==n[1]?u:n[1],I=y(C=y(n=C)?n:r.$attr("playlist",u,!1))?"&amp;playlist="+C:y(v)?"&amp;playlist="+T:u),"<div"+a+s+">"+l+'\n<div class="content">\n<iframe'+c+f+' src="'+d+"//www.youtube.com/embed/"+T+"?rel="+b+w+E+g+v+k+I+x+O+M+S+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"):(N=y((z=r.$attr("poster",u,!1))["$nil_or_empty?"]())?u:' poster="'+r.$media_uri(z)+'"',P=y((z=r.$attr("preload",u,!1))["$nil_or_empty?"]())?u:' preload="'+z+'"',B=r.$attr("start",u,!1),q=r.$attr("end",u,!1),D=y(y(n=B)?n:q)?"#t="+B+(y(q)?",":u)+q:u,"<div"+a+s+">"+l+'\n<div class="content">\n<video src="'+r.$media_uri(r.$attr("target"))+D+'"'+c+f+N+(y(r["$option?"]("autoplay"))?_.$append_boolean_attribute("autoplay",$):u)+(y(r["$option?"]("nocontrols"))?u:_.$append_boolean_attribute("controls",$))+(y(r["$option?"]("loop"))?_.$append_boolean_attribute("loop",$):u)+P+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},G.$$arity=1),t.def(st,"$inline_anchor",Y=function(t){var e,r,n=this,i=u,$=u,a=u,o=u,s=u,l=u,c=u;return i=t.$type(),"xref"["$==="](i)?(y(y(e=$=t.$text())?e:$=t.$attributes()["$[]"]("path"))||($=y(f(ut,"AbstractNode")["$==="](a=t.$document().$catalog()["$[]"]("refs")["$[]"](o=t.$attributes()["$[]"]("refid"))))&&y(e=a.$xreftext(n.xrefstyle=y(r=n.xrefstyle)?r:t.$document().$attributes()["$[]"]("xrefstyle")))?e:"["+o+"]"),'<a href="'+t.$target()+'">'+$+"</a>"):"ref"["$==="](i)?'<a id="'+t.$id()+'"></a>':"link"["$==="](i)?(s=y(t.$id())?[' id="'+t.$id()+'"']:[],y(l=t.$role())&&s["$<<"](' class="'+l+'"'),y(t["$attr?"]("title",u,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),y(t["$attr?"]("window",u,!1))&&s["$<<"](' target="'+(c=t.$attr("window"))+'"'+(y(y(e=c["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),'<a href="'+t.$target()+'"'+s.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](i)?'<a id="'+t.$id()+'"></a>'+t.$text():n.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())},Y.$$arity=1),t.def(st,"$inline_break",W=function(t){return t.$text()+"<br"+this.void_element_slash+">"},W.$$arity=1),t.def(st,"$inline_button",X=function(t){return'<b class="button">'+t.$text()+"</b>"},X.$$arity=1),t.def(st,"$inline_callout",K=function(t){return y(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":y(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":'<b class="conum">('+t.$text()+")</b>"},K.$$arity=1),t.def(st,"$inline_footnote",V=function(t){var e;return y(e=t.$attr("index",u,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(y(t.$id())?' id="_footnote_'+t.$id()+'"':u)+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":u},V.$$arity=1),t.def(st,"$inline_image",J=function(t){var e,r,n,$,a,o,s,l=this,_=u,h=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u;return y((e=(_=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(_=t.$type())["$=="]("icon"))?(h="fa fa-"+t.$target(),d(p(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((r=function(e,n){return r.$$s,null==e&&(e=u),null==n&&(n=u),y(t["$attr?"](e))?h=h+" "+n+t.$attr(e):u}).$$s=l,r.$$arity=2,r)),m=y(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':u,g='<i class="'+h+'"'+m+"></i>"):y((e=_["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():_["$=="]("icon"))?g="["+t.$alt()+"]":(v=t.$target(),b=d(["width","height","title"],"map",[],(n=function(e){return n.$$s,null==e&&(e=u),y(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':u},n.$$s=l,n.$$arity=1,n)).$join(),y(y(e=y($=y(a=_["$!="]("icon"))?y(o=t["$attr?"]("format","svg",!1))?o:v["$include?"](".svg"):a)?i(t.$document().$safe(),c(f(ut,"SafeMode"),"SECURE")):$)?y($=w=t["$option?"]("inline"))?$:E=t["$option?"]("interactive"):e)&&(y(w)?g=y(e=l.$read_svg_contents(t,v))?e:'<span class="alt">'+t.$alt()+"</span>":y(E)&&(k=y(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+l.$encode_quotes(t.$alt())+'"'+b+l.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",g='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+b+">"+k+"</object>")),g=y(e=g)?e:'<img src="'+(_["$=="]("icon")?t.$icon_uri(v):t.$image_uri(v))+'" alt="'+l.$encode_quotes(t.$alt())+'"'+b+l.void_element_slash+">"),y(t["$attr?"]("link"))&&(y(t["$attr?"]("window"))&&(x=' target="'+(A=t.$attr("window"))+'"'+(y(y(e=A["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),g='<a class="image" href="'+t.$attr("link")+'"'+x+">"+g+"</a>"),h=y(O=t.$role())?_+" "+O:_,s=y(t["$attr?"]("float"))?' style="float: '+t.$attr("float")+'"':u,'<span class="'+h+'"'+s+">"+g+"</span>"},J.$$arity=1),t.def(st,"$inline_indexterm",Z=function(t){return t.$type()["$=="]("visible")?t.$text():""},Z.$$arity=1),t.def(st,"$inline_kbd",Q=function(t){var r=u;return(r=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+r["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e(r,"</kbd>+<kbd>")+"</kbd></span>"},Q.$$arity=1),t.def(st,"$inline_menu",tt=function(t){var r,n,i,$,a=u;return n="</b>"+(r=y(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',i=t.$attr("menu"),y(($=t.$attr("submenus"))["$empty?"]())?y(a=t.$attr("menuitem",u,!1))?'<span class="menuseq"><b class="menu">'+i+"</b>"+r+'<b class="menuitem">'+a+"</b></span>":'<b class="menuref">'+i+"</b>":'<span class="menuseq"><b class="menu">'+i+"</b>"+r+'<b class="submenu">'+e($,n)+"</b>"+r+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},tt.$$arity=1),t.def(st,"$inline_quoted",et=function(e){var r,n,i,$,a=u,o=u;return n=f(ut,"QUOTE_TAGS")["$[]"](e.$type()),a=null==(r=t.to_ary(n))[0]?u:r[0],i=null==r[1]?u:r[1],$=null==r[2]?u:r[2],o=y(e.$role())?y($)?a.$chop()+' class="'+e.$role()+'">'+e.$text()+i:'<span class="'+e.$role()+'">'+a+e.$text()+i+"</span>":""+a+e.$text()+i,y(e.$id())?'<a id="'+e.$id()+'"></a>'+o:o},et.$$arity=1),t.def(st,"$append_boolean_attribute",rt=function(t,e){return y(e)?" "+t+'="'+t+'"':" "+t},rt.$$arity=2),t.def(st,"$encode_quotes",nt=function(t){return y(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},nt.$$arity=1),t.def(st,"$read_svg_contents",it=function(e,r){var n,i=u,$=u,a=u;return y(i=e.$read_contents(r,p(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(y(i["$start_with?"]("<svg"))||(i=i.$sub(f(ut,"SvgPreambleRx"),"")),$=a=u,d(["width","height"],"each",[],((n=function(t){return n.$$s,null==t&&(t=u),y(e["$attr?"](t))?(y(a)||(a=($=i.$match(f(ut,"SvgStartTagRx"))["$[]"](0)).$gsub(f(ut,"DimensionAttributeRx"),"")),a=a.$chop()+" "+t+'="'+e.$attr(t)+'px">'):u}).$$s=this,n.$$arity=1,n)),y(a)&&(i=""+a+i["$[]"](t.Range.$new($.$length(),-1,!1)))),i},it.$$arity=2)}(f(s,"Converter"),c(f(s,"Converter"),"BuiltIn"),s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e);
}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var $,a,o,s,l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,X,K,V,J,Z,Q=[],tt=t.nil,et=t.const_get_qualified,rt=t.const_get_relative,nt=(t.breaker,t.slice,t.module),it=t.klass,$t=t.truthy,at=t.hash2,ot=t.send,st=t.hash;return t.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$==","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$>","$key?","$attributes","$special","$context","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$to_s","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$!","$resolve_regexp","$match?","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$private","$join","$map","$capitalize","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$const_defined?"]),$=Q,(J=nt(Q[0],"Asciidoctor")).$$proto,Z=[J].concat($),f=Z[0],_=Z,(K=nt(f,"Extensions")).$$proto,function(i,$,a){function o(){}var s,l,u,c,f,_,h,d,p,y=o=it(i,null,"Processor",o),m=y.$$proto,g=[y].concat(a);m.config=tt,function(r,n){r.$$proto;var i,$,a,o=[r].concat(n);t.def(r,"$config",i=function(){var t;return null==this.config&&(this.config=tt),this.config=$t(t=this.config)?t:at([],{})},i.$$arity=0),t.def(r,"$option",$=function(r,n){var i;return i=[r,n],ot(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},$.$$arity=2),t.def(r,"$use_dsl",a=function(){return $t(this.$name()["$nil_or_empty?"]())?$t((t.Module.$$nesting=o,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):tt:$t((t.Module.$$nesting=o,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):tt},a.$$arity=0),t.alias(r,"extend_dsl","use_dsl"),t.alias(r,"include_dsl","use_dsl")}(t.get_singleton_class(y),g),y.$attr_reader("config"),t.def(y,"$initialize",s=function(t){return null==t&&(t=at([],{})),this.config=this.$class().$config().$merge(t)},s.$$arity=-1),t.def(y,"$update_config",l=function(t){return this.config.$update(t)},l.$$arity=1),t.def(y,"$process",u=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},u.$$arity=-1),t.def(y,"$create_section",c=function i($,a,o,s){var l,u,c,i=tt,f=tt,_=tt,h=tt,d=tt,p=tt,y=tt,m=tt;return null==s&&(s=at([],{})),i=$.$document(),f=(l=[i.$doctype(),$t(u=s["$[]"]("level"))?u:r($.$level(),1)])[0],_=l[1],$t(h=o.$delete("style"))?$t((l=h["$=="]("abstract"))?f["$=="]("book"):h["$=="]("abstract"))?(d=(l=["chapter",1])[0],_=l[1]):(d=(l=[h,!0])[0],p=l[1],_["$=="](0)&&(_=1)):f["$=="]("book")?d=_["$=="](0)?"part":_["$=="](1)?"chapter":"section":$t((l=f["$=="]("manpage"))?a.$casecmp("synopsis")["$=="](0):f["$=="]("manpage"))?(d=(l=["synopsis",!0])[0],p=l[1]):d="section",y=rt(g,"Section").$new($,_,!1),l=[a,d],y["$title="](l[0]),y["$sectname="](l[1]),$t(p)?(m=[!0],ot(y,"special=",t.to_a(m)),m[e(m.length,1)],$t(s.$fetch("numbered",h["$=="]("appendix")))&&(m=[!0],ot(y,"numbered=",t.to_a(m)),m[e(m.length,1)])):$t(s.$fetch("numbered",$t(l=n(_,0))?i.$attributes()["$key?"]("sectnums"):l))&&(m=[!$t(y.$special())||((l=$.$context()["$=="]("section"))?$.$numbered():$.$context()["$=="]("section"))],ot(y,"numbered=",t.to_a(m)),m[e(m.length,1)]),(c=o.$delete("id"))["$=="](!1)||(m=[(m=["id",$t(l=c)?l:$t(i.$attributes()["$key?"]("sectids"))?rt(g,"Section").$generate_id(y.$title(),i):tt],ot(o,"[]=",t.to_a(m)),m[e(m.length,1)])],ot(y,"id=",t.to_a(m)),m[e(m.length,1)]),y.$update_attributes(o),y},c.$$arity=-4),t.def(y,"$create_block",f=function(t,e,r,n,i){return null==i&&(i=at([],{})),rt(g,"Block").$new(t,e,at(["source","attributes"],{source:r,attributes:n}).$merge(i))},f.$$arity=-5),t.def(y,"$create_image_block",_=function(r,n,i){var $,a=tt;return null==i&&(i=at([],{})),$t($=n["$[]"]("target"))||this.$raise(et("::","ArgumentError"),"Unable to create an image block, target attribute is required"),$t(n["$[]"]("alt"))||(a=["alt",(a=["default-alt",rt(g,"Helpers").$basename($,!0).$tr("_-"," ")],ot(n,"[]=",t.to_a(a)),a[e(a.length,1)])],ot(n,"[]=",t.to_a(a)),a[e(a.length,1)]),this.$create_block(r,"image",tt,n,i)},_.$$arity=-3),t.def(y,"$create_inline",h=function(t,e,r,n){return null==n&&(n=at([],{})),rt(g,"Inline").$new(t,e,r,n)},h.$$arity=-4),t.def(y,"$parse_content",d=function(t,e,r){var n,i,$=tt,a=tt;for(null==r&&(r=tt),$=$t(rt(g,"Reader")["$==="](e))?e:rt(g,"Reader").$new(e);$t($t(n=$t(i=a=rt(g,"Parser").$next_block($,t,$t(r)?r.$dup():at([],{})))?t["$<<"](a):i)?n:$["$has_more_lines?"]()););return t},d.$$arity=-3),ot([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((p=function(e,r,n){var i,$=p.$$s||this;return null==e&&(e=tt),null==r&&(r=tt),null==n&&(n=tt),ot($,"define_method",[e],((i=function(e){var $,a=i.$$s||this,o=arguments.length,s=o-0;s<0&&(s=0),$=new Array(s);for(var l=0;l<o;l++)$[l-0]=arguments[l];return $.$unshift($.$shift(),n),ot(a,"send",[r].concat(t.to_a($)))}).$$s=$,i.$$arity=-1,i))}).$$s=y,p.$$arity=3,p))}((V=[K].concat(_))[0],0,V),a=V[0],o=V,(c=nt(a,"ProcessorDsl")).$$proto,[c].concat(o),t.def(c,"$option",s=function(r,n){var i;return i=[r,n],ot(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},s.$$arity=2),t.def(c,"$process",l=function(e){var r,n,i=l.$$p,$=i||tt;null==this.process_block&&(this.process_block=tt);var a=arguments.length,o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return i&&(l.$$p=null),$!==tt?($t(n["$empty?"]())||this.$raise(et("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),this.process_block=$):$t(null!=(r=this.process_block)&&r!==tt?"instance-variable":tt)?ot(this.process_block,"call",t.to_a(n)):this.$raise(et("::","NotImplementedError"))},l.$$arity=-1),t.def(c,"$process_block_given?",u=function(){var t;return null!=(t=this.process_block)&&t!==tt?"instance-variable":tt},u.$$arity=0),h=V[0],d=V,(b=nt(h,"SyntaxDsl")).$$proto,w=[b].concat(d),b.$include(rt(w,"ProcessorDsl")),t.def(b,"$named",p=function(t){return $t(rt(w,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},p.$$arity=1),t.alias(b,"match_name","named"),t.def(b,"$content_model",y=function(t){return this.$option("content_model",t)},y.$$arity=1),t.alias(b,"parse_content_as","content_model"),t.alias(b,"parses_content_as","content_model"),t.def(b,"$positional_attrs",m=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$option("pos_attrs",e.$flatten())},m.$$arity=-1),t.alias(b,"name_attributes","positional_attrs"),t.alias(b,"name_positional_attributes","positional_attrs"),t.def(b,"$default_attrs",g=function(t){return this.$option("default_attrs",t)},g.$$arity=1),t.def(b,"$resolves_attributes",v=function(r){var i,$,a,o,s=this,l=tt,u=tt,c=tt,f=arguments.length,_=f-0;_<0&&(_=0),o=new Array(_);for(var h=0;h<f;h++)o[h-0]=arguments[h];return $t(n(o.$size(),1))||$t((o=o.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(o=[o]),(!0)["$==="](l=o)?(s.$option("pos_attrs",[]),s.$option("default_attrs",at([],{}))):et("::","Array")["$==="](l)?(i=[[],at([],{})],u=i[0],c=i[1],ot(o,"each",[],(($=function(r){$.$$s;var n,i,a=tt,o=tt,s=tt,l=tt;return null==r&&(r=tt),$t((r=r.$to_s())["$include?"]("="))?(i=r.$split("=",2),a=null==(n=t.to_ary(i))[0]?tt:n[0],o=null==n[1]?tt:n[1],$t(a["$include?"](":"))&&(i=a.$split(":",2),n=t.to_ary(i),s=null==n[0]?tt:n[0],a=null==n[1]?tt:n[1],l=[s=s["$=="]("@")?u.$size():s.$to_i(),a],ot(u,"[]=",t.to_a(l)),l[e(l.length,1)]),l=[a,o],ot(c,"[]=",t.to_a(l)),l[e(l.length,1)]):$t(r["$include?"](":"))?(i=r.$split(":",2),n=t.to_ary(i),s=null==n[0]?tt:n[0],a=null==n[1]?tt:n[1],l=[s=s["$=="]("@")?u.$size():s.$to_i(),a],ot(u,"[]=",t.to_a(l)),l[e(l.length,1)]):u["$<<"](r)}).$$s=s,$.$$arity=1,$)),s.$option("pos_attrs",u.$compact()),s.$option("default_attrs",c)):et("::","Hash")["$==="](l)?(i=[[],at([],{})],u=i[0],c=i[1],ot(o,"each",[],((a=function(r,n){a.$$s;var i,$,o=tt,s=tt,l=tt;return null==r&&(r=tt),null==n&&(n=tt),$t((o=r.$to_s())["$include?"](":"))&&($=o.$split(":",2),i=t.to_ary($),s=null==i[0]?tt:i[0],o=null==i[1]?tt:i[1],l=[s=s["$=="]("@")?u.$size():s.$to_i(),o],ot(u,"[]=",t.to_a(l)),l[e(l.length,1)]),$t(n)?(l=[o,n],ot(c,"[]=",t.to_a(l)),l[e(l.length,1)]):tt}).$$s=s,a.$$arity=2,a)),s.$option("pos_attrs",u.$compact()),s.$option("default_attrs",c)):s.$raise(et("::","ArgumentError"),"unsupported attributes specification for macro: "+o.$inspect())},v.$$arity=-1),t.alias(b,"resolve_attributes","resolves_attributes"),function(e,r,n){function i(){}var $,a=i=it(e,r,"Preprocessor",i);a.$$proto,[a].concat(n),t.def(a,"$process",$=function(t,e){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},$.$$arity=2)}(V[0],rt(V,"Processor"),V),t.const_set(rt(V,"Preprocessor"),"DSL",rt(V,"ProcessorDsl")),function(e,r,n){function i(){}var $,a=i=it(e,r,"TreeProcessor",i);a.$$proto,[a].concat(n),t.def(a,"$process",$=function(t){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},$.$$arity=1)}(V[0],rt(V,"Processor"),V),t.const_set(rt(V,"TreeProcessor"),"DSL",rt(V,"ProcessorDsl")),t.const_set(V[0],"Treeprocessor",rt(V,"TreeProcessor")),function(e,r,n){function i(){}var $,a=i=it(e,r,"Postprocessor",i);a.$$proto,[a].concat(n),t.def(a,"$process",$=function(t,e){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},$.$$arity=2)}(V[0],rt(V,"Processor"),V),t.const_set(rt(V,"Postprocessor"),"DSL",rt(V,"ProcessorDsl")),function(e,r,n){function i(){}var $,a,o=i=it(e,r,"IncludeProcessor",i);o.$$proto,[o].concat(n),t.def(o,"$process",$=function(t,e,r,n){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},$.$$arity=4),t.def(o,"$handles?",a=function(t){return!0},a.$$arity=1)}(V[0],rt(V,"Processor"),V),E=V[0],k=V,(A=nt(E,"IncludeProcessorDsl")).$$proto,O=[A].concat(k),A.$include(rt(O,"ProcessorDsl")),t.def(A,"$handles?",x=function(t){var e,r,n=x.$$p,i=n||tt;null==this.handles_block&&(this.handles_block=tt);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n&&(x.$$p=null),i!==tt?($t(r["$empty?"]())||this.$raise(et("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=i):!$t((e=this.handles_block,null!=e&&e!==tt?"instance-variable":tt))||this.handles_block.$call(r["$[]"](0))},x.$$arity=-1),t.const_set(rt(V,"IncludeProcessor"),"DSL",rt(V,"IncludeProcessorDsl")),function(r,n,i){function $(){}var a,o,s=$=it(r,n,"DocinfoProcessor",$),l=s.$$proto;[s].concat(i),l.config=tt,s.$attr_accessor("location"),t.def(s,"$initialize",a=function(r){var n,i=a.$$p,$=tt;return null==r&&(r=at([],{})),i&&(a.$$p=null),ot(this,t.find_super_dispatcher(this,"initialize",a,!1),[r],null),$t(n=this.config["$[]"]("location"))?n:($=["location","head"],ot(this.config,"[]=",t.to_a($)),$[e($.length,1)])},a.$$arity=-1),t.def(s,"$process",o=function(t){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},o.$$arity=1)}(V[0],rt(V,"Processor"),V),M=V[0],S=V,(R=nt(M,"DocinfoProcessorDsl")).$$proto,I=[R].concat(S),R.$include(rt(I,"ProcessorDsl")),t.def(R,"$at_location",T=function(t){return this.$option("location",t)},T.$$arity=1),t.const_set(rt(V,"DocinfoProcessor"),"DSL",rt(V,"DocinfoProcessorDsl")),function(r,n,i){function $(){}var a,o,s=$=it(r,n,"BlockProcessor",$),l=s.$$proto;[s].concat(i),l.config=tt,s.$attr_accessor("name"),t.def(s,"$initialize",a=function(r,n){var i,$,o=this,s=a.$$p,l=tt;return null==r&&(r=tt),null==n&&(n=at([],{})),s&&(a.$$p=null),ot(o,t.find_super_dispatcher(o,"initialize",a,!1),[n],null),o.name=$t(i=r)?i:o.config["$[]"]("name"),$=o.config["$[]"]("contexts"),et("::","NilClass")["$==="]($)?$t(i=o.config["$[]"]("contexts"))||(l=["contexts",["open","paragraph"].$to_set()],ot(o.config,"[]=",t.to_a(l)),l[e(l.length,1)]):et("::","Symbol")["$==="]($)?(l=["contexts",[o.config["$[]"]("contexts")].$to_set()],ot(o.config,"[]=",t.to_a(l)),l[e(l.length,1)]):(l=["contexts",o.config["$[]"]("contexts").$to_set()],ot(o.config,"[]=",t.to_a(l)),l[e(l.length,1)]),$t(i=o.config["$[]"]("content_model"))?i:(l=["content_model","compound"],ot(o.config,"[]=",t.to_a(l)),l[e(l.length,1)])},a.$$arity=-1),t.def(s,"$process",o=function(t,e,r){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},o.$$arity=3)}(V[0],rt(V,"Processor"),V),C=V[0],N=V,(P=nt(C,"BlockProcessorDsl")).$$proto,B=[P].concat(N),P.$include(rt(B,"SyntaxDsl")),t.def(P,"$contexts",z=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return this.$option("contexts",e.$flatten().$to_set())},z.$$arity=-1),t.alias(P,"on_contexts","contexts"),t.alias(P,"on_context","contexts"),t.alias(P,"bound_to","contexts"),t.const_set(rt(V,"BlockProcessor"),"DSL",rt(V,"BlockProcessorDsl")),function(r,n,i){function $(){}var a,o,s=$=it(r,n,"MacroProcessor",$),l=s.$$proto;[s].concat(i),l.config=tt,s.$attr_accessor("name"),t.def(s,"$initialize",a=function(r,n){var i,$=a.$$p,o=tt;return null==r&&(r=tt),null==n&&(n=at([],{})),$&&(a.$$p=null),ot(this,t.find_super_dispatcher(this,"initialize",a,!1),[n],null),this.name=$t(i=r)?i:this.config["$[]"]("name"),$t(i=this.config["$[]"]("content_model"))?i:(o=["content_model","attributes"],ot(this.config,"[]=",t.to_a(o)),o[e(o.length,1)])},a.$$arity=-1),t.def(s,"$process",o=function(t,e,r){return this.$raise(et("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},o.$$arity=3)}(V[0],rt(V,"Processor"),V),q=V[0],D=V,(F=nt(q,"MacroProcessorDsl")).$$proto,j=[F].concat(D),F.$include(rt(j,"SyntaxDsl")),t.def(F,"$resolves_attributes",L=function(e){var r,n,i=L.$$p,$=tt,a=tt,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];for(i&&(L.$$p=null),a=0,n=arguments.length,$=new Array(n);a<n;a++)$[a]=arguments[a];return $t(r.$size()["$=="](1)?r["$[]"](0)["$!"]():r.$size()["$=="](1))?(this.$option("content_model","text"),tt):(ot(this,t.find_super_dispatcher(this,"resolves_attributes",L,!1),$,i),this.$option("content_model","attributes"))},L.$$arity=-1),t.alias(F,"resolve_attributes","resolves_attributes"),function(t,e,r){function n(){}var i=n=it(t,e,"BlockMacroProcessor",n);i.$$proto,[i].concat(r)}(V[0],rt(V,"MacroProcessor"),V),t.const_set(rt(V,"BlockMacroProcessor"),"DSL",rt(V,"MacroProcessorDsl")),function(r,n,i){function $(){}var a,o,s=$=it(r,n,"InlineMacroProcessor",$),l=s.$$proto,u=[s].concat(i);l.config=l.name=tt,t.class_variable_set($,"@@rx_cache",at([],{})),t.def(s,"$regexp",a=function(){var r,n=tt;return $t(r=this.config["$[]"]("regexp"))?r:(n=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],ot(this.config,"[]=",t.to_a(n)),n[e(n.length,1)])},a.$$arity=0),t.def(s,"$resolve_regexp",o=function r(n,i){var a,o,r=tt;return $t(rt(u,"MacroNameRx")["$match?"](n))||this.$raise(et("::","ArgumentError"),"invalid name for inline macro: "+n),$t(a=(null==(o=$.$$cvars["@@rx_cache"])?tt:o)["$[]"]([n,i]))?a:(r=[[n,i],new RegExp("\\\\?"+n+":"+(i["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],ot(null==(o=$.$$cvars["@@rx_cache"])?tt:o,"[]=",t.to_a(r)),r[e(r.length,1)])},o.$$arity=2)}(V[0],rt(V,"MacroProcessor"),V),U=V[0],H=V,(W=nt(U,"InlineMacroProcessorDsl")).$$proto,X=[W].concat(H),W.$include(rt(X,"MacroProcessorDsl")),t.def(W,"$with_format",G=function(t){return this.$option("format",t)},G.$$arity=1),t.alias(W,"using_format","with_format"),t.def(W,"$matches",Y=function(t){return this.$option("regexp",t)},Y.$$arity=1),t.alias(W,"match","matches"),t.alias(W,"matching","matches"),t.const_set(rt(V,"InlineMacroProcessor"),"DSL",rt(V,"InlineMacroProcessorDsl")),function(e,r,n){function i(){}var $,a=i=it(e,null,"Extension",i);a.$$proto,[a].concat(n),a.$attr_reader("kind"),a.$attr_reader("config"),a.$attr_reader("instance"),t.def(a,"$initialize",$=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},$.$$arity=3)}(V[0],0,V),function(e,r,n){function i(){}var $,a=i=it(e,r,"ProcessorExtension",i);a.$$proto,[a].concat(n),a.$attr_reader("process_method"),t.def(a,"$initialize",$=function(e,r,n){var i,a=$.$$p;return null==n&&(n=tt),a&&($.$$p=null),ot(this,t.find_super_dispatcher(this,"initialize",$,!1),[e,r,r.$config()],null),this.process_method=$t(i=n)?i:r.$method("process")},$.$$arity=-3)}(V[0],rt(V,"Extension"),V),function(e,r,n){function i(){}var $,a=i=it(e,null,"Group",i),o=(a.$$proto,[a].concat(n));!function(e,r){e.$$proto;var n,i=[e].concat(r);t.def(e,"$register",n=function(t){return null==t&&(t=tt),rt(i,"Extensions").$register(t,this)},n.$$arity=-1)}(t.get_singleton_class(a),o),t.def(a,"$activate",$=function(t){return this.$raise(et("::","NotImplementedError"))},$.$$arity=1)}(V[0],0,V),function($,a,o){function s(){}var l,u,c,f,_,h,d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N,z,P,B,q,D,L,F,j,U=s=it($,null,"Registry",s),H=U.$$proto,G=[U].concat(o);H.groups=H.preprocessor_extensions=H.tree_processor_extensions=H.postprocessor_extensions=H.include_processor_extensions=H.docinfo_processor_extensions=H.block_extensions=H.block_macro_extensions=H.inline_macro_extensions=tt,U.$attr_reader("document"),U.$attr_reader("groups"),t.def(U,"$initialize",l=function(t){var e=this;return null==t&&(t=at([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=tt,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=tt,e.document=tt},l.$$arity=-1),t.def(U,"$activate",u=function(t){var e;return this.document=t,ot(r(rt(G,"Extensions").$groups().$values(),this.groups.$values()),"each",[],((e=function(t){var r=e.$$s||this,n=tt;return null==t&&(t=tt),n=t,et("::","Proc")["$==="](n)?(n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?ot(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):tt):et("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r)}).$$s=this,e.$$arity=1,e)),this},u.$$arity=1),t.def(U,"$preprocessor",c=function(t){var e,r=c.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(c.$$p=null),ot(this,"add_document_processor",["preprocessor",e],n.$to_proc())},c.$$arity=-1),t.def(U,"$preprocessors?",f=function(){return this.preprocessor_extensions["$!"]()["$!"]()},f.$$arity=0),t.def(U,"$preprocessors",_=function(){return this.preprocessor_extensions},_.$$arity=0),t.def(U,"$tree_processor",h=function(t){var e,r=h.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(h.$$p=null),ot(this,"add_document_processor",["tree_processor",e],n.$to_proc())},h.$$arity=-1),t.def(U,"$tree_processors?",d=function(){return this.tree_processor_extensions["$!"]()["$!"]()},d.$$arity=0),t.def(U,"$tree_processors",p=function(){return this.tree_processor_extensions},p.$$arity=0),t.alias(U,"treeprocessor","tree_processor"),t.alias(U,"treeprocessors?","tree_processors?"),t.alias(U,"treeprocessors","tree_processors"),t.def(U,"$postprocessor",y=function(t){var e,r=y.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(y.$$p=null),ot(this,"add_document_processor",["postprocessor",e],n.$to_proc())},y.$$arity=-1),t.def(U,"$postprocessors?",m=function(){return this.postprocessor_extensions["$!"]()["$!"]()},m.$$arity=0),t.def(U,"$postprocessors",g=function(){return this.postprocessor_extensions},g.$$arity=0),t.def(U,"$include_processor",v=function(t){var e,r=v.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(v.$$p=null),ot(this,"add_document_processor",["include_processor",e],n.$to_proc())},v.$$arity=-1),t.def(U,"$include_processors?",b=function(){return this.include_processor_extensions["$!"]()["$!"]()},b.$$arity=0),t.def(U,"$include_processors",w=function(){return this.include_processor_extensions},w.$$arity=0),t.def(U,"$docinfo_processor",E=function(t){var e,r=E.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(E.$$p=null),ot(this,"add_document_processor",["docinfo_processor",e],n.$to_proc())},E.$$arity=-1),t.def(U,"$docinfo_processors?",k=function(t){var e;return null==t&&(t=tt),!!$t(this.docinfo_processor_extensions)&&(!$t(t)||ot(this.docinfo_processor_extensions,"any?",[],((e=function(r){return e.$$s,null==r&&(r=tt),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)))},k.$$arity=-1),t.def(U,"$docinfo_processors",x=function(t){var e;return null==t&&(t=tt),$t(this.docinfo_processor_extensions)?$t(t)?ot(this.docinfo_processor_extensions,"select",[],((e=function(r){return e.$$s,null==r&&(r=tt),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:tt},x.$$arity=-1),t.def(U,"$block",A=function(t){var e,r=A.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(A.$$p=null),ot(this,"add_syntax_processor",["block",e],n.$to_proc())},A.$$arity=-1),t.def(U,"$blocks?",O=function(){return this.block_extensions["$!"]()["$!"]()},O.$$arity=0),t.def(U,"$registered_for_block?",M=function(t,e){var r=tt;return!!$t(r=this.block_extensions["$[]"](t.$to_sym()))&&!!$t(r.$config()["$[]"]("contexts")["$include?"](e))&&r},M.$$arity=2),t.def(U,"$find_block_extension",S=function(t){return this.block_extensions["$[]"](t.$to_sym())},S.$$arity=1),t.def(U,"$block_macro",T=function(t){var e,r=T.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(T.$$p=null),ot(this,"add_syntax_processor",["block_macro",e],n.$to_proc())},T.$$arity=-1),t.def(U,"$block_macros?",R=function(){return this.block_macro_extensions["$!"]()["$!"]()},R.$$arity=0),t.def(U,"$registered_for_block_macro?",I=function(t){var e;return!!$t(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},I.$$arity=1),t.def(U,"$find_block_macro_extension",C=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},C.$$arity=1),t.def(U,"$inline_macro",N=function(t){var e,r=N.$$p,n=r||tt,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];return r&&(N.$$p=null),ot(this,"add_syntax_processor",["inline_macro",e],n.$to_proc())},N.$$arity=-1),t.def(U,"$inline_macros?",z=function(){return this.inline_macro_extensions["$!"]()["$!"]()},z.$$arity=0),t.def(U,"$registered_for_inline_macro?",P=function(t){var e;return!!$t(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},P.$$arity=1),t.def(U,"$find_inline_macro_extension",B=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},B.$$arity=1),t.def(U,"$inline_macros",q=function(){return this.inline_macro_extensions.$values()},q.$$arity=0),U.$private(),t.def(U,"$add_document_processor",D=function(e,r){var n,$,a,o,s=this,l=D.$$p,u=l||tt,c=tt,f=tt,_=tt,h=tt,d=tt,p=tt,y=tt,m=tt,g=tt;return l&&(D.$$p=null),c=e.$to_s().$tr("_"," "),o=ot(c.$split(),"map",[],(n=function(t){return n.$$s,null==t&&(t=tt),t.$capitalize()},n.$$s=s,n.$$arity=1,n)).$join().$to_sym(),f=rt(G,"Extensions").$const_get(o),_=$t(et("::","AsciidoctorJ","skip_raise")?"constant":tt)?et(et("::","AsciidoctorJ"),"Extensions").$const_get(o):tt,h=$t($=s.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?$:s.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(d=u!==tt?(p=s.$resolve_args(r,1),y=f.$new(p),$t(f.$constants().$grep("DSL"))&&y.$extend(f.$const_get("DSL")),ot(y,"instance_exec",[],u.$to_proc()),y.$freeze(),$t(y["$process_block_given?"]())||s.$raise(et("::","ArgumentError"),"No block specified to process "+c+" extension at "+u.$source_location()),rt(G,"ProcessorExtension").$new(e,y)):(a=s.$resolve_args(r,2),$=t.to_ary(a),y=null==$[0]?tt:$[0],p=null==$[1]?tt:$[1],$t(m=rt(G,"Extensions").$resolve_class(y))?($t($t($=i(m,f))?$:$t(a=_)?i(m,_):a)||s.$raise(et("::","ArgumentError"),"Invalid type for "+c+" extension: "+y),(g=m.$new(p)).$freeze(),rt(G,"ProcessorExtension").$new(e,g)):$t($t($=f["$==="](y))?$:$t(a=_)?_["$==="](y):a)?(y.$update_config(p),y.$freeze(),rt(G,"ProcessorExtension").$new(e,y)):s.$raise(et("::","ArgumentError"),"Invalid arguments specified for registering "+c+" extension: "+r))).$config()["$[]"]("position")["$=="](">>")?h.$unshift(d):h["$<<"](d)},D.$$arity=2),t.def(U,"$add_syntax_processor",L=function(r,n){var $,a,o,s,l,u=this,c=L.$$p,f=c||tt,_=tt,h=tt,d=tt,p=tt,y=tt,m=tt,g=tt,v=tt,b=tt;return c&&(L.$$p=null),_=r.$to_s().$tr("_"," "),s=ot(_.$split(),"map",[],($=function(t){return $.$$s,null==t&&(t=tt),t.$capitalize()},$.$$s=u,$.$$arity=1,$)).$push("Processor").$join().$to_sym(),h=rt(G,"Extensions").$const_get(s),d=$t(et("::","AsciidoctorJ","skip_raise")?"constant":tt)?et(et("::","AsciidoctorJ"),"Extensions").$const_get(s):tt,l=$t(a=u.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?a:u.$instance_variable_set(("@"+r+"_extensions").$to_sym(),at([],{})),f!==tt?(o=u.$resolve_args(n,2),a=t.to_ary(o),p=null==a[0]?tt:a[0],y=null==a[1]?tt:a[1],m=h.$new(u.$as_symbol(p),y),$t(h.$constants().$grep("DSL"))&&m.$extend(h.$const_get("DSL")),f.$arity()["$=="](1)?t.yield1(f,m):ot(m,"instance_exec",[],f.$to_proc()),$t(p=u.$as_symbol(m.$name()))||u.$raise(et("::","ArgumentError"),"No name specified for "+_+" extension at "+f.$source_location()),$t(m["$process_block_given?"]())||u.$raise(et("::","NoMethodError"),"No block specified to process "+_+" extension at "+f.$source_location()),m.$freeze(),g=[p,rt(G,"ProcessorExtension").$new(r,m)],ot(l,"[]=",t.to_a(g)),g[e(g.length,1)]):(o=u.$resolve_args(n,3),a=t.to_ary(o),m=null==a[0]?tt:a[0],p=null==a[1]?tt:a[1],y=null==a[2]?tt:a[2],$t(v=rt(G,"Extensions").$resolve_class(m))?($t($t(a=i(v,h))?a:$t(o=d)?i(v,d):o)||u.$raise(et("::","ArgumentError"),"Class specified for "+_+" extension does not inherit from "+h+": "+m),b=v.$new(u.$as_symbol(p),y),$t(p=u.$as_symbol(b.$name()))||u.$raise(et("::","ArgumentError"),"No name specified for "+_+" extension: "+m),b.$freeze(),g=[p,rt(G,"ProcessorExtension").$new(r,b)],ot(l,"[]=",t.to_a(g)),g[e(g.length,1)]):$t($t(a=h["$==="](m))?a:$t(o=d)?d["$==="](m):o)?(m.$update_config(y),$t(p=$t(p)?(g=[u.$as_symbol(p)],ot(m,"name=",t.to_a(g)),g[e(g.length,1)]):u.$as_symbol(m.$name()))||u.$raise(et("::","ArgumentError"),"No name specified for "+_+" extension: "+m),m.$freeze(),g=[p,rt(G,"ProcessorExtension").$new(r,m)],ot(l,"[]=",t.to_a(g)),g[e(g.length,1)]):u.$raise(et("::","ArgumentError"),"Invalid arguments specified for registering "+_+" extension: "+n))},L.$$arity=2),t.def(U,"$resolve_args",F=function(t,$){var a,o=tt;return a=$t(et("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():at([],{}),$["$=="](1)?a:($t(n(o=e(e($,1),t.$size()),0))?t=r(t,et("::","Array").$new(o)):$t(i(o,0))&&t.$pop(o["$-@"]()),t["$<<"](a),t)},F.$$arity=2),t.def(U,"$as_symbol",j=function(t){return $t(t)?t.$to_sym():tt},j.$$arity=1)}(V[0],0,V),void function(n,i){n.$$proto;var $,a,o,s,l,u,c,f,_,h=[n].concat(i);t.def(n,"$generate_name",$=function(){return"extgrp"+this.$next_auto_id()},$.$$arity=0),t.def(n,"$next_auto_id",a=function(){var t;return null==this.auto_id&&(this.auto_id=tt),this.auto_id=$t(t=this.auto_id)?t:-1,this.auto_id=r(this.auto_id,1)},a.$$arity=0),t.def(n,"$groups",o=function(){var t;return null==this.groups&&(this.groups=tt),this.groups=$t(t=this.groups)?t:at([],{})},o.$$arity=0),t.def(n,"$create",s=function(t){var e,r=s.$$p,n=r||tt;return null==t&&(t=tt),r&&(s.$$p=null),n!==tt?rt(h,"Registry").$new(st($t(e=t)?e:this.$generate_name(),n)):rt(h,"Registry").$new()},s.$$arity=-1),t.alias(n,"build_registry","create"),t.def(n,"$register",l=function(r){var n,i,$,a,o=l.$$p,s=o||tt,u=tt,c=tt,f=tt,_=arguments.length,h=_-0;h<0&&(h=0),i=new Array(h);for(var d=0;d<_;d++)i[d-0]=arguments[d];return o&&(l.$$p=null),$=i.$size(),s!==tt?u=s:$t(c=i.$pop())?u=$t(n=this.$resolve_class(c))?n:c:this.$raise(et("::","ArgumentError"),"Extension group to register not specified"),f=$t(n=i.$pop())?n:this.$generate_name(),$t(i["$empty?"]())||this.$raise(et("::","ArgumentError"),"Wrong number of arguments ("+$+" for 1..2)"),a=[f.$to_sym(),u],ot(this.$groups(),"[]=",t.to_a(a)),a[e(a.length,1)]},l.$$arity=-1),t.def(n,"$unregister_all",u=function(){return this.groups=at([],{}),tt},u.$$arity=0),t.def(n,"$unregister",c=function(t){var e,r,n=arguments.length,i=n-0;i<0&&(i=0),r=new Array(i);for(var $=0;$<n;$++)r[$-0]=arguments[$];return ot(r,"each",[],((e=function(t){var r=e.$$s||this;return null==r.groups&&(r.groups=tt),null==t&&(t=tt),r.groups.$delete(t.$to_sym())}).$$s=this,e.$$arity=1,e)),tt},c.$$arity=-1),t.def(n,"$resolve_class",f=function(t){var e=this,r=tt;return r=t,et("::","Class")["$==="](r)?t:et("::","String")["$==="](r)?e.$class_for_name(t):tt},f.$$arity=1),t.def(n,"$class_for_name",_=function(t){var e,r=tt;return r=et("::","Object"),ot(t.$split("::"),"each",[],((e=function(n){var i,$,a=e.$$s||this;return null==n&&(n=tt),$t($t(i=n["$empty?"]())?i:$t($=r["$const_defined?"](n))?et("::","Module")["$==="](r=r.$const_get(n)):$)?tt:a.$raise(et("::","NameError"),"Could not resolve class for name: "+t)}).$$s=this,e.$$arity=1,e)),$t(et("::","Class")["$==="](r))||this.$raise(et("::","NameError"),"Could not resolve class for name: "+t),r},_.$$arity=1)}(t.get_singleton_class(K),V)},Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(t){t.top;var e,r,n,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.module),s=t.klass,l=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),e=i,(r=o(i[0],"Asciidoctor")).$$proto,void function(e,r,n){function i(){}var o,u=i=s(e,r,"PreprocessorReader",i),c=u.$$proto,f=[u].concat(n);c.path_resolver=c.document=c.include_stack=c.dir=$,t.def(u,"$resolve_include_path",o=function t(e,r,n){var i,o=this,t=$,s=$,u=$,c=$,_=$,h=$,d=$;if(t=(o.path_resolver=l(i=o.path_resolver)?i:a(f,"PathResolver").$new("\\")).$posixify(e),i=["file",o.document.$base_dir()],s=i[1],l(t["$start_with?"]("file://")))u=c=t;else if(l(a(f,"Helpers")["$uriish?"](t))){if(!l(l(i=o.path_resolver["$descends_from?"](t,s))?i:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+e+"["+r+"]");u=c=t}else if(l(o.path_resolver["$absolute_path?"](t)))u=c="file://"+(l(t["$start_with?"]("/"))?"":"/")+t;else if((_=l(h=o.include_stack["$empty?"]())?s:o.dir)["$=="]("."))u=c=t;else if(l(l(i=_["$start_with?"]("file://"))?i:a(f,"Helpers")["$uriish?"](_)["$!"]()))u=_+"/"+t,c=l(h)?t:l(l(i=s["$=="]("."))?i:(d=o.path_resolver["$descends_from?"](u,s))["$!"]())?u:u.$slice(d,u.$length());else if(l(h))u=_+"/"+(c=t);else{
if(!l(l(i=d=o.path_resolver["$descends_from?"](_,s))?i:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+e+"["+r+"]");u=_+"/"+t,c=l(d)?u.$slice(d,u.$length()):t}return[u,"file",c]},o.$$arity=3)}((n=[r].concat(e))[0],a(n,"Reader"),n)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);return t.breaker,t.slice,t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):r},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,l=(t.breaker,t.slice,t.truthy),u=t.gvars,c=t.module,f=t.hash2,_=t.send,h=t.hash;null==u[":"]&&(u[":"]=a),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$inject","$*","$to_a","$dup","$insert","$start","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),l(s($,"RUBY_ENGINE","skip_raise")?"constant":a)||t.const_set($[0],"RUBY_ENGINE","unknown"),t.const_set($[0],"RUBY_ENGINE_OPAL",s($,"RUBY_ENGINE")["$=="]("opal")),t.const_set($[0],"RUBY_ENGINE_JRUBY",s($,"RUBY_ENGINE")["$=="]("jruby")),t.const_set($[0],"RUBY_MIN_VERSION_1_9",e(s($,"RUBY_VERSION"),"1.9")),t.const_set($[0],"RUBY_MIN_VERSION_2",e(s($,"RUBY_VERSION"),"2")),i.$require("set"),s($,"RUBY_ENGINE")["$=="]("opal")&&i.$require("asciidoctor/js"),u[":"].$unshift(s($,"File").$dirname("asciidoctor")),function(i,u){var d,p,y,m,g,v,b,w,E,k,x,A,O,M,S,T,R,I,C,N=c($[0],"Asciidoctor"),z=(N.$$proto,[N].concat(u)),P=a,B=a,q=a;t.const_set(z[0],"RUBY_ENGINE",o("::","RUBY_ENGINE")),m=z[0],g=z,(x=c(m,"SafeMode")).$$proto,A=[x].concat(g),t.const_set(A[0],"UNSAFE",0),t.const_set(A[0],"SAFE",1),t.const_set(A[0],"SERVER",10),t.const_set(A[0],"SECURE",20),k=f([],{}),_((t.Module.$$nesting=A,x.$constants()),"each",[],((v=function(e){var n,i=v.$$s||this;return null==e&&(e=a),n=[i.$const_get(e),e.$to_s().$downcase()],_(k,"[]=",t.to_a(n)),n[r(n.length,1)]}).$$s=x,v.$$arity=1,v)),x.names_by_value=k,t.defs(x,"$value_for_name",b=function(t){return this.$const_get(t.$upcase())},b.$$arity=1),t.defs(x,"$name_for_value",w=function(t){return null==this.names_by_value&&(this.names_by_value=a),this.names_by_value["$[]"](t)},w.$$arity=1),t.defs(x,"$names",E=function(){return null==this.names_by_value&&(this.names_by_value=a),this.names_by_value.$values()},E.$$arity=0),S=z[0],T=z,(I=c(S,"Compliance")).$$proto,C=[I].concat(T),I.keys=o("::","Set").$new(),O=t.get_singleton_class(I),M=C,O.$$proto,[O].concat(M),O.$attr_reader("keys"),t.defs(I,"$define",R=function(e,r){return null==this.keys&&(this.keys=a),this.$instance_variable_set("@"+e,r),(n=t.get_singleton_class(this),i=C,n.$$proto,[n].concat(i),n).$send("attr_accessor",e),this.keys["$<<"](e),a;var n,i},R.$$arity=2),I.$define("block_terminates_paragraph",!0),I.$define("strict_verbatim_paragraphs",!0),I.$define("underline_style_section_titles",!0),I.$define("unwrap_standalone_preamble",!0),I.$define("attribute_missing","skip"),I.$define("attribute_undefined","drop-line"),I.$define("shorthand_property_syntax",!0),I.$define("unique_id_start_index",2),I.$define("markdown_syntax",!0),t.const_set(z[0],"ROOT_PATH",o("::","File").$dirname(o("::","File").$dirname(o("::","File").$expand_path("asciidoctor")))),t.const_set(z[0],"DATA_PATH",o("::","File").$join(s(z,"ROOT_PATH"),"data"));try{t.const_set(z[0],"USER_HOME",o("::","Dir").$home())}catch(e){if(!t.rescue(e,[s(z,"StandardError")]))throw e;try{t.const_set(z[0],"USER_HOME",l(d=o("::","ENV")["$[]"]("HOME"))?d:o("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(z[0],"COERCE_ENCODING",l(d=o("::","RUBY_ENGINE_OPAL")["$!"]())?o("::","RUBY_MIN_VERSION_1_9"):d),t.const_set(z[0],"FORCE_ENCODING",l(d=s(z,"COERCE_ENCODING"))?o("::","Encoding").$default_external()["$!="](o(o("::","Encoding"),"UTF_8")):d),t.const_set(z[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(z[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(z[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(z[0],"FORCE_UNICODE_LINE_LENGTH",o("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(z[0],"LF",t.const_set(z[0],"EOL","\n")),t.const_set(z[0],"NULL","\0"),t.const_set(z[0],"TAB","\t"),t.const_set(z[0],"DEFAULT_DOCTYPE","article"),t.const_set(z[0],"DEFAULT_BACKEND","html5"),t.const_set(z[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(z[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(z[0],"BACKEND_ALIASES",f(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(z[0],"DEFAULT_PAGE_WIDTHS",f(["docbook"],{docbook:425})),t.const_set(z[0],"DEFAULT_EXTENSIONS",f(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(z[0],"ASCIIDOC_EXTENSIONS",f([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(z[0],"SETEXT_SECTION_LEVELS",f(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(z[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(z[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),t.const_set(z[0],"CALLOUT_LIST_HEADS",["<","1","2","3","4","5","6","7","8","9","0"].$to_set()),t.const_set(z[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(z[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(z[0],"DELIMITED_BLOCKS",f(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",o("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",o("::","Set").$new()],",===":["table",o("::","Set").$new()],":===":["table",o("::","Set").$new()],"!===":["table",o("::","Set").$new()],"////":["comment",o("::","Set").$new()],"```":["fenced_code",o("::","Set").$new()]})),t.const_set(z[0],"DELIMITED_BLOCK_HEADS",_(s(z,"DELIMITED_BLOCKS").$keys(),"map",[],(p=function(t){return p.$$s,null==t&&(t=a),t.$slice(0,2)},p.$$s=N,p.$$arity=1,p)).$to_set()),t.const_set(z[0],"LAYOUT_BREAK_CHARS",f(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(z[0],"MARKDOWN_THEMATIC_BREAK_CHARS",f(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(z[0],"HYBRID_LAYOUT_BREAK_CHARS",s(z,"LAYOUT_BREAK_CHARS").$merge(s(z,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(z[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(z[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(z[0],"ORDERED_LIST_KEYWORDS",f(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(z[0],"ATTR_REF_HEAD","{"),t.const_set(z[0],"LIST_CONTINUATION","+"),t.const_set(z[0],"HARD_LINE_BREAK"," +"),t.const_set(z[0],"LINE_CONTINUATION"," \\"),t.const_set(z[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(z[0],"BLOCK_MATH_DELIMITERS",f(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(z[0],"INLINE_MATH_DELIMITERS",f(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(z[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(z[0],"CIRCUMFIX_COMMENTS",_(h(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["<!--","-->"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[f([],{})],((y=function(e,n){var i,$,o,s,l=y.$$s||this;return null==n&&(n=a),n=t.to_ary(n),i=t.slice.call(n,0,n.length),null==($=i.splice(0,1)[0])&&($=a),null==(o=i.splice(0,1)[0])&&(o=a),null==e&&(e=a),_(o,"each",[],((s=function(n){var i;return s.$$s,null==n&&(n=a),i=[n,f(["prefix","suffix"],{prefix:$["$[]"](0),suffix:$["$[]"](-1)})],_(e,"[]=",t.to_a(i)),i[r(i.length,1)]}).$$s=l,s.$$arity=1,s)),e}).$$s=N,y.$$arity=2,y.$$has_top_level_mlhs_arg=!0,y))),s(z,"RUBY_ENGINE")["$=="]("opal"),t.const_set(z[0],"AuthorInfoLineRx",new RegExp("^("+s(z,"CG_WORD")+"["+s(z,"CC_WORD")+"\\-'.]*)(?: +("+s(z,"CG_WORD")+"["+s(z,"CC_WORD")+"\\-'.]*))?(?: +("+s(z,"CG_WORD")+"["+s(z,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(z[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/),t.const_set(z[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/),t.const_set(z[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/),t.const_set(z[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/),t.const_set(z[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/),t.const_set(z[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/),t.const_set(z[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/),t.const_set(z[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/),t.const_set(z[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),s(z,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(z[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),t.const_set(z[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/),t.const_set(z[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),t.const_set(z[0],"BlockAttributeListRx",new RegExp("^\\[(|["+s(z,"CC_WORD")+".#%{,\"'].*)\\]$")),t.const_set(z[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+s(z,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),t.const_set(z[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/),t.const_set(z[0],"AdmonitionParagraphRx",new RegExp("^("+n(s(z,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),t.const_set(z[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/),t.const_set(z[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(z[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(z[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+s(z,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(z[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),t.const_set(z[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+s(z,"CC_WORD")+"]+?")),t.const_set(z[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/),t.const_set(z[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),t.const_set(z[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/),t.const_set(z[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/),t.const_set(z[0],"OrderedListMarkerRxMap",f(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(z[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/),t.const_set(z[0],"DescriptionListSiblingRx",f(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),t.const_set(z[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/),t.const_set(z[0],"CalloutListSniffRx",/^<?\d+>/),t.const_set(z[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(z[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(z[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+s(z,"CC_EOL")+")")),t.const_set(z[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+s(z,"CC_EOL")+")")),t.const_set(z[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+s(z,"CC_EOL")+")"),t.const_set(z[0],"ListRxMap",f(["ulist","olist","dlist","colist"],{ulist:s(z,"UnorderedListRx"),olist:s(z,"OrderedListRx"),dlist:s(z,"DescriptionListRx"),colist:s(z,"CalloutListRx")})),t.const_set(z[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(z[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(z[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(z[0],"CustomBlockMacroRx",new RegExp("^("+s(z,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),t.const_set(z[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/),t.const_set(z[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/),t.const_set(z[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),t.const_set(z[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),t.const_set(z[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+s(z,"CC_ALPHA")+"_:]["+s(z,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),t.const_set(z[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+s(z,"CG_WORD")+"["+s(z,"CC_WORD")+".%+-]*@"+s(z,"CG_ALNUM")+"["+s(z,"CC_ALNUM")+".-]*\\."+s(z,"CG_ALPHA")+"{2,4}\\b")),t.const_set(z[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+s(z,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(z[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+s(z,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(z[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+s(z,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+s(z,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(z[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+s(z,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(z[0],"LinkInlineRx",new RegExp("(^|link:|"+s(z,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+s(z,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(z[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+s(z,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(z[0],"MacroNameRx",new RegExp("^"+s(z,"CG_WORD")+"+$")),t.const_set(z[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+s(z,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(z[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+s(z,"CG_WORD")+"|["+s(z,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+s(z,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(z[0],"MenuInlineRx",new RegExp('\\\\?"(['+s(z,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(z[0],"PassInlineRx",h(!1,["+","`",new RegExp("(^|[^"+s(z,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)\\4)(?!"+s(z,"CG_WORD")+")","m")],!0,["`",a,new RegExp("(^|[^`"+s(z,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+s(z,"CC_ALL")+"*?\\S)\\4)(?![`"+s(z,"CC_WORD")+"])","m")])),t.const_set(z[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+s(z,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+s(z,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(z[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+s(z,"CC_WORD")+"#/.:{]"+s(z,"CC_ALL")+"*?)&gt;&gt;|xref:(["+s(z,"CC_WORD")+"#/.:{]"+s(z,"CC_ALL")+"*?)\\[(?:\\]|("+s(z,"CC_ALL")+"*?[^\\\\])\\]))","m")),s(z,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(z[0],"HardLineBreakRx",/^(.*) \+$/m),t.const_set(z[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(z[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(z[0],"BlankLineRx",/\n{2,}/),t.const_set(z[0],"DataDelimiterRx",/[,;]/),t.const_set(z[0],"TrailingDigitsRx",/\d+$/),t.const_set(z[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(z[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(z[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(z[0],"SubModifierSniffRx",/[+-]/),s(z,"RUBY_ENGINE")["$=="]("opal"),t.const_set(z[0],"UriSniffRx",new RegExp("^"+s(z,"CG_ALPHA")+"["+s(z,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(z[0],"UriTerminatorRx",/[);:]$/),t.const_set(z[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(z[0],"INTRINSIC_ATTRIBUTES",f(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),B=(P=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+s(z,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)\\*(?!"+s(z,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+s(z,"CC_ALL")+'*?\\S)`"(?!'+s(z,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)`'(?!"+s(z,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+s(z,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)`(?!["+s(z,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+s(z,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)_(?!"+s(z,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+s(z,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)#(?!"+s(z,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]).$dup(),q=[2,["double","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)''(?!"+s(z,"CG_WORD")+")","m")]],_(B,"[]=",t.to_a(q)),q[r(q.length,1)],q=[3,["single","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)'(?!"+s(z,"CG_WORD")+")","m")]],_(B,"[]=",t.to_a(q)),q[r(q.length,1)],q=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+s(z,"CC_ALL")+"+?)\\+\\+","m")]],_(B,"[]=",t.to_a(q)),q[r(q.length,1)],q=[5,["monospaced","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)\\+(?!"+s(z,"CG_WORD")+")","m")]],_(B,"[]=",t.to_a(q)),q[r(q.length,1)],B.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+s(z,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+s(z,"CC_ALL")+"*?\\S)'(?!"+s(z,"CG_WORD")+")","m")]),t.const_set(z[0],"QUOTE_SUBS",h(!1,P,!0,B)),P=a,B=a,t.const_set(z[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+s(z,"CG_WORD")+")\\\\?--(?="+s(z,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+s(z,"CG_ALNUM")+")\\\\?'(?="+s(z,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(i,$){i.$$proto;var u,c,h,d,p=[i].concat($);t.def(i,"$load",u=function e(i,$){var u,e,c,h,d,y=this,m=a,g=a,v=a,b=a,w=a,E=a,k=a,x=a,A=a,O=a,M=a,S=a,T=a;null==$&&($=f([],{}));try{if($=$.$dup(),l(m=$["$[]"]("timings"))&&m.$start("read"),l((g=$["$[]"]("attributes"))["$!"]())?g=f([],{}):l(l(u=o("::","Hash")["$==="](g))?u:l(e=o("::","RUBY_ENGINE_JRUBY"))?o(o(o("::","Java"),"JavaUtil"),"Map")["$==="](g):e)?g=g.$dup():l(o("::","Array")["$==="](g))?(u=[f([],{}),g],g=u[0],v=u[1],_(v,"each",[],((c=function(e){var n,i,$,o,s;return c.$$s,null==e&&(e=a),i=e.$split("=",2),$=null==(n=t.to_ary(i))[0]?a:n[0],o=null==n[1]?a:n[1],s=[$,l(n=o)?n:""],_(g,"[]=",t.to_a(s)),s[r(s.length,1)]}).$$s=y,c.$$arity=1,c))):l(o("::","String")["$==="](g))?(u=[f([],{}),g.$gsub(s(p,"SpaceDelimiterRx"),"\\1"+s(p,"NULL")).$gsub(s(p,"EscapedSpaceRx"),"\\1").$split(s(p,"NULL"))],g=u[0],v=u[1],_(v,"each",[],((h=function(e){var n,i,$,o,s;return h.$$s,null==e&&(e=a),i=e.$split("=",2),$=null==(n=t.to_ary(i))[0]?a:n[0],o=null==n[1]?a:n[1],s=[$,l(n=o)?n:""],_(g,"[]=",t.to_a(s)),s[r(s.length,1)]}).$$s=y,h.$$arity=1,h))):l(l(u=g["$respond_to?"]("keys"))?g["$respond_to?"]("[]"):u)?g=o("::","Hash")["$[]"](_(g.$keys(),"map",[],((d=function(t){return d.$$s,null==t&&(t=a),[t,g["$[]"](t)]}).$$s=y,d.$$arity=1,d))):y.$raise(o("::","ArgumentError"),"illegal type for attributes option: "+n(g.$class().$ancestors()," < ")),b=a,l(o("::","File")["$==="](i)))w=o("::","File").$expand_path(i.$path()),E=l(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?o("::","Time").$at(y.$Integer(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():i.$mtime(),b=i.$readlines(),k=["docfile",w],_(g,"[]=",t.to_a(k)),k[r(k.length,1)],k=["docdir",o("::","File").$dirname(w)],_(g,"[]=",t.to_a(k)),k[r(k.length,1)],k=["docname",s(p,"Helpers").$basename(w,(k=["docfilesuffix",o("::","File").$extname(w)],_(g,"[]=",t.to_a(k)),k[r(k.length,1)]))],_(g,"[]=",t.to_a(k)),k[r(k.length,1)],l(x=g["$[]"]("docdate"))?l(u=g["$[]"]("docyear"))||(k=["docyear",x.$index("-")["$=="](4)?x.$slice(0,4):a],_(g,"[]=",t.to_a(k)),k[r(k.length,1)]):(k=["docdate",E.$strftime("%Y-%m-%d")],_(g,"[]=",t.to_a(k)),x=k[r(k.length,1)],l(u=g["$[]"]("docyear"))||(k=["docyear",E.$year().$to_s()],_(g,"[]=",t.to_a(k)),k[r(k.length,1)])),A=l(u=g["$[]"]("doctime"))?u:(k=["doctime",E.$strftime("%H:%M:%S %Z")],_(g,"[]=",t.to_a(k)),k[r(k.length,1)]),k=["docdatetime",x+" "+A],_(g,"[]=",t.to_a(k)),k[r(k.length,1)];else if(l(i["$respond_to?"]("readlines"))){try{i.$rewind()}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;t.pop_exception()}b=i.$readlines()}else l(o("::","String")["$==="](i))?b=l(o("::","RUBY_MIN_VERSION_2"))?i.$lines():i.$each_line().$to_a():l(o("::","Array")["$==="](i))?b=i.$dup():y.$raise(o("::","ArgumentError"),"unsupported input type: "+i.$class());return l(m)&&(m.$record("read"),m.$start("parse")),k=["attributes",g],_($,"[]=",t.to_a(k)),k[r(k.length,1)],O=$["$[]"]("parse")["$=="](!1)?s(p,"Document").$new(b,$):s(p,"Document").$new(b,$).$parse(),l(m)&&m.$record("parse"),O}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;M=e;try{try{S="asciidoctor: FAILED: "+(l(u=g["$[]"]("docfile"))?u:"<stdin>")+": Failed to load AsciiDoc document",l(M["$respond_to?"]("exception"))?(T=M.$exception(S+" - "+M.$message())).$set_backtrace(M.$backtrace()):(T=M.$class().$new(S,M),k=[M.$stack_trace()],_(T,"stack_trace=",t.to_a(k)),k[r(k.length,1)])}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;try{T=M}finally{t.pop_exception()}}return y.$raise(T)}finally{t.pop_exception()}}},u.$$arity=-2),t.def(i,"$load_file",c=function(t,e){var r;return null==e&&(e=f([],{})),_(o("::","File"),"open",[t],((r=function(t){var n=r.$$s||this;return null==t&&(t=a),n.$load(t,e)}).$$s=this,r.$$arity=1,r))},c.$$arity=-2),t.def(i,"$convert",h=function n(i,$){var u,c,h,n,d,y,m,g,v,b,w,E=a,k=a,x=a,A=a,O=a,M=a,S=a,T=a,R=a,I=a,C=a,N=a,z=a,P=a,B=a,q=a,D=a,L=a,F=a,j=a,U=a,H=a,G=a;if(null==$&&($=f([],{})),($=$.$dup()).$delete("parse"),E=$.$delete("to_file"),k=$.$delete("to_dir"),y=!!l(u=$.$delete("mkdirs"))&&u,x=$["$[]"]("timings"),(!0)["$==="](m=E)||a["$==="](m))A=l(u=k["$!"]())?o("::","File")["$==="](i):u,O=!1,M=k,E=a;else if((!1)["$==="](m))A=!1,O=!1,M=!1,E=a;else{if("/dev/null"["$==="](m))return this.$load(i,$);A=!1,M=!l(O=E["$respond_to?"]("write"))&&E}return l($["$key?"]("header_footer"))||l(l(u=A)?u:M)&&(S=["header_footer",!0],_($,"[]=",t.to_a(S)),S[r(S.length,1)]),l(A)?(T=o("::","File").$expand_path(i.$path()),S=["to_dir",R=o("::","File").$dirname(T)],_($,"[]=",t.to_a(S)),S[r(S.length,1)]):l(M)?l(k)?l(E)?(S=["to_dir",o("::","File").$expand_path(o("::","File").$join(k,E,".."))],_($,"[]=",t.to_a(S)),S[r(S.length,1)]):(S=["to_dir",o("::","File").$expand_path(k)],_($,"[]=",t.to_a(S)),S[r(S.length,1)]):l(E)&&(S=["to_dir",o("::","File").$expand_path(E,"..")],_($,"[]=",t.to_a(S)),S[r(S.length,1)]):(S=["to_dir",a],_($,"[]=",t.to_a(S)),S[r(S.length,1)]),I=this.$load(i,$),l(A)?(C=o("::","File").$join(R,""+I.$attributes()["$[]"]("docname")+I.$outfilesuffix()))["$=="](T)&&this.$raise(o("::","IOError"),"input file and output file cannot be the same: "+C):l(M)?(N=l($["$key?"]("base_dir"))?o("::","File").$expand_path($["$[]"]("base_dir")):o("::","File").$expand_path(o("::","Dir").$pwd()),z=l(e(I.$safe(),o(s(p,"SafeMode"),"SAFE")))?N:a,l(k)?(R=I.$normalize_system_path(k,N,z,f(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(E)?(C=I.$normalize_system_path(E,R,a,f(["target_name","recover"],{target_name:"to_dir",recover:!1})),R=o("::","File").$dirname(C)):C=o("::","File").$join(R,""+I.$attributes()["$[]"]("docname")+I.$outfilesuffix())):l(E)&&(C=I.$normalize_system_path(E,N,z,f(["target_name","recover"],{target_name:"to_dir",recover:!1})),R=o("::","File").$dirname(C)),l(l(u=o("::","File")["$==="](i))?C["$=="](o("::","File").$expand_path(i.$path())):u)&&this.$raise(o("::","IOError"),"input file and output file cannot be the same: "+C),l(o("::","File")["$directory?"](R))||(l(y)?s(p,"Helpers").$mkdir_p(R):this.$raise(o("::","IOError"),"target directory does not exist: "+k))):(C=E,R=a),l(x)&&x.$start("convert"),g=l(l(u=C)?O["$!"]():u)?f(["outfile","outdir"],{outfile:C,outdir:R}):f([],{}),v=I.$convert(g),l(x)&&x.$record("convert"),l(C)?(l(x)&&x.$start("write"),I.$write(v,C),l(x)&&x.$record("write"),l(l(u=l(c=l(h=l(n=l(d=O["$!"]())?(b=I.$safe(),w=o(s(p,"SafeMode"),"SECURE"),"number"==typeof b&&"number"==typeof w?b<w:b["$<"](w)):d)?I["$attr?"]("linkcss"):n)?I["$attr?"]("copycss"):h)?I["$attr?"]("basebackend-html"):c)?(l(c=P=I.$attr("stylesdir"))?s(p,"Helpers")["$uriish?"](P):c)["$!"]():u)&&(B=!1,q=!1,l(D=I.$attr("stylesheet"))&&(l(s(p,"DEFAULT_STYLESHEET_KEYS")["$include?"](D))?B=!0:l(s(p,"Helpers")["$uriish?"](D)["$!"]())&&(q=!0)),L=l(u=I["$attr?"]("source-highlighter","coderay"))?I.$attr("coderay-css","class")["$=="]("class"):u,F=l(u=I["$attr?"]("source-highlighter","pygments"))?I.$attr("pygments-css","class")["$=="]("class"):u,l(l(u=l(c=l(h=B)?h:q)?c:L)?u:F)&&(j=I.$normalize_system_path(P,R,l(e(I.$safe(),o(s(p,"SafeMode"),"SAFE")))?R:a),l(y)&&s(p,"Helpers").$mkdir_p(j),l(B)?s(p,"Stylesheets").$instance().$write_primary_stylesheet(j):l(q)&&(U=l((U=I.$attr("copycss"))["$empty?"]())?I.$normalize_system_path(D):I.$normalize_system_path(U),H=I.$normalize_system_path(D,j,l(e(I.$safe(),o(s(p,"SafeMode"),"SAFE")))?R:a),l(l(u=U["$!="](H))?G=I.$read_asset(U,f(["warn_on_failure","label"],{warn_on_failure:o("::","File")["$file?"](H)["$!"](),label:"stylesheet"})):u)&&o("::","IO").$write(H,G)),l(L)?s(p,"Stylesheets").$instance().$write_coderay_stylesheet(j):l(F)&&s(p,"Stylesheets").$instance().$write_pygments_stylesheet(j,I.$attr("pygments-style")))),I):v},h.$$arity=-2),t.alias(i,"render","convert"),t.def(i,"$convert_file",d=function(t,e){var r;return null==e&&(e=f([],{})),_(o("::","File"),"open",[t],((r=function(t){var n=r.$$s||this;return null==t&&(t=a),n.$convert(t,e)}).$$s=this,r.$$arity=1,r))},d.$$arity=-2),t.alias(i,"render_file","convert_file"),s(p,"RUBY_ENGINE")["$=="]("opal")}(t.get_singleton_class(N),z),s(z,"RUBY_ENGINE")["$=="]("opal")&&(N.$require("asciidoctor/timings"),N.$require("asciidoctor/version"))}(0,$),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table"),s($,"RUBY_ENGINE")["$=="]("opal")&&i.$require("asciidoctor/js/postscript")}(Opal);var e=function(t){return!t||"$$smap"in t?t:Opal.hash(t)},r=function t(e){for(var r={},t=0,n=e.$$keys,i=e.$$smap,$=n.length;t<$;t++){var a=n[t];r[a]=i[a]}return r},n=function(t){if(t=e(t)){var r=t["$[]"]("attributes");r&&"object"==typeof r&&"Object"===r.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(r))}return t},i=Opal.Asciidoctor.$$class;i.$$proto.getCoreVersion=function(){return this.$$const.VERSION},i.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},i.$$proto.convertFile=function(t,e){return this.$convert_file(t,n(e))},i.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},i.$$proto.loadFile=function(t,e){return this.$load_file(t,n(e))};var $=Opal.Asciidoctor.AbstractBlock;$.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},$.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},$.$$proto.getStyle=function(){return this.style},$.$$proto.getCaption=function(){return this.$caption()},$.$$proto.setCaption=function(t){this.caption=t},$.$$proto.getLevel=function(){return this.level},$.$$proto.getSubstitutions=function(){return this.subs},$.$$proto.hasSubstitution=function(t){return this["$sub?"](t);
},$.$$proto.removeSubstitution=function(t){this.$remove_sub(t)},$.$$proto.getBlocks=function(){return this.blocks},$.$$proto.getContent=function(){return this.$content()},$.$$proto.convert=function(){return this.$convert()},$.$$proto.findBy=function(t,r){return void 0===r&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof r?Opal.send(this,"find_by",[e(t)],r):this.$find_by(e(t))},$.$$proto.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t};var a=Opal.Asciidoctor.Block;a.$$proto.getSource=function(){return this.$source()},a.$$proto.getSourceLines=function(){return this.lines};var o=Opal.Asciidoctor.AbstractNode;o.$$proto.getAttributes=function(){return r(this.attributes)},o.$$proto.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},o.$$proto.hasAttribute=function(t){return t in this.attributes.$$smap},o.$$proto.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},o.$$proto.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},o.$$proto.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},o.$$proto.getDocument=function(){return this.document},o.$$proto.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},o.$$proto.isInline=function(){return this["$inline?"]()},o.$$proto.isBlock=function(){return this["$block?"]()},o.$$proto.isRole=function(t){return this["$role?"](t)},o.$$proto.getRole=function(){return this.$role()},o.$$proto.hasRole=function(t){return this["$has_role?"](t)},o.$$proto.getRoles=function(){return this.$roles()},o.$$proto.addRole=function(t){return this.$add_role(t)},o.$$proto.removeRole=function(t){return this.$remove_role(t)},o.$$proto.isReftext=function(){return this["$reftext?"]()},o.$$proto.getReftext=function(){return this.$reftext()},o.$$proto.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},o.$$proto.getId=function(){return this.id},o.$$proto.isOption=function(t){return this["$option?"](t)},o.$$proto.setOption=function(t){return this.$set_option(t)},o.$$proto.getIconUri=function(t){return this.$icon_uri(t)},o.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},o.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},o.$$proto.getConverter=function(){return this.$converter()},o.$$proto.readContents=function(t,r){return this.$read_contents(t,e(r))},o.$$proto.readAsset=function(t,r){return this.$read_asset(t,e(r))},o.$$proto.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},o.$$proto.normalizeSystemPath=function(t,r,n,i){return this.$normalize_system_path(t,r,n,e(i))},o.$$proto.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var s=Opal.Asciidoctor.Document;s.$$proto.getHeader=function(){return this.header},s.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},s.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},s.$$proto.convert=function(t){var r=this.$convert(e(t));return r===Opal.nil?"":r},s.$$proto.write=function(t,e){return this.$write(t,e)},s.$$proto.getAuthor=function(){return this.$author()},s.$$proto.getSource=function(){return this.$source()},s.$$proto.getSourceLines=function(){return this.$source_lines()},s.$$proto.isNested=function(){return this["$nested?"]()},s.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},s.$$proto.getFootnotes=function(){return this.$footnotes()},s.$$proto.isEmbedded=function(){return this["$embedded?"]()},s.$$proto.hasExtensions=function(){return this["$extensions?"]()},s.$$proto.getDoctype=function(){return this.doctype},s.$$proto.getBackend=function(){return this.backend},s.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},s.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},s.$$proto.setTitle=function(t){return this["$title="](t)},s.$$proto.getDocumentTitle=function(t){var r=this.$doctitle(e(t));return r===Opal.nil?void 0:r},s.$$proto.getDoctitle=s.$$proto.getDocumentTitle,s.$$proto.getCatalog=function(){return r(this.catalog)},s.$$proto.getReferences=s.$$proto.getCatalog,s.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},s.$$proto.getRevdate=function(){return this.getRevisionDate()},s.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},s.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},s.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var l=s.RevisionInfo;l.prototype.getDate=function(){return this.date},l.prototype.getNumber=function(){return this.number},l.prototype.getRemark=function(){return this.remark},l.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},s.$$proto.getRevisionInfo=function(){return new s.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},s.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},s.$$proto.getNotitle=function(){return this.$notitle()},s.$$proto.getNoheader=function(){return this.$noheader()},s.$$proto.getNofooter=function(){return this.$nofooter()},s.$$proto.hasHeader=function(){return this["$header?"]()},s.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},s.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},s.$$proto.parse=function(t){return this.$parse(t)},s.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},s.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},s.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},s.$$proto.counter=function(t,e){return this.$counter(t,e)},s.$$proto.getSafe=function(){return this.safe},s.$$proto.getCompatMode=function(){return this.compat_mode},s.$$proto.getSourcemap=function(){return this.sourcemap},s.$$proto.getCounters=function(){return r(this.counters)},s.$$proto.getCallouts=function(){return this.$callouts()},s.$$proto.getBaseDir=function(){return this.base_dir},s.$$proto.getOptions=function(){return r(this.options)},s.$$proto.getOutfilesuffix=function(){return this.outfilesuffix},s.$$proto.getParentDocument=function(){return this.parent_document},s.$$proto.getReader=function(){return this.reader},s.$$proto.getConverter=function(){return this.converter},s.$$proto.getExtensions=function(){return this.extensions};var u=s.Title;u.$$proto.getMain=function(){return this.main},u.$$proto.getCombined=function(){return this.combined},u.$$proto.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},u.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},u.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var c=Opal.Asciidoctor.Inline;c.$$proto.convert=function(){return this.$convert()},c.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},c.$$proto.getType=function(){return this.$type()},c.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},Opal.Asciidoctor.List.$$proto.getItems=function(){return this.blocks},Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};var f=Opal.Asciidoctor.Reader;f.$$proto.pushInclude=function(t,e,r,n,i){return this.$push_include(t,e,r,n,i)},f.$$proto.getCursor=function(){return this.$cursor()},f.$$proto.getLines=function(){return this.$lines()},f.$$proto.getString=function(){return this.$string()};var _=Opal.Asciidoctor.Reader.Cursor;_.$$proto.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},_.$$proto.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},_.$$proto.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},_.$$proto.getLineNumber=function(){return this.lineno};var h=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=h,h&&(h.getLogger=function(){return this.$logger()},h.setLogger=function(t){this.logger=t});var d=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=d,d&&(d.$$proto.getMessages=function(){for(var t=this.messages,e=[],n=0;n<t.length;n++){var i=t[n],$=r(i);$.message=r($.message),e.push($)}return e});var p=function(t){return t.$$arity=t.length,t},y=function(t,e,r,n){return"function"==typeof r?Opal.send(t,e,n&&[n],p(r)):t["$"+e](r,n)},m=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=m,m.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"build_registry",null,p(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],p(e)):this.$build_registry()},m.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,p(t)):Opal.send(this,"register",[t],p(e))},m.getGroups=function(){return r(this.$groups())},m.unregisterAll=function(){this.$unregister_all()},m.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,i=e.$$keys;n<i.length;n++){var $=i[n];r[$.toString()]=$}for(var a=0;a<t.length;a++){var o=t[a];o in r&&Opal.hash_delete(e,r[o])}};var g=m.Registry;g.$$proto.getGroups=m.getGroups,g.$$proto.unregisterAll=function(){this.groups=Opal.hash()},g.$$proto.unregister=m.unregister,g.$$proto.block=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"block",e,t)},g.$$proto.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"inline_macro",e,t)},g.$$proto.includeProcessor=function(t){return y(this,"include_processor",t)},g.$$proto.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"block_macro",e,t)},g.$$proto.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"tree_processor",e,t)},g.$$proto.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"postprocessor",e,t)},g.$$proto.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"preprocessor",e,t)},g.$$proto.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),y(this,"docinfo_processor",e,t)};var v=m.Processor;v.$$proto.process=function(t){return Opal.send(this,"process",null,p(t))},v.$$proto.named=function(t){return this.$named(t)},v.$$proto.createBlock=function(t,r,n,i,$){return this.$create_block(t,r,n,e(i),e($))},v.$$proto.createImageBlock=function(t,r,n){return this.$create_image_block(t,e(r),e(n))},v.$$proto.createInline=function(t,r,n,i){return this.$create_inline(t,r,n,e(i))},v.$$proto.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},v.$$proto.positionalAttributes=function(t){return this.$positional_attrs(t)};var b=m.BlockProcessor;b.$$proto.onContext=function(t){return this.$on_context(t)},b.$$proto.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))},m.BlockMacroProcessor,m.IncludeProcessor.$$proto.handles=function(t){return Opal.send(this,"handles?",null,p(t))},m.TreeProcessor,m.Postprocessor,m.Preprocessor,m.DocinfoProcessor.$$proto.atLocation=function(t){this.$at_location(t)};var w=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=w,w.$$proto.convert=function(t,r,n){return this.$convert(t,r,e(n))},w.BuiltIn.$$proto.convert=w.$$proto.convert;var E=Opal.Asciidoctor.Converter.Factory;return E.getDefault=function(t){return this.$default(t)},E.$$proto.create=function(t,r){return this.$create(t,e(r))},i.$$proto.getVersion=function(){return"1.5.6"},Opal.Asciidoctor})}).call(exports,function(){return this}(),__webpack_require__(15),"/")},243:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return h?h.convert(t):t}e.__esModule=!0;var $=r(4),a=n($),o=r(108),s=(n(o),r(238)),l=n(s),u=r(339),c=(n(u),r(338)),f=(n(c),r(240)),_=n(f),h=(0,_.default)(),d=i("\n\n== BỘ GÕ TIẾNG VIỆT S-KEY\n\n* S-Key, hay **S**imple-Key (Vietnamese Input Engine) là bộ gõ được ra đời nhằm thể nghiệm sự kết hợp giữa \nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm[kiểu gõ dấu Tubinhtran-MS] và http://chuvietnhanh.sourceforge.net/ChuVietNhanhCachGhiGonChuViet.htm[phương pháp ghi gọn chữ Việt].\n\nNOTE: Thử nghiệm bộ gõ bằng cách nhập vào khung bên dưới theo đúng các quy tắc của kiểu gõ Tubinhtran-MS + PP ghi gọn chữ Việt.\n\n`S-Key 2018.1.0 (Build 30/4/2018)`\n"),p=i('\n=== NHẬT KÝ PHÁT TRIỂN\n\n* **30/4/2018**: Cập nhật phiên bản 2018.1.0 (Build 30/4/2018)\n** Sửa lỗi bung phụ âm đầu chữ w -> ng/ngh: chỉ bung w -> ng/ngh khi từ có từ 2 kí tự trở lên và phải thỏa \n`ng + a,o,u,â,ă,ô,ư,ơ` hoặc `ngh + e,i,ê`.\nRiêng các phụ âm đầu chữ khác đã bung ngay từ lúc gõ theo đúng quy tắc.\n** Sửa lỗi khi gõ lặp các phím dấu, cũng như lặp hoặc có nhiều kí số trong từ.\n** Đơn giản hóa quá trình đổi chữ in hoa/chữ thường khi bấm phím Shift hoặc (và) CapsLock.\n\nCAUTION: Cơ chế test đã bị cũ, cần tinh chỉnh và sẽ công khai sau.\n\n* **29/4/2018**: Phát hành phiên bản S-Key mới hoàn toàn 2018.1.0 (Build 29/4/2018)\nLần này là sự thay đổi về vòng ngoài của giải thuật, phân tán một số thao tác tiền xử lí từ như: hủy dấu (nhờ thao tác hủy dấu, giờ đây không cần pha xử lý sửa chính tả như ở ghi chú tháng 12/2017 nữa), chống lặp,.. và giữ lại cách thức bỏ (thêm) dấu vào đúng vị trí nguyên âm của S-Key 2017. \n\n* **25/4/2018**: Bắt đầu phát triển phiên bản 2 (2018) của S-Key và di dời phiên bản cũ (2017) về địa chỉ https://nghiaht.github.io/skey/v1\n\n* **17/12/2017**: thực ra ở phiên bản tháng 11 đã phát hiện thứ tự bỏ dấu của S-key bị sai trong một số trường hợp,\nví dụ như muốn ra "huỳnh" mà cứ ra "hùynh", cho nên hôm nay đã phục hồi khâu xử lý thứ tự bỏ dấu về theo\nquy tắc gõ dấu kiểu cũ (là đoạn mã xử lý của bản build S-key đầu tiên)\nthay cho việc thực thi cơ chế bỏ dấu lai giữa kiểu mới và kiểu cũ trong phiên bản trước.\n(thực ra về cách xử lý bỏ dấu kiểu cũ, cũng chưa xử lý đúng được cho tất cả trường hợp, và hướng giải quyết sâu hơn sẽ được nói ở bên dưới).\n\nNói thêm về thứ tự bỏ dấu, nó cũng phức tạp hơn khi input của người dùng trên một từ có thể thay đổi sau vài phím gõ tiếp theo.\nLấy ví dụ:\n\n....\nGõ lần lượt phím h,o,a,2 => "hòa" (ĐÚNG)\nGõ tiếp (không khoảng trắng) n,g => hòang (SAI)\n....\n\nSự phức tạp đó là khi bộ gõ đã thực hiện bỏ dấu một lần cho từ hoàn chỉnh "hòa", nhưng sau đó từ này\nlại thay đổi bằng cách cộng thêm phụ âm cuối n,g thông qua input của người dùng.\nPhức tạp chứ không hẳn là phức tạp, tuy nhiên cũng nên chỉ ra để mọi người đọc nhật ký có thể hiểu thêm,\nvà cũng coi nó là 1 điểm "phức tạp" mà người phát triển gặp phải.\n\nNhư vậy với ví dụ trên, có một số hướng xử lý sâu hơn được nghĩ đến:\n\n....\nhòa => hòa + ng => Hủy dấu hòa và trả phím dấu 2 ra => hoa + ng + 2 => hoàng.\nMột hướng khác đó là áp dụng một bộ sửa lỗi chính tả bằng từ điển ở cuối pha xử lý input của người dùng.\nCũng với hòa => hòa + ng => hòang => Tìm trong từ điển chính tả tự thu thập với những luật như "òa" + "nguyên âm cuối" => Thay "òa" bằng "oà".\n....\n  \n* **14/12/2017**: tiếp tục về phần xử lý gõ lặp một số phím, nhưng hôm nay là 2 phím phụ âm "z" (trong gõ "z" bung ra "d")\nvà "d" (trong gõ "d" bung ra "đ"). Đối với "d", vốn có thể từ "z" => "d", hay "d" => "đ" nên sẽ thêm\nmột chút phức tạp trong khâu xử lý. Tuy nhiên cũng có thể tận dụng lại cách xử lý gõ lặp các phím dấu,\ncác phím số bung ra nguyên âm hôm trước cho bản build 2017.12.14 này.\n\n* **10/11/2017**: có thể thấy đây là một buổi tối làm việc khá tập trung, đã giải quyết được\nviệc gõ lặp các phím dấu chính (sắc huyền hỏi ngã nặng theo kiểu gõ Tubinhtran MS: 1,2,3,4,5; VD: a11 = a1)\nngay trong đêm. Và phần khó hơn phải trải qua 2 ngày (11 và 12) mới tìm cách tháo gỡ đó là khi gõ lặp\ncác phím 6,7,8,9,[,] vốn là các phím "tham lam", gọi là tham lam vì các phím này có thể đóng vai trò\nnhư một phím tắt theo kiểu gõ Tubinhtran-MS để bung ra các nguyên âm/phụ âm như â,ê,ô,ă,ơ,ư, và ngoài ra\nchúng còn có hành vi tương tự khi gõ lặp giống với các phím dấu chính (1,2,3,4,5). Thực sự phức tạp hơn\ntưởng tượng, trong quá trình làm còn tính đến giải quyết khi gõ in hoa và lặp các phím trên, v.v.\n\nTuy nhiên cũng vui vẻ là bản build 2017.11.12.1 đã cơ bản giải quyết được, các trường hợp test mặc dù\nbị bôi đỏ FAIL nhưng thực chất khi gõ trong khung soạn thảo S-key ở trên vẫn ra đúng, báo đỏ FAIL chỉ vì\ncơ chế test hiện tại chưa mô phỏng được các tình huống gõ lặp phím một cách chính xác => Cần thay đổi\ncơ chế test thêm một lần nữa.\n\nMột số trường hợp đã giải quyết như:\na11,\nhoa36,\nh^16,\n...\n\nKết thúc một ngày Chủ Nhật đầy suy nghĩ và thử nghiệm khá nhiều với một phiên bản của S-key đã trưởng thành hơn,\nphức tạp hơn.\n\nViệc vẫn còn đó là với trường hợp gõ lặp các phím phụ âm được gõ bởi 1 phím (z -> d, d -> đ). Xin hẹn\ngiải quyết nốt chúng vào tuần sau.\n\n* **29/10/2017**: tạm thời đóng băng S-key phiên bản cũ, vốn phụ thuộc nhiều vào quy tắc bỏ dấu kiểu cũ,\nnhận thấy sự thiếu nhất quán trong một số trường hợp nguyên âm ghép có hay không có phụ âm cuối (hòa, hoà,\nhoàng,...) => Tạm chuyển\nhướng sang bỏ dấu kiểu mới => Lấy thêm dữ liệu test từ bài viết\nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm\nsợ bộ thì cách bỏ dấu kiểu mới lại liền mạch, dễ làm, trong đa số các trường hợp, tuy nhiên vẫn cần theo\ndõi\nthêm.\n\nSự bất cập, đấu tranh giữa quy tắc bỏ dấu kiểu cũ và kiểu mới đã có từ lâu, với cách nhìn của một người\nđang\ntự thực thi lại chúng, nhận thấy có thể nên "ép" người dùng bộ gõ của mình sang một cách tổng hợp,\nsao cho phải là cách hợp lý về mặt phát âm, thẩm mỹ, được đa số chấp thuận, vừa cũng là cách nhằm tiết\nkiệm\nsức lực khi phát triển bộ gõ, không phải băn khoăn trong việc níu kéo, cầu toàn, chuyển đổi giữa cả 2 quy\ntắc.\n\n* *T8/2017*: Nếu đã thiết lập bộ test với kiểu gõ Tubinhtran-MS thành công, bỏ dấu đúng với tất cả trường\nhợp\ngõ\nphím.\nTiến hành tích hợp Phương pháp Tốc ký Chữ Việt Nhanh, xây dựng thêm bộ test với các trường hợp trong pp\nnày.\n\n* Mục tiêu tuần **12/6/2017**: đánh giá lại toàn bộ mã, thiết lập bộ test hầu hết các trường hợp gõ phím và\nđiều chỉnh mã để có thể test một cách "máy móc" hơn. Cố gắng có thể mô phỏng lại thứ tự thao tác gõ phím\nvà đảm\nbảo\nengine của bộ gõ có thể đáp ứng được. Vd:\n\n....\nInput: [c,h,Shift_A,o,2] -> Output: chÀo \nInput: [c,h,Capslock,a,Capslock,o,2] -> Output: chÀo\n....\n\n* **10/6/2017**: cập nhật mã xử lý trạng thái phím Shift, Capslock, và đã có thể bỏ dấu chữ in hoa, chữ thường\nlẫn lộn (kể cả các chữ gõ bằng một phím).\n\n** Có một số lấn cấn ở cách bỏ dấu kiểu cũ, kiểu mới, do phát hiện các trường hợp ngoại lệ ở các cặp "oa", "oe", "uy".\n** Tạm thời quy ước trong mã và tinh chỉnh để bỏ dấu đúng (vd: huỳnh # hùynh).\n** Tạm sửa vị trí bỏ dấu ở cặp "ia", "ua" (già # gìa, quà # qùa).\n** Có thể phải xác nhận lại cách bỏ dấu: cũ hay mới, hoặc sinh ra bộ sửa lỗi chính tả?\n\n* Mục tiêu tuần **29/5/2017**: thay đổi cách thức nhận phím gõ của người dùng, nhận diện được tình trạng các phím CapsLock, \nShift (liên quan đến các chữ gõ bằng một phím) để có thể gõ được chữ in hoa, chữ thường đan xen (DANG DỞ).\n\n* Tuần **22/5/2017**: thay đổi cách tiếp cận, vận dụng một số khái niệm cơ bản của lexer, tokenizer và hình\nthành bản phôi thai đầu tiên, có thể gõ dấu hoàn chỉnh theo kiểu gõ Tubinhtran-MS, chưa gõ dấu chữ in hoa được.\n\n* Tuần **8/5/2017**: khởi động dự án, tìm kiếm ý tưởng, cách thức thực thi từ những dự án tương tự trước đó.              \n'),y=i("\n=== THÔNG TIN THÊM\n\n* https://nghiaht.github.io/skey[S-Key (C) 2017 - 2018] - Tác giả: https://nghiaht.github.io[Huỳnh Trọng Nghĩa]\n* Thông tin trên trang này được viết theo https://asciidoctor.org/docs/asciidoc-syntax-quick-reference[cú pháp Asciidoctor]\n* Giao diện trang web nhờ vào https://foundation.zurb.com/[Foundation] \n"),m=function(){return a.default.createElement("div",null,a.default.createElement("div",{dangerouslySetInnerHTML:{__html:d}}),a.default.createElement(l.default,null),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:p}}),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:y}}))};e.default=m,t.exports=e.default},245:function(t,e,r){(function(t){"use strict";function e(t,e){return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}function n(t){for(var e=0,r=[];e<t.length;){for(var n=null,i=0;i<j.length;i++){var $=j[i],a=$[0],o=$[1],s=t[e];if(n=a.test(s)){if(o){var l=[s,o];r.push(l)}break}}e+=1}return r}function i(t){for(var e=[],r=[],n=0;n<t.length;n++){var i=t[n];(O.test(i)||A.test(i))&&(e=e.concat(r),r=[]);var $=H[i];$?1===$.length?e.push($):2===$.length&&(e.push($[0]),r.push($[1])):e.push(i)}r.length>0&&(e=e.concat(r));var a=e.join("");return a}function $(t){if(d.logger.debug("- Deduplicate",t),1===t.length)return t;for(var e=""+t[0],r=!1,n=1;n<t.length;n++){var i=t[n],$=V[i];if(!r)if($){if(0===e.indexOf($)){e=e.replace($,i),r=!0;continue}}else{var a=K[i];if(a){var o=t[n-1];if(o&&o===a){e=e.replace(o,i),r=!0;continue}}}e+=i}return e}function a(t){for(var e=[],r=t.length,n=!1,i=0;i<r;i++){var $=t[i],a=$.slice();if(a[1]===b){if(0===i){var o=V[a[0]];if(o){var s=1===r;"w"===a[0]&&(s=2===r),s&&(a[1]=k)}}else if(i===r-1){var l=J[a[0]],u=e[i-1];d.logger.debug("foundEndOfWordConsonant",l,u),l&&u&&(u[1]===m||u[1]===v||u[1]===p)&&u[0]!==l[0]&&(a[1]=x)}}else if(a[1]===m);else if(a[1]===w){var c=e[i-1],f=!0;if(c&&(f=!(c[1]===E||c[1]===w||c[1]===p||c[1]===y)),f)M.test(a[0])?a[1]=y:K[a[0]]&&(a[1]=p);else if(c){var _=t[i+1];if(c[1]===y&&c[0]===a[0]&&!n&&!_){n=!0,c[1]=E;continue}c[1]=E}}else $[1]===E&&K[a[0]]&&(a[1]=p);e.push(a)}return e}function o(t){for(var e=void 0,r=void 0,i=void 0,$=void 0,a=void 0,o=void 0,l=t.slice(),u=0;u<l.length;u++){var f=l[u];if(f[1]===k){var _=V[f[0]];if(_){var h=!0;if(d.logger.debug("token",f),"w"===f[0])if(2!==t.length)h=!1;else{var g=l[u+1];g?Z.ng.test(g[0])&&("Ng"===_?_="Ngh":"ng"===_&&(_="ngh")):h=!1}h&&(l=l.slice(0,u).concat(n(_)).concat(l.slice(u+1)))}}else if(f[1]===x){var v=J[f[0]];v&&(l=l.slice(0,u).concat(n(v)).concat(l.slice(u+1)))}else if(f[1]===p){var w=K[f[0]];w&&(l=l.slice(0,u).concat(n(w)).concat(l.slice(u+1)))}}for(var E=c(l),A=0;A<X.length;A++){var O=X[A],M=E.indexOf(O);if(M!==-1){var S=W[O];S=2===S.length&&0===M?S[1]:S[0],l=l.slice(0,M).concat(n(S)).concat(l.slice(M+O.length));break}}for(var T=0;T<l.length;T++){var R=l[T];R[1]===m?("êơÊƠ".indexOf(R[0])!==-1&&(o=[T,R]),i=r?[T,R]:i,r=!r&&e?[T,R]:r,e=e?e:[T,R]):R[1]===y?a=[T,R]:R[1]===b&&($=e||r||i?[T,R]:$)}if(o&&a){var I=s(o[1],a[1]);I&&(l[o[0]]=I,l.splice(a[0],1))}else if(i&&a){var C=s(r[1],a[1]);C&&(l[r[0]]=C,l.splice(a[0],1))}else if(r&&$&&a){var N=s(r[1],a[1]);N&&(l[r[0]]=N,l.splice(a[0],1))}else if(e&&a){var z="gi|qu",P=l[0][0]+l[1][0];if(r&&z.indexOf(P)!==-1){var B=s(r[1],a[1]);B&&(l[r[0]]=B,l.splice(a[0],1))}else{var q=s(e[1],a[1]);q&&(l[e[0]]=q,l.splice(a[0],1))}}return l}function s(t,e){var r=K[t[0]+e[0]];return r?[r,m]:null}function l(t,e){d.logger.debug("Last is UPPERCASE",e);for(var r=0;r<t.length;r++){var s=t[r-1],l=t[r];if(s&&(A.test(l)&&A.test(s)||M.test(l)&&M.test(s)))return d.logger.debug("stop"),t}var u=i(t),_=$(t);if(_.length!==t.length)return f(_,e);var h=i(u),p=n(h);d.logger.debug("- Lex",p);var y=a(p);d.logger.debug("- Parse",y);var m=o(y);return d.logger.debug("- Finalize",m),f(c(m),e)}function u(t,e){return d.logger.debug("Mofidiers status",e),0===t.trim().length?t:l(t,_(e))}function c(t){return t.map(function(t){return t[0]}).join("")}function f(t,e){var r=t.split(""),n=r.length-1;return d.logger.debug("Fix Uppercase",t,e),e?r[n]=r[n].toUpperCase():r[n]=r[n].toLowerCase(),r.join("")}function _(t){if(t){if(t.shift&&t.capslock)return!1;if(t.shift||t.capslock)return!0}return!1}var h,d=r(246),p="ONE_KEY_VOWEL_TAG",y="ACCENT_KEY_TAG",m="VOWEL_TAG",g="ACCENTIZED_VOWEL_TAG",v="SEMI_ACCENTIZED_VOWEL_TAG",b="CONSONANT_TAG",w="DIGIT_TAG",E="SYMBOL_TAG",k="START_OF_WORD_CONSONANT_TAG",x="END_OF_WORD_CONSONANT_TAG",A=/[^0-9aăâeêioôơuưyáàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵbcdđfghjklmnpqrstvwxz]+/i,O=/[0-9]+/,M=/[1-5]+/,S=/[áàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵ]+/i,T=/[aăâeêioôơuưy]+/i,R="a á à ả ã ạ",I="â ấ ầ ẩ ẫ ậ 6 ^",C="ă ắ ằ ẳ ẵ ặ 9 (",N="e é è ẻ ẽ ẹ",z="ê ế ề ể ễ ệ 7 &",P="i í ỉ ĩ ị",B="o ó ò ỏ õ ọ",q="ô ố ồ ổ ỗ ộ 8 *",D="ơ ớ ờ ở ỡ ợ \\] }",L="u ú ù ủ ũ ụ",F="ư ứ ừ ử ữ ự \\[ {",j=[[/[ \n\t]+/,null],[O,w],[S,g],[T,m],[/[bcdđfghjklmnpqrstvwxz]+/i,b],[A,E]],U={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}"},H=(h={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}","á":"a1","à":"a2","ả":"a3","ã":"a4","ạ":"a5","ắ":"ă1","ằ":"ă2","ẳ":"ă3","ẵ":"ă4","ặ":"ă5","ấ":"â1","ầ":"â2","ẩ":"â3","ẫ":"â4","ậ":"â5","é":"e1","è":"e2","ẻ":"e3","ẽ":"e4","ẹ":"e5","ế":"ê1","ề":"ê2","ể":"ê3","ễ":"ê4","ệ":"ê5","í":"i1","ì":"i2","ỉ":"i3","ĩ":"i4","ị":"i5","ó":"o1","ò":"o2","ỏ":"o3","õ":"o4","ọ":"o5","ớ":"ơ1","ờ":"ơ2","ở":"ơ3","ỡ":"ơ4","ợ":"ơ5","ố":"ô1","ồ":"ô2","ổ":"ô3","ỗ":"ô4","ộ":"ô5","ú":"u1","ù":"u2","ủ":"u3","ũ":"u4","ụ":"u5","ứ":"ư1","ừ":"ư2","ử":"ư3","ữ":"ư4","ự":"ư5","ý":"y1","ỳ":"y2","ỷ":"y3","ỹ":"y4","ỵ":"y5","Á":"A1","À":"A2","Ả":"A3","Ã":"A4","Ạ":"A5","Ắ":"Ă1","Ằ":"Ă2","Ẳ":"Ă3","Ẵ":"Ă4","Ặ":"Ă5","Ấ":"Â1","Ầ":"Â2","Ẩ":"Â3","Ẫ":"Â4","Ậ":"Â5","É":"E1","È":"E2","Ẻ":"E3","Ẽ":"E4","Ẹ":"E5","Ế":"Ê1","Ề":"Ê2","Ể":"Ê3","Ễ":"Ê4","Ệ":"Ê5","Í":"I1","Ì":"I2","Ỉ":"I3","Ĩ":"I4","Ị":"I5","Ó":"O1","Ò":"O2","Ỏ":"O3","Õ":"O4","Ọ":"O5"},h["ớ"]="ơ1",h["ờ"]="ơ2",h["ở"]="ơ3",h["ỡ"]="ơ4",h["ợ"]="ơ5",h["ố"]="ô1",h["ồ"]="ô2",h["ổ"]="ô3",h["ỗ"]="ô4",h["ộ"]="ô5",h["Ú"]="U1",h["Ù"]="U2",h["Ủ"]="U3",h["Ũ"]="U4",h["Ụ"]="U5",h["Ứ"]="Ư1",h["Ừ"]="Ư2",h["Ử"]="Ư3",h["Ữ"]="Ư4",h["Ự"]="Ư5",h["Ý"]="Y1",h["Ỳ"]="Y2",h["Ỷ"]="Y3",h),G={ph:"f",kh:"k",ng:"w",gi:"j",gh:"g",qu:"q",Ph:"F",Kh:"K",Ng:"W",Gi:"J",Gh:"G",Qu:"Q",k:"c",d:"z","đ":"d",K:"C",D:"Z","Đ":"D"},Y={ng:"g",nh:"h",ch:"k"},W={id:["iêt","yêt"],if:["iêp"],is:["iêc"],il:["iên","yên"],iv:["iêm","yêm"],iz:["iêng","yêng"],iw:["iêu","yêu"],yd:["uyêt"],yl:["uyên"],ud:["uôt"],us:["uôc"],ul:["uôn"],uv:["uôm"],uz:["uông"],uj:["uôi"],"ưd":["ươt"],"ưf":["ươp"],"ưs":["ươc"],"ưl":["ươn"],"ưv":["ươm"],"ưz":["ương"],"ưj":["ươi"],"ưw":["ươu"],"ơd":["uơt"],"ơl":["uơn"],"âd":["uât"],"âl":["uân"],"âz":["uâng"],"âj":["uây"],"ăd":["oăt"],"ăs":["oăc"],"ăl":["oăn"],"ăv":["oăm"],"ăz":["oăng"],ed:["oet"],el:["oen"],ev:["oem"],ew:["oeo"],od:["oat"],of:["oap"],os:["oac"],ol:["oan"],ov:["oam"],oz:["oang"],oj:["oai"],ow:["oao"],aj:["oay"]},X=Object.keys(W),K=e(H,{}),V=e(G,{}),J=e(Y,{}),Z=(e(U,{}),{ph:new RegExp(["[",C,"]"].join(""),"i"),k:new RegExp(["[",R,B,L,I,C,q,F,D,"]"].join(""),"i"),gh:new RegExp(["[",B,L,I,C,z,q,F,D,"]"].join(""),"i"),qu:new RegExp(["[",B,L,q,F,D,"]"].join(""),"i"),ng:new RegExp(["[",N,P,z,"]"].join(""),"i"),ngh:new RegExp(["[",R,B,L,I,C,q,F,D,"]"].join(""),"i")});r.c[0]===t,t.exports={lex:n,unaccentize:i,deduplicate:$,makeWord:c,doEvaluate:u}}).call(e,r(221)(t))},246:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.logger=void 0;var i=r(247),$=n(i);e.logger=$.default},247:function(t,e,r){"use strict";e.__esModule=!0;var n=r(258);n.logger.setLevel("ERROR"),e.default=n.logger,t.exports=e.default},257:function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function i(t){var e,n,i,$,a,o=t.length;$=r(t),a=new u(3*o/4-$),n=$>0?o-4:o;var s=0;for(e=0;e<n;e+=4)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===$?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[s++]=255&i):1===$&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}function $(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function a(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push($(n));return i.join("")}function o(t){for(var e,r=t.length,n=r%3,i="",$=[],o=16383,l=0,u=r-n;l<u;l+=o)$.push(a(t,l,l+o>u?u:l+o));return 1===n?(e=t[r-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),$.push(i),$.join("")}e.byteLength=n,e.toByteArray=i,e.fromByteArray=o;for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,_=c.length;f<_;++f)s[f]=c[f],l[c.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},258:function(t,e,r){(function(t){function n(t,e){console.log.apply(null,[$[t]+":"].concat(Object.keys(e).map(function(t){return e[t]})))}function i(t,e){a<=t&&o.log(t,e)}e.LOGGING_LEVELS=LOGGING_LEVELS={NOTSET:0,DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50};var $={};Object.keys(LOGGING_LEVELS).map(function(t){$[LOGGING_LEVELS[t]]=t});var a=LOGGING_LEVELS.NOTSET;const o={};o.log=n;const s={};s.setLevel=function(t){var e=LOGGING_LEVELS[t];if(!isNaN(e))return void(a=e);var r=parseInt(t);if(isNaN(r))throw new Error("Invalid logging level");a=t},s.log=function(t,e){i(t,e)},s.debug=function(t){this.log(LOGGING_LEVELS.DEBUG,arguments)},s.info=function(t){this.log(LOGGING_LEVELS.INFO,arguments)},s.warning=function(t){this.log(LOGGING_LEVELS.WARNING,arguments)},s.error=function(t){this.log(LOGGING_LEVELS.ERROR,arguments)},s.critical=function(t){this.log(LOGGING_LEVELS.CRITICAL,arguments)},e.logger=s,e.Logging=o,r.c[0]===t&&s.info("hihiii")}).call(e,r(221)(t))},338:function(t,e){},339:function(t,e){},366:function(t,e,r){(function(e){"use strict";function n(t){i.call(this),this._block=new e(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=r(218).Transform,$=r(8);$(n,i),n.prototype._transform=function(t,r,n){var i=null;try{"buffer"!==r&&(t=new e(t,r)),this.update(t)}catch(t){i=t}n(i)},n.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(t){e=t}t(e)},n.prototype.update=function(t,r){if(!e.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");e.isBuffer(t)||(t=new e(t,r||"binary"));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var $=this._blockOffset;$<this._blockSize;)n[$++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,o=8*t.length;o>0;++a)this._length[a]+=o,o=this._length[a]/4294967296|0,o>0&&(this._length[a]-=4294967296*o);return this},n.prototype._update=function(t){throw new Error("_update is not implemented")},n.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return void 0!==t&&(e=e.toString(t)),e},n.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=n}).call(e,r(7).Buffer)},367:function(t,e){e.read=function(t,e,r,n,i){var $,a,o=8*i-n-1,s=(1<<o)-1,l=s>>1,u=-7,c=r?i-1:0,f=r?-1:1,_=t[e+c];for(c+=f,$=_&(1<<-u)-1,_>>=-u,u+=o;u>0;$=256*$+t[e+c],c+=f,u-=8);for(a=$&(1<<-u)-1,$>>=-u,u+=n;u>0;a=256*a+t[e+c],c+=f,u-=8);if(0===$)$=1-l;else{if($===s)return a?NaN:(_?-1:1)*(1/0);a+=Math.pow(2,n),$-=l}return(_?-1:1)*a*Math.pow(2,$-n)},e.write=function(t,e,r,n,i,$){var a,o,s,l=8*$-i-1,u=(1<<l)-1,c=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:$-1,h=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+c>=1?f/s:f*Math.pow(2,1-c),e*s>=2&&(a++,s/=2),a+c>=u?(o=0,a=u):a+c>=1?(o=(e*s-1)*Math.pow(2,i),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+_]=255&o,_+=h,o/=256,i-=8);for(a=a<<i|o,l+=i;l>0;t[r+_]=255&a,_+=h,a/=256,l-=8);t[r+_-h]|=128*d}},375:function(t,e,r){function n(t){return r(i(t))}function i(t){return $[t]||function(){throw new Error("Cannot find module '"+t+"'.");
}()}var $={"./base64":115,"./base64.js":115,"./index":116,"./index.js":116,"./nodejs":117,"./nodejs.js":117,"./opal":118,"./opal.js":118,"./open-uri":119,"./open-uri.js":119,"./pathname":120,"./pathname.js":120,"./stringio":121,"./stringio.js":121};n.keys=function(){return Object.keys($)},n.resolve=i,t.exports=n,n.id=375},376:function(t,e,r){(function(e){t.exports=function(t){function r(t,e,r,i,$,a){if("function"==typeof $&&(a=$,$=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var o;try{o=n(t,e,r,i,$)}catch(t){return a(t)}a(void 0,o)})}function n(r,n,i,$,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof $)throw new TypeError("Key length not a number");if($<0)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(r)||(r=new e(r)),e.isBuffer(n)||(n=new e(n));var o,s,l,u=1,c=new e($),f=new e(n.length+4);n.copy(f,0,0,n.length);for(var _=1;_<=u;_++){f.writeUInt32BE(_,n.length);var h=t.createHmac(a,r).update(f).digest();if(!o&&(o=h.length,l=new e(o),u=Math.ceil($/o),s=$-(u-1)*o,$>(Math.pow(2,32)-1)*o))throw new TypeError("keylen exceeds maximum length");h.copy(l,0,0,o);for(var d=1;d<i;d++){h=t.createHmac(a,r).update(h).digest();for(var p=0;p<o;p++)l[p]^=h[p]}var y=(_-1)*o,m=_==u?s:o;l.copy(c,y,0,m)}return c}return{pbkdf2:r,pbkdf2Sync:n}}}).call(e,r(7).Buffer)},475:function(t,e,r){t.exports=r(28)},476:function(t,e,r){"use strict";function n(t){return this instanceof n?void i.call(this,t):new n(t)}t.exports=n;var i=r(213),$=r(52);$.inherits=r(8),$.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},477:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r){t.copy(e,r)}var $=r(17).Buffer,a=r(505);t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return $.alloc(0);if(1===this.length)return this.head.data;for(var e=$.allocUnsafe(t>>>0),r=this.head,n=0;r;)i(r.data,e,n),n+=r.data.length,r=r.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},478:function(t,e,r){t.exports=r(142).PassThrough},479:function(t,e,r){t.exports=r(142).Transform},480:function(t,e,r){t.exports=r(141)},482:function(t,e,r){(function(e){"use strict";function n(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function $(t,e,r,n,$,a,o,s){return i(t+(e^r^n)+a+o|0,s)+$|0}function a(t,e,r,n,$,a,o,s){return i(t+(e&r|~e&n)+a+o|0,s)+$|0}function o(t,e,r,n,$,a,o,s){return i(t+((e|~r)^n)+a+o|0,s)+$|0}function s(t,e,r,n,$,a,o,s){return i(t+(e&n|r&~n)+a+o|0,s)+$|0}function l(t,e,r,n,$,a,o,s){return i(t+(e^(r|~n))+a+o|0,s)+$|0}var u=r(8),c=r(366);u(n,c),n.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,u=this._c,c=this._d,f=this._e;r=$(r,n,u,c,f,t[0],0,11),u=i(u,10),f=$(f,r,n,u,c,t[1],0,14),n=i(n,10),c=$(c,f,r,n,u,t[2],0,15),r=i(r,10),u=$(u,c,f,r,n,t[3],0,12),f=i(f,10),n=$(n,u,c,f,r,t[4],0,5),c=i(c,10),r=$(r,n,u,c,f,t[5],0,8),u=i(u,10),f=$(f,r,n,u,c,t[6],0,7),n=i(n,10),c=$(c,f,r,n,u,t[7],0,9),r=i(r,10),u=$(u,c,f,r,n,t[8],0,11),f=i(f,10),n=$(n,u,c,f,r,t[9],0,13),c=i(c,10),r=$(r,n,u,c,f,t[10],0,14),u=i(u,10),f=$(f,r,n,u,c,t[11],0,15),n=i(n,10),c=$(c,f,r,n,u,t[12],0,6),r=i(r,10),u=$(u,c,f,r,n,t[13],0,7),f=i(f,10),n=$(n,u,c,f,r,t[14],0,9),c=i(c,10),r=$(r,n,u,c,f,t[15],0,8),u=i(u,10),f=a(f,r,n,u,c,t[7],1518500249,7),n=i(n,10),c=a(c,f,r,n,u,t[4],1518500249,6),r=i(r,10),u=a(u,c,f,r,n,t[13],1518500249,8),f=i(f,10),n=a(n,u,c,f,r,t[1],1518500249,13),c=i(c,10),r=a(r,n,u,c,f,t[10],1518500249,11),u=i(u,10),f=a(f,r,n,u,c,t[6],1518500249,9),n=i(n,10),c=a(c,f,r,n,u,t[15],1518500249,7),r=i(r,10),u=a(u,c,f,r,n,t[3],1518500249,15),f=i(f,10),n=a(n,u,c,f,r,t[12],1518500249,7),c=i(c,10),r=a(r,n,u,c,f,t[0],1518500249,12),u=i(u,10),f=a(f,r,n,u,c,t[9],1518500249,15),n=i(n,10),c=a(c,f,r,n,u,t[5],1518500249,9),r=i(r,10),u=a(u,c,f,r,n,t[2],1518500249,11),f=i(f,10),n=a(n,u,c,f,r,t[14],1518500249,7),c=i(c,10),r=a(r,n,u,c,f,t[11],1518500249,13),u=i(u,10),f=a(f,r,n,u,c,t[8],1518500249,12),n=i(n,10),c=o(c,f,r,n,u,t[3],1859775393,11),r=i(r,10),u=o(u,c,f,r,n,t[10],1859775393,13),f=i(f,10),n=o(n,u,c,f,r,t[14],1859775393,6),c=i(c,10),r=o(r,n,u,c,f,t[4],1859775393,7),u=i(u,10),f=o(f,r,n,u,c,t[9],1859775393,14),n=i(n,10),c=o(c,f,r,n,u,t[15],1859775393,9),r=i(r,10),u=o(u,c,f,r,n,t[8],1859775393,13),f=i(f,10),n=o(n,u,c,f,r,t[1],1859775393,15),c=i(c,10),r=o(r,n,u,c,f,t[2],1859775393,14),u=i(u,10),f=o(f,r,n,u,c,t[7],1859775393,8),n=i(n,10),c=o(c,f,r,n,u,t[0],1859775393,13),r=i(r,10),u=o(u,c,f,r,n,t[6],1859775393,6),f=i(f,10),n=o(n,u,c,f,r,t[13],1859775393,5),c=i(c,10),r=o(r,n,u,c,f,t[11],1859775393,12),u=i(u,10),f=o(f,r,n,u,c,t[5],1859775393,7),n=i(n,10),c=o(c,f,r,n,u,t[12],1859775393,5),r=i(r,10),u=s(u,c,f,r,n,t[1],2400959708,11),f=i(f,10),n=s(n,u,c,f,r,t[9],2400959708,12),c=i(c,10),r=s(r,n,u,c,f,t[11],2400959708,14),u=i(u,10),f=s(f,r,n,u,c,t[10],2400959708,15),n=i(n,10),c=s(c,f,r,n,u,t[0],2400959708,14),r=i(r,10),u=s(u,c,f,r,n,t[8],2400959708,15),f=i(f,10),n=s(n,u,c,f,r,t[12],2400959708,9),c=i(c,10),r=s(r,n,u,c,f,t[4],2400959708,8),u=i(u,10),f=s(f,r,n,u,c,t[13],2400959708,9),n=i(n,10),c=s(c,f,r,n,u,t[3],2400959708,14),r=i(r,10),u=s(u,c,f,r,n,t[7],2400959708,5),f=i(f,10),n=s(n,u,c,f,r,t[15],2400959708,6),c=i(c,10),r=s(r,n,u,c,f,t[14],2400959708,8),u=i(u,10),f=s(f,r,n,u,c,t[5],2400959708,6),n=i(n,10),c=s(c,f,r,n,u,t[6],2400959708,5),r=i(r,10),u=s(u,c,f,r,n,t[2],2400959708,12),f=i(f,10),n=l(n,u,c,f,r,t[4],2840853838,9),c=i(c,10),r=l(r,n,u,c,f,t[0],2840853838,15),u=i(u,10),f=l(f,r,n,u,c,t[5],2840853838,5),n=i(n,10),c=l(c,f,r,n,u,t[9],2840853838,11),r=i(r,10),u=l(u,c,f,r,n,t[7],2840853838,6),f=i(f,10),n=l(n,u,c,f,r,t[12],2840853838,8),c=i(c,10),r=l(r,n,u,c,f,t[2],2840853838,13),u=i(u,10),f=l(f,r,n,u,c,t[10],2840853838,12),n=i(n,10),c=l(c,f,r,n,u,t[14],2840853838,5),r=i(r,10),u=l(u,c,f,r,n,t[1],2840853838,12),f=i(f,10),n=l(n,u,c,f,r,t[3],2840853838,13),c=i(c,10),r=l(r,n,u,c,f,t[8],2840853838,14),u=i(u,10),f=l(f,r,n,u,c,t[11],2840853838,11),n=i(n,10),c=l(c,f,r,n,u,t[6],2840853838,8),r=i(r,10),u=l(u,c,f,r,n,t[15],2840853838,5),f=i(f,10),n=l(n,u,c,f,r,t[13],2840853838,6),c=i(c,10);var _=this._a,h=this._b,d=this._c,p=this._d,y=this._e;_=l(_,h,d,p,y,t[5],1352829926,8),d=i(d,10),y=l(y,_,h,d,p,t[14],1352829926,9),h=i(h,10),p=l(p,y,_,h,d,t[7],1352829926,9),_=i(_,10),d=l(d,p,y,_,h,t[0],1352829926,11),y=i(y,10),h=l(h,d,p,y,_,t[9],1352829926,13),p=i(p,10),_=l(_,h,d,p,y,t[2],1352829926,15),d=i(d,10),y=l(y,_,h,d,p,t[11],1352829926,15),h=i(h,10),p=l(p,y,_,h,d,t[4],1352829926,5),_=i(_,10),d=l(d,p,y,_,h,t[13],1352829926,7),y=i(y,10),h=l(h,d,p,y,_,t[6],1352829926,7),p=i(p,10),_=l(_,h,d,p,y,t[15],1352829926,8),d=i(d,10),y=l(y,_,h,d,p,t[8],1352829926,11),h=i(h,10),p=l(p,y,_,h,d,t[1],1352829926,14),_=i(_,10),d=l(d,p,y,_,h,t[10],1352829926,14),y=i(y,10),h=l(h,d,p,y,_,t[3],1352829926,12),p=i(p,10),_=l(_,h,d,p,y,t[12],1352829926,6),d=i(d,10),y=s(y,_,h,d,p,t[6],1548603684,9),h=i(h,10),p=s(p,y,_,h,d,t[11],1548603684,13),_=i(_,10),d=s(d,p,y,_,h,t[3],1548603684,15),y=i(y,10),h=s(h,d,p,y,_,t[7],1548603684,7),p=i(p,10),_=s(_,h,d,p,y,t[0],1548603684,12),d=i(d,10),y=s(y,_,h,d,p,t[13],1548603684,8),h=i(h,10),p=s(p,y,_,h,d,t[5],1548603684,9),_=i(_,10),d=s(d,p,y,_,h,t[10],1548603684,11),y=i(y,10),h=s(h,d,p,y,_,t[14],1548603684,7),p=i(p,10),_=s(_,h,d,p,y,t[15],1548603684,7),d=i(d,10),y=s(y,_,h,d,p,t[8],1548603684,12),h=i(h,10),p=s(p,y,_,h,d,t[12],1548603684,7),_=i(_,10),d=s(d,p,y,_,h,t[4],1548603684,6),y=i(y,10),h=s(h,d,p,y,_,t[9],1548603684,15),p=i(p,10),_=s(_,h,d,p,y,t[1],1548603684,13),d=i(d,10),y=s(y,_,h,d,p,t[2],1548603684,11),h=i(h,10),p=o(p,y,_,h,d,t[15],1836072691,9),_=i(_,10),d=o(d,p,y,_,h,t[5],1836072691,7),y=i(y,10),h=o(h,d,p,y,_,t[1],1836072691,15),p=i(p,10),_=o(_,h,d,p,y,t[3],1836072691,11),d=i(d,10),y=o(y,_,h,d,p,t[7],1836072691,8),h=i(h,10),p=o(p,y,_,h,d,t[14],1836072691,6),_=i(_,10),d=o(d,p,y,_,h,t[6],1836072691,6),y=i(y,10),h=o(h,d,p,y,_,t[9],1836072691,14),p=i(p,10),_=o(_,h,d,p,y,t[11],1836072691,12),d=i(d,10),y=o(y,_,h,d,p,t[8],1836072691,13),h=i(h,10),p=o(p,y,_,h,d,t[12],1836072691,5),_=i(_,10),d=o(d,p,y,_,h,t[2],1836072691,14),y=i(y,10),h=o(h,d,p,y,_,t[10],1836072691,13),p=i(p,10),_=o(_,h,d,p,y,t[0],1836072691,13),d=i(d,10),y=o(y,_,h,d,p,t[4],1836072691,7),h=i(h,10),p=o(p,y,_,h,d,t[13],1836072691,5),_=i(_,10),d=a(d,p,y,_,h,t[8],2053994217,15),y=i(y,10),h=a(h,d,p,y,_,t[6],2053994217,5),p=i(p,10),_=a(_,h,d,p,y,t[4],2053994217,8),d=i(d,10),y=a(y,_,h,d,p,t[1],2053994217,11),h=i(h,10),p=a(p,y,_,h,d,t[3],2053994217,14),_=i(_,10),d=a(d,p,y,_,h,t[11],2053994217,14),y=i(y,10),h=a(h,d,p,y,_,t[15],2053994217,6),p=i(p,10),_=a(_,h,d,p,y,t[0],2053994217,14),d=i(d,10),y=a(y,_,h,d,p,t[5],2053994217,6),h=i(h,10),p=a(p,y,_,h,d,t[12],2053994217,9),_=i(_,10),d=a(d,p,y,_,h,t[2],2053994217,12),y=i(y,10),h=a(h,d,p,y,_,t[13],2053994217,9),p=i(p,10),_=a(_,h,d,p,y,t[9],2053994217,12),d=i(d,10),y=a(y,_,h,d,p,t[7],2053994217,5),h=i(h,10),p=a(p,y,_,h,d,t[10],2053994217,15),_=i(_,10),d=a(d,p,y,_,h,t[14],2053994217,8),y=i(y,10),h=$(h,d,p,y,_,t[12],0,8),p=i(p,10),_=$(_,h,d,p,y,t[15],0,5),d=i(d,10),y=$(y,_,h,d,p,t[10],0,12),h=i(h,10),p=$(p,y,_,h,d,t[4],0,9),_=i(_,10),d=$(d,p,y,_,h,t[1],0,12),y=i(y,10),h=$(h,d,p,y,_,t[5],0,5),p=i(p,10),_=$(_,h,d,p,y,t[8],0,14),d=i(d,10),y=$(y,_,h,d,p,t[7],0,6),h=i(h,10),p=$(p,y,_,h,d,t[6],0,8),_=i(_,10),d=$(d,p,y,_,h,t[2],0,13),y=i(y,10),h=$(h,d,p,y,_,t[13],0,6),p=i(p,10),_=$(_,h,d,p,y,t[14],0,5),d=i(d,10),y=$(y,_,h,d,p,t[0],0,15),h=i(h,10),p=$(p,y,_,h,d,t[3],0,13),_=i(_,10),d=$(d,p,y,_,h,t[9],0,11),y=i(y,10),h=$(h,d,p,y,_,t[11],0,11),p=i(p,10);var m=this._b+u+p|0;this._b=this._c+c+y|0,this._c=this._d+f+_|0,this._d=this._e+r+h|0,this._e=this._a+n+d|0,this._a=m},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=n}).call(e,r(7).Buffer)},485:function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return d[h]=n,_(h),h++}function i(t){delete d[t]}function $(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function a(t){if(p)setTimeout(a,0,t);else{var e=d[t];if(e){p=!0;try{$(e)}finally{i(t),p=!1}}}}function o(){_=function(t){e.nextTick(function(){a(t)})}}function s(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function l(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&a(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),_=function(r){t.postMessage(e+r,"*")}}function u(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},_=function(e){t.port2.postMessage(e)}}function c(){var t=y.documentElement;_=function(e){var r=y.createElement("script");r.onreadystatechange=function(){a(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function f(){_=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var _,h=1,d={},p=!1,y=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?o():s()?l():t.MessageChannel?u():y&&"onreadystatechange"in y.createElement("script")?c():f(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(15))},486:function(t,e,r){var e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};e.sha=r(487),e.sha1=r(488),e.sha224=r(489),e.sha256=r(216),e.sha384=r(490),e.sha512=r(217)},487:function(t,e,r){function n(){this.init(),this._w=c,s.call(this,64,56)}function i(t){return t<<5|t>>>27}function $(t){return t<<30|t>>>2}function a(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var o=r(8),s=r(45),l=r(17).Buffer,u=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);o(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,l=0|this._e,c=0;c<16;++c)e[c]=t.readInt32BE(4*c);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var f=0;f<80;++f){var _=~~(f/20),h=i(r)+a(_,n,o,s)+l+e[f]+u[_]|0;l=s,s=o,o=$(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=l+this._e|0},n.prototype._hash=function(){var t=l.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},488:function(t,e,r){function n(){this.init(),this._w=f,l.call(this,64,56)}function i(t){return t<<1|t>>>31}function $(t){return t<<5|t>>>27}function a(t){return t<<30|t>>>2}function o(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var s=r(8),l=r(45),u=r(17).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);s(n,l),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,s=0|this._c,l=0|this._d,u=0|this._e,f=0;f<16;++f)e[f]=t.readInt32BE(4*f);for(;f<80;++f)e[f]=i(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var _=0;_<80;++_){var h=~~(_/20),d=$(r)+o(h,n,s,l)+u+e[_]+c[h]|0;u=l,l=s,s=a(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=l+this._d|0,this._e=u+this._e|0},n.prototype._hash=function(){var t=u.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},489:function(t,e,r){function n(){this.init(),this._w=s,a.call(this,64,56)}var i=r(8),$=r(216),a=r(45),o=r(17).Buffer,s=new Array(64);i(n,$),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=n},490:function(t,e,r){function n(){this.init(),this._w=s,a.call(this,128,112)}var i=r(8),$=r(217),a=r(45),o=r(17).Buffer,s=new Array(160);i(n,$),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=o.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=n},493:function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(485),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},494:function(t,e){(function(e){function r(t,e){function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(e,function(){return this}())},496:function(t,e,r){(function(e){function n(t,r,$){return this instanceof n?(o.call(this),this._cache=new i,this._last=void 0,this._cipher=new a.AES(r),this._prev=new e($.length),$.copy(this._prev),void(this._mode=t)):new n(t,r,$)}function i(){return this instanceof i?void(this.cache=new e("")):new i}function $(t){var e=t[15];if(16!==e)return t.slice(0,16-e)}var a=r(143),o=r(144),s=r(8),l=r(145),u=r(228),c=r(222);s(n,o),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.decrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();return e?(this.push($(this._mode.decrypt(this,e))),void t()):t},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>16){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var f={ECB:r(226),CBC:r(223),CFB:r(224),OFB:r(227),CTR:r(225)};t.exports=function(t){function r(t,r,i){var $=l[t];if(!$)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==$.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==$.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===$.type?new u(f[$.mode],r,i,!0):new n(f[$.mode],r,i)}function i(e,n){var i=l[e];if(!i)throw new TypeError("invalid suite type");var $=c(t,n,i.key,i.iv);return r(e,$.key,$.iv)}return{createDecipher:i,createDecipheriv:r}}}).call(e,r(7).Buffer)},497:function(t,e,r){(function(e){function n(t,r,o){return this instanceof n?(a.call(this),this._cache=new i,this._cipher=new $.AES(r),this._prev=new e(o.length),o.copy(this._prev),void(this._mode=t)):new n(t,r,o)}function i(){return this instanceof i?void(this.cache=new e("")):new i}var $=r(143),a=r(144),o=r(8),s=r(145),l=r(222),u=r(228);o(n,a),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.encrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();this.push(this._mode.encrypt(this,e)),this._cipher.scrub(),t()},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,r=new e(t),n=-1;++n<t;)r.writeUInt8(t,n);var i=e.concat([this.cache,r]);return i};var c={ECB:r(226),CBC:r(223),CFB:r(224),OFB:r(227),CTR:r(225)};t.exports=function(t){function r(t,r,i){var $=s[t];if(!$)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==$.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==$.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===$.type?new u(c[$.mode],r,i):new n(c[$.mode],r,i)}function i(e,n){var i=s[e];if(!i)throw new TypeError("invalid suite type");var $=l(t,n,i.key,i.iv);return r(e,$.key,$.iv)}return{createCipher:i,createCipheriv:r}}}).call(e,r(7).Buffer)},498:function(t,e,r){t.exports=function(t,e){function n(){return Object.keys(a)}e=e||{};var i=r(497)(t);e.createCipher=i.createCipher,e.createCipheriv=i.createCipheriv;var $=r(496)(t);e.createDecipher=$.createDecipher,e.createDecipheriv=$.createDecipheriv;var a=r(145);e.listCiphers=n}},499:function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);this._opad=s,this._alg=t;var a="sha512"===t?128:64;r=this._key=e.isBuffer(r)?r:new e(r),r.length>a?r=i(t).update(r).digest():r.length<a&&(r=e.concat([r,$],a));for(var o=this._ipad=new e(a),s=this._opad=new e(a),l=0;l<a;l++)o[l]=54^r[l],s[l]=92^r[l];this._hash=i(t).update(o)}var i=r(229),$=new e(128);$.fill(0),t.exports=n,n.prototype.update=function(t,e){return this._hash.update(t,e),this},n.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,r(7).Buffer)},500:function(t,e,r){(function(e){function r(t,r){if(t.length%$!==0){var n=t.length+($-t.length%$);t=e.concat([t,a],n)}for(var i=[],o=r?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=$)i.push(o.call(t,s));return i}function n(t,r,n){for(var i=new e(r),$=n?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)$.call(i,t[a],4*a,!0);return i}function i(t,i,$,a){e.isBuffer(t)||(t=new e(t));var s=i(r(t,a),t.length*o);return n(s,$,a)}var $=4,a=new e($);a.fill(0);var o=8;t.exports={hash:i}}).call(e,r(7).Buffer)},501:function(t,e,r){function n(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,u=271733878,c=0;c<t.length;c+=16){var f=r,_=n,h=i,d=u;r=$(r,n,i,u,t[c+0],7,-680876936),u=$(u,r,n,i,t[c+1],12,-389564586),i=$(i,u,r,n,t[c+2],17,606105819),n=$(n,i,u,r,t[c+3],22,-1044525330),r=$(r,n,i,u,t[c+4],7,-176418897),u=$(u,r,n,i,t[c+5],12,1200080426),i=$(i,u,r,n,t[c+6],17,-1473231341),n=$(n,i,u,r,t[c+7],22,-45705983),r=$(r,n,i,u,t[c+8],7,1770035416),u=$(u,r,n,i,t[c+9],12,-1958414417),i=$(i,u,r,n,t[c+10],17,-42063),n=$(n,i,u,r,t[c+11],22,-1990404162),r=$(r,n,i,u,t[c+12],7,1804603682),u=$(u,r,n,i,t[c+13],12,-40341101),i=$(i,u,r,n,t[c+14],17,-1502002290),n=$(n,i,u,r,t[c+15],22,1236535329),r=a(r,n,i,u,t[c+1],5,-165796510),u=a(u,r,n,i,t[c+6],9,-1069501632),i=a(i,u,r,n,t[c+11],14,643717713),n=a(n,i,u,r,t[c+0],20,-373897302),r=a(r,n,i,u,t[c+5],5,-701558691),u=a(u,r,n,i,t[c+10],9,38016083),i=a(i,u,r,n,t[c+15],14,-660478335),n=a(n,i,u,r,t[c+4],20,-405537848),r=a(r,n,i,u,t[c+9],5,568446438),u=a(u,r,n,i,t[c+14],9,-1019803690),i=a(i,u,r,n,t[c+3],14,-187363961),n=a(n,i,u,r,t[c+8],20,1163531501),r=a(r,n,i,u,t[c+13],5,-1444681467),u=a(u,r,n,i,t[c+2],9,-51403784),i=a(i,u,r,n,t[c+7],14,1735328473),n=a(n,i,u,r,t[c+12],20,-1926607734),r=o(r,n,i,u,t[c+5],4,-378558),u=o(u,r,n,i,t[c+8],11,-2022574463),i=o(i,u,r,n,t[c+11],16,1839030562),n=o(n,i,u,r,t[c+14],23,-35309556),r=o(r,n,i,u,t[c+1],4,-1530992060),u=o(u,r,n,i,t[c+4],11,1272893353),i=o(i,u,r,n,t[c+7],16,-155497632),n=o(n,i,u,r,t[c+10],23,-1094730640),r=o(r,n,i,u,t[c+13],4,681279174),u=o(u,r,n,i,t[c+0],11,-358537222),i=o(i,u,r,n,t[c+3],16,-722521979),n=o(n,i,u,r,t[c+6],23,76029189),r=o(r,n,i,u,t[c+9],4,-640364487),u=o(u,r,n,i,t[c+12],11,-421815835),i=o(i,u,r,n,t[c+15],16,530742520),n=o(n,i,u,r,t[c+2],23,-995338651),r=s(r,n,i,u,t[c+0],6,-198630844),u=s(u,r,n,i,t[c+7],10,1126891415),i=s(i,u,r,n,t[c+14],15,-1416354905),n=s(n,i,u,r,t[c+5],21,-57434055),r=s(r,n,i,u,t[c+12],6,1700485571),u=s(u,r,n,i,t[c+3],10,-1894986606),i=s(i,u,r,n,t[c+10],15,-1051523),n=s(n,i,u,r,t[c+1],21,-2054922799),r=s(r,n,i,u,t[c+8],6,1873313359),u=s(u,r,n,i,t[c+15],10,-30611744),i=s(i,u,r,n,t[c+6],15,-1560198380),n=s(n,i,u,r,t[c+13],21,1309151649),r=s(r,n,i,u,t[c+4],6,-145523070),u=s(u,r,n,i,t[c+11],10,-1120210379),i=s(i,u,r,n,t[c+2],15,718787259),n=s(n,i,u,r,t[c+9],21,-343485551),r=l(r,f),n=l(n,_),i=l(i,h),u=l(u,d)}return Array(r,n,i,u)}function i(t,e,r,n,i,$){return l(u(l(l(e,t),l(n,$)),i),r)}function $(t,e,r,n,$,a,o){return i(e&r|~e&n,t,e,$,a,o)}function a(t,e,r,n,$,a,o){return i(e&n|r&~n,t,e,$,a,o)}function o(t,e,r,n,$,a,o){return i(e^r^n,t,e,$,a,o)}function s(t,e,r,n,$,a,o){return i(r^(e|~n),t,e,$,a,o)}function l(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function u(t,e){return t<<e|t>>>32-e}var c=r(500);t.exports=function(t){return c.hash(t,n,16)}},502:function(t,e,r){var n=r(376);t.exports=function(t,e){e=e||{};var r=n(t);return e.pbkdf2=r.pbkdf2,e.pbkdf2Sync=r.pbkdf2Sync,e}},503:function(t,e,r){(function(e,n){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||r(506),t.exports=function(t){if(_crypto.getRandomValues){var e=new n(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),r(7).Buffer)},504:function(t,e){},505:function(t,e){},230:function(t,e,r){(function(n){function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function $(t,e){for(var r in t)e(t[r],r)}var a=r(503);e.createHash=r(229),e.createHmac=r(499),e.randomBytes=function(t,e){if(!e||!e.call)return new n(a(t));try{e.call(this,void 0,new n(a(t)))}catch(t){e(t)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var o=r(502)(e);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync,r(498)(e,t.exports),$(["createCredentials","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){i("sorry,",t,"is not implemented yet")}})}).call(e,r(7).Buffer)}});