webpackJsonp([35783957827783],{113:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global,process,__dirname,module){"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=__webpack_require__(34).Opal),"undefined"==typeof Opal&&(function(t){function e(){}function r(){}function n(){}function i(){}function a(){}function $(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(i=t[r].$$const[e],null!=i)return i}function s(t,e){var r,n,i;if(null!=t)for(i=v.ancestors(t),r=0,n=i.length;r<n;r++)if(i[r].$$const&&w.call(i[r].$$const,e))return i[r].$$const[e]}function u(t,e){if(null==t||t.$$is_module)return s(y,e)}function l(t,e,r){if(!r)return(t||y).$const_missing(e)}function c(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;r>=0;r--)n="$"+i[r],v.bridge_method(t,e,n,e.$$proto[n])}function f(t,e){var r=e.$__id__();b[r]||(b[r]=[]),b[r].push(t)}var _,d=this;if("undefined"!=typeof global&&(d=global),"undefined"!=typeof window&&(d=window),_="object"==typeof d.console?d.console:null==d.console?d.console={}:{},"log"in _||(_.log=function(){}),"warn"in _||(_.warn=_.log),"undefined"!=typeof this.Opal)return _.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var h,p,y,m,g,v=this.Opal={},b={};v.global=d,d.Opal=v,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var w=Object.hasOwnProperty,k=(v.slice=Array.prototype.slice,4),E=k;v.uid=function(){return E+=2},v.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=v.uid())},v.gvars={},v.exit=function(t){v.gvars.DEBUG&&_.log("Exited with status "+t)},v.exceptions=[],v.pop_exception=function(){v.gvars["!"]=v.exceptions.pop()||h},v.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},v.truthy=function(t){return t!==h&&null!=t&&(!t.$$is_boolean||1==t)},v.falsy=function(t){return t===h||null==t||t.$$is_boolean&&0==t},v.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return n=$(t,e),null!=n?n:(n=l(t,e,r),null!=n?n:void 0)}},v.const_get_qualified=function(t,e,r){var n,i,a,o=v.const_cache_version;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),a=i[e],null==a||a[0]!==o?(null!=(n=$(t,e))||null!=(n=s(t,e)),i[e]=[o,n]):n=a[1],null!=n?n:l(t,e,r)}},v.const_cache_version=1,v.const_get_relative=function(t,e,r){var n,i,a,c=t[0],f=v.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),a=i[e],null==a||a[0]!==f?(null!=(n=$(c,e))||null!=(n=o(t,e))||null!=(n=s(c,e))||null!=(n=u(c,e)),i[e]=[f,n]):n=a[1],null!=n?n:l(c,e,r)},v.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=y),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==h||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,v.const_cache_version++,t===y&&(v[e]=r),r},v.constants=function(t,e){null==e&&(e=!0);var r,n,i,a,$=[t],o={};for(e&&($=$.concat(v.ancestors(t))),e&&t.$$is_module&&($=$.concat([v.Object]).concat(v.ancestors(v.Object))),n=0,i=$.length;n<i&&(r=$[n],t===y||r!=y);n++)for(a in r.$$const)o[a]=!0;return Object.keys(o)},v.const_remove=function(t,e){if(v.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],h;throw v.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},v.klass=function(t,e,r,n){var i,a,o;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&(a=e,e=y),i=$(t,r)){if(!i.$$is_class)throw v.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw v.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=y),o=a||v.boot_class_alloc(r,n,e),i=v.setup_class_object(r,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,v.const_set(t,r,i),t[r]=i,a?v.bridge(i,o):e.$inherited&&e.$inherited(i),i},v.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},v.setup_module_or_class=function(t){t.$$id=v.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=h,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},v.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var a=function(){};a.prototype=new i;var $=new a;return v.setup_module_or_class($),$.$$alloc=e,$.$$name=t||h,a.displayName="#<Class:"+(t||"#<Class:"+$.$$id+">")+">",$.$$proto=e.prototype,$.$$proto.$$class=$,$.constructor=a,$.$$is_class=!0,$.$$class=g,$},v.module=function(t,e){var r;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),r=$(t,e),null==r&&t===y&&(r=s(y,e)),r){if(!r.$$is_module&&r!==y)throw v.TypeError.$new(e+" is not a module")}else r=v.module_allocate(m),v.const_set(t,e,r);return r},v.module_initialize=function(t,e){if(e!==h){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return h},v.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r,i={};return v.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto=i,n.constructor=r,n.$$is_module=!0,n.$$class=m,n.$$super=t,n.$$parent=t,n},v.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?v.build_class_singleton_class(t):v.build_object_singleton_class(t)},v.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===p?g:v.build_class_singleton_class(t.$$super),n=v.setup_class_object(null,e,r.$$name,r.constructor),n.$$super=r,n.$$parent=r,n.$$is_singleton=!0,n.$$singleton_of=t,t.$$meta=n)},v.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=v.boot_class_alloc(r,function(){},e),i=v.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},v.class_variables=function(t){var e,r=v.ancestors(t),n=r.length,i={};for(e=n-1;e>=0;e--){var a=r[e];for(var $ in a.$$cvars)i[$]=a.$$cvars[$]}return i},v.class_variable_set=function(t,e,r){var n,i=v.ancestors(t),a=i.length;for(n=a-2;n>=0;n--){var $=i[n];if(w.call($.$$cvars,e))return $.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},v.bridge_method=function(t,e,r,n){var i,a,$,o;for(i=t.$$bridge.$ancestors(),a=0,o=i.length;a<o&&($=i[a],!w.call($.$$proto,r)||!$.$$proto[r]||$.$$proto[r].$$donated||$.$$proto[r].$$stub||$===e);a++)if($===e){t.prototype[r]=n;break}},v.bridge_methods=function(t,e){var r,n=b[t.$__id__()],i=e.$__id__();if(n)for(b[i]=n.slice(),r=n.length-1;r>=0;r--)c(n[r],e)},v.has_cyclic_dep=function t(e,r,n,i){var a,$,o;for(a=r.length-1;a>=0;a--)if(o=r[a],$=o.$$id,!i[$]){if(i[$]=!0,$===e)return!0;if(t(e,o[n],n,i))return!0}return!1},v.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&v.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw v.ArgumentError.$new("cyclic include detected");for(v.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),v.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,n=t.$instance_methods(),i=n.length-1;i>=0;i--)v.update_includer(t,e,"$"+n[i])},v.stubs={},v.bridge=function(t,r){if(r.$$bridge)throw v.ArgumentError.$new("already bridged");v.stub_subscribers.push(r.prototype);for(var n in v.stubs)n in r.prototype||(r.prototype[n]=v.stub_for(n));r.prototype.$$class=t,r.$$bridge=t;for(var i=t.$ancestors(),a=i.length-1;a>=0;a--)f(r,i[a]),c(r,i[a]);for(var $ in e.prototype){var o=e.prototype[o];!o||!o.$$stub||$ in r.prototype||(r.prototype[$]=o)}return t},v.update_includer=function(t,e,r){var n,i,a,$,o,s,u,l;if(a=t.$$proto[r],n=e.$$proto,i=n[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for($=e.$$inc,o=0,s=$.length;o<s;o++)$[o]===i.$$donated&&(u=o),$[o]===t&&(l=o);u<=l&&(n[r]=a,n[r].$$donated=t)}else n[r]=a,n[r].$$donated=t;else;e.$$included_in&&v.update_includers(e,r)},v.update_includers=function(t,e){var r,n,i,a;if(a=t.$$included_in)for(r=0,n=a.length;r<n;r++)i=a[r],v.update_includer(t,i,e)},v.ancestors=function(t){for(var e,r,n,i,a=t,$=[];a;){for($.push(a),r=a.$$inc.length-1;r>=0;r--)for(e=v.ancestors(a.$$inc[r]),n=0,i=e.length;n<i;n++)$.push(e[n]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return $},v.add_stubs=function(t){var e,r,n,i,a,$=v.stub_subscribers,o=t.length,s=$.length,u=v.stubs;for(r=0;r<o;r++)if(i=t[r],!u.hasOwnProperty(i))for(u[i]=!0,a=v.stub_for(i),n=0;n<s;n++)e=$[n],i in e||(e[i]=a)},v.stub_subscribers=[e.prototype],v.add_stub_for=function(t,e){var r=v.stub_for(e);t[e]=r},v.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},v.ac=function(t,e,r,n){var i="";throw i+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",i+=n,v.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},v.block_ac=function(t,e,r){var n="`block in "+r+"'";throw v.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},v.find_super_dispatcher=function(t,e,r,n,i){var a,$;if(a=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:v.find_obj_super_dispatcher(t,e,r),$=a["$"+e],!n&&$.$$stub&&v.Kernel.$method_missing===t.$method_missing)throw v.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},v.find_iter_super_dispatcher=function(t,e,r,n,i){var a=e;if(!r)throw v.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw v.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(a=r.$$jsid),v.find_super_dispatcher(t,a,r,n)},v.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(n=v.find_owning_class(n,r),!n)throw new Error("could not find current class for super()");return v.find_super_func(n,"$"+e,r)},v.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},v.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},v.ret=function(t){throw v.returner.$v=t,v.returner},v.brk=function(t,e){throw e.$v=t,e},v.new_brk=function(){return new Error("unexpected break")},v.yield1=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=v.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},v.yieldX=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},v.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=v.rescue(t,n);if(i)return i}else{if(n===v.JS.Error)return n;if(n["$==="](t))return n}}return null},v.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=v.ancestors(t.$$is_class?v.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},v.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw v.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},v.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===h)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},v.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===h)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},v.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):v.hash2([],{})},v.kwrestargs=function(t,e){var r=[],n={},i=null,a=t.$$smap;for(i in a)e[i]||(r.push(i),n[i]=a[i]);return v.hash2(r,n)},v.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},v.lambda=function(t){return t.$$is_lambda=!0,t},v.def=function(t,e,r){t===v.top?v.defn(v.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?v.defs(t,e,r):v.defn(t,e,r)},v.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(v.update_includers(t,e),t.$$module_function&&v.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(n)for(var i=n.length-1;i>=0;i--)v.bridge_method(n[i],t,e,r);var a=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),h},v.defs=function(t,e,r){v.defn(v.get_singleton_class(t),e,r)},v.rdef=function(t,e){if(!w.call(t.$$proto,e))throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},v.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());v.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},v.alias=function(t,e,r){var n,i="$"+e,a="$"+r,$=t.$$proto["$"+r];if(t.$$eval)return v.alias(v.get_singleton_class(t),e,r);if("function"!=typeof $||$.$$stub){for(var o=t.$$super;"function"!=typeof $&&o;)$=o[a],o=o.$$super;if("function"!=typeof $||$.$$stub)throw v.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),v.send(this,$,t,i)},n.displayName=e,n.length=$.length,n.$$arity=$.$$arity,n.$$parameters=$.$$parameters,n.$$source_location=$.$$source_location,n.$$alias_of=$,n.$$alias_name=e,v.defn(t,i,n),t},v.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw v.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return v.defn(t,n,i),t},v.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},v.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,a=t.$$keys,$=t.$$smap,o=a.length;i<o;i++)r=a[i],r.$$is_string?n=$[r]:(n=r.value,r=r.key),v.hash_put(e,r,n)},v.hash_put=function(e,r,n){if(r.$$is_string)return w.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,a,$;if(i=e.$$by_identity?v.id(r):r.$hash(),!w.call(e.$$map,i))return a={key:r,key_hash:i,value:n},e.$$keys.push(a),void(e.$$map[i]=a);for(a=e.$$map[i];a;){if(r===a.key||r["$eql?"](a.key)){$=t,a.value=n;break}$=a,a=a.next}$&&(a={key:r,key_hash:i,value:n},e.$$keys.push(a),$.next=a)},v.hash_get=function(t,e){if(e.$$is_string){if(w.call(t.$$smap,e))return t.$$smap[e]}else{var r,n;if(r=t.$$by_identity?v.id(e):e.$hash(),w.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}}},v.hash_delete=function(t,e){var r,n,i=t.$$keys,a=i.length;if(e.$$is_string){if(!w.call(t.$$smap,e))return;for(r=0;r<a;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var $=e.$hash();if(w.call(t.$$map,$))for(var o,s=t.$$map[$];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<a;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[$]=s.next:delete t.$$map[$],n}o=s,s=s.next}},v.hash_rehash=function(e){for(var r,n,i,a=0,$=e.$$keys.length;a<$;a++)if(!e.$$keys[a].$$is_string&&(r=e.$$keys[a].key.$hash(),r!==e.$$keys[a].key_hash)){for(n=e.$$map[e.$$keys[a].key_hash],i=t;n;){if(n===e.$$keys[a]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[a].key_hash]=n.next:delete e.$$map[e.$$keys[a].key_hash];break}i=n,n=n.next}if(e.$$keys[a].key_hash=r,w.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[a]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[a])}else e.$$map[r]=e.$$keys[a]}},v.hash=function(){var t,e,r,n,i,a,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new v.Hash.$$alloc,v.hash_init(e),1===$&&arguments[0].$$is_array){for(t=arguments[0],n=t.length,r=0;r<n;r++){if(2!==t[r].length)throw v.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],a=t[r][1],v.hash_put(e,i,a)}return e}if(1===$){t=arguments[0];for(i in t)w.call(t,i)&&(a=t[i],v.hash_put(e,i,a));return e}if($%2!==0)throw v.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<$;r+=2)i=arguments[r],a=arguments[r+1],v.hash_put(e,i,a);return e},v.hash2=function(t,e){var r=new v.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},v.range=function(t,e,r){var n=new v.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},v.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},v.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(t){var e,r,n=[],i="/";"."!==v.current_dir&&(t=v.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/^\.\//,""),t=t.replace(/\.(rb|opal|js)$/,""),e=t.split(i);for(var a=0,$=e.length;a<$;a++)r=e[a],""!==r&&(".."===r?n.pop():n.push(r));return n.join(i)},v.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=v.normalize(t[e]),v.require_table[n])return;v.loaded_features.push(n),v.require_table[n]=!0}},v.load=function(t){t=v.normalize(t),v.loaded([t]);var e=v.modules[t];if(e)e(v);else{var r=v.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw v.LoadError?v.LoadError.$new(n):n;"warning"===r&&_.warn("WARNING: LoadError: "+n)}return!0},v.require=function(t){return t=v.normalize(t),!v.require_table[t]&&v.load(t)},v.boot_class_alloc("BasicObject",e),v.boot_class_alloc("Object",r,e),v.boot_class_alloc("Module",i,r),v.boot_class_alloc("Class",n,i),v.BasicObject=p=v.setup_class_object("BasicObject",e,"Class",n),v.Object=y=v.setup_class_object("Object",r,"BasicObject",p.constructor),v.Module=m=v.setup_class_object("Module",i,"Object",y.constructor),v.Class=g=v.setup_class_object("Class",n,"Module",m.constructor),p.$$const.BasicObject=p,v.const_set(y,"BasicObject",p),v.const_set(y,"Object",y),v.const_set(y,"Module",m),v.const_set(y,"Class",g),p.$$class=g,y.$$class=g,m.$$class=g,g.$$class=g,p.$$super=null,y.$$super=p,m.$$super=y,g.$$super=m,p.$$parent=null,y.$$parent=p,m.$$parent=y,g.$$parent=m,y.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},y.$$proto.$require=v.require,v.$$=y.$$,v.top=new y.$$alloc,v.top.$to_s=v.top.$inspect=function(){return"main"},v.klass(y,y,"NilClass",a),h=v.nil=new a,h.$$id=k,h.call=h.apply=function(){throw v.LocalJumpError.$new("no block given")},v.breaker=new Error("unexpected break (old)"),v.returner=new Error("unexpected return"),TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,$){var o,s,u,l,c,f,_,d,h,p,y,m,g,v,b,w=o=i(e,"Opal"),k=(w.$$proto,[w].concat($));t.defs(w,"$bridge",s=function(e,r){return t.bridge(e,r)},s.$$arity=2),t.defs(w,"$type_error",u=function(t,e,i,$){var o;return null==i&&(i=r),null==$&&($=r),a(a(o=i)?$:o)?n(k,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+$.$class()+")"):n(k,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},u.$$arity=-3),t.defs(w,"$coerce_to",l=function(t,e,r){var n=this;return a(e["$==="](t))?t:(a(t["$respond_to?"](r))||n.$raise(n.$type_error(t,e)),t.$__send__(r))},l.$$arity=3),t.defs(w,"$coerce_to!",c=function(t,e,n){var i=this,$=r;return $=i.$coerce_to(t,e,n),a(e["$==="]($))||i.$raise(i.$type_error(t,e,n,$)),$},c.$$arity=3),t.defs(w,"$coerce_to?",f=function(t,e,n){var i=this,$=r;return a(t["$respond_to?"](n))?($=i.$coerce_to(t,e,n),a($["$nil?"]())?r:(a(e["$==="]($))||i.$raise(i.$type_error(t,e,n,$)),$)):r},f.$$arity=3),t.defs(w,"$try_convert",_=function(t,e,n){return a(e["$==="](t))?t:a(t["$respond_to?"](n))?t.$__send__(n):r},_.$$arity=3),t.defs(w,"$compare",d=function(t,e){var i=this,$=r;return $=t["$<=>"](e),a($===r)&&i.$raise(n(k,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),$},d.$$arity=2),t.defs(w,"$destructure",h=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},h.$$arity=1),t.defs(w,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(w,"$inspect_obj",y=function(e){return t.inspect(e)},y.$$arity=1),t.defs(w,"$instance_variable_name!",m=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||e.$raise(n(k,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(w,"$class_variable_name!",g=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(t.length<3||"@@"!==t.slice(0,2))&&e.$raise(n(k,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),t.defs(w,"$const_name!",v=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&e.$raise(n(k,"NameError"),"wrong constant name "+t),t},v.$$arity=1),t.defs(w,"$pristine",b=function(t,e){var n,i=arguments.length,a=i-1;a<0&&(a=0),n=new Array(a);for(var $=1;$<i;$++)n[$-1]=arguments[$];for(var o,s,u=n.length-1;u>=0;u--)o=n[u],s=t.$$proto["$"+o],s&&!s.$$stub&&(s.$$pristine=!0);return r},b.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_extend_object_42,TMP_Module_method_added_43,TMP_Module_method_removed_44,TMP_Module_method_undefined_45,TMP_Module_module_eval_46,TMP_Module_module_exec_48,TMP_Module_method_defined$q_49,TMP_Module_module_function_50,TMP_Module_name_51,TMP_Module_remove_const_52,TMP_Module_to_s_53,TMP_Module_undef_method_54,TMP_Module_instance_variables_55,TMP_Module_dup_56,TMP_Module_copy_class_variables_57,TMP_Module_copy_constants_58;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t,e=this;return t=Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,r=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,r)},TMP_Module_initialize_2.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module");var r,n,i,a=e;if(a===t)return!1;for(n=0,r=Opal.ancestors(e),i=r.length;n<i;n++)if(r[n]===t)return!0;for(n=0,r=Opal.ancestors(t),i=r.length;n<i;n++)if(r[n]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_lt(r,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_gt(r,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,r=nil;return e===t?0:$truthy($$($nesting,"Module")["$==="](t))?(r=$rb_lt(e,t),$truthy(r["$nil?"]())?nil:$truthy(r)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var r=this;return Opal.alias(r,t,e),r},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var r=this;return null==e&&(e=t),Opal.alias_native(r,t,e),r},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return $send(r,"attr_reader",Opal.to_a(e)),$send(r,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s,l=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(l);$[l]=nil,c.$$parameters=[],c.$$arity=0,r.$$is_singleton?$.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s+"=",l=Opal.ivar(s),c=function(t){return function(e){return this[t]=e}}(l);c.$$parameters=[["req"]],c.$$arity=1,$[l]=nil,r.$$is_singleton?$.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){var r=this;return null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=$$($nesting,"Opal")["$class_variable_name!"](t);var r=Opal.class_variables(e)[t];return null==r&&e.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),r},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var r=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(r,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var r,n,i,a=(e.$$nesting||[]).concat(Opal.Object),$={};for(n=0,i=a.length;n<i;n++)for(r in a[n].$$const)$[r]=!0;return Object.keys($)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var t=this;return t.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){
var r=this;null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,i,a,$=[r];for(e&&($=$.concat(Opal.ancestors(r)),r.$$is_module&&($=$.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,a=$.length;i<a;i++)if(n=$[i],null!=n.$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(t.indexOf("::")!=-1&&"::"!=t)?$send(t.$split("::"),"inject",[n],(r=function(t,e){r.$$s||this;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},r.$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,r=nil;if(e.$$autoload){var n=e.$$autoload[t];if(n)return e.$require(n),e.$const_get(t)}return r=function(){return e["$=="]($$($nesting,"Object"))?t:""+e+"::"+t}(),e.$raise($$($nesting,"NameError").$new("uninitialized constant "+r,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r,n=this;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(n,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_31=function(t,e){var r,n,i=this,a=TMP_Module_define_method_31.$$p,$=a||nil,o=nil;a&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&$===nil)&&i.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),$=$truthy(r=$)?r:function(){return o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda((n=function(t){var r,i=n.$$s||this,a=nil,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<$;s++)r[s-0]=arguments[s];return a=e.$bind(i),$send(a,"call",Opal.to_a(r))},n.$$s=i,n.$$arity=-1,n)):i.$raise($$($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)")}();var s="$"+t;return $.$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(i,s,$),t},TMP_Module_define_method_31.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.rdef(r,"$"+e[$]);return r},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var t=this;return!!t.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--){var o=e[$];o.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(r),o.$included(r)}return r},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,r=function(t){for(var e=[],n=0,i=t.$$inc.length;n<i;n++){var a=t.$$inc[n];e.push(a),e=e.concat(r(a))}return e};if(t=r(e),e.$$is_class)for(var n=e;n;n=n.$$super)t=t.concat(r(n));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,i,a=Opal.ancestors(e);for(r=0,n=a.length;r<n;r++)if(i=a[r],i===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var r,n=[],i=e.$$proto;for(var a in i)if("$"===a.charAt(0)&&"$"!==a.charAt(1)&&(r=i[a],"function"==typeof r&&!r.$$stub)){if(!e.$$is_module){if(e!==Opal.BasicObject&&r===Opal.BasicObject.$$proto[a])continue;if(!t&&!i.hasOwnProperty(a))continue;if(!t&&r.$$donated)continue}n.push(a.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_42=function(t){return nil},TMP_Module_extend_object_42.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_43=function(t){return nil},TMP_Module_method_added_43.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_44=function(t){return nil},TMP_Module_method_removed_44.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_45=function(t){return nil},TMP_Module_method_undefined_45.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_46=function $$module_eval($a_rest){var $b,TMP_47,self=this,args,$iter=TMP_Module_module_eval_46.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_46.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_47=function(){var self=TMP_47.$$s||this;return function(self){return eval(compiled)}(self)},TMP_47.$$s=self,TMP_47.$$arity=0,TMP_47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),""+("wrong number of arguments ("+args.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_48=function(t){var e,r=this,n=TMP_Module_module_exec_48.$$p,i=n||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];n&&(TMP_Module_module_exec_48.$$p=null),i===nil&&r.$raise($$($nesting,"LocalJumpError"),"no block given");var s,u=i.$$s;return i.$$s=null,s=i.apply(r,e),i.$$s=u,s},TMP_Module_module_exec_48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_49=function(t){var e=this,r=e.$$proto["$"+t];return!!r&&!r.$$stub},TMP_Module_method_defined$q_49.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_50=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];if(0===e.length)r.$$module_function=!0;else for(var $=0,o=e.length;$<o;$++){var s=e[$],u="$"+s,l=r.$$proto[u];Opal.defs(r,u,l)}return r},TMP_Module_module_function_50.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_51=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],r=t;r;){if(r.$$name===nil||null==r.$$name)return nil;if(e.unshift(r.$$name),r=r.$$base_module,r===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_51.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_52=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_52.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_53=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_53.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_54=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.udef(r,"$"+e[$]);return r},TMP_Module_undef_method_54.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_55=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!e["$include?"](n)&&r.push("@"+n);return r},TMP_Module_instance_variables_55.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_56=function(){var t=this,e=TMP_Module_dup_56.$$p,r=nil,n=nil,i=nil,a=nil;for(e&&(TMP_Module_dup_56.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return r=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_56,!1),n,e),r.$copy_class_variables(t),r.$copy_constants(t),r},TMP_Module_dup_56.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_57=function(t){var e=this;for(var r in t.$$cvars)e.$$cvars[r]=t.$$cvars[r]},TMP_Module_copy_class_variables_57.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_58=function(t){var e,r=this,n=t.$$const;for(e in n)Opal.const_set(r,e,n[e])},TMP_Module_copy_constants_58.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),$=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function s(){}var u,l,c,f,_,d,h,p=s=a(e,r,"Class",s),y=(p.$$proto,[p].concat(o));return t.defs(p,"$new",u=function(e){var r=u.$$p,a=r||n;if(null==e&&(e=i(y,"Object")),r&&(u.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var $=t.boot_class_alloc(null,function(){},e),o=t.setup_class_object(null,$,e.$$name,e.constructor);return o.$$super=e,o.$$parent=e,e.$inherited(o),t.module_initialize(o,a),o},u.$$arity=-1),t.def(p,"$allocate",l=function(){var e=this,r=new e.$$alloc;return r.$$id=t.uid(),r},l.$$arity=0),t.def(p,"$inherited",c=function(t){return n},c.$$arity=1),t.def(p,"$initialize_dup",f=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},f.$$arity=1),t.def(p,"$new",_=function(e){var r,i=this,a=_.$$p,$=a||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];a&&(_.$$p=null);var l=i.$allocate();return t.send(l,l.$initialize,r,$),l},_.$$arity=-1),t.def(p,"$superclass",d=function(){var t=this;return t.$$super||n},d.$$arity=0),t.def(p,"$to_s",h=function(){var e=this,r=h.$$p;r&&(h.$$p=null);var n=e.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":$(e,t.find_super_dispatcher(e,"to_s",h,!1),[],null)},h.$$arity=0),n&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){var e=this;return e===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){var e=this;return e["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=this,i=TMP_BasicObject___send___5.$$p,a=i||nil,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var u=n["$"+t];return u?(a!==nil&&(u.$$p=a),u.apply(n,r)):(a!==nil&&(n.$method_missing.$$p=a),n.$method_missing.apply(n,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){var e=this;return e["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=this,n=TMP_BasicObject_instance_exec_10.$$p,i=n||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var s,u=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{s=i.apply(r,e)}finally{r.$$eval=!1}}else s=i.apply(r,e);return i.$$s=u,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var r,n=this,i=TMP_BasicObject_method_missing_14.$$p,a=nil,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return i&&(TMP_BasicObject_method_missing_14.$$p=null),a=function(){return $truthy(n.$inspect&&!n.$inspect.$$stub)?"undefined method `"+t+"' for "+n.$inspect()+":"+n.$$class:"undefined method `"+t+"' for "+n.$$class}(),$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(a,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy,s=t.gvars,u=t.hash2,l=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et=f=$(r,"Kernel"),xt=(Et.$$proto,[Et].concat(c));t.def(Et,"$method_missing",_=function(t,e){var r,n=this,i=_.$$p,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return i&&(_.$$p=null),n.$raise(a(xt,"NoMethodError").$new("undefined method `"+t+"' for "+n.$inspect(),t,r))},_.$$arity=-2),t.def(Et,"$=~",d=function(t){return!1},d.$$arity=1),t.def(Et,"$!~",h=function(t){var e=this;return e["$=~"](t)["$!"]()},h.$$arity=1),t.def(Et,"$===",p=function(t){var e,r=this;return o(e=r.$object_id()["$=="](t.$object_id()))?e:r["$=="](t)},p.$$arity=1),t.def(Et,"$<=>",y=function(t){var e=this;e.$$comparable=!0;var r=e["$=="](t);return r&&r!==n?0:n},y.$$arity=1),t.def(Et,"$method",m=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(a(xt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),a(xt,"Method").$new(e,r.$$owner||e.$class(),r,t)},m.$$arity=1),t.def(Et,"$methods",g=function(e){var r=this;null==e&&(e=!0);var i=[];for(var a in r)if("$"==a[0]&&"function"==typeof r[a]){if((0==e||e===n)&&!t.hasOwnProperty.call(r,a))continue;void 0===r[a].$$stub&&i.push(a.substr(1))}return i},g.$$arity=-1),t.alias(Et,"public_methods","methods"),t.def(Et,"$Array",v=function(t){var e;return t===n?[]:t.$$is_array?t:(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"Array"),"to_ary"),e!==n?e:(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"Array"),"to_a"),e!==n?e:[t]))},v.$$arity=1),t.def(Et,"$at_exit",b=function(){var t,e=b.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(b.$$p=null),s.__at_exit__=o(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},b.$$arity=0),t.def(Et,"$caller",w=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},w.$$arity=-1),t.def(Et,"$class",k=function(){var t=this;return t.$$class},k.$$arity=0),t.def(Et,"$copy_instance_variables",E=function(t){var e,r,n,i=this,a=Object.keys(t);for(e=0,r=a.length;e<r;e++)n=a[e],"$"!==n.charAt(0)&&t.hasOwnProperty(n)&&(i[n]=t[n])},E.$$arity=1),t.def(Et,"$copy_singleton_methods",x=function(e){var r,n=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,a=t.get_singleton_class(n).$$proto;for(r in i)"$"===r.charAt(0)&&i.hasOwnProperty(r)&&(a[r]=i[r])}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(n[r]=e[r])},x.$$arity=1),t.def(Et,"$clone",A=function(e){var r,i=this,a=n;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=u([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),a=i.$class().$allocate(),a.$copy_instance_variables(i),a.$copy_singleton_methods(i),a.$initialize_clone(i),a},A.$$arity=-1),t.def(Et,"$initialize_clone",O=function(t){var e=this;return e.$initialize_copy(t)},O.$$arity=1),t.def(Et,"$define_singleton_method",S=function(t,e){var r=this,i=S.$$p,a=i||n;return i&&(S.$$p=null),l(r.$singleton_class(),"define_method",[t,e],a.$to_proc())},S.$$arity=-2),t.def(Et,"$dup",M=function(){var t=this,e=n;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$initialize_dup(t),e},M.$$arity=0),t.def(Et,"$initialize_dup",T=function(t){var e=this;return e.$initialize_copy(t)},T.$$arity=1),t.def(Et,"$enum_for",R=function(e,r){var i,$=this,o=R.$$p,s=o||n;null==e&&(e="each");var u=arguments.length,c=u-1;c<0&&(c=0),i=new Array(c);for(var f=1;f<u;f++)i[f-1]=arguments[f];return o&&(R.$$p=null),l(a(xt,"Enumerator"),"for",[$,e].concat(t.to_a(i)),s.$to_proc())},R.$$arity=-1),t.alias(Et,"to_enum","enum_for"),t.def(Et,"$equal?",I=function(t){var e=this;return e===t},I.$$arity=1),t.def(Et,"$exit",C=function(e){var r,i=n;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=o(r=s.__at_exit__)?r:[];!o(s.__at_exit__["$empty?"]());)i=s.__at_exit__.$pop(),i.$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),n},C.$$arity=-1),t.def(Et,"$extend",N=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=r.$singleton_class(),s=e.length-1;s>=0;s--){var u=e[s];u.$$is_module||r.$raise(a(xt,"TypeError"),"wrong argument type "+u.$class()+" (expected Module)"),u.$append_features(o),u.$extend_object(r),u.$extended(r)}return r},N.$$arity=-1),t.def(Et,"$format",z=function(t,e){function r(){P&K&&p.$raise(a(xt,"ArgumentError"),"flag after width"),P&V&&p.$raise(a(xt,"ArgumentError"),"flag after precision")}function i(){P&K&&p.$raise(a(xt,"ArgumentError"),"width given twice"),P&V&&p.$raise(a(xt,"ArgumentError"),"width after precision")}function $(t){return t>=h.length&&p.$raise(a(xt,"ArgumentError"),"too few arguments"),h[t]}function u(){switch(F){case-1:p.$raise(a(xt,"ArgumentError"),"unnumbered("+L+") mixed with numbered");case-2:p.$raise(a(xt,"ArgumentError"),"unnumbered("+L+") mixed with named")}return F=L++,$(F-1)}function l(t){return F>0&&p.$raise(a(xt,"ArgumentError"),"numbered("+t+") after unnumbered("+F+")"),F===-2&&p.$raise(a(xt,"ArgumentError"),"numbered("+t+") after named"),t<1&&p.$raise(a(xt,"ArgumentError"),"invalid index - "+t+"$"),F=-1,$(t-1)}function c(){return void 0===z?u():z}function f(e){for(var r,n="";;w++){if(w===D&&p.$raise(a(xt,"ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(w)<48||t.charCodeAt(w)>57)return w--,r=parseInt(n,10)||0,r>2147483647&&p.$raise(a(xt,"ArgumentError"),""+e+" too big"),r;n+=t.charAt(w)}}function _(e){var r,n=f(e);return"$"===t.charAt(w+1)?(w++,r=l(n)):r=u(),r.$to_int()}var d,h,p=this,y=n;null==s.DEBUG&&(s.DEBUG=n);var m=arguments.length,g=m-1;g<0&&(g=0),h=new Array(g);for(var v=1;v<m;v++)h[v-1]=arguments[v];o((d=h.$length()["$=="](1))?h["$[]"](0)["$respond_to?"]("to_ary"):h.$length()["$=="](1))&&(y=a(xt,"Opal")["$coerce_to?"](h["$[]"](0),a(xt,"Array"),"to_ary"),o(y["$nil?"]())||(h=y.$to_a()));var b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B="",q=0,D=t.length,L=1,F=0,j=0,U=1,H=2,G=4,Y=8,W=16,K=32,X=64,V=128;for(w=t.indexOf("%");w!==-1;w=t.indexOf("%",w)){switch(E=void 0,P=j,A=-1,O=-1,z=void 0,b=w,w++,t.charAt(w)){case"%":q=w;case"":case"\n":case"\0":w++;continue}t:for(;w<D;w++)switch(t.charAt(w)){case" ":r(),P|=W;continue t;case"#":r(),P|=U;continue t;case"+":r(),P|=G;continue t;case"-":r(),P|=H;continue t;case"0":r(),P|=Y;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(S=f("width"),"$"===t.charAt(w+1)){if(w+2===D){E="%",w++;break t}void 0!==z&&p.$raise(a(xt,"ArgumentError"),"value given twice - %"+S+"$"),z=l(S),w++}else i(),P|=K,A=S;continue t;case"<":case"{":for(T="<"===t.charAt(w)?">":"}",M="",w++;;w++){if(w===D&&p.$raise(a(xt,"ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(w)===T){if(F>0&&p.$raise(a(xt,"ArgumentError"),"named "+M+" after unnumbered("+F+")"),F===-1&&p.$raise(a(xt,"ArgumentError"),"named "+M+" after numbered"),F=-2,void 0!==h[0]&&h[0].$$is_hash||p.$raise(a(xt,"ArgumentError"),"one hash required"),z=h[0].$fetch(M),">"===T)continue t;if(E=z.toString(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t}M+=t.charAt(w)}case"*":w++,i(),P|=K,A=_("width"),A<0&&(P|=H,A=-A);continue t;case".":if(P&V&&p.$raise(a(xt,"ArgumentError"),"precision given twice"),P|=X|V,O=0,w++,"*"===t.charAt(w)){w++,O=_("precision"),O<0&&(P&=~X);continue t}O=f("precision");continue t;case"d":case"i":case"u":if(k=p.$Integer(c()),k>=0){for(E=k.toString();E.length<O;)E="0"+E;if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-(P&G||P&W?1:0);)E="0"+E;(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else{for(E=(-k).toString();E.length<O;)E="0"+E;if(P&H)for(E="-"+E;E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-1;)E="0"+E;E="-"+E}else for(E="-"+E;E.length<A;)E=" "+E}break t;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(w)){case"b":case"B":R=2,I="0b",C=/^1+/,N="1";break;case"o":R=8,I="0",C=/^3?7+/,N="7";break;case"x":case"X":R=16,I="0x",C=/^f+/,N="f"}if(k=p.$Integer(c()),k>=0){for(E=k.toString(R);E.length<O;)E="0"+E;if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E),P&U&&0!==k&&(E=I+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-(P&G||P&W?1:0)-(P&U&&0!==k?I.length:0);)E="0"+E;P&U&&0!==k&&(E=I+E),(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for(P&U&&0!==k&&(E=I+E),(P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else if(P&G||P&W){for(E=(-k).toString(R);E.length<O;)E="0"+E;if(P&H)for(P&U&&(E=I+E),E="-"+E;E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-1-(P&U?2:0);)E="0"+E;P&U&&(E=I+E),E="-"+E}else for(P&U&&(E=I+E),E="-"+E;E.length<A;)E=" "+E}else{for(E=(k>>>0).toString(R).replace(C,N);E.length<O-2;)E=N+E;if(P&H)for(E=".."+E,P&U&&(E=I+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-2-(P&U?I.length:0);)E=N+E;E=".."+E,P&U&&(E=I+E)}else for(E=".."+E,P&U&&(E=I+E);E.length<A;)E=" "+E}t.charAt(w)===t.charAt(w).toUpperCase()&&(E=E.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(k=p.$Float(c()),k>=0||isNaN(k)){if(k===1/0)E="Inf";else switch(t.charAt(w)){case"f":E=k.toFixed(O===-1?6:O);break;case"e":case"E":E=k.toExponential(O===-1?6:O);break;case"g":case"G":E=k.toExponential(),x=parseInt(E.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(E=k.toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E+=" ";else if(P&Y&&k!==1/0&&!isNaN(k)){for(;E.length<A-(P&G||P&W?1:0);)E="0"+E;(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else{if(k===-(1/0))E="Inf";else switch(t.charAt(w)){case"f":E=(-k).toFixed(O===-1?6:O);break;case"e":case"E":E=(-k).toExponential(O===-1?6:O);break;case"g":case"G":E=(-k).toExponential(),x=parseInt(E.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(E=(-k).toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for(E="-"+E;E.length<A;)E+=" ";else if(P&Y&&k!==-(1/0)){for(;E.length<A-1;)E="0"+E;E="-"+E}else for(E="-"+E;E.length<A;)E=" "+E}t.charAt(w)!==t.charAt(w).toUpperCase()||k===1/0||k===-(1/0)||isNaN(k)||(E=E.toUpperCase()),E=E.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise(a(xt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(k=c(),k["$respond_to?"]("to_ary")&&(k=k.$to_ary()[0]),E=k["$respond_to?"]("to_str")?k.$to_str():String.fromCharCode(a(xt,"Opal").$coerce_to(k,a(xt,"Integer"),"to_int")),1!==E.length&&p.$raise(a(xt,"ArgumentError"),"%c requires a character"),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;case"p":if(E=c().$inspect(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;case"s":if(E=c().$to_s(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;default:p.$raise(a(xt,"ArgumentError"),"malformed format string - %"+t.charAt(w))}void 0===E&&p.$raise(a(xt,"ArgumentError"),"malformed format string - %"),B+=t.slice(q,b)+E,q=w+1}return s.DEBUG&&F>=0&&L<h.length&&p.$raise(a(xt,"ArgumentError"),"too many arguments for format string"),B+t.slice(q)},z.$$arity=-2),t.def(Et,"$hash",P=function(){var t=this;return t.$__id__()},P.$$arity=0),t.def(Et,"$initialize_copy",B=function(t){return n},B.$$arity=1),t.def(Et,"$inspect",q=function(){var t=this;return t.$to_s()},q.$$arity=0),t.def(Et,"$instance_of?",D=function(t){var e=this;return t.$$is_class||t.$$is_module||e.$raise(a(xt,"TypeError"),"class or module required"),e.$$class===t},D.$$arity=1),t.def(Et,"$instance_variable_defined?",L=function(e){var r=this;return e=a(xt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(r,e.substr(1))},L.$$arity=1),t.def(Et,"$instance_variable_get",F=function(e){var r=this;e=a(xt,"Opal")["$instance_variable_name!"](e);var i=r[t.ivar(e.substr(1))];return null==i?n:i},F.$$arity=1),t.def(Et,"$instance_variable_set",j=function(e,r){var n=this;return e=a(xt,"Opal")["$instance_variable_name!"](e),n[t.ivar(e.substr(1))]=r},j.$$arity=2),t.def(Et,"$remove_instance_variable",U=function(e){var r=this;e=a(xt,"Opal")["$instance_variable_name!"](e);var n,i=t.ivar(e.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):r.$raise(a(xt,"NameError"),"instance variable "+e+" not defined")},U.$$arity=1),t.def(Et,"$instance_variables",H=function(){var t,e=this,r=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+t));return r},H.$$arity=0),t.def(Et,"$Integer",G=function(t,e){var r,i,$,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(e=a(xt,"Opal").$coerce_to(e,a(xt,"Integer"),"to_int"),(1===e||e<0||e>36)&&o.$raise(a(xt,"ArgumentError"),"invalid radix "+e)),i=t.toLowerCase(),i=i.replace(/(\d)_(?=\d)/g,"$1"),i=i.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),e=0===e?10:e,$="0-"+(e<=10?e-1:"9a-"+String.fromCharCode(97+(e-11))),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(i)||o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(i,e),isNaN(r)&&o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&o.$raise(a(xt,"ArgumentError"),"base specified for non string value"),
t===n&&o.$raise(a(xt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-(1/0)||isNaN(t))&&o.$raise(a(xt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int(),r!==n)?r:a(xt,"Opal")["$coerce_to!"](t,a(xt,"Integer"),"to_i"))},G.$$arity=-2),t.def(Et,"$Float",Y=function(t){var e,r=this;return t===n&&r.$raise(a(xt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=t.toString(),e=e.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?r.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||r.$raise(a(xt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):a(xt,"Opal")["$coerce_to!"](t,a(xt,"Float"),"to_f")},Y.$$arity=1),t.def(Et,"$Hash",W=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?u([],{}):o(a(xt,"Hash")["$==="](t))?t:a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash")},W.$$arity=1),t.def(Et,"$is_a?",K=function(e){var r=this;return e.$$is_class||e.$$is_module||r.$raise(a(xt,"TypeError"),"class or module required"),t.is_a(r,e)},K.$$arity=1),t.def(Et,"$itself",X=function(){var t=this;return t},X.$$arity=0),t.alias(Et,"kind_of?","is_a?"),t.def(Et,"$lambda",V=function(){var e=V.$$p,r=e||n;return e&&(V.$$p=null),t.lambda(r)},V.$$arity=0),t.def(Et,"$load",J=function(e){return e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"String"),"to_str"),t.load(e)},J.$$arity=1),t.def(Et,"$loop",Z=function(){var e,r=this,$=Z.$$p,s=$||n,u=n;if($&&(Z.$$p=null),s===n)return l(r,"enum_for",["loop"],(e=function(){e.$$s||this;return i(a(xt,"Float"),"INFINITY")},e.$$s=r,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(s,[])}catch(e){if(!t.rescue(e,[a(xt,"StopIteration")]))throw e;u=e;try{return u.$result()}finally{t.pop_exception()}}return r},Z.$$arity=0),t.def(Et,"$nil?",Q=function(){return!1},Q.$$arity=0),t.alias(Et,"object_id","__id__"),t.def(Et,"$printf",tt=function(e){var r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return o(r["$any?"]())&&i.$print(l(i,"format",t.to_a(r))),n},tt.$$arity=-1),t.def(Et,"$proc",et=function(){var t=this,e=et.$$p,r=e||n;return e&&(et.$$p=null),o(r)||t.$raise(a(xt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},et.$$arity=0),t.def(Et,"$puts",rt=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"puts",t.to_a(r))},rt.$$arity=-1),t.def(Et,"$p",nt=function(t){var r,i,a=this,$=arguments.length,u=$-0;u<0&&(u=0),i=new Array(u);for(var c=0;c<$;c++)i[c-0]=arguments[c];return l(i,"each",[],(r=function(t){r.$$s||this;return null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())},r.$$s=a,r.$$arity=1,r)),o(e(i.$length(),1))?i["$[]"](0):i},nt.$$arity=-1),t.def(Et,"$print",it=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"print",t.to_a(r))},it.$$arity=-1),t.def(Et,"$warn",at=function(e){var r,i;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var a=arguments.length,$=a-0;$<0&&($=0),i=new Array($);for(var u=0;u<a;u++)i[u-0]=arguments[u];return o(o(r=s.VERBOSE["$nil?"]())?r:i["$empty?"]())?n:l(s.stderr,"puts",t.to_a(i))},at.$$arity=-1),t.def(Et,"$raise",$t=function(e,r,i){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==i&&(i=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=a(xt,"RuntimeError").$new():e.$$is_string?e=a(xt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"](a(xt,"Exception"))||(e=a(xt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},$t.$$arity=-1),t.alias(Et,"fail","raise"),t.def(Et,"$rand",ot=function(t){return void 0===t?i(a(xt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!==0&&(t=t.$to_i()),0===t&&(t=void 0)),i(a(xt,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(Et,"$respond_to?",st=function(t,e){var r=this;if(null==e&&(e=!1),o(r["$respond_to_missing?"](t,e)))return!0;var n=r["$"+t];return"function"==typeof n&&!n.$$stub},st.$$arity=-2),t.def(Et,"$respond_to_missing?",ut=function(t,e){return null==e&&(e=!1),!1},ut.$$arity=-2),t.def(Et,"$require",lt=function(e){return e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.def(Et,"$require_relative",ct=function(e){return a(xt,"Opal")["$try_convert!"](e,a(xt,"String"),"to_str"),e=a(xt,"File").$expand_path(a(xt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.def(Et,"$require_tree",ft=function(e){var r=[];e=a(xt,"File").$expand_path(e),e=t.normalize(e),"."===e&&(e="");for(var n in t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ft.$$arity=1),t.alias(Et,"send","__send__"),t.alias(Et,"public_send","__send__"),t.def(Et,"$singleton_class",_t=function(){var e=this;return t.get_singleton_class(e)},_t.$$arity=0),t.def(Et,"$sleep",dt=function(e){var r=this;null==e&&(e=n),e===n&&r.$raise(a(xt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||r.$raise(a(xt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&r.$raise(a(xt,"ArgumentError"),"time interval must be positive");for(var i=t.global.performance?function(){return performance.now()}:function(){return new Date},$=i();i()-$<=1e3*e;);return e},dt.$$arity=-1),t.alias(Et,"sprintf","format"),t.def(Et,"$srand",ht=function(t){return null==t&&(t=a(xt,"Random").$new_seed()),a(xt,"Random").$srand(t)},ht.$$arity=-1),t.def(Et,"$String",pt=function(t){var e;return o(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"String"),"to_str"))?e:a(xt,"Opal")["$coerce_to!"](t,a(xt,"String"),"to_s")},pt.$$arity=1),t.def(Et,"$tap",yt=function(){var e=this,r=yt.$$p,i=r||n;return r&&(yt.$$p=null),t.yield1(i,e),e},yt.$$arity=0),t.def(Et,"$to_proc",mt=function(){var t=this;return t},mt.$$arity=0),t.def(Et,"$to_s",gt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},gt.$$arity=0),t.def(Et,"$catch",vt=function(e){var r=this,i=vt.$$p,$=i||n,o=n;i&&(vt.$$p=null);try{return t.yieldX($,[])}catch(n){if(!t.rescue(n,[a(xt,"UncaughtThrowError")]))throw n;o=n;try{return o.$sym()["$=="](e)?o.$arg():r.$raise()}finally{t.pop_exception()}}},vt.$$arity=1),t.def(Et,"$throw",bt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$raise(a(xt,"UncaughtThrowError"),e)},bt.$$arity=-1),t.def(Et,"$open",wt=function(e){var r,i=wt.$$p,$=i||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];return i&&(wt.$$p=null),l(a(xt,"File"),"open",t.to_a(r),$.$to_proc())},wt.$$arity=-1),t.def(Et,"$yield_self",kt=function(){var e,r=this,i=kt.$$p,a=i||n;return i&&(kt.$$p=null),a===n?l(r,"enum_for",["yield_self"],(e=function(){e.$$s||this;return 1},e.$$s=r,e.$$arity=0,e)):t.yield1(a,r)},kt.$$arity=0)}(r[0],r),function(t,e,r){function n(){}var i=n=c(t,e,"Object",n),$=(i.$$proto,[i].concat(r));return i.$include(a($,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.send,s=t.truthy,u=t.module,l=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(e,r,n){function a(){}var u,l,c,f,_,d,h,p,y=a=$(e,r,"Exception",a),m=y.$$proto;[y].concat(n);m.message=i;var g;return t.defs(y,"$new",u=function(e){var r,n=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];var s=r.length>0?r[0]:i,u=new n.$$alloc(s);return u.name=n.$$name,u.message=s,t.send(u,u.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(u,g),u},u.$$arity=-1),g=y.$new,t.defs(y,"$exception",l=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return o(n,"new",t.to_a(r))},l.$$arity=-1),t.def(y,"$initialize",c=function(t){var e,r=this,n=arguments.length,a=n-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.message=e.length>0?e[0]:i},c.$$arity=-1),t.def(y,"$backtrace",f=function(){var t=this,e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},f.$$arity=0),t.def(y,"$exception",_=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var r=e.$clone();return r.message=t,r},_.$$arity=-1),t.def(y,"$message",d=function(){var t=this;return t.$to_s()},d.$$arity=0),t.def(y,"$inspect",h=function(){var t=this,e=i;return e=t.$to_s(),s(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},h.$$arity=0),t.def(y,"$to_s",p=function(){var t,e,r=this;return s(t=s(e=r.message)?r.message.$to_s():e)?t:r.$class().$to_s()},p.$$arity=0),i&&"to_s"}(n[0],Error,n),function(t,e,r){function n(){}var a=n=$(t,e,"ScriptError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SyntaxError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"LoadError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NotImplementedError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SystemExit",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NoMemoryError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SignalException",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"Interrupt",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SecurityError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"StandardError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"EncodingError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"ZeroDivisionError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NameError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NoMethodError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"NameError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"RuntimeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"FrozenError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"RuntimeError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"LocalJumpError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"TypeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"ArgumentError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"IndexError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"StopIteration",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"IndexError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"KeyError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"IndexError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"RangeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"FloatDomainError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"RangeError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"IOError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SystemCallError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(r,n){var l,c=l=u(r,"Errno"),f=(c.$$proto,[c].concat(n));!function(r,n,a){function u(){}var l,c=u=$(r,n,"EINVAL",u);c.$$proto,[c].concat(a);return t.defs(c,"$new",l=function(r){var n=this,a=l.$$p,$=i;return null==r&&(r=i),a&&(l.$$p=null),$="Invalid argument",s(r)&&($=e($," - "+r)),o(n,t.find_super_dispatcher(n,"new",l,!1,u),[$],null)},l.$$arity=-1),i&&"new"}(f[0],a(f,"SystemCallError"),f)}(n[0],n),function(e,n,a){function u(){}var l,c=u=$(e,n,"UncaughtThrowError",u),f=c.$$proto;[c].concat(a);return f.sym=i,c.$attr_reader("sym","arg"),t.def(c,"$initialize",l=function(e){var n=this,i=l.$$p;return i&&(l.$$p=null),n.sym=e["$[]"](0),s(r(e.$length(),1))&&(n.arg=e["$[]"](1)),o(n,t.find_super_dispatcher(n,"initialize",l,!1),["uncaught throw "+n.sym.$inspect()],null)},l.$$arity=1),i&&"initialize"}(n[0],a(n,"ArgumentError"),n),function(e,r,n){function a(){}var s,u=a=$(e,r,"NameError",a);u.$$proto,[u].concat(n);return u.$attr_reader("name"),t.def(u,"$initialize",s=function(e,r){var n=this,a=s.$$p;return null==r&&(r=i),a&&(s.$$p=null),o(n,t.find_super_dispatcher(n,"initialize",s,!1),[e],null),n.name=r},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(e,r,n){function a(){}var s,u=a=$(e,r,"NoMethodError",a);u.$$proto,[u].concat(n);return u.$attr_reader("args"),t.def(u,"$initialize",s=function(e,r,n){var a=this,$=s.$$p;return null==r&&(r=i),null==n&&(n=[]),$&&(s.$$p=null),o(a,t.find_super_dispatcher(a,"initialize",s,!1),[e,r],null),a.args=n},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(t,e,r){function n(){}var i=n=$(t,e,"StopIteration",n);i.$$proto,[i].concat(r);return i.$attr_reader("result")}(n[0],null,n),function(e,r,n){function u(){}var c,f,_,d=u=$(e,r,"KeyError",u),h=d.$$proto,p=[d].concat(n);return h.receiver=h.key=i,t.def(d,"$initialize",c=function(e,r){var n,a,$=this,s=c.$$p;if(null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=l([],{})}return n=r.$$smap.receiver,null==n&&(n=i),a=r.$$smap.key,null==a&&(a=i),s&&(c.$$p=null),o($,t.find_super_dispatcher($,"initialize",c,!1),[e],null),$.receiver=n,$.key=a},c.$$arity=-2),t.def(d,"$receiver",f=function(){var t,e=this;return s(t=e.receiver)?t:e.$raise(a(p,"ArgumentError"),"no receiver is available")},f.$$arity=0),t.def(d,"$key",_=function(){var t,e=this;return s(t=e.key)?t:e.$raise(a(p,"ArgumentError"),"no key is available")},_.$$arity=0),i&&"key"}(n[0],null,n),function(t,e){var r,n=r=u(t,"JS"),a=(n.$$proto,[n].concat(e));!function(t,e,r){function n(){}var a=n=$(t,e,"Error",n);a.$$proto,[a].concat(r);return i}(a[0],null,a)}(n[0],n)},Opal.modules["corelib/constants"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),$=t.hash2,o=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M=l=a(r,s,"NilClass",l),T=M.$$proto,R=[M].concat(u);return T.$$meta=M,function(e,r){var a,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",a=function(){var t=this;return t.$raise(i($,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0),t.udef(e,"$new"),n}(t.get_singleton_class(M),R),t.def(M,"$!",c=function(){return!0},c.$$arity=0),t.def(M,"$&",f=function(t){return!1},f.$$arity=1),t.def(M,"$|",_=function(t){return t!==!1&&t!==n},_.$$arity=1),t.def(M,"$^",d=function(t){return t!==!1&&t!==n},d.$$arity=1),t.def(M,"$==",h=function(t){return t===n},h.$$arity=1),t.def(M,"$dup",p=function(){return n},p.$$arity=0),t.def(M,"$clone",y=function(e){var r;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},y.$$arity=-1),t.def(M,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(M,"$nil?",g=function(){return!0},g.$$arity=0),t.def(M,"$singleton_class",v=function(){return i(R,"NilClass")},v.$$arity=0),t.def(M,"$to_a",b=function(){return[]},b.$$arity=0),t.def(M,"$to_h",w=function(){return t.hash()},w.$$arity=0),t.def(M,"$to_i",k=function(){return 0},k.$$arity=0),t.alias(M,"to_f","to_i"),t.def(M,"$to_s",E=function(){return""},E.$$arity=0),t.def(M,"$to_c",x=function(){return i(R,"Complex").$new(0,0)},x.$$arity=0),t.def(M,"$rationalize",A=function(t){var r,n=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return o(e(r.$length(),1))&&n.$raise(i(R,"ArgumentError")),n.$Rational(0,1)},A.$$arity=-1),t.def(M,"$to_r",O=function(){var t=this;return t.$Rational(0,1)},O.$$arity=0),t.def(M,"$instance_variables",S=function(){return[]},S.$$arity=0),n&&"instance_variables"}(r[0],null,r),t.const_set(r[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p,y,m,g=s=i(e,$,"Boolean",s),v=g.$$proto,b=[g].concat(o);return v.$$is_boolean=!0,v.$$meta=g,function(e,i){var a,$=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",a=function(){var t=this;return t.$raise(n($,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(g),b),t.def(g,"$__id__",u=function(){var t=this;return t.valueOf()?2:0},u.$$arity=0),t.alias(g,"object_id","__id__"),t.def(g,"$!",l=function(){var t=this;return 1!=t},l.$$arity=0),t.def(g,"$&",c=function(t){var e=this;return 1==e&&(t!==!1&&t!==r)},c.$$arity=1),t.def(g,"$|",f=function(t){var e=this;return 1==e||t!==!1&&t!==r},f.$$arity=1),t.def(g,"$^",_=function(t){var e=this;return 1==e?t===!1||t===r:t!==!1&&t!==r},_.$$arity=1),t.def(g,"$==",d=function(t){var e=this;return 1==e===t.valueOf()},d.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.def(g,"$singleton_class",h=function(){return n(b,"Boolean")},h.$$arity=0),t.def(g,"$to_s",p=function(){var t=this;return 1==t?"true":"false"},p.$$arity=0),t.def(g,"$dup",y=function(){var t=this;return t},y.$$arity=0),t.def(g,"$clone",m=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=a([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},m.$$arity=-1),r&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var u,l,c,f,_,d,h,p,y,m=u=$(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",l=function(t){return o(a(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==a(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[a(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>0},f.$$arity=1),t.def(m,"$>=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.def(m,"$<",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.def(m,"$<=",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<=0},h.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),t.def(m,"$clamp",y=function(t,n){var $=this,s=i;return s=t["$<=>"](n),o(s)||$.$raise(a(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(a(g,"Comparable").$normalize(s),0))&&$.$raise(a(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(a(g,"Comparable").$normalize($["$<=>"](t)),0))?t:o(e(a(g,"Comparable").$normalize($["$<=>"](n)),0))?n:$},y.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.send,$=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function a(){}var $=a=i(t,e,"RegexpError",a);$.$$proto,[$].concat(n);return r}(e[0],n(e,"StandardError"),e),function(e,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b=l=i(e,s,"Regexp",l),w=b.$$proto,k=[b].concat(u);return t.const_set(k[0],"IGNORECASE",1),t.const_set(k[0],"EXTENDED",2),t.const_set(k[0],"MULTILINE",4),w.$$is_regexp=!0,function(e,i){var s,u,l,c,f,_=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",s=function(){var e=this,n=s.$$p,i=r,$=r,o=r,u=r;for(n&&(s.$$p=null),o=0,u=arguments.length,$=new Array(u);o<u;o++)$[o]=arguments[o];return i=a(e,t.find_super_dispatcher(e,"allocate",s,!1),$,n),i.uninitialized=!0,i},s.$$arity=0),t.def(e,"$escape",u=function(e){return t.escape_regexp(e)},u.$$arity=1),t.def(e,"$last_match",l=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),$(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function(t){var e,r=this,i=arguments.length,a=i-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<i;$++)e[$-0]=arguments[$];var o,s,u,l,c;if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];o=e[0].$$is_array,e.length>1&&o&&r.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),o&&(e=e[0]),l=void 0,s=[];for(var f=0;f<e.length;f++)u=e[f],u.$$is_string?s.push(r.$escape(u)):u.$$is_regexp?(c=u.$options(),void 0!=l&&l!=c&&r.$raise(n(_,"TypeError"),"All expressions must use the same options"),l=c,s.push("("+u.source+")")):s.push(r.$escape(u.$to_str()));return r.$new(s.$join("|"),l)},c.$$arity=-1),t.def(e,"$new",f=function(t,e){var r=this;if(t.$$is_regexp)return new RegExp(t);if(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&r.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var i="";n(_,"IGNORECASE")&e&&(i+="i"),n(_,"MULTILINE")&e&&(i+="m"),e=i}else e="i";return new RegExp(t,e)},f.$$arity=-2),r&&"new"}(t.get_singleton_class(b),k),t.def(b,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.def(b,"$===",f=function(t){var e=this;return e.$match(n(k,"Opal")["$coerce_to?"](t,n(k,"String"),"to_str"))!==r},f.$$arity=1),t.def(b,"$=~",_=function(t){var e,n=this;return null==o["~"]&&(o["~"]=r),$(e=n.$match(t))?o["~"].$begin(0):e},_.$$arity=1),t.alias(b,"eql?","=="),t.def(b,"$inspect",d=function(){var t=this,e=/^\/(.*)\/([^\/]*)$/,r=t.toString(),n=e.exec(r);if(n){for(var i=n[1],a=n[2],$=i.split(""),o=$.length,s=!1,u="",l=0;l<o;l++){var c=$[l];s||"/"!=c||(u=u.concat("\\")),u=u.concat(c),s="\\"==c&&!s}return"/"+u+"/"+a}return r},d.$$arity=0),t.def(b,"$match",h=function(e,i){var a=this,$=h.$$p,s=$||r;if(null==o["~"]&&(o["~"]=r),$&&(h.$$p=null),a.uninitialized&&a.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var u=a.exec(n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"));return u?(o["~"]=n(k,"MatchData").$new(a,u),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(k,"Opal").$coerce_to(i,n(k,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"),i<0&&(i+=e.length,i<0))return o["~"]=r;for(var l,c=a.source,f=a.multiline?"gm":"g",_=new RegExp(c,f+(a.ignoreCase?"i":""));;){if(l=_.exec(e),null===l)return o["~"]=r;if(l.index>=i)return o["~"]=n(k,"MatchData").$new(_,l),s===r?o["~"]:t.yield1(s,o["~"]);_.lastIndex=l.index+1}},h.$$arity=-2),t.def(b,"$match?",p=function(t,e){var i=this;if(i.uninitialized&&i.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&i.test(n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"));if(e=n(k,"Opal").$coerce_to(e,n(k,"Integer"),"to_int"),t===r)return!1;if(t=n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"),e<0&&(e+=t.length,e<0))return!1;var a,$=i.source,o=i.multiline?"gm":"g",s=new RegExp($,o+(i.ignoreCase?"i":""));return a=s.exec(t),!(null===a||a.index<e)},p.$$arity=-2),t.def(b,"$~",y=function(){var t=this;return null==o._&&(o._=r),t["$=~"](o._)},y.$$arity=0),t.def(b,"$source",m=function(){var t=this;return t.source},m.$$arity=0),t.def(b,"$options",g=function(){var t=this;t.uninitialized&&t.$raise(n(k,"TypeError"),"uninitialized Regexp");var e=0;return t.multiline&&(e|=n(k,"MULTILINE")),t.ignoreCase&&(e|=n(k,"IGNORECASE")),e},g.$$arity=0),t.def(b,"$casefold?",v=function(){var t=this;return t.ignoreCase},v.$$arity=0),t.alias(b,"to_s","source")}(e[0],RegExp,e),function(e,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b,w,k=l=i(e,s,"MatchData",l),E=k.$$proto,x=[k].concat(u);return E.matches=r,k.$attr_reader("post_match","pre_match","regexp","string"),t.def(k,"$initialize",c=function(t,e){var n=this;o["~"]=n,n.regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var i=0,a=e.length;i<a;i++){var $=e[i];null==$?n.matches.push(r):n.matches.push($)}},c.$$arity=2),t.def(k,"$[]",f=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return a(n.matches,"[]",t.to_a(r))},f.$$arity=-1),t.def(k,"$offset",_=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[e.begin,e.begin+e.matches[t].length]},_.$$arity=1),t.def(k,"$==",d=function(t){var e,r,i,a,o=this;return!!$(n(x,"MatchData")["$==="](t))&&($(e=$(r=$(i=$(a=o.string==t.string)?o.regexp.toString()==t.regexp.toString():a)?o.pre_match==t.pre_match:i)?o.post_match==t.post_match:r)?o.begin==t.begin:e)},d.$$arity=1),t.alias(k,"eql?","=="),t.def(k,"$begin",h=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#begin only supports 0th element"),e.begin},h.$$arity=1),t.def(k,"$end",p=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#end only supports 0th element"),e.begin+e.matches[t].length},p.$$arity=1),t.def(k,"$captures",y=function(){var t=this;return t.matches.slice(1)},y.$$arity=0),t.def(k,"$inspect",m=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),r=1,n=t.matches.length;r<n;r++)e+=" "+r+":"+t.matches[r].$inspect();return e+">"},m.$$arity=0),t.def(k,"$length",g=function(){var t=this;return t.matches.length},g.$$arity=0),t.alias(k,"size","length"),t.def(k,"$to_a",v=function(){var t=this;return t.matches},v.$$arity=0),t.def(k,"$to_s",b=function(){var t=this;return t.matches[0]},b.$$arity=0),t.def(k,"$values_at",w=function(t){var e,i=this,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];var s,u,l,c=[];for(s=0;s<e.length;s++)e[s].$$is_range&&(u=e[s].$to_a(),u.unshift(s,1),Array.prototype.splice.apply(e,u)),l=n(x,"Opal")["$coerce_to!"](e[s],n(x,"Integer"),"to_int"),l<0&&(l+=i.matches.length,l<0)?c.push(r):c.push(i.matches[l]);return c},w.$$arity=-1),r&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.truthy,u=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,c){function f(){}function _(t){function e(t){var e,r,n,i,a,o,s="",u=t.length;for(e=0;e<u;e++)if(r=t.charAt(e),"-"===r&&e>0&&e<u-1&&!n){for(i=t.charCodeAt(e-1),a=t.charCodeAt(e+1),i>a&&Ct.$raise($(zt,"ArgumentError"),'invalid range "'+i+"-"+a+'" in string transliteration'),o=i+1;o<a+1;o++)s+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",a=t.length;for(r=0;r<a;r++)n=t.charAt(r),e.indexOf(n)!==-1&&(i+=n);return i}var n,i,a,o,s,u,l="",c="";for(n=0,i=t.length;n<i;n++)a=$(zt,"Opal").$coerce_to(t[n],$(zt,"String"),"to_str"),o="^"===a.charAt(0)&&a.length>1,a=e(o?a.slice(1):a),o?c=r(c,a):l=r(l,a);if(l.length>0&&c.length>0){for(u="",n=0,i=l.length;n<i;n++)s=l.charAt(n),c.indexOf(s)===-1&&(u+=s);l=u,c=""}return l.length>0?"["+$(zt,"Regexp").$escape(l)+"]":c.length>0?"[^"+$(zt,"Regexp").$escape(c)+"]":null}var d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct=f=o(n,i,"String",f),Nt=Ct.$$proto,zt=[Ct].concat(c);return Nt.length=a,Ct.$include($(zt,"Comparable")),Nt.$$is_string=!0,t.def(Ct,"$__id__",d=function(){var t=this;return t.toString()},d.$$arity=0),t.alias(Ct,"object_id","__id__"),t.defs(Ct,"$try_convert",h=function(t){return $(zt,"Opal")["$coerce_to?"](t,$(zt,"String"),"to_str")},h.$$arity=1),t.defs(Ct,"$new",p=function(t){return null==t&&(t=""),t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),new String(t)},p.$$arity=-1),t.def(Ct,"$initialize",y=function(t){var e=this;return void 0===t?e:e.$raise($(zt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},y.$$arity=-1),t.def(Ct,"$%",m=function(e){var r=this;return s($(zt,"Array")["$==="](e))?u(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},m.$$arity=1),t.def(Ct,"$*",g=function(t){var e=this;
if(t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),t<0&&e.$raise($(zt,"ArgumentError"),"negative argument"),0===t)return"";var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise($(zt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&t)&&(r+=n),t>>>=1,0!==t;)n+=n;return r},g.$$arity=1),t.def(Ct,"$+",v=function(t){var e=this;return t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e+t.$to_s()},v.$$arity=1),t.def(Ct,"$<=>",b=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var r=t["$<=>"](e);return r===a?a:r>0?-1:r<0?1:0},b.$$arity=1),t.def(Ct,"$==",w=function(t){var e=this;return t.$$is_string?e.toString()===t.toString():!!$(zt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](e)},w.$$arity=1),t.alias(Ct,"eql?","=="),t.alias(Ct,"===","=="),t.def(Ct,"$=~",k=function(t){var e=this;return t.$$is_string&&e.$raise($(zt,"TypeError"),"type mismatch: String given"),t["$=~"](e)},k.$$arity=1),t.def(Ct,"$[]",E=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=$(zt,"Opal").$coerce_to(t.end,$(zt,"Integer"),"to_int"),t=$(zt,"Opal").$coerce_to(t.begin,$(zt,"Integer"),"to_int"),Math.abs(t)>i?a:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),e-=t,e<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise($(zt,"TypeError")),n.indexOf(t)!==-1?t:a;if(t.$$is_regexp){var o=n.match(t);return null===o?(l["~"]=a,a):(l["~"]=$(zt,"MatchData").$new(t,o),null==e?o[0]:(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&-e<o.length?o[e+=o.length]:e>=0&&e<o.length?o[e]:a))}return t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),t<0&&(t+=i),null==e?t>=i||t<0?a:n.substr(t,1):(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0?a:t>i||t<0?a:n.substr(t,e))},E.$$arity=-2),t.alias(Ct,"byteslice","[]"),t.def(Ct,"$b",x=function(){var t=this;return t.$force_encoding("binary")},x.$$arity=0),t.def(Ct,"$capitalize",A=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},A.$$arity=0),t.def(Ct,"$casecmp",O=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return a;t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},O.$$arity=1),t.def(Ct,"$casecmp?",S=function(t){var e=this,r=e.$casecmp(t);return r===a?a:0===r},S.$$arity=1),t.def(Ct,"$center",M=function(t,n){var i=this;if(null==n&&(n=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),n=$(zt,"Opal").$coerce_to(n,$(zt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=i.length))return i;var a=i.$ljust(e(r(t,i.length),2).$ceil(),n),o=i.$rjust(e(r(t,i.length),2).$floor(),n);return o+a.slice(i.length)},M.$$arity=-2),t.def(Ct,"$chars",T=function(){var t=this,e=T.$$p,r=e||a;return e&&(T.$$p=null),s(r)?u(t,"each_char",[],r.$to_proc()):t.$each_char().$to_a()},T.$$arity=0),t.def(Ct,"$chomp",R=function(t){var e=this;if(null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),s(t===a||0===e.length))return e;if(t=$(zt,"Opal")["$coerce_to!"](t,$(zt,"String"),"to_str").$to_s(),"\n"===t)return e.replace(/\r?\n?$/,"");if(""===t)return e.replace(/(\r?\n)+$/,"");if(e.length>t.length){var r=e.substr(e.length-t.length,t.length);if(r===t)return e.substr(0,e.length-t.length)}return e},R.$$arity=-1),t.def(Ct,"$chop",I=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},I.$$arity=0),t.def(Ct,"$chr",C=function(){var t=this;return t.charAt(0)},C.$$arity=0),t.def(Ct,"$clone",N=function(){var t=this,e=a;return e=t.slice(),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},N.$$arity=0),t.def(Ct,"$dup",z=function(){var t=this,e=a;return e=t.slice(),e.$initialize_dup(t),e},z.$$arity=0),t.def(Ct,"$count",P=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];0===e.length&&r.$raise($(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},P.$$arity=-1),t.def(Ct,"$delete",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];0===e.length&&r.$raise($(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?r:r.replace(new RegExp(o,"g"),"")},B.$$arity=-1),t.def(Ct,"$delete_prefix",q=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.slice(0,t.length)===t?e.slice(t.length):e},q.$$arity=1),t.def(Ct,"$delete_suffix",D=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},D.$$arity=1),t.def(Ct,"$downcase",L=function(){var t=this;return t.toLowerCase()},L.$$arity=0),t.def(Ct,"$each_char",F=function(){var e,r=this,n=F.$$p,i=n||a;if(n&&(F.$$p=null),i===a)return u(r,"enum_for",["each_char"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,o=r.length;$<o;$++)t.yield1(i,r.charAt($));return r},F.$$arity=0),t.def(Ct,"$each_line",j=function(e){var r=this,n=j.$$p,i=n||a;if(null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),n&&(j.$$p=null),i===a)return r.$enum_for("each_line",e);if(e===a)return t.yield1(i,r),r;e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str");var o,s,u,c,f,_,d;if(0===e.length){for(o=r.split(/(\n{2,})/),s=0,u=o.length;s<u;s+=2)(o[s]||o[s+1])&&t.yield1(i,(o[s]||"")+(o[s+1]||""));return r}for(f=r.$chomp(e),_=r.length!=f.length,d=f.split(e),s=0,c=d.length;s<c;s++)s<c-1||_?t.yield1(i,d[s]+e):t.yield1(i,d[s]);return r},j.$$arity=-1),t.def(Ct,"$empty?",U=function(){var t=this;return 0===t.length},U.$$arity=0),t.def(Ct,"$end_with?",H=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=0,s=e.length;o<s;o++){var u=$(zt,"Opal").$coerce_to(e[o],$(zt,"String"),"to_str").$to_s();if(r.length>=u.length&&r.substr(r.length-u.length,u.length)==u)return!0}return!1},H.$$arity=-1),t.alias(Ct,"equal?","==="),t.def(Ct,"$gsub",G=function(t,e){var r=this,n=G.$$p,i=n||a;if(n&&(G.$$p=null),void 0===e&&i===a)return r.$enum_for("gsub",t);var o,s,u="",c=a,f=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=t.exec(r),null===o){l["~"]=a,u+=r.slice(f);break}c=$(zt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(u+=s+r.slice(f,o.index+1),t.lastIndex+=1):u+=r.slice(f,o.index)+s,f=t.lastIndex}return l["~"]=c,u},G.$$arity=-2),t.def(Ct,"$hash",Y=function(){var t=this;return t.toString()},Y.$$arity=0),t.def(Ct,"$hex",W=function(){var t=this;return t.$to_i(16)},W.$$arity=0),t.def(Ct,"$include?",K=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.indexOf(t)!==-1},K.$$arity=1),t.def(Ct,"$index",X=function(t,e){var r,n,i,o=this;if(void 0===e)e=0;else if(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&(e+=o.length,e<0))return a;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(n=i.exec(o),null===n){l["~"]=a,r=-1;break}if(n.index>=e){l["~"]=$(zt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),r=0===t.length&&e>o.length?-1:o.indexOf(t,e);return r===-1?a:r},X.$$arity=-2),t.def(Ct,"$inspect",V=function(){var t=this,e=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},n=t.replace(e,function(t){return r[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+n.replace(/\#[\$\@\{]/g,"\\$&")+'"'},V.$$arity=0),t.def(Ct,"$intern",J=function(){var t=this;return t},J.$$arity=0),t.def(Ct,"$lines",Z=function(t){var e=this,r=Z.$$p,n=r||a,i=a;return null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),r&&(Z.$$p=null),i=u(e,"each_line",[t],n.$to_proc()),s(n)?e:i.$to_a()},Z.$$arity=-1),t.def(Ct,"$length",Q=function(){var t=this;return t.length},Q.$$arity=0),t.def(Ct,"$ljust",tt=function(t,e){var r=this;if(null==e&&(e=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},tt.$$arity=-2),t.def(Ct,"$lstrip",et=function(){var t=this;return t.replace(/^\s*/,"")},et.$$arity=0),t.def(Ct,"$ascii_only?",rt=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},rt.$$arity=0),t.def(Ct,"$match",nt=function(t,e){var r,n=this,i=nt.$$p,o=i||a;return i&&(nt.$$p=null),s(s(r=$(zt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=$(zt,"Regexp").$new(t.$to_str())),s($(zt,"Regexp")["$==="](t))||n.$raise($(zt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),u(t,"match",[n,e],o.$to_proc())},nt.$$arity=-2),t.def(Ct,"$next",it=function(){var t=this,e=t.length;if(0===e)return"";for(var r,n=t,i=t.search(/[a-zA-Z0-9]/),a=!1;e--;){if(r=t.charCodeAt(e),r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:a=!0,r=48;break;case 90:a=!0,r=65;break;case 122:a=!0,r=97;break;default:a=!1,r+=1}else i===-1?255===r?(a=!0,r=0):(a=!1,r+=1):a=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),a&&(0===e||e===i)){switch(r){case 65:break;case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),a=!1}if(!a)break}return n},it.$$arity=0),t.def(Ct,"$oct",at=function(){var t,e=this,r=e,n=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},at.$$arity=0),t.def(Ct,"$ord",$t=function(){var t=this;return t.charCodeAt(0)},$t.$$arity=0),t.def(Ct,"$partition",ot=function(t){var e,r,n=this;return t.$$is_regexp?(r=t.exec(n),null===r?e=-1:($(zt,"MatchData").$new(t,r),t=r[0],e=r.index)):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e=n.indexOf(t)),e===-1?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},ot.$$arity=1),t.def(Ct,"$reverse",st=function(){var t=this;return t.split("").reverse().join("")},st.$$arity=0),t.def(Ct,"$rindex",ut=function(t,e){var r,n,i,o,s=this;if(void 0===e)e=s.length;else if(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&(e+=s.length,e<0))return a;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(o=i.exec(s),null===o||o.index>e)break;n=o,i.lastIndex=n.index+1}null===n?(l["~"]=a,r=-1):($(zt,"MatchData").$new(i,n),r=n.index)}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),r=s.lastIndexOf(t,e);return r===-1?a:r},ut.$$arity=-2),t.def(Ct,"$rjust",lt=function(t,e){var r=this;if(null==e&&(e=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),a=Array(i+1).join(e),o=n-a.length;return a+e.slice(0,o)+r},lt.$$arity=-2),t.def(Ct,"$rpartition",ct=function(t){var e,r,n,i,a=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(i=n.exec(a),null===i)break;r=i,n.lastIndex=r.index+1}null===r?e=-1:($(zt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e=a.lastIndexOf(t);return e===-1?["","",a]:[a.slice(0,e),a.slice(e,e+t.length),a.slice(e+t.length)]},ct.$$arity=1),t.def(Ct,"$rstrip",ft=function(){var t=this;return t.replace(/[\s\u0000]*$/,"")},ft.$$arity=0),t.def(Ct,"$scan",_t=function(t){var e=this,r=_t.$$p,n=r||a;r&&(_t.$$p=null);var i,o=[],s=a;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=t.exec(e));)s=$(zt,"MatchData").$new(t,i),n===a?1==i.length?o.push(i[0]):o.push(s.$captures()):1==i.length?n(i[0]):n.call(e,s.$captures()),t.lastIndex===i.index&&(t.lastIndex+=1);return l["~"]=s,n!==a?e:o},_t.$$arity=1),t.alias(Ct,"size","length"),t.alias(Ct,"slice","[]"),t.def(Ct,"$split",dt=function(t,e){var r,n=this;if(null==l[";"]&&(l[";"]=a),0===n.length)return[];if(void 0===e)e=0;else if(e=$(zt,"Opal")["$coerce_to!"](e,$(zt,"Integer"),"to_int"),1===e)return[n];void 0!==t&&t!==a||(t=s(r=l[";"])?r:" ");var i,o,u,c=[],f=n.toString(),_=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,f=f.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),c=f.split(t),1===c.length&&c[0]===f)return c;for(;(o=c.indexOf(void 0))!==-1;)c.splice(o,1);if(0===e){for(;""===c[c.length-1];)c.length-=1;return c}if(i=t.exec(f),e<0){if(null!==i&&""===i[0]&&t.source.indexOf("(?=")===-1)for(o=0,u=i.length;o<u;o++)c.push("");return c}if(null!==i&&""===i[0])return c.splice(e-1,c.length-1,c.slice(e-1).join("")),c;if(e>=c.length)return c;for(o=0;null!==i&&(o++,_=t.lastIndex,o+1!==e);)i=t.exec(f);return c.splice(e-1,c.length-1,f.slice(_)),c},dt.$$arity=-1),t.def(Ct,"$squeeze",ht=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];if(0===e.length)return r.replace(/(.)\1+/g,"$1");var $=_(e);return null===$?r:r.replace(new RegExp("("+$+")\\1+","g"),"$1")},ht.$$arity=-1),t.def(Ct,"$start_with?",pt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=0,s=e.length;o<s;o++){var u=$(zt,"Opal").$coerce_to(e[o],$(zt,"String"),"to_str").$to_s();if(0===r.indexOf(u))return!0}return!1},pt.$$arity=-1),t.def(Ct,"$strip",yt=function(){var t=this;return t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},yt.$$arity=0),t.def(Ct,"$sub",mt=function(t,e){var r=this,n=mt.$$p,i=n||a;n&&(mt.$$p=null),t.$$is_regexp||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(l["~"]=a,r.toString()):($(zt,"MatchData").$new(t,o),void 0===e?(i===a&&r.$raise($(zt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str"),e=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},mt.$$arity=-2),t.alias(Ct,"succ","next"),t.def(Ct,"$sum",gt=function(t){var e=this;null==t&&(t=16),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int");for(var r=0,n=e.length,i=0;i<n;i++)r+=e.charCodeAt(i);return t<=0?r:r&Math.pow(2,t)-1},gt.$$arity=-1),t.def(Ct,"$swapcase",vt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},vt.$$arity=0),t.def(Ct,"$to_f",bt=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-(1/0)?0:e},bt.$$arity=0),t.def(Ct,"$to_i",wt=function(t){var e=this;null==t&&(t=10);var r,n=e.toLowerCase(),i=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int");return(1===i||i<0||i>36)&&e.$raise($(zt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),r=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)},wt.$$arity=-1),t.def(Ct,"$to_proc",kt=function(){var e,r=this,n=a;return n=r.valueOf(),u(r,"proc",[],(e=function(r){var i,o,s=e.$$s||this;i=e.$$p||a,i&&(e.$$p=null);var u=arguments.length,l=u-0;l<0&&(l=0),o=new Array(l);for(var c=0;c<u;c++)o[c-0]=arguments[c];0===o.length&&s.$raise($(zt,"ArgumentError"),"no receiver given");var f=o.shift();return null==f&&(f=a),t.send(f,n,o,i)},e.$$s=r,e.$$arity=-1,e))},kt.$$arity=0),t.def(Ct,"$to_s",Et=function(){var t=this;return t.toString()},Et.$$arity=0),t.alias(Ct,"to_str","to_s"),t.alias(Ct,"to_sym","intern"),t.def(Ct,"$tr",xt=function(t,e){var r=this;if(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s(),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),0==t.length||t===e)return r;var n,i,a,o,s,u,l,c={},f=t.split(""),_=f.length,d=e.split(""),h=d.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=d[h-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)m.push(String.fromCharCode(a));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(h>0){var v=[],b=null;for(i=!1,n=0;n<h;n++)if(o=d[n],null==b)b=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==h-1?v.push("-"):i=!0;else if(i){for(s=b.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)v.push(String.fromCharCode(a));v.push(o),i=null,b=null}else v.push(o);d=v,h=d.length}var w=_-h;if(w>0){var k=h>0?d[h-1]:"";for(n=0;n<w;n++)d.push(k)}for(n=0;n<_;n++)c[f[n]]=d[n]}var E="";for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var x=c[o];E+=p?null==x?y:o:null!=x?x:o}return E},xt.$$arity=2),t.def(Ct,"$tr_s",At=function(t,e){var r=this;if(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s(),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),0==t.length)return r;var n,i,a,o,s,u,l,c={},f=t.split(""),_=f.length,d=e.split(""),h=d.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=d[h-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)m.push(String.fromCharCode(a));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(h>0){var v=[],b=null;for(i=!1,n=0;n<h;n++)if(o=d[n],null==g)g=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==h-1?v.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)v.push(String.fromCharCode(a));v.push(o),i=null,g=null}else v.push(o);d=v,h=d.length}var w=_-h;if(w>0){var k=h>0?d[h-1]:"";for(n=0;n<w;n++)d.push(k)}for(n=0;n<_;n++)c[f[n]]=d[n]}var E="",x=null;for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var A=c[o];p?null==A?null==x&&(E+=y,x=!0):(E+=o,x=null):null!=A?null!=x&&x===A||(E+=A,x=A):(E+=o,x=null)}return E},At.$$arity=2),t.def(Ct,"$upcase",Ot=function(){var t=this;return t.toUpperCase()},Ot.$$arity=0),t.def(Ct,"$upto",St=function(t,e){var r=this,n=St.$$p,i=n||a;if(null==e&&(e=!1),n&&(St.$$p=null),i===a)return r.$enum_for("upto",t,e);t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str");var o,s,u=r.toString();if(1===u.length&&1===t.length)for(o=u.charCodeAt(0),s=t.charCodeAt(0);o<=s&&(!e||o!==s);)i(String.fromCharCode(o)),o+=1;else if(parseInt(u,10).toString()===u&&parseInt(t,10).toString()===t)for(o=parseInt(u,10),s=parseInt(t,10);o<=s&&(!e||o!==s);)i(o.toString()),o+=1;else for(;u.length<=t.length&&u<=t&&(!e||u!==t);)i(u),u=u.$succ();return r},St.$$arity=-2),t.def(Ct,"$instance_variables",Mt=function(){return[]},Mt.$$arity=0),t.defs(Ct,"$_load",Tt=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return u(n,"new",t.to_a(r))},Tt.$$arity=-1),t.def(Ct,"$unpack",Rt=function(t){var e=this;return e.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Rt.$$arity=1),t.def(Ct,"$unpack1",It=function(t){var e=this;return e.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},It.$$arity=1),a&&"unpack1"}(i[0],String,i),t.const_set(i[0],"Symbol",$(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=(t.top,[]),u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.module),_=t.truthy,d=t.send,h=t.falsy,p=t.hash2,y=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,m){function g(t){return 0===t.length&&(t=[u]),t.length>1&&(t=[t]),t}var v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht=v=f(s,"Enumerable"),pt=(ht.$$proto,[ht].concat(m));t.def(ht,"$all?",b=function(e){try{var r,n,i,a=this,$=b.$$p,o=$||u;return $&&(b.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?u:void t.ret(!1)},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?u:void t.ret(!1)},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(c(pt,"Opal").$destructure(r))?u:void t.ret(!1)},i.$$s=a,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},b.$$arity=-1),t.def(ht,"$any?",w=function(e){try{var r,n,i,a=this,$=w.$$p,o=$||u;return $&&(w.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?void t.ret(!0):u},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!0):u},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(c(pt,"Opal").$destructure(r))?void t.ret(!0):u},i.$$s=a,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-1),t.def(ht,"$chunk",k=function(){var e,r,n=this,i=k.$$p,a=i||u;return i&&(k.$$p=null),a===u?d(n,"to_enum",["chunk"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):d(l("::","Enumerator"),"new",[],(r=function(e){function n(){o.length>0&&e.$yield($,o)}var i=r.$$s||this;null==e&&(e=u);var $=u,o=[];i.$each.$$p=function(e){var r=t.yield1(a,e);r===u?(n(),o=[],$=u):($===u||$===r?o.push(e):(n(),o=[e]),$=r)},i.$each(),n()},r.$$s=n,r.$$arity=1,r))},k.$$arity=0),t.def(ht,"$chunk_while",E=function(){var e,r=this,n=E.$$p,i=n||u;return n&&(E.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"no block given"),d(r,"slice_when",[],(e=function(r,n){e.$$s||this;return null==r&&(r=u),null==n&&(n=u),t.yieldX(i,[r,n])["$!"]()},e.$$s=r,e.$$arity=2,e))},E.$$arity=0),t.def(ht,"$collect",x=function(){var e,r=this,n=x.$$p,i=n||u;if(n&&(x.$$p=null),i===u)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=t.yieldX(i,arguments);a.push(e)},r.$each(),a},x.$$arity=0),t.def(ht,"$collect_concat",A=function(){var e,r,n=this,i=A.$$p,a=i||u;return i&&(A.$$p=null),a===u?d(n,"enum_for",["collect_concat"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):d(n,"map",[],(r=function(e){r.$$s||this;return null==e&&(e=u),t.yield1(a,e)},r.$$s=n,r.$$arity=1,r)).$flatten(1)},A.$$arity=0),t.def(ht,"$count",O=function(e){var r,n,i,a=this,$=O.$$p,o=$||u,s=u;return $&&(O.$$p=null),s=0,null!=e&&o!==u&&a.$warn("warning: given block not used"),_(null!=e)?o=d(a,"proc",[],(r=function(t){var n,i=(r.$$s||this,arguments.length),a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return c(pt,"Opal").$destructure(n)["$=="](e)},r.$$s=a,r.$$arity=-1,r)):_(o["$nil?"]())&&(o=d(a,"proc",[],(n=function(){n.$$s||this;return!0},n.$$s=a,n.$$arity=0,n))),d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(t.yieldX(o,r))?s++:u},i.$$s=a,i.$$arity=-1,i)),s},O.$$arity=-1),t.def(ht,"$cycle",S=function(n){var i,a=this,$=S.$$p,o=$||u;if(null==n&&(n=u),$&&(S.$$p=null),o===u)return d(a,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return _(n["$nil?"]())?_(t["$respond_to?"]("size"))?l(c(pt,"Float"),"INFINITY"):u:(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=a,i.$$arity=0,i));if(_(n["$nil?"]()));else if(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(n<=0))return u;var s,f,h,p,y=[];if(a.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(o,e);y.push(e)},a.$each(),void 0!==s)return s;if(0===y.length)return u;if(n===u)for(;;)for(f=0,h=y.length;f<h;f++)p=t.yield1(o,y[f]);else for(;n>1;){for(f=0,h=y.length;f<h;f++)p=t.yield1(o,y[f]);n--}},S.$$arity=-1),t.def(ht,"$detect",M=function(e){try{var r,n=this,i=M.$$p,a=i||u;return i&&(M.$$p=null),a===u?n.$enum_for("detect",e):(d(n,"each",[],(r=function(e){var n,i=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return i=c(pt,"Opal").$destructure(n),_(t.yield1(a,i))?void t.ret(i):u},r.$$s=n,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:u)}catch(e){if(e===t.returner)return e.$v;throw e}},M.$$arity=-1),t.def(ht,"$drop",T=function(t){var e=this;t=c(pt,"Opal").$coerce_to(t,c(pt,"Integer"),"to_int"),_(t<0)&&e.$raise(c(pt,"ArgumentError"),"attempt to drop negative size");var r=[],n=0;return e.$each.$$p=function(){t<=n&&r.push(c(pt,"Opal").$destructure(arguments)),n++},e.$each(),r},T.$$arity=1),t.def(ht,"$drop_while",R=function(){var e=this,r=R.$$p,n=r||u;if(r&&(R.$$p=null),n===u)return e.$enum_for("drop_while");var i=[],a=!0;return e.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(a){var r=t.yield1(n,e);h(r)&&(a=!1,i.push(e))}else i.push(e)},e.$each(),i},R.$$arity=0),t.def(ht,"$each_cons",I=function(e){var r,$=this,o=I.$$p,s=o||u;if(o&&(I.$$p=null),_(1!=arguments.length)&&$.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=c(pt,"Opal").$try_convert(e,c(pt,"Integer"),"to_int"),_(e<=0)&&$.$raise(c(pt,"ArgumentError"),"invalid size"),s===u)return d($,"enum_for",["each_cons",e],(r=function(){var t,$=r.$$s||this,o=u;return o=$.$enumerator_size(),_(o["$nil?"]())?u:_(_(t=o["$=="](0))?t:n(o,e))?0:i(a(o,e),1)},r.$$s=$,r.$$arity=0,r));var l=[],f=u;return $.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);l.push(r),l.length>e&&l.shift(),l.length==e&&t.yield1(s,l.slice(0,e))},$.$each(),f},I.$$arity=1),t.def(ht,"$each_entry",C=function(e){var r,n,i=this,a=C.$$p,$=a||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return a&&(C.$$p=null),$===u?d(i,"to_enum",["each_entry"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r)):(i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1($,e)},i.$each.apply(i,n),i)},C.$$arity=-1),t.def(ht,"$each_slice",N=function(e){var r,n=this,i=N.$$p,a=i||u;if(i&&(N.$$p=null),e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<=0)&&n.$raise(c(pt,"ArgumentError"),"invalid slice size"),a===u)return d(n,"enum_for",["each_slice",e],(r=function(){var t=r.$$s||this;return _(t["$respond_to?"]("size"))?$(t.$size(),e).$ceil():u},r.$$s=n,r.$$arity=0,r));var o,s=[];return n.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);s.push(r),s.length===e&&(t.yield1(a,s),s=[])},n.$each(),void 0!==o?o:(s.length>0&&t.yield1(a,s),u)},N.$$arity=1),t.def(ht,"$each_with_index",z=function(e){var r,n,i=this,a=z.$$p,$=a||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];if(a&&(z.$$p=null),$===u)return d(i,"enum_for",["each_with_index"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r));var f,_=0;return i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);$(t,_),_++},i.$each.apply(i,n),void 0!==f?f:i},z.$$arity=-1),t.def(ht,"$each_with_object",P=function(t){var e,r=this,n=P.$$p,i=n||u;if(n&&(P.$$p=null),i===u)return d(r,"enum_for",["each_with_object",t],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);i(e,t)},r.$each(),void 0!==a?a:t},P.$$arity=1),t.def(ht,"$entries",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];var $=[];return r.$each.$$p=function(){$.push(c(pt,"Opal").$destructure(arguments))},r.$each.apply(r,e),$},B.$$arity=-1),t.alias(ht,"find","detect"),t.def(ht,"$find_all",q=function(){var e,r=this,n=q.$$p,i=n||u;if(n&&(q.$$p=null),i===u)return d(r,"enum_for",["find_all"],(e=function(){
var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)&&a.push(e)},r.$each(),a},q.$$arity=0),t.def(ht,"$find_index",D=function(e){try{var r,n,i=this,a=D.$$p,$=a||u,o=u;return a&&(D.$$p=null),_(void 0===e&&$===u)?i.$enum_for("find_index"):(null!=e&&$!==u&&i.$warn("warning: given block not used"),o=0,_(null!=e)?d(i,"each",[],(r=function(n){var i,a=(r.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var s=0;s<a;s++)i[s-0]=arguments[s];return c(pt,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)):d(i,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<i;s++)r[s-0]=arguments[s];return _(t.yieldX($,t.to_a(r)))&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)),u)}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=-1),t.def(ht,"$first",L=function(e){try{var r,n,i=this,a=u,$=u;return _(void 0===e)?d(i,"each",[],(r=function(e){r.$$s||this;null==e&&(e=u),t.ret(e)},r.$$s=i,r.$$arity=1,r)):(a=[],e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<0)&&i.$raise(c(pt,"ArgumentError"),"attempt to take negative size"),_(0==e)?[]:($=0,d(i,"each",[],(n=function(r){var i,o=(n.$$s||this,arguments.length),s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return a.push(c(pt,"Opal").$destructure(i)),_(e<=++$)?void t.ret(a):u},n.$$s=i,n.$$arity=-1,n)),a))}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=-1),t.alias(ht,"flat_map","collect_concat"),t.def(ht,"$grep",F=function(r){var n,i=this,a=F.$$p,$=a||u,s=u;return a&&(F.$$p=null),s=[],d(i,"each",[],(n=function(i){var a,l=(n.$$s||this,u),c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<c;h++)a[h-0]=arguments[h];return l=g(a),_(d(r,"__send__",["==="].concat(t.to_a(l))))?($!==u?(_(e(a.$length(),1))&&(a=[a]),a=t.yieldX($,t.to_a(a))):_(o(a.$length(),1))&&(a=a["$[]"](0)),s.$push(a)):u},n.$$s=i,n.$$arity=-1,n)),s},F.$$arity=1),t.def(ht,"$grep_v",j=function(r){var n,i=this,a=j.$$p,$=a||u,s=u;return a&&(j.$$p=null),s=[],d(i,"each",[],(n=function(i){var a,l=(n.$$s||this,u),c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<c;h++)a[h-0]=arguments[h];return l=g(a),_(d(r,"__send__",["==="].concat(t.to_a(l))))?u:($!==u?(_(e(a.$length(),1))&&(a=[a]),a=t.yieldX($,t.to_a(a))):_(o(a.$length(),1))&&(a=a["$[]"](0)),s.$push(a))},n.$$s=i,n.$$arity=-1,n)),s},j.$$arity=1),t.def(ht,"$group_by",U=function(){var e,r,n=this,i=U.$$p,$=i||u,o=u,s=u;if(i&&(U.$$p=null),$===u)return d(n,"enum_for",["group_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));o=p([],{});var l;return n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=t.yield1($,e);(_(r=o["$[]"](n))?r:(s=[n,[]],d(o,"[]=",t.to_a(s)),s[a(s.length,1)]))["$<<"](e)},n.$each(),void 0!==l?l:o},U.$$arity=0),t.def(ht,"$include?",H=function(e){try{var r,n=this;return d(n,"each",[],(r=function(n){var i,a=(r.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];return c(pt,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):u},r.$$s=n,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},H.$$arity=1),t.def(ht,"$inject",G=function(e,r){var n=this,i=G.$$p,a=i||u;i&&(G.$$p=null);var $=e;return a!==u&&void 0===r?n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=e):(e=t.yieldX(a,[$,e]),void($=e))}:(void 0===r&&(c(pt,"Symbol")["$==="](e)||n.$raise(c(pt,"TypeError"),""+e.$inspect()+" is not a Symbol"),r=e,$=void 0),n.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=t):void($=$.$__send__(r,t))}),n.$each(),void 0==$?u:$},G.$$arity=-1),t.def(ht,"$lazy",Y=function(){var e,r=this;return d(l(c(pt,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var i,a=(e.$$s||this,arguments.length),$=a-1;$<0&&($=0),i=new Array($);for(var o=1;o<a;o++)i[o-1]=arguments[o];return null==r&&(r=u),d(r,"yield",t.to_a(i))},e.$$s=r,e.$$arity=-2,e))},Y.$$arity=0),t.def(ht,"$enumerator_size",W=function(){var t=this;return _(t["$respond_to?"]("size"))?t.$size():u},W.$$arity=0),t.alias(ht,"map","collect"),t.def(ht,"$max",K=function(e){var r=this,n=K.$$p,i=n||u;if(n&&(K.$$p=null),void 0===e||e===u){var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=e):($=i!==u?t.yieldX(i,[e,a]):e["$<=>"](a),$===u&&r.$raise(c(pt,"ArgumentError"),"comparison failed"),void($>0&&(a=e)))},r.$each(),void 0===a?u:a}return e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),d(r,"sort",[],i.$to_proc()).$reverse().$first(e)},K.$$arity=-1),t.def(ht,"$max_by",X=function(){var e,r=this,n=X.$$p,i=n||u;if(n&&(X.$$p=null),!_(i))return d(r,"enum_for",["max_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===a?(a=e,void($=r)):void(r["$<=>"]($)>0&&(a=e,$=r))},r.$each(),void 0===a?u:a},X.$$arity=0),t.alias(ht,"member?","include?"),t.def(ht,"$min",V=function(){var t=this,e=V.$$p,r=e||u;e&&(V.$$p=null);var n;return r!==u?t.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(void 0===n)return void(n=e);var i=r(e,n);i===u&&t.$raise(c(pt,"ArgumentError"),"comparison failed"),i<0&&(n=e)}:t.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===n?void(n=t):void(c(pt,"Opal").$compare(t,n)<0&&(n=t))},t.$each(),void 0===n?u:n},V.$$arity=0),t.def(ht,"$min_by",J=function(){var e,r=this,n=J.$$p,i=n||u;if(n&&(J.$$p=null),!_(i))return d(r,"enum_for",["min_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===a?(a=e,void($=r)):void(r["$<=>"]($)<0&&(a=e,$=r))},r.$each(),void 0===a?u:a},J.$$arity=0),t.def(ht,"$minmax",Z=function(){var t,e,r=this,n=Z.$$p,i=n||u;n&&(Z.$$p=null),i=_(t=i)?t:d(r,"proc",[],(e=function(t,r){e.$$s||this;return null==t&&(t=u),null==r&&(r=u),t["$<=>"](r)},e.$$s=r,e.$$arity=2,e));var a=u,$=u,o=!0;return r.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);if(o)a=$=t,o=!1;else{var e=i.$call(a,t);e===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):e>0&&(a=t);var n=i.$call($,t);n===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):n<0&&($=t)}},r.$each(),[a,$]},Z.$$arity=0),t.def(ht,"$minmax_by",Q=function(){var t=this,e=Q.$$p;return e&&(Q.$$p=null),t.$raise(c(pt,"NotImplementedError"))},Q.$$arity=0),t.def(ht,"$none?",tt=function(e){try{var r,n,i,a=this,$=tt.$$p,o=$||u;return $&&(tt.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?void t.ret(!1):u},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!1):u},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,u),a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return n=c(pt,"Opal").$destructure(r),_(n)?void t.ret(!1):u},i.$$s=a,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},tt.$$arity=-1),t.def(ht,"$one?",et=function(r){try{var n,a,$,o=this,s=et.$$p,l=s||u,f=u;return s&&(et.$$p=null),f=0,_(void 0!==r)?d(o,"each",[],(n=function(a){var $,o=(n.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<s;c++)$[c-0]=arguments[c];return o=g($),_(d(r,"public_send",["==="].concat(t.to_a(o))))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},n.$$s=o,n.$$arity=-1,n)):l!==u?d(o,"each",[],(a=function(r){var n,$=(a.$$s||this,arguments.length),o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return _(t.yieldX(l,t.to_a(n)))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},a.$$s=o,a.$$arity=-1,a)):d(o,"each",[],($=function(r){var n,a=($.$$s||this,arguments.length),o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return _(c(pt,"Opal").$destructure(n))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},$.$$s=o,$.$$arity=-1,$)),f["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},et.$$arity=-1),t.def(ht,"$partition",rt=function(){var e,r=this,n=rt.$$p,i=n||u;if(n&&(rt.$$p=null),i===u)return d(r,"enum_for",["partition"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[],$=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)?a.push(e):$.push(e)},r.$each(),[a,$]},rt.$$arity=0),t.alias(ht,"reduce","inject"),t.def(ht,"$reject",nt=function(){var e,r=this,n=nt.$$p,i=n||u;if(n&&(nt.$$p=null),i===u)return d(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);h(r)&&a.push(e)},r.$each(),a},nt.$$arity=0),t.def(ht,"$reverse_each",it=function(){var e,r=this,n=it.$$p,i=n||u;if(n&&(it.$$p=null),i===u)return d(r,"enum_for",["reverse_each"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];r.$each.$$p=function(){a.push(arguments)},r.$each();for(var $=a.length-1;$>=0;$--)t.yieldX(i,a[$]);return a},it.$$arity=0),t.alias(ht,"select","find_all"),t.def(ht,"$slice_before",at=function(e){var r,n=this,i=at.$$p,a=i||u;return i&&(at.$$p=null),_(void 0===e&&a===u)&&n.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&a!==u||arguments.length>1)&&n.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),d(c(pt,"Enumerator"),"new",[],(r=function(n){var i=r.$$s||this;null==n&&(n=u);var $=[];a!==u?void 0===e?i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(a,e);_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(e)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=a(t,e.$dup());_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(t)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=e["$==="](t);_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(t)},i.$each(),$.length>0&&n["$<<"]($)},r.$$s=n,r.$$arity=1,r))},at.$$arity=-1),t.def(ht,"$slice_after",$t=function(e){var r,n,i=this,a=$t.$$p,$=a||u;return a&&($t.$$p=null),_(void 0===e&&$===u)&&i.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&$!==u||arguments.length>1)&&i.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(void 0!==e)&&($=d(i,"proc",[],(r=function(t){r.$$s||this;return null==t&&(t=u),e["$==="](t)},r.$$s=i,r.$$arity=1,r))),d(c(pt,"Enumerator"),"new",[],(n=function(e){var r=n.$$s||this;null==e&&(e=u);var i;r.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments),n=t.yield1($,r);null==i&&(i=[]),_(n)?(i.push(r),e.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&e.$yield(i)},n.$$s=i,n.$$arity=1,n))},$t.$$arity=-1),t.def(ht,"$slice_when",ot=function(){var e,r=this,n=ot.$$p,i=n||u;return n&&(ot.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"wrong number of arguments (0 for 1)"),d(c(pt,"Enumerator"),"new",[],(e=function(r){var n=e.$$s||this;null==r&&(r=u);var a=u,$=u;n.$each_cons.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=e[0],o=e[1],s=t.yieldX(i,[n,o]);$=o,a===u&&(a=[]),_(s)?(a.push(n),r.$yield(a),a=[]):a.push(n)},n.$each_cons(2),a!==u&&(a.push($),r.$yield(a))},e.$$s=r,e.$$arity=1,e))},ot.$$arity=0),t.def(ht,"$sort",st=function(){var t,e=this,r=st.$$p,n=r||u,i=u;return r&&(st.$$p=null),i=e.$to_a(),n!==u||(n=y((t=function(e,r){t.$$s||this;return null==e&&(e=u),null==r&&(r=u),e["$<=>"](r)},t.$$s=e,t.$$arity=2,t))),d(i,"sort",[],n.$to_proc())},st.$$arity=0),t.def(ht,"$sort_by",ut=function(){var e,r,n,i,a=this,$=ut.$$p,o=$||u,s=u;return $&&(ut.$$p=null),o===u?d(a,"enum_for",["sort_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=a,e.$$arity=0,e)):(s=d(a,"map",[],(r=function(){var e=(r.$$s||this,u);return e=c(pt,"Opal").$destructure(arguments),[t.yield1(o,e),e]},r.$$s=a,r.$$arity=0,r)),d(s,"sort!",[],(n=function(t,e){n.$$s||this;return null==t&&(t=u),null==e&&(e=u),t[0]["$<=>"](e[0])},n.$$s=a,n.$$arity=2,n)),d(s,"map!",[],(i=function(t){i.$$s||this;return null==t&&(t=u),t[1]},i.$$s=a,i.$$arity=1,i)))},ut.$$arity=0),t.def(ht,"$sum",lt=function(e){var r,n=this,a=lt.$$p,$=a||u,o=u;return null==e&&(e=0),a&&(lt.$$p=null),o=e,d(n,"each",[],(r=function(e){var n,a=(r.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),n=new Array(l);for(var f=0;f<s;f++)n[f-0]=arguments[f];return a=function(){return $!==u?t.yieldX($,t.to_a(n)):c(pt,"Opal").$destructure(n)}(),o=i(o,a)},r.$$s=n,r.$$arity=-1,r)),o},lt.$$arity=-1),t.def(ht,"$take",ct=function(t){var e=this;return e.$first(t)},ct.$$arity=1),t.def(ht,"$take_while",ft=function(){try{var e,r=this,n=ft.$$p,i=n||u,a=u;return n&&(ft.$$p=null),_(i)?(a=[],d(r,"each",[],(e=function(r){var n,$=(e.$$s||this,u),o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return $=c(pt,"Opal").$destructure(n),_(t.yield1(i,$))||t.ret(a),a.push($)},e.$$s=r,e.$$arity=-1,e))):r.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},ft.$$arity=0),t.def(ht,"$uniq",_t=function(){var e,r=this,n=_t.$$p,i=n||u,$=u;return n&&(_t.$$p=null),$=p([],{}),d(r,"each",[],(e=function(r){var n,o=(e.$$s||this,u),s=u,l=u,f=arguments.length,h=f-0;h<0&&(h=0),n=new Array(h);for(var p=0;p<f;p++)n[p-0]=arguments[p];return o=c(pt,"Opal").$destructure(n),s=function(){return i!==u?t.yield1(i,o):o}(),_($["$key?"](s))?u:(l=[s,o],d($,"[]=",t.to_a(l)),l[a(l.length,1)])},e.$$s=r,e.$$arity=-1,e)),$.$values()},_t.$$arity=0),t.alias(ht,"to_a","entries"),t.def(ht,"$zip",dt=function(e){var r,n=this,i=dt.$$p,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i&&(dt.$$p=null),d(n.$to_a(),"zip",t.to_a(r))},dt.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=t.breaker,s=t.slice,u=t.klass,l=t.truthy,c=t.send,f=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,_){function d(){}var h,p,y,m,g,v,b=d=u(n,i,"Enumerator",d),w=b.$$proto,k=[b].concat(_);return w.size=w.args=w.object=w.method=a,b.$include($(k,"Enumerable")),w.$$is_enumerator=!0,t.defs(b,"$for",h=function(t,e,r){var n,i=this,$=h.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,u=s-2;u<0&&(u=0),n=new Array(u);for(var l=2;l<s;l++)n[l-2]=arguments[l];$&&(h.$$p=null);var c=i.$allocate();return c.object=t,c.size=o,c.method=e,c.args=n,c},h.$$arity=-2),t.def(b,"$initialize",p=function(t){var e=this,r=p.$$p,n=r||a;return r&&(p.$$p=null),l(n)?(e.object=c($(k,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=arguments[0]||a,l(e.size)?e.size=$(k,"Opal").$coerce_to(e.size,$(k,"Integer"),"to_int"):a):(e.object=arguments[0],e.method=arguments[1]||"each",e.args=s.call(arguments,2),e.size=a)},p.$$arity=-1),t.def(b,"$each",y=function(r){var n,i,$=this,o=y.$$p,s=o||a,u=arguments.length,f=u-0;f<0&&(f=0),i=new Array(f);for(var _=0;_<u;_++)i[_-0]=arguments[_];return o&&(y.$$p=null),l(l(n=s["$nil?"]())?i["$empty?"]():n)?$:(i=e($.args,i),l(s["$nil?"]())?c($.$class(),"new",[$.object,$.method].concat(t.to_a(i))):c($.object,"__send__",[$.method].concat(t.to_a(i)),s.$to_proc()))},y.$$arity=-1),t.def(b,"$size",m=function(){var e=this;return l($(k,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},m.$$arity=0),t.def(b,"$with_index",g=function(t){var e,r=this,n=g.$$p,i=n||a;if(null==t&&(t=0),n&&(g.$$p=null),t=function(){return l(t)?$(k,"Opal").$coerce_to(t,$(k,"Integer"),"to_int"):0}(),!l(i))return c(r,"enum_for",["with_index",t],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var o=t;return r.$each.$$p=function(){var t=$(k,"Opal").$destructure(arguments),e=i(t,o);return o++,e},r.$each()},g.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.def(b,"$inspect",v=function(){var t=this,r=a;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,l(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"]($(k,"Range").$new(1,-2))+")")),e(r,">")},v.$$arity=0),function(e,r,n){function i(){}var s,f,_=i=u(e,r,"Generator",i),d=_.$$proto,h=[_].concat(n);return d.block=a,_.$include($(h,"Enumerable")),t.def(_,"$initialize",s=function(){var t=this,e=s.$$p,r=e||a;return e&&(s.$$p=null),l(r)||t.$raise($(h,"LocalJumpError"),"no block given"),t.block=r},s.$$arity=0),t.def(_,"$each",f=function(e){var r,n=this,i=f.$$p,s=i||a,u=a,l=arguments.length,_=l-0;_<0&&(_=0),r=new Array(_);for(var d=0;d<l;d++)r[d-0]=arguments[d];i&&(f.$$p=null),u=c($(h,"Yielder"),"new",[],s.$to_proc());try{r.unshift(u),t.yieldX(n.block,r)}catch(t){if(t===o)return o.$v;throw t}return n},f.$$arity=-1),a&&"each"}(k[0],null,k),function(e,r,n){function i(){}var $,s,l,f=i=u(e,r,"Yielder",i),_=f.$$proto;[f].concat(n);return _.block=a,t.def(f,"$initialize",$=function(){var t=this,e=$.$$p,r=e||a;return e&&($.$$p=null),t.block=r},$.$$arity=0),t.def(f,"$yield",s=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];var s=t.yieldX(n.block,r);if(s===o)throw o;return s},s.$$arity=-1),t.def(f,"$<<",l=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return c(n,"yield",t.to_a(r)),n},l.$$arity=-1),a&&"<<"}(k[0],null,k),function(n,i,o){function s(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A=s=u(n,i,"Lazy",s),O=A.$$proto,S=[A].concat(o);return O.enumerator=a,function(t,e,r){function n(){}var i=n=u(t,e,"StopLazyError",n);i.$$proto,[i].concat(r);return a}(S[0],$(S,"Exception"),S),t.def(A,"$initialize",_=function(e,r){var n,i=this,o=_.$$p,s=o||a;return null==r&&(r=a),o&&(_.$$p=null),s!==a||i.$raise($(S,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",_,!1),[r],(n=function(r,i){var o,u,l=n.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<f;d++)o[d-1]=arguments[d];null==r&&(r=a);try{return c(e,"each",t.to_a(o),(u=function(e){var n,i=(u.$$s||this,arguments.length),a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];n.unshift(r),t.yieldX(s,n)},u.$$s=l,u.$$arity=-1,u))}catch(e){if(!t.rescue(e,[$(S,"Exception")]))throw e;try{return a}finally{t.pop_exception()}}},n.$$s=i,n.$$arity=-2,n))},_.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",d=function(){var t=this;return t},d.$$arity=0),t.def(A,"$collect",h=function(){var e,r=this,n=h.$$p,i=n||a;return n&&(h.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),c($(S,"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var l=t.yieldX(i,$);r.$yield(l)},e.$$s=r,e.$$arity=-2,e))},h.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,r=this,n=p.$$p,i=n||a;return n&&(p.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var o,s,u,l=e.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<f;d++)o[d-1]=arguments[d];null==r&&(r=a);var h=t.yieldX(i,o);if(h["$respond_to?"]("force")&&h["$respond_to?"]("each"))c(h,"each",[],(s=function(t){s.$$s||this;return null==t&&(t=a),r.$yield(t)},s.$$s=l,s.$$arity=1,s));else{var p=$(S,"Opal").$try_convert(h,$(S,"Array"),"to_ary");p===a?r.$yield(h):c(h,"each",[],(u=function(t){u.$$s||this;return null==t&&(t=a),r.$yield(t)},u.$$s=l,u.$$arity=1,u))}},e.$$s=r,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",y=function(n){var i,o=this,s=a,u=a,f=a;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise($(S,"ArgumentError"),"attempt to drop negative size"),s=o.$enumerator_size(),u=function(){return l($(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),f=0,c($(S,"Lazy"),"new",[o,u],(i=function($,o){var s,u=(i.$$s||this,arguments.length),_=u-1;_<0&&(_=0),s=new Array(_);for(var d=1;d<u;d++)s[d-1]=arguments[d];return null==$&&($=a),l(r(f,n))?f=e(f,1):c($,"yield",t.to_a(s))},i.$$s=o,i.$$arity=-2,i))},y.$$arity=1),t.def(A,"$drop_while",m=function(){var e,r=this,n=m.$$p,i=n||a,o=a;return n&&(m.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy drop_while without a block"),o=!0,c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,s=(e.$$s||this,arguments.length),u=s-1;u<0&&(u=0),$=new Array(u);for(var _=1;_<s;_++)$[_-1]=arguments[_];if(null==r&&(r=a),!l(o))return c(r,"yield",t.to_a($));var d=t.yieldX(i,$);f(d)&&(o=!1,c(r,"yield",t.to_a($)))},e.$$s=r,e.$$arity=-2,e))},m.$$arity=0),t.def(A,"$enum_for",g=function(e,r){var n,i=this,$=g.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,u=s-1;u<0&&(u=0),n=new Array(u);for(var l=1;l<s;l++)n[l-1]=arguments[l];return $&&(g.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(n)),o.$to_proc())},g.$$arity=-1),t.def(A,"$find_all",v=function(){var e,r=this,n=v.$$p,i=n||a;return n&&(v.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy select without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var f=t.yieldX(i,$);l(f)&&c(r,"yield",t.to_a($))},e.$$s=r,e.$$arity=-2,e))},v.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",b=function(e){var r,n,i=this,o=b.$$p,s=o||a;return o&&(b.$$p=null),l(s)?c($(S,"Lazy"),"new",[i,a],(r=function(n,i){var o,u=(r.$$s||this,arguments.length),c=u-1;c<0&&(c=0),o=new Array(c);for(var f=1;f<u;f++)o[f-1]=arguments[f];null==n&&(n=a);var _=$(S,"Opal").$destructure(o),d=e["$==="](_);l(d)&&(d=t.yield1(s,_),n.$yield(t.yield1(s,_)))},r.$$s=i,r.$$arity=-2,r)):c($(S,"Lazy"),"new",[i,a],(n=function(t,r){var i,o=(n.$$s||this,arguments.length),s=o-1;s<0&&(s=0),i=new Array(s);for(var u=1;u<o;u++)i[u-1]=arguments[u];null==t&&(t=a);var c=$(S,"Opal").$destructure(i),f=e["$==="](c);l(f)&&t.$yield(c)},n.$$s=i,n.$$arity=-2,n))},b.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",w=function(){var e,r=this,n=w.$$p,i=n||a;return n&&(w.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy reject without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var l=t.yieldX(i,$);f(l)&&c(r,"yield",t.to_a($))},e.$$s=r,e.$$arity=-2,e))},w.$$arity=0),t.def(A,"$take",k=function(n){var i,o=this,s=a,u=a,f=a;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise($(S,"ArgumentError"),"attempt to take negative size"),s=o.$enumerator_size(),u=function(){return l($(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),f=0,c($(S,"Lazy"),"new",[o,u],(i=function(o,s){var u,_=i.$$s||this,d=arguments.length,h=d-1;h<0&&(h=0),u=new Array(h);for(var p=1;p<d;p++)u[p-1]=arguments[p];return null==o&&(o=a),l(r(f,n))?(c(o,"yield",t.to_a(u)),f=e(f,1)):_.$raise($(S,"StopLazyError"))},i.$$s=o,i.$$arity=-2,i))},k.$$arity=1),t.def(A,"$take_while",E=function(){var e,r=this,n=E.$$p,i=n||a;return n&&(E.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy take_while without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var o,s=e.$$s||this,u=arguments.length,f=u-1;f<0&&(f=0),o=new Array(f);for(var _=1;_<u;_++)o[_-1]=arguments[_];null==r&&(r=a);var d=t.yieldX(i,o);l(d)?c(r,"yield",t.to_a(o)):s.$raise($(S,"StopLazyError"))},e.$$s=r,e.$$arity=-2,e))},E.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),a&&"inspect"}(k[0],b,k)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,o,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q=h=c($,o,"Numeric",h),tt=(Q.$$proto,[Q].concat(d));return Q.$include(l(tt,"Comparable")),t.def(Q,"$coerce",p=function(t){var e=this;return f(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},p.$$arity=1),t.def(Q,"$__coerced__",y=function(e,r){var n,i,a=this,$=s,o=s,u=s;return f(r["$respond_to?"]("coerce"))?(i=r.$coerce(a),n=t.to_ary(i),$=null==n[0]?s:n[0],o=null==n[1]?s:n[1],i,$.$__send__(e,o)):function(){return u=e,"+"["$==="](u)||"-"["$==="](u)||"*"["$==="](u)||"/"["$==="](u)||"%"["$==="](u)||"&"["$==="](u)||"|"["$==="](u)||"^"["$==="](u)||"**"["$==="](u)?a.$raise(l(tt,"TypeError"),""+r.$class()+" can't be coerced into Numeric"):">"["$==="](u)||">="["$==="](u)||"<"["$==="](u)||"<="["$==="](u)||"<=>"["$==="](u)?a.$raise(l(tt,"ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed"):s}()},y.$$arity=2),t.def(Q,"$<=>",m=function(t){var e=this;return f(e["$equal?"](t))?0:s},m.$$arity=1),t.def(Q,"$+@",g=function(){var t=this;return t},g.$$arity=0),t.def(Q,"$-@",v=function(){var t=this;return e(0,t)},v.$$arity=0),t.def(Q,"$%",b=function(t){var n=this;return e(n,r(t,n.$div(t)))},b.$$arity=1),t.def(Q,"$abs",w=function(){var t=this;return n(t,0)?t["$-@"]():t},w.$$arity=0),t.def(Q,"$abs2",k=function(){var t=this;return r(t,t)},k.$$arity=0),t.def(Q,"$angle",E=function(){var t=this;return n(t,0)?u(l(tt,"Math"),"PI"):0},E.$$arity=0),t.alias(Q,"arg","angle"),t.def(Q,"$ceil",x=function(t){var e=this;return null==t&&(t=0),e.$to_f().$ceil(t)},x.$$arity=-1),t.def(Q,"$conj",A=function(){var t=this;return t},A.$$arity=0),t.alias(Q,"conjugate","conj"),t.def(Q,"$denominator",O=function(){var t=this;return t.$to_r().$denominator()},O.$$arity=0),t.def(Q,"$div",S=function(t){var e=this;return t["$=="](0)&&e.$raise(l(tt,"ZeroDivisionError"),"divided by o"),i(e,t).$floor()},S.$$arity=1),t.def(Q,"$divmod",M=function(t){var e=this;return[e.$div(t),e["$%"](t)]},M.$$arity=1),t.def(Q,"$fdiv",T=function(t){var e=this;return i(e.$to_f(),t)},T.$$arity=1),t.def(Q,"$floor",R=function(t){var e=this;return null==t&&(t=0),e.$to_f().$floor(t)},R.$$arity=-1),t.def(Q,"$i",I=function(){var t=this;return t.$Complex(0,t)},I.$$arity=0),t.def(Q,"$imag",C=function(){return 0},C.$$arity=0),t.alias(Q,"imaginary","imag"),t.def(Q,"$integer?",N=function(){return!1},N.$$arity=0),t.alias(Q,"magnitude","abs"),t.alias(Q,"modulo","%"),t.def(Q,"$nonzero?",z=function(){var t=this;return f(t["$zero?"]())?s:t},z.$$arity=0),t.def(Q,"$numerator",P=function(){var t=this;return t.$to_r().$numerator()},P.$$arity=0),t.alias(Q,"phase","arg"),t.def(Q,"$polar",B=function(){var t=this;return[t.$abs(),t.$arg()]},B.$$arity=0),t.def(Q,"$quo",q=function(t){var e=this;return i(l(tt,"Opal")["$coerce_to!"](e,l(tt,"Rational"),"to_r"),t)},q.$$arity=1),t.def(Q,"$real",D=function(){var t=this;return t},D.$$arity=0),t.def(Q,"$real?",L=function(){return!0},L.$$arity=0),t.def(Q,"$rect",F=function(){var t=this;return[t,0]},F.$$arity=0),t.alias(Q,"rectangular","rect"),t.def(Q,"$round",j=function(t){var e=this;return e.$to_f().$round(t)},j.$$arity=-1),t.def(Q,"$to_c",U=function(){var t=this;return t.$Complex(t,0)},U.$$arity=0),t.def(Q,"$to_int",H=function(){var t=this;return t.$to_i()},H.$$arity=0),t.def(Q,"$truncate",G=function(t){var e=this;return null==t&&(t=0),e.$to_f().$truncate(t)},G.$$arity=-1),t.def(Q,"$zero?",Y=function(){var t=this;return t["$=="](0)},Y.$$arity=0),t.def(Q,"$positive?",W=function(){var t=this;return a(t,0)},W.$$arity=0),t.def(Q,"$negative?",K=function(){var t=this;return n(t,0)},K.$$arity=0),t.def(Q,"$dup",X=function(){var t=this;return t},X.$$arity=0),t.def(Q,"$clone",V=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=_([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},V.$$arity=-1),t.def(Q,"$finite?",J=function(){return!0},J.$$arity=0),t.def(Q,"$infinite?",Z=function(){return s},Z.$$arity=0),s&&"infinite?"}(o[0],null,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2,d=t.send,h=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,o,p){function y(){}function m(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function g(e,r){var n,i,a,$,o=e.length;return n=r.excl,i=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),a=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),i<0&&(i+=o,i<0)?s:i>o?s:a<0&&(a+=o,a<0)?[]:(n||(a+=1),$=e.slice(i,a),m($,e.$class()))}function v(e,r,n){var i,a=e.length;return r=t.Opal.$coerce_to(r,t.Integer,"to_int"),r<0&&(r+=a,r<0)?s:void 0===n?r>=a||r<0?s:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"),n<0||r>a||r<0?s:(i=e.slice(r,r+n),m(i,e.$class())))}function b(t,e){return t===e||0===e?1:e>0&&t>e?b(t-1,e-1)+b(t-1,e):0}function w(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}var k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt,Dt,Lt,Ft,jt,Ut,Ht,Gt,Yt,Wt,Kt,Xt,Vt,Jt,Zt,Qt,te,ee,re,ne,ie,ae,$e,oe,se=y=c($,o,"Array",y),ue=se.$$proto,le=[se].concat(p);return se.$include(l(le,"Enumerable")),ue.$$is_array=!0,t.defs(se,"$[]",k=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];
return m(e,r)},k.$$arity=-1),t.def(se,"$initialize",E=function(t,e){var r=this,n=E.$$p,i=n||s;if(null==t&&(t=s),null==e&&(e=s),n&&(E.$$p=null),e!==s&&i!==s&&r.$warn("warning: block supersedes default value argument"),t>u(l(le,"Integer"),"MAX")&&r.$raise(l(le,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&r.$raise(l(le,"ArgumentError"),"negative array size"),r.splice(0,r.length);var a,$;if(i===s)for(a=0;a<t;a++)r.push(e);else for(a=0,$;a<t;a++)$=i(a),r[a]=$;return r},E.$$arity=-1),t.defs(se,"$try_convert",x=function(t){return l(le,"Opal")["$coerce_to?"](t,l(le,"Array"),"to_ary")},x.$$arity=1),t.def(se,"$&",A=function(e){var r=this;e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,a,$=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)a=r[n],void 0!==t.hash_delete(o,a)&&$.push(a);return $},A.$$arity=1),t.def(se,"$|",O=function(e){var r=this;e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,a=_([],{});for(n=0,i=r.length;n<i;n++)t.hash_put(a,r[n],!0);for(n=0,i=e.length;n<i;n++)t.hash_put(a,e[n],!0);return a.$keys()},O.$$arity=1),t.def(se,"$*",S=function(t){var e=this;if(f(t["$respond_to?"]("to_str")))return e.$join(t.$to_str());t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative argument");for(var r=[],n=e.$to_a(),i=0;i<t;i++)r=r.concat(n);return m(r,e.$class())},S.$$arity=1),t.def(se,"$+",M=function(t){var e=this;return t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.concat(t)},M.$$arity=1),t.def(se,"$-",T=function(e){var r=this;if(e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}(),f(0===r.length))return[];if(f(0===e.length))return r.slice();var n,i,a,$=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)a=r[n],void 0===t.hash_get(o,a)&&$.push(a);return $},T.$$arity=1),t.def(se,"$<<",R=function(t){var e=this;return e.push(t),e},R.$$arity=1),t.def(se,"$<=>",I=function(t){var e=this;if(f(l(le,"Array")["$==="](t)))t=t.$to_a();else{if(!f(t["$respond_to?"]("to_ary")))return s;t=t.$to_ary().$to_a()}if(e.$hash()===t.$hash())return 0;for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]["$<=>"](t[n]);if(0!==i)return i}return e.length["$<=>"](t.length)},I.$$arity=1),t.def(se,"$==",C=function(t){function e(t,r){var i,a,$,o;if(t===r)return!0;if(!r.$$is_array)return!!l(le,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),r.constructor!==Array&&(r=r.$to_a()),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=r[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!n.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$=="](o))return!1;return!0}var r=this,n={};return e(r,t)},C.$$arity=1),t.def(se,"$[]",N=function(t,e){var r=this;return t.$$is_range?g(r,t):v(r,t,e)},N.$$arity=-2),t.def(se,"$[]=",z=function(t,e,r){var n,i=this,a=s,$=s,o=i.length;if(f(l(le,"Range")["$==="](t))){a=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}();var u=t.excl,c=l(le,"Opal").$coerce_to(t.begin,l(le,"Integer"),"to_int"),_=l(le,"Opal").$coerce_to(t.end,l(le,"Integer"),"to_int");if(c<0&&(c+=o,c<0&&i.$raise(l(le,"RangeError"),""+t.$inspect()+" out of range")),_<0&&(_+=o),u||(_+=1),c>o)for(n=o;n<c;n++)i[n]=s;return _<0?i.splice.apply(i,[c,0].concat(a)):i.splice.apply(i,[c,_-c].concat(a)),e}f(void 0===r)?$=1:($=e,e=r,a=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}());var d;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to($,l(le,"Integer"),"to_int"),t<0&&(d=t,t+=o,t<0&&i.$raise(l(le,"IndexError"),"index "+d+" too small for array; minimum "+-i.length)),$<0&&i.$raise(l(le,"IndexError"),"negative length ("+$+")"),t>o)for(n=o;n<t;n++)i[n]=s;return void 0===r?i[t]=e:i.splice.apply(i,[t,$].concat(a)),e},z.$$arity=-3),t.def(se,"$any?",P=function(e){var r=this,n=P.$$p,i=s,a=s,$=s;for(n&&(P.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return 0!==r.length&&d(r,t.find_super_dispatcher(r,"any?",P,!1),i,n)},P.$$arity=-1),t.def(se,"$assoc",B=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&e[0]["$=="](t))return e;return s},B.$$arity=1),t.def(se,"$at",q=function(t){var e=this;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length?s:e[t]},q.$$arity=1),t.def(se,"$bsearch_index",D=function(){var e=this,r=D.$$p,n=r||s;if(r&&(D.$$p=null),n===s)return e.$enum_for("bsearch_index");for(var i,a,$,o=0,u=e.length,c=!1,f=s;o<u;){if(i=o+Math.floor((u-o)/2),a=e[i],$=t.yield1(n,a),$===!0)f=i,c=!0;else if($===!1||$===s)c=!1;else if($.$$is_number){if(0===$)return i;c=$<0}else e.$raise(l(le,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");c?u=i:o=i+1}return f},D.$$arity=0),t.def(se,"$bsearch",L=function(){var t=this,e=L.$$p,r=e||s,n=s;return e&&(L.$$p=null),r===s?t.$enum_for("bsearch"):(n=d(t,"bsearch_index",[],r.$to_proc()),null!=n&&n.$$is_number?t[n]:n)},L.$$arity=0),t.def(se,"$cycle",F=function(n){var i,a,$=this,o=F.$$p,c=o||s;if(null==n&&(n=s),o&&(F.$$p=null),c===s)return d($,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return f(n["$nil?"]())?u(l(le,"Float"),"INFINITY"):(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),f(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=$,i.$$arity=0,i));if(f(f(a=$["$empty?"]())?a:n["$=="](0)))return s;var _,h,p;if(n===s)for(;;)for(_=0,h=$.length;_<h;_++)p=t.yield1(c,$[_]);else{if(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),n<=0)return $;for(;n>0;){for(_=0,h=$.length;_<h;_++)p=t.yield1(c,$[_]);n--}}return $},F.$$arity=-1),t.def(se,"$clear",j=function(){var t=this;return t.splice(0,t.length),t},j.$$arity=0),t.def(se,"$count",U=function(e){var r,n=this,i=U.$$p,a=i||s,$=s,o=s,u=s;for(null==e&&(e=s),i&&(U.$$p=null),o=0,u=arguments.length,$=new Array(u);o<u;o++)$[o]=arguments[o];return f(f(r=e)?r:a)?d(n,t.find_super_dispatcher(n,"count",U,!1),$,i):n.$size()},U.$$arity=-1),t.def(se,"$initialize_copy",H=function(t){var e=this;return e.$replace(t)},H.$$arity=1),t.def(se,"$collect",G=function(){var e,r=this,n=G.$$p,i=n||s;if(n&&(G.$$p=null),i===s)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=[],$=0,o=r.length;$<o;$++){var u=t.yield1(i,r[$]);a.push(u)}return a},G.$$arity=0),t.def(se,"$collect!",Y=function(){var e,r=this,n=Y.$$p,i=n||s;if(n&&(Y.$$p=null),i===s)return d(r,"enum_for",["collect!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){var o=t.yield1(i,r[a]);r[a]=o}return r},Y.$$arity=0),t.def(se,"$combination",W=function(e){var r,n=this,i=W.$$p,a=i||s,$=s;if(i&&(W.$$p=null),$=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),a===s)return d(n,"enum_for",["combination",$],(r=function(){var t=r.$$s||this;return b(t.length,$)},r.$$s=n,r.$$arity=0,r));var o,u,c,f,_,h,p;if(0===$)t.yield1(a,[]);else if(1===$)for(o=0,u=n.length;o<u;o++)t.yield1(a,[n[o]]);else if($===n.length)t.yield1(a,n.slice());else if($>=0&&$<n.length){for(c=[],o=0;o<=$+1;o++)c.push(0);for(f=[],_=0,h=!1,c[0]=-1;!h;){for(f[_]=n[c[_+1]];_<$-1;)_++,p=c[_+1]=c[_]+1,f[_]=n[p];t.yield1(a,f.slice()),_++;do h=0===_,c[_]++,_--;while(c[_+1]+$===n.length+_+1)}}return n},W.$$arity=1),t.def(se,"$repeated_combination",K=function(e){function r(e,n,i,a){if(i.length==e){var o=i.slice();return void t.yield1($,o)}for(var s=n;s<a.length;s++)i.push(a[s]),r(e,s,i,a),i.pop()}var n,i=this,a=K.$$p,$=a||s,o=s;return a&&(K.$$p=null),o=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),$===s?d(i,"enum_for",["repeated_combination",o],(n=function(){var t=n.$$s||this;return b(t.length+o-1,o)},n.$$s=i,n.$$arity=0,n)):(o>=0&&r(o,0,[],i),i)},K.$$arity=1),t.def(se,"$compact",X=function(){for(var t,e=this,r=[],n=0,i=e.length;n<i;n++)(t=e[n])!==s&&r.push(t);return r},X.$$arity=0),t.def(se,"$compact!",V=function(){for(var t=this,e=t.length,r=0,n=t.length;r<n;r++)t[r]===s&&(t.splice(r,1),n--,r--);return t.length===e?s:t},V.$$arity=0),t.def(se,"$concat",J=function(t){var e,r,n,i=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return n=d(n,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),f(t["$equal?"](r))&&(t=t.$dup()),t},e.$$s=i,e.$$arity=1,e)),d(n,"each",[],(r=function(t){var e=r.$$s||this;null==t&&(t=s);for(var n=0,i=t.length;n<i;n++)e.push(t[n])},r.$$s=i,r.$$arity=1,r)),i},J.$$arity=-1),t.def(se,"$delete",Z=function(e){var r=this,n=Z.$$p,i=n||s;n&&(Z.$$p=null);for(var a=r.length,$=0,o=a;$<o;$++)r[$]["$=="](e)&&(r.splice($,1),o--,$--);return r.length===a?i!==s?t.yieldX(i,[]):s:e},Z.$$arity=1),t.def(se,"$delete_at",Q=function(t){var e=this;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length)return s;var r=e[t];return e.splice(t,1),r},Q.$$arity=1),t.def(se,"$delete_if",tt=function(){var t,e=this,r=tt.$$p,n=r||s;if(r&&(tt.$$p=null),n===s)return d(e,"enum_for",["delete_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=n(e[a]),i!==!1&&i!==s&&(e.splice(a,1),$--,a--);return e},tt.$$arity=0),t.def(se,"$dig",et=function(e,r){var n,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var u=1;u<$;u++)n[u-1]=arguments[u];return a=i["$[]"](e),a===s||0===n.length?a:(f(a["$respond_to?"]("dig"))||i.$raise(l(le,"TypeError"),""+a.$class()+" does not have #dig method"),d(a,"dig",t.to_a(n)))},et.$$arity=-2),t.def(se,"$drop",rt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(t)},rt.$$arity=1),t.def(se,"$dup",nt=function(){var e=this,r=nt.$$p,n=s,i=s,a=s;for(r&&(nt.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return e.$$class===t.Array&&e.$$class.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):d(e,t.find_super_dispatcher(e,"dup",nt,!1),n,r)},nt.$$arity=0),t.def(se,"$each",it=function(){var e,r=this,n=it.$$p,i=n||s;if(n&&(it.$$p=null),i===s)return d(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){t.yield1(i,r[a])}return r},it.$$arity=0),t.def(se,"$each_index",at=function(){var e,r=this,n=at.$$p,i=n||s;if(n&&(at.$$p=null),i===s)return d(r,"enum_for",["each_index"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){t.yield1(i,a)}return r},at.$$arity=0),t.def(se,"$empty?",$t=function(){var t=this;return 0===t.length},$t.$$arity=0),t.def(se,"$eql?",ot=function(t){function e(t,r){var i,a,$,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=r[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!n.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$eql?"](o))return!1;return!0}var r=this,n={};return e(r,t)},ot.$$arity=1),t.def(se,"$fetch",st=function(t,e){var r=this,n=st.$$p,i=n||s;n&&(st.$$p=null);var a=t;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=r.length),t>=0&&t<r.length?r[t]:(i!==s&&null!=e&&r.$warn("warning: block supersedes default value argument"),i!==s?i(a):null!=e?e:void(0===r.length?r.$raise(l(le,"IndexError"),"index "+a+" outside of array bounds: 0...0"):r.$raise(l(le,"IndexError"),"index "+a+" outside of array bounds: -"+r.length+"..."+r.length)))},st.$$arity=-2),t.def(se,"$fill",ut=function(e){var r,n,i,a=this,$=ut.$$p,o=$||s,u=s,c=s,_=s,d=s,h=s,p=arguments.length,y=p-0;y<0&&(y=0),i=new Array(y);for(var m=0;m<p;m++)i[m-0]=arguments[m];$&&(ut.$$p=null);var g,v,b;if(f(o)?(f(i.length>2)&&a.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),n=i,r=t.to_ary(n),u=null==r[0]?s:r[0],c=null==r[1]?s:r[1],n):(f(0==i.length)?a.$raise(l(le,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):f(i.length>3)&&a.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),n=i,r=t.to_ary(n),_=null==r[0]?s:r[0],u=null==r[1]?s:r[1],c=null==r[2]?s:r[2],n),f(l(le,"Range")["$==="](u))){if(f(c)&&a.$raise(l(le,"TypeError"),"length invalid with range"),d=l(le,"Opal").$coerce_to(u.$begin(),l(le,"Integer"),"to_int"),f(d<0)&&(d+=this.length),f(d<0)&&a.$raise(l(le,"RangeError"),""+u.$inspect()+" out of range"),h=l(le,"Opal").$coerce_to(u.$end(),l(le,"Integer"),"to_int"),f(h<0)&&(h+=this.length),f(u["$exclude_end?"]())||(h+=1),f(h<=d))return a}else if(f(u))if(d=l(le,"Opal").$coerce_to(u,l(le,"Integer"),"to_int"),f(d<0)&&(d+=this.length),f(d<0)&&(d=0),f(c)){if(h=l(le,"Opal").$coerce_to(c,l(le,"Integer"),"to_int"),f(0==h))return a;h+=d}else h=this.length;else d=0,h=this.length;if(f(d>this.length))for(g=this.length;g<h;g++)a[g]=s;if(f(h>this.length)&&(this.length=h),f(o))for(v=this.length;d<h;d++)b=o(d),a[d]=b;else for(v=this.length;d<h;d++)a[d]=_;return a},ut.$$arity=-1),t.def(se,"$first",lt=function(t){var e=this;return null==t?0===e.length?s:e[0]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),e.slice(0,t))},lt.$$arity=-1),t.def(se,"$flatten",ct=function(t){function e(t,n){var i,a,$,o,u=[];for(t=t.$to_a(),i=0,a=t.length;i<a;i++)if($=t[i],l(le,"Opal")["$respond_to?"]($,"to_ary",!0))if(o=$.$to_ary(),o!==s)switch(o.$$is_array||r.$raise(l(le,"TypeError")),o===r&&r.$raise(l(le,"ArgumentError")),n){case void 0:u=u.concat(e(o));break;case 0:u.push(o);break;default:u.push.apply(u,e(o,n-1))}else u.push($);else u.push($);return u}var r=this;return void 0!==t&&(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")),m(e(r,t),r.$class())},ct.$$arity=-1),t.def(se,"$flatten!",ft=function(t){var e=this,r=e.$flatten(t);if(e.length==r.length){for(var n=0,i=e.length;n<i&&e[n]===r[n];n++);if(n==i)return s}return e.$replace(r),e},ft.$$arity=-1),t.def(se,"$hash",_t=function(){var e,r,n,i=this,a=void 0===t.hash_ids,$=["A"],o=i.$object_id();try{if(a&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,r=0;r<i.length;r++)e=i[r],$.push(e.$hash());return $.join(",")}finally{a&&(t.hash_ids=void 0)}},_t.$$arity=0),t.def(se,"$include?",dt=function(t){for(var e=this,r=0,n=e.length;r<n;r++)if(e[r]["$=="](t))return!0;return!1},dt.$$arity=1),t.def(se,"$index",ht=function(t){var e=this,r=ht.$$p,n=r||s;r&&(ht.$$p=null);var i,a,$;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=0,a=e.length;i<a;i++)if(e[i]["$=="](t))return i}else{if(n===s)return e.$enum_for("index");for(i=0,a=e.length;i<a;i++)if($=n(e[i]),$!==!1&&$!==s)return i}return s},ht.$$arity=-1),t.def(se,"$insert",pt=function(t,e){var r,n=this,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var $=1;$<i;$++)r[$-1]=arguments[$];if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=n.length+1,t<0&&n.$raise(l(le,"IndexError"),""+t+" is out of bounds")),t>n.length)for(var o=n.length;o<t;o++)n.push(s);n.splice.apply(n,[t,0].concat(r))}return n},pt.$$arity=-2),t.def(se,"$inspect",yt=function(){for(var t=this,e=[],r=t.$__id__(),n=0,i=t.length;n<i;n++){var a=t["$[]"](n);a.$__id__()===r?e.push("[...]"):e.push(a.$inspect())}return"["+e.join(", ")+"]"},yt.$$arity=0),t.def(se,"$join",mt=function(e){var r=this;if(null==h[","]&&(h[","]=s),null==e&&(e=s),f(0===r.length))return"";f(e===s)&&(e=h[","]);var n,i,a,$,o=[];for(n=0,i=r.length;n<i;n++)a=r[n],l(le,"Opal")["$respond_to?"](a,"to_str")&&($=a.$to_str(),$!==s)?o.push($.$to_s()):l(le,"Opal")["$respond_to?"](a,"to_ary")&&($=a.$to_ary(),$===r&&r.$raise(l(le,"ArgumentError")),$!==s)?o.push($.$join(e)):l(le,"Opal")["$respond_to?"](a,"to_s")&&($=a.$to_s(),$!==s)?o.push($):r.$raise(l(le,"NoMethodError").$new(""+t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(l(le,"Opal")["$coerce_to!"](e,l(le,"String"),"to_str").$to_s())},mt.$$arity=-1),t.def(se,"$keep_if",gt=function(){var t,e=this,r=gt.$$p,n=r||s;if(r&&(gt.$$p=null),n===s)return d(e,"enum_for",["keep_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=n(e[a]),i!==!1&&i!==s||(e.splice(a,1),$--,a--);return e},gt.$$arity=0),t.def(se,"$last",vt=function(t){var e=this;return null==t?0===e.length?s:e[e.length-1]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),t>e.length&&(t=e.length),e.slice(e.length-t,e.length))},vt.$$arity=-1),t.def(se,"$length",bt=function(){var t=this;return t.length},bt.$$arity=0),t.alias(se,"map","collect"),t.alias(se,"map!","collect!"),t.def(se,"$max",wt=function(t){var e=this,r=wt.$$p,n=r||s;return r&&(wt.$$p=null),d(e.$each(),"max",[t],n.$to_proc())},wt.$$arity=-1),t.def(se,"$min",kt=function(){var t=this,e=kt.$$p,r=e||s;return e&&(kt.$$p=null),d(t.$each(),"min",[],r.$to_proc())},kt.$$arity=0),t.def(se,"$permutation",Et=function(e){var r,n=this,i=Et.$$p,a=i||s,$=s,o=s;if(i&&(Et.$$p=null),a===s)return d(n,"enum_for",["permutation",e],(r=function(){var t=r.$$s||this;return w(t.length,void 0===e?t.length:e)},r.$$s=n,r.$$arity=0,r));var u,c,f;if(e=void 0===e?n.length:l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0||n.length<e);else if(0===e)t.yield1(a,[]);else if(1===e)for(var _=0;_<n.length;_++)t.yield1(a,[n[_]]);else $=l(le,"Array").$new(e),o=l(le,"Array").$new(n.length,!1),u=function(e,r,i,a,$){n=this;for(var o=0;o<n.length;o++)if(a["$[]"](o)["$!"]())if(r[i]=o,i<e-1)a[o]=!0,u.call(n,e,r,i+1,a,$),a[o]=!1;else{f=[];for(var s=0;s<r.length;s++)f.push(n[r[s]]);t.yield1($,f)}},a!==s?(c=n.slice(),u.call(c,e,$,0,o,a)):u.call(n,e,$,0,o,a);return n},Et.$$arity=-1),t.def(se,"$repeated_permutation",xt=function(e){function r(e,n,i){if(n.length==e){var a=n.slice();return void t.yield1(o,a)}for(var $=0;$<i.length;$++)n.push(i[$]),r(e,n,i),n.pop()}var i,a=this,$=xt.$$p,o=$||s,u=s;return $&&(xt.$$p=null),u=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),o===s?d(a,"enum_for",["repeated_permutation",u],(i=function(){var t=i.$$s||this;return f(n(u,0))?t.$size()["$**"](u):0},i.$$s=a,i.$$arity=0,i)):(r(u,[],a.slice()),a)},xt.$$arity=1),t.def(se,"$pop",At=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.pop():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),f(0===e.length)?[]:f(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},At.$$arity=-1),t.def(se,"$product",Ot=function(e){var r,n=this,i=Ot.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<$;u++)r[u-0]=arguments[u];i&&(Ot.$$p=null);var c,f,_,d,h=a!==s?null:[],p=r.length+1,y=new Array(p),m=new Array(p),g=new Array(p),v=1;for(g[0]=n,c=1;c<p;c++)g[c]=l(le,"Opal").$coerce_to(r[c-1],l(le,"Array"),"to_ary");for(c=0;c<p;c++){if(d=g[c].length,0===d)return h||n;v*=d,v>2147483647&&n.$raise(l(le,"RangeError"),"too big to product"),m[c]=d,y[c]=0}t:for(;;){for(_=[],c=0;c<p;c++)_.push(g[c][y[c]]);for(h?h.push(_):t.yield1(a,_),f=p-1,y[f]++;y[f]===m[f];){if(y[f]=0,--f<0)break t;y[f]++}}return h||n},Ot.$$arity=-1),t.def(se,"$push",St=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)r.push(e[$]);return r},St.$$arity=-1),t.alias(se,"append","push"),t.def(se,"$rassoc",Mt=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},Mt.$$arity=1),t.def(se,"$reject",Tt=function(){var t,e=this,r=Tt.$$p,n=r||s;if(r&&(Tt.$$p=null),n===s)return d(e,"enum_for",["reject"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=[],$=0,o=e.length;$<o;$++)i=n(e[$]),i!==!1&&i!==s||a.push(e[$]);return a},Tt.$$arity=0),t.def(se,"$reject!",Rt=function(){var t,e=this,r=Rt.$$p,n=r||s,i=s;return r&&(Rt.$$p=null),n===s?d(e,"enum_for",["reject!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),d(e,"delete_if",[],n.$to_proc()),e.$length()["$=="](i)?s:e)},Rt.$$arity=0),t.def(se,"$replace",It=function(t){var e=this;return t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.splice(0,e.length),e.push.apply(e,t),e},It.$$arity=1),t.def(se,"$reverse",Ct=function(){var t=this;return t.slice(0).reverse()},Ct.$$arity=0),t.def(se,"$reverse!",Nt=function(){var t=this;return t.reverse()},Nt.$$arity=0),t.def(se,"$reverse_each",zt=function(){var t,e=this,r=zt.$$p,n=r||s;return r&&(zt.$$p=null),n===s?d(e,"enum_for",["reverse_each"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(d(e.$reverse(),"each",[],n.$to_proc()),e)},zt.$$arity=0),t.def(se,"$rindex",Pt=function(t){var e=this,r=Pt.$$p,n=r||s;r&&(Pt.$$p=null);var i,a;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(n!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(a=n(e[i]),a!==!1&&a!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},Pt.$$arity=-1),t.def(se,"$rotate",Bt=function(t){var e=this;null==t&&(t=1),t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int");var r,n,i,a;return 1===e.length?e.slice():0===e.length?[]:(r=e.slice(),n=t%r.length,i=r.slice(n),a=r.slice(0,n),i.concat(a))},Bt.$$arity=-1),t.def(se,"$rotate!",qt=function(t){var e=this,r=s;return null==t&&(t=1),0===e.length||1===e.length?e:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r=e.$rotate(t),e.$replace(r))},qt.$$arity=-1),function(e,r,n){function i(){}var a,$,o=i=c(e,r,"SampleRandom",i),u=o.$$proto,_=[o].concat(n);return u.rng=s,t.def(o,"$initialize",a=function(t){var e=this;return e.rng=t},a.$$arity=1),t.def(o,"$rand",$=function(t){var e=this,r=s;return r=l(_,"Opal").$coerce_to(e.rng.$rand(t),l(_,"Integer"),"to_int"),f(r<0)&&e.$raise(l(_,"RangeError"),"random value must be >= 0"),f(r<t)||e.$raise(l(_,"RangeError"),"random value must be less than Array size"),r},$.$$arity=1),s&&"rand"}(le[0],null,le),t.def(se,"$sample",Dt=function(t,e){var r,n=this,i=s,a=s;if(f(void 0===t))return n.$at(l(le,"Kernel").$rand(n.length));if(f(void 0===e)?f(i=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"))?(e=i,t=s):(e=s,t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")):(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Hash"),"to_hash")),f(f(r=t)?t<0:r)&&n.$raise(l(le,"ArgumentError"),"count must be greater than 0"),f(e)&&(a=e["$[]"]("random")),a=function(){return f(f(r=a)?a["$respond_to?"]("rand"):r)?l(le,"SampleRandom").$new(a):l(le,"Kernel")}(),!f(t))return n[a.$rand(n.length)];var $,o,u,c,_,d,h,p;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[a.$rand(n.length)]];case 2:return c=a.$rand(n.length),_=a.$rand(n.length),c===_&&(_=0===c?c+1:c-1),[n[c],n[_]];default:if(n.length/t>3){for($=!1,o=0,u=l(le,"Array").$new(t),c=1,u[0]=a.$rand(n.length);c<t;){for(d=a.$rand(n.length),_=0;_<c;){for(;d===u[_];){if(o++,o>100){$=!0;break}d=a.$rand(n.length)}if($)break;_++}if($)break;u[c]=d,c++}if(!$){for(c=0;c<t;)u[c]=n[u[c]],c++;return u}}u=n.slice();for(var y=0;y<t;y++)h=a.$rand(n.length),p=u[y],u[y]=u[h],u[h]=p;return t===n.length?u:u["$[]"](0,t)}},Dt.$$arity=-1),t.def(se,"$select",Lt=function(){var e,r=this,n=Lt.$$p,i=n||s;if(n&&(Lt.$$p=null),i===s)return d(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,$,o=[],u=0,l=r.length;u<l;u++)a=r[u],$=t.yield1(i,a),$!==!1&&$!==s&&o.push(a);return o},Lt.$$arity=0),t.def(se,"$select!",Ft=function(){var t,e=this,r=Ft.$$p,n=r||s;if(r&&(Ft.$$p=null),n===s)return d(e,"enum_for",["select!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return d(e,"keep_if",[],n.$to_proc()),e.length===i?s:e},Ft.$$arity=0),t.def(se,"$shift",jt=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.shift():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),f(0===e.length)?[]:e.splice(0,t))},jt.$$arity=-1),t.alias(se,"size","length"),t.def(se,"$shuffle",Ut=function(t){var e=this;return e.$dup().$to_a()["$shuffle!"](t)},Ut.$$arity=-1),t.def(se,"$shuffle!",Ht=function(t){var e,r,n,i=this,a=i.length;for(void 0!==t&&(t=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"),t!==s&&(t=t["$[]"]("random"),t!==s&&t["$respond_to?"]("rand")&&(e=t)));a;)e?(r=e.$rand(a).$to_int(),r<0&&i.$raise(l(le,"RangeError"),"random number too small "+r),r>=a&&i.$raise(l(le,"RangeError"),"random number too big "+r)):r=i.$rand(a),n=i[--a],i[a]=i[r],i[r]=n;return i},Ht.$$arity=-1),t.alias(se,"slice","[]"),t.def(se,"$slice!",Gt=function(t,e){var r=this,n=s,i=s,a=s,$=s,o=s;if(n=s,f(void 0===e))if(f(l(le,"Range")["$==="](t))){i=t,n=r["$[]"](i),a=l(le,"Opal").$coerce_to(i.$begin(),l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to(i.$end(),l(le,"Integer"),"to_int"),a<0&&(a+=r.length),$<0?$+=r.length:$>=r.length&&($=r.length-1,i.excl&&($+=1));var u=$-a;i.excl?$-=1:u+=1,a<r.length&&a>=0&&$<r.length&&$>=0&&u>0&&r.splice(a,u)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),o<0&&(o+=r.length),o<0||o>=r.length)return s;n=r[o],0===o?r.shift():r.splice(o,1)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0)return s;n=r["$[]"](o,e),o<0&&(o+=r.length),o+e>r.length&&(e=r.length-o),o<r.length&&o>=0&&r.splice(o,e)}return n},Gt.$$arity=-2),t.def(se,"$sort",Yt=function(){var t=this,r=Yt.$$p,n=r||s;return r&&(Yt.$$p=null),f(t.length>1)?(n===s&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,a){var $=n(r,a);return $===s&&t.$raise(l(le,"ArgumentError"),"comparison of "+r.$inspect()+" with "+a.$inspect()+" failed"),e($,0)?1:i($,0)?-1:0})):t},Yt.$$arity=0),t.def(se,"$sort!",Wt=function(){var t=this,e=Wt.$$p,r=e||s;e&&(Wt.$$p=null);var n;n=r!==s?d(t.slice(),"sort",[],r.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,a=n.length;i<a;i++)t.push(n[i]);return t},Wt.$$arity=0),t.def(se,"$sort_by!",Kt=function(){var t,e=this,r=Kt.$$p,n=r||s;return r&&(Kt.$$p=null),n===s?d(e,"enum_for",["sort_by!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(d(e,"sort_by",[],n.$to_proc()))},Kt.$$arity=0),t.def(se,"$take",Xt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(0,t)},Xt.$$arity=1),t.def(se,"$take_while",Vt=function(){var t=this,e=Vt.$$p,r=e||s;e&&(Vt.$$p=null);for(var n,i,a=[],$=0,o=t.length;$<o;$++){if(n=t[$],i=r(n),i===!1||i===s)return a;a.push(n)}return a},Vt.$$arity=0),t.def(se,"$to_a",Jt=function(){var t=this;return t},Jt.$$arity=0),t.alias(se,"to_ary","to_a"),t.def(se,"$to_h",Zt=function(){var e,r,n,i,a=this,$=a.length,o=_([],{});for(e=0;e<$;e++)r=l(le,"Opal")["$coerce_to?"](a[e],l(le,"Array"),"to_ary"),r.$$is_array||a.$raise(l(le,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&a.$raise(l(le,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Zt.$$arity=0),t.alias(se,"to_s","inspect"),t.def(se,"$transpose",Qt=function(){var e,r=this,n=s,i=s;return f(r["$empty?"]())?[]:(n=[],i=s,d(r,"each",[],(e=function(r){var $,o,u=e.$$s||this;return null==r&&(r=s),r=function(){return f(l(le,"Array")["$==="](r))?r.$to_a():l(le,"Opal").$coerce_to(r,l(le,"Array"),"to_ary").$to_a()}(),i=f($=i)?$:r.length,f(r.length["$!="](i))&&u.$raise(l(le,"IndexError"),"element size differs ("+r.length+" should be "+i+")"),d(r.length,"times",[],(o=function(e){var i,$=(o.$$s||this,s),u=s;return null==e&&(e=s),$=f(i=n["$[]"](e))?i:(u=[e,[]],d(n,"[]=",t.to_a(u)),u[a(u.length,1)]),$["$<<"](r.$at(e))},o.$$s=u,o.$$arity=1,o))},e.$$s=r,e.$$arity=1,e)),n)},Qt.$$arity=0),t.def(se,"$uniq",te=function(){var e=this,r=te.$$p,n=r||s;r&&(te.$$p=null);var i,a,$,o,u=_([],{});if(n===s)for(i=0,a=e.length;i<a;i++)$=e[i],void 0===t.hash_get(u,$)&&t.hash_put(u,$,$);else for(i=0,a=e.length;i<a;i++)$=e[i],o=t.yield1(n,$),void 0===t.hash_get(u,o)&&t.hash_put(u,o,$);return m(u.$values(),e.$class())},te.$$arity=0),t.def(se,"$uniq!",ee=function(){var e=this,r=ee.$$p,n=r||s;r&&(ee.$$p=null);var i,a,$,o,u=e.length,l=_([],{});for(i=0,a=u;i<a;i++)$=e[i],o=n===s?$:t.yield1(n,$),void 0!==t.hash_get(l,o)?(e.splice(i,1),a--,i--):t.hash_put(l,o,$);return e.length===u?s:e},ee.$$arity=0),t.def(se,"$unshift",re=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--)r.unshift(e[$]);return r},re.$$arity=-1),t.alias(se,"prepend","unshift"),t.def(se,"$values_at",ne=function(t){var e,r,n=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i=[],d(r,"each",[],(e=function(t){var r,n=e.$$s||this,a=s,$=s,o=s;return null==t&&(t=s),f(t["$is_a?"](l(le,"Range")))?(a=l(le,"Opal").$coerce_to(t.$last(),l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to(t.$first(),l(le,"Integer"),"to_int"),$<0?($+=n.length,s):(a<0&&(a+=n.length),t["$exclude_end?"]()&&a--,a<$?s:d($,"upto",[a],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),i["$<<"](e.$at(t))},r.$$s=n,r.$$arity=1,r)))):(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),i["$<<"](n.$at(o)))},e.$$s=n,e.$$arity=1,e)),i},ne.$$arity=-1),t.def(se,"$zip",ie=function(t){var e,r,n=this,i=ie.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<$;u++)r[u-0]=arguments[u];i&&(ie.$$p=null);var c,_,d,h,p,y=[],m=n.length;for(h=0,p=r.length;h<p;h++)_=r[h],_.$$is_array||(_.$$is_enumerator?_.$size()===1/0?r[h]=_.$take(m):r[h]=_.$to_a():r[h]=(f(e=l(le,"Opal")["$coerce_to?"](_,l(le,"Array"),"to_ary"))?e:l(le,"Opal")["$coerce_to!"](_,l(le,"Enumerator"),"each")).$to_a());for(d=0;d<m;d++){for(c=[n[d]],h=0,p=r.length;h<p;h++)_=r[h][d],null==_&&(_=s),c[h+1]=_;y[d]=c}if(a!==s){for(d=0;d<m;d++)a(y[d]);return s}return y},ie.$$arity=-1),t.defs(se,"$inherited",ae=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},ae.$$arity=1),t.def(se,"$instance_variables",$e=function(){var e,r=this,n=$e.$$p,i=s,a=s,$=s;for(n&&($e.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(r,t.find_super_dispatcher(r,"instance_variables",$e,!1),i,n),"reject",[],(e=function(t){var r;e.$$s||this;return null==t&&(t=s),f(r=/^@\d+$/.test(t))?r:t["$=="]("@length")},e.$$s=r,e.$$arity=1,e))},$e.$$arity=0),l(le,"Opal").$pristine(se.$singleton_class(),"allocate"),l(le,"Opal").$pristine(se,"copy_instance_variables","initialize_dup"),t.def(se,"$pack",oe=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},oe.$$arity=-1),s&&"pack"}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e);
}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),u=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),i.$require("corelib/enumerable"),function(i,a,f){function _(){}var d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt=_=s(i,a,"Hash",_),kt=wt.$$proto,Et=[wt].concat(f);wt.$include(o(Et,"Enumerable")),kt.$$is_hash=!0,t.defs(wt,"$[]",d=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];var s,u,l=e.length;if(1===l){if(s=o(Et,"Opal")["$coerce_to?"](e["$[]"](0),o(Et,"Hash"),"to_hash"),s!==$)return r.$allocate()["$merge!"](s);for(e=o(Et,"Opal")["$coerce_to?"](e["$[]"](0),o(Et,"Array"),"to_ary"),e===$&&r.$raise(o(Et,"ArgumentError"),"odd number of arguments for Hash"),l=e.length,s=r.$allocate(),u=0;u<l;u++)if(e[u].$$is_array)switch(e[u].length){case 1:s.$store(e[u][0],$);break;case 2:s.$store(e[u][0],e[u][1]);break;default:r.$raise(o(Et,"ArgumentError"),"invalid number of elements ("+e[u].length+" for 1..2)")}return s}for(l%2!==0&&r.$raise(o(Et,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),u=0;u<l;u+=2)s.$store(e[u],e[u+1]);return s},d.$$arity=-1),t.defs(wt,"$allocate",h=function(){var e=this,r=new e.$$alloc;return t.hash_init(r),r.$$none=$,r.$$proc=$,r},h.$$arity=0),t.defs(wt,"$try_convert",p=function(t){return o(Et,"Opal")["$coerce_to?"](t,o(Et,"Hash"),"to_hash")},p.$$arity=1),t.def(wt,"$initialize",y=function(t){var e=this,r=y.$$p,n=r||$;return r&&(y.$$p=null),void 0!==t&&n!==$&&e.$raise(o(Et,"ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=void 0===t?$:t,e.$$proc=n,e},y.$$arity=-1),t.def(wt,"$==",m=function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var n,i,a,$=0,o=r.$$keys,s=o.length;$<s;$++)if(n=o[$],n.$$is_string?(i=r.$$smap[n],a=e.$$smap[n]):(i=n.value,a=t.hash_get(e,n.key)),void 0===a||!i["$eql?"](a))return!1;return!0},m.$$arity=1),t.def(wt,"$>=",g=function(t){var e,r=this,n=$;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),!(r.$$keys.length<t.$$keys.length)&&(n=!0,u(t,"each",[],(e=function(t,r){var i=e.$$s||this,a=$;if(null==t&&(t=$),null==r&&(r=$),a=i.$fetch(t,null),null==a||a!==r)return void(n=!1)},e.$$s=r,e.$$arity=2,e)),n)},g.$$arity=1),t.def(wt,"$>",v=function(t){var r=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),!(r.$$keys.length<=t.$$keys.length)&&e(r,t)},v.$$arity=1),t.def(wt,"$<",b=function(t){var e=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),r(t,e)},b.$$arity=1),t.def(wt,"$<=",w=function(t){var r=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),e(t,r)},w.$$arity=1),t.def(wt,"$[]",k=function(e){var r=this,n=t.hash_get(r,e);return void 0!==n?n:r.$default(e)},k.$$arity=1),t.def(wt,"$[]=",E=function(e,r){var n=this;return t.hash_put(n,e,r),r},E.$$arity=2),t.def(wt,"$assoc",x=function(t){for(var e,r=this,n=0,i=r.$$keys,a=i.length;n<a;n++)if(e=i[n],e.$$is_string){if(e["$=="](t))return[e,r.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},x.$$arity=1),t.def(wt,"$clear",A=function(){var e=this;return t.hash_init(e),e},A.$$arity=0),t.def(wt,"$clone",O=function(){var e=this,r=new e.$$class.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},O.$$arity=0),t.def(wt,"$compact",S=function(){for(var e,r,n=this,i=t.hash(),a=0,o=n.$$keys,s=o.length;a<s;a++)e=o[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r!==$&&t.hash_put(i,e,r);return i},S.$$arity=0),t.def(wt,"$compact!",M=function(){for(var e,r,n=this,i=!1,a=0,o=n.$$keys,s=o.length;a<s;a++)e=o[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r===$&&void 0!==t.hash_delete(n,e)&&(i=!0,s--,a--);return i?n:$},M.$$arity=0),t.def(wt,"$compare_by_identity",T=function(){var e,r,n,i,a=this,$=a.$$keys;if(a.$$by_identity)return a;if(0===a.$$keys.length)return a.$$by_identity=!0,a;for(i=l([],{}).$compare_by_identity(),e=0,r=$.length;e<r;e++)n=$[e],n.$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get(a,n));return a.$$by_identity=!0,a.$$map=i.$$map,a.$$smap=i.$$smap,a},T.$$arity=0),t.def(wt,"$compare_by_identity?",R=function(){var t=this;return t.$$by_identity===!0},R.$$arity=0),t.def(wt,"$default",I=function(t){var e=this;return void 0!==t&&e.$$proc!==$&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?$:e.$$none},I.$$arity=-1),t.def(wt,"$default=",C=function(t){var e=this;return e.$$proc=$,e.$$none=t,t},C.$$arity=1),t.def(wt,"$default_proc",N=function(){var t=this;return void 0!==t.$$proc?t.$$proc:$},N.$$arity=0),t.def(wt,"$default_proc=",z=function(t){var e=this,r=t;return r!==$&&(r=o(Et,"Opal")["$coerce_to!"](r,o(Et,"Proc"),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&e.$raise(o(Et,"TypeError"),"default_proc takes two arguments")),e.$$none=$,e.$$proc=r,t},z.$$arity=1),t.def(wt,"$delete",P=function(e){var r=this,n=P.$$p,i=n||$;n&&(P.$$p=null);var a=t.hash_delete(r,e);return void 0!==a?a:i!==$?t.yield1(i,e):$},P.$$arity=1),t.def(wt,"$delete_if",B=function(){var e,r=this,n=B.$$p,i=n||$;if(n&&(B.$$p=null),!c(i))return u(r,"enum_for",["delete_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&void 0!==t.hash_delete(r,a)&&(_--,l--);return r},B.$$arity=0),t.alias(wt,"dup","clone"),t.def(wt,"$dig",q=function(e,r){var n,i=this,a=$,s=arguments.length,l=s-1;l<0&&(l=0),n=new Array(l);for(var f=1;f<s;f++)n[f-1]=arguments[f];return a=i["$[]"](e),a===$||0===n.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(o(Et,"TypeError"),""+a.$class()+" does not have #dig method"),u(a,"dig",t.to_a(n)))},q.$$arity=-2),t.def(wt,"$each",D=function(){var e,r=this,n=D.$$p,i=n||$;if(n&&(D.$$p=null),!c(i))return u(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=0,l=r.$$keys,f=l.length;s<f;s++)a=l[s],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),t.yield1(i,[a,o]);return r},D.$$arity=0),t.def(wt,"$each_key",L=function(){var t,e=this,r=L.$$p,n=r||$;if(r&&(L.$$p=null),!c(n))return u(e,"enum_for",["each_key"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,s=o.length;a<s;a++)i=o[a],n(i.$$is_string?i:i.key);return e},L.$$arity=0),t.alias(wt,"each_pair","each"),t.def(wt,"$each_value",F=function(){var t,e=this,r=F.$$p,n=r||$;if(r&&(F.$$p=null),!c(n))return u(e,"enum_for",["each_value"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,s=o.length;a<s;a++)i=o[a],n(i.$$is_string?e.$$smap[i]:i.value);return e},F.$$arity=0),t.def(wt,"$empty?",j=function(){var t=this;return 0===t.$$keys.length},j.$$arity=0),t.alias(wt,"eql?","=="),t.def(wt,"$fetch",U=function(e,r){var n=this,i=U.$$p,a=i||$;i&&(U.$$p=null);var s=t.hash_get(n,e);return void 0!==s?s:a!==$?a(e):void 0!==r?r:n.$raise(o(Et,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:n})))},U.$$arity=-2),t.def(wt,"$fetch_values",H=function(t){var e,r,n=this,i=H.$$p,a=i||$,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];return i&&(H.$$p=null),u(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=$),u(r,"fetch",[t],a.$to_proc())},e.$$s=n,e.$$arity=1,e))},H.$$arity=-1),t.def(wt,"$flatten",G=function(t){var e=this;null==t&&(t=1),t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Integer"),"to_int");for(var r,n,i=[],a=0,$=e.$$keys,s=$.length;a<s;a++)if(r=$[a],r.$$is_string?n=e.$$smap[r]:(n=r.value,r=r.key),i.push(r),n.$$is_array){if(1===t){i.push(n);continue}i=i.concat(n.$flatten(t-2))}else i.push(n);return i},G.$$arity=-1),t.def(wt,"$has_key?",Y=function(e){var r=this;return void 0!==t.hash_get(r,e)},Y.$$arity=1),t.def(wt,"$has_value?",W=function(t){for(var e,r=this,n=0,i=r.$$keys,a=i.length;n<a;n++)if(e=i[n],(e.$$is_string?r.$$smap[e]:e.value)["$=="](t))return!0;return!1},W.$$arity=1),t.def(wt,"$hash",K=function(){var e,r,n=this,i=void 0===t.hash_ids,a=n.$object_id(),$=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[a])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],n["$eql?"](r))return"self";t.hash_ids[a]=n;for(var o=0,s=n.$$keys,u=s.length;o<u;o++)e=s[o],e.$$is_string?$.push([e,n.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{i&&(t.hash_ids=void 0)}},K.$$arity=0),t.alias(wt,"include?","has_key?"),t.def(wt,"$index",X=function(t){for(var e,r,n=this,i=0,a=n.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return $},X.$$arity=1),t.def(wt,"$indexes",V=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(var o,s,u=[],l=0,c=r.length;l<c;l++)o=r[l],s=t.hash_get(n,o),void 0!==s?u.push(s):u.push(n.$default());return u},V.$$arity=-1),t.alias(wt,"indices","indexes");var xt;return t.def(wt,"$inspect",J=function(){var t=this,e=void 0===xt,r=t.$object_id(),n=[];try{if(e&&(xt={}),xt.hasOwnProperty(r))return"{...}";xt[r]=!0;for(var i,a,$=0,o=t.$$keys,s=o.length;$<s;$++)i=o[$],i.$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),n.push(i.$inspect()+"=>"+a.$inspect());return"{"+n.join(", ")+"}"}finally{e&&(xt=void 0)}},J.$$arity=0),t.def(wt,"$invert",Z=function(){for(var e,r,n=this,i=t.hash(),a=0,$=n.$$keys,o=$.length;a<o;a++)e=$[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),t.hash_put(i,r,e);return i},Z.$$arity=0),t.def(wt,"$keep_if",Q=function(){var e,r=this,n=Q.$$p,i=n||$;if(n&&(Q.$$p=null),!c(i))return u(r,"enum_for",["keep_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||void 0!==t.hash_delete(r,a)&&(_--,l--);return r},Q.$$arity=0),t.alias(wt,"key","index"),t.alias(wt,"key?","has_key?"),t.def(wt,"$keys",tt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,a=i.length;n<a;n++)t=i[n],t.$$is_string?r.push(t):r.push(t.key);return r},tt.$$arity=0),t.def(wt,"$length",et=function(){var t=this;return t.$$keys.length},et.$$arity=0),t.alias(wt,"member?","has_key?"),t.def(wt,"$merge",rt=function(t){var e=this,r=rt.$$p,n=r||$;return r&&(rt.$$p=null),u(e.$dup(),"merge!",[t],n.$to_proc())},rt.$$arity=1),t.def(wt,"$merge!",nt=function(e){var r=this,n=nt.$$p,i=n||$;n&&(nt.$$p=null),e.$$is_hash||(e=o(Et,"Opal")["$coerce_to!"](e,o(Et,"Hash"),"to_hash"));var a,s,u,l,c=e.$$keys,f=c.length;if(i===$){for(a=0;a<f;a++)s=c[a],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),t.hash_put(r,s,l);return r}for(a=0;a<f;a++)s=c[a],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),u=t.hash_get(r,s),void 0!==u?t.hash_put(r,s,i(s,u,l)):t.hash_put(r,s,l);return r},nt.$$arity=1),t.def(wt,"$rassoc",it=function(t){for(var e,r,n=this,i=0,a=n.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return $},it.$$arity=1),t.def(wt,"$rehash",at=function(){var e=this;return t.hash_rehash(e),e},at.$$arity=0),t.def(wt,"$reject",$t=function(){var e,r=this,n=$t.$$p,i=n||$;if(n&&($t.$$p=null),!c(i))return u(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=t.hash(),f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||t.hash_put(l,a,o);return l},$t.$$arity=0),t.def(wt,"$reject!",ot=function(){var e,r=this,n=ot.$$p,i=n||$;if(n&&(ot.$$p=null),!c(i))return u(r,"enum_for",["reject!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=!1,f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&void 0!==t.hash_delete(r,a)&&(l=!0,d--,f--);return l?r:$},ot.$$arity=0),t.def(wt,"$replace",st=function(e){var r=this,i=$;e=o(Et,"Opal")["$coerce_to!"](e,o(Et,"Hash"),"to_hash"),t.hash_init(r);for(var a,s,l=0,f=e.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?s=e.$$smap[a]:(s=a.value,a=a.key),t.hash_put(r,a,s);return c(e.$default_proc())?(i=[e.$default_proc()],u(r,"default_proc=",t.to_a(i)),i[n(i.length,1)]):(i=[e.$default()],u(r,"default=",t.to_a(i)),i[n(i.length,1)]),r},st.$$arity=1),t.def(wt,"$select",ut=function(){var e,r=this,n=ut.$$p,i=n||$;if(n&&(ut.$$p=null),!c(i))return u(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=t.hash(),f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&t.hash_put(l,a,o);return l},ut.$$arity=0),t.def(wt,"$select!",lt=function(){var e,r=this,n=lt.$$p,i=n||$;if(n&&(lt.$$p=null),!c(i))return u(r,"enum_for",["select!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=$,f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||(void 0!==t.hash_delete(r,a)&&(d--,f--),l=r);return l},lt.$$arity=0),t.def(wt,"$shift",ct=function(){var e,r=this,n=r.$$keys;return n.length>0?(e=n[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(r,e)]):r.$default($)},ct.$$arity=0),t.alias(wt,"size","length"),t.def(wt,"$slice",ft=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(var o=t.hash(),s=0,u=r.length;s<u;s++){var l=r[s],c=t.hash_get(n,l);void 0!==c&&t.hash_put(o,l,c)}return o},ft.$$arity=-1),t.alias(wt,"store","[]="),t.def(wt,"$to_a",_t=function(){for(var t,e,r=this,n=[],i=0,a=r.$$keys,$=a.length;i<$;i++)t=a[i],t.$$is_string?e=r.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},_t.$$arity=0),t.def(wt,"$to_h",dt=function(){var e=this;if(e.$$class===t.Hash)return e;var r=new t.Hash.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},dt.$$arity=0),t.def(wt,"$to_hash",ht=function(){var t=this;return t},ht.$$arity=0),t.def(wt,"$to_proc",pt=function(){var t,e=this;return u(e,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise(o(Et,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=e,t.$$arity=-1,t))},pt.$$arity=0),t.alias(wt,"to_s","inspect"),t.def(wt,"$transform_keys",yt=function(){var e,r=this,n=yt.$$p,i=n||$;if(n&&(yt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=t.hash(),l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),a=t.yield1(i,a),t.hash_put(s,a,o);return s},yt.$$arity=0),t.def(wt,"$transform_keys!",mt=function(){var e,r=this,n=mt.$$p,i=n||$;if(n&&(mt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var a,o,s,l,f=t.slice.call(r.$$keys),_=f.length;for(a=0;a<_;a++)o=f[a],o.$$is_string?s=r.$$smap[o]:(s=o.value,o=o.key),l=t.yield1(i,o),t.hash_delete(r,o),t.hash_put(r,l,s);return r},mt.$$arity=0),t.def(wt,"$transform_values",gt=function(){var e,r=this,n=gt.$$p,i=n||$;if(n&&(gt.$$p=null),!c(i))return u(r,"enum_for",["transform_values"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=t.hash(),l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),o=t.yield1(i,o),t.hash_put(s,a,o);return s},gt.$$arity=0),t.def(wt,"$transform_values!",vt=function(){var e,r=this,n=vt.$$p,i=n||$;if(n&&(vt.$$p=null),!c(i))return u(r,"enum_for",["transform_values!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=0,l=r.$$keys,f=l.length;s<f;s++)a=l[s],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),o=t.yield1(i,o),t.hash_put(r,a,o);return r},vt.$$arity=0),t.alias(wt,"update","merge!"),t.alias(wt,"value?","has_value?"),t.alias(wt,"values_at","indexes"),t.def(wt,"$values",bt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,a=i.length;n<a;n++)t=i[n],t.$$is_string?r.push(e.$$smap[t]):r.push(t.value);return r},bt.$$arity=0),$&&"values"}(a[0],null,a)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,d=(t.breaker,t.slice,t.klass),h=t.truthy,p=t.send,y=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),u.$require("corelib/numeric"),function(u,l,m){function g(){}var v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt=g=d(u,l,"Number",g),Dt=(qt.$$proto,[qt].concat(m));_(Dt,"Opal").$bridge(qt,Number),Number.prototype.$$is_number=!0,qt.$$is_number_class=!0,function(e,r){var n,i=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(i,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),c}(t.get_singleton_class(qt),Dt),t.def(qt,"$coerce",v=function(t){var e=this;if(t===c)e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[e.$Float(t),e];if(t["$respond_to?"]("to_f"))return[_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Float"),"to_f"),e];if(t.$$is_number)return[t,e];e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float")}},v.$$arity=1),t.def(qt,"$__id__",b=function(){var t=this;return 2*t+1},b.$$arity=0),t.alias(qt,"object_id","__id__"),t.def(qt,"$+",w=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},w.$$arity=1),t.def(qt,"$-",k=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},k.$$arity=1),t.def(qt,"$*",E=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},E.$$arity=1),t.def(qt,"$/",x=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},x.$$arity=1),t.alias(qt,"fdiv","/"),t.def(qt,"$%",A=function(t){var e=this;return t.$$is_number?t==-(1/0)?t:0!=t?t<0||e<0?(e%t+t)%t:e%t:void e.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"):e.$__coerced__("%",t)},A.$$arity=1),t.def(qt,"$&",O=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},O.$$arity=1),t.def(qt,"$|",S=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},S.$$arity=1),t.def(qt,"$^",M=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},M.$$arity=1),t.def(qt,"$<",T=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},T.$$arity=1),t.def(qt,"$<=",R=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},R.$$arity=1),t.def(qt,"$>",I=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},I.$$arity=1),t.def(qt,"$>=",C=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},C.$$arity=1);var Lt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?c:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};return t.def(qt,"$<=>",N=function(e){var r=this;try{return Lt(r,e)}catch(e){if(!t.rescue(e,[_(Dt,"ArgumentError")]))throw e;try{return c}finally{t.pop_exception()}}},N.$$arity=1),t.def(qt,"$<<",z=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e<<t:e>>-t},z.$$arity=1),t.def(qt,"$>>",P=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e>>t:e<<-t},P.$$arity=1),t.def(qt,"$[]",B=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t<0?0:t>=32?e<0?1:0:e>>t&1},B.$$arity=1),t.def(qt,"$+@",q=function(){var t=this;return+t},q.$$arity=0),t.def(qt,"$-@",D=function(){var t=this;return-t},D.$$arity=0),t.def(qt,"$~",L=function(){var t=this;return~t},L.$$arity=0),t.def(qt,"$**",F=function(t){var n,i,a=this;return h(_(Dt,"Integer")["$==="](t))?h(h(n=_(Dt,"Integer")["$==="](a)["$!"]())?n:e(t,0))?Math.pow(a,t):_(Dt,"Rational").$new(a,1)["$**"](t):h((n=r(a,0))?h(i=_(Dt,"Float")["$==="](t))?i:_(Dt,"Rational")["$==="](t):r(a,0))?_(Dt,"Complex").$new(a,0)["$**"](t.$to_f()):h(null!=t.$$is_number)?Math.pow(a,t):a.$__coerced__("**",t)},F.$$arity=1),t.def(qt,"$===",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.def(qt,"$==",U=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},U.$$arity=1),t.def(qt,"$abs",H=function(){var t=this;return Math.abs(t)},H.$$arity=0),t.def(qt,"$abs2",G=function(){var t=this;return Math.abs(t*t)},G.$$arity=0),t.def(qt,"$allbits?",Y=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),(e&t)==t},Y.$$arity=1),t.def(qt,"$anybits?",W=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0!==(e&t)},W.$$arity=1),t.def(qt,"$angle",K=function(){var t=this;return h(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},K.$$arity=0),t.alias(qt,"arg","angle"),t.alias(qt,"phase","angle"),t.def(qt,"$bit_length",X=function(){var t=this;if(h(_(Dt,"Integer")["$==="](t))||t.$raise(_(Dt,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||t===-1)return 0;for(var e=0,r=t<0?~t:t;0!=r;)e+=1,r>>>=1;return e},X.$$arity=0),t.def(qt,"$ceil",V=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.ceil(r*n)/n;return r%1===0&&(i=Math.round(i)),i},V.$$arity=-1),t.def(qt,"$chr",J=function(t){var e=this;return String.fromCharCode(e)},J.$$arity=-1),t.def(qt,"$denominator",Z=function(){var e,r=this,n=Z.$$p,i=c,a=c,$=c;for(n&&(Z.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(h(e=r["$nan?"]())?e:r["$infinite?"]())?1:p(r,t.find_super_dispatcher(r,"denominator",Z,!1),i,n)},Z.$$arity=0),t.def(qt,"$downto",Q=function(t){var r,a=this,$=Q.$$p,o=$||c;if($&&(Q.$$p=null),o===c)return p(a,"enum_for",["downto",t],(r=function(){var a=r.$$s||this;return h(_(Dt,"Numeric")["$==="](t))||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h(e(t,a))?0:n(i(a,t),1)},r.$$s=a,r.$$arity=0,r));t.$$is_number||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s>=t;s--)o(s);return a},Q.$$arity=1),t.alias(qt,"eql?","=="),t.def(qt,"$equal?",tt=function(t){var e,r=this;return h(e=r["$=="](t))?e:isNaN(r)&&isNaN(t)},tt.$$arity=1),t.def(qt,"$even?",et=function(){var t=this;return t%2===0},et.$$arity=0),t.def(qt,"$floor",rt=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.floor(r*n)/n;return r%1===0&&(i=Math.round(i)),i},rt.$$arity=-1),t.def(qt,"$gcd",nt=function(t){var e=this;h(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer");for(var r=Math.abs(e),n=Math.abs(t);r>0;){var i=r;r=n%r,n=i}return n},nt.$$arity=1),t.def(qt,"$gcdlcm",it=function(t){var e=this;return[e.$gcd(),e.$lcm()]},it.$$arity=1),t.def(qt,"$integer?",at=function(){var t=this;return t%1===0},at.$$arity=0),t.def(qt,"$is_a?",$t=function(e){var r,n=this,i=$t.$$p,a=c,$=c,o=c;for(i&&($t.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"is_a?",$t,!1),a,i)))},$t.$$arity=1),t.alias(qt,"kind_of?","is_a?"),t.def(qt,"$instance_of?",ot=function(e){var r,n=this,i=ot.$$p,a=c,$=c,o=c;for(i&&(ot.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"instance_of?",ot,!1),a,i)))},ot.$$arity=1),t.def(qt,"$lcm",st=function(t){var e=this;return h(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer"),0==e||0==t?0:Math.abs(e*t/e.$gcd(t))},st.$$arity=1),t.alias(qt,"magnitude","abs"),t.alias(qt,"modulo","%"),t.def(qt,"$next",ut=function(){var t=this;return t+1},ut.$$arity=0),t.def(qt,"$nobits?",lt=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0==(e&t)},lt.$$arity=1),t.def(qt,"$nonzero?",ct=function(){var t=this;return 0==t?c:t},ct.$$arity=0),t.def(qt,"$numerator",ft=function(){var e,r=this,n=ft.$$p,i=c,a=c,$=c;for(n&&(ft.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(h(e=r["$nan?"]())?e:r["$infinite?"]())?r:p(r,t.find_super_dispatcher(r,"numerator",ft,!1),i,n)},ft.$$arity=0),t.def(qt,"$odd?",_t=function(){var t=this;return t%2!==0},_t.$$arity=0),t.def(qt,"$ord",dt=function(){var t=this;return t},dt.$$arity=0),t.def(qt,"$pow",ht=function(t,e){var r=this;return 0==r&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),void 0===e?r["$**"](t):(_(Dt,"Integer")["$==="](t)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&r.$raise(_(Dt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),_(Dt,"Integer")["$==="](e)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),r["$**"](t)["$%"](e))},ht.$$arity=-2),t.def(qt,"$pred",pt=function(){var t=this;return t-1},pt.$$arity=0),t.def(qt,"$quo",yt=function(e){var r=this,n=yt.$$p,i=c,$=c,o=c;for(n&&(yt.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return h(_(Dt,"Integer")["$==="](r))?p(r,t.find_super_dispatcher(r,"quo",yt,!1),i,n):a(r,e)},yt.$$arity=1),t.def(qt,"$rationalize",mt=function(e){var r,n,a=this,o=c,s=c;return arguments.length>1&&a.$raise(_(Dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),h(_(Dt,"Integer")["$==="](a))?_(Dt,"Rational").$new(a,1):h(a["$infinite?"]())?a.$raise(_(Dt,"FloatDomainError"),"Infinity"):h(a["$nan?"]())?a.$raise(_(Dt,"FloatDomainError"),"NaN"):h(null==e)?(n=_(Dt,"Math").$frexp(a),r=t.to_ary(n),o=null==r[0]?c:r[0],s=null==r[1]?c:r[1],n,o=_(Dt,"Math").$ldexp(o,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),s=i(s,f(_(Dt,"Float"),"MANT_DIG")),_(Dt,"Rational").$new($(2,o),1["$<<"](i(1,s))).$rationalize(_(Dt,"Rational").$new(1,1["$<<"](i(1,s))))):a.$to_r().$rationalize(e)},mt.$$arity=-1),t.def(qt,"$remainder",gt=function(t){var e=this;return i(e,$(t,a(e,t).$truncate()))},gt.$$arity=1),t.def(qt,"$round",vt=function($){var u,l,d=this,p=c,y=c;if(h(_(Dt,"Integer")["$==="](d))){if(h(null==$))return d;if(h(h(u=_(Dt,"Float")["$==="]($))?$["$infinite?"]():u)&&d.$raise(_(Dt,"RangeError"),"Infinity"),$=_(Dt,"Opal")["$coerce_to!"]($,_(Dt,"Integer"),"to_int"),h(r($,f(_(Dt,"Integer"),"MIN")))&&d.$raise(_(Dt,"RangeError"),"out of bounds"),h($>=0))return d;if($=$["$-@"](),.415241*$-.125>d.$size())return 0;var m=Math.pow(10,$),g=Math.floor((Math.abs(g)+m/2)/m)*m;return d<0?-g:g}if(h(h(u=d["$nan?"]())?null==$:u)&&d.$raise(_(Dt,"FloatDomainError"),"NaN"),$=_(Dt,"Opal")["$coerce_to!"]($||0,_(Dt,"Integer"),"to_int"),h(o($,0)))h(d["$nan?"]())?d.$raise(_(Dt,"RangeError"),"NaN"):h(d["$infinite?"]())&&d.$raise(_(Dt,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(d);if(h(h(u=d["$nan?"]())?u:d["$infinite?"]()))return d}return l=_(Dt,"Math").$frexp(d),u=t.to_ary(l),p=null==u[0]?c:u[0],y=null==u[1]?c:u[1],l,h(s($,i(n(f(_(Dt,"Float"),"DIG"),2),function(){return h(e(y,0))?a(y,4):i(a(y,3),1)}())))?d:h(r($,function(){return h(e(y,0))?n(a(y,3),1):a(y,4)}()["$-@"]()))?0:Math.round(d*Math.pow(10,$))/Math.pow(10,$)},vt.$$arity=-1),t.def(qt,"$step",bt=function(e,r,n){function i(){void 0!==u&&(d=u),void 0===d&&(d=c),h===c&&m.$raise(_(Dt,"TypeError"),"step must be numeric"),0===h&&m.$raise(_(Dt,"ArgumentError"),"step can't be 0"),void 0!==l&&(h=l),h!==c&&null!=h||(h=1);var t=h["$<=>"](0);t===c&&m.$raise(_(Dt,"ArgumentError"),"0 can't be coerced into "+h.$class()),d!==c&&null!=d||(d=t>0?f(_(Dt,"Float"),"INFINITY"):f(_(Dt,"Float"),"INFINITY")["$-@"]()),_(Dt,"Opal").$compare(m,d)}function a(){if(h>0&&m>d||h<0&&m<d)return 0;if(h===1/0||h===-(1/0))return 1;var t=Math.abs,e=Math.floor,r=(t(m)+t(d)+t(d-m))/t(h)*f(_(Dt,"Float"),"EPSILON");return r===1/0||r===-(1/0)?0:(r>.5&&(r=.5),e((d-m)/h+r)+1)}function $(){if(i(),0===h)return 1/0;if(h%1!==0)return a();if(h>0&&m>d||h<0&&m<d)return 0;var t=Math.ceil,e=Math.abs,r=e(m-d)+1,n=e(h);return t(r/n)}var o,s,u,l,d,h,m=this,g=bt.$$p,v=g||c,b=c,w=c;if(s=t.slice.call(arguments,0,arguments.length),n=t.extract_kwargs(s),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=y([],{})}if(u=n.$$smap.to,l=n.$$smap.by,0<s.length&&(d=s.splice(0,1)[0]),0<s.length&&(h=s.splice(0,1)[0]),g&&(bt.$$p=null),void 0!==d&&void 0!==u&&m.$raise(_(Dt,"ArgumentError"),"to is given twice"),void 0!==h&&void 0!==l&&m.$raise(_(Dt,"ArgumentError"),"step is given twice"),v===c)return b=[],w=y([],{}),void 0!==d&&b.push(d),void 0!==h&&b.push(h),void 0!==u&&t.hash_put(w,"to",u),void 0!==l&&t.hash_put(w,"by",l),w["$any?"]()&&b.push(w),p(m,"enum_for",["step"].concat(t.to_a(b)),(o=function(){o.$$s||this;return $()},o.$$s=m,o.$$arity=0,o));if(i(),0===h)for(;;)v(m);if(m%1!==0||d%1!==0||h%1!==0){var k=a();if(k>0)if(h===1/0||h===-(1/0))v(m);else{var E,x=0;if(h>0)for(;x<k;)E=x*h+m,d<E&&(E=d),v(E),x+=1;else for(;x<k;)E=x*h+m,d>E&&(E=d),v(E),x+=1}}else{var A=m;if(h>0)for(;A<=d;)v(A),A+=h;else for(;A>=d;)v(A),A+=h}return m},bt.$$arity=-1),t.alias(qt,"succ","next"),t.def(qt,"$times",wt=function(){var t,e=this,r=wt.$$p,n=r||c;if(r&&(wt.$$p=null),!h(n))return p(e,"enum_for",["times"],(t=function(){var e=t.$$s||this;return e},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)n(i);return e},wt.$$arity=0),t.def(qt,"$to_f",kt=function(){var t=this;return t},kt.$$arity=0),t.def(qt,"$to_i",Et=function(){var t=this;return parseInt(t,10)},Et.$$arity=0),t.alias(qt,"to_int","to_i"),t.def(qt,"$to_r",xt=function(){var e,r,n=this,a=c,o=c;return h(_(Dt,"Integer")["$==="](n))?_(Dt,"Rational").$new(n,1):(r=_(Dt,"Math").$frexp(n),e=t.to_ary(r),a=null==e[0]?c:e[0],o=null==e[1]?c:e[1],r,a=_(Dt,"Math").$ldexp(a,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),o=i(o,f(_(Dt,"Float"),"MANT_DIG")),$(a,f(_(Dt,"Float"),"RADIX")["$**"](o)).$to_r())},xt.$$arity=0),t.def(qt,"$to_s",At=function(t){var n,i=this;return null==t&&(t=10),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),h(h(n=r(t,2))?n:e(t,36))&&i.$raise(_(Dt,"ArgumentError"),"invalid radix "+t),i.toString(t)},At.$$arity=-1),
t.def(qt,"$truncate",Ot=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=parseInt(r*n,10)/n;return r%1===0&&(i=Math.round(i)),i},Ot.$$arity=-1),t.alias(qt,"inspect","to_s"),t.def(qt,"$digits",St=function(t){var e=this;null==t&&(t=10),r(e,0)&&e.$raise(f(_(Dt,"Math"),"DomainError"),"out of domain"),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),h(r(t,2))&&e.$raise(_(Dt,"ArgumentError"),"invalid radix "+t);for(var n=e,i=[];0!==n;)i.push(n%t),n=parseInt(n/t,10);return i},St.$$arity=-1),t.def(qt,"$divmod",Mt=function(e){var r,n=this,i=Mt.$$p,a=c,$=c,o=c;for(i&&(Mt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return h(h(r=n["$nan?"]())?r:e["$nan?"]())?n.$raise(_(Dt,"FloatDomainError"),"NaN"):h(n["$infinite?"]())?n.$raise(_(Dt,"FloatDomainError"),"Infinity"):p(n,t.find_super_dispatcher(n,"divmod",Mt,!1),a,i)},Mt.$$arity=1),t.def(qt,"$upto",Tt=function(t){var e,a=this,$=Tt.$$p,o=$||c;if($&&(Tt.$$p=null),o===c)return p(a,"enum_for",["upto",t],(e=function(){var a=e.$$s||this;return h(_(Dt,"Numeric")["$==="](t))||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h(r(t,a))?0:n(i(t,a),1)},e.$$s=a,e.$$arity=0,e));t.$$is_number||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s<=t;s++)o(s);return a},Tt.$$arity=1),t.def(qt,"$zero?",Rt=function(){var t=this;return 0==t},Rt.$$arity=0),t.def(qt,"$size",It=function(){return 4},It.$$arity=0),t.def(qt,"$nan?",Ct=function(){var t=this;return isNaN(t)},Ct.$$arity=0),t.def(qt,"$finite?",Nt=function(){var t=this;return t!=1/0&&t!=-(1/0)&&!isNaN(t)},Nt.$$arity=0),t.def(qt,"$infinite?",zt=function(){var t=this;return t==1/0?1:t==-(1/0)?-1:c},zt.$$arity=0),t.def(qt,"$positive?",Pt=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},Pt.$$arity=0),t.def(qt,"$negative?",Bt=function(){var t=this;return t==-(1/0)||1/t<0},Bt.$$arity=0),c&&"negative?"}(l[0],_(l,"Numeric"),l),t.const_set(l[0],"Fixnum",_(l,"Number")),function(e,r,n){function i(){}var a=i=d(e,r,"Integer",i),$=(a.$$proto,[a].concat(n));return a.$$is_number_class=!0,function(e,r){var n,i,a,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_($,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1===0},i.$$arity=1),t.def(e,"$sqrt",a=function(t){var e=this;return t=_($,"Opal")["$coerce_to!"](t,_($,"Integer"),"to_int"),t<0&&e.$raise(f(_($,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},a.$$arity=1),c&&"sqrt"}(t.get_singleton_class(a),$),t.const_set($[0],"MAX",Math.pow(2,30)-1),t.const_set($[0],"MIN",-Math.pow(2,30))}(l[0],_(l,"Numeric"),l),function(e,r,n){function i(){}var a=i=d(e,r,"Float",i),$=(a.$$proto,[a].concat(n));return a.$$is_number_class=!0,function(e,r){var n,i,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(a,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1),c&&"==="}(t.get_singleton_class(a),$),t.const_set($[0],"INFINITY",1/0),t.const_set($[0],"MAX",Number.MAX_VALUE),t.const_set($[0],"MIN",Number.MIN_VALUE),t.const_set($[0],"NAN",NaN),t.const_set($[0],"DIG",15),t.const_set($[0],"MANT_DIG",53),t.const_set($[0],"RADIX",2),t.const_set($[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(l[0],_(l,"Numeric"),l)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,d=(t.breaker,t.slice,t.klass),h=t.truthy,p=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),u.$require("corelib/enumerable"),function(u,l,y){function m(){}var g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B=m=d(u,l,"Range",m),q=B.$$proto,D=[B].concat(y);return q.begin=q.end=q.excl=c,B.$include(_(D,"Enumerable")),q.$$is_range=!0,B.$attr_reader("begin","end"),t.def(B,"$initialize",g=function(t,e,r){var n=this;return null==r&&(r=!1),h(n.begin)&&n.$raise(_(D,"NameError"),"'initialize' called twice"),h(t["$<=>"](e))||n.$raise(_(D,"ArgumentError"),"bad value for range"),n.begin=t,n.end=e,n.excl=r},g.$$arity=-3),t.def(B,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.def(B,"$===",b=function(t){var e=this;return e["$include?"](t)},b.$$arity=1),t.def(B,"$cover?",w=function(t){var n,i=this,a=c,$=c;return a=i.begin["$<=>"](t),!!h(h(n=a)?e(a,0):n)&&($=t["$<=>"](i.end),h(i.excl)?h(n=$)?r($,0):n:h(n=$)?e($,0):n)},w.$$arity=1),t.def(B,"$each",k=function(){var e,n=this,i=k.$$p,a=i||c,$=c,o=c;if(i&&(k.$$p=null),a===c)return n.$enum_for("each");var s,u;if(n.begin.$$is_number&&n.end.$$is_number){for(n.begin%1===0&&n.end%1===0||n.$raise(_(D,"TypeError"),"can't iterate from Float"),s=n.begin,u=n.end+function(){return h(n.excl)?0:1}();s<u;s++)a(s);return n}if(n.begin.$$is_string&&n.end.$$is_string)return p(n.begin,"upto",[n.end,n.excl],a.$to_proc()),n;for($=n.begin,o=n.end,h($["$respond_to?"]("succ"))||n.$raise(_(D,"TypeError"),"can't iterate from "+$.$class());h(r($["$<=>"](o),0));)t.yield1(a,$),$=$.$succ();return h(h(e=n.excl["$!"]())?$["$=="](o):e)&&t.yield1(a,$),n},k.$$arity=0),t.def(B,"$eql?",E=function(t){var e,r,n=this;return!!h(_(D,"Range")["$==="](t))&&(h(e=h(r=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):r)?n.end["$eql?"](t.$end()):e)},E.$$arity=1),t.def(B,"$exclude_end?",x=function(){var t=this;return t.excl},x.$$arity=0),t.def(B,"$first",A=function(e){var r=this,n=A.$$p,i=c,a=c,$=c;for(n&&(A.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(null==e)?r.begin:p(r,t.find_super_dispatcher(r,"first",A,!1),i,n)},A.$$arity=-1),t.alias(B,"include?","cover?"),t.def(B,"$last",O=function(t){var e=this;return h(null==t)?e.end:e.$to_a().$last(t)},O.$$arity=-1),t.def(B,"$max",S=function(){var e,r=this,i=S.$$p,a=i||c,$=c,o=c,s=c;for(i&&(S.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==c?p(r,t.find_super_dispatcher(r,"max",S,!1),$,i):h(n(r.begin,r.end))?c:h(h(e=r.excl)?r.begin["$=="](r.end):e)?c:r.excl?r.end-1:r.end},S.$$arity=0),t.alias(B,"member?","cover?"),t.def(B,"$min",M=function(){var e,r=this,i=M.$$p,a=i||c,$=c,o=c,s=c;for(i&&(M.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==c?p(r,t.find_super_dispatcher(r,"min",M,!1),$,i):h(n(r.begin,r.end))?c:h(h(e=r.excl)?r.begin["$=="](r.end):e)?c:r.begin},M.$$arity=0),t.def(B,"$size",T=function(){var t,e=this,n=c,a=c,$=c;return n=e.begin,a=e.end,h(e.excl)&&(a=i(a,1)),h(h(t=_(D,"Numeric")["$==="](n))?_(D,"Numeric")["$==="](a):t)?h(r(a,n))?0:($=f(_(D,"Float"),"INFINITY"),h([n.$abs(),a.$abs()]["$include?"]($))?$:(Math.abs(a-n)+1).$to_i()):c},T.$$arity=0),t.def(B,"$step",R=function(e){function r(){e.$$is_number||(e=_(D,"Opal")["$coerce_to!"](e,_(D,"Integer"),"to_int")),e<0?y.$raise(_(D,"ArgumentError"),"step can't be negative"):0===e&&y.$raise(_(D,"ArgumentError"),"step can't be 0")}function i(){if(!y.begin["$respond_to?"]("succ"))return c;if(y.begin.$$is_string&&y.end.$$is_string)return c;if(e%1===0)return a(y.$size(),e).$ceil();var t,r=y.begin,n=y.end,i=Math.abs,$=Math.floor,o=(i(r)+i(n)+i(n-r))/i(e)*f(_(D,"Float"),"EPSILON");return o>.5&&(o=.5),y.excl?(t=$((n-r)/e-o),t*e+r<n&&t++):t=$((n-r)/e+o)+1,t}var u,l,d,y=this,m=R.$$p,g=m||c,v=c;return null==e&&(e=1),m&&(R.$$p=null),g===c?p(y,"enum_for",["step",e],(u=function(){u.$$s||this;return r(),i()},u.$$s=y,u.$$arity=0,u)):(r(),h(y.begin.$$is_number&&y.end.$$is_number)?(v=0,function(){var r=t.new_brk();try{return p(y,"loop",[],(l=function(){var i=l.$$s||this,a=c;return null==i.begin&&(i.begin=c),null==i.excl&&(i.excl=c),null==i.end&&(i.end=c),a=$(i.begin,o(v,e)),h(i.excl)?h(s(a,i.end))&&t.brk(c,r):h(n(a,i.end))&&t.brk(c,r),t.yield1(g,a),v=$(v,1)},l.$$s=y,l.$$brk=r,l.$$arity=0,l))}catch(t){if(t===r)return t.$v;throw t}}()):(y.begin.$$is_string&&y.end.$$is_string&&e%1!==0&&y.$raise(_(D,"TypeError"),"no implicit conversion to float from string"),p(y,"each_with_index",[],(d=function(r,n){d.$$s||this;return null==r&&(r=c),null==n&&(n=c),n["$%"](e)["$=="](0)?t.yield1(g,r):c},d.$$s=y,d.$$arity=2,d))),y)},R.$$arity=-1),t.def(B,"$bsearch",I=function(){var t=this,e=I.$$p,r=e||c;return e&&(I.$$p=null),r===c?t.$enum_for("bsearch"):(h(t.begin.$$is_number&&t.end.$$is_number)||t.$raise(_(D,"TypeError"),"can't do binary search for "+t.begin.$class()),p(t.$to_a(),"bsearch",[],r.$to_proc()))},I.$$arity=0),t.def(B,"$to_s",C=function(){var t=this;return""+t.begin+function(){return h(t.excl)?"...":".."}()+t.end},C.$$arity=0),t.def(B,"$inspect",N=function(){var t=this;return""+t.begin.$inspect()+function(){return h(t.excl)?"...":".."}()+t.end.$inspect()},N.$$arity=0),t.def(B,"$marshal_load",z=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},z.$$arity=1),t.def(B,"$hash",P=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},P.$$arity=0),c&&"hash"}(l[0],null,l)},Opal.modules["corelib/proc"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),a=t.klass,$=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,s){function u(){}var l,c,f,_,d,h,p,y,m,g,v=u=a(e,o,"Proc",u),b=v.$$proto,w=[v].concat(s);return b.$$is_proc=!0,b.$$is_lambda=!1,t.defs(v,"$new",l=function(){var t=this,e=l.$$p,i=e||r;return e&&(l.$$p=null),$(i)||t.$raise(n(w,"ArgumentError"),"tried to create a Proc object without a block"),i},l.$$arity=0),t.def(v,"$call",c=function(e){var n,i=this,a=c.$$p,$=a||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];a&&(c.$$p=null),$!==r&&(i.$$p=$);var l,f=i.$$brk;if(f)try{l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n)}catch(t){if(t===f)return f.$v;throw t}else l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n);return l},c.$$arity=-1),t.alias(v,"[]","call"),t.alias(v,"===","call"),t.alias(v,"yield","call"),t.def(v,"$to_proc",f=function(){var t=this;return t},f.$$arity=0),t.def(v,"$lambda?",_=function(){var t=this;return!!t.$$is_lambda},_.$$arity=0),t.def(v,"$arity",d=function(){var t=this;return t.$$is_curried?-1:t.$$arity},d.$$arity=0),t.def(v,"$source_location",h=function(){var t=this;return t.$$is_curried?r:r},h.$$arity=0),t.def(v,"$binding",p=function(){var t=this;return t.$$is_curried&&t.$raise(n(w,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(v,"$parameters",y=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,r,n=[];for(e=0,r=t.$$parameters.length;e<r;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),n.push(i)}return n}return[]},y.$$arity=0),t.def(v,"$curry",m=function(t){function e(){var a,$=i.call(arguments),o=$.length;return o>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?r.$call.apply(r,$):(a=function(){return e.apply(null,$.concat(i.call(arguments)))},a.$$is_lambda=r.$$is_lambda,a.$$is_curried=!0,a)}var r=this;return void 0===t?t=r.length:(t=n(w,"Opal")["$coerce_to!"](t,n(w,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},m.$$arity=-1),t.def(v,"$dup",g=function(){var t=this,e=t.$$original_proc||t,r=function(){return e.apply(this,arguments)};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},g.$$arity=0),t.alias(v,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p,y,m=s=i(e,$,"Method",s),g=m.$$proto,v=[m].concat(o);return g.method=g.receiver=g.owner=g.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",u=function(t,e,r,n){var i=this;return i.receiver=t,i.owner=e,i.name=n,i.method=r},u.$$arity=4),t.def(m,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(m,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",f=function(){var t,e=this;return a(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(m,"$comments",_=function(){var t,e=this;return a(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(m,"$call",d=function(t){var e,n=this,i=d.$$p,a=i||r,$=arguments.length,o=$-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<$;s++)e[s-0]=arguments[s];return i&&(d.$$p=null),n.method.$$p=a,n.method.apply(n.receiver,e)},d.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",h=function(){var t=this;return n(v,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},h.$$arity=0),t.def(m,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.def(m,"$inspect",y=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},y.$$arity=0),r&&"inspect"}(e[0],null,e),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p=s=i(e,$,"UnboundMethod",s),y=p.$$proto,m=[p].concat(o);return y.method=y.owner=y.name=y.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",u=function(t,e,r,n){var i=this;return i.source=t,i.owner=e,i.method=r,i.name=n},u.$$arity=4),t.def(p,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(p,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(p,"$source_location",f=function(){var t,e=this;return a(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(p,"$comments",_=function(){var t,e=this;return a(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(p,"$bind",d=function(e){var r=this;return r.owner.$$is_module||t.is_a(e,r.owner)?n(m,"Method").$new(e,r.owner,r.method,r.name):void r.$raise(n(m,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+r.owner+" to be true)")},d.$$arity=1),t.def(p,"$inspect",h=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},h.$$arity=0),r&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),a=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",a([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,a){var $,o=$=i(e,"Opal"),s=(o.$$proto,[o].concat(a));t.const_set(s[0],"REGEXP_START",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"^":r}()),t.const_set(s[0],"REGEXP_END",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"$":r}()),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",n(s,"Regexp").$new("[^"+n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",n(s,"Regexp").$new(""+n(s,"REGEXP_START")+"(::)?[A-Z][^"+n(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.send,c=t.truthy,f=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,r,n){function i(){}var a,l=i=u(e,r,"String",i),c=(l.$$proto,[l].concat(n));return t.defs(l,"$inherited",a=function(t){var e=$;e=s(c,"Class").$new(o(s(c,"String"),"Wrapper")),t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=o(s(c,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},a.$$arity=1),$&&"inherited"}(a[0],null,a),function(i,a,o){function s(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R=s=u(i,a,"Wrapper",s),I=R.$$proto;[R].concat(o);return I.literal=$,I.$$is_string=!0,t.defs(R,"$allocate",_=function(e){var r=this,n=_.$$p,i=$;return null==e&&(e=""),n&&(_.$$p=null),i=l(r,t.find_super_dispatcher(r,"allocate",_,!1,s),[],null),i.literal=e,i},_.$$arity=-1),t.defs(R,"$new",d=function(e){var r,n=this,i=d.$$p,a=i||$,o=$,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var c=0;c<s;c++)r[c-0]=arguments[c];return i&&(d.$$p=null),o=n.$allocate(),l(o,"initialize",t.to_a(r),a.$to_proc()),o},d.$$arity=-1),t.defs(R,"$[]",h=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$allocate(e)},h.$$arity=-1),t.def(R,"$initialize",p=function(t){var e=this;return null==t&&(t=""),e.literal=t},p.$$arity=-1),t.def(R,"$method_missing",y=function(e){var r,n=this,i=y.$$p,a=i||$,o=$,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var f=0;f<s;f++)r[f-0]=arguments[f];return i&&(y.$$p=null),o=l(n.literal,"__send__",t.to_a(r),a.$to_proc()),c(null!=o.$$is_string)?c(o==n.literal)?n:n.$class().$allocate(o):o},y.$$arity=-1),t.def(R,"$initialize_copy",m=function(t){var e=this;return e.literal=t.literal.$clone()},m.$$arity=1),t.def(R,"$respond_to?",g=function(e,r){var n,i=this,a=g.$$p,o=$,s=$,u=$;for(a&&(g.$$p=null),s=0,u=arguments.length,o=new Array(u);s<u;s++)o[s]=arguments[s];return c(n=l(i,t.find_super_dispatcher(i,"respond_to?",g,!1),o,a))?n:i.literal["$respond_to?"](e)},g.$$arity=-2),t.def(R,"$==",v=function(t){var e=this;return e.literal["$=="](t)},v.$$arity=1),t.alias(R,"eql?","=="),t.alias(R,"===","=="),t.def(R,"$to_s",b=function(){var t=this;return t.literal.$to_s()},b.$$arity=0),t.alias(R,"to_str","to_s"),t.def(R,"$inspect",w=function(){var t=this;return t.literal.$inspect()},w.$$arity=0),t.def(R,"$+",k=function(t){var r=this;return e(r.literal,t)},k.$$arity=1),t.def(R,"$*",E=function(t){var e=this,n=r(e.literal,t);return n.$$is_string?e.$class().$allocate(n):n},E.$$arity=1),t.def(R,"$split",x=function(t,e){var r,n=this;return l(n.literal.$split(t,e),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=$),e.$class().$allocate(t)},r.$$s=n,r.$$arity=1,r))},x.$$arity=-1),t.def(R,"$replace",A=function(t){var e=this;return e.literal=t},A.$$arity=1),t.def(R,"$each_line",O=function(e){var r,n=this,i=O.$$p,a=i||$;return null==f["/"]&&(f["/"]=$),null==e&&(e=f["/"]),i&&(O.$$p=null),a===$?n.$enum_for("each_line",e):l(n.literal,"each_line",[e],(r=function(e){var n=r.$$s||this;return null==e&&(e=$),t.yield1(a,n.$class().$allocate(e))},r.$$s=n,r.$$arity=1,r))},O.$$arity=-1),t.def(R,"$lines",S=function(t){var e=this,r=S.$$p,n=r||$,i=$;return null==f["/"]&&(f["/"]=$),null==t&&(t=f["/"]),r&&(S.$$p=null),i=l(e,"each_line",[t],n.$to_proc()),c(n)?e:i.$to_a()},S.$$arity=-1),t.def(R,"$%",M=function(t){var e=this;return e.literal["$%"](t)},M.$$arity=1),t.def(R,"$instance_variables",T=function(){var e=this,r=T.$$p,i=$,a=$,o=$;for(r&&(T.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return n(l(e,t.find_super_dispatcher(e,"instance_variables",T,!1),i,r),["@literal"])},T.$$arity=0),$&&"instance_variables"}(s(a,"String"),null,a)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,n,i,a,$,o=t.top,s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.klass),_=t.truthy,d=t.send,h=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),o.$require("corelib/string"),function(r,n,i){function a(){}var $,o,s,l,p,y,m,g,v,b,w=a=f(r,n,"Encoding",a),k=w.$$proto,E=[w].concat(i);return k.ascii=k.dummy=k.name=u,w.$$register={},t.defs(w,"$register",$=function(t,r){var n,i,a=this,o=$.$$p,s=o||u,l=u,f=u,p=u;return null==r&&(r=h([],{})),o&&($.$$p=null),l=e([t],_(n=r["$[]"]("aliases"))?n:[]),f=d(c(E,"Class"),"new",[a],s.$to_proc()).$new(t,l,!!_(n=r["$[]"]("ascii"))&&n,!!_(n=r["$[]"]("dummy"))&&n),p=a.$$register,d(l,"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=u),e.$const_set(t.$sub("-","_"),f),p["$$"+t]=f},i.$$s=a,i.$$arity=1,i))},$.$$arity=-2),t.defs(w,"$find",o=function(t){var e,r=this,n=u,i=u;return t["$=="]("default_external")?r.$default_external():(n=r.$$register,i=_(e=n["$$"+t])?e:n["$$"+t.$upcase()],_(i)||r.$raise(c(E,"ArgumentError"),"unknown encoding name - "+t),i)},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);return t.$attr_accessor("default_external")}(t.get_singleton_class(w),E),w.$attr_reader("name","names"),t.def(w,"$initialize",s=function(t,e,r,n){var i=this;return i.name=t,i.names=e,i.ascii=r,i.dummy=n},s.$$arity=4),t.def(w,"$ascii_compatible?",l=function(){var t=this;return t.ascii},l.$$arity=0),t.def(w,"$dummy?",p=function(){var t=this;return t.dummy},p.$$arity=0),t.def(w,"$to_s",y=function(){var t=this;return t.name},y.$$arity=0),t.def(w,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+function(){return _(t.dummy)?" (dummy)":u}()+">"},m.$$arity=0),t.def(w,"$each_byte",g=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},g.$$arity=-1),t.def(w,"$getbyte",v=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},v.$$arity=-1),t.def(w,"$bytesize",b=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=f(t,e,"EncodingError",n);i.$$proto,[i].concat(r);return u}(E[0],c(E,"StandardError"),E),function(t,e,r){function n(){}var i=n=f(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r);return u}(E[0],c(E,"EncodingError"),E)}(s[0],null,s),d(c(s,"Encoding"),"register",["UTF-8",h(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(r.charAt(a)).substr(1).split("%"),l=0,c=s.length;l<c;l++)t.yield1(i,parseInt(s[l],16))}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),u&&"bytesize"},r.$$s=o,r.$$arity=0,r)),d(c(s,"Encoding"),"register",["UTF-16LE"],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},n.$$s=o,n.$$arity=0,n)),d(c(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},i.$$s=o,i.$$arity=0,i)),d(c(s,"Encoding"),"register",["UTF-32LE"],(a=function(){var e,r,n=a.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},a.$$s=o,a.$$arity=0,a)),d(c(s,"Encoding"),"register",["ASCII-8BIT",h(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},$.$$s=o,$.$$arity=0,$)),function(e,r,n){function i(){}var a,$,o,s,_,h,p,y=i=f(e,r,"String",i),m=y.$$proto,g=[y].concat(n);return m.encoding=u,y.$attr_reader("encoding"),String.prototype.encoding=l(c(g,"Encoding"),"UTF_16LE"),t.def(y,"$bytes",a=function(){var t=this;return t.$each_byte().$to_a()},a.$$arity=0),t.def(y,"$bytesize",$=function(){var t=this;return t.encoding.$bytesize(t)},$.$$arity=0),t.def(y,"$each_byte",o=function(){var t=this,e=o.$$p,r=e||u;return e&&(o.$$p=null),r===u?t.$enum_for("each_byte"):(d(t.encoding,"each_byte",[t],r.$to_proc()),t)},o.$$arity=0),t.def(y,"$encode",s=function(t){var e=this;return e.$dup().$force_encoding(t)},s.$$arity=1),t.def(y,"$force_encoding",_=function(t){var e=this;return t===e.encoding?e:(t=c(g,"Opal")["$coerce_to!"](t,c(g,"String"),"to_s"),t=c(g,"Encoding").$find(t),t===e.encoding?e:(e.encoding=t,e))},_.$$arity=1),t.def(y,"$getbyte",h=function(t){var e=this;return e.encoding.$getbyte(e,t)},h.$$arity=1),t.def(y,"$valid_encoding?",p=function(){return!0},p.$$arity=0),u&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var n=(t.top,[]),i=(t.nil,t.const_get_qualified),a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(n,s){var u,l,c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D=u=$(n,"Math"),L=(D.$$proto,[D].concat(s));t.const_set(L[0],"E",Math.E),t.const_set(L[0],"PI",Math.PI),t.const_set(L[0],"DomainError",a(L,"Class").$new(a(L,"StandardError"))),t.defs(D,"$checked",l=function(t,e){var r,n=this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var o=1;o<i;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[t].apply(null,r);return isNaN(s)&&n.$raise(a(L,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),s},l.$$arity=-2),t.defs(D,"$float!",c=function(e){var r=this;try{return r.$Float(e)}catch(n){if(!t.rescue(n,[a(L,"ArgumentError")]))throw n;try{return r.$raise(a(L,"Opal").$type_error(e,a(L,"Float")))}finally{t.pop_exception()}}},c.$$arity=1),t.defs(D,"$integer!",f=function(e){var r=this;try{return r.$Integer(e)}catch(n){if(!t.rescue(n,[a(L,"ArgumentError")]))throw n;try{return r.$raise(a(L,"Opal").$type_error(e,a(L,"Integer")))}finally{t.pop_exception()}}},f.$$arity=1),D.$module_function(),t.def(D,"$acos",_=function(t){return a(L,"Math").$checked("acos",a(L,"Math")["$float!"](t))},_.$$arity=1),o("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(D,"$acosh",d=function(t){return a(L,"Math").$checked("acosh",a(L,"Math")["$float!"](t))},d.$$arity=1),t.def(D,"$asin",h=function(t){return a(L,"Math").$checked("asin",a(L,"Math")["$float!"](t))},h.$$arity=1),o("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(D,"$asinh",p=function(t){return a(L,"Math").$checked("asinh",a(L,"Math")["$float!"](t))},p.$$arity=1),t.def(D,"$atan",y=function(t){return a(L,"Math").$checked("atan",a(L,"Math")["$float!"](t))},y.$$arity=1),t.def(D,"$atan2",m=function(t,e){return a(L,"Math").$checked("atan2",a(L,"Math")["$float!"](t),a(L,"Math")["$float!"](e))},m.$$arity=2),o("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(D,"$atanh",g=function(t){return a(L,"Math").$checked("atanh",a(L,"Math")["$float!"](t))},g.$$arity=1),o("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.def(D,"$cbrt",v=function(t){return a(L,"Math").$checked("cbrt",a(L,"Math")["$float!"](t))},v.$$arity=1),t.def(D,"$cos",b=function(t){return a(L,"Math").$checked("cos",a(L,"Math")["$float!"](t))},b.$$arity=1),o("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(D,"$cosh",w=function(t){return a(L,"Math").$checked("cosh",a(L,"Math")["$float!"](t))},w.$$arity=1),o("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=.254829592,r=-.284496736,n=1.421413741,i=-1.453152027,a=1.061405429,$=.3275911,o=1;t<0&&(o=-1),t=Math.abs(t);var s=1/(1+$*t),u=1-((((a*s+i)*s+n)*s+r)*s+e)*s*Math.exp(-t*t);return o*u}),t.def(D,"$erf",k=function(t){return a(L,"Math").$checked("erf",a(L,"Math")["$float!"](t))},k.$$arity=1),o("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=.17087277*r+-.82215223,i=r*n+1.48851587,a=r*i+-1.13520398,$=r*a+.27886807,o=r*$+-.18628806,s=r*o+.09678418,u=r*s+.37409196,l=r*u+1.00002368,c=r*l,f=-e*e-1.26551223+c,_=r*Math.exp(f);return t<0?2-_:_}),t.def(D,"$erfc",E=function(t){return a(L,"Math").$checked("erfc",a(L,"Math")["$float!"](t))},E.$$arity=1),t.def(D,"$exp",x=function(t){return a(L,"Math").$checked("exp",a(L,"Math")["$float!"](t))},x.$$arity=1),t.def(D,"$frexp",A=function(t){if(t=a(L,"Math")["$float!"](t),isNaN(t))return[NaN,0];
var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1,r=t/Math.pow(2,e);return[r,e]},A.$$arity=1),t.def(D,"$gamma",O=function(t){var r=this;t=a(L,"Math")["$float!"](t);var n,i,$,o,s,u,l,c,f,_=4.7421875,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-(1/0);if(t!==-1&&t!==-(1/0)||r.$raise(a(L,"DomainError"),'Numerical argument is out of domain - "gamma"'),a(L,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(o=t-2,s=t-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*a(L,"Math").$gamma(e(1,t)));if(t>=171.35)return 1/0;if(t>85)return u=t*t,l=u*t,c=l*t,f=c*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*l)-571/(2488320*c)+163879/(209018880*f)+5246819/(75246796800*f*t));for(t-=1,$=d[0],n=1;n<d.length;++n)$+=d[n]/(t+n);return i=t+_+.5,Math.sqrt(2*Math.PI)*Math.pow(i,t+.5)*Math.exp(-i)*$},O.$$arity=1),o("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(D,"$hypot",S=function(t,e){return a(L,"Math").$checked("hypot",a(L,"Math")["$float!"](t),a(L,"Math")["$float!"](e))},S.$$arity=2),t.def(D,"$ldexp",M=function(t,e){var r=this;return t=a(L,"Math")["$float!"](t),e=a(L,"Math")["$integer!"](e),isNaN(e)&&r.$raise(a(L,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},M.$$arity=2),t.def(D,"$lgamma",T=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs(a(L,"Math").$gamma(t))),a(L,"Math").$gamma(t)<0?-1:1]},T.$$arity=1),t.def(D,"$log",R=function(t,e){var n=this;return o(a(L,"String")["$==="](t))&&n.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),o(null==e)?a(L,"Math").$checked("log",a(L,"Math")["$float!"](t)):(o(a(L,"String")["$==="](e))&&n.$raise(a(L,"Opal").$type_error(e,a(L,"Float"))),r(a(L,"Math").$checked("log",a(L,"Math")["$float!"](t)),a(L,"Math").$checked("log",a(L,"Math")["$float!"](e))))},R.$$arity=-2),o("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(D,"$log10",I=function(t){var e=this;return o(a(L,"String")["$==="](t))&&e.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),a(L,"Math").$checked("log10",a(L,"Math")["$float!"](t))},I.$$arity=1),o("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(D,"$log2",C=function(t){var e=this;return o(a(L,"String")["$==="](t))&&e.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),a(L,"Math").$checked("log2",a(L,"Math")["$float!"](t))},C.$$arity=1),t.def(D,"$sin",N=function(t){return a(L,"Math").$checked("sin",a(L,"Math")["$float!"](t))},N.$$arity=1),o("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(D,"$sinh",z=function(t){return a(L,"Math").$checked("sinh",a(L,"Math")["$float!"](t))},z.$$arity=1),t.def(D,"$sqrt",P=function(t){return a(L,"Math").$checked("sqrt",a(L,"Math")["$float!"](t))},P.$$arity=1),t.def(D,"$tan",B=function(t){return t=a(L,"Math")["$float!"](t),o(t["$infinite?"]())?i(a(L,"Float"),"NAN"):a(L,"Math").$checked("tan",a(L,"Math")["$float!"](t))},B.$$arity=1),o("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(D,"$tanh",q=function(t){return a(L,"Math").$checked("tanh",a(L,"Math")["$float!"](t))},q.$$arity=1)}(n[0],n)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),$.$require("corelib/numeric"),function($,o,_){function d(){}var h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y=d=c($,o,"Complex",d),W=Y.$$proto,K=[Y].concat(_);return W.real=W.imag=s,t.defs(Y,"$rect",h=function(t,e){var r,n,i,a=this;return null==e&&(e=0),f(f(r=f(n=f(i=l(K,"Numeric")["$==="](t))?t["$real?"]():i)?l(K,"Numeric")["$==="](e):n)?e["$real?"]():r)||a.$raise(l(K,"TypeError"),"not a real"),a.$new(t,e)},h.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"rectangular","rect")}(t.get_singleton_class(Y),K),t.defs(Y,"$polar",p=function(t,r){var n,i,a,$=this;return null==r&&(r=0),f(f(n=f(i=f(a=l(K,"Numeric")["$==="](t))?t["$real?"]():a)?l(K,"Numeric")["$==="](r):i)?r["$real?"]():n)||$.$raise(l(K,"TypeError"),"not a real"),$.$new(e(t,l(K,"Math").$cos(r)),e(t,l(K,"Math").$sin(r)))},p.$$arity=-2),Y.$attr_reader("real","imag"),t.def(Y,"$initialize",y=function(t,e){var r=this;return null==e&&(e=0),r.real=t,r.imag=e},y.$$arity=-2),t.def(Y,"$coerce",m=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?[t,r]:f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?[l(K,"Complex").$new(t,0),r]:r.$raise(l(K,"TypeError"),""+t.$class()+" can't be coerced into Complex")},m.$$arity=1),t.def(Y,"$==",g=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?(e=r.real["$=="](t.$real()))?r.imag["$=="](t.$imag()):r.real["$=="](t.$real()):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?(e=r.real["$=="](t))?r.imag["$=="](0):r.real["$=="](t):t["$=="](r)},g.$$arity=1),t.def(Y,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.def(Y,"$+",b=function(t){var e,n=this;return f(l(K,"Complex")["$==="](t))?n.$Complex(r(n.real,t.$real()),r(n.imag,t.$imag())):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?n.$Complex(r(n.real,t),n.imag):n.$__coerced__("+",t)},b.$$arity=1),t.def(Y,"$-",w=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?r.$Complex(n(r.real,t.$real()),n(r.imag,t.$imag())):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?r.$Complex(n(r.real,t),r.imag):r.$__coerced__("-",t)},w.$$arity=1),t.def(Y,"$*",k=function(t){var i,a=this;return f(l(K,"Complex")["$==="](t))?a.$Complex(n(e(a.real,t.$real()),e(a.imag,t.$imag())),r(e(a.real,t.$imag()),e(a.imag,t.$real()))):f(f(i=l(K,"Numeric")["$==="](t))?t["$real?"]():i)?a.$Complex(e(a.real,t),e(a.imag,t)):a.$__coerced__("*",t)},k.$$arity=1),t.def(Y,"$/",E=function(t){var r,n,a,$,o=this;return f(l(K,"Complex")["$==="](t))?f(f(r=f(n=f(a=f($=l(K,"Number")["$==="](o.real))?o.real["$nan?"]():$)?a:f($=l(K,"Number")["$==="](o.imag))?o.imag["$nan?"]():$)?n:f(a=l(K,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():a)?r:f(n=l(K,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?l(K,"Complex").$new(u(l(K,"Float"),"NAN"),u(l(K,"Float"),"NAN")):i(e(o,t.$conj()),t.$abs2()):f(f(r=l(K,"Numeric")["$==="](t))?t["$real?"]():r)?o.$Complex(o.real.$quo(t),o.imag.$quo(t)):o.$__coerced__("/",t)},E.$$arity=1),t.def(Y,"$**",x=function($){var o,u,c,_,d=this,h=s,p=s,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s;if($["$=="](0))return l(K,"Complex").$new(1,0);if(f(l(K,"Complex")["$==="]($)))return u=d.$polar(),o=t.to_ary(u),h=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,y=$.$real(),m=$.$imag(),g=l(K,"Math").$exp(n(e(y,l(K,"Math").$log(h)),e(m,p))),v=r(e(p,y),e(m,l(K,"Math").$log(h))),l(K,"Complex").$polar(g,v);if(f(l(K,"Integer")["$==="]($))){if(f(a($,0))){for(b=d,w=b,k=n($,1);f(k["$!="](0));){for(c=k.$divmod(2),u=t.to_ary(c),E=null==u[0]?s:u[0],x=null==u[1]?s:u[1],c;x["$=="](0);)b=d.$Complex(n(e(b.$real(),b.$real()),e(b.$imag(),b.$imag())),e(e(2,b.$real()),b.$imag())),k=E,_=k.$divmod(2),c=t.to_ary(_),E=null==c[0]?s:c[0],x=null==c[1]?s:c[1],_;w=e(w,b),k=n(k,1)}return w}return i(l(K,"Rational").$new(1,1),d)["$**"]($["$-@"]())}return f(f(o=l(K,"Float")["$==="]($))?o:l(K,"Rational")["$==="]($))?(u=d.$polar(),o=t.to_ary(u),h=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,l(K,"Complex").$polar(h["$**"]($),e(p,$))):d.$__coerced__("**",$)},x.$$arity=1),t.def(Y,"$abs",A=function(){var t=this;return l(K,"Math").$hypot(t.real,t.imag)},A.$$arity=0),t.def(Y,"$abs2",O=function(){var t=this;return r(e(t.real,t.real),e(t.imag,t.imag))},O.$$arity=0),t.def(Y,"$angle",S=function(){var t=this;return l(K,"Math").$atan2(t.imag,t.real)},S.$$arity=0),t.alias(Y,"arg","angle"),t.def(Y,"$conj",M=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},M.$$arity=0),t.alias(Y,"conjugate","conj"),t.def(Y,"$denominator",T=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},T.$$arity=0),t.alias(Y,"divide","/"),t.def(Y,"$eql?",R=function(t){var e,r,n=this;return f(e=f(r=l(K,"Complex")["$==="](t))?n.real.$class()["$=="](n.imag.$class()):r)?n["$=="](t):e},R.$$arity=1),t.def(Y,"$fdiv",I=function(t){var e=this;return f(l(K,"Numeric")["$==="](t))||e.$raise(l(K,"TypeError"),""+t.$class()+" can't be coerced into Complex"),i(e,t)},I.$$arity=1),t.def(Y,"$finite?",C=function(){var t,e=this;return f(t=e.real["$finite?"]())?e.imag["$finite?"]():t},C.$$arity=0),t.def(Y,"$hash",N=function(){var t=this;return"Complex:"+t.real+":"+t.imag},N.$$arity=0),t.alias(Y,"imaginary","imag"),t.def(Y,"$infinite?",z=function(){var t,e=this;return f(t=e.real["$infinite?"]())?t:e.imag["$infinite?"]()},z.$$arity=0),t.def(Y,"$inspect",P=function(){var t=this;return"("+t+")"},P.$$arity=0),t.alias(Y,"magnitude","abs"),t.udef(Y,"$negative?"),t.def(Y,"$numerator",B=function(){var t=this,r=s;return r=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(r,t.real.$denominator())),e(t.imag.$numerator(),i(r,t.imag.$denominator())))},B.$$arity=0),t.alias(Y,"phase","arg"),t.def(Y,"$polar",q=function(){var t=this;return[t.$abs(),t.$arg()]},q.$$arity=0),t.udef(Y,"$positive?"),t.alias(Y,"quo","/"),t.def(Y,"$rationalize",D=function(t){var e=this;return arguments.length>1&&e.$raise(l(K,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f(e.imag["$!="](0))&&e.$raise(l(K,"RangeError"),"can't' convert "+e+" into Rational"),e.$real().$rationalize(t)},D.$$arity=-1),t.def(Y,"$real?",L=function(){return!1},L.$$arity=0),t.def(Y,"$rect",F=function(){var t=this;return[t.real,t.imag]},F.$$arity=0),t.alias(Y,"rectangular","rect"),t.def(Y,"$to_f",j=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},j.$$arity=0),t.def(Y,"$to_i",U=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},U.$$arity=0),t.def(Y,"$to_r",H=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},H.$$arity=0),t.def(Y,"$to_s",G=function(){var t,e,n,i=this,a=s;return a=i.real.$inspect(),a=r(a,function(){return f(f(t=f(e=f(n=l(K,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"}()),a=r(a,i.imag.$abs().$inspect()),f(f(t=l(K,"Number")["$==="](i.imag))?f(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&(a=r(a,"*")),r(a,"i")},G.$$arity=0),t.const_set(K[0],"I",Y.$new(0,1))}(o[0],l(o,"Numeric"),o),function(e,r){var n,i,a=n=_(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$Complex",i=function(t,e){return null==e&&(e=s),f(e)?l($,"Complex").$new(t,e):l($,"Complex").$new(t,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,u=[],l=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.klass),d=t.truthy,h=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,u,h){function p(){}var y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U=p=_(s,u,"Rational",p),H=U.$$proto,G=[U].concat(h);return H.num=H.den=l,t.defs(U,"$reduce",y=function(t,n){var i=this,a=l;if(t=t.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(f(G,"ZeroDivisionError"),"divided by 0");else if(d(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return i.$new(t,n);return a=t.$gcd(n),i.$new(r(t,a),r(n,a))},y.$$arity=2),t.defs(U,"$convert",m=function(t,e){var n,i,a=this;return d(d(n=t["$nil?"]())?n:e["$nil?"]())&&a.$raise(f(G,"TypeError"),"cannot convert nil into Rational"),d(d(n=f(G,"Integer")["$==="](t))?f(G,"Integer")["$==="](e):n)?a.$reduce(t,e):(d(d(n=d(i=f(G,"Float")["$==="](t))?i:f(G,"String")["$==="](t))?n:f(G,"Complex")["$==="](t))&&(t=t.$to_r()),d(d(n=d(i=f(G,"Float")["$==="](e))?i:f(G,"String")["$==="](e))?n:f(G,"Complex")["$==="](e))&&(e=e.$to_r()),d(d(n=e["$equal?"](1))?f(G,"Integer")["$==="](t)["$!"]():n)?f(G,"Opal")["$coerce_to!"](t,f(G,"Rational"),"to_r"):d(d(n=f(G,"Numeric")["$==="](t))?f(G,"Numeric")["$==="](e):n)?r(t,e):a.$reduce(t,e))},m.$$arity=2),t.def(U,"$initialize",g=function(t,e){var r=this;return r.num=t,r.den=e},g.$$arity=2),t.def(U,"$numerator",v=function(){var t=this;return t.num},v.$$arity=0),t.def(U,"$denominator",b=function(){var t=this;return t.den},b.$$arity=0),t.def(U,"$coerce",w=function(t){var e=this,r=l;return function(){return r=t,f(G,"Rational")["$==="](r)?[t,e]:f(G,"Integer")["$==="](r)?[t.$to_r(),e]:f(G,"Float")["$==="](r)?[t,e.$to_f()]:l}()},w.$$arity=1),t.def(U,"$==",k=function(t){var e,r=this,n=l;return function(){return n=t,f(G,"Rational")["$==="](n)?(e=r.num["$=="](t.$numerator()))?r.den["$=="](t.$denominator()):r.num["$=="](t.$numerator()):f(G,"Integer")["$==="](n)?(e=r.num["$=="](t))?r.den["$=="](1):r.num["$=="](t):f(G,"Float")["$==="](n)?r.$to_f()["$=="](t):t["$=="](r)}()},k.$$arity=1),t.def(U,"$<=>",E=function(t){var e=this,r=l;return function(){return r=t,f(G,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):f(G,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):f(G,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)}()},E.$$arity=1),t.def(U,"$+",x=function(t){var e=this,r=l,n=l,$=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=a(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(n,$)):f(G,"Integer")["$==="](r)?e.$Rational(a(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?a(e.$to_f(),t):e.$__coerced__("+",t)}()},x.$$arity=1),t.def(U,"$-",A=function(t){var e=this,r=l,a=l,$=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(a=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(a,$)):f(G,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)}()},A.$$arity=1),t.def(U,"$*",O=function(t){var e=this,r=l,n=l,a=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),a=i(e.den,t.$denominator()),e.$Rational(n,a)):f(G,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):f(G,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)}()},O.$$arity=1),t.def(U,"$/",S=function(t){var e=this,n=l,a=l,$=l;return function(){return n=t,f(G,"Rational")["$==="](n)?(a=i(e.num,t.$denominator()),$=i(e.den,t.$numerator()),e.$Rational(a,$)):f(G,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):f(G,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)}()},S.$$arity=1),t.def(U,"$**",M=function(t){var r,n=this,i=l;return function(){return i=t,f(G,"Integer")["$==="](i)?d((r=n["$=="](0))?e(t,0):n["$=="](0))?c(f(G,"Float"),"INFINITY"):d($(t,0))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):d(e(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):f(G,"Float")["$==="](i)?n.$to_f()["$**"](t):f(G,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?d(e(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):d((r=n["$=="](0))?e(t,0):n["$=="](0))?n.$raise(f(G,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)}()},M.$$arity=1),t.def(U,"$abs",T=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},T.$$arity=0),t.def(U,"$ceil",R=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},R.$$arity=-1),t.alias(U,"divide","/"),t.def(U,"$floor",I=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},I.$$arity=-1),t.def(U,"$hash",C=function(){var t=this;return"Rational:"+t.num+":"+t.den},C.$$arity=0),t.def(U,"$inspect",N=function(){var t=this;return"("+t+")"},N.$$arity=0),t.alias(U,"quo","/"),t.def(U,"$rationalize",z=function(t){var e=this;if(arguments.length>1&&e.$raise(f(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return e;for(var i,$,s,u,l,c=t.$abs(),_=n(e,c),d=a(e,c),h=0,p=1,y=1,m=0;;){if(s=_.$ceil(),o(s,d))break;u=s-1,i=u*p+h,$=u*m+y,l=r(1,n(d,u)),d=r(1,n(_,u)),_=l,h=p,y=m,p=i,m=$}return e.$Rational(s*p+h,s*m+y)},z.$$arity=-1),t.def(U,"$round",P=function(t){var n=this,$=l,o=l,s=l;return null==t&&(t=0),t["$=="](0)?n.num["$=="](0)?0:n.den["$=="](1)?n.num:($=a(i(n.num.$abs(),2),n.den),o=i(n.den,2),s=r($,o).$truncate(),d(e(n.num,0))?s["$-@"]():s):n.$with_precision("round",t)},P.$$arity=-1),t.def(U,"$to_f",B=function(){var t=this;return r(t.num,t.den)},B.$$arity=0),t.def(U,"$to_i",q=function(){var t=this;return t.$truncate()},q.$$arity=0),t.def(U,"$to_r",D=function(){var t=this;return t},D.$$arity=0),t.def(U,"$to_s",L=function(){var t=this;return""+t.num+"/"+t.den},L.$$arity=0),t.def(U,"$truncate",F=function(t){var r=this;return null==t&&(t=0),t["$=="](0)?d(e(r.num,0))?r.$ceil():r.$floor():r.$with_precision("truncate",t)},F.$$arity=-1),t.def(U,"$with_precision",j=function(t,n){var a=this,$=l,o=l;return d(f(G,"Integer")["$==="](n))||a.$raise(f(G,"TypeError"),"not an Integer"),$=10["$**"](n),o=i(a,$),d(e(n,1))?r(o.$send(t),$).$to_i():a.$Rational(o.$send(t),$)},j.$$arity=2),l&&"with_precision"}(u[0],f(u,"Numeric"),u),function(e,r){var n,i,a=n=h(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$Rational",i=function(t,e){return null==e&&(e=1),f($,"Rational").$convert(t,e)},i.$$arity=-2)}(u[0],u)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],u=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice),f=t.klass,_=t.truthy,d=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,h){function p(){}function y(t,e,r,n,i,a){if(t=t.$$is_string?parseInt(t,10):l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"),e===u)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int");return(e<1||e>12)&&$t.$raise(l(ot,"ArgumentError"),"month out of range: "+e),e-=1,r=r===u?1:r.$$is_string?parseInt(r,10):l(ot,"Opal")["$coerce_to!"](r,l(ot,"Integer"),"to_int"),(r<1||r>31)&&$t.$raise(l(ot,"ArgumentError"),"day out of range: "+r),n=n===u?0:n.$$is_string?parseInt(n,10):l(ot,"Opal")["$coerce_to!"](n,l(ot,"Integer"),"to_int"),(n<0||n>24)&&$t.$raise(l(ot,"ArgumentError"),"hour out of range: "+n),i=i===u?0:i.$$is_string?parseInt(i,10):l(ot,"Opal")["$coerce_to!"](i,l(ot,"Integer"),"to_int"),(i<0||i>59)&&$t.$raise(l(ot,"ArgumentError"),"min out of range: "+i),a===u?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):l(ot,"Opal")["$coerce_to!"](a,l(ot,"Integer"),"to_int")),(a<0||a>60)&&$t.$raise(l(ot,"ArgumentError"),"sec out of range: "+a),[t,e,r,n,i,a]}var m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t=p=f(o,s,"Time",p),ot=($t.$$proto,[$t].concat(h));$t.$include(l(ot,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ut=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs($t,"$at",m=function(t,e){var r,n=this;return l(ot,"Time")["$==="](t)?(void 0!==e&&n.$raise(l(ot,"TypeError"),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},m.$$arity=-2),t.defs($t,"$new",g=function(t,e,r,n,i,a,$){var o=this;null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u);var s,c;return void 0===t?new Date:($!==u&&o.$raise(l(ot,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),s=y(t,e,r,n,i,a),t=s[0],e=s[1],r=s[2],n=s[3],i=s[4],a=s[5],c=new Date(t,e,r,n,i,0,1e3*a),t<100&&c.setFullYear(t),c)},g.$$arity=-1),t.defs($t,"$local",v=function(t,e,r,n,i,a,$,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],a=f[0]),f=y(t,e,r,n,i,a),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],a=f[5],_=new Date(t,e,r,n,i,0,1e3*a),t<100&&_.setFullYear(t),_},v.$$arity=-2),t.defs($t,"$gm",b=function(t,e,r,n,i,a,$,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],a=f[0]),f=y(t,e,r,n,i,a),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],a=f[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*a)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},b.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class($t),ot),t.defs($t,"$now",w=function(){var t=this;return t.$new()},w.$$arity=0),t.def($t,"$+",k=function(t){var e=this;_(l(ot,"Time")["$==="](t))&&e.$raise(l(ot,"TypeError"),"time + time?"),t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()+1e3*t);return r.is_utc=e.is_utc,r},k.$$arity=1),t.def($t,"$-",E=function(t){var e=this;if(_(l(ot,"Time")["$==="](t)))return(e.getTime()-t.getTime())/1e3;t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()-1e3*t);return r.is_utc=e.is_utc,r},E.$$arity=1),t.def($t,"$<=>",x=function(t){var n=this,i=u;return _(l(ot,"Time")["$==="](t))?n.$to_f()["$<=>"](t.$to_f()):(i=t["$<=>"](n),_(i["$nil?"]())?u:_(e(i,0))?-1:_(r(i,0))?1:0)},x.$$arity=1),t.def($t,"$==",A=function(t){var e,r=this;return _(e=l(ot,"Time")["$==="](t))?r.$to_f()===t.$to_f():e},A.$$arity=1),t.def($t,"$asctime",O=function(){var t=this;return t.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias($t,"ctime","asctime"),t.def($t,"$day",S=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},S.$$arity=0),t.def($t,"$yday",M=function(){var t=this,e=u,r=u,$=u;return e=l(ot,"Time").$new(t.$year()).$to_i(),r=l(ot,"Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),$=86400,n(i(a(r,e),$).$round(),1)},M.$$arity=0),t.def($t,"$isdst",T=function(){var t=this,e=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),r.getTimezoneOffset())},T.$$arity=0),t.alias($t,"dst?","isdst"),t.def($t,"$dup",R=function(){var t=this,e=u;return e=new Date(t.getTime()),e.$copy_instance_variables(t),e.$initialize_dup(t),e},R.$$arity=0),t.def($t,"$eql?",I=function(t){var e,r=this;return _(e=t["$is_a?"](l(ot,"Time")))?r["$<=>"](t)["$zero?"]():e},I.$$arity=1),t.def($t,"$friday?",C=function(){var t=this;return 5==t.$wday()},C.$$arity=0),t.def($t,"$hash",N=function(){var t=this;return"Time:"+t.getTime()},N.$$arity=0),t.def($t,"$hour",z=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},z.$$arity=0),t.def($t,"$inspect",P=function(){var t=this;return _(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},P.$$arity=0),t.alias($t,"mday","day"),t.def($t,"$min",B=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},B.$$arity=0),t.def($t,"$mon",q=function(){var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},q.$$arity=0),t.def($t,"$monday?",D=function(){var t=this;return 1==t.$wday()},D.$$arity=0),t.alias($t,"month","mon"),t.def($t,"$saturday?",L=function(){var t=this;return 6==t.$wday()},L.$$arity=0),t.def($t,"$sec",F=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},F.$$arity=0),t.def($t,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.def($t,"$usec",U=function(){var t=this;return 1e3*t.getMilliseconds()},U.$$arity=0),t.def($t,"$zone",H=function(){var t,e=this,r=e.toString();return t=r.indexOf("(")==-1?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==t&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t},H.$$arity=0),t.def($t,"$getgm",G=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},G.$$arity=0),t.alias($t,"getutc","getgm"),t.def($t,"$gmtime",Y=function(){var t=this;return t.is_utc=!0,t},Y.$$arity=0),t.alias($t,"utc","gmtime"),t.def($t,"$gmt?",W=function(){var t=this;return t.is_utc===!0},W.$$arity=0),t.def($t,"$gmt_offset",K=function(){var t=this;return 60*-t.getTimezoneOffset()},K.$$arity=0),t.def($t,"$strftime",X=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,a){var $="",o=r.indexOf("0")!==-1,s=r.indexOf("-")===-1,u=r.indexOf("_")!==-1,l=r.indexOf("^")!==-1,c=r.indexOf("#")!==-1,f=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&u&&(r.indexOf("0")<r.indexOf("_")?o=!1:u=!1),a){case"Y":$+=e.$year();break;case"C":o=!u,$+=Math.round(e.$year()/100);break;case"y":o=!u,$+=e.$year()%100;break;case"m":o=!u,$+=e.$mon();break;case"B":$+=ct[e.$mon()-1];break;case"b":case"h":u=!o,$+=lt[e.$mon()-1];break;case"d":o=!u,$+=e.$day();break;case"e":u=!o,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":o=!u,$+=e.$hour();break;case"k":u=!o,$+=e.$hour();break;case"I":o=!u,$+=e.$hour()%12||12;break;case"l":u=!o,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":o=!u,$+=e.$min();break;case"S":o=!u,$+=e.$sec();break;case"L":o=!u,n=isNaN(n)?3:n,$+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,$+=e.getMilliseconds().toString().$rjust(3,"0"),$=$.$ljust(n,"0");break;case"z":var _=e.getTimezoneOffset(),h=Math.floor(Math.abs(_)/60),p=Math.abs(_)%60;$+=_<0?"+":"-",$+=h<10?"0":"",$+=h,f>0&&($+=":"),$+=p<10?"0":"",$+=p,f>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=st[e.$wday()];break;case"a":$+=ut[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return l&&($=$.toUpperCase()),c&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||u)&&($=$.$rjust(isNaN(n)?2:n,u?" ":"0")),$})},X.$$arity=1),t.def($t,"$sunday?",V=function(){var t=this;return 0==t.$wday()},V.$$arity=0),t.def($t,"$thursday?",J=function(){var t=this;return 4==t.$wday()},J.$$arity=0),t.def($t,"$to_a",Z=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},Z.$$arity=0),t.def($t,"$to_f",Q=function(){var t=this;return t.getTime()/1e3},Q.$$arity=0),t.def($t,"$to_i",tt=function(){var t=this;return parseInt(t.getTime()/1e3,10)},tt.$$arity=0),t.alias($t,"to_s","inspect"),t.def($t,"$tuesday?",et=function(){var t=this;return 2==t.$wday()},et.$$arity=0),t.alias($t,"tv_sec","to_i"),t.alias($t,"tv_usec","usec"),t.alias($t,"utc?","gmt?"),t.alias($t,"gmtoff","gmt_offset"),t.alias($t,"utc_offset","gmt_offset"),t.def($t,"$wday",rt=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},rt.$$arity=0),t.def($t,"$wednesday?",nt=function(){var t=this;return 3==t.$wday()},nt.$$arity=0),t.def($t,"$year",it=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},it.$$arity=0),t.def($t,"$cweek_cyear",at=function(){var t,e=this,r=u,o=u,s=u,c=u,f=u,d=u,h=u,p=u;return r=l(ot,"Time").$new(e.$year(),1,1),o=r.$wday(),s=0,c=e.$year(),_(_(t=$(o,4))?o["$!="](0):t)?f=a(o,1):(f=a(a(o,7),1),f["$=="](-8)&&(f=-1)),d=i(n(e.$yday(),f),7).$ceil(),_($(d,0))?l(ot,"Time").$new(a(e.$year(),1),12,31).$cweek_cyear():(d["$=="](53)&&(h=l(ot,"Time").$new(e.$year(),12,31),p=h.$wday(),_(_(t=$(p,3))?p["$!="](0):t)&&(d=1,c=n(c,1))),[d,c])},at.$$arity=0),u&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],s=t.nil,u=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.send,_=t.hash2;
return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),$.$require("corelib/enumerable"),function($,o,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z=h=l($,o,"Struct",h),P=(z.$$proto,[z].concat(d));return z.$include(u(P,"Enumerable")),t.defs(z,"$new",p=function(e,r,n){var i,a,$,o,l,d=this,h=p.$$p,y=h||s,m=s;if($=t.slice.call(arguments,1,arguments.length),n=t.extract_kwargs($),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=_([],{})}if(o=n.$$smap.keyword_init,null==o&&(o=!1),l=0<$.length?$.splice(0,$.length-0):[],h&&(p.$$p=null),c(e))try{e=u(P,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[u(P,"TypeError"),u(P,"NameError")]))throw r;try{l.$unshift(e),e=s}finally{t.pop_exception()}}return f(l,"map",[],(i=function(t){i.$$s||this;return null==t&&(t=s),u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str")},i.$$s=d,i.$$arity=1,i)),m=f(u(P,"Class"),"new",[d],(a=function(){var e,r=a.$$s||this;return f(l,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){var n;e.$$proto,[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i=n.$allocate(),i.$$data={},f(i,"initialize",t.to_a(r)),i},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),P)},a.$$s=d,a.$$arity=0,a)),c(y)&&f(m,"module_eval",[],y.$to_proc()),m.$$keyword_init=o,c(e)&&u(P,"Struct").$const_set(e,m),m},p.$$arity=-2),t.defs(z,"$define_struct_attribute",y=function(t){var e,r,n=this;return n["$=="](u(P,"Struct"))&&n.$raise(u(P,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),f(n,"define_method",[t],(e=function(){var r=e.$$s||this;return r.$$data[t]},e.$$s=n,e.$$arity=0,e)),f(n,"define_method",[""+t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=n,r.$$arity=1,r))},y.$$arity=1),t.defs(z,"$members",m=function(){var t,e=this;return null==e.members&&(e.members=s),e["$=="](u(P,"Struct"))&&e.$raise(u(P,"ArgumentError"),"the Struct class has no members"),e.members=c(t=e.members)?t:[]},m.$$arity=0),t.defs(z,"$inherited",g=function(t){var e,r=this,n=s;return null==r.members&&(r.members=s),n=r.members,f(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return t.members=n},e.$$s=r,e.$$arity=0,e))},g.$$arity=1),t.def(z,"$initialize",v=function(n){var i,a,$,o,l=this,d=s,h=s,p=arguments.length,y=p-0;y<0&&(y=0),o=new Array(y);for(var m=0;m<p;m++)o[m-0]=arguments[m];return c(l.$class().$$keyword_init)?(d=c(i=o.$last())?i:_([],{}),c(c(i=e(o.$length(),1))?i:1===o.length&&!d.$$is_hash)&&l.$raise(u(P,"ArgumentError"),"wrong number of arguments (given "+o.$length()+", expected 0)"),h=r(d.$keys(),l.$class().$members()),c(h["$any?"]())&&l.$raise(u(P,"ArgumentError"),"unknown keywords: "+h.$join(", ")),f(l.$class().$members(),"each",[],(a=function(e){var n=a.$$s||this,i=s;return null==e&&(e=s),i=[e,d["$[]"](e)],f(n,"[]=",t.to_a(i)),i[r(i.length,1)]},a.$$s=l,a.$$arity=1,a))):(c(e(o.$length(),l.$class().$members().$length()))&&l.$raise(u(P,"ArgumentError"),"struct size differs"),f(l.$class().$members(),"each_with_index",[],($=function(e,n){var i=$.$$s||this,a=s;return null==e&&(e=s),null==n&&(n=s),a=[e,o["$[]"](n)],f(i,"[]=",t.to_a(a)),a[r(a.length,1)]},$.$$s=l,$.$$arity=2,$)))},v.$$arity=-1),t.def(z,"$members",b=function(){var t=this;return t.$class().$members()},b.$$arity=0),t.def(z,"$hash",w=function(){var t=this;return u(P,"Hash").$new(t.$$data).$hash()},w.$$arity=0),t.def(z,"$[]",k=function(t){var e=this;return c(u(P,"Integer")["$==="](t))?(c(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(u(P,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),c(i(t,e.$class().$members().$size()))&&e.$raise(u(P,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):c(u(P,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(u(P,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(u(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str"),e.$$data[t]},k.$$arity=1),t.def(z,"$[]=",E=function(t,e){var r=this;return c(u(P,"Integer")["$==="](t))?(c(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(u(P,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),c(i(t,r.$class().$members().$size()))&&r.$raise(u(P,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):c(u(P,"String")["$==="](t))?c(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(u(P,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(u(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str"),r.$$data[t]=e},E.$$arity=2),t.def(z,"$==",x=function(t){function e(t,r){var a,$,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for(a in t.$$data)if($=t.$$data[a],o=r.$$data[a],u(P,"Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&i.hasOwnProperty(o.$__id__())||e($,o)))return!1}else if(!$["$=="](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},x.$$arity=1),t.def(z,"$eql?",A=function(t){function e(t,r){var a,$,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for(a in t.$$data)if($=t.$$data[a],o=r.$$data[a],u(P,"Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&i.hasOwnProperty(o.$__id__())||e($,o)))return!1}else if(!$["$eql?"](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},A.$$arity=1),t.def(z,"$each",O=function(){var e,r,n=this,i=O.$$p,a=i||s;return i&&(O.$$p=null),a===s?f(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(a,n["$[]"](e))},r.$$s=n,r.$$arity=1,r)),n)},O.$$arity=0),t.def(z,"$each_pair",S=function(){var e,r,n=this,i=S.$$p,a=i||s;return i&&(S.$$p=null),a===s?f(n,"enum_for",["each_pair"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(a,[e,n["$[]"](e)])},r.$$s=n,r.$$arity=1,r)),n)},S.$$arity=0),t.def(z,"$length",M=function(){var t=this;return t.$class().$members().$length()},M.$$arity=0),t.alias(z,"size","length"),t.def(z,"$to_a",T=function(){var t,e=this;return f(e.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=e,t.$$arity=1,t))},T.$$arity=0),t.alias(z,"values","to_a"),t.def(z,"$inspect",R=function(){var t,e,r=this,n=s;return n="#<struct ",c(c(t=u(P,"Struct")["$==="](r))?r.$class().$name():t)&&(n=a(n,""+r.$class()+" ")),n=a(n,f(r.$each_pair(),"map",[],(e=function(t,r){e.$$s||this;return null==t&&(t=s),null==r&&(r=s),""+t+"="+r.$inspect()},e.$$s=r,e.$$arity=2,e)).$join(", ")),n=a(n,">")},R.$$arity=0),t.alias(z,"to_s","inspect"),t.def(z,"$to_h",I=function(){var e,n=this;return f(n.$class().$members(),"each_with_object",[_([],{})],(e=function(n,i){var a=e.$$s||this,$=s;return null==n&&(n=s),null==i&&(i=s),$=[n,a["$[]"](n)],f(i,"[]=",t.to_a($)),$[r($.length,1)]},e.$$s=n,e.$$arity=2,e))},I.$$arity=0),t.def(z,"$values_at",C=function(t){var e,r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];r=f(r,"map",[],(e=function(t){e.$$s||this;return null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=n,e.$$arity=1,e)).$flatten();for(var o=[],l=0,c=r.length;l<c;l++)r[l].$$is_number||n.$raise(u(P,"TypeError"),"no implicit conversion of "+r[l].$class()+" into Integer"),o.push(n["$[]"](r[l]));return o},C.$$arity=-1),t.def(z,"$dig",N=function(e,r){var n,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<$;l++)n[l-1]=arguments[l];return a=function(){return c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s}(),a===s||0===n.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(u(P,"TypeError"),""+a.$class()+" does not have #dig method"),f(a,"dig",t.to_a(n)))},N.$$arity=-2),s&&"dig"}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.klass),o=t.module,s=t.send,u=t.gvars,l=t.truthy,c=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){function c(){}var f,_,d,h,p=c=$(e,r,"IO",c),y=p.$$proto,m=[p].concat(i);return y.tty=y.closed=n,t.const_set(m[0],"SEEK_SET",0),t.const_set(m[0],"SEEK_CUR",1),t.const_set(m[0],"SEEK_END",2),t.def(p,"$tty?",f=function(){var t=this;return t.tty},f.$$arity=0),t.def(p,"$closed?",_=function(){var t=this;return t.closed},_.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",d=function(t){var e=this;return e.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",h=function(){return n},h.$$arity=0),function(e,r){var i,a,$,c,f=i=o(e,"Writable");f.$$proto,[f].concat(r);t.def(f,"$<<",a=function(t){var e=this;return e.$write(t),e},a.$$arity=1),t.def(f,"$print",$=function(t){var e,r,i=this;null==u[","]&&(u[","]=n);var a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(u[","])),n},$.$$arity=-1),t.def(f,"$puts",c=function(t){var e,r,i=this,a=n;null==u["/"]&&(u["/"]=n);var $=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<$;c++)r[c-0]=arguments[c];return a=u["/"],l(r["$empty?"]())?i.$write(u["/"]):i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([n]).$join(a)),n},c.$$arity=-1)}(m[0],m),function(e,r){var i,$,s,l,c,f=i=o(e,"Readable"),_=(f.$$proto,[f].concat(r));t.def(f,"$readbyte",$=function(){var t=this;return t.$getbyte()},$.$$arity=0),t.def(f,"$readchar",s=function(){var t=this;return t.$getc()},s.$$arity=0),t.def(f,"$readline",l=function(t){var e=this;return null==u["/"]&&(u["/"]=n),null==t&&(t=u["/"]),e.$raise(a(_,"NotImplementedError"))},l.$$arity=-1),t.def(f,"$readpartial",c=function(t,e){var r=this;return null==e&&(e=n),r.$raise(a(_,"NotImplementedError"))},c.$$arity=-2)}(m[0],m)}(r[0],null,r),t.const_set(r[0],"STDERR",u.stderr=a(r,"IO").$new()),t.const_set(r[0],"STDIN",u.stdin=a(r,"IO").$new()),t.const_set(r[0],"STDOUT",u.stdout=a(r,"IO").$new());var f=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){f.log(t)}],s(a(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){f.warn(t)}],s(a(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],a(r,"STDOUT").$extend(i(a(r,"IO"),"Writable")),a(r,"STDERR").$extend(i(a(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return $(i,"Object").$include(t)},r.$$arity=1),a&&"include"},Opal.modules["corelib/dir"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$[]"]),function(e,$,o){function s(){}var u=s=i(e,$,"Dir",s),l=(u.$$proto,[u].concat(o));return function(e,i){var $,o,s,u=(e.$$proto,[e].concat(i));return t.def(e,"$chdir",$=function(e){var n=$.$$p,i=n||r,a=r;return n&&($.$$p=null),function(){try{return a=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=a}}()},$.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return a(t=n(u,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(u),l)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.range,u=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(n,l,c){function f(){}var _=f=$(n,l,"File",f),d=(_.$$proto,[_].concat(c)),h=i;return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),h=/^[a-zA-Z]:(?:\\|\/)/,function(n,$){function l(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"String"),"to_str")}function c(){return a(b,"ALT_SEPARATOR")===i?t.escape_regexp(a(b,"SEPARATOR")):t.escape_regexp(e(a(b,"SEPARATOR"),a(b,"ALT_SEPARATOR")))}var f,_,d,p,y,m,g,v,b=(n.$$proto,[n].concat($));return t.def(n,"$expand_path",f=function(t,r){var n,$=this,s=i,u=i,l=i,f=i,_=i,d=i,p=i,y=i,m=i,g=i,v=i;null==r&&(r=i),s=a(b,"SEPARATOR"),u=c(),l=[],o("~"===t[0]||r&&"~"===r[0])&&(f=a(b,"Dir").$home(),o(f)||$.$raise(a(b,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),o(f["$start_with?"](s))||$.$raise(a(b,"ArgumentError"),"non-absolute home"),f=e(f,s),_=new RegExp("^\\~(?:"+s+"|$)"),t=t.$sub(_,f),o(r)&&(r=r.$sub(_,f))),r=o(n=r)?n:a(b,"Dir").$pwd(),d=t.substr(0,s.length)===s||h.test(t),p=r.substr(0,s.length)===s||h.test(r),o(d)?(y=t.$split(new RegExp("["+u+"]")),m=h.test(t)?"":t.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=!0):(y=e(r.$split(new RegExp("["+u+"]")),t.$split(new RegExp("["+u+"]"))),m=h.test(r)?"":r.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=p);for(var w,k=0,E=y.length;k<E;k++)w=y[k],w===i||""===w&&(0===l.length||g)||"."===w&&(0===l.length||g)||(".."===w?l.pop():l.push(w));return g||"."===y[0]||l.$unshift("."),v=l.$join(s),o(g)&&(v=e(m,v)),v},f.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",_=function(t){var e=i;e=c(),t=l(t);var r=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?r?"/":".":t},_.$$arity=1),t.def(n,"$basename",d=function(e,r){var n=i;return null==r&&(r=i),n=c(),e=l(e),0==e.length?e:(r=r!==i?a(b,"Opal")["$coerce_to!"](r,a(b,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+n+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(""+r+"$"),"")),e)},d.$$arity=-2),t.def(n,"$extname",p=function(n){var a,$=this,u=i,c=i;return n=l(n),u=$.$basename(n),o(u["$empty?"]())?"":(c=u["$[]"](s(1,-1,!1)).$rindex("."),o(o(a=c["$nil?"]())?a:e(c,1)["$=="](r(u.$length(),1)))?"":u["$[]"](t.Range.$new(e(c,1),-1,!1)))},p.$$arity=1),t.def(n,"$exist?",y=function(e){return null!=t.modules[e]},y.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",m=function(e){var r,n=this,$=i,o=i;$=[];for(var s in t.modules)$.push(s);return e=e.$gsub(new RegExp("(^."+a(b,"SEPARATOR")+"+|"+a(b,"SEPARATOR")+"+$)")),o=u($,"find",[],(r=function(t){r.$$s||this;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},r.$$s=n,r.$$arity=1,r))},m.$$arity=1),t.def(n,"$join",g=function(t){var r,n,$,s=this,l=i,c=arguments.length,f=c-0;f<0&&(f=0),$=new Array(f);for(var _=0;_<c;_++)$[_-0]=arguments[_];return o($["$empty?"]())?"":(l="",$=u($.$flatten().$each_with_index(),"map",[],(r=function(t,n){var s;r.$$s||this;return null==t&&(t=i),null==n&&(n=i),o((s=n["$=="](0))?t["$empty?"]():n["$=="](0))?a(b,"SEPARATOR"):o((s=$.$length()["$=="](e(n,1)))?t["$empty?"]():$.$length()["$=="](e(n,1)))?a(b,"SEPARATOR"):t},r.$$s=s,r.$$arity=2,r)),$=u($,"reject",[],"empty?".$to_proc()),u($,"each_with_index",[],(n=function(t,r){var s,u=(n.$$s||this,i);return null==t&&(t=i),null==r&&(r=i),u=$["$[]"](e(r,1)),o(u["$nil?"]())?l=""+l+t:(o(o(s=t["$end_with?"](a(b,"SEPARATOR")))?u["$start_with?"](a(b,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(""+a(b,"SEPARATOR")+"+$"),"")),l=function(){return o(o(s=t["$end_with?"](a(b,"SEPARATOR")))?s:u["$start_with?"](a(b,"SEPARATOR")))?""+l+t:""+l+t+a(b,"SEPARATOR")}())},n.$$s=s,n.$$arity=2,n)),l)},g.$$arity=-1),t.def(n,"$split",v=function(t){return t.$split(a(b,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(_),d)}(n[0],a(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){var e=(t.top,[]),r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,s){function u(){}var l,c,f,_,d=u=a(e,o,"Process",u),h=(d.$$proto,[d].concat(s)),p=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",l=function(t,e){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](e)},l.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var y=process.hrtime();p=function(){var t=process.hrtime(y),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}return $(p)&&d.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(d,"$pid",c=function(){return 0},c.$$arity=0),t.defs(d,"$times",f=function(){var t=r;return t=i(h,"Time").$now().$to_f(),n(i(h,"Benchmark"),"Tms").$new(t,t,t,t,t)},f.$$arity=0),t.defs(d,"$clock_gettime",_=function(t,e){var a,o=this,s=r;null==o.__clocks__&&(o.__clocks__=r),null==e&&(e="float_second"),$(a=s=o.__clocks__["$[]"](t))?a:o.$raise(n(i(h,"Errno"),"EINVAL"),"clock_gettime("+t+") "+o.__clocks__["$[]"](t));var u=s();switch(e){case"float_second":return u/1e3;case"float_millisecond":return u/1;case"float_microsecond":return 1e3*u;case"second":return u/1e3|0;case"millisecond":return u/1|0;case"microsecond":return 1e3*u|0;case"nanosecond":return 1e6*u|0;default:o.$raise(i(h,"ArgumentError"),"unexpected unit: "+e)}},_.$$arity=-2),r&&"clock_gettime"}(e[0],null,e),function(e,n,i){function $(){}var o,s=$=a(e,n,"Signal",$);s.$$proto,[s].concat(i);return t.defs(s,"$trap",o=function(t){return r},o.$$arity=-1),r&&"trap"}(e[0],null,e),function(e,n,i){function $(){}var o,s=$=a(e,n,"GC",$);s.$$proto,[s].concat(i);return t.defs(s,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass);return function(t,e,n){function i(){}var a=i=r(t,e,"Random",i);a.$$proto,[a].concat(n);!function(t,e){function r(r,u,l){var _=[];u=1==u?{entropy:!0}:u||{};var m=$(a(u.entropy?[r,s(t)]:null==r?o():r,3),_),g=new n(_),v=function(){for(var t=g.g(f),e=h,r=0;t<p;)t=(t+r)*c,e*=c,r=g.g(1);for(;t>=y;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,$(s(g.S),t),(u.pass||l||function(t,r,n,a){return a&&(a.S&&i(a,g),t.state=function(){return i(g,{})}),n?(e[d]=t,r):t})(v,m,"global"in u?u.global:this==e,u.state)}function n(t){var e,r=t.length,n=this,i=0,a=n.i=n.j=0,$=n.S=[];for(r||(t=[r++]);i<c;)$[i]=i++;for(i=0;i<c;i++)$[i]=$[a=m&a+t[i%r]+(e=$[i])],$[a]=e;(n.g=function(t){for(var e,r=0,i=n.i,a=n.j,$=n.S;t--;)e=$[i=m&i+1],r=r*c+$[m&($[i]=$[a=m&a+e])+($[a]=e)];return n.i=i,n.j=a,r})(c)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)if(t.hasOwnProperty(r))try{n.push(a(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function $(t,e){for(var r,n=t+"",i=0;i<n.length;)e[m&i]=m&(r^=19*e[m&i])+n.charCodeAt(i++);return s(e)}function o(){try{if(u)return s(u.randomBytes(c));var e=new Uint8Array(c);return(l.crypto||l.msCrypto).getRandomValues(e),s(e)}catch(e){var r=l.navigator,n=r&&r.plugins;return[+new Date,l,n,l.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var u,l=this,c=256,f=6,_=52,d="random",h=e.pow(c,f),p=e.pow(2,_),y=2*p,m=c-1;if(e["seed"+d]=r,$(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{u=__webpack_require__(94)}catch(t){}}else __webpack_require__(85)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,n=[],i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),r.$require("corelib/random/seedrandom.js"),function(r,n,u){function l(){}var c,f,_,d,h,p,y,m,g,v=l=$(r,n,"Random",l),b=(v.$$proto,[v].concat(u));v.$attr_reader("seed","state"),t.def(v,"$initialize",c=function(t){var e=this;return null==t&&(t=a(b,"Random").$new_seed()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),e.state=t,e.$reseed(t)},c.$$arity=-1),t.def(v,"$reseed",f=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},f.$$arity=1);var w=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",_=function(){return Math.abs(w.int32())},_.$$arity=0),t.defs(v,"$rand",d=function(t){return a(b,"DEFAULT").$rand(t)},d.$$arity=-1),t.defs(v,"$srand",h=function(t){var e=i;return null==t&&(t=a(b,"Random").$new_seed()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),e=a(b,"DEFAULT").$seed(),a(b,"DEFAULT").$reseed(t),e},h.$$arity=-1),t.defs(v,"$urandom",p=function(t){var r,n=this;return t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),o(e(t,0))&&n.$raise(a(b,"ArgumentError"),"negative string size (or size too big)"),s(a(b,"Array"),"new",[t],(r=function(){var t=r.$$s||this;return t.$rand(255).$chr()},r.$$s=n,r.$$arity=0,r)).$join().$encode("ASCII-8BIT")},p.$$arity=1),t.const_set(b[0],"DEFAULT",v.$new(v.$new_seed())),t.def(v,"$==",y=function(t){var e,r=this;return!!o(a(b,"Random")["$==="](t))&&((e=r.$seed()["$=="](t.$seed()))?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},y.$$arity=1),t.def(v,"$bytes",m=function(t){var e,r=this;return t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),s(a(b,"Array"),"new",[t],(e=function(){var t=e.$$s||this;return t.$rand(255).$chr()},e.$$s=r,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(v,"$rand",g=function(t){function e(){return $.state++,$.$rng.quick()}function r(){return Math.floor(e()*t)}function n(){var e=t.begin,r=t.end;if(e===i||r===i)return i;var n=r-e;return n<0?i:0===n?e:(r%1!==0||e%1!==0||t.excl||n++,$.$rand(n)+e)}var $=this;return null==t?e():t.$$is_range?n():t.$$is_number?(t<=0&&$.$raise(a(b,"ArgumentError"),"invalid argument - "+t),t%1===0?r():e()*t):(t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),t<=0&&$.$raise(a(b,"ArgumentError"),"invalid argument - "+t),r())},g.$$arity=-1),i&&"rand"}(n[0],null,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s($,"Kernel").$raise(s($,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){c[t]||(c[t]=!0,a.$warn(t))}var n,i,a=t.top,$=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,r,n){function i(){}var a,$,l,c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O=i=u(e,r,"String",i),S=(O.$$proto,[O].concat(n)),M="String#%s not supported. Mutable String methods are not supported in Opal.";return t.def(O,"$<<",a=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("<<"))},a.$$arity=-1),t.def(O,"$capitalize!",$=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("capitalize!"))},$.$$arity=-1),t.def(O,"$chomp!",l=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("chomp!"))},l.$$arity=-1),t.def(O,"$chop!",c=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("chop!"))},c.$$arity=-1),t.def(O,"$downcase!",f=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("downcase!"))},f.$$arity=-1),t.def(O,"$gsub!",_=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("gsub!"))},_.$$arity=-1),t.def(O,"$lstrip!",d=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("lstrip!"))},d.$$arity=-1),t.def(O,"$next!",h=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("next!"))},h.$$arity=-1),t.def(O,"$reverse!",p=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("reverse!"))},p.$$arity=-1),t.def(O,"$slice!",y=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("slice!"))},y.$$arity=-1),t.def(O,"$squeeze!",m=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("squeeze!"))},m.$$arity=-1),t.def(O,"$strip!",g=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("strip!"))},g.$$arity=-1),t.def(O,"$sub!",v=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("sub!"))},v.$$arity=-1),t.def(O,"$succ!",b=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("succ!"))},b.$$arity=-1),t.def(O,"$swapcase!",w=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("swapcase!"))},w.$$arity=-1),t.def(O,"$tr!",k=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("tr!"))},k.$$arity=-1),t.def(O,"$tr_s!",E=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("tr_s!"))},E.$$arity=-1),t.def(O,"$upcase!",x=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("upcase!"))},x.$$arity=-1),t.def(O,"$prepend",A=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("prepend"))},A.$$arity=-1),o&&"prepend"}($[0],null,$),function(r,n){var i,a,$,o=i=l(r,"Kernel"),s=(o.$$proto,[o].concat(n),"Object freezing is not supported by Opal");t.def(o,"$freeze",a=function(){var t=this;return e(s),t},a.$$arity=0),t.def(o,"$frozen?",$=function(){return e(s),!1},$.$$arity=0)}($[0],$),function(r,n){var i,a,$,o,s=i=l(r,"Kernel"),u=(s.$$proto,[s].concat(n),"Object tainting is not supported by Opal");t.def(s,"$taint",a=function(){var t=this;return e(u),t},a.$$arity=0),t.def(s,"$untaint",$=function(){var t=this;return e(u),t},$.$$arity=0),t.def(s,"$tainted?",o=function(){return e(u),!1},o.$$arity=0)}($[0],$),function(e,r,n){function i(){}var a,$,s,l,c=i=u(e,r,"Module",i);c.$$proto,[c].concat(n);return t.def(c,"$public",a=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return 0===e.length&&(r.$$module_function=!1),o},a.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",$=function(t){var e=this;return e},$.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",s=function(t){return!1},s.$$arity=1),t.def(c,"$private_constant",l=function(t){return o},l.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_method_defined?","method_defined?")}($[0],null,$),function(e,r){var n,i,a=n=l(e,"Kernel");a.$$proto,[a].concat(r);t.def(a,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias(a,"private_instance_methods","private_methods")}($[0],$),function(e,r){var n,i,a=n=l(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$eval",i=function(t){var e=this;return e.$raise(s($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+s($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},i.$$arity=-1)}($[0],$),t.defs(a,"$public",n=function(t){return o},n.$$arity=-1),t.defs(a,"$private",i=function(t){return o},i.$$arity=-1),o&&"private"},Opal.modules.opal=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:(__WEBPACK_AMD_DEFINE_ARRAY__=[module],__WEBPACK_AMD_DEFINE_RESULT__=function(t){return e(t.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(this,function(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass);return t.add_stubs(["$new"]),function(e,a,$){function o(){}var s,u=o=i(e,a,"File",o),l=(u.$$proto,[u].concat($));return t.defs(u,"$read",s=function(t){var e="",r=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.addEventListener("load",function(){r=this.status,0!==r&&200!==r||(e=this.responseText)}),i.overrideMimeType("text/plain"),i.send()}catch(e){throw n(l,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===r||0===r&&!e)throw n(l,"IOError").$new("No such file or directory: "+t);return e},s.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var r=e.top,n=[];e.nil,e.const_get_qualified,e.const_get_relative,e.breaker,e.slice;e.add_stubs(["$require"]);var i,a,$,o;if("object"==typeof t&&"object"==typeof t.runtime){var s=t.runtime;i=s.platform,a=s.engine,$=s.framework,o=s.ioModule}return o=o||"xmlhttprequest",i=i||"browser",a=a||"",$=$||"",e.const_set(n[0],"JAVASCRIPT_IO_MODULE",o),e.const_set(n[0],"JAVASCRIPT_PLATFORM",i),e.const_set(n[0],"JAVASCRIPT_ENGINE",a),e.const_set(n[0],"JAVASCRIPT_FRAMEWORK",$),r.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var i=(t.top,[]),a=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.hash2,u=t.truthy,l=t.send,c=t.module;
return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,c,f){function _(){}var d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j=_=o(i,c,"Set",_),U=j.$$proto,H=[j].concat(f);return U.hash=a,j.$include($(H,"Enumerable")),t.defs(j,"$[]",d=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$new(e)},d.$$arity=-1),t.def(j,"$initialize",h=function(e){var r,n=this,i=h.$$p,o=i||a;return null==e&&(e=a),i&&(h.$$p=null),n.hash=s([],{}),u(e["$nil?"]())?a:(u($(H,"Enumerable")["$==="](e))||n.$raise($(H,"ArgumentError"),"value must be enumerable"),u(o)?l(e,"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=a),n.$add(t.yield1(o,e))},r.$$s=n,r.$$arity=1,r)):n.$merge(e))},h.$$arity=-1),t.def(j,"$dup",p=function(){var t=this,e=a;return e=t.$class().$new(),e.$merge(t)},p.$$arity=0),t.def(j,"$-",y=function(t){var e=this;return u(t["$respond_to?"]("each"))||e.$raise($(H,"ArgumentError"),"value must be enumerable"),e.$dup().$subtract(t)},y.$$arity=1),t.alias(j,"difference","-"),t.def(j,"$inspect",m=function(){var t=this;return"#<Set: {"+t.$to_a().$join(",")+"}>"},m.$$arity=0),t.def(j,"$==",g=function(t){var e,r,n=this;return!!u(n["$equal?"](t))||(u(t["$instance_of?"](n.$class()))?n.hash["$=="](t.$instance_variable_get("@hash")):!!u(u(e=t["$is_a?"]($(H,"Set")))?n.$size()["$=="](t.$size()):e)&&l(t,"all?",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash["$include?"](t)},r.$$s=n,r.$$arity=1,r)))},g.$$arity=1),t.def(j,"$add",v=function(r){var n=this,i=a;return i=[r,!0],l(n.hash,"[]=",t.to_a(i)),i[e(i.length,1)],n},v.$$arity=1),t.alias(j,"<<","add"),t.def(j,"$classify",b=function(){var r,n,i=this,o=b.$$p,s=o||a,u=a;return o&&(b.$$p=null),s===a?i.$enum_for("classify"):(u=l($(H,"Hash"),"new",[],(r=function(n,i){var $=r.$$s||this,o=a;return null==n&&(n=a),null==i&&(i=a),o=[i,$.$class().$new()],l(n,"[]=",t.to_a(o)),o[e(o.length,1)]},r.$$s=i,r.$$arity=2,r)),l(i,"each",[],(n=function(e){n.$$s||this;return null==e&&(e=a),u["$[]"](t.yield1(s,e)).$add(e)},n.$$s=i,n.$$arity=1,n)),u)},b.$$arity=0),t.def(j,"$collect!",w=function(){var e,r=this,n=w.$$p,i=n||a,$=a;return n&&(w.$$p=null),i===a?r.$enum_for("collect!"):($=r.$class().$new(),l(r,"each",[],(e=function(r){e.$$s||this;return null==r&&(r=a),$["$<<"](t.yield1(i,r))},e.$$s=r,e.$$arity=1,e)),r.$replace($))},w.$$arity=0),t.alias(j,"map!","collect!"),t.def(j,"$delete",k=function(t){var e=this;return e.hash.$delete(t),e},k.$$arity=1),t.def(j,"$delete?",E=function(t){var e=this;return u(e["$include?"](t))?(e.$delete(t),e):a},E.$$arity=1),t.def(j,"$delete_if",x=function(){var e,r,n=this,i=x.$$p,$=i||a;return i&&(x.$$p=null),$===a?n.$enum_for("delete_if"):(l(l(n,"select",[],(e=function(r){e.$$s||this;return null==r&&(r=a),t.yield1($,r)},e.$$s=n,e.$$arity=1,e)),"each",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=a),null==t&&(t=a),e.hash.$delete(t)},r.$$s=n,r.$$arity=1,r)),n)},x.$$arity=0),t.def(j,"$add?",A=function(t){var e=this;return u(e["$include?"](t))?a:e.$add(t)},A.$$arity=1),t.def(j,"$each",O=function(){var t=this,e=O.$$p,r=e||a;return e&&(O.$$p=null),r===a?t.$enum_for("each"):(l(t.hash,"each_key",[],r.$to_proc()),t)},O.$$arity=0),t.def(j,"$empty?",S=function(){var t=this;return t.hash["$empty?"]()},S.$$arity=0),t.def(j,"$eql?",M=function(t){var e,r=this;return r.hash["$eql?"](l(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=a),t.hash},e.$$s=r,e.$$arity=0,e)))},M.$$arity=1),t.def(j,"$clear",T=function(){var t=this;return t.hash.$clear(),t},T.$$arity=0),t.def(j,"$include?",R=function(t){var e=this;return e.hash["$include?"](t)},R.$$arity=1),t.alias(j,"member?","include?"),t.def(j,"$merge",I=function(t){var e,r=this;return l(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=a),r.$add(t)},e.$$s=r,e.$$arity=1,e)),r},I.$$arity=1),t.def(j,"$replace",C=function(t){var e=this;return e.$clear(),e.$merge(t),e},C.$$arity=1),t.def(j,"$size",N=function(){var t=this;return t.hash.$size()},N.$$arity=0),t.alias(j,"length","size"),t.def(j,"$subtract",z=function(t){var e,r=this;return l(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=a),r.$delete(t)},e.$$s=r,e.$$arity=1,e)),r},z.$$arity=1),t.def(j,"$|",P=function(t){var e=this;return u(t["$respond_to?"]("each"))||e.$raise($(H,"ArgumentError"),"value must be enumerable"),e.$dup().$merge(t)},P.$$arity=1),t.def(j,"$superset?",B=function(t){var e,n,i=this;return u(e=t["$is_a?"]($(H,"Set")))?e:i.$raise($(H,"ArgumentError"),"value must be a set"),!u(r(i.$size(),t.$size()))&&l(t,"all?",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=a),e["$include?"](t)},n.$$s=i,n.$$arity=1,n))},B.$$arity=1),t.alias(j,">=","superset?"),t.def(j,"$proper_superset?",q=function(t){var e,r,i=this;return u(e=t["$is_a?"]($(H,"Set")))?e:i.$raise($(H,"ArgumentError"),"value must be a set"),!u(n(i.$size(),t.$size()))&&l(t,"all?",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=a),e["$include?"](t)},r.$$s=i,r.$$arity=1,r))},q.$$arity=1),t.alias(j,">","proper_superset?"),t.def(j,"$subset?",D=function(t){var e,n,i=this;return u(e=t["$is_a?"]($(H,"Set")))?e:i.$raise($(H,"ArgumentError"),"value must be a set"),!u(r(t.$size(),i.$size()))&&l(i,"all?",[],(n=function(e){n.$$s||this;return null==e&&(e=a),t["$include?"](e)},n.$$s=i,n.$$arity=1,n))},D.$$arity=1),t.alias(j,"<=","subset?"),t.def(j,"$proper_subset?",L=function(t){var e,r,i=this;return u(e=t["$is_a?"]($(H,"Set")))?e:i.$raise($(H,"ArgumentError"),"value must be a set"),!u(n(t.$size(),i.$size()))&&l(i,"all?",[],(r=function(e){r.$$s||this;return null==e&&(e=a),t["$include?"](e)},r.$$s=i,r.$$arity=1,r))},L.$$arity=1),t.alias(j,"<","proper_subset?"),t.alias(j,"+","|"),t.alias(j,"union","|"),t.def(j,"$to_a",F=function(){var t=this;return t.hash.$keys()},F.$$arity=0),a&&"to_a"}(i[0],null,i),function(e,r){var n,i,o=n=c(e,"Enumerable"),s=(o.$$proto,[o].concat(r));t.def(o,"$to_set",i=function(e,r){var n,o=this,u=i.$$p,c=u||a;null==e&&(e=$(s,"Set"));var f=arguments.length,_=f-1;_<0&&(_=0),n=new Array(_);for(var d=1;d<f;d++)n[d-1]=arguments[d];return u&&(i.$$p=null),l(e,"new",[o].concat(t.to_a(n)),c.$to_proc())},i.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.send,$=t.klass,o=t.truthy,s=t.gvars;return t.add_stubs(["$new","$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(e,$){var o,s,u=o=i(e,"Kernel"),l=(u.$$proto,[u].concat($));t.def(u,"$open",s=function(e,i){var $,o=s.$$p,u=o||r,c=r,f=arguments.length,_=f-1;_<0&&(_=0),$=new Array(_);for(var d=1;d<f;d++)$[d-1]=arguments[d];return o&&(s.$$p=null),c=a(n(l,"File"),"new",[e].concat(t.to_a($))),u!==r?t.yield1(u,c):c},s.$$arity=-2)}(e[0],e),function(e,i,a){function u(){}var l,c,f,_,d=u=$(e,i,"File",u),h=d.$$proto,p=[d].concat(a);return h.eof=h.path=r,d.$attr_reader("eof"),d.$attr_reader("lineno"),d.$attr_reader("path"),t.def(d,"$initialize",l=function(t,e){var n=this,i=r;return null==e&&(e="r"),n.path=t,n.contents=r,n.eof=!1,n.lineno=0,e=e.$delete("b"),i=/:(.*)/,e=e.$gsub(i,""),n.flags=e},l.$$arity=-2),t.def(d,"$read",c=function(){var t=this,e=r;return o(t.eof)?"":(e=n(p,"File").$read(t.path),t.eof=!0,t.lineno=e.$size(),e)},c.$$arity=0),t.def(d,"$each_line",f=function(e){var i=this,a=f.$$p,$=a||r,u=r;if(null==s["/"]&&(s["/"]=r),null==e&&(e=s["/"]),a&&(f.$$p=null),o(i.eof))return function(){return $!==r?i:[].$to_enum()}();if($!==r){u=n(p,"File").$read(i.path),i.eof=!1,i.lineno=0;for(var l=u.$chomp(),c=u.length!=l.length,_=l.split(e),d=0,h=_.length;d<h;d++)i.lineno+=1,d<h-1||c?t.yield1($,_[d]+e):t.yield1($,_[d]);return i.eof=!0,i}return i.$read().$each_line()},f.$$arity=-1),t.def(d,"$readlines",_=function(){var t=this;return n(p,"File").$readlines(t.path)},_.$$arity=0),function(e,i){var a,$,o,u,l=(e.$$proto,[e].concat(i));return t.def(e,"$readlines",a=function(t,e){var i=r;return null==s["/"]&&(s["/"]=r),null==e&&(e=s["/"]),i=n(l,"File").$read(t),i.$split(e)},a.$$arity=-2),t.def(e,"$file?",$=function(t){return!0},$.$$arity=1),t.def(e,"$readable?",o=function(t){return!0},o.$$arity=1),t.def(e,"$read",u=function(t){return""},u.$$arity=1),r&&"read"}(t.get_singleton_class(d),p)}(e[0],null,e),function(e,i,a){function o(){}var s,u=o=$(e,i,"IO",o),l=(u.$$proto,[u].concat(a));return t.defs(u,"$read",s=function(t){return n(l,"File").$read(t)},s.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$[]=","$-"]),function(r,$,o){function s(){}var u,l=s=i(r,$,"MatchData",s),c=l.$$proto;[l].concat(o);return c.matches=n,t.def(l,"$[]=",u=function(r,i){var $=this,o=n;return o=[r,i],a($.matches,"[]=",t.to_a(o)),o[e(o.length,1)]},u.$$arity=2),n&&"[]="}(r[0],null,r)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var i,a,$=i=r(e,"Kernel");$.$$proto,[$].concat(n);t.def($,"$freeze",a=function(){var t=this;return t},a.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){var e=(t.top,[]),r=t.nil,n=t.const_get_qualified,i=(t.const_get_relative,t.breaker,t.slice,t.module),a=t.klass;return function(t,e){var $,o=$=i(t,"ThreadSafe"),s=(o.$$proto,[o].concat(e));!function(t,e,n){function i(){}var $=i=a(t,e,"Cache",i);$.$$proto,[$].concat(n);return r}(s[0],n("::","Hash"),s)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),a=t.truthy,$=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(r,o,s){function u(){}var l,c,f=u=i(r,o,"String",u);f.$$proto,[f].concat(s);return a(f["$method_defined?"]("limit_bytesize"))||t.def(f,"$limit_bytesize",l=function(t){var r=this,i=n;return a(e(t,r.$bytes().$length()))?(i=r.$byteslice(0,t),i.$to_s()):r.$to_s()},l.$$arity=1),a(f["$method_defined?"]("limit"))||t.alias(f,"limit","limit_bytesize"),t.alias(f,"_original_unpack","unpack"),t.def(f,"$unpack",c=function(t){var e,r=this;return t["$=="]("C3")?$(r["$[]"](0,3).$bytes().$select(),"with_index",[],(e=function(t,r){e.$$s||this;return null==t&&(t=n),null==r&&(r=n),r["$even?"]()},e.$$s=r,e.$$arity=2,e)):r.$_original_unpack(t)},c.$$arity=1),n&&"unpack"}(r[0],null,r)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),function(e,i){var a,$,o,s=a=n(e,"URI"),u=(s.$$proto,[s].concat(i));t.defs(s,"$parse",$=function(t){return t.$extend(r(u,"URI"))},$.$$arity=1),t.def(s,"$path",o=function(){var t=this;return t},o.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),$=t.send,o=t.gvars,s=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(r,u){var l,c,f=l=a(r,"Asciidoctor"),_=(f.$$proto,[f].concat(u));t.const_set(_[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(f,"$unpack_hex_range",c=function(t){var e,r=this;return $(t,"gsub",[i(_,"HEX_RANGE_RX")],(e=function(){var t,r;e.$$s||this;return"\\u"+((t=o["~"])===n?n:t["$[]"](1))+(s(t=(r=o["~"])===n?n:r["$[]"](2))?"-\\u"+((r=o["~"])===n?n:r["$[]"](2)):t)},e.$$s=r,e.$$arity=0,e))},c.$$arity=1),t.const_set(_[0],"P_L",e("A-Za-z",f.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(_[0],"P_Nl",f.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(_[0],"P_Nd",e("0-9",f.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(_[0],"P_Pc",f.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(_[0],"CC_ALPHA",""+i(_,"P_L")+i(_,"P_Nl")),t.const_set(_[0],"CG_ALPHA","["+i(_,"CC_ALPHA")+"]"),t.const_set(_[0],"CC_ALNUM",""+i(_,"CC_ALPHA")+i(_,"P_Nd")),t.const_set(_[0],"CG_ALNUM","["+i(_,"CC_ALNUM")+"]"),t.const_set(_[0],"CC_WORD",""+i(_,"CC_ALNUM")+i(_,"P_Pc")),t.const_set(_[0],"CG_WORD","["+i(_,"CC_WORD")+"]"),t.const_set(_[0],"CG_BLANK","[ \\t]"),t.const_set(_[0],"CC_EOL","(?=\\n|$)"),t.const_set(_[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(_[0],"CC_ALL","[\\s\\S]")}(r[0],r)},Opal.modules.strscan=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(r,$,o){function s(){}var u,l,c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N=s=i(r,$,"StringScanner",s),z=N.$$proto;[N].concat(o);return z.pos=z.string=z.working=z.matched=z.prev_pos=z.match=n,N.$attr_reader("pos"),N.$attr_reader("matched"),t.def(N,"$initialize",u=function(t){var e=this;return e.string=t,e.pos=0,e.matched=n,e.working=t,e.match=[]},u.$$arity=1),N.$attr_reader("string"),t.def(N,"$beginning_of_line?",l=function(){var t=this;return 0===t.pos||"\n"===t.string.charAt(t.pos-1)},l.$$arity=0),t.alias(N,"bol?","beginning_of_line?"),t.def(N,"$scan",c=function(t){var e=this;t=e.$anchor(t);var r=t.exec(e.working);return null==r?e.matched=n:"object"==typeof r?(e.prev_pos=e.pos,e.pos+=r[0].length,e.working=e.working.substring(r[0].length),e.matched=r[0],e.match=r,r[0]):"string"==typeof r?(e.pos+=r.length,e.working=e.working.substring(r.length),r):n},c.$$arity=1),t.def(N,"$scan_until",f=function(t){var e=this;t=e.$anchor(t);for(var r,i=e.pos,a=e.working;;){if(r=t.exec(a),i+=1,a=a.substr(1),null!=r)return e.matched=e.string.substr(e.pos,i-e.pos-1+r[0].length),e.prev_pos=i-1,e.pos=i,e.working=a.substr(r[0].length),e.matched;if(0===a.length)return e.matched=n}},f.$$arity=1),t.def(N,"$[]",_=function(t){var e=this,r=e.match;return t<0&&(t+=r.length),t<0||t>=r.length?n:null==r[t]?n:r[t]},_.$$arity=1),t.def(N,"$check",d=function(t){var e=this;t=e.$anchor(t);var r=t.exec(e.working);return null==r?e.matched=n:e.matched=r[0]},d.$$arity=1),t.def(N,"$check_until",h=function(t){var e=this,r=e.prev_pos,i=e.pos,a=e.$scan_until(t);return a!==n&&(e.matched=a.substr(-1),e.working=e.string.substr(i)),e.prev_pos=r,e.pos=i,a},h.$$arity=1),t.def(N,"$peek",p=function(t){var e=this;return e.working.substring(0,t)},p.$$arity=1),t.def(N,"$eos?",y=function(){var t=this;return 0===t.working.length},y.$$arity=0),t.def(N,"$exist?",m=function(t){var e=this,r=t.exec(e.working);return null==r?n:0==r.index?0:r.index+1},m.$$arity=1),t.def(N,"$skip",g=function(t){var e=this;t=e.$anchor(t);var r=t.exec(e.working);if(null==r)return e.matched=n;var i=r[0],a=i.length;return e.matched=i,e.prev_pos=e.pos,e.pos+=a,e.working=e.working.substring(a),a},g.$$arity=1),t.def(N,"$skip_until",v=function(t){var e=this,r=e.$scan_until(t);return r===n?n:(e.matched=r.substr(-1),r.length)},v.$$arity=1),t.def(N,"$get_byte",b=function(){var t=this,e=n;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=n,e},b.$$arity=0),t.alias(N,"getch","get_byte"),t.def(N,"$match?",w=function(t){var e=this;t=e.$anchor(t);var r=t.exec(e.working);return null==r?n:(e.prev_pos=e.pos,r[0].length)},w.$$arity=1),t.def(N,"$pos=",k=function(t){var e=this;return t<0&&(t+=e.string.$length()),e.pos=t,e.working=e.string.slice(t)},k.$$arity=1),t.def(N,"$matched_size",E=function(){var t=this;return t.matched===n?n:t.matched.length},E.$$arity=0),t.def(N,"$post_match",x=function(){var t=this;return t.matched===n?n:t.string.substr(t.pos)},x.$$arity=0),t.def(N,"$pre_match",A=function(){var t=this;return t.matched===n?n:t.string.substr(0,t.prev_pos)},A.$$arity=0),t.def(N,"$reset",O=function(){var t=this;return t.working=t.string,t.matched=n,t.pos=0},O.$$arity=0),t.def(N,"$rest",S=function(){var t=this;return t.working},S.$$arity=0),t.def(N,"$rest?",M=function(){var t=this;return 0!==t.working.length},M.$$arity=0),t.def(N,"$rest_size",T=function(){var t=this;return t.$rest().$size()},T.$$arity=0),t.def(N,"$terminate",R=function(){var r=this,i=n;return r.match=n,i=[r.string.$length()],a(r,"pos=",t.to_a(i)),i[e(i.length,1)]},R.$$arity=0),t.def(N,"$unscan",I=function(){var t=this;return t.pos=t.prev_pos,t.prev_pos=n,t.match=n,t},I.$$arity=0),N.$private(),t.def(N,"$anchor",C=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},C.$$arity=1),n&&"anchor"}(r[0],null,r)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i=(t.top,[]),a=t.nil,$=t.const_get_qualified,o=(t.const_get_relative,t.breaker,t.slice,t.module),s=t.klass,u=t.hash2,l=t.send,c=t.truthy,f=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function(i,_){var d,h=d=o(i,"Asciidoctor"),p=(h.$$proto,[h].concat(_));!function(i,o,_){function d(){}var h,p,y,m,g,v,b,w,k=d=s(i,o,"Timings",d),E=k.$$proto;[k].concat(_);return E.timers=E.log=a,t.def(k,"$initialize",h=function(){var t=this;return t.log=u([],{}),t.timers=u([],{})},h.$$arity=0),t.def(k,"$start",p=function(r){var n=this,i=a;return i=[r,$("::","Time").$now()],l(n.timers,"[]=",t.to_a(i)),i[e(i.length,1)]},p.$$arity=1),t.def(k,"$record",y=function(r){var n=this,i=a;return i=[r,e($("::","Time").$now(),n.timers.$delete(r))],l(n.log,"[]=",t.to_a(i)),i[e(i.length,1)]},y.$$arity=1),t.def(k,"$read_parse",m=function(){var t,e=this,i=a;return c(r(i=n(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),0))?i:a},m.$$arity=0),t.def(k,"$convert",g=function(){var t,e=this;return c(t=e.log["$[]"]("convert"))?t:0},g.$$arity=0),t.def(k,"$read_parse_convert",v=function(){var t,e=this,i=a;return c(r(i=n(n(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),0))?i:a},v.$$arity=0),t.def(k,"$total",b=function(){var t,e=this,i=a;return c(r(i=n(n(n(c(t=e.log["$[]"]("read"))?t:0,c(t=e.log["$[]"]("parse"))?t:0),c(t=e.log["$[]"]("convert"))?t:0),c(t=e.log["$[]"]("write"))?t:0),0))?i:a},b.$$arity=0),t.def(k,"$print_report",w=function(t,e){var r=this;return null==f.stdout&&(f.stdout=a),null==t&&(t=f.stdout),null==e&&(e=a),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](r.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](r.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](r.$read_parse_convert().$to_f()))},w.$$arity=-1),a&&"print_report"}(p[0],null,p)}(i[0],i)},Opal.modules["asciidoctor/version"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var i,a=i=r(e,"Asciidoctor"),$=(a.$$proto,[a].concat(n));t.const_set($[0],"VERSION","1.5.6.2")}(e[0],e)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,a,$){function o(){}var s=o=n(e,a,"NilClass",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?r:t.alias(s,"nil_or_empty?","nil?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=n(e,a,"String",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?r:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=n(e,a,"Array",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?r:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=n(e,a,"Hash",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?r:t.alias(s,"nil_or_empty?","empty?")}(e[0],null,e),function(e,a,$){function o(){}var s=o=n(e,a,"Numeric",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("nil_or_empty?"))?r:t.alias(s,"nil_or_empty?","nil?")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,a,$){function o(){}var s=o=n(e,a,"Regexp",o);s.$$proto,[s].concat($);return i(s["$method_defined?"]("match?"))?r:t.alias(s,"match?","===")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),i=t.nil,a=t.const_get_qualified,$=(t.const_get_relative,t.breaker,t.slice,t.klass),o=t.truthy;return t.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(n,s,u){function l(){}var c,f=l=$(n,s,"String",l);f.$$proto,[f].concat(u);return o(f["$method_defined?"]("limit_bytesize"))?i:(t.def(f,"$limit_bytesize",c=function(t){var n=this,$=i;if(!o(e(t,n.$bytesize())))return n;for(;!o(($=n.$byteslice(0,t)).$force_encoding(a(a("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)t=r(t,1);return $},c.$$arity=1),i&&"limit_bytesize")}(n[0],null,n)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){var e,r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.truthy),$=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),a(i(r,"IO")["$respond_to?"]("write"))?n:(t.defs(i(r,"IO"),"$write",e=function(t,e,a,o){var s,u=this;return null==a&&(a=0),null==o&&(o=n),$(i(r,"File"),"open",[t,"w"],(s=function(t){s.$$s||this;return null==t&&(t=n),t.$write(e)},s.$$s=u,s.$$arity=1,s))},e.$$arity=-3),n&&"write")},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),a(i(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),i(r,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):n):a(i(r,"RUBY_ENGINE")["$!="]("opal"))?n:n},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy,s=t.send,u=t.range,l=t.gvars;return t.add_stubs(["$require","$==","$===","$raise","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$map","$each_line","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$length","$basename","$extname","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(r,c){var f,_=f=$(r,"Asciidoctor"),d=(_.$$proto,[_].concat(c));!function(r,c){var f,_,d,h,p,y,m,g,v,b,w,k=f=$(r,"Helpers"),E=(k.$$proto,[k].concat(c));t.defs(k,"$require_library",_=function(e,r,a){var $=this,s=n,u=n;null==r&&(r=!0),null==a&&(a="abort");try{return $.$require(e)}catch(l){if(!t.rescue(l,[i("::","LoadError")]))throw l;s=l;try{return o(r)?(r["$=="](!0)&&(r=e),function(){return u=a,"abort"["$==="](u)?$.$raise(i("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not installed. Processing aborted."):"warn"["$==="](u)?$.$warn("asciidoctor: WARNING: optional gem '"+r+"' is not installed. Functionality disabled."):n}()):function(){return u=a,"abort"["$==="](u)?$.$raise(i("::","LoadError"),"asciidoctor: FAILED: "+s.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](u)?$.$warn("asciidoctor: WARNING: "+s.$message().$chomp(".")+". Functionality disabled."):n}()}finally{t.pop_exception()}}},_.$$arity=-2),t.defs(k,"$normalize_lines",d=function(t){var e=this;return t.$class()["$=="](i("::","String"))?e.$normalize_lines_from_string(t):e.$normalize_lines_array(t)},d.$$arity=1),t.defs(k,"$normalize_lines_array",h=function(r){var $,l,c,f,_=this,d=n,h=n,p=n,y=n,m=n;return o(r["$empty?"]())?r:(d=(h=r["$[]"](0)).$unpack("C3"),o(a(E,"COERCE_ENCODING"))?(p=i(i("::","Encoding"),"UTF_8"),(y=d.$slice(0,2))["$=="](a(E,"BOM_BYTES_UTF_16LE"))?s(r.$join().$force_encoding(i(i("::","Encoding"),"UTF_16LE"))["$[]"](u(1,-1,!1)).$encode(p).$each_line(),"map",[],($=function(t){$.$$s||this;return null==t&&(t=n),t.$rstrip()},$.$$s=_,$.$$arity=1,$)):y["$=="](a(E,"BOM_BYTES_UTF_16BE"))?(m=[0,h.$force_encoding(i(i("::","Encoding"),"UTF_16BE"))["$[]"](u(1,-1,!1))],s(r,"[]=",t.to_a(m)),m[e(m.length,1)],s(r,"map",[],(l=function(t){l.$$s||this;return null==t&&(t=n),""+t.$force_encoding(i(i("::","Encoding"),"UTF_16BE")).$encode(p).$rstrip()},l.$$s=_,l.$$arity=1,l))):(d["$=="](a(E,"BOM_BYTES_UTF_8"))&&(m=[0,h.$force_encoding(p)["$[]"](u(1,-1,!1))],s(r,"[]=",t.to_a(m)),m[e(m.length,1)]),s(r,"map",[],(c=function(t){c.$$s||this;return null==t&&(t=n),t.$encoding()["$=="](p)?t.$rstrip():t.$force_encoding(p).$rstrip()},c.$$s=_,c.$$arity=1,c)))):(d["$=="](a(E,"BOM_BYTES_UTF_8"))&&(m=[0,h["$[]"](u(3,-1,!1))],s(r,"[]=",t.to_a(m)),m[e(m.length,1)]),s(r,"map",[],(f=function(t){f.$$s||this;return null==t&&(t=n),t.$rstrip()},f.$$s=_,f.$$arity=1,f))))},h.$$arity=1),t.defs(k,"$normalize_lines_from_string",p=function(t){var e,r=this,$=n,l=n,c=n;return o(t["$nil_or_empty?"]())?[]:($=t.$unpack("C3"),o(a(E,"COERCE_ENCODING"))?(l=i(i("::","Encoding"),"UTF_8"),(c=$.$slice(0,2))["$=="](a(E,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16LE"))["$[]"](u(1,-1,!1)).$encode(l):c["$=="](a(E,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16BE"))["$[]"](u(1,-1,!1)).$encode(l):$["$=="](a(E,"BOM_BYTES_UTF_8"))?t=function(){return t.$encoding()["$=="](l)?t["$[]"](u(1,-1,!1)):t.$force_encoding(l)["$[]"](u(1,-1,!1))}():t.$encoding()["$=="](l)||(t=t.$force_encoding(l))):$["$=="](a(E,"BOM_BYTES_UTF_8"))&&(t=t["$[]"](u(3,-1,!1))),s(t.$each_line(),"map",[],(e=function(t){e.$$s||this;return null==t&&(t=n),t.$rstrip()},e.$$s=r,e.$$arity=1,e)))},p.$$arity=1),t.defs(k,"$uriish?",y=function(t){var e;return o(e=t["$include?"](":"))?a(E,"UriSniffRx")["$match?"](t):e},y.$$arity=1),t.defs(k,"$uri_prefix",m=function(t){var e;return o(o(e=t["$include?"](":"))?a(E,"UriSniffRx")["$=~"](t):e)?(e=l["~"])===n?n:e["$[]"](0):n},m.$$arity=1),t.const_set(E[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(k,"$uri_encode",g=function(t){var e,r=this;return s(t,"gsub",[a(E,"REGEXP_ENCODE_URI_CHARS")],(e=function(){var t,r,i=e.$$s||this;return s(((t=l["~"])===n?n:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$sprintf("%%%02X",t)},r.$$s=i,r.$$arity=1,r)).$join()},e.$$s=r,e.$$arity=0,e))},g.$$arity=1),t.defs(k,"$rootname",v=function(t){var e;return t.$slice(0,o(e=t.$rindex("."))?e:t.$length())},v.$$arity=1),
t.defs(k,"$basename",b=function(t,e){return null==e&&(e=n),o(e)?i("::","File").$basename(t,function(){return e["$=="](!0)?i("::","File").$extname(t):e}()):i("::","File").$basename(t)},b.$$arity=-2),t.defs(k,"$mkdir_p",w=function(t){var e,r=this,a=n;return o(i("::","File")["$directory?"](t))?n:(a=i("::","File").$dirname(t),o(o(e=i("::","File")["$directory?"](a=i("::","File").$dirname(t))["$!"]())?a["$!="]("."):e)&&r.$mkdir_p(a),i("::","Dir").$mkdir(t))},w.$$arity=1)}(d[0],d)}(r[0],r)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var $=(t.top,[]),o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=(t.breaker,t.slice),c=t.module,f=t.hash2,_=t.hash,d=t.truthy,h=t.send,p=t.gvars,y=t.range;return t.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$!","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$-","$end_with?","$parse_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$to_sym","$nil_or_empty?","$attributes","$basebackend?","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$slice","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$!=","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$delete","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$rindex","$catalog","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$concat","$parse_into","$parse","$each_char","$join","$chr","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),function($,m){var g,v=g=c($,"Asciidoctor"),b=(v.$$proto,[v].concat(m));!function($,m){var g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J=g=c($,"Substitutors"),Z=(J.$$proto,[J].concat(m));t.const_set(Z[0],"SpecialCharsRx",/[<&>]/),t.const_set(Z[0],"SpecialCharsTr",f([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(Z[0],"QuotedTextSniffRx",_(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(Z[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(Z[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(Z[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(Z[0],"NONE_SUBS",[]).$freeze(),t.const_set(Z[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),t.const_set(Z[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(Z[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(Z[0],"SUB_GROUPS",f(["none","normal","verbatim","specialchars"],{none:u(Z,"NONE_SUBS"),normal:u(Z,"NORMAL_SUBS"),verbatim:u(Z,"VERBATIM_SUBS"),specialchars:u(Z,"BASIC_SUBS")})),t.const_set(Z[0],"SUB_HINTS",f(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(Z[0],"SUB_OPTIONS",f(["block","inline"],{block:e(e(u(Z,"SUB_GROUPS").$keys(),u(Z,"NORMAL_SUBS")),["callouts"]),inline:e(u(Z,"SUB_GROUPS").$keys(),u(Z,"NORMAL_SUBS"))})),t.const_set(Z[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(Z[0],"PASS_START",""),t.const_set(Z[0],"PASS_END",""),t.const_set(Z[0],"PassSlotRx",new RegExp(""+u(Z,"PASS_START")+"(\\d+)"+u(Z,"PASS_END"))),t.const_set(Z[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+u(Z,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+u(Z,"PASS_END")+"</span>")),t.const_set(Z[0],"RS","\\"),t.const_set(Z[0],"R_SB","]"),t.const_set(Z[0],"ESC_R_SB","\\]"),t.const_set(Z[0],"PLUS","+"),t.const_set(Z[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(Z[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),J.$attr_reader("passthroughs"),t.def(J,"$apply_subs",v=function(t,n,i){var a,$,l,c=this,f=o,_=o,p=o,y=o;if(null==c.passthroughs&&(c.passthroughs=o),null==n&&(n=u(Z,"NORMAL_SUBS")),null==i&&(i=o),d(d(a=t["$empty?"]())?a:n["$!"]()))return t;if(d(i)){if(d(s("::","Symbol")["$==="](n)))n=d(a=u(Z,"SUB_GROUPS")["$[]"](n))?a:[n];else if(f=[],h(n,"each",[],($=function(t){var r=($.$$s||this,o);return null==t&&(t=o),d(r=u(Z,"SUB_GROUPS")["$[]"](t))?d(r["$empty?"]())?o:f=e(f,r):f["$<<"](t)},$.$$s=c,$.$$arity=1,$)),d((n=f)["$empty?"]()))return t}else if(d(n["$empty?"]()))return t;return _=function(){return d(p=s("::","Array")["$==="](t))?r(t,u(Z,"LF")):t}(),d(y=n["$include?"]("macros"))&&(_=c.$extract_passthroughs(_),d(c.passthroughs["$empty?"]())&&(y=!1)),h(n,"each",[],(l=function(t){var e=l.$$s||this,i=o;return null==t&&(t=o),function(){return i=t,"specialcharacters"["$==="](i)?_=e.$sub_specialchars(_):"quotes"["$==="](i)?_=e.$sub_quotes(_):"attributes"["$==="](i)?d(_["$include?"](u(Z,"ATTR_REF_HEAD")))?_=r(e.$sub_attributes(_.$split(u(Z,"LF"),-1)),u(Z,"LF")):o:"replacements"["$==="](i)?_=e.$sub_replacements(_):"macros"["$==="](i)?_=e.$sub_macros(_):"highlight"["$==="](i)?_=e.$highlight_source(_,n["$include?"]("callouts")):"callouts"["$==="](i)?d(n["$include?"]("highlight"))?o:_=e.$sub_callouts(_):"post_replacements"["$==="](i)?_=e.$sub_post_replacements(_):e.$warn("asciidoctor: WARNING: unknown substitution type "+t)}()},l.$$s=c,l.$$arity=1,l)),d(y)&&(_=c.$restore_passthroughs(_)),d(p)?_.$split(u(Z,"LF"),-1):_},v.$$arity=-2),t.def(J,"$apply_normal_subs",b=function(t){var e=this;return e.$apply_subs(t)},b.$$arity=1),t.def(J,"$apply_title_subs",w=function(t){var e=this;return e.$apply_subs(t,u(Z,"TITLE_SUBS"))},w.$$arity=1),t.def(J,"$apply_reftext_subs",k=function(t){var e=this;return e.$apply_subs(t,u(Z,"REFTEXT_SUBS"))},k.$$arity=1),t.def(J,"$apply_header_subs",E=function(t){var e=this;return e.$apply_subs(t,u(Z,"HEADER_SUBS"))},E.$$arity=1),t.def(J,"$extract_passthroughs",x=function(e){var a,$,s,l,c,_=this,m=o,g=o,v=o,b=o;return null==_.document&&(_.document=o),m=_.document.$compat_mode(),d(d(a=d($=e["$include?"]("++"))?$:e["$include?"]("$$"))?a:e["$include?"]("ss:"))&&(e=h(e,"gsub",[u(Z,"InlinePassMacroRx")],(s=function(){var e,a=s.$$s||this,$=o,l=o,c=o,_=o,g=o,v=o,b=o,w=o,k=o,E=o;if(null==a.passthroughs&&(a.passthroughs=o),null==p["~"]&&(p["~"]=o),$=p["~"],l=o,d(c=$["$[]"](4))){if(d(d(e=m)?c["$=="]("++"):e))return function(){return d($["$[]"](2))?""+$["$[]"](1)+"["+$["$[]"](2)+"]"+$["$[]"](3)+"++"+a.$extract_passthroughs($["$[]"](5))+"++":""+$["$[]"](1)+$["$[]"](3)+"++"+a.$extract_passthroughs($["$[]"](5))+"++"}();if(_=$["$[]"](2),g=$["$[]"](3).$length(),v=$["$[]"](5),b=!1,d(_)){if(d(n(g,0)))return""+$["$[]"](1)+"["+_+"]"+r(u(Z,"RS"),i(g,1))+c+$["$[]"](5)+c;$["$[]"](1)["$=="](u(Z,"RS"))?(l="["+_+"]",_=o):(d((e=c["$=="]("++"))?_["$end_with?"]("x-"):c["$=="]("++"))&&(b=!0,_=_["$[]"](y(0,-2,!0))),_=a.$parse_attributes(_))}else if(d(n(g,0)))return""+r(u(Z,"RS"),i(g,1))+c+$["$[]"](5)+c;w=function(){return c["$=="]("+++")?[]:u(Z,"BASIC_SUBS")}(),k=a.passthroughs.$size(),d(_)?d(b)?(E=[k,f(["text","subs","type","attributes"],{text:v,subs:u(Z,"NORMAL_SUBS"),type:"monospaced",attributes:_})],h(a.passthroughs,"[]=",t.to_a(E)),E[i(E.length,1)]):(E=[k,f(["text","subs","type","attributes"],{text:v,subs:w,type:"unquoted",attributes:_})],h(a.passthroughs,"[]=",t.to_a(E)),E[i(E.length,1)]):(E=[k,f(["text","subs"],{text:v,subs:w})],h(a.passthroughs,"[]=",t.to_a(E)),E[i(E.length,1)])}else{if($["$[]"](6)["$=="](u(Z,"RS")))return $["$[]"](0)["$[]"](y(1,-1,!1));E=[k=a.passthroughs.$size(),f(["text","subs"],{text:a.$unescape_brackets($["$[]"](8)),subs:function(){return d($["$[]"](7))?a.$resolve_pass_subs($["$[]"](7)):[]}()})],h(a.passthroughs,"[]=",t.to_a(E)),E[i(E.length,1)]}return""+l+u(Z,"PASS_START")+k+u(Z,"PASS_END")},s.$$s=_,s.$$arity=0,s))),$=u(Z,"PassInlineRx")["$[]"](m),a=t.to_ary($),g=null==a[0]?o:a[0],v=null==a[1]?o:a[1],b=null==a[2]?o:a[2],$,d(d(a=e["$include?"](g))?a:d($=v)?e["$include?"](v):$)&&(e=h(e,"gsub",[b],(l=function(){var e,r=l.$$s||this,n=o,a=o,$=o,s=o,c=o,_=o,g=o,v=o,b=o,w=o;if(null==r.passthroughs&&(r.passthroughs=o),null==p["~"]&&(p["~"]=o),n=p["~"],a=n["$[]"](1),$=n["$[]"](2),d(n["$[]"](3)["$start_with?"](u(Z,"RS")))&&(s=u(Z,"RS")),c=n["$[]"](4),_=n["$[]"](5),d(m)?g=!0:d(g=d(e=$)?$["$end_with?"]("x-"):e)&&($=$["$[]"](y(0,-2,!0))),d($)){if(d((e=c["$=="]("`"))?g["$!"]():c["$=="]("`")))return""+a+"["+$+"]"+s+"`"+r.$extract_passthroughs(_)+"`";if(d(s))return""+a+"["+$+"]"+n["$[]"](3)["$[]"](y(1,-1,!1));a["$=="](u(Z,"RS"))?(a="["+$+"]",$=o):$=r.$parse_attributes($)}else{if(d((e=c["$=="]("`"))?g["$!"]():c["$=="]("`")))return""+a+s+"`"+r.$extract_passthroughs(_)+"`";if(d(s))return""+a+n["$[]"](3)["$[]"](y(1,-1,!1))}return v=r.passthroughs.$size(),d(m)?(b=[v,f(["text","subs","attributes","type"],{text:_,subs:u(Z,"BASIC_SUBS"),attributes:$,type:"monospaced"})],h(r.passthroughs,"[]=",t.to_a(b)),b[i(b.length,1)]):d($)?d(g)?(w=function(){return c["$=="]("`")?u(Z,"BASIC_SUBS"):u(Z,"NORMAL_SUBS")}(),b=[v,f(["text","subs","attributes","type"],{text:_,subs:w,attributes:$,type:"monospaced"})],h(r.passthroughs,"[]=",t.to_a(b)),b[i(b.length,1)]):(b=[v,f(["text","subs","attributes","type"],{text:_,subs:u(Z,"BASIC_SUBS"),attributes:$,type:"unquoted"})],h(r.passthroughs,"[]=",t.to_a(b)),b[i(b.length,1)]):(b=[v,f(["text","subs"],{text:_,subs:u(Z,"BASIC_SUBS")})],h(r.passthroughs,"[]=",t.to_a(b)),b[i(b.length,1)]),""+a+u(Z,"PASS_START")+v+u(Z,"PASS_END")},l.$$s=_,l.$$arity=0,l))),d(d(a=e["$include?"](":"))?d($=e["$include?"]("stem:"))?$:e["$include?"]("math:"):a)&&(e=h(e,"gsub",[u(Z,"InlineStemMacroRx")],(c=function(){var e=c.$$s||this,r=o,n=o,a=o,$=o,s=o,l=o,_=o;return null==e.document&&(e.document=o),null==e.passthroughs&&(e.passthroughs=o),null==p["~"]&&(p["~"]=o),r=p["~"],d(r["$[]"](0)["$start_with?"](u(Z,"RS")))?r["$[]"](0)["$[]"](y(1,-1,!1)):((n=r["$[]"](1).$to_sym())["$=="]("stem")&&(n=function(){return d((a=e.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":a}().$to_sym()),$=e.$unescape_brackets(r["$[]"](3)),s=function(){return d(r["$[]"](2))?e.$resolve_pass_subs(r["$[]"](2)):d(e.document["$basebackend?"]("html"))?u(Z,"BASIC_SUBS"):[]}(),l=[_=e.passthroughs.$size(),f(["text","subs","type"],{text:$,subs:s,type:n})],h(e.passthroughs,"[]=",t.to_a(l)),l[i(l.length,1)],""+u(Z,"PASS_START")+_+u(Z,"PASS_END"))},c.$$s=_,c.$$arity=0,c))),e},x.$$arity=1),t.def(J,"$restore_passthroughs",A=function(t,e){var r,n,i,a=this;return null==a.passthroughs&&(a.passthroughs=o),null==e&&(e=!0),function(){try{return d(d(r=e)?d(n=a.passthroughs["$empty?"]())?n:t["$include?"](u(Z,"PASS_START"))["$!"]():r)?t:h(t,"gsub",[u(Z,"PassSlotRx")],(i=function(){var t,e=i.$$s||this,r=o,n=o,a=o;return null==e.passthroughs&&(e.passthroughs=o),r=e.passthroughs["$[]"](((t=p["~"])===o?o:t["$[]"](1)).$to_i()),n=e.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),d(a=r["$[]"]("type"))&&(n=u(Z,"Inline").$new(e,"quoted",n,f(["type","attributes"],{type:a,attributes:r["$[]"]("attributes")})).$convert()),d(n["$include?"](u(Z,"PASS_START")))?e.$restore_passthroughs(n,!1):n},i.$$s=a,i.$$arity=0,i))}finally{!function(){return d(e)?a.passthroughs.$clear():o}()}}()},A.$$arity=-2),u(Z,"RUBY_ENGINE")["$=="]("opal")&&(t.def(J,"$sub_quotes",O=function(t){var e,r=this,n=o;return null==r.document&&(r.document=o),d(u(Z,"QuotedTextSniffRx")["$[]"](n=r.document.$compat_mode())["$match?"](t))&&h(u(Z,"QUOTE_SUBS")["$[]"](n),"each",[],(e=function(r,n,i){var a,$=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=h(t,"gsub",[i],(a=function(){var t=a.$$s||this;return null==p["~"]&&(p["~"]=o),t.$convert_quoted_text(p["~"],r,n)},a.$$s=$,a.$$arity=0,a))},e.$$s=r,e.$$arity=3,e)),t},O.$$arity=1),t.def(J,"$sub_replacements",S=function(t){var e,r=this;return d(u(Z,"ReplaceableTextRx")["$match?"](t))&&h(u(Z,"REPLACEMENTS"),"each",[],(e=function(r,n,i){var a,$=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=h(t,"gsub",[r],(a=function(){var t=a.$$s||this;return null==p["~"]&&(p["~"]=o),t.$do_replacement(p["~"],n,i)},a.$$s=$,a.$$arity=0,a))},e.$$s=r,e.$$arity=3,e)),t},S.$$arity=1),t.def(J,"$sub_specialchars",M=function(t){var e,r;return d(d(e=d(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(u(Z,"SpecialCharsRx"),u(Z,"SpecialCharsTr")):t},M.$$arity=1)),t.alias(J,"sub_specialcharacters","sub_specialchars"),t.def(J,"$do_replacement",T=function(t,e,r){var n=o,i=o;return d((n=t["$[]"](0))["$include?"](u(Z,"RS")))?n.$sub(u(Z,"RS"),""):function(){return i=r,"none"["$==="](i)?e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e}()},T.$$arity=3),t.def(J,"$sub_attributes",R=function(e,n){var i,a,$=this,l=o,c=o,_=o;return null==$.document&&($.document=o),null==n&&(n=f([],{})),d(l=s("::","String")["$==="](e))&&(e=[e]),i=[$.document.$attributes(),[]],c=i[0],_=i[1],i,function(){var r=t.new_brk();try{return h(e,"each",[],(a=function(e){var r,i,$,s=a.$$s||this,l=o,f=o;return null==e&&(e=o),l=f=!1,d(e["$include?"](u(Z,"ATTR_REF_HEAD")))&&(e=function(){var i=t.new_brk();try{return h(e,"gsub",[u(Z,"AttributeReferenceRx")],(r=function(){var e,a,$,s=r.$$s||this,_=o,y=o,m=o,g=o,v=o,b=o;return null==s.document&&(s.document=o),d(d(e=((a=p["~"])===o?o:a["$[]"](1))["$=="](u(Z,"RS")))?e:((a=p["~"])===o?o:a["$[]"](4))["$=="](u(Z,"RS")))?"{"+((e=p["~"])===o?o:e["$[]"](2))+"}":d((e=p["~"])===o?o:e["$[]"](3))?function(){return _=(y=((e=p["~"])===o?o:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](_)?(a=u(Z,"Parser").$store_attribute(y["$[]"](0),d($=y["$[]"](1))?$:"",s.document),e=t.to_ary(a),m=null==e[0]?o:e[0],g=null==e[1]?o:e[1],a,d(g)||c.$fetch("attribute-undefined",u(Z,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(l=!0,t.brk("",i)),f=!0,""):"counter2"["$==="](_)?(h(s.document,"counter",t.to_a(y)),f=!0,""):h(s.document,"counter",t.to_a(y))}():d(c["$key?"](v=((e=p["~"])===o?o:e["$[]"](2)).$downcase()))?c["$[]"](v):d(u(Z,"INTRINSIC_ATTRIBUTES")["$key?"](v))?u(Z,"INTRINSIC_ATTRIBUTES")["$[]"](v):function(){return _=b=d(e=b)?e:d(a=n["$[]"]("attribute_missing"))?a:c.$fetch("attribute-missing",u(Z,"Compliance").$attribute_missing()),"drop"["$==="](_)?(f=!0,""):"drop-line"["$==="](_)?(s.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+v),l=!0,t.brk("",i),void 0):"warn"["$==="](_)?(s.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+v),(e=p["~"])===o?o:e["$[]"](0)):(e=p["~"])===o?o:e["$[]"](0)}()},r.$$s=s,r.$$brk=i,r.$$arity=0,r))}catch(t){if(t===i)return t.$v;throw t}}()),d(d(i=l)?i:d($=f)?e["$empty?"]():$)?o:_["$<<"](e)},a.$$s=$,a.$$brk=r,a.$$arity=1,a))}catch(t){if(t===r)return t.$v;throw t}}(),d(l)?r(_,u(Z,"LF")):_},R.$$arity=-2),t.def(J,"$sub_macros",I=function(e){var r,a,$,c,_,m,g,v,b,w,k,E,x=this,A=o,O=o,S=o,M=o,T=o,R=o,I=o,C=o,N=o,z=o;return null==x.document&&(x.document=o),A=f([],{}),S=["square_bracket",e["$include?"]("[")],h(A,"[]=",t.to_a(S)),O=S[i(S.length,1)],M=e["$include?"](":"),S=["macroish",d(r=O)?M:r],h(A,"[]=",t.to_a(S)),T=S[i(S.length,1)],R=d(r=T)?e["$include?"](":["):r,I=x.document.$attributes(),C=I["$key?"]("linkattrs"),N=e,d(I["$key?"]("experimental"))&&(d(d(r=R)?d(a=N["$include?"]("kbd:"))?a:N["$include?"]("btn:"):r)&&(N=h(N,"gsub",[u(Z,"InlineKbdBtnMacroRx")],($=function(){var e,r,a,s=$.$$s||this,l=o,c=o,_=o;return d((e=p["~"])===o?o:e["$[]"](1))?((e=p["~"])===o?o:e["$[]"](0)).$slice(1,((e=p["~"])===o?o:e["$[]"](0)).$length()):((e=p["~"])===o?o:e["$[]"](2))["$=="]("kbd")?(d((l=((e=p["~"])===o?o:e["$[]"](3)).$strip())["$include?"](u(Z,"R_SB")))&&(l=l.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),d(d(e=n(l.$length(),1))?c=function(){return d(c=l.$index(",",1))?[c,l.$index("+",1)].$compact().$min():l.$index("+",1)}():e)?(_=l.$slice(c,1),d(l["$end_with?"](_))?(l=h(l.$chop().$split(_,-1),"map",[],(r=function(t){r.$$s||this;return null==t&&(t=o),t.$strip()},r.$$s=s,r.$$arity=1,r)),S=[-1,""+l["$[]"](-1)+_],h(l,"[]=",t.to_a(S)),S[i(S.length,1)]):l=h(l.$split(_),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=o),t.$strip()},a.$$s=s,a.$$arity=1,a))):l=[l],u(Z,"Inline").$new(s,"kbd",o,f(["attributes"],{attributes:f(["keys"],{keys:l})})).$convert()):u(Z,"Inline").$new(s,"button",s.$unescape_bracketed_text((e=p["~"])===o?o:e["$[]"](3))).$convert()},$.$$s=x,$.$$arity=0,$))),d(d(r=T)?N["$include?"]("menu:"):r)&&(N=h(N,"gsub",[u(Z,"InlineMenuMacroRx")],(c=function(){var t,e,r=c.$$s||this,n=o,i=o,a=o,$=o,s=o,l=o,_=o;return null==p["~"]&&(p["~"]=o),n=p["~"],d((i=n["$[]"](0))["$start_with?"](u(Z,"RS")))?i["$[]"](y(1,-1,!1)):(t=[n["$[]"](1),n["$[]"](2)],a=t[0],$=t[1],t,d($)?(d($["$include?"](u(Z,"R_SB")))&&($=$.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),d(s=function(){return d($["$include?"]("&gt;"))?"&gt;":d($["$include?"](","))?",":o}())?(l=h($.$split(s),"map",[],(e=function(t){e.$$s||this;return null==t&&(t=o),t.$strip()},e.$$s=r,e.$$arity=1,e)),_=l.$pop()):(t=[[],$.$rstrip()],l=t[0],_=t[1],t)):(t=[[],o],l=t[0],_=t[1],t),u(Z,"Inline").$new(r,"menu",o,f(["attributes"],{attributes:f(["menu","submenus","menuitem"],{menu:a,submenus:l,menuitem:_})})).$convert())},c.$$s=x,c.$$arity=0,c))),d(d(r=N["$include?"]('"'))?N["$include?"]("&gt;"):r)&&(N=h(N,"gsub",[u(Z,"MenuInlineRx")],(_=function(){var e,r,n,i=_.$$s||this,a=o,$=o,s=o,c=o,m=o,g=o;return null==p["~"]&&(p["~"]=o),a=p["~"],d(($=a["$[]"](0))["$start_with?"](u(Z,"RS")))?$["$[]"](y(1,-1,!1)):(s=a["$[]"](1),r=h(s.$split("&gt;"),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=o),t.$strip()},n.$$s=i,n.$$arity=1,n)),e=t.to_ary(r),c=null==e[0]?o:e[0],m=l.call(e,1),r,g=m.$pop(),u(Z,"Inline").$new(i,"menu",o,f(["attributes"],{attributes:f(["menu","submenus","menuitem"],{menu:c,submenus:m,menuitem:g})})).$convert())},_.$$s=x,_.$$arity=0,_)))),d(d(r=z=x.document.$extensions())?z["$inline_macros?"]():r)&&h(z.$inline_macros(),"each",[],(m=function(e){var r,n=m.$$s||this;return null==e&&(e=o),N=h(N,"gsub",[e.$instance().$regexp()],(r=function(){var n,a=r.$$s||this,$=o,s=o,l=o,c=o,_=o,m=o;return null==p["~"]&&(p["~"]=o),$=p["~"],d($["$[]"](0)["$start_with?"](u(Z,"RS")))?$["$[]"](0)["$[]"](y(1,-1,!1)):(d(function(){try{return $.$names()}catch(e){if(!t.rescue(e,[u(Z,"StandardError")]))throw e;try{return[]}finally{t.pop_exception()}}}()["$empty?"]())?(n=[$["$[]"](1),$["$[]"](2),e.$config()],s=n[0],l=n[1],c=n[2],n):(n=[function(){try{return $["$[]"]("target")}catch(e){if(!t.rescue(e,[u(Z,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),function(){try{return $["$[]"]("content")}catch(e){if(!t.rescue(e,[u(Z,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),e.$config()],s=n[0],l=n[1],c=n[2],n),_=function(){return d(_=c["$[]"]("default_attrs"))?_.$dup():f([],{})}(),d(l["$nil_or_empty?"]())?d(d(n=l)?c["$[]"]("content_model")["$!="]("attributes"):n)&&(S=["text",l],h(_,"[]=",t.to_a(S)),S[i(S.length,1)]):(l=a.$unescape_bracketed_text(l),c["$[]"]("content_model")["$=="]("attributes")?a.$parse_attributes(l,d(n=c["$[]"]("pos_attrs"))?n:[],f(["sub_result","into"],{sub_result:!1,into:_})):(S=["text",l],h(_,"[]=",t.to_a(S)),S[i(S.length,1)])),m=e.$process_method()["$[]"](a,d(n=s)?n:l,_),d(u(Z,"Inline")["$==="](m))?m.$convert():m)},r.$$s=n,r.$$arity=0,r))},m.$$s=x,m.$$arity=1,m)),d(d(r=T)?d(a=N["$include?"]("image:"))?a:N["$include?"]("icon:"):r)&&(N=h(N,"gsub",[u(Z,"InlineImageMacroRx")],(g=function(){var e,r=g.$$s||this,n=o,a=o,$=o,s=o,l=o,c=o;return null==r.document&&(r.document=o),null==p["~"]&&(p["~"]=o),n=p["~"],d((a=(e=p["~"])===o?o:e["$[]"](0))["$start_with?"](u(Z,"RS")))?a["$[]"](y(1,-1,!1)):(d(a["$start_with?"]("icon:"))?(e=["icon",["size"]],$=e[0],s=e[1],e):(e=["image",["alt","width","height"]],$=e[0],s=e[1],e),d((l=n["$[]"](1))["$include?"](u(Z,"ATTR_REF_HEAD")))&&(l=r.$sub_attributes(l)),$["$=="]("icon")||r.document.$register("images",l),c=r.$parse_attributes(n["$[]"](2),s,f(["unescape_input"],{unescape_input:!0})),d(e=c["$[]"]("alt"))?e:(S=["alt",(S=["default-alt",u(Z,"Helpers").$basename(l,!0).$tr("_-"," ")],h(c,"[]=",t.to_a(S)),S[i(S.length,1)])],h(c,"[]=",t.to_a(S)),S[i(S.length,1)]),u(Z,"Inline").$new(r,"image",o,f(["type","target","attributes"],{type:$,target:l,attributes:c})).$convert())},g.$$s=x,g.$$arity=0,g))),d(d(r=d(a=N["$include?"]("(("))?N["$include?"]("))"):a)?r:d(a=R)?N["$include?"]("indexterm"):a)&&(N=h(N,"gsub",[u(Z,"InlineIndextermMacroRx")],(v=function(){var t,e=v.$$s||this,r=o,n=o,a=o,$=o,s=o,l=o,c=o,_=o;return null==e.document&&(e.document=o),null==p["~"]&&(p["~"]=o),r=p["~"],d(r["$[]"](0)["$start_with?"](u(Z,"RS")))?r["$[]"](0)["$[]"](y(1,-1,!1)):function(){return n=r["$[]"](1),"indexterm"["$==="](n)?(a=e.$split_simple_csv(e.$normalize_string(r["$[]"](2),!0)),e.document.$register("indexterms",a),u(Z,"Inline").$new(e,"indexterm",o,f(["attributes"],{attributes:f(["terms"],{terms:a})})).$convert()):"indexterm2"["$==="](n)?($=e.$normalize_string(r["$[]"](2),!0),e.document.$register("indexterms",[$]),u(Z,"Inline").$new(e,"indexterm",$,f(["type"],{type:"visible"})).$convert()):(t=[r["$[]"](3),!0,o,o],s=t[0],l=t[1],c=t[2],_=t[3],t,d(s["$start_with?"]("("))?d(s["$end_with?"](")"))?(t=[s.$slice(1,i(s.$length(),2)),!1],s=t[0],l=t[1],t):(t=[s.$slice(1,i(s.$length(),1)),"(",""],s=t[0],c=t[1],_=t[2],t):d(s["$end_with?"](")"))&&(d(s["$start_with?"]("("))?(t=[s.$slice(1,i(s.$length(),2)),!1],s=t[0],l=t[1],t):(t=[s.$slice(0,i(s.$length(),1)),"",")"],s=t[0],c=t[1],_=t[2],t)),d(l)?($=e.$normalize_string(s),e.document.$register("indexterms",[$]),N=u(Z,"Inline").$new(e,"indexterm",$,f(["type"],{type:"visible"})).$convert()):(a=e.$split_simple_csv(e.$normalize_string(s)),e.document.$register("indexterms",a),N=u(Z,"Inline").$new(e,"indexterm",o,f(["attributes"],{attributes:f(["terms"],{terms:a})})).$convert()),d(c)?""+c+N+_:N)}()},v.$$s=x,v.$$arity=0,v))),d(d(r=M)?N["$include?"]("://"):r)&&(N=h(N,"gsub",[u(Z,"LinkInlineRx")],(b=function(){var e,r,n,a=b.$$s||this,$=o,s=o,l=o,c=o,_=o,m=o,g=o,v=o,w=o;if(null==a.document&&(a.document=o),null==p["~"]&&(p["~"]=o),$=p["~"],d($["$[]"](2)["$start_with?"](u(Z,"RS"))))return""+$["$[]"](1)+$["$[]"](2)["$[]"](y(1,-1,!1))+$["$[]"](3);if(e=[$["$[]"](1),$["$[]"](2),d(r=s=$["$[]"](3))?r:"",""],l=e[0],c=e[1],_=e[2],m=e[3],e,l["$=="]("link:")){if(!d(s))return $["$[]"](0);l=""}return d(d(e=s)?e:u(Z,"UriTerminatorRx")["$!~"](c))||(g=(e=p["~"])===o?o:e["$[]"](0),")"["$==="](g)?(c=c.$chop(),m=")"):";"["$==="](g)?d(d(e=l["$start_with?"]("&lt;"))?c["$end_with?"]("&gt;"):e)?(l=l["$[]"](y(4,-1,!1)),c=c["$[]"](y(0,-4,!0))):d((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),m=");"):m=";":":"["$==="](g)&&(d((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),m="):"):m=":")),e=[o,f(["type"],{type:"link"})],v=e[0],w=e[1],e,d(_["$empty?"]())||(d(_["$include?"](u(Z,"R_SB")))&&(_=_.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),d(d(e=C)?d(r=_["$start_with?"]('"'))?r:d(n=_["$include?"](","))?_["$include?"]("="):n:e)&&(v=a.$parse_attributes(_,[]),d(v["$key?"]("id"))&&(S=["id",v.$delete("id")],h(w,"[]=",t.to_a(S)),S[i(S.length,1)]),_=d(e=v["$[]"](1))?e:""),d(_["$end_with?"]("^"))&&(_=_.$chop(),d(v)?d(e=v["$[]"]("window"))?e:(S=["window","_blank"],h(v,"[]=",t.to_a(S)),S[i(S.length,1)]):v=f(["window"],{window:"_blank"}))),d(_["$empty?"]())&&(_=function(){return d(I["$key?"]("hide-uri-scheme"))?c.$sub(u(Z,"UriSniffRx"),""):c}(),d(v)?(S=["role",function(){return d(v["$key?"]("role"))?"bare "+v["$[]"]("role"):"bare"}()],h(v,"[]=",t.to_a(S)),S[i(S.length,1)]):v=f(["role"],{role:"bare"})),a.document.$register("links",(S=["target",c],h(w,"[]=",t.to_a(S)),S[i(S.length,1)])),d(v)&&(S=["attributes",v],h(w,"[]=",t.to_a(S)),S[i(S.length,1)]),""+l+u(Z,"Inline").$new(a,"anchor",_,w).$convert()+m},b.$$s=x,b.$$arity=0,b))),d(d(r=T)?d(a=N["$include?"]("link:"))?a:N["$include?"]("mailto:"):r)&&(N=h(N,"gsub",[u(Z,"InlineLinkMacroRx")],(w=function(){var e,r,n,a,$=w.$$s||this,s=o,l=o,c=o,_=o,m=o,g=o;return null==$.document&&($.document=o),null==p["~"]&&(p["~"]=o),s=p["~"],d(s["$[]"](0)["$start_with?"](u(Z,"RS")))?s["$[]"](0)["$[]"](y(1,-1,!1)):(l=function(){return d(c=s["$[]"](1))?"mailto:"+s["$[]"](2):s["$[]"](2)}(),e=[o,f(["type"],{type:"link"})],_=e[0],m=e[1],e,d((g=s["$[]"](3))["$empty?"]())||(d(g["$include?"](u(Z,"R_SB")))&&(g=g.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),d(d(e=C)?d(r=g["$start_with?"]('"'))?r:d(n=g["$include?"](","))?d(a=c)?a:g["$include?"]("="):n:e)&&(_=$.$parse_attributes(g,[]),d(_["$key?"]("id"))&&(S=["id",_.$delete("id")],h(m,"[]=",t.to_a(S)),S[i(S.length,1)]),d(c)&&d(_["$key?"](2))&&(l=d(_["$key?"](3))?""+l+"?subject="+u(Z,"Helpers").$uri_encode(_["$[]"](2))+"&amp;body="+u(Z,"Helpers").$uri_encode(_["$[]"](3)):""+l+"?subject="+u(Z,"Helpers").$uri_encode(_["$[]"](2))),g=d(e=_["$[]"](1))?e:""),d(g["$end_with?"]("^"))&&(g=g.$chop(),d(_)?d(e=_["$[]"]("window"))?e:(S=["window","_blank"],h(_,"[]=",t.to_a(S)),S[i(S.length,1)]):_=f(["window"],{window:"_blank"}))),d(g["$empty?"]())&&(d(c)?g=s["$[]"](2):(g=function(){return d(I["$key?"]("hide-uri-scheme"))?l.$sub(u(Z,"UriSniffRx"),""):l}(),d(_)?(S=["role",function(){return d(_["$key?"]("role"))?"bare "+_["$[]"]("role"):"bare"}()],h(_,"[]=",t.to_a(S)),S[i(S.length,1)]):_=f(["role"],{role:"bare"}))),$.document.$register("links",(S=["target",l],h(m,"[]=",t.to_a(S)),S[i(S.length,1)])),d(_)&&(S=["attributes",_],h(m,"[]=",t.to_a(S)),S[i(S.length,1)]),u(Z,"Inline").$new($,"anchor",g,m).$convert())},w.$$s=x,w.$$arity=0,w))),d(N["$include?"]("@"))&&(N=h(N,"gsub",[u(Z,"EmailInlineRx")],(k=function(){var t,e,r=k.$$s||this,n=o,i=o,a=o;return null==r.document&&(r.document=o),t=[(e=p["~"])===o?o:e["$[]"](0),(e=p["~"])===o?o:e["$[]"](1)],n=t[0],i=t[1],d(i)?function(){return i["$=="](u(Z,"RS"))?n["$[]"](y(1,-1,!1)):n}():(a="mailto:"+n,r.document.$register("links",a),u(Z,"Inline").$new(r,"anchor",n,f(["type","target"],{type:"link",target:a})).$convert())},k.$$s=x,k.$$arity=0,k))),d(d(r=R)?N["$include?"]("footnote"):r)&&(N=h(N,"gsub",[u(Z,"InlineFootnoteMacroRx")],(E=function(){var e,r,n,i=E.$$s||this,a=o,$=o,l=o,c=o,_=o,m=o,g=o;return null==i.document&&(i.document=o),null==p["~"]&&(p["~"]=o),a=p["~"],d(a["$[]"](0)["$start_with?"](u(Z,"RS")))?a["$[]"](0)["$[]"](y(1,-1,!1)):(a["$[]"](1)["$=="]("footnote")?($=o,l=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(a["$[]"](2),!0))),!1),c=i.document.$counter("footnote-number"),i.document.$register("footnotes",s(u(Z,"Document"),"Footnote").$new(c,$,l)),_=o,m=o):(r=a["$[]"](2).$split(",",2),e=t.to_ary(r),$=null==e[0]?o:e[0],l=null==e[1]?o:e[1],r,$=$.$strip(),d(l)?(l=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(l,!0))),!1),c=i.document.$counter("footnote-number"),i.document.$register("footnotes",s(u(Z,"Document"),"Footnote").$new(c,$,l)),_="ref",m=o):(d(g=h(i.document.$footnotes(),"find",[],(n=function(t){n.$$s||this;return null==t&&(t=o),t.$id()["$=="]($)},n.$$s=i,n.$$arity=1,n)))?(c=g.$index(),l=g.$text()):(c=o,l=$),m=$,$=o,_="xref")),u(Z,"Inline").$new(i,"footnote",l,f(["attributes","id","target","type"],{attributes:f(["index"],{index:c}),id:$,target:m,type:_})).$convert())},E.$$s=x,E.$$arity=0,E))),x.$sub_inline_xrefs(x.$sub_inline_anchors(N,A),A)},I.$$arity=1),t.def(J,"$sub_inline_anchors",C=function(t,e){var r,n,i,a,$,s=this;return null==s.context&&(s.context=o),null==s.parent&&(s.parent=o),null==e&&(e=o),d((r=s.context["$=="]("list_item"))?s.parent.$style()["$=="]("bibliography"):s.context["$=="]("list_item"))&&(t=h(t,"sub",[u(Z,"InlineBiblioAnchorRx")],(n=function(){var t,e,r=n.$$s||this;return u(Z,"Inline").$new(r,"anchor","["+(d(t=(e=p["~"])===o?o:e["$[]"](2))?t:(e=p["~"])===o?o:e["$[]"](1))+"]",f(["type","id","target"],{type:"bibref",id:(t=p["~"])===o?o:t["$[]"](1),target:(t=p["~"])===o?o:t["$[]"](1)})).$convert()},n.$$s=s,n.$$arity=0,n))),d(d(r=d(i=d(a=e["$!"]())?a:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:d(i=d(a=e["$!"]())?a:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=h(t,"gsub",[u(Z,"InlineAnchorRx")],($=function(){var t,e,r=$.$$s||this,n=o,i=o;return d((t=p["~"])===o?o:t["$[]"](1))?((t=p["~"])===o?o:t["$[]"](0)).$slice(1,((t=p["~"])===o?o:t["$[]"](0)).$length()):(d(n=(t=p["~"])===o?o:t["$[]"](2))?i=(t=p["~"])===o?o:t["$[]"](3):(n=(t=p["~"])===o?o:t["$[]"](4),d(d(t=i=(e=p["~"])===o?o:e["$[]"](5))?i["$include?"](u(Z,"R_SB")):t)&&(i=i.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB")))),u(Z,"Inline").$new(r,"anchor",i,f(["type","id","target"],{type:"ref",id:n,target:n})).$convert())},$.$$s=s,$.$$arity=0,$))),t},C.$$arity=-2),t.def(J,"$sub_inline_xrefs",N=function(r,a){var $,s,l,c=this;return null==a&&(a=o),d(d($=d(s=function(){return d(a)?a["$[]"]("macroish"):r["$include?"]("[")}())?r["$include?"]("xref:"):s)?$:d(s=r["$include?"]("&"))?r["$include?"]("&lt;&lt;"):s)&&(r=h(r,"gsub",[u(Z,"InlineXrefMacroRx")],(l=function(){var r,a,$=l.$$s||this,s=o,c=o,_=o,h=o,m=o,g=o,v=o,b=o,w=o,k=o,E=o;return null==$.document&&($.document=o),null==p["~"]&&(p["~"]=o),null==p.VERBOSE&&(p.VERBOSE=o),s=p["~"],d(s["$[]"](0)["$start_with?"](u(Z,"RS")))?s["$[]"](0)["$[]"](y(1,-1,!1)):(d(c=s["$[]"](1))?(a=c.$split(",",2),r=t.to_ary(a),c=null==r[0]?o:r[0],_=null==r[1]?o:r[1],a,d(_)&&(_=_.$lstrip())):(c=s["$[]"](2),d(d(r=_=s["$[]"](3))?_["$include?"](u(Z,"R_SB")):r)&&(_=_.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB")))),d(h=c.$index("#"))?d(n(h,0))?d(n(m=i(i(c.$length(),h),1),0))?(r=[c.$slice(0,h),c.$slice(e(h,1),m)],g=r[0],v=r[1],r):(r=[c.$slice(0,h),o],g=r[0],v=r[1],r):(r=[c,o,c.$slice(1,c.$length())],b=r[0],g=r[1],v=r[2],r):(r=[o,c],g=r[0],v=r[1],r),d(b)?w=v:d(g)?(d(d(r=k=g.$rindex("."))?u(Z,"ASCIIDOC_EXTENSIONS")["$[]"](g.$slice(k,g.$length())):r)&&(g=g.$slice(0,k)),d(d(r=$.document.$attributes()["$[]"]("docname")["$=="](g))?r:$.document.$catalog()["$[]"]("includes")["$include?"](g))?(r=[v,o,"#"+v],w=r[0],g=r[1],b=r[2],r):(w=function(){return d(v)?""+g+"#"+v:g}(),g=""+$.document.$attributes()["$[]"]("relfileprefix")+g+$.document.$attributes().$fetch("outfilesuffix",".html"),b=function(){return d(v)?""+g+"#"+v:g}())):(d($.document.$catalog()["$[]"]("ids")["$key?"](v))||(d(d(r=d(a=v["$include?"](" "))?a:v.$downcase()["$!="](v))?E=$.document.$catalog()["$[]"]("ids").$key(v):r)?v=E:d(p.VERBOSE)&&$.$warn("asciidoctor: WARNING: invalid reference: "+v)),r=[v,"#"+v],w=r[0],b=r[1],r),u(Z,"Inline").$new($,"anchor",_,f(["type","target","attributes"],{type:"xref",target:b,attributes:f(["path","fragment","refid"],{path:g,fragment:v,refid:w})})).$convert())},l.$$s=c,l.$$arity=0,l))),r},N.$$arity=-2),t.def(J,"$sub_callouts",z=function(t){var e,r=this,n=o;return n=function(){return d(r["$attr?"]("line-comment"))?new RegExp("(?:"+s("::","Regexp").$escape(r.$attr("line-comment"))+" )?"+u(Z,"CalloutSourceRxt")):u(Z,"CalloutSourceRx")}(),h(t,"gsub",[n],(e=function(){var t,r=e.$$s||this;return null==r.document&&(r.document=o),d((t=p["~"])===o?o:t["$[]"](1))?((t=p["~"])===o?o:t["$[]"](0)).$sub(u(Z,"RS"),""):u(Z,"Inline").$new(r,"callout",(t=p["~"])===o?o:t["$[]"](3),f(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()},e.$$s=r,e.$$arity=0,e))},z.$$arity=1),t.def(J,"$sub_post_replacements",P=function(t){var e,n,$,s=this,l=o,c=o;return null==s.document&&(s.document=o),
null==s.attributes&&(s.attributes=o),d(d(e=s.document.$attributes()["$key?"]("hardbreaks"))?e:s.attributes["$key?"]("hardbreaks-option"))?(l=t.$split(u(Z,"LF"),-1),d(a(l.$size(),2))?t:(c=l.$pop(),r(h(l,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=o),u(Z,"Inline").$new(e,"break",function(){return d(t["$end_with?"](u(Z,"HARD_LINE_BREAK")))?t.$slice(0,i(t.$length(),2)):t}(),f(["type"],{type:"line"})).$convert()},n.$$s=s,n.$$arity=1,n))["$<<"](c),u(Z,"LF")))):d(d(e=t["$include?"](u(Z,"PLUS")))?t["$include?"](u(Z,"HARD_LINE_BREAK")):e)?h(t,"gsub",[u(Z,"HardLineBreakRx")],($=function(){var t,e=$.$$s||this;return u(Z,"Inline").$new(e,"break",(t=p["~"])===o?o:t["$[]"](1),f(["type"],{type:"line"})).$convert()},$.$$s=s,$.$$arity=0,$)):t},P.$$arity=1),t.def(J,"$convert_quoted_text",B=function(t,e,r){var n,i=this,a=o,$=o,s=o,l=o,c=o;if(d(t["$[]"](0)["$start_with?"](u(Z,"RS")))){if(!d((n=r["$=="]("constrained"))?a=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0)["$[]"](y(1,-1,!1));$="["+a+"]"}return r["$=="]("constrained")?d($)?""+$+u(Z,"Inline").$new(i,"quoted",t["$[]"](3),f(["type"],{type:e})).$convert():(d(s=t["$[]"](2))&&(l=(c=i.$parse_quoted_text_attributes(s)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+u(Z,"Inline").$new(i,"quoted",t["$[]"](3),f(["type","id","attributes"],{type:e,id:l,attributes:c})).$convert()):(d(s=t["$[]"](1))&&(l=(c=i.$parse_quoted_text_attributes(s)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),u(Z,"Inline").$new(i,"quoted",t["$[]"](2),f(["type","id","attributes"],{type:e,id:l,attributes:c})).$convert())},B.$$arity=3),t.def(J,"$parse_quoted_text_attributes",q=function(e){var a,$,s=this,c=o,_=o,p=o,y=o,m=o,g=o;return d(e["$include?"](u(Z,"ATTR_REF_HEAD")))&&(e=s.$sub_attributes(e)),d(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),d((e=e.$strip())["$empty?"]())?f([],{}):d(d(a=e["$start_with?"](".","#"))?u(Z,"Compliance").$shorthand_property_syntax():a)?(c=e.$split("#",2),d(n(c.$size(),1))?($=c["$[]"](1).$split("."),a=t.to_ary($),_=null==a[0]?o:a[0],p=l.call(a,1),$):(_=o,p=[]),y=function(){return d(c["$[]"](0)["$empty?"]())?[]:c["$[]"](0).$split(".")}(),d(n(y.$size(),1))&&y.$shift(),d(n(p.$size(),0))&&y.$concat(p),m=f([],{}),d(_)&&(g=["id",_],h(m,"[]=",t.to_a(g)),g[i(g.length,1)]),d(y["$empty?"]())||(g=["role",r(y," ")],h(m,"[]=",t.to_a(g)),g[i(g.length,1)]),m):f(["role"],{role:e})},q.$$arity=1),t.def(J,"$parse_attributes",D=function(t,e,r){var n,i=this,a=o,$=o;return null==i.document&&(i.document=o),null==e&&(e=["role"]),null==r&&(r=f([],{})),d(t)?d(t["$empty?"]())?f([],{}):(d(d(n=r["$[]"]("sub_input"))?t["$include?"](u(Z,"ATTR_REF_HEAD")):n)&&(t=i.document.$sub_attributes(t)),d(r["$[]"]("unescape_input"))&&(t=i.$unescape_bracketed_text(t)),a=function(){return d(r.$fetch("sub_result",!0))?i:o}(),d($=r["$[]"]("into"))?u(Z,"AttributeList").$new(t,a).$parse_into($,e):u(Z,"AttributeList").$new(t,a).$parse(e)):o},D.$$arity=-2),t.def(J,"$unescape_bracketed_text",L=function(t){return d(t["$empty?"]())||d((t=t.$strip().$tr(u(Z,"LF")," "))["$include?"](u(Z,"R_SB")))&&(t=t.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),t},L.$$arity=1),t.def(J,"$normalize_string",F=function(t,e){var r;return null==e&&(e=!1),d(t["$empty?"]())||(t=t.$strip().$tr(u(Z,"LF")," "),d(d(r=e)?t["$include?"](u(Z,"R_SB")):r)&&(t=t.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB")))),t},F.$$arity=-2),t.def(J,"$unescape_brackets",j=function(t){return d(t["$empty?"]())||d(t["$include?"](u(Z,"RS")))&&(t=t.$gsub(u(Z,"ESC_R_SB"),u(Z,"R_SB"))),t},j.$$arity=1),t.def(J,"$split_simple_csv",U=function(t){var e,r,n=this,i=o,a=o,$=o;return d(t["$empty?"]())?i=[]:d(t["$include?"]('"'))?(i=[],a=[],$=!1,h(t,"each_char",[],(e=function(t){var r=(e.$$s||this,o);return null==t&&(t=o),function(){return r=t,","["$==="](r)?d($)?a["$<<"](t):(i["$<<"](a.$join().$strip()),a=[]):'"'["$==="](r)?$=$["$!"]():a["$<<"](t)}()},e.$$s=n,e.$$arity=1,e)),i["$<<"](a.$join().$strip())):i=h(t.$split(","),"map",[],(r=function(t){r.$$s||this;return null==t&&(t=o),t.$strip()},r.$$s=n,r.$$arity=1,r)),i},U.$$arity=1),t.def(J,"$resolve_subs",H=function(t,a,$,s){var l,c=this,f=o,_=o,p=o,m=o;return null==a&&(a="block"),null==$&&($=o),null==s&&(s=o),d(t["$nil_or_empty?"]())?[]:(f=o,d(t["$include?"](" "))&&(t=t.$delete(" ")),_=u(Z,"SubModifierSniffRx")["$match?"](t),h(t.$split(","),"each",[],(l=function(t){var r,n,s=(l.$$s||this,o),c=o,h=o,p=o,m=o,g=o;return null==t&&(t=o),s=o,d(_)&&((c=t.$chr())["$=="]("+")?(s="append",t=t["$[]"](y(1,-1,!1))):c["$=="]("-")?(s="remove",t=t["$[]"](y(1,-1,!1))):d(t["$end_with?"]("+"))&&(s="prepend",t=t.$chop())),t=t.$to_sym(),d((r=a["$=="]("inline"))?d(n=t["$=="]("verbatim"))?n:t["$=="]("v"):a["$=="]("inline"))?h=u(Z,"BASIC_SUBS"):d(u(Z,"SUB_GROUPS")["$key?"](t))?h=u(Z,"SUB_GROUPS")["$[]"](t):d(d(r=(n=a["$=="]("inline"))?t.$length()["$=="](1):a["$=="]("inline"))?u(Z,"SUB_HINTS")["$key?"](t):r)?(p=u(Z,"SUB_HINTS")["$[]"](t),h=d(m=u(Z,"SUB_GROUPS")["$[]"](p))?m:[p]):h=[t],d(s)?(f=d(r=f)?r:function(){return d($)?$.$dup():[]}(),function(){return g=s,"append"["$==="](g)?f=e(f,h):"prepend"["$==="](g)?f=e(h,f):"remove"["$==="](g)?f=i(f,h):o}()):(f=d(r=f)?r:[],f=e(f,h))},l.$$s=c,l.$$arity=1,l)),d(f)?(p=f["$&"](u(Z,"SUB_OPTIONS")["$[]"](a)),d(i(f,p)["$empty?"]())||(m=i(f,p),c.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return d(n(m.$size(),1))?"s":""}()+function(){return d(s)?" for ":o}()+s+": "+r(m,", "))),p):[])},H.$$arity=-2),t.def(J,"$resolve_block_subs",G=function(t,e,r){var n=this;return n.$resolve_subs(t,"block",e,r)},G.$$arity=3),t.def(J,"$resolve_pass_subs",Y=function(t){var e=this;return e.$resolve_subs(t,"inline",o,"passthrough macro")},Y.$$arity=1),t.def(J,"$highlight_source",W=function(n,a,$){var l,c,_,y,m,g,v=this,b=o,w=o,k=o,E=o,x=o,A=o,O=o,S=o,M=o,T=o,R=o,I=o,C=o,N=o;return null==v.document&&(v.document=o),null==v.passthroughs&&(v.passthroughs=o),null==$&&($=o),b=$=d(l=$)?l:v.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](b)?d(d(l=w=(c=s("::","CodeRay","skip_raise"))?"constant":o)?l:v.document.$attributes()["$[]"]("coderay-unavailable"))||(d(u(Z,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?v.document.$set_attr("coderay-unavailable"):w=!0):"pygments"["$==="](b)?d(d(l=w=(_=s("::","Pygments","skip_raise"))?"constant":o)?l:v.document.$attributes()["$[]"]("pygments-unavailable"))||(d(u(Z,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?v.document.$set_attr("pygments-unavailable"):w=!0):w=!1,d(w)?(k=0,E=!1,d(a)?(x=f([],{}),A=-1,O=function(){return d(v["$attr?"]("line-comment"))?new RegExp("(?:"+s("::","Regexp").$escape(v.$attr("line-comment"))+" )?"+u(Z,"CalloutExtractRxt")):u(Z,"CalloutExtractRx")}(),n=r(h(n.$split(u(Z,"LF"),-1),"map",[],(y=function(r){var n,a=y.$$s||this;return null==r&&(r=o),k=e(k,1),h(r,"gsub",[O],(n=function(){var e,r=(n.$$s||this,o),a=o;return null==p["~"]&&(p["~"]=o),r=p["~"],r["$[]"](1)["$=="](u(Z,"RS"))?r["$[]"](0).$sub(u(Z,"RS"),""):((d(e=x["$[]"](k))?e:(a=[k,[]],h(x,"[]=",t.to_a(a)),a[i(a.length,1)]))["$<<"](r["$[]"](3)),A=k,o)},n.$$s=a,n.$$arity=0,n))},y.$$s=v,y.$$arity=1,y)),u(Z,"LF")),E=A["$=="](k),d(x["$empty?"]())&&(x=o)):x=o,S=o,M=o,b=$,"coderay"["$==="](b)?(d(S=function(){return d(v["$attr?"]("linenums",o,!1))?(d(l=v.document.$attributes()["$[]"]("coderay-linenums-mode"))?l:"table").$to_sym():o}())&&d(v["$attr?"]("highlight",o,!1))&&(M=v.$resolve_highlight_lines(v.$attr("highlight",o,!1))),T=s(s("::","CodeRay"),"Duo")["$[]"](v.$attr("language","text",!1).$to_sym(),"html",f(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(d(l=v.document.$attributes()["$[]"]("coderay-css"))?l:"class").$to_sym(),line_numbers:S,line_number_anchors:!1,highlight_lines:M,bold_every:!1})).$highlight(n)):"pygments"["$==="](b)&&(R=d(l=s(s("::","Pygments"),"Lexer").$find_by_alias(v.$attr("language","text",!1)))?l:s(s("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),I=f(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),R.$name()["$=="]("PHP")&&(C=["startinline",v["$option?"]("mixed")["$!"]()],h(I,"[]=",t.to_a(C)),C[i(C.length,1)]),(d(l=v.document.$attributes()["$[]"]("pygments-css"))?l:"class")["$=="]("class")||(C=["noclasses",!0],h(I,"[]=",t.to_a(C)),C[i(C.length,1)],C=["style",d(l=v.document.$attributes()["$[]"]("pygments-style"))?l:s(u(Z,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],h(I,"[]=",t.to_a(C)),C[i(C.length,1)]),d(v["$attr?"]("highlight",o,!1))&&(d((M=v.$resolve_highlight_lines(v.$attr("highlight",o,!1)))["$empty?"]())||(C=["hl_lines",r(M," ")],h(I,"[]=",t.to_a(C)),C[i(C.length,1)])),d(d(l=v["$attr?"]("linenums",o,!1))?(C=["linenos",d(m=v.document.$attributes()["$[]"]("pygments-linenums-mode"))?m:"table"],h(I,"[]=",t.to_a(C)),C[i(C.length,1)])["$=="]("table"):l)?(S="table",T=R.$highlight(n,f(["options"],{options:I})).$sub(u(Z,"PygmentsWrapperDivRx"),"\\1").$gsub(u(Z,"PygmentsWrapperPreRx"),"\\1")):d(u(Z,"PygmentsWrapperPreRx")["$=~"](T=R.$highlight(n,f(["options"],{options:I}))))&&(T=(l=p["~"])===o?o:l["$[]"](1))),d(v.passthroughs["$empty?"]())||(T=T.$gsub(u(Z,"HighlightedPassSlotRx"),""+u(Z,"PASS_START")+"\\1"+u(Z,"PASS_END"))),d(d(l=a)?x:l)?(k=0,N=S["$!="]("table"),r(h(T.$split(u(Z,"LF"),-1),"map",[],(g=function(t){var n,i,a,s=g.$$s||this,l=o,c=o,_=o,p=o;if(null==s.document&&(s.document=o),null==t&&(t=o),d(N));else{if(!d(t["$include?"]('<td class="code">')))return t;N=!0}return k=e(k,1),d(l=x.$delete(k))?(c=o,d(d(n=d(i=E)?x["$empty?"]():i)?S["$=="]("table"):n)&&(d((n=$["$=="]("coderay"))?_=t.$index("</pre>"):$["$=="]("coderay"))?(n=[t.$slice(0,_),t.$slice(_,t.$length())],t=n[0],c=n[1],n):d((n=$["$=="]("pygments"))?_=t["$start_with?"]("</td>"):$["$=="]("pygments"))&&(n=["",t],t=n[0],c=n[1],n)),l.$size()["$=="](1)?""+t+u(Z,"Inline").$new(s,"callout",l["$[]"](0),f(["id"],{id:s.document.$callouts().$read_next_id()})).$convert()+c:(p=r(h(l,"map",[],(a=function(t){var e=a.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),u(Z,"Inline").$new(e,"callout",t,f(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},a.$$s=s,a.$$arity=1,a))," "),""+t+p+c)):t},g.$$s=v,g.$$arity=1,g)),u(Z,"LF"))):T):v.$sub_source(n,a)},W.$$arity=-3),t.def(J,"$resolve_highlight_lines",K=function(e){var r,n=this,a=o;return a=[],h(function(){return d(e["$include?"](" "))?e.$delete(" "):e}().$split(u(Z,"DataDelimiterRx")),"map",[],(r=function(e){var n,$,s=(r.$$s||this,o),u=o,l=o,c=o;return null==e&&(e=o),s=!1,d(e["$start_with?"]("!"))&&(e=e["$[]"](y(1,-1,!1)),s=!0),d(e["$include?"]("-"))?($=e.$split("-",2),n=t.to_ary($),u=null==n[0]?o:n[0],l=null==n[1]?o:n[1],$,c=t.Range.$new(u.$to_i(),l.$to_i(),!1).$to_a(),d(s)?a=i(a,c):a.$concat(c)):d(s)?a.$delete(e.$to_i()):a["$<<"](e.$to_i())},r.$$s=n,r.$$arity=1,r)),a.$sort().$uniq()},K.$$arity=1),t.def(J,"$sub_source",X=function(t,e){var r=this;return d(e)?r.$sub_callouts(r.$sub_specialchars(t)):r.$sub_specialchars(t)},X.$$arity=2),t.def(J,"$lock_in_subs",V=function(){var e,r,n,a,$,s=this,l=o,c=o,f=o,_=o,p=o;if(null==s.default_subs&&(s.default_subs=o),null==s.content_model&&(s.content_model=o),null==s.context&&(s.context=o),null==s.subs&&(s.subs=o),null==s.attributes&&(s.attributes=o),null==s.style&&(s.style=o),null==s.document&&(s.document=o),d(l=s.default_subs));else if(c=s.content_model,"simple"["$==="](c))l=u(Z,"NORMAL_SUBS");else if("verbatim"["$==="](c))l=d(d(e=s.context["$=="]("listing"))?e:(r=s.context["$=="]("literal"))?s["$option?"]("listparagraph")["$!"]():s.context["$=="]("literal"))?u(Z,"VERBATIM_SUBS"):s.context["$=="]("verse")?u(Z,"NORMAL_SUBS"):u(Z,"BASIC_SUBS");else{if(!"raw"["$==="](c))return s.subs;l=function(){return s.context["$=="]("stem")?u(Z,"BASIC_SUBS"):u(Z,"NONE_SUBS")}()}return s.subs=function(){return d(f=s.attributes["$[]"]("subs"))?s.$resolve_block_subs(f,l,s.context):l.$dup()}(),d(d(e=d(r=d(n=d(a=($=s.context["$=="]("listing"))?s.style["$=="]("source"):s.context["$=="]("listing"))?s.attributes["$key?"]("language"):a)?s.document["$basebackend?"]("html"):n)?u(Z,"SUB_HIGHLIGHT")["$include?"](s.document.$attributes()["$[]"]("source-highlighter")):r)?_=s.subs.$index("specialcharacters"):e)&&(p=[_,"highlight"],h(s.subs,"[]=",t.to_a(p)),p[i(p.length,1)]),s.subs},V.$$arity=0)}(b[0],b)}($[0],$)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i=(t.top,[]),a=t.nil,$=t.const_get_qualified,o=t.const_get_relative,s=(t.breaker,t.slice,t.module),u=t.klass,l=t.truthy,c=t.hash2,f=t.send,_=t.range;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$converter","$raise","$attributes","$nil?","$[]=","$-","$delete","$update","$nil_or_empty?","$split","$include?","$empty?","$*","$apply_reftext_subs","$attr?","$extname","$image_uri","$attr","$<","$safe","$uriish?","$uri_encode_spaces","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$encode64","$binread","$require_library","$!","$open","$content_type","$read","$base_dir","$new","$root?","$join","$system_path","$web_path","$===","$!=","$normalize_lines_from_string","$open_uri","$fetch","$read_asset","$gsub"]),function(i,d){var h,p=h=s(i,"Asciidoctor"),y=(p.$$proto,[p].concat(d));!function(i,s,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K=h=u(i,s,"AbstractNode",h),X=K.$$proto,V=[K].concat(d);return X.document=X.attributes=X.parent=X.path_resolver=a,K.$include(o(V,"Substitutors")),K.$attr_reader("parent"),K.$attr_reader("document"),K.$attr_reader("context"),K.$attr_reader("node_name"),K.$attr_accessor("id"),K.$attr_reader("attributes"),t.def(K,"$initialize",p=function(t,e,r){var n,i=this;return null==r&&(r=c([],{})),e["$=="]("document")?(n=[i,a],i.document=n[0],i.parent=n[1],n):l(t)?(n=[t.$document(),t],i.document=n[0],i.parent=n[1],n):i.document=i.parent=a,i.node_name=(i.context=e).$to_s(),i.attributes=function(){return l(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():c([],{})}(),i.passthroughs=c([],{})},p.$$arity=-3),t.def(K,"$parent=",y=function(t){var e,r=this;return e=[t,t.$document()],r.parent=e[0],r.document=e[1],e,a},y.$$arity=1),t.def(K,"$converter",m=function(){var t=this;return t.document.$converter()},m.$$arity=0),t.def(K,"$block?",g=function(){var t=this;return t.$raise($("::","NotImplementedError"))},g.$$arity=0),t.def(K,"$inline?",v=function(){var t=this;return t.$raise($("::","NotImplementedError"))},v.$$arity=0),t.def(K,"$attr",b=function(t,e,r){var n,i,$=this;return null==e&&(e=a),null==r&&(r=!0),t=t.$to_s(),l(n=$.attributes["$[]"](t))?n:function(){return l(l(i=r)?$.parent:i)&&l(i=$.document.$attributes()["$[]"](t))?i:e}()},b.$$arity=-2),t.def(K,"$attr?",w=function(t,e,r){var n,i,$,o=this;return null==e&&(e=a),null==r&&(r=!0),t=t.$to_s(),l(e["$nil?"]())?l(n=o.attributes["$key?"](t))?n:l(i=l($=r)?o.parent:$)?o.document.$attributes()["$key?"](t):i:e["$=="](l(n=o.attributes["$[]"](t))?n:function(){return l(l(i=r)?o.parent:i)?o.document.$attributes()["$[]"](t):a}())},w.$$arity=-2),t.def(K,"$set_attr",k=function(r,n,i){var $,o=this,s=a;return null==n&&(n=""),null==i&&(i=!0),!l(($=i["$=="](!1))?o.attributes["$key?"](r):i["$=="](!1))&&(s=[r,n],f(o.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},k.$$arity=-2),t.def(K,"$remove_attr",E=function(t){var e=this;return e.attributes.$delete(t)},E.$$arity=1),t.def(K,"$option?",x=function(t){var e=this;return e.attributes["$key?"](""+t+"-option")},x.$$arity=1),t.def(K,"$set_option",A=function(r){var n=this,i=a;return l(n.attributes["$key?"]("options"))?(i=["options",""+n.attributes["$[]"]("options")+","+r],f(n.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]):(i=["options",r],f(n.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]),i=[""+r+"-option",""],f(n.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]},A.$$arity=1),t.def(K,"$update_attributes",O=function(t){var e=this;return e.attributes.$update(t),a},O.$$arity=1),t.def(K,"$role",S=function(){var t,e=this;return l(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role")},S.$$arity=0),t.def(K,"$roles",M=function(){var t,e=this,r=a;return l((r=l(t=e.attributes["$[]"]("role"))?t:e.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:r.$split()},M.$$arity=0),t.def(K,"$role?",T=function(t){var e,r=this;return null==t&&(t=a),l(t)?t["$=="](l(e=r.attributes["$[]"]("role"))?e:r.document.$attributes()["$[]"]("role")):l(e=r.attributes["$key?"]("role"))?e:r.document.$attributes()["$key?"]("role")},T.$$arity=-1),t.def(K,"$has_role?",R=function(t){var e,r=this,n=a;return!l((n=l(e=r.attributes["$[]"]("role"))?e:r.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+n+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(K,"$add_role",I=function(r){var n=this,i=a,$=a;return l((i=n.attributes["$[]"]("role"))["$nil_or_empty?"]())?($=["role",r],f(n.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0):!l((" "+i+" ")["$include?"](" "+r+" "))&&($=["role",""+i+" "+r],f(n.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0)},I.$$arity=1),t.def(K,"$remove_role",C=function(n){var i=this,$=a,o=a;return!l(($=i.attributes["$[]"]("role"))["$nil_or_empty?"]())&&(!!l(($=$.$split()).$delete(n))&&(l($["$empty?"]())?i.attributes.$delete("role"):(o=["role",r($," ")],f(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)]),!0))},C.$$arity=1),t.def(K,"$reftext",N=function(){var t=this,e=a;return l(e=t.attributes["$[]"]("reftext"))?t.$apply_reftext_subs(e):a},N.$$arity=0),t.def(K,"$reftext?",z=function(){var t=this;return t.attributes["$key?"]("reftext")},z.$$arity=0),t.def(K,"$icon_uri",P=function(t){var e=this,r=a;return l(e["$attr?"]("icon"))?l($("::","File").$extname(r=e.$image_uri(e.$attr("icon"),"iconsdir"))["$empty?"]())?""+r+"."+e.document.$attr("icontype","png"):r:e.$image_uri(""+t+"."+e.document.$attr("icontype","png"),"iconsdir")},P.$$arity=1),t.def(K,"$image_uri",B=function(t,e){var r,i,s,u,c=this,f=a,_=a;return null==e&&(e="imagesdir"),l(l(r=n((f=c.document).$safe(),$(o(V,"SafeMode"),"SECURE")))?f["$attr?"]("data-uri"):r)?l(l(r=l(i=o(V,"Helpers")["$uriish?"](t))?t=c.$uri_encode_spaces(t):i)?r:l(i=l(s=l(u=e)?_=f.$attr(e):u)?o(V,"Helpers")["$uriish?"](_):s)?t=c.$normalize_web_path(t,_,!1):i)?l(f["$attr?"]("allow-uri-read"))?c.$generate_data_uri_from_uri(t,f["$attr?"]("cache-uri")):t:c.$generate_data_uri(t,e):c.$normalize_web_path(t,function(){return l(e)?f.$attr(e):a}())},B.$$arity=-2),t.def(K,"$media_uri",q=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,function(){return l(e)?r.document.$attr(e):a}())},q.$$arity=-2),t.def(K,"$generate_data_uri",D=function(t,e){var r=this,n=a,i=a,s=a;return null==e&&(e=a),n=$("::","File").$extname(t),i=function(){return n["$=="](".svg")?"image/svg+xml":"image/"+n["$[]"](_(1,-1,!1))}(),s=l(e)?r.$normalize_system_path(t,r.document.$attr(e),a,c(["target_name"],{target_name:"image"})):r.$normalize_system_path(t),l($("::","File")["$readable?"](s))?"data:"+i+";base64,"+$("::","Base64").$encode64($("::","IO").$binread(s)).$delete(o(V,"LF")):(r.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+s),"data:"+i+";base64,")},D.$$arity=-2),t.def(K,"$generate_data_uri_from_uri",L=function(e,r){var n,i=this,s=a,u=a;null==r&&(r=!1),l(r)?o(V,"Helpers").$require_library("open-uri/cached","open-uri-cached"):l($("::","RUBY_ENGINE_OPAL")["$!"]())&&$("::","OpenURI");try{return s=a,u=f(i,"open",[e,"rb"],(n=function(t){n.$$s||this;return null==t&&(t=a),s=t.$content_type(),t.$read()},n.$$s=i,n.$$arity=1,n)),"data:"+s+";base64,"+$("::","Base64").$encode64(u).$delete(o(V,"LF"))}catch(r){if(!t.rescue(r,[o(V,"StandardError")]))throw r;try{return i.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},L.$$arity=-2),t.def(K,"$normalize_asset_path",F=function(t,e,r){var n=this;return null==e&&(e="path"),null==r&&(r=!0),n.$normalize_system_path(t,n.document.$base_dir(),a,c(["target_name","recover"],{target_name:e,recover:r}))},F.$$arity=-2),t.def(K,"$normalize_system_path",j=function(t,e,r,i){var s,u=this,f=a,_=a;return null==e&&(e=a),null==r&&(r=a),null==i&&(i=c([],{})),f=u.path_resolver=l(s=u.path_resolver)?s:o(V,"PathResolver").$new(),l(n((_=u.document).$safe(),$(o(V,"SafeMode"),"SAFE")))?l(e)?l(f["$root?"](e))||(e=$("::","File").$join(_.$base_dir(),e)):e=_.$base_dir():(l(e)||(e=_.$base_dir()),l(r)||(r=_.$base_dir())),f.$system_path(t,e,r,i)},j.$$arity=-2),t.def(K,"$normalize_web_path",U=function(t,e,r){var n,i=this;return null==e&&(e=a),null==r&&(r=!0),l(l(n=r)?o(V,"Helpers")["$uriish?"](t):n)?i.$uri_encode_spaces(t):(i.path_resolver=l(n=i.path_resolver)?n:o(V,"PathResolver").$new()).$web_path(t,e)},U.$$arity=-2),t.def(K,"$read_asset",H=function(t,e){var n,i=this;return null==e&&(e=c([],{})),l($("::","Hash")["$==="](e))||(e=c(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),l($("::","File")["$readable?"](t))?l(e["$[]"]("normalize"))?r(o(V,"Helpers").$normalize_lines_from_string($("::","IO").$read(t)),o(V,"LF")):$("::","IO").$read(t):l(e["$[]"]("warn_on_failure"))?i.$warn("asciidoctor: WARNING: "+(l(n=i.$attr("docfile"))?n:"<stdin>")+": "+(l(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t):a},H.$$arity=-2),t.def(K,"$read_contents",G=function(e,n){var i,s,u,_,d=this,h=a,p=a,y=a;if(null==n&&(n=c([],{})),h=d.document,l(l(i=o(V,"Helpers")["$uriish?"](e))?i:l(s=l(u=p=n["$[]"]("start"))?o(V,"Helpers")["$uriish?"](p):u)?e=(d.path_resolver=l(u=d.path_resolver)?u:o(V,"PathResolver").$new()).$web_path(e,p):s))if(l(h["$attr?"]("allow-uri-read"))){l(h["$attr?"]("cache-uri"))&&o(V,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{y=f($("::","OpenURI"),"open_uri",[e],(_=function(t){_.$$s||this;return null==t&&(t=a),t.$read()},_.$$s=d,_.$$arity=1,_)),l(n["$[]"]("normalize"))&&(y=r(o(V,"Helpers").$normalize_lines_from_string(y),o(V,"LF")))}catch(r){if(!t.rescue(r,[o(V,"StandardError")]))throw r;try{l(n.$fetch("warn_on_failure",!0))&&d.$warn("asciidoctor: WARNING: could not retrieve contents of "+(l(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e),y=a}finally{t.pop_exception()}}}else l(n.$fetch("warn_on_failure",!0))&&d.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(l(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),y=a;else e=d.$normalize_system_path(e,n["$[]"]("start"),a,c(["target_name"],{target_name:l(i=n["$[]"]("label"))?i:"asset"})),y=d.$read_asset(e,c(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));return y},G.$$arity=-2),t.def(K,"$uri_encode_spaces",Y=function(t){return l(t["$include?"](" "))?t.$gsub(" ","%20"):t},Y.$$arity=1),t.def(K,"$is_uri?",W=function(t){return o(V,"Helpers")["$uriish?"](t)},W.$$arity=1),a&&"is_uri?"}(y[0],null,y)}(i[0],i)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=(t.top,[]),$=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),u=t.klass,l=t.send,c=t.truthy,f=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$apply_title_subs","$[]","$title","$sub_specialchars","$match?","$sub_replacements","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$<<","$select","$context","$>","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$blocks","$parent","$+","$find_index","$next_adjacent_block","$delete","$increment_and_store_counter","$index=","$-","$numbered","$sectname","$counter","$number=","$number","$caption=","$enumerate_section","$reindex_sections"]),function(a,_){var d,h=d=s(a,"Asciidoctor"),p=(h.$$proto,[h].concat(_));!function(a,s,_){function d(){}var h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j=d=u(a,s,"AbstractBlock",d),U=j.$$proto,H=[j].concat(_);return U.document=U.attributes=U.blocks=U.source_location=U.subs=U.title=U.title_converted=U.converted_title=U.context=U.caption=U.number=U.next_section_index=U.style=U.id=U.header=U.next_section_number=$,j.$attr_accessor("content_model"),j.$attr_reader("subs"),j.$attr_reader("blocks"),j.$attr_accessor("level"),j.$attr_accessor("style"),j.$attr_writer("caption"),j.$attr_accessor("number"),j.$attr_accessor("source_location"),t.def(j,"$initialize",h=function(e,r,n){var i,a=this,o=h.$$p,s=$,u=$,_=$;for(null==n&&(n=f([],{})),o&&(h.$$p=null),u=0,_=arguments.length,s=new Array(_);u<_;u++)s[u]=arguments[u];return l(a,t.find_super_dispatcher(a,"initialize",h,!1),s,o),a.content_model="compound",a.blocks=[],a.subs=[],a.id=a.title=a.title_converted=a.caption=a.number=a.style=a.default_subs=a.source_location=$,r["$=="]("document")?a.level=0:c(c(i=e)?r["$!="]("section"):i)?a.level=e.$level():a.level=$,a.next_section_index=0,a.next_section_number=1},h.$$arity=-3),t.def(j,"$block?",p=function(){return!0},p.$$arity=0),t.def(j,"$inline?",y=function(){return!1},y.$$arity=0),t.def(j,"$context=",m=function(t){var e=this;return e.context=t,e.node_name=t.$to_s()},m.$$arity=1),t.def(j,"$convert",g=function(){var t=this;return t.document.$playback_attributes(t.attributes),t.$converter().$convert(t)},g.$$arity=0),t.alias(j,"render","convert"),t.def(j,"$content",v=function(){var t,r=this;return e(l(r.blocks,"map",[],(t=function(e){t.$$s||this;return null==e&&(e=$),e.$convert()},t.$$s=r,t.$$arity=1,t)),o(H,"LF"))},v.$$arity=0),t.def(j,"$file",b=function(){var t=this;return c(t.source_location)?t.source_location.$file():$},b.$$arity=0),t.def(j,"$lineno",w=function(){var t=this;return c(t.source_location)?t.source_location.$lineno():$},w.$$arity=0),t.def(j,"$sub?",k=function(t){var e=this;return e.subs["$include?"](t)},k.$$arity=1),t.def(j,"$title?",E=function(){var t=this;return!!c(t.title)},E.$$arity=0),t.def(j,"$title",x=function(){var t,e,r=this;return c(r.title_converted)?r.converted_title:r.converted_title=c(t=c(e=r.title_converted=!0)?r.title:e)?r.$apply_title_subs(r.title):t},x.$$arity=0),t.def(j,"$title=",A=function(t){var e,r=this;return e=[t,$],r.title=e[0],r.title_converted=e[1],e},A.$$arity=1),t.def(j,"$caption",O=function(){var t=this;return t.context["$=="]("admonition")?t.attributes["$[]"]("textlabel"):t.caption},O.$$arity=0),t.def(j,"$captioned_title",S=function(){var t=this;return""+t.caption+t.$title()},S.$$arity=0),t.def(j,"$alt",M=function(){var t=this,e=$;return c(e=t.attributes["$[]"]("alt"))?e["$=="](t.attributes["$[]"]("default-alt"))?t.$sub_specialchars(e):(e=t.$sub_specialchars(e),c(o(H,"ReplaceableTextRx")["$match?"](e))?t.$sub_replacements(e):e):$},M.$$arity=0),t.def(j,"$xreftext",T=function(t){var e,r,n=this,i=$,a=$,o=$,s=$;return null==t&&(t=$),c(c(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:c(c(e=c(r=t)?n.title:r)?n.caption:e)?function(){return a=t,"full"["$==="](a)?(o=n.$sprintf(n.$sub_quotes(function(){return c(n.document.$compat_mode())?"``%s''":'"`%s`"'}()),n.$title()),c(c(e=n.number)?s=n.document.$attributes()["$[]"](function(){return n.context["$=="]("image")?"figure-caption":""+n.context+"-caption"}()):e)?""+s+" "+n.number+", "+o:""+n.caption.$chomp(". ")+", "+o):"short"["$==="](a)?c(c(e=n.number)?s=n.document.$attributes()["$[]"](function(){return n.context["$=="]("image")?"figure-caption":""+n.context+"-caption"}()):e)?""+s+" "+n.number:n.caption.$chomp(". "):n.$title()}():n.$title()},T.$$arity=-1),t.def(j,"$blocks?",R=function(){var t=this;return t.blocks["$empty?"]()["$!"]()},R.$$arity=0),t.def(j,"$<<",I=function(t){var e=this;return e.blocks["$<<"](t),e},I.$$arity=1),t.alias(j,"append","<<"),t.def(j,"$sections",C=function(){var t,e=this;return l(e.blocks,"select",[],(t=function(e){t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")},t.$$s=e,t.$$arity=1,t))},C.$$arity=0),t.def(j,"$sections?",N=function(){var t=this;return r(t.next_section_index,0)},N.$$arity=0),t.def(j,"$find_by",z=function(e){var r,n,i,a,o,s,u=this,_=z.$$p,d=_||$,h=$,p=$,y=$,m=$,g=$,v=$;if(null==e&&(e=f([],{})),_&&(z.$$p=null),h=[],c(c(r=c(n=c(i=c(a=p=(y=e["$[]"]("context"))["$!"]())?a:y["$=="](u.context))?c(a=(m=e["$[]"]("style"))["$!"]())?a:m["$=="](u.style):i)?c(i=(g=e["$[]"]("role"))["$!"]())?i:u["$has_role?"](g):n)?c(n=(v=e["$[]"]("id"))["$!"]())?n:v["$=="](u.id):r)){if(c(v))return d!==$?function(){return c(t.yield1(d,u))?[u]:h}():[u];d!==$?c(t.yield1(d,u))&&h["$<<"](u):h["$<<"](u)}return c(c(r=(n=u.context["$=="]("document"))?c(i=p)?i:y["$=="]("section"):u.context["$=="]("document"))?u["$header?"]():r)&&h.$concat(l(u.header,"find_by",[e],d.$to_proc())),y["$=="]("document")||(u.context["$=="]("dlist")?c(c(r=p)?r:y["$!="]("section"))&&l(u.blocks.$flatten(),"each",[],(o=function(t){o.$$s||this;return null==t&&(t=$),c(t)?h.$concat(l(t,"find_by",[e],d.$to_proc())):$},o.$$s=u,o.$$arity=1,o)):c(l(u.blocks,"each",[],(s=function(t){var r;s.$$s||this;return null==t&&(t=$),c((r=y["$=="]("section"))?t.$context()["$!="]("section"):y["$=="]("section"))?$:h.$concat(l(t,"find_by",[e],d.$to_proc()))},s.$$s=u,s.$$arity=1,s)))),h},z.$$arity=-1),t.alias(j,"query","find_by"),t.def(j,"$next_adjacent_block",P=function(){var t=this,e=$,r=$;return t.context["$=="]("document")?$:c(e=(r=t.$parent()).$blocks()["$[]"](n(r.$blocks().$find_index(t),1)))?e:r.$next_adjacent_block()},P.$$arity=0),t.def(j,"$remove_sub",B=function(t){var e=this;return e.subs.$delete(t),$},B.$$arity=1),t.def(j,"$assign_caption",q=function(t,e){var r,n,i=this,a=$;return null==t&&(t=$),null==e&&(e=$),c(c(r=c(n=i.caption)?n:i.title["$!"]())?r:i.caption=c(n=t)?n:i.document.$attributes()["$[]"]("caption"))?$:c(a=i.document.$attributes()["$[]"](""+(e=c(r=e)?r:i.context)+"-caption"))?(i.caption=""+a+" "+(i.number=i.document.$increment_and_store_counter(""+e+"-number",i))+". ",$):$},q.$$arity=-1),t.def(j,"$enumerate_section",D=function(e){var r=this,a=$,o=$,s=$;return r.next_section_index=n((a=[r.next_section_index],l(e,"index=",t.to_a(a)),a[i(a.length,1)]),1),c(e.$numbered())&&((o=e.$sectname())["$=="]("appendix")?(a=[r.document.$counter("appendix-number","A")],l(e,"number=",t.to_a(a)),a[i(a.length,1)],c(s=r.document.$attributes()["$[]"]("appendix-caption"))?(a=[""+s+" "+e.$number()+": "],l(e,"caption=",t.to_a(a)),a[i(a.length,1)]):(a=[""+e.$number()+". "],l(e,"caption=",t.to_a(a)),a[i(a.length,1)])):o["$=="]("chapter")?(a=[r.document.$counter("chapter-number",1)],l(e,"number=",t.to_a(a)),a[i(a.length,1)]):r.next_section_number=n((a=[r.next_section_number],l(e,"number=",t.to_a(a)),a[i(a.length,1)]),1)),$},D.$$arity=1),t.def(j,"$list_marker_keyword",L=function(t){var e,r=this;return null==t&&(t=$),o(H,"ORDERED_LIST_KEYWORDS")["$[]"](c(e=t)?e:r.style)},L.$$arity=-1),t.def(j,"$reindex_sections",F=function(){var t,e=this;return e.next_section_index=0,e.next_section_number=1,l(e.blocks,"each",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")?(r.$enumerate_section(e),e.$reindex_sections()):$},t.$$s=e,t.$$arity=1,t))},F.$$arity=0),$&&"reindex_sections"}(p[0],o(p,"AbstractNode"),p)}(a[0],a)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i=(t.top,[]),a=t.nil,$=t.const_get_qualified,o=t.const_get_relative,s=(t.breaker,t.slice,t.module),u=t.klass,l=t.hash2,c=t.truthy,f=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),
function(i,_){var d,h=d=s(i,"Asciidoctor"),p=(h.$$proto,[h].concat(_));!function(i,s,_){function d(){}var h,p,y,m,g,v,b,w,k,E,x,A,O=d=u(i,s,"AttributeList",d),S=O.$$proto,M=[O].concat(_);return S.attributes=S.scanner=S.delimiter=S.block=S.delimiter_skip_pattern=S.delimiter_boundary_pattern=a,t.const_set(M[0],"BACKSLASH","\\"),t.const_set(M[0],"BoundaryRxs",l(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),t.const_set(M[0],"EscapedQuotes",l(['"',"'"],{'"':'\\"',"'":"\\'"})),t.const_set(M[0],"NameRx",new RegExp(""+o(M,"CG_WORD")+"["+o(M,"CC_WORD")+"\\-.]*")),t.const_set(M[0],"BlankRx",/[ \t]+/),t.const_set(M[0],"SkipRxs",l(["blank",","],{blank:o(M,"BlankRx"),",":/[ \t]*(,|$)/})),t.def(O,"$initialize",h=function(t,e,r){var n=this;return null==e&&(e=a),null==r&&(r=","),n.scanner=$("::","StringScanner").$new(t),n.block=e,n.delimiter=r,n.delimiter_skip_pattern=o(M,"SkipRxs")["$[]"](r),n.delimiter_boundary_pattern=o(M,"BoundaryRxs")["$[]"](r),n.attributes=a},h.$$arity=-2),t.def(O,"$parse_into",p=function(t,e){var r=this;return null==e&&(e=[]),t.$update(r.$parse(e))},p.$$arity=-2),t.def(O,"$parse",y=function(t){var r=this,n=a;if(null==t&&(t=[]),c(r.attributes))return r.attributes;for(r.attributes=l([],{}),n=0;c(r.$parse_attribute(n,t))&&!c(r.scanner["$eos?"]());)r.$skip_delimiter(),n=e(n,1);return r.attributes},y.$$arity=-1),t.def(O,"$rekey",m=function(t){var e=this;return o(M,"AttributeList").$rekey(e.attributes,t)},m.$$arity=1),t.defs(O,"$rekey",g=function(n,i){var $,o=this;return f(i,"each_with_index",[],($=function(i,o){var s=($.$$s||this,a),u=a,l=a;return null==i&&(i=a),null==o&&(o=a),c(i)?(s=e(o,1),c(u=n["$[]"](s))?(l=[i,u],f(n,"[]=",t.to_a(l)),l[r(l.length,1)]):a):a},$.$$s=o,$.$$arity=2,$)),n},g.$$arity=2),t.def(O,"$parse_attribute",v=function(i,$){var o,s,u=this,l=a,_=a,d=a,h=a,p=a,y=a,m=a,g=a,v=a,b=a;if(null==i&&(i=0),null==$&&($=[]),l=!1,u.$skip_blank(),(_=u.scanner.$peek(1))["$=="]('"'))d=u.$parse_attribute_value(u.scanner.$get_byte()),h=a;else if(_["$=="]("'"))d=u.$parse_attribute_value(u.scanner.$get_byte()),h=a,l=!0;else{if(d=u.$scan_name(),p=0,y=a,c(u.scanner["$eos?"]())){if(!c(d))return!1}else p=c(o=u.$skip_blank())?o:0,y=u.scanner.$get_byte();if(c(c(o=y["$!"]())?o:y["$=="](u.delimiter)))h=a;else if(c(c(o=y["$!="]("="))?o:d["$!"]()))d=""+d+n(" ",p)+y+u.$scan_to_delimiter(),h=a;else if(u.$skip_blank(),c(u.scanner.$peek(1)))if((y=u.scanner.$get_byte())["$=="]('"'))h=u.$parse_attribute_value(y);else if(y["$=="]("'"))h=u.$parse_attribute_value(y),l=!0;else if(y["$=="](u.delimiter))h=a;else if(h=""+y+u.$scan_to_delimiter(),h["$=="]("None"))return!0}return c(h)?(m=d,"options"["$==="](m)||"opts"["$==="](m)?(c(h["$include?"](","))?(c(h["$include?"](" "))&&(h=h.$delete(" ")),f(h.$split(","),"each",[],(s=function(e){var n=s.$$s||this,i=a;return null==n.attributes&&(n.attributes=a),null==e&&(e=a),c(e["$empty?"]())?a:(i=[""+e+"-option",""],f(n.attributes,"[]=",t.to_a(i)),i[r(i.length,1)])},s.$$s=u,s.$$arity=1,s))):(g=[""+(h=h.$strip())+"-option",""],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]),g=["options",h],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]):c(c(o=l)?u.block:o)?(m=d,"title"["$==="](m)||"reftext"["$==="](m)?(g=[d,h],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]):(g=[d,u.block.$apply_subs(h)],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)])):(g=[d,h],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)])):(v=function(){return c(c(o=l)?u.block:o)?u.block.$apply_subs(d):d}(),c(b=$["$[]"](i))&&(g=[b,v],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]),g=[e(i,1),v],f(u.attributes,"[]=",t.to_a(g)),g[r(g.length,1)]),!0},v.$$arity=-1),t.def(O,"$parse_attribute_value",b=function(t){var e=this,r=a;return e.scanner.$peek(1)["$=="](t)?(e.scanner.$get_byte(),""):c(r=e.$scan_to_quote(t))?(e.scanner.$get_byte(),c(r["$include?"](o(M,"BACKSLASH")))?r.$gsub(o(M,"EscapedQuotes")["$[]"](t),t):r):""+t+e.$scan_to_delimiter()},b.$$arity=1),t.def(O,"$skip_blank",w=function(){var t=this;return t.scanner.$skip(o(M,"BlankRx"))},w.$$arity=0),t.def(O,"$skip_delimiter",k=function(){var t=this;return t.scanner.$skip(t.delimiter_skip_pattern)},k.$$arity=0),t.def(O,"$scan_name",E=function(){var t=this;return t.scanner.$scan(o(M,"NameRx"))},E.$$arity=0),t.def(O,"$scan_to_delimiter",x=function(){var t=this;return t.scanner.$scan(t.delimiter_boundary_pattern)},x.$$arity=0),t.def(O,"$scan_to_quote",A=function(t){var e=this;return e.scanner.$scan(o(M,"BoundaryRxs")["$[]"](t))},A.$$arity=1),a&&"scan_to_quote"}(p[0],null,p)}(i[0],i)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i=(t.top,[]),a=t.nil,$=t.const_get_qualified,o=t.const_get_relative,s=(t.breaker,t.slice,t.module),u=t.klass,l=t.send,c=t.hash2,f=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function(i,_){var d,h=d=s(i,"Asciidoctor"),p=(h.$$proto,[h].concat(_));!function(i,s,_){function d(){}var h,p,y,m,g=d=u(i,s,"Block",d),v=g.$$proto,b=[g].concat(_),w=a;return v.attributes=v.content_model=v.lines=v.subs=v.blocks=v.context=v.style=a,w=["simple"],l(t.const_set(b[0],"DEFAULT_CONTENT_MODEL",c(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(w)),w[e(w.length,1)],t.alias(g,"blockname","context"),g.$attr_accessor("lines"),t.def(g,"$initialize",h=function(r,n,i){var s,u=this,_=h.$$p,d=a,p=a,y=a,m=a,g=a,v=a;for(null==i&&(i=c([],{})),_&&(h.$$p=null),g=0,v=arguments.length,m=new Array(v);g<v;g++)m[g]=arguments[g];return l(u,t.find_super_dispatcher(u,"initialize",h,!1),m,_),u.content_model=f(s=i["$[]"]("content_model"))?s:o(b,"DEFAULT_CONTENT_MODEL")["$[]"](n),f(i["$key?"]("subs"))?f(d=i["$[]"]("subs"))?(d["$=="]("default")?u.default_subs=i["$[]"]("default_subs"):f($("::","Array")["$==="](d))?(u.default_subs=d.$dup(),u.attributes.$delete("subs")):(u.default_subs=a,p=["subs",""+d],l(u.attributes,"[]=",t.to_a(p)),p[e(p.length,1)]),u.$lock_in_subs()):(u.default_subs=[],u.attributes.$delete("subs")):u.default_subs=a,f((y=i["$[]"]("source"))["$nil_or_empty?"]())?u.lines=[]:f($("::","String")["$==="](y))?u.lines=o(b,"Helpers").$normalize_lines_from_string(y):u.lines=y.$dup()},h.$$arity=-3),t.def(g,"$content",p=function(){var e,i=this,$=p.$$p,s=a,u=a,c=a,_=a,d=a,h=a,y=a;for($&&(p.$$p=null),h=0,y=arguments.length,d=new Array(y);h<y;h++)d[h]=arguments[h];return function(){if(s=i.content_model,"compound"["$==="](s))return l(i,t.find_super_dispatcher(i,"content",p,!1),d,$);if("simple"["$==="](s))return i.$apply_subs(r(i.lines,o(b,"LF")),i.subs);if("verbatim"["$==="](s)||"raw"["$==="](s)){if(u=i.$apply_subs(i.lines,i.subs),f(n(u.$size(),2)))return u["$[]"](0);for(;f(f(e=c=u["$[]"](0))?c.$rstrip()["$empty?"]():e);)u.$shift();for(;f(f(e=_=u["$[]"](-1))?_.$rstrip()["$empty?"]():e);)u.$pop();return r(u,o(b,"LF"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),a}()},p.$$arity=0),t.def(g,"$source",y=function(){var t=this;return r(t.lines,o(b,"LF"))},y.$$arity=0),t.def(g,"$to_s",m=function(){var t=this,e=a;return e=function(){return t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size()}(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},m.$$arity=0),a&&"to_s"}(p[0],o(p,"AbstractBlock"),p)}(i[0],i)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=(t.top,[]),$=t.nil,o=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),s=t.klass,u=t.hash2,l=t.truthy,c=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(a,f){var _,d=_=o(a,"Asciidoctor"),h=(d.$$proto,[d].concat(f));!function(a,o,f){function _(){}var d,h,p,y,m,g,v,b,w,k=_=s(a,o,"Callouts",_),E=k.$$proto;[k].concat(f);return E.co_index=E.lists=E.list_index=$,t.def(k,"$initialize",d=function(){var t=this;return t.lists=[],t.list_index=0,t.$next_list()},d.$$arity=0),t.def(k,"$register",h=function(t){var r=this,n=$;return r.$current_list()["$<<"](u(["ordinal","id"],{ordinal:t.$to_i(),id:n=r.$generate_next_callout_id()})),r.co_index=e(r.co_index,1),n},h.$$arity=1),t.def(k,"$read_next_id",p=function(){var t=this,i=$,a=$;return i=$,a=t.$current_list(),l(r(t.co_index,a.$size()))&&(i=a["$[]"](n(t.co_index,1))["$[]"]("id")),t.co_index=e(t.co_index,1),i},p.$$arity=0),t.def(k,"$callout_ids",y=function(t){var e,r=this;return c(r.$current_list(),"map",[],(e=function(r){e.$$s||this;return null==r&&(r=$),r["$[]"]("ordinal")["$=="](t)?""+r["$[]"]("id")+" ":$},e.$$s=r,e.$$arity=1,e)).$join().$chop()},y.$$arity=1),t.def(k,"$current_list",m=function(){var t=this;return t.lists["$[]"](n(t.list_index,1))},m.$$arity=0),t.def(k,"$next_list",g=function(){var t=this;return t.list_index=e(t.list_index,1),l(i(t.lists.$size(),t.list_index))&&t.lists["$<<"]([]),t.co_index=1,$},g.$$arity=0),t.def(k,"$rewind",v=function(){var t=this;return t.list_index=1,t.co_index=1,$},v.$$arity=0),t.def(k,"$generate_next_callout_id",b=function(){var t=this;return t.$generate_callout_id(t.list_index,t.co_index)},b.$$arity=0),t.def(k,"$generate_callout_id",w=function(t,e){return"CO"+t+"-"+e},w.$$arity=2),$&&"generate_callout_id"}(h[0],null,h)}(a[0],a)},Opal.modules["asciidoctor/converter/base"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,$=t.hash2,o=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(e,s){var u,l=u=i(e,"Asciidoctor"),c=(l.$$proto,[l].concat(s));!function(t,e){var r,n=r=i(t,"Converter");n.$$proto,[n].concat(e)}(c[0],c),function(t,e,r){function i(){}var $=i=a(t,e,"Base",i),o=($.$$proto,[$].concat(r));return $.$include(n(o,"Converter"))}(n(c,"Converter"),null,c),function(e,n,i){function s(){}var u,l,c,f,_=s=a(e,n,"BuiltIn",s);_.$$proto,[_].concat(i);return t.def(_,"$initialize",u=function(t,e){return null==e&&(e=$([],{})),r},u.$$arity=-2),t.def(_,"$convert",l=function(t,e,n){var i,a=this;return null==e&&(e=r),null==n&&(n=$([],{})),e=o(i=e)?i:t.$node_name(),o(n["$empty?"]())?a.$send(e,t):a.$send(e,t,n)},l.$$arity=-2),t.alias(_,"handles?","respond_to?"),t.def(_,"$content",c=function(t){return t.$content()},c.$$arity=1),t.alias(_,"pass","content"),t.def(_,"$skip",f=function(t){return r},f.$$arity=1),r&&"skip"}(n(c,"Converter"),null,c)}(e[0],e)},Opal.modules["asciidoctor/converter/factory"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.truthy,u=t.hash2,l=t.send;return t.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),function(r,c){var f,_=f=$(r,"Asciidoctor"),d=(_.$$proto,[_].concat(c));!function(r,c){var f,_=f=$(r,"Converter"),d=(_.$$proto,[_].concat(c));!function(r,$,c){function f(){}var _,d,h,p,y,m=f=o(r,$,"Factory",f),g=m.$$proto,v=[m].concat(c);return g.converters=g.star_converter=n,m.__default__=n,function(e,r){var a,$,o,l,c,f;e.$$proto,[e].concat(r);return t.def(e,"$default",a=function(e){var r,a,$=this;return null==$.__default__&&($.__default__=n),null==e&&(e=!0),s(e)?$.__default__=s(r=$.__default__)?r:function(){try{return s((a=i("::","ThreadSafe","skip_raise"))?"constant":n)||$.$require("thread_safe".$to_s()),$.$new(i(i("::","ThreadSafe"),"Cache").$new())}catch(e){if(!t.rescue(e,[i("::","LoadError")]))throw e;try{return $.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),$.$new()}finally{t.pop_exception()}}}():s(r=$.__default__)?r:$.$new()},a.$$arity=-1),t.def(e,"$register",$=function(t,e){var r=this;return null==e&&(e=["*"]),r.$default().$register(t,e)},$.$$arity=-2),t.def(e,"$resolve",o=function(t){var e=this;return e.$default().$resolve(t)},o.$$arity=1),t.def(e,"$create",l=function(t,e){var r=this;return null==e&&(e=u([],{})),r.$default().$create(t,e)},l.$$arity=-2),t.def(e,"$converters",c=function(){var t=this;return t.$default().$converters()},c.$$arity=0),t.def(e,"$unregister_all",f=function(){var t=this;return t.$default().$unregister_all()},f.$$arity=0),n&&"unregister_all"}(t.get_singleton_class(m),v),m.$attr_reader("converters"),t.def(m,"$initialize",_=function(t){var e,r=this;return null==t&&(t=n),r.converters=s(e=t)?e:u([],{}),r.star_converter=n},_.$$arity=-1),t.def(m,"$register",d=function(r,i){var a,$=this;return null==i&&(i=["*"]),l(i,"each",[],(a=function(i){var $=a.$$s||this,o=n;return null==$.converters&&($.converters=n),null==i&&(i=n),o=[i,r],l($.converters,"[]=",t.to_a(o)),o[e(o.length,1)],i["$=="]("*")?$.star_converter=r:n},a.$$s=$,a.$$arity=1,a)),n},d.$$arity=-2),t.def(m,"$resolve",h=function(t){var e,r,n=this;return s(e=n.converters)?s(r=n.converters["$[]"](t))?r:n.star_converter:e},h.$$arity=1),t.def(m,"$unregister_all",p=function(){var t=this;return t.converters.$clear(),t.star_converter=n},p.$$arity=0),t.def(m,"$create",y=function(t,e){var r,$,o,l,c,f,_,d,h,p,y,m,g,b,w,k,E,x,A=this,O=n,S=n,M=n,T=n;return null==e&&(e=u([],{})),s(O=A.$resolve(t))?function(){return s(i("::","Class")["$==="](O))?O.$new(t,e):O}():(S=function(){return M=t,"html5"["$==="](M)?(s((o=i("::","Asciidoctor","skip_raise"))&&($=i(o,"Converter","skip_raise"))&&(r=i($,"Html5Converter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/html5".$to_s()),a(v,"Html5Converter").$new(t,e)):"docbook5"["$==="](M)?(s((f=i("::","Asciidoctor","skip_raise"))&&(c=i(f,"Converter","skip_raise"))&&(l=i(c,"DocBook5Converter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/docbook5".$to_s()),a(v,"DocBook5Converter").$new(t,e)):"docbook45"["$==="](M)?(s((h=i("::","Asciidoctor","skip_raise"))&&(d=i(h,"Converter","skip_raise"))&&(_=i(d,"DocBook45Converter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/docbook45".$to_s()),a(v,"DocBook45Converter").$new(t,e)):"manpage"["$==="](M)?(s((m=i("::","Asciidoctor","skip_raise"))&&(y=i(m,"Converter","skip_raise"))&&(p=i(y,"ManPageConverter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/manpage".$to_s()),a(v,"ManPageConverter").$new(t,e)):n}(),s(e["$key?"]("template_dirs"))?(s((w=i("::","Asciidoctor","skip_raise"))&&(b=i(w,"Converter","skip_raise"))&&(g=i(b,"TemplateConverter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/template".$to_s()),s((x=i("::","Asciidoctor","skip_raise"))&&(E=i(x,"Converter","skip_raise"))&&(k=i(E,"CompositeConverter","skip_raise"))?"constant":n)||A.$require("asciidoctor/converter/composite".$to_s()),T=a(v,"TemplateConverter").$new(t,e["$[]"]("template_dirs"),e),a(v,"CompositeConverter").$new(t,T,S)):S)},y.$$arity=-2),n&&"create"}(d[0],null,d)}(d[0],d)}(r[0],r)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],i=t.nil,a=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.module),s=t.send,u=t.truthy,l=t.range,c=t.hash2;return t.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),function(r,n){var f,_=f=o(r,"Asciidoctor"),d=(_.$$proto,[_].concat(n));!function(r,n){var f,_,d,h=f=o(r,"Converter"),p=(h.$$proto,[h].concat(n));!function(e,r){var n,a,u=n=o(e,"Config"),l=(u.$$proto,[u].concat(r));t.def(u,"$register_for",a=function(e){var r,n,a,o=this,u=i,c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var _=0;_<c;_++)a[_-0]=arguments[_];return $(l,"Factory").$register(o,a),u=function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(o),l),a["$=="](["*"])?s(u,"send",["define_method","converts?"],(r=function(t){r.$$s||this;return null==t&&(t=i),!0},r.$$s=o,r.$$arity=1,r)):s(u,"send",["define_method","converts?"],(n=function(t){n.$$s||this;return null==t&&(t=i),a["$include?"](t)},n.$$s=o,n.$$arity=1,n)),i},a.$$arity=-1)}(p[0],p),function(r,n){var f,_,d,h,p,y,m,g=f=o(r,"BackendInfo"),v=(g.$$proto,[g].concat(n));t.def(g,"$backend_info",_=function(){var t,e=this;return null==e.backend_info&&(e.backend_info=i),e.backend_info=u(t=e.backend_info)?t:e.$setup_backend_info()},_.$$arity=0),t.def(g,"$setup_backend_info",d=function(){var t=this,e=i,r=i,n=i,o=i;return null==t.backend&&(t.backend=i),u(t.backend)||t.$raise(a("::","ArgumentError"),"Cannot determine backend for converter: "+t.$class()),e=t.backend.$sub($(v,"TrailingDigitsRx"),""),u(r=$(v,"DEFAULT_EXTENSIONS")["$[]"](e))?n=r["$[]"](l(1,-1,!1)):(e="html",r=".html",n="html",o="html"),c(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:r,filetype:n,htmlsyntax:o})},d.$$arity=0),t.def(g,"$filetype",h=function(r){var n=this,a=i;return null==r&&(r=i),u(r)?(a=["filetype",r],s(n.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):n.$backend_info()["$[]"]("filetype")},h.$$arity=-1),t.def(g,"$basebackend",p=function(r){var n=this,a=i;return null==r&&(r=i),u(r)?(a=["basebackend",r],s(n.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):n.$backend_info()["$[]"]("basebackend")},p.$$arity=-1),t.def(g,"$outfilesuffix",y=function(r){var n=this,a=i;return null==r&&(r=i),u(r)?(a=["outfilesuffix",r],s(n.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):n.$backend_info()["$[]"]("outfilesuffix")},y.$$arity=-1),t.def(g,"$htmlsyntax",m=function(r){var n=this,a=i;return null==r&&(r=i),u(r)?(a=["htmlsyntax",r],s(n.$backend_info(),"[]=",t.to_a(a)),a[e(a.length,1)]):n.$backend_info()["$[]"]("htmlsyntax")},m.$$arity=-1)}(p[0],p),function(e,r){var n,a=(e.$$proto,[e].concat(r));return t.def(e,"$included",n=function(t){return t.$extend($(a,"Config"))},n.$$arity=1),i&&"included"}(t.get_singleton_class(h),p),h.$include($(p,"Config")),h.$include($(p,"BackendInfo")),t.def(h,"$initialize",_=function(t,e){var r=this;return null==e&&(e=c([],{})),r.backend=t,r.$setup_backend_info()},_.$$arity=-2),t.def(h,"$convert",d=function(t,e,r){var n=this;return null==e&&(e=i),null==r&&(r=c([],{})),n.$raise(a("::","NotImplementedError"))},d.$$arity=-2),t.alias(h,"convert_with_options","convert")}(d[0],d),function(e,r){var n,s,l=n=o(e,"Writer"),c=(l.$$proto,[l].concat(r));t.def(l,"$write",s=function(t,e){return u(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write($(c,"LF"))):a("::","IO").$write(e,t),i},s.$$arity=2)}(d[0],d),function(e,r){var n,a,s=n=o(e,"VoidWriter"),u=(s.$$proto,[s].concat(r));s.$include($(u,"Writer")),t.def(s,"$write",a=function(t,e){return i},a.$$arity=2)}(d[0],d)}(n[0],n),r.$require("asciidoctor/converter/base"),r.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var a=(t.top,[]),$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.module),l=t.klass,c=t.truthy,f=t.send,_=t.hash2,d=t.range,h=t.gvars;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$catalog","$==","$callouts","$dup","$attributes","$safe","$compat_mode","$sourcemap","$converter","$extensions","$each","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$update_doctype_attributes","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$slice","$strftime","$year","$join","$create","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$merge","$find","$context","$enumerate_section","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$backend","$default","$doctype","$content_model","$warn","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$*","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(a,p){var y,m=y=u(a,"Asciidoctor"),g=(m.$$proto,[m].concat(p));!function(a,u,p){function y(){}var m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st=y=l(a,u,"Document",y),ut=st.$$proto,lt=[st].concat(p);return ut.attributes=ut.safe=ut.reader=ut.base_dir=ut.parsed=ut.parent_document=ut.extensions=ut.options=ut.counters=ut.catalog=ut.header=ut.blocks=ut.attributes_modified=ut.id=ut.callouts=ut.header_attributes=ut.max_attribute_value_size=ut.attribute_overrides=ut.backend=ut.doctype=ut.converter=ut.outfilesuffix=ut.docinfo_processor_extensions=ut.document=$,t.const_set(lt[0],"Footnote",o("::","Struct").$new("index","id","text")),function(r,n,i){function a(){}var o,s,u=a=l(r,n,"AttributeEntry",a);u.$$proto,[u].concat(i);return u.$attr_reader("name","value","negate"),t.def(u,"$initialize",o=function(t,e,r){var n=this;return null==r&&(r=$),n.name=t,n.value=e,n.negate=function(){return c(r["$nil?"]())?e["$nil?"]():r}()},o.$$arity=-3),t.def(u,"$save_to",s=function(r){var n,i=this,a=$;return(c(n=r["$[]"]("attribute_entries"))?n:(a=["attribute_entries",[]],f(r,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](i),i},s.$$arity=1),$&&"save_to"}(lt[0],null,lt),function(e,r,n){function i(){}var a,o,u,f,d=i=l(e,r,"Title",i),h=d.$$proto,p=[d].concat(n);return h.sanitized=h.subtitle=h.combined=$,d.$attr_reader("main"),t.alias(d,"title","main"),d.$attr_reader("subtitle"),d.$attr_reader("combined"),t.def(d,"$initialize",a=function(e,r){var n,i,a=this,o=$,u=$;return null==r&&(r=_([],{})),c(c(n=a.sanitized=r["$[]"]("sanitize"))?e["$include?"]("<"):n)&&(e=e.$gsub(s(p,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),c(c(n=(o=c(i=r["$[]"]("separator"))?i:":")["$empty?"]())?n:e["$include?"](o=""+o+" ")["$!"]())?(a.main=e,a.subtitle=$):(i=e.$rpartition(o),n=t.to_ary(i),a.main=null==n[0]?$:n[0],u=null==n[1]?$:n[1],a.subtitle=null==n[2]?$:n[2],i),a.combined=e},a.$$arity=-2),t.def(d,"$sanitized?",o=function(){var t=this;return t.sanitized},o.$$arity=0),t.def(d,"$subtitle?",u=function(){var t=this;return!!c(t.subtitle)},u.$$arity=0),t.def(d,"$to_s",f=function(){var t=this;return t.combined},f.$$arity=0),$&&"to_s"}(lt[0],null,lt),st.$attr_reader("safe"),st.$attr_reader("compat_mode"),st.$attr_reader("backend"),st.$attr_reader("doctype"),st.$attr_accessor("sourcemap"),st.$attr_reader("catalog"),t.alias(st,"references","catalog"),st.$attr_reader("counters"),st.$attr_reader("callouts"),st.$attr_reader("header"),st.$attr_reader("base_dir"),st.$attr_reader("options"),st.$attr_reader("outfilesuffix"),st.$attr_reader("parent_document"),st.$attr_reader("reader"),st.$attr_reader("converter"),st.$attr_reader("extensions"),t.def(st,"$initialize",m=function(i,a){var u,l,h,p,y,g,v,b=this,w=m.$$p,k=$,E=$,x=$,A=$,O=$,S=$,M=$,T=$,R=$,I=$,C=$,N=$,z=$,P=$,B=$,q=$,D=$,L=$,F=$;if(null==i&&(i=$),null==a&&(a=_([],{})),w&&(m.$$p=null),f(b,t.find_super_dispatcher(b,"initialize",m,!1),[b,"document"],null),c(k=a.$delete("parent")))b.parent_document=k,c(u=a["$[]"]("base_dir"))?u:(E=["base_dir",k.$base_dir()],f(a,"[]=",t.to_a(E)),E[e(E.length,1)]),b.catalog=f(k.$catalog(),"inject",[_([],{})],(l=function(r,n){var i,a,o;l.$$s||this;return null==n&&(n=$),n=t.to_ary(n),i=t.slice.call(n,0,n.length),a=i.splice(0,1)[0],null==a&&(a=$),o=i.splice(0,1)[0],null==o&&(o=$),null==r&&(r=$),E=[a,function(){return a["$=="]("footnotes")?[]:o}()],f(r,"[]=",t.to_a(E)),E[e(E.length,1)],r},l.$$s=b,l.$$arity=2,l.$$has_top_level_mlhs_arg=!0,l)),b.callouts=k.$callouts(),b.attribute_overrides=x=k.$attributes().$dup(),A=x.$delete("doctype"),x.$delete("compat-mode"),x.$delete("toc"),x.$delete("toc-placement"),x.$delete("toc-position"),b.safe=k.$safe(),c(b.compat_mode=k.$compat_mode())&&(E=["compat-mode",""],f(b.attributes,"[]=",t.to_a(E)),E[e(E.length,1)]),b.sourcemap=k.$sourcemap(),b.converter=k.$converter(),O=!1,b.extensions=k.$extensions();else{if(b.parent_document=$,b.catalog=_(["ids","refs","footnotes","links","images","indexterms","includes"],{ids:_([],{}),refs:_([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:o("::","Set").$new()}),b.callouts=s(lt,"Callouts").$new(),x=_([],{}),f(c(u=a["$[]"]("attributes"))?u:_([],{}),"each",[],(h=function(r,n){h.$$s||this;return null==r&&(r=$),null==n&&(n=$),c(r["$start_with?"]("!"))?(r=r["$[]"](d(1,-1,!1)),n=$):c(r["$end_with?"]("!"))&&(r=r.$chop(),n=$),E=[r.$downcase(),n],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]},h.$$s=b,h.$$arity=2,h)),b.attribute_overrides=x,c((S=a["$[]"]("safe"))["$!"]()))b.safe=o(s(lt,"SafeMode"),"SECURE");else if(c(o("::","Integer")["$==="](S)))b.safe=S;else try{b.safe=s(lt,"SafeMode").$value_for_name(S.$to_s())}catch(e){if(!t.rescue(e,[s(lt,"StandardError")]))throw e;try{b.safe=o(s(lt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}b.compat_mode=x["$key?"]("compat-mode"),b.sourcemap=a["$[]"]("sourcemap"),b.converter=$,O=(p=o("::","Asciidoctor","skip_raise"))&&(u=o(p,"Extensions","skip_raise"))?"constant":$,b.extensions=$}return b.parsed=!1,b.header=$,b.counters=_([],{}),b.attributes_modified=o("::","Set").$new(),b.docinfo_processor_extensions=_([],{}),M=c(y=a["$[]"]("header_footer"))?y:(E=["header_footer",!1],f(a,"[]=",t.to_a(E)),E[e(E.length,1)]),(b.options=a).$freeze(),T=b.attributes,E=["sectids",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["toc-placement","auto"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],c(M)?(E=["copycss",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["embedded",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]):(E=["notitle",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["embedded",""],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),E=["stylesheet",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["webfonts",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["prewrap",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["attribute-undefined",s(lt,"Compliance").$attribute_undefined()],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["attribute-missing",s(lt,"Compliance").$attribute_missing()],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["iconfont-remote",""],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["caution-caption","Caution"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["important-caption","Important"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["note-caption","Note"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["tip-caption","Tip"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["warning-caption","Warning"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["example-caption","Example"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["figure-caption","Figure"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["table-caption","Table"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["toc-title","Table of Contents"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["manname-title","NAME"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["section-refsig","Section"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["chapter-refsig","Chapter"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["appendix-caption",(E=["appendix-refsig","Appendix"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)])],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["untitled-label","Untitled"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["version-label","Version"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["last-update-label","Last updated"],f(T,"[]=",t.to_a(E)),E[e(E.length,1)],E=["asciidoctor",""],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],E=["asciidoctor-version",s(lt,"VERSION")],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-name",R=s(lt,"SafeMode").$name_for_value(b.safe)],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-"+R,""],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-level",b.safe],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],c(y=x["$[]"]("max-include-depth"))?y:(E=["max-include-depth",64],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=x["$[]"]("allow-uri-read"))?y:(E=["allow-uri-read",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),E=["user-home",s(lt,"USER_HOME")],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],c(x["$key?"]("numbered"))&&(E=["sectnums",x.$delete("numbered")],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(I=a["$[]"]("base_dir"))?b.base_dir=(E=["docdir",o("::","File").$expand_path(I)],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]):c(x["$[]"]("docdir"))?b.base_dir=x["$[]"]("docdir"):b.base_dir=(E=["docdir",o("::","Dir").$pwd()],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(C=a["$[]"]("backend"))&&(E=["backend",""+C],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(N=a["$[]"]("doctype"))&&(E=["doctype",""+N],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(r(b.safe,o(s(lt,"SafeMode"),"SERVER")))&&(c(y=x["$[]"]("copycss"))?y:(E=["copycss",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=x["$[]"]("source-highlighter"))?y:(E=["source-highlighter",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=x["$[]"]("backend"))?y:(E=["backend",s(lt,"DEFAULT_BACKEND")],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(c(y=k["$!"]())?x["$key?"]("docfile"):y)&&(E=["docfile",x["$[]"]("docfile")["$[]"](t.Range.$new(n(x["$[]"]("docdir").$length(),1),-1,!1))],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),E=["docdir",""],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],E=["user-home","."],f(x,"[]=",t.to_a(E)),E[e(E.length,1)],c(r(b.safe,o(s(lt,"SafeMode"),"SECURE")))&&(c(x["$key?"]("max-attribute-value-size"))||(E=["max-attribute-value-size",4096],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(x.$fetch("linkcss","")["$nil?"]())||(E=["linkcss",""],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=x["$[]"]("icons"))?y:(E=["icons",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]))),b.max_attribute_value_size=function(){return c(z=c(y=x["$[]"]("max-attribute-value-size"))?y:(E=["max-attribute-value-size",$],f(x,"[]=",t.to_a(E)),E[e(E.length,1)]))?z.$to_i().$abs():$}(),f(x,"delete_if",[],(g=function(r,n){var i,a=(g.$$s||this,$);return null==r&&(r=$),null==n&&(n=$),a=!1,c(n["$nil?"]())?T.$delete(r):(c(c(i=o("::","String")["$==="](n))?n["$end_with?"]("@"):i)&&(n=n.$chop(),a=!0),E=[r,n],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),a},g.$$s=b,g.$$arity=2,g)),c(k)?(b.backend=T["$[]"]("backend"),(b.doctype=(E=["doctype",A],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]))["$=="](s(lt,"DEFAULT_DOCTYPE"))||b.$update_doctype_attributes(s(lt,"DEFAULT_DOCTYPE")),
b.reader=s(lt,"Reader").$new(i,a["$[]"]("cursor")),s(lt,"Parser").$parse(b.reader,b),b.$restore_attributes(),b.parsed=!0):(b.backend=$,(c(y=T["$[]"]("backend"))?y:(E=["backend",s(lt,"DEFAULT_BACKEND")],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]))["$=="]("manpage")?b.doctype=(E=["doctype",(E=["doctype","manpage"],f(x,"[]=",t.to_a(E)),E[e(E.length,1)])],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]):b.doctype=c(y=T["$[]"]("doctype"))?y:(E=["doctype",s(lt,"DEFAULT_DOCTYPE")],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),b.$update_backend_attributes(T["$[]"]("backend"),!0),P=function(){return c(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?o("::","Time").$at(b.$Integer(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():o("::","Time").$now()}(),c(B=T["$[]"]("localdate"))?q=c(y=T["$[]"]("localyear"))?y:(E=["localyear",function(){return B.$index("-")["$=="](4)?B.$slice(0,4):$}()],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]):(E=["localdate",P.$strftime("%Y-%m-%d")],f(T,"[]=",t.to_a(E)),B=E[e(E.length,1)],q=c(y=T["$[]"]("localyear"))?y:(E=["localyear",P.$year().$to_s()],f(T,"[]=",t.to_a(E)),E[e(E.length,1)])),D=c(y=T["$[]"]("localtime"))?y:(E=["localtime",function(){try{return P.$strftime("%H:%M:%S %Z")}catch(e){if(!t.rescue(e,[s(lt,"StandardError")]))throw e;try{return P.$strftime("%H:%M:%S %z")}finally{t.pop_exception()}}}()],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("localdatetime"))?y:(E=["localdatetime",""+B+" "+D],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("docdate"))?y:(E=["docdate",B],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("docyear"))?y:(E=["docyear",q],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("doctime"))?y:(E=["doctime",D],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("docdatetime"))?y:(E=["docdatetime",""+B+" "+D],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("stylesdir"))?y:(E=["stylesdir","."],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=T["$[]"]("iconsdir"))?y:(E=["iconsdir",o("::","File").$join(T.$fetch("imagesdir","./images"),"icons")],f(T,"[]=",t.to_a(E)),E[e(E.length,1)]),c(O)&&(c(L=a["$[]"]("extension_registry"))?c(c(y=o(s(lt,"Extensions"),"Registry")["$==="](L))?y:c(v=o("::","RUBY_ENGINE_JRUBY"))?o(o(o("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](L):v)||(L=o(s(lt,"Extensions"),"Registry").$new()):L=c(o("::","Proc")["$==="](F=a["$[]"]("extensions")))?f(s(lt,"Extensions"),"create",[],F.$to_proc()):o(s(lt,"Extensions"),"Registry").$new(),b.extensions=L.$activate(b)),b.reader=s(lt,"PreprocessorReader").$new(b,i,o(s(lt,"Reader"),"Cursor").$new(T["$[]"]("docfile"),b.base_dir),_(["normalize"],{normalize:!0})))},m.$$arity=-1),t.def(st,"$parse",g=function(t){var e,r,n,i=this,a=$,u=$;return null==t&&(t=$),c(i.parsed)?i:(a=i,c(t)&&(i.reader=s(lt,"PreprocessorReader").$new(a,t,o(s(lt,"Reader"),"Cursor").$new(i.attributes["$[]"]("docfile"),i.base_dir),_(["normalize"],{normalize:!0}))),c(c(e=u=function(){return c(i.parent_document)?$:i.extensions}())?u["$preprocessors?"]():e)&&f(u.$preprocessors(),"each",[],(r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=$),null==t&&(t=$),n.reader=c(e=t.$process_method()["$[]"](a,n.reader))?e:n.reader},r.$$s=i,r.$$arity=1,r)),s(lt,"Parser").$parse(i.reader,a,_(["header_only"],{header_only:i.options["$[]"]("parse_header_only")})),i.$restore_attributes(),c(c(e=u)?u["$tree_processors?"]():e)&&f(u.$tree_processors(),"each",[],(n=function(t){var e,r,i=(n.$$s||this,$);return null==t&&(t=$),c(c(e=c(r=i=t.$process_method()["$[]"](a))?s(lt,"Document")["$==="](i):r)?i["$!="](a):e)?a=i:$},n.$$s=i,n.$$arity=1,n)),i.parsed=!0,a)},g.$$arity=-1),t.def(st,"$counter",v=function(r,n){var i,a=this,o=$,s=$,u=$;return null==n&&(n=$),c(a.parent_document)?a.parent_document.$counter(r,n):c(c(i=o=(s=a.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?a.counters["$key?"](r):i)?(u=[r,(u=[r,a.$nextval(s)],f(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],f(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]):c(n)?(u=[r,(u=[r,function(){return n["$=="](n.$to_i().$to_s())?n.$to_i():n}()],f(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],f(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]):(u=[r,(u=[r,a.$nextval(function(){return c(o)?s:0}())],f(a.counters,"[]=",t.to_a(u)),u[e(u.length,1)])],f(a.attributes,"[]=",t.to_a(u)),u[e(u.length,1)])},v.$$arity=-2),t.def(st,"$increment_and_store_counter",b=function(t,e){var r=this;return s(lt,"AttributeEntry").$new(t,r.$counter(t)).$save_to(e.$attributes()).$value()},b.$$arity=2),t.alias(st,"counter_increment","increment_and_store_counter"),t.def(st,"$nextval",w=function(t){var e=$;return c(o("::","Integer")["$==="](t))?n(t,1):(e=t.$to_i(),c(e.$to_s()["$!="](t.$to_s()))?n(t["$[]"](0).$ord(),1).$chr():n(e,1))},w.$$arity=1),t.def(st,"$register",k=function(r,i){var a,o,s=this,u=$,l=$,_=$,d=$,h=$,p=$,y=$;return function(){return u=r,"ids"["$==="](u)?(o=i,a=t.to_ary(o),l=null==a[0]?$:a[0],_=null==a[1]?$:a[1],o,d=s.catalog["$[]"]("ids"),c(a=d["$[]"](l))?a:(h=[l,c(o=_)?o:n(n("[",l),"]")],f(d,"[]=",t.to_a(h)),h[e(h.length,1)])):"refs"["$==="](u)?(o=i,a=t.to_ary(o),l=null==a[0]?$:a[0],p=null==a[1]?$:a[1],_=null==a[2]?$:a[2],o,c((y=s.catalog["$[]"]("refs"))["$key?"](l))?$:(h=[l,c(a=_)?a:n(n("[",l),"]")],f(s.catalog["$[]"]("ids"),"[]=",t.to_a(h)),h[e(h.length,1)],h=[l,p],f(y,"[]=",t.to_a(h)),h[e(h.length,1)])):"footnotes"["$==="](u)||"indexterms"["$==="](u)?s.catalog["$[]"](r)["$<<"](i):c(s.options["$[]"]("catalog_assets"))?s.catalog["$[]"](r)["$<<"](i):$}()},k.$$arity=2),t.def(st,"$footnotes?",E=function(){var t=this;return!c(t.catalog["$[]"]("footnotes")["$empty?"]())},E.$$arity=0),t.def(st,"$footnotes",x=function(){var t=this;return t.catalog["$[]"]("footnotes")},x.$$arity=0),t.def(st,"$nested?",A=function(){var t=this;return!!c(t.parent_document)},A.$$arity=0),t.def(st,"$embedded?",O=function(){var t=this;return t.attributes["$key?"]("embedded")},O.$$arity=0),t.def(st,"$extensions?",S=function(){var t=this;return!!c(t.extensions)},S.$$arity=0),t.def(st,"$source",M=function(){var t=this;return c(t.reader)?t.reader.$source():$},M.$$arity=0),t.def(st,"$source_lines",T=function(){var t=this;return c(t.reader)?t.reader.$source_lines():$},T.$$arity=0),t.def(st,"$basebackend?",R=function(t){var e=this;return e.attributes["$[]"]("basebackend")["$=="](t)},R.$$arity=1),t.def(st,"$title",I=function(){var t=this;return t.attributes["$[]"]("title")},I.$$arity=0),t.def(st,"$title=",C=function(r){var n=this,i=$,a=$;return c(i=n.header)||(a=["header"],f(i=n.header=s(lt,"Section").$new(n,0,!1),"sectname=",t.to_a(a)),a[e(a.length,1)]),a=[r],f(i,"title=",t.to_a(a)),a[e(a.length,1)]},C.$$arity=1),t.def(st,"$doctitle",N=function(t){var e,r=this,n=$,i=$,a=$;if(null==t&&(t=_([],{})),c((n=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))n=r.$title();else if(c(i=r.$first_section()))n=i.$title();else if(!c(c(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e))return $;return c(a=t["$[]"]("partition"))?s(lt,"Title").$new(n,t.$merge(_(["separator"],{separator:function(){return a["$=="](!0)?r.attributes["$[]"]("title-separator"):a}()}))):c(c(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(s(lt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},N.$$arity=-1),t.alias(st,"name","doctitle"),t.def(st,"$author",z=function(){var t=this;return t.attributes["$[]"]("author")},z.$$arity=0),t.def(st,"$revdate",P=function(){var t=this;return t.attributes["$[]"]("revdate")},P.$$arity=0),t.def(st,"$notitle",B=function(){var t,e=this;return c(t=e.attributes["$key?"]("showtitle")["$!"]())?e.attributes["$key?"]("notitle"):t},B.$$arity=0),t.def(st,"$noheader",q=function(){var t=this;return t.attributes["$key?"]("noheader")},q.$$arity=0),t.def(st,"$nofooter",D=function(){var t=this;return t.attributes["$key?"]("nofooter")},D.$$arity=0),t.def(st,"$first_section",L=function(){var t,e,r=this;return c(t=r.header)?t:f(r.blocks,"find",[],(e=function(t){e.$$s||this;return null==t&&(t=$),t.$context()["$=="]("section")},e.$$s=r,e.$$arity=1,e))},L.$$arity=0),t.def(st,"$has_header?",F=function(){var t=this;return!!c(t.header)},F.$$arity=0),t.alias(st,"header?","has_header?"),t.def(st,"$<<",j=function(e){var r=this,n=j.$$p,i=$,a=$,o=$;for(n&&(j.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return e.$context()["$=="]("section")&&r.$enumerate_section(e),f(r,t.find_super_dispatcher(r,"<<",j,!1),i,n)},j.$$arity=1),t.def(st,"$finalize_header",U=function(r,n){var i=this,a=$;return null==n&&(n=!0),i.$clear_playback_attributes(r),i.$save_attributes(),c(n)||(a=["invalid-header",!0],f(r,"[]=",t.to_a(a)),a[e(a.length,1)]),r},U.$$arity=-2),t.def(st,"$save_attributes",H=function(){var r,n,i,a=this,o=$,u=$,l=$,_=$,d=$,h=$,p=$,y=$,m=$,g=$;return(o=a.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(c(c(r=a["$attribute_locked?"]("toc"))?r:a.attributes_modified["$include?"]("toc"))||(u=["toc",""],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]),c(c(r=a["$attribute_locked?"]("sectnums"))?r:a.attributes_modified["$include?"]("sectnums"))||(u=["sectnums",""],f(o,"[]=",t.to_a(u)),u[e(u.length,1)])),c(c(r=o["$key?"]("doctitle"))?r:(l=a.$doctitle())["$!"]())||(u=["doctitle",l],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]),c(a.id)||(a.id=o["$[]"]("css-signature")),_=function(){return c(d=function(){return c(o.$delete("toc2"))?"left":o["$[]"]("toc")}())?c(c(r=h=o.$fetch("toc-placement","macro"))?h["$!="]("auto"):r)?h:o["$[]"]("toc-position"):$}(),c(c(r=d)?c(n=d["$empty?"]()["$!"]())?n:_["$nil_or_empty?"]()["$!"]():r)&&(p="left",y="toc2",m=c(_["$nil_or_empty?"]()["$!"]())?_:c(d["$empty?"]()["$!"]())?d:p,u=["toc",""],f(o,"[]=",t.to_a(u)),u[e(u.length,1)],u=["toc-placement","auto"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)],g=m,"left"["$==="](g)||"<"["$==="](g)||"&lt;"["$==="](g)?(u=["toc-position","left"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]):"right"["$==="](g)||">"["$==="](g)||"&gt;"["$==="](g)?(u=["toc-position","right"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]):"top"["$==="](g)||"^"["$==="](g)?(u=["toc-position","top"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]):"bottom"["$==="](g)||"v"["$==="](g)?(u=["toc-position","bottom"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]):"preamble"["$==="](g)||"macro"["$==="](g)?(u=["toc-position","content"],f(o,"[]=",t.to_a(u)),u[e(u.length,1)],u=["toc-placement",m],f(o,"[]=",t.to_a(u)),u[e(u.length,1)],y=$):(o.$delete("toc-position"),y=$),c(y)&&(c(r=o["$[]"]("toc-class"))?r:(u=["toc-class",y],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]))),c(a.compat_mode=o["$key?"]("compat-mode"))&&c(o["$key?"]("language"))&&(u=["source-language",o["$[]"]("language")],f(o,"[]=",t.to_a(u)),u[e(u.length,1)]),a.outfilesuffix=o["$[]"]("outfilesuffix"),a.header_attributes=o.$dup(),c(a.parent_document)?$:f(s(lt,"FLEXIBLE_ATTRIBUTES"),"each",[],(i=function(t){var e,r=i.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=$),null==t&&(t=$),c(c(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):$},i.$$s=a,i.$$arity=1,i))},H.$$arity=0),t.def(st,"$restore_attributes",G=function(){var t=this;return c(t.parent_document)||t.callouts.$rewind(),t.attributes=t.header_attributes},G.$$arity=0),t.def(st,"$clear_playback_attributes",Y=function(t){return t.$delete("attribute_entries")},Y.$$arity=1),t.def(st,"$playback_attributes",W=function(r){var n,i=this;return c(r["$key?"]("attribute_entries"))?f(r["$[]"]("attribute_entries"),"each",[],(n=function(r){var i=n.$$s||this,a=$,o=$;return null==i.attributes&&(i.attributes=$),null==r&&(r=$),a=r.$name(),c(r.$negate())?(i.attributes.$delete(a),a["$=="]("compat-mode")?i.compat_mode=!1:$):(o=[a,r.$value()],f(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],a["$=="]("compat-mode")?i.compat_mode=!0:$)},n.$$s=i,n.$$arity=1,n)):$},W.$$arity=1),t.def(st,"$set_attribute",K=function(r,n){var i=this,a=$,o=$,s=$;return null==n&&(n=""),!c(i["$attribute_locked?"](r))&&(a=c(i.max_attribute_value_size)?i.$apply_attribute_value_subs(n).$limit_bytesize(i.max_attribute_value_size):i.$apply_attribute_value_subs(n),o=r,"backend"["$==="](o)?i.$update_backend_attributes(a,i.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](o)?i.$update_doctype_attributes(a):(s=[r,a],f(i.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),i.attributes_modified["$<<"](r),a)},K.$$arity=-2),t.def(st,"$delete_attribute",X=function(t){var e=this;return!c(e["$attribute_locked?"](t))&&(e.attributes.$delete(t),e.attributes_modified["$<<"](t),!0)},X.$$arity=1),t.def(st,"$attribute_locked?",V=function(t){var e=this;return e.attribute_overrides["$key?"](t)},V.$$arity=1),t.def(st,"$apply_attribute_value_subs",J=function(t){var e,r=this;return c(s(lt,"AttributeEntryPassMacroRx")["$=~"](t))?c((e=h["~"])===$?$:e["$[]"](1))?r.$apply_subs((e=h["~"])===$?$:e["$[]"](2),r.$resolve_pass_subs((e=h["~"])===$?$:e["$[]"](1))):(e=h["~"])===$?$:e["$[]"](2):r.$apply_header_subs(t)},J.$$arity=1),t.def(st,"$update_backend_attributes",Z=function(r,n){var i,a,u=this,l=$,_=$,h=$,p=$,y=$,m=$,g=$,v=$,b=$,w=$,k=$;return null==n&&(n=$),c(c(i=n)?i:c(a=r)?r["$!="](u.backend):a)?(i=[u.backend,(l=u.attributes)["$[]"]("basebackend"),u.doctype],_=i[0],h=i[1],p=i[2],i,c(r["$start_with?"]("xhtml"))?(y=["htmlsyntax","xml"],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],r=r["$[]"](d(1,-1,!1))):c(r["$start_with?"]("html"))&&(l["$[]"]("htmlsyntax")["$=="]("xml")||(y=["htmlsyntax","html"],f(l,"[]=",t.to_a(y)),y[e(y.length,1)])),c(m=s(lt,"BACKEND_ALIASES")["$[]"](r))&&(r=m),c(p)?(c(_)&&(l.$delete("backend-"+_),l.$delete("backend-"+_+"-doctype-"+p)),y=["backend-"+r+"-doctype-"+p,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],y=["doctype-"+p,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]):c(_)&&l.$delete("backend-"+_),y=["backend-"+r,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],u.backend=(y=["backend",r],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]),c(o(s(lt,"Converter"),"BackendInfo")["$==="](u.converter=u.$create_converter()))?(g=u.converter.$basebackend(),c(u["$attribute_locked?"]("outfilesuffix"))||(y=["outfilesuffix",u.converter.$outfilesuffix()],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]),v=u.converter.$filetype()):c(u.converter)?(g=r.$sub(s(lt,"TrailingDigitsRx"),""),c(b=s(lt,"DEFAULT_EXTENSIONS")["$[]"](g))?v=b["$[]"](d(1,-1,!1)):(i=[".html","html","html"],b=i[0],g=i[1],v=i[2],i),c(u["$attribute_locked?"]("outfilesuffix"))||(y=["outfilesuffix",b],f(l,"[]=",t.to_a(y)),y[e(y.length,1)])):u.$raise(o("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),c(w=l["$[]"]("filetype"))&&l.$delete("filetype-"+w),y=["filetype",v],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],y=["filetype-"+v,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],c(k=s(lt,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(y=["pagewidth",k],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]):l.$delete("pagewidth"),c(g["$!="](h))&&(c(p)?(c(h)&&(l.$delete("basebackend-"+h),l.$delete("basebackend-"+h+"-doctype-"+p)),y=["basebackend-"+g+"-doctype-"+p,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]):c(h)&&l.$delete("basebackend-"+h),y=["basebackend-"+g,""],f(l,"[]=",t.to_a(y)),y[e(y.length,1)],y=["basebackend",g],f(l,"[]=",t.to_a(y)),y[e(y.length,1)]),r):$},Z.$$arity=-2),t.def(st,"$update_doctype_attributes",Q=function(r){var n,i=this,a=$,o=$,s=$,u=$,l=$;return c(c(n=r)?r["$!="](i.doctype):n)?(n=[i.backend,(a=i.attributes)["$[]"]("basebackend"),i.doctype],o=n[0],s=n[1],u=n[2],n,c(u)?(a.$delete("doctype-"+u),c(o)&&(a.$delete("backend-"+o+"-doctype-"+u),l=["backend-"+o+"-doctype-"+r,""],f(a,"[]=",t.to_a(l)),l[e(l.length,1)]),c(s)&&(a.$delete("basebackend-"+s+"-doctype-"+u),l=["basebackend-"+s+"-doctype-"+r,""],f(a,"[]=",t.to_a(l)),l[e(l.length,1)])):(c(o)&&(l=["backend-"+o+"-doctype-"+r,""],f(a,"[]=",t.to_a(l)),l[e(l.length,1)]),c(s)&&(l=["basebackend-"+s+"-doctype-"+r,""],f(a,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+r,""],f(a,"[]=",t.to_a(l)),l[e(l.length,1)],i.doctype=(l=["doctype",r],f(a,"[]=",t.to_a(l)),l[e(l.length,1)])):$},Q.$$arity=1),t.def(st,"$create_converter",tt=function(){var r=this,n=$,i=$,a=$,u=$,l=$,d=$;return n=_([],{}),i=["htmlsyntax",r.attributes["$[]"]("htmlsyntax")],f(n,"[]=",t.to_a(i)),i[e(i.length,1)],a=function(){return c(u=r.options["$[]"]("template_dir"))?(i=["template_dirs",[u]],f(n,"[]=",t.to_a(i)),i[e(i.length,1)]):c(a=r.options["$[]"]("template_dirs"))?(i=["template_dirs",a],f(n,"[]=",t.to_a(i)),i[e(i.length,1)]):$}(),c(a)&&(i=["template_cache",r.options.$fetch("template_cache",!0)],f(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine",r.options["$[]"]("template_engine")],f(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine_options",r.options["$[]"]("template_engine_options")],f(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["eruby",r.options["$[]"]("eruby")],f(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["safe",r.safe],f(n,"[]=",t.to_a(i)),i[e(i.length,1)]),d=c(l=r.options["$[]"]("converter"))?o(s(lt,"Converter"),"Factory").$new(o("::","Hash")["$[]"](r.$backend(),l)):o(s(lt,"Converter"),"Factory").$default(!1),d.$create(r.$backend(),n)},tt.$$arity=0),t.def(st,"$convert",et=function(n){var i,a,u=this,l=$,d=$,h=$,p=$,y=$;return null==n&&(n=_([],{})),c(u.parsed)||u.$parse(),c(c(i=r(u.safe,o(s(lt,"SafeMode"),"SERVER")))?i:n["$empty?"]())||(c((l=["outfile",n["$[]"]("outfile")],f(u.attributes,"[]=",t.to_a(l)),l[e(l.length,1)]))||u.attributes.$delete("outfile"),c((l=["outdir",n["$[]"]("outdir")],f(u.attributes,"[]=",t.to_a(l)),l[e(l.length,1)]))||u.attributes.$delete("outdir")),u.$doctype()["$=="]("inline")?c(d=u.blocks["$[]"](0))&&(c(c(i=d.$content_model()["$=="]("compound"))?i:d.$content_model()["$=="]("empty"))?u.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):h=d.$content()):(p=function(){return c(function(){return c(n["$key?"]("header_footer"))?n["$[]"]("header_footer"):u.options["$[]"]("header_footer")}())?"document":"embedded"}(),h=u.converter.$convert(u,p)),c(u.parent_document)||c(c(i=y=u.extensions)?y["$postprocessors?"]():i)&&f(y.$postprocessors(),"each",[],(a=function(t){var e=a.$$s||this;return null==t&&(t=$),h=t.$process_method()["$[]"](e,h)},a.$$s=u,a.$$arity=1,a)),h},et.$$arity=-1),t.alias(st,"render","convert"),t.def(st,"$write",rt=function(t,e){var r=this;return c(s(lt,"Writer")["$==="](r.converter))?r.converter.$write(t,e):(c(e["$respond_to?"]("write"))?c(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(s(lt,"LF"))):o("::","IO").$write(e,t),$)},rt.$$arity=2),t.def(st,"$content",nt=function(){var e=this,r=nt.$$p,n=$,i=$,a=$;for(r&&(nt.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return e.attributes.$delete("title"),f(e,t.find_super_dispatcher(e,"content",nt,!1),n,r)},nt.$$arity=0),t.def(st,"$docinfo",it=function(t,e){var a,u,l,d=this,h=$,p=$,y=$,m=$,g=$,v=$,b=$,w=$,k=$;return null==t&&(t="head"),null==e&&(e=$),c(r(d.$safe(),o(s(lt,"SafeMode"),"SECURE")))?"":(h=[],t["$=="]("head")||(p="-"+t),c(e)||(e=d.outfilesuffix),y=c((y=d.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?c(d.attributes["$key?"]("docinfo2"))?["private","shared"]:c(d.attributes["$key?"]("docinfo1"))?["shared"]:function(){return c(y)?["private"]:$}():f(y.$split(","),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=$),t.$strip()},a.$$s=d,a.$$arity=1,a)),c(y)&&(u=["docinfo"+p+e,d.attributes["$[]"]("docinfodir"),d.$resolve_docinfo_subs()],m=u[0],g=u[1],v=u[2],u,c(y["$&"](["shared","shared-"+t])["$empty?"]())||(b=d.$normalize_system_path(m,g),c(w=d.$read_asset(b,_(["normalize"],{normalize:!0})))&&h["$<<"](d.$apply_subs(w,v))),c(c(u=d.attributes["$[]"]("docname")["$nil_or_empty?"]())?u:y["$&"](["private","private-"+t])["$empty?"]())||(b=d.$normalize_system_path(""+d.attributes["$[]"]("docname")+"-"+m,g),c(k=d.$read_asset(b,_(["normalize"],{normalize:!0})))&&h["$<<"](d.$apply_subs(k,v)))),c(c(u=d.extensions)?d["$docinfo_processors?"](t):u)&&(h=n(h,f(d.docinfo_processor_extensions["$[]"](t),"map",[],(l=function(t){var e=l.$$s||this;return null==t&&(t=$),t.$process_method()["$[]"](e)},l.$$s=d,l.$$arity=1,l)).$compact())),i(h,s(lt,"LF")))},it.$$arity=-1),t.def(st,"$resolve_docinfo_subs",at=function(){var t=this;return c(t.attributes["$key?"]("docinfosubs"))?t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",$,"docinfo"):["attributes"]},at.$$arity=0),t.def(st,"$docinfo_processors?",$t=function(r){var n,i=this,a=$;return null==r&&(r="head"),c(i.docinfo_processor_extensions["$key?"](r))?i.docinfo_processor_extensions["$[]"](r)["$!="](!1):c(c(n=i.extensions)?i.document.$extensions()["$docinfo_processors?"](r):n)?(a=[r,i.document.$extensions().$docinfo_processors(r)],f(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])["$!"]()["$!"]():(a=[r,!1],f(i.docinfo_processor_extensions,"[]=",t.to_a(a)),a[e(a.length,1)])},$t.$$arity=-1),t.def(st,"$to_s",ot=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+function(){return c(t.header["$!="]($))?t.header.$title():$}().$inspect()+", blocks: "+t.blocks.$size()+"}>"},ot.$$arity=0),$&&"to_s"}(g[0],s(g,"AbstractBlock"),g)}(a[0],a)},Opal.modules["asciidoctor/inline"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,$=t.send,o=t.truthy,s=t.hash2;return t.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(e,u){var l,c=l=i(e,"Asciidoctor"),f=(c.$$proto,[c].concat(u));!function(e,n,i){function u(){}var l,c,f,_,d,h,p,y,m=u=a(e,n,"Inline",u),g=m.$$proto;[m].concat(i);return g.text=g.type=r,m.$attr_reader("text"),m.$attr_reader("type"),m.$attr_accessor("target"),t.def(m,"$initialize",l=function(e,n,i,a){var u=this,c=l.$$p,f=r;return null==i&&(i=r),null==a&&(a=s([],{})),c&&(l.$$p=null),$(u,t.find_super_dispatcher(u,"initialize",l,!1),[e,n],null),u.node_name="inline_"+n,u.text=i,u.id=a["$[]"]("id"),u.type=a["$[]"]("type"),u.target=a["$[]"]("target"),o((f=a["$[]"]("attributes"))["$nil_or_empty?"]())?r:u.$update_attributes(f)},l.$$arity=-3),t.def(m,"$block?",c=function(){return!1},c.$$arity=0),t.def(m,"$inline?",f=function(){return!0},f.$$arity=0),t.def(m,"$convert",_=function(){var t=this;return t.$converter().$convert(t)},_.$$arity=0),t.alias(m,"render","convert"),t.def(m,"$alt",d=function(){var t=this;return t.$attr("alt")},d.$$arity=0),t.def(m,"$reftext?",h=function(){var t,e,r=this;return o(t=r.text)?o(e=r.type["$=="]("ref"))?e:r.type["$=="]("bibref"):t},h.$$arity=0),t.def(m,"$reftext",p=function(){var t=this,e=r;return o(e=t.text)?t.$apply_reftext_subs(e):r},p.$$arity=0),t.def(m,"$xreftext",y=function(t){var e=this;return null==t&&(t=r),e.$reftext()},y.$$arity=-1),r&&"xreftext"}(f[0],n(f,"AbstractNode"),f)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,$=t.send,o=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(e,s){var u,l=u=i(e,"Asciidoctor"),c=(l.$$proto,[l].concat(s));!function(e,n,i){function s(){}var u,l,c,f,_=s=a(e,n,"List",s),d=_.$$proto;[_].concat(i);return d.context=d.document=d.style=r,t.alias(_,"items","blocks"),t.alias(_,"content","blocks"),t.alias(_,"items?","blocks?"),t.def(_,"$initialize",u=function(e,n){var i=this,a=u.$$p,o=r,s=r,l=r;for(a&&(u.$$p=null),s=0,l=arguments.length,o=new Array(l);s<l;s++)o[s]=arguments[s];return $(i,t.find_super_dispatcher(i,"initialize",u,!1),o,a)},u.$$arity=2),t.def(_,"$outline?",l=function(){var t,e=this;return o(t=e.context["$=="]("ulist"))?t:e.context["$=="]("olist")},l.$$arity=0),t.def(_,"$convert",c=function(){var e=this,n=c.$$p,i=r,a=r,o=r,s=r;for(n&&(c.$$p=null),o=0,s=arguments.length,a=new Array(s);o<s;o++)a[o]=arguments[o];return e.context["$=="]("colist")?(i=$(e,t.find_super_dispatcher(e,"convert",c,!1),a,n),e.document.$callouts().$next_list(),i):$(e,t.find_super_dispatcher(e,"convert",c,!1),a,n)},c.$$arity=0),t.alias(_,"render","convert"),t.def(_,"$to_s",f=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", style: "+t.style.$inspect()+", items: "+t.$items().$size()+"}>"},f.$$arity=0),r&&"to_s"}(c[0],n(c,"AbstractBlock"),c),function(e,i,s){function u(){}var l,c,f,_,d,h,p,y,m=u=a(e,i,"ListItem",u),g=m.$$proto,v=[m].concat(s);return g.text=g.subs=g.blocks=r,t.alias(m,"list","parent"),m.$attr_accessor("marker"),t.def(m,"$initialize",l=function(e,i){var a=this,o=l.$$p;return null==i&&(i=r),o&&(l.$$p=null),$(a,t.find_super_dispatcher(a,"initialize",l,!1),[e,"list_item"],null),a.text=i,a.level=e.$level(),a.subs=n(v,"NORMAL_SUBS").$dup()},l.$$arity=-2),t.def(m,"$text?",c=function(){var t=this;return t.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.def(m,"$text",f=function(){var t=this;return t.$apply_subs(t.text,t.subs)},f.$$arity=0),t.def(m,"$text=",_=function(t){var e=this;return e.text=t},_.$$arity=1),t.def(m,"$simple?",d=function(){var t,e,i,a=this,$=r;return o(t=a.blocks["$empty?"]())?t:o(e=(i=a.blocks.$size()["$=="](1))?n(v,"List")["$==="]($=a.blocks["$[]"](0)):a.blocks.$size()["$=="](1))?$["$outline?"]():e},d.$$arity=0),t.def(m,"$compound?",h=function(){var t=this;return t["$simple?"]()["$!"]()},h.$$arity=0),t.def(m,"$fold_first",p=function(t,e){var i,a,$,s,u,l=this,c=r,f=r;return null==t&&(t=!1),null==e&&(e=!1),o(o(i=o(a=c=l.blocks["$[]"](0))?n(v,"Block")["$==="](c):a)?o(a=($=c.$context()["$=="]("paragraph"))?t["$!"]():c.$context()["$=="]("paragraph"))?a:o($=o(s=o(u=e)?u:t["$!"]())?c.$context()["$=="]("literal"):s)?c["$option?"]("listparagraph"):$:i)&&(f=l.$blocks().$shift(),o(l.text["$nil_or_empty?"]())||f.$lines().$unshift(l.text),l.text=f.$source()),r},p.$$arity=-1),t.def(m,"$to_s",y=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {list_context: "+e.$parent().$context().$inspect()+", text: "+e.text.$inspect()+", blocks: "+(o(t=e.blocks)?t:[]).$size()+"}>"},y.$$arity=0),r&&"to_s"}(c[0],n(c,"AbstractBlock"),c)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=(t.top,[]),s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),f=t.klass,_=t.send,d=t.truthy,h=t.hash2,p=t.hash,y=t.gvars,m=t.range;return t.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_doctitle?","$attributes","$key?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$=~","$sub_attributes","$downcase","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$*","$read_lines_until","$match","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$sectname","$+","$to_i","$>","$line_info","$include?","$size","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$path","$lineno","$read_line","$===","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$lstrip","$keys","$chr","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$register","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$update","$process_method","$replace","$peek_line","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_item_list","$each","$catalog_inline_biblio_anchor","$instance_variable_get","$marker","$find","$next_description_list","$underline_style_section_titles","$is_section_title?","$atx_section_title?","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$split","$pop","$build_block","$chop","$catalog_inline_anchors","$rekey","$index","$slice","$strip","$<","$next_table","$concat","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$gsub","$reader","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$special","$numbered","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$map","$compact","$Array","$squeeze","$to_a","$process_attribute_entry","$skip_comment_lines","$advance","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$resolve_ordered_list_marker","$ord","$roman_numeral_to_int","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$post_match","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$join","$each_char","$call","$sub!","$gsub!","$%","$begin"]),function(o,g){var v,b=v=c(o,"Asciidoctor"),w=(b.$$proto,[b].concat(g));!function(o,c,g){function v(){}var b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t=v=f(o,c,"Parser",v),dt=(_t.$$proto,[_t].concat(g));return t.const_set(dt[0],"BlockMatchData",l(dt,"Struct").$new("context","masq","tip","terminator")),t.const_set(dt[0],"TabRx",/\t/),t.const_set(dt[0],"TabIndentRx",/^\t+/),t.const_set(dt[0],"StartOfBlockProc",_(_t,"lambda",[],(b=function(t){var e,r,n=b.$$s||this;return null==t&&(t=s),d(e=d(r=t["$start_with?"]("["))?l(dt,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)},b.$$s=_t,b.$$arity=1,b))),t.const_set(dt[0],"StartOfListProc",_(_t,"lambda",[],(w=function(t){w.$$s||this;return null==t&&(t=s),l(dt,"AnyListRx")["$match?"](t)},w.$$s=_t,w.$$arity=1,w))),t.const_set(dt[0],"StartOfBlockOrListProc",_(_t,"lambda",[],(k=function(t){var e,r,n,i=k.$$s||this;return null==t&&(t=s),d(e=d(r=i["$is_delimited_block?"](t))?r:d(n=t["$start_with?"]("["))?l(dt,"BlockAttributeLineRx")["$match?"](t):n)?e:l(dt,"AnyListRx")["$match?"](t)},k.$$s=_t,k.$$arity=1,k))),t.const_set(dt[0],"NoOp",s),t.const_set(dt[0],"TableCellHorzAlignments",h(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(dt[0],"TableCellVertAlignments",h(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(dt[0],"TableCellStyles",h(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.def(_t,"$initialize",E=function(){var t=this;return t.$raise("Au contraire, mon frere. No parser instances will be running around.")},E.$$arity=0),t.defs(_t,"$parse",x=function(e,r,n){var i,a,$=this,o=s,u=s;if(null==n&&(n=h([],{})),o=$.$parse_document_header(e,r),
d(n["$[]"]("header_only")));else for(;d(e["$has_more_lines?"]());)a=$.$next_section(e,r,o),i=t.to_ary(a),u=null==i[0]?s:i[0],o=null==i[1]?s:i[1],a,d(u)&&r["$<<"](u);return r},x.$$arity=-3),t.defs(_t,"$parse_document_header",A=function(r,n){var i,a,$=this,o=s,u=s,l=s,c=s,f=s,h=s,y=s,m=s,g=s,v=s,b=s,w=s,k=s;return o=$.$parse_block_metadata_lines(r,n),d(d(i=u=$["$is_next_line_doctitle?"](r,o,n.$attributes()["$[]"]("leveloffset")))?o["$key?"]("title"):i)?n.$finalize_header(o,!1):(l=s,d((c=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(f=[l=c],_(n,"title=",t.to_a(f)),f[e(f.length,1)]),h=s,d(u)&&(d(n.$sourcemap())&&(y=r.$cursor()),a=$.$parse_section_title(r,n),i=t.to_ary(a),n["$id="](null==i[0]?s:i[0]),m=null==i[1]?s:i[1],g=null==i[2]?s:i[2],m=null==i[3]?s:i[3],v=null==i[4]?s:i[4],a,d(l)||(f=[l=g],_(n,"title=",t.to_a(f)),f[e(f.length,1)]),d(d(i=v)?i:n["$attribute_locked?"]("compat-mode"))||n.$set_attr("compat-mode"),d(b=o.$delete("separator"))&&(d(n["$attribute_locked?"]("title-separator"))||n.$set_attr("title-separator",b)),d(y)&&(f=[y],_(n.$header(),"source_location=",t.to_a(f)),f[e(f.length,1)]),f=["doctitle",h=g],_(n.$attributes(),"[]=",t.to_a(f)),f[e(f.length,1)],d(n.$id())?(o.$delete(1),o.$delete("id")):(d(w=o.$delete(1))&&(k=p(1,w),$.$parse_style_attribute(k,r),d(k["$key?"]("id"))&&(f=["id",k["$[]"]("id")],_(o,"[]=",t.to_a(f)),f[e(f.length,1)])),f=[o.$delete("id")],_(n,"id=",t.to_a(f)),f[e(f.length,1)]),$.$parse_header_metadata(r,n)),d(d(i=(c=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:c["$=="](h))||(f=[l=c],_(n,"title=",t.to_a(f)),f[e(f.length,1)]),d(l)&&(f=["doctitle",l],_(n.$attributes(),"[]=",t.to_a(f)),f[e(f.length,1)]),n.$doctype()["$=="]("manpage")&&$.$parse_manpage_header(r,n),n.$finalize_header(o))},A.$$arity=2),t.defs(_t,"$parse_manpage_header",O=function(n,i){var a,$=this,o=s,u=s,c=s,f=s;return d(l(dt,"ManpageTitleVolnumRx")["$=~"](i.$attributes()["$[]"]("doctitle")))?(o=["mantitle",i.$sub_attributes(((a=y["~"])===s?s:a["$[]"](1)).$downcase())],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)],o=["manvolnum",(a=y["~"])===s?s:a["$[]"](2)],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)]):($.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),o=["mantitle",i.$attributes()["$[]"]("doctitle")],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)],o=["manvolnum","1"],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)]),n.$skip_blank_lines(),d($["$is_next_line_section?"](n,h([],{})))?(u=$.$initialize_section(n,i,h([],{})),u.$level()["$=="](1)?(c=r(n.$read_lines_until(h(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),d(f=l(dt,"ManpageNamePurposeRx").$match(c))?(o=["manname",i.$sub_attributes(f["$[]"](1))],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)],o=["manpurpose",f["$[]"](2)],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)],i.$backend()["$=="]("manpage")?(o=["docname",i.$attributes()["$[]"]("manname")],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)],o=["outfilesuffix","."+i.$attributes()["$[]"]("manvolnum")],_(i.$attributes(),"[]=",t.to_a(o)),o[e(o.length,1)]):s):$.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body")):$.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1")):$.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected")},O.$$arity=2),t.defs(_t,"$next_section",S=function(a,$,o){var u,c,f,p=this,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s,R=s,I=s,C=s;for(null==o&&(o=h([],{})),y=m=g=!1,d(d(u=(c=$.$context()["$=="]("document"))?$.$blocks()["$empty?"]():$.$context()["$=="]("document"))?d(c=d(f=v=$["$has_header?"]())?f:o.$delete("invalid-header"))?c:p["$is_next_line_section?"](a,o)["$!"]():u)?(b=(w=$).$doctype(),d(d(u=v)?u:(c=b["$=="]("book"))?o["$[]"](1)["$!="]("abstract"):b["$=="]("book"))&&(y=m=l(dt,"Block").$new($,"preamble",h(["content_model"],{content_model:"compound"})),d((u=b["$=="]("book"))?$["$attr?"]("preface-title"):b["$=="]("book"))&&(k=[$.$attr("preface-title")],_(y,"title=",t.to_a(k)),k[e(k.length,1)]),$["$<<"](y)),E=$,x=0,A=d($.$attributes()["$key?"]("fragment"))?s:b["$=="]("book")?[0,1]:[1]):(b=(w=$.$document()).$doctype(),E=p.$initialize_section(a,$,o),o=function(){return d(O=o["$[]"]("title"))?h(["title"],{title:O}):h([],{})}(),g=E.$sectname()["$=="]("part"),A=[n(x=E.$level(),1)]),a.$skip_blank_lines();d(a["$has_more_lines?"]());){if(p.$parse_block_metadata_lines(a,w,o),d(S=p["$is_next_line_section?"](a,o))){if(d(w["$attr?"]("leveloffset"))&&(S=n(S,w.$attr("leveloffset").$to_i())),!d(d(c=i(S,x))?c:(f=S["$=="](0))?E.$context()["$=="]("document"):S["$=="](0))){d((c=S["$=="](0))?b["$!="]("book"):S["$=="](0))&&p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections");break}d((c=S["$=="](0))?b["$!="]("book"):S["$=="](0))?p.$warn("asciidoctor: ERROR: "+a.$line_info()+": only book doctypes can contain level 0 sections"):d(d(c=A)?A["$include?"](S)["$!"]():c)&&p.$warn("asciidoctor: WARNING: "+a.$line_info()+": section title out of sequence: expected "+function(){return d(i(A.$size(),1))?"levels":"level"}()+" "+r(A," or ")+", got level "+S),f=p.$next_section(a,E,o),c=t.to_ary(f),M=null==c[0]?s:c[0],o=null==c[1]?s:c[1],f,E["$<<"](M)}else T=a.$line_info(),d(R=p.$next_block(a,d(c=m)?c:E,o,h(["parse_metadata"],{parse_metadata:!1})))&&(d(g)&&(d(E["$blocks?"]()["$!"]())?d(R.$style()["$!="]("partintro"))&&(R.$context()["$=="]("paragraph")?(k=["open"],_(R,"context=",t.to_a(k)),k[e(k.length,1)],k=["partintro"],_(R,"style=",t.to_a(k)),k[e(k.length,1)]):(m=l(dt,"Block").$new(E,"open",h(["content_model"],{content_model:"compound"})),k=["partintro"],_(m,"style=",t.to_a(k)),k[e(k.length,1)],k=[m],_(R,"parent=",t.to_a(k)),k[e(k.length,1)],E["$<<"](m))):E.$blocks().$size()["$=="](1)&&(I=E.$blocks()["$[]"](0),d(d(c=m["$!"]())?I.$content_model()["$=="]("compound"):c)?p.$warn("asciidoctor: ERROR: "+T+": illegal block content outside of partintro block"):d(I.$content_model()["$!="]("compound"))&&(m=l(dt,"Block").$new(E,"open",h(["content_model"],{content_model:"compound"})),k=["partintro"],_(m,"style=",t.to_a(k)),k[e(k.length,1)],E.$blocks().$shift(),I.$style()["$=="]("partintro")&&(k=["paragraph"],_(I,"context=",t.to_a(k)),k[e(k.length,1)],k=[s],_(I,"style=",t.to_a(k)),k[e(k.length,1)]),k=[m],_(I,"parent=",t.to_a(k)),k[e(k.length,1)],m["$<<"](I),k=[m],_(R,"parent=",t.to_a(k)),k[e(k.length,1)],E["$<<"](m)))),(d(c=m)?c:E)["$<<"](R),o=h([],{}));if(!d(c=a.$skip_blank_lines()))break}if(d(g))d(d(u=E["$blocks?"]())?E.$blocks()["$[]"](-1).$context()["$=="]("section"):u)||p.$warn("asciidoctor: ERROR: "+a.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(d(y))if(d(y["$blocks?"]())){if(d(d(u=d(c=l(dt,"Compliance").$unwrap_standalone_preamble())?w.$blocks().$size()["$=="](1):c)?b["$!="]("book"):u))for(w.$blocks().$shift();d(C=y.$blocks().$shift());)k=[w],_(C,"parent=",t.to_a(k)),k[e(k.length,1)],w["$<<"](C)}else w.$blocks().$shift();return[function(){return d(E["$!="]($))?E:s}(),o.$dup()]},S.$$arity=-3),t.defs(_t,"$next_block",M=function($,o,u,c){try{var f,p,g,v,b,w,k,E,x,A,O=this,S=s,M=s,T=s,R=s,I=s,C=s,N=s,z=s,P=s,B=s,q=s,D=s,L=s,F=s,j=s,U=s,H=s,G=s,Y=s,W=s,K=s,X=s,V=s,J=s,Z=s,Q=s,tt=s,et=s,rt=s,nt=s,it=s,at=s,$t=s,ot=s,st=s,ut=s,lt=s,ct=s,ft=s,_t=s,ht=s,pt=s,yt=s,mt=s,gt=s,vt=s,bt=s,wt=s,kt=s,Et=s,xt=s,At=s,Ot=s,St=s,Mt=s;if(null==u&&(u=h([],{})),null==c&&(c=h([],{})),!d(S=$.$skip_blank_lines()))return s;if(d(d(f=M=c["$[]"]("text"))?i(S,0):f)&&(c.$delete("text"),M=!1),T=o.$document(),d(c.$fetch("parse_metadata",!0)))for(;d(O.$parse_block_metadata_line($,T,u,c));)$.$shift(),d(p=$.$skip_blank_lines())?p:t.ret(s);if(d(R=T.$extensions())&&(f=[R["$blocks?"](),R["$block_macros?"]()],I=f[0],C=f[1],f),d(T.$sourcemap())&&(N=$.$cursor()),f=[$.$path(),$.$lineno(),$.$read_line(),l(dt,"ListItem")["$==="](o)],z=f[0],P=f[1],B=f[2],q=f[3],f,D=L=F=j=s,U=function(){return d(u["$[]"](1))?O.$parse_style_attribute(u,$):s}(),d(H=O["$is_delimited_block?"](B,!0))&&(L=F=H.$context(),j=H.$terminator(),d(U["$!"]())?(G=["style",L.$to_s()],_(u,"[]=",t.to_a(G)),U=G[e(G.length,1)]):d(U["$!="](L.$to_s()))&&(d(H.$masq()["$include?"](U))?L=U.$to_sym():d(d(f=H.$masq()["$include?"]("admonition"))?l(dt,"ADMONITION_STYLES")["$include?"](U):f)?L="admonition":d(d(f=I)?R["$registered_for_block?"](U,L):f)?L=U.$to_sym():(O.$warn("asciidoctor: WARNING: "+z+": line "+P+": invalid style for "+L+" block: "+U),U=L.$to_s()))),d(H));else for(;d(!0);){if(d(d(p=d(g=U)?l(dt,"Compliance").$strict_verbatim_paragraphs():g)?l(dt,"VERBATIM_STYLES")["$include?"](U):p)){L=U.$to_sym(),$.$unshift_line(B);break}if(d(M))Y=B["$start_with?"](" ",l(dt,"TAB"));else if(W=l(dt,"Compliance").$markdown_syntax(),d(B["$start_with?"](" "))){if(p=[!0," "],Y=p[0],K=p[1],p,d(d(p=d(g=W)?_(B.$lstrip(),"start_with?",t.to_a(l(dt,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):g)?l(dt,"MarkdownThematicBreakRx")["$match?"](B):p)){D=l(dt,"Block").$new(o,"thematic_break",h(["content_model"],{content_model:"empty"}));break}}else if(d(B["$start_with?"](l(dt,"TAB"))))p=[!0,l(dt,"TAB")],Y=p[0],K=p[1],p;else{if(p=[!1,B.$chr()],Y=p[0],K=p[1],p,X=function(){return d(W)?l(dt,"HYBRID_LAYOUT_BREAK_CHARS"):l(dt,"LAYOUT_BREAK_CHARS")}(),d(d(p=X["$key?"](K))?function(){return d(W)?l(dt,"ExtLayoutBreakRx")["$match?"](B):(g=B["$=="](r(K,V=B.$length())))?i(V,2):B["$=="](r(K,V=B.$length()))}():p)){D=l(dt,"Block").$new(o,X["$[]"](K),h(["content_model"],{content_model:"empty"}));break}if(d(d(p=B["$end_with?"]("]"))?B["$include?"]("::"):p)){if(d(d(p=d(g=K["$=="]("i"))?g:B["$start_with?"]("video:","audio:"))?J=l(dt,"BlockMediaMacroRx").$match(B):p)){if(p=[J["$[]"](1).$to_sym(),J["$[]"](2)],Z=p[0],Q=p[1],p,D=l(dt,"Block").$new(o,Z,h(["content_model"],{content_model:"empty"})),tt=Z,et="video"["$==="](tt)?["poster","width","height"]:"audio"["$==="](tt)?[]:["alt","width","height"],D.$parse_attributes(J["$[]"](3),et,h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:u})),d(u["$key?"]("style"))&&u.$delete("style"),d(d(p=Q["$include?"](l(dt,"ATTR_REF_HEAD")))?(Q=D.$sub_attributes(Q,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():p))return T.$attributes().$fetch("attribute-missing",l(dt,"Compliance").$attribute_missing())["$=="]("skip")?l(dt,"Block").$new(o,"paragraph",h(["content_model","source"],{content_model:"simple",source:[B]})):(u.$clear(),s);Z["$=="]("image")&&(D.$document().$register("images",Q),d(p=u["$[]"]("alt"))?p:(G=["alt",d(g=U)?g:(G=["default-alt",l(dt,"Helpers").$basename(Q,!0).$tr("_-"," ")],_(u,"[]=",t.to_a(G)),G[e(G.length,1)])],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d((rt=u.$delete("scaledwidth"))["$nil_or_empty?"]())||(G=["scaledwidth",function(){return d(l(dt,"TrailingDigitsRx")["$match?"](rt))?""+rt+"%":rt}()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),G=[u.$delete("title")],_(D,"title=",t.to_a(G)),G[e(G.length,1)],D.$assign_caption(u.$delete("caption"),"figure")),G=["target",Q],_(u,"[]=",t.to_a(G)),G[e(G.length,1)];break}if(d(d(p=(g=K["$=="]("t"))?B["$start_with?"]("toc:"):K["$=="]("t"))?J=l(dt,"BlockTocMacroRx").$match(B):p)){D=l(dt,"Block").$new(o,"toc",h(["content_model"],{content_model:"empty"})),D.$parse_attributes(J["$[]"](1),[],h(["sub_result","into"],{sub_result:!1,into:u}));break}if(d(d(p=d(g=C)?J=l(dt,"CustomBlockMacroRx").$match(B):g)?nt=R["$registered_for_block_macro?"](J["$[]"](1)):p)){if(Q=J["$[]"](2),it=J["$[]"](3),nt.$config()["$[]"]("content_model")["$=="]("attributes")?d(it["$empty?"]())||T.$parse_attributes(it,d(p=nt.$config()["$[]"]("pos_attrs"))?p:[],h(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:u})):(G=["text",it],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(at=nt.$config()["$[]"]("default_attrs"))&&_(u,"update",[at],(v=function(t,e){v.$$s||this;return null==t&&(t=s),null==e&&(e=s),e},v.$$s=O,v.$$arity=2,v)),d(D=nt.$process_method()["$[]"](o,Q,u))){u.$replace(D.$attributes());break}return u.$clear(),s}}}if(d(d(p=d(g=d(b=Y["$!"]())?l(dt,"CALLOUT_LIST_HEADS")["$include?"](K=d(w=K)?w:B.$chr()):b)?l(dt,"CalloutListSniffRx")["$match?"](B):g)?J=l(dt,"CalloutListRx").$match(B):p)){for(D=l(dt,"List").$new(o,"colist"),G=["style","arabic"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],$.$unshift_line(B),$t=1;d(d(g=J)?g:d(b=$["$has_more_lines?"]())?J=l(dt,"CalloutListRx").$match($.$peek_line()):b);)ot=$.$lineno(),J["$[]"](1)["$=="]($t.$to_s())||O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+ot+": callout list item index: expected "+$t+" got "+J["$[]"](1)),d(st=O.$next_list_item($,D,J))&&(D["$<<"](st),d((ut=T.$callouts().$callout_ids(D.$items().$size()))["$empty?"]())?O.$warn("asciidoctor: WARNING: "+$.$path()+": line "+ot+": no callouts refer to list item "+D.$items().$size()):(G=["coids",ut],_(st.$attributes(),"[]=",t.to_a(G)),G[e(G.length,1)])),$t=n($t,1),J=s;T.$callouts().$next_list();break}if(d(l(dt,"UnorderedListRx")["$match?"](B))){$.$unshift_line(B),D=O.$next_item_list($,"ulist",o),(d(p=U)?p:d(g=l(dt,"Section")["$==="](o))?o.$sectname():g)["$=="]("bibliography")&&(d(U)||(G=["style","bibliography"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),_(D.$items(),"each",[],(k=function(t){var e=k.$$s||this;return null==t&&(t=s),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),t,T)},k.$$s=O,k.$$arity=1,k)));break}if(d(J=l(dt,"OrderedListRx").$match(B))){$.$unshift_line(B),D=O.$next_item_list($,"olist",o),d(U)||(lt=D.$items()["$[]"](0).$marker(),d(lt["$start_with?"]("."))?(G=["style",(d(p=l(dt,"ORDERED_LIST_STYLES")["$[]"](e(lt.$length(),1)))?p:"arabic").$to_s()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["style",(d(p=_(l(dt,"ORDERED_LIST_STYLES"),"find",[],(E=function(t){E.$$s||this;return null==t&&(t=s),l(dt,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](lt)},E.$$s=O,E.$$arity=1,E)))?p:"arabic").$to_s()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]));break}if(d(J=l(dt,"DescriptionListRx").$match(B))){$.$unshift_line(B),D=O.$next_description_list($,J,o);break}if(d(d(p=d(g=U["$=="]("float"))?g:U["$=="]("discrete"))?function(){return d(l(dt,"Compliance").$underline_style_section_titles())?O["$is_section_title?"](B,$.$peek_line()):d(g=Y["$!"]())?O["$atx_section_title?"](B):g}():p)){$.$unshift_line(B),g=O.$parse_section_title($,T),p=t.to_ary(g),ct=null==p[0]?s:p[0],ft=null==p[1]?s:p[1],_t=null==p[2]?s:p[2],ht=null==p[3]?s:p[3],pt=null==p[4]?s:p[4],g,d(ft)&&(G=["reftext",ft],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),D=l(dt,"Block").$new(o,"floating_title",h(["content_model"],{content_model:"empty"})),G=[_t],_(D,"title=",t.to_a(G)),G[e(G.length,1)],u.$delete("title"),G=[d(p=d(g=ct)?g:u["$[]"]("id"))?p:function(){return d(T.$attributes()["$key?"]("sectids"))?l(dt,"Section").$generate_id(D.$title(),T):s}()],_(D,"id=",t.to_a(G)),G[e(G.length,1)],G=[ht],_(D,"level=",t.to_a(G)),G[e(G.length,1)];break}if(d(d(p=U)?U["$!="]("normal"):p)){if(d(l(dt,"PARAGRAPH_STYLES")["$include?"](U))){L=U.$to_sym(),F="paragraph",$.$unshift_line(B);break}if(d(l(dt,"ADMONITION_STYLES")["$include?"](U))){L="admonition",F="paragraph",$.$unshift_line(B);break}if(d(d(p=I)?R["$registered_for_block?"](U,"paragraph"):p)){L=U.$to_sym(),F="paragraph",$.$unshift_line(B);break}O.$warn("asciidoctor: WARNING: "+z+": line "+P+": invalid style for paragraph: "+U),U=s}if(yt=(p=S["$=="](0))?q:S["$=="](0),$.$unshift_line(B),d(d(p=Y)?U["$!"]():p))mt=O.$read_paragraph_lines($,yt,h(["skip_line_comments"],{skip_line_comments:M})),O["$adjust_indentation!"](mt),D=l(dt,"Block").$new(o,"literal",h(["content_model","source","attributes"],{content_model:"verbatim",source:mt,attributes:u})),d(q)&&D.$set_option("listparagraph");else{if(mt=O.$read_paragraph_lines($,yt,h(["skip_line_comments"],{skip_line_comments:!0})),d(M))d(d(p=Y)?U["$=="]("normal"):p)&&O["$adjust_indentation!"](mt),D=l(dt,"Block").$new(o,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:u}));else if(d(d(p=d(g=l(dt,"ADMONITION_STYLE_HEADS")["$include?"](K))?B["$include?"](":"):g)?l(dt,"AdmonitionParagraphRx")["$=~"](B):p))G=[0,(p=y["~"])===s?s:p.$post_match()],_(mt,"[]=",t.to_a(G)),G[e(G.length,1)],G=["name",gt=(G=["style",(p=y["~"])===s?s:p["$[]"](1)],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]).$downcase()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],G=["textlabel",d(p=u.$delete("caption"))?p:T.$attributes()["$[]"](""+gt+"-caption")],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],D=l(dt,"Block").$new(o,"admonition",h(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:u}));else if(d(d(p=d(g=W)?K["$=="](">"):g)?B["$start_with?"]("> "):p)){if(_(mt,"map!",[],(x=function(t){x.$$s||this;return null==t&&(t=s),t["$=="](">")?t["$[]"](m(1,-1,!1)):d(t["$start_with?"]("> "))?t["$[]"](m(2,-1,!1)):t},x.$$s=O,x.$$arity=1,x)),d(mt["$[]"](-1)["$start_with?"]("-- ")))for(g=mt.$pop()["$[]"](m(3,-1,!1)).$split(", ",2),p=t.to_ary(g),vt=null==p[0]?s:p[0],bt=null==p[1]?s:p[1],g,d(vt)&&(G=["attribution",vt],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(bt)&&(G=["citetitle",bt],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]);d(mt["$[]"](-1)["$empty?"]());)mt.$pop();G=["style","quote"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],D=O.$build_block("quote","compound",!1,o,l(dt,"Reader").$new(mt),u)}else if(d(d(p=d(g=(b=K["$=="]('"'))?i(mt.$size(),1):K["$=="]('"'))?mt["$[]"](-1)["$start_with?"]("-- "):g)?mt["$[]"](-2)["$end_with?"]('"'):p)){for(G=[0,B["$[]"](m(1,-1,!1))],_(mt,"[]=",t.to_a(G)),G[e(G.length,1)],g=mt.$pop()["$[]"](m(3,-1,!1)).$split(", ",2),p=t.to_ary(g),vt=null==p[0]?s:p[0],bt=null==p[1]?s:p[1],g,d(vt)&&(G=["attribution",vt],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(bt)&&(G=["citetitle",bt],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]);d(mt["$[]"](-1)["$empty?"]());)mt.$pop();G=[-1,mt["$[]"](-1).$chop()],_(mt,"[]=",t.to_a(G)),G[e(G.length,1)],G=["style","quote"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],D=l(dt,"Block").$new(o,"quote",h(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:u}))}else d(d(p=Y)?U["$=="]("normal"):p)&&O["$adjust_indentation!"](mt),D=l(dt,"Block").$new(o,"paragraph",h(["content_model","source","attributes"],{content_model:"simple",source:mt,attributes:u}));O.$catalog_inline_anchors(r(mt,l(dt,"LF")),D,T)}break}if(d(D));else if(d(d(f=L["$=="]("abstract"))?f:L["$=="]("partintro"))&&(L="open"),tt=L,"admonition"["$==="](tt))G=["name",gt=U.$downcase()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],G=["textlabel",d(f=u.$delete("caption"))?f:T.$attributes()["$[]"](""+gt+"-caption")],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],D=O.$build_block(L,"compound",j,o,$,u);else{if("comment"["$==="](tt))return O.$build_block(L,"skip",j,o,$,u),u.$clear(),s;if("example"["$==="](tt))D=O.$build_block(L,"compound",j,o,$,u);else if("listing"["$==="](tt)||"literal"["$==="](tt))D=O.$build_block(L,"verbatim",j,o,$,u);else if("source"["$==="](tt))l(dt,"AttributeList").$rekey(u,[s,"language","linenums"]),d(u["$key?"]("language"))||d(T.$attributes()["$key?"]("source-language"))&&(G=["language",d(f=T.$attributes()["$[]"]("source-language"))?f:"text"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(u["$key?"]("linenums"))||d(d(f=u["$key?"]("linenums-option"))?f:T.$attributes()["$key?"]("source-linenums-option"))&&(G=["linenums",""],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(u["$key?"]("indent"))||d(T.$attributes()["$key?"]("source-indent"))&&(G=["indent",T.$attributes()["$[]"]("source-indent")],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),D=O.$build_block("listing","verbatim",j,o,$,u);else if("fenced_code"["$==="](tt))G=["style","source"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)],(V=B.$length())["$=="](3)?wt=s:d(kt=(wt=B.$slice(3,V)).$index(","))?d(i(kt,0))?(wt=wt.$slice(0,kt).$strip(),d(a(kt,e(V,4)))&&(G=["linenums",""],_(u,"[]=",t.to_a(G)),G[e(G.length,1)])):(wt=s,d(i(V,4))&&(G=["linenums",""],_(u,"[]=",t.to_a(G)),G[e(G.length,1)])):wt=wt.$lstrip(),d(wt["$nil_or_empty?"]())?d(T.$attributes()["$key?"]("source-language"))&&(G=["language",d(f=T.$attributes()["$[]"]("source-language"))?f:"text"],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]):(G=["language",wt],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(u["$key?"]("linenums"))||d(d(f=u["$key?"]("linenums-option"))?f:T.$attributes()["$key?"]("source-linenums-option"))&&(G=["linenums",""],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),d(u["$key?"]("indent"))||d(T.$attributes()["$key?"]("source-indent"))&&(G=["indent",T.$attributes()["$[]"]("source-indent")],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),j=j.$slice(0,3),D=O.$build_block("listing","verbatim",j,o,$,u);else if("pass"["$==="](tt))D=O.$build_block(L,"raw",j,o,$,u);else if("stem"["$==="](tt)||"latexmath"["$==="](tt)||"asciimath"["$==="](tt))L["$=="]("stem")&&(G=["style",function(){return d(Et=u["$[]"](2))?d(Et["$include?"]("tex"))?"latexmath":"asciimath":d((xt=T.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":xt}()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),D=O.$build_block("stem","raw",j,o,$,u);else if("open"["$==="](tt)||"sidebar"["$==="](tt))D=O.$build_block(L,"compound",j,o,$,u);else if("table"["$==="](tt))At=l(dt,"Reader").$new($.$read_lines_until(h(["terminator","skip_line_comments"],{terminator:j,skip_line_comments:!0})),$.$cursor()),d(j["$start_with?"]("|","!"))||(d(f=u["$[]"]("format"))?f:(G=["format",function(){return d(j["$start_with?"](","))?"csv":"dsv"}()],_(u,"[]=",t.to_a(G)),G[e(G.length,1)])),D=O.$next_table(At,o,u);else if("quote"["$==="](tt)||"verse"["$==="](tt))l(dt,"AttributeList").$rekey(u,[s,"attribution","citetitle"]),D=O.$build_block(L,function(){return L["$=="]("verse")?"verbatim":"compound"}(),j,o,$,u);else if(d(d(f=I)?nt=R["$registered_for_block?"](L,F):f)){if(d((Ot=nt.$config()["$[]"]("content_model"))["$!="]("skip"))&&(d((St=d(f=nt.$config()["$[]"]("pos_attrs"))?f:[])["$empty?"]()["$!"]())&&l(dt,"AttributeList").$rekey(u,[s].$concat(St)),d(at=nt.$config()["$[]"]("default_attrs"))&&_(at,"each",[],(A=function(r,n){var i;A.$$s||this;return null==r&&(r=s),null==n&&(n=s),d(i=u["$[]"](r))?i:(G=[r,n],_(u,"[]=",t.to_a(G)),G[e(G.length,1)])},A.$$s=O,A.$$arity=2,A)),G=["cloaked-context",F],_(u,"[]=",t.to_a(G)),G[e(G.length,1)]),D=O.$build_block(L,Ot,j,o,$,u,h(["extension"],{extension:nt})),!d(D))return u.$clear(),s}else O.$raise("Unsupported block type "+L+" at "+$.$line_info())}return d(N)&&(G=[N],_(D,"source_location=",t.to_a(G)),G[e(G.length,1)]),d(u["$key?"]("title"))&&(G=[u.$delete("title")],_(D,"title=",t.to_a(G)),G[e(G.length,1)]),G=[u["$[]"]("style")],_(D,"style=",t.to_a(G)),G[e(G.length,1)],d(Mt=d(f=D.$id())?f:(G=[u["$[]"]("id")],_(D,"id=",t.to_a(G)),G[e(G.length,1)]))&&(d(T.$register("refs",[Mt,D,d(f=u["$[]"]("reftext"))?f:function(){return d(D["$title?"]())?D.$title():s}()]))||O.$warn("asciidoctor: WARNING: "+z+": line "+P+": id assigned to block already in use: "+Mt)),d(u["$empty?"]())||D.$attributes().$update(u),D.$lock_in_subs(),d(D["$sub?"]("callouts"))&&(d(O.$catalog_callouts(D.$source(),T))||D.$remove_sub("callouts")),D}catch(e){if(e===t.returner)return e.$v;throw e}},M.$$arity=-3),t.defs(_t,"$read_paragraph_lines",T=function(r,n,i){var a=s,$=s;return null==i&&(i=h([],{})),a=["break_on_blank_lines",!0],_(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["break_on_list_continuation",!0],_(i,"[]=",t.to_a(a)),a[e(a.length,1)],a=["preserve_last_line",!0],_(i,"[]=",t.to_a(a)),a[e(a.length,1)],$=function(){return d(n)?d(l(dt,"Compliance").$block_terminates_paragraph())?l(dt,"StartOfBlockOrListProc"):l(dt,"StartOfListProc"):d(l(dt,"Compliance").$block_terminates_paragraph())?l(dt,"StartOfBlockProc"):l(dt,"NoOp")}(),_(r,"read_lines_until",[i],$.$to_proc())},T.$$arity=-3),t.defs(_t,"$is_delimited_block?",R=function(n,o){var u,c,f=s,_=s,h=s,p=s,y=s,g=s,v=s;if(null==o&&(o=!1),!d(d(u=i(f=n.$length(),1))?l(dt,"DELIMITED_BLOCK_HEADS")["$include?"](n.$slice(0,2)):u))return s;if(f["$=="](2))_=n,h=2;else{if(d($(f,4))?(_=n,h=f):(_=n.$slice(0,4),h=4),p=!1,d(l(dt,"Compliance").$markdown_syntax())&&(y=function(){return h["$=="](4)?_.$chop():_}(),y["$=="]("```"))){if(d((u=h["$=="](4))?_["$end_with?"]("`"):h["$=="](4)))return s;_=y,h=3,p=!0}if(d((u=h["$=="](3))?p["$!"]():h["$=="](3)))return s}return d(l(dt,"DELIMITED_BLOCKS")["$key?"](_))?d(d(u=a(h,4))?u:h["$=="](f))?!d(o)||(c=l(dt,"DELIMITED_BLOCKS")["$[]"](_),u=t.to_ary(c),g=null==u[0]?s:u[0],v=null==u[1]?s:u[1],c,l(dt,"BlockMatchData").$new(g,v,_,_)):(""+_+r(_["$[]"](m(-1,-1,!1)),e(f,h)))["$=="](n)?!d(o)||(c=l(dt,"DELIMITED_BLOCKS")["$[]"](_),u=t.to_ary(c),g=null==u[0]?s:u[0],v=null==u[1]?s:u[1],c,l(dt,"BlockMatchData").$new(g,v,_,n)):s:s},R.$$arity=-2),t.defs(_t,"$build_block",I=function(r,n,a,$,o,u,c){var f,p,y=this,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s;if(null==c&&(c=h([],{})),n["$=="]("skip")?(f=[!0,"simple"],m=f[0],g=f[1],f):n["$=="]("raw")?(f=[!1,"simple"],m=f[0],g=f[1],f):(f=[!1,n],m=f[0],g=f[1],f),d(a["$nil?"]())?(g["$=="]("verbatim")?v=o.$read_lines_until(h(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(n["$=="]("compound")&&(n="simple"),v=y.$read_paragraph_lines(o,!1,h(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:m}))),b=s):d(g["$!="]("compound"))?(v=o.$read_lines_until(h(["terminator","skip_processing"],{terminator:a,skip_processing:m})),b=s):a["$=="](!1)?(v=s,b=o):(v=s,b=l(dt,"Reader").$new(o.$read_lines_until(h(["terminator","skip_processing"],{terminator:a,skip_processing:m})),o.$cursor())),n["$=="]("verbatim"))d(w=u["$[]"]("indent"))?y["$adjust_indentation!"](v,w,d(f=u["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")):d(i(k=(d(f=u["$[]"]("tabsize"))?f:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&y["$adjust_indentation!"](v,s,k);else if(n["$=="]("skip"))return s;if(d(E=c["$[]"]("extension"))){if(u.$delete("style"),!d(x=E.$process_method()["$[]"]($,d(f=b)?f:l(dt,"Reader").$new(v),u.$dup())))return s;u.$replace(x.$attributes()),d((f=x.$content_model()["$=="]("compound"))?(v=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))&&(n="compound",b=l(dt,"Reader").$new(v))}else x=l(dt,"Block").$new($,r,h(["content_model","source","attributes"],{content_model:n,source:v,attributes:u}));return d(d(f=d(p=u["$key?"]("title"))?x.$context()["$!="]("admonition"):p)?$.$document().$attributes()["$key?"](""+x.$context()+"-caption"):f)&&(A=[u.$delete("title")],_(x,"title=",t.to_a(A)),A[e(A.length,1)],x.$assign_caption(u.$delete("caption"))),n["$=="]("compound")&&y.$parse_blocks(b,x),x},I.$$arity=-7),t.defs(_t,"$parse_blocks",C=function(t,e){for(var r,n,i=this,a=s;d(d(r=d(n=a=i.$next_block(t,e))?e["$<<"](a):n)?r:t["$has_more_lines?"]()););},C.$$arity=2),t.defs(_t,"$next_item_list",N=function(r,$,o){var u,c=this,f=s,h=s,p=s,y=s,m=s,g=s,v=s;for(f=l(dt,"List").$new(o,$),o.$context()["$=="]($)?(h=[n(o.$level(),1)],_(f,"level=",t.to_a(h)),h[e(h.length,1)]):(h=[1],_(f,"level=",t.to_a(h)),h[e(h.length,1)]);d(d(u=r["$has_more_lines?"]())?p=l(dt,"ListRxMap")["$[]"]($).$match(r.$peek_line()):u);){if(y=c.$resolve_list_marker($,p["$[]"](1)),d(d(u=f["$items?"]())?y["$!="](f.$items()["$[]"](0).$marker()):u))for(m=n(f.$level(),1),g=o;g.$context()["$=="]($);){if(y["$=="](g.$items()["$[]"](0).$marker())){m=g.$level();break}g=g.$parent()}else m=f.$level();if(d(d(u=f["$items?"]()["$!"]())?u:m["$=="](f.$level())))v=c.$next_list_item(r,f,p);else{if(d(a(m,f.$level())))break;d(i(m,f.$level()))&&f.$items()["$[]"](-1)["$<<"](c.$next_block(r,f))}if(d(v)&&f["$<<"](v),v=s,!d(u=r.$skip_blank_lines()))break}return f},N.$$arity=3),t.defs(_t,"$catalog_callouts",z=function(t,e){var r,n=this,i=s;return i=!1,d(t["$include?"]("<"))&&_(t,"scan",[l(dt,"CalloutScanRx")],(r=function(){var t,n,a=(r.$$s||this,s),$=s;return t=[(n=y["~"])===s?s:n["$[]"](0),(n=y["~"])===s?s:n["$[]"](2)],a=t[0],$=t[1],t,d(a["$start_with?"]("\\"))||e.$callouts().$register($),i=!0},r.$$s=n,r.$$arity=0,r)),i},z.$$arity=2),t.defs(_t,"$catalog_inline_anchors",P=function(t,e,r){var n,i,a=this;return d(d(n=t["$include?"]("[["))?n:t["$include?"]("or:"))&&_(t,"scan",[l(dt,"InlineAnchorScanRx")],(i=function(){var t,n=i.$$s||this,a=s,$=s;if(d(a=(t=y["~"])===s?s:t["$[]"](1))){if(d($=(t=y["~"])===s?s:t["$[]"](2))&&d(d(t=$["$include?"](l(dt,"ATTR_REF_HEAD")))?($=r.$sub_attributes($))["$empty?"]():t))return s}else if(a=(t=y["~"])===s?s:t["$[]"](3),d($=(t=y["~"])===s?s:t["$[]"](4))&&(d($["$include?"]("]"))&&($=$.$gsub("\\]","]")),d(d(t=$["$include?"](l(dt,"ATTR_REF_HEAD")))?($=r.$sub_attributes($))["$empty?"]():t)))return s;return d(r.$register("refs",[a,l(dt,"Inline").$new(e,"anchor",$,h(["type","id"],{type:"ref",id:a})),$]))?s:n.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to anchor already in use: "+a)},i.$$s=a,i.$$arity=0,i)),s},P.$$arity=3),t.defs(_t,"$catalog_inline_biblio_anchor",B=function(t,e,r){var n,i,a=this,$=s,o=s;return d(l(dt,"InlineBiblioAnchorRx")["$=~"](t))&&(d(r.$register("refs",[$=(n=y["~"])===s?s:n["$[]"](1),l(dt,"Inline").$new(e,"anchor",o="["+(d(n=(i=y["~"])===s?s:i["$[]"](2))?n:$)+"]",h(["type","id"],{type:"bibref",id:$})),o]))||a.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to bibliography anchor already in use: "+$)),s},B.$$arity=3),t.defs(_t,"$next_description_list",q=function(e,r,n){var i,a,$=this,o=s,u=s,c=s,f=s,_=s;for(o=l(dt,"List").$new(n,"dlist"),u=s,c=l(dt,"DescriptionListSiblingRx")["$[]"](r["$[]"](2));d(d(i=r)?i:d(a=e["$has_more_lines?"]())?r=c.$match(e.$peek_line()):a);)a=$.$next_list_item(e,o,r,c),i=t.to_ary(a),f=null==i[0]?s:i[0],_=null==i[1]?s:i[1],a,d(d(i=u)?u["$[]"](-1)["$!"]():i)?(u.$pop(),u["$[]"](0)["$<<"](f),u["$<<"](_)):o.$items()["$<<"](u=[[f],_]),r=s;return o},q.$$arity=3),t.defs(_t,"$next_list_item",D=function(r,n,i,a){var $,o,u,c=this,f=s,p=s,y=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s;if(null==a&&(a=s),(f=n.$context())["$=="]("dlist")?(p=l(dt,"ListItem").$new(n,i["$[]"](1)),y=l(dt,"ListItem").$new(n,i["$[]"](3)),g=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(v=i["$[]"](2),b=!1,d(($=f["$=="]("ulist"))?v["$start_with?"]("["):f["$=="]("ulist"))&&(d(v["$start_with?"]("[ ] "))?(b=!0,w=!1,v=v["$[]"](m(3,-1,!1)).$lstrip()):d(v["$start_with?"]("[x] ","[*] "))&&(b=!0,w=!0,v=v["$[]"](m(3,-1,!1)).$lstrip())),y=l(dt,"ListItem").$new(n,v),d(b)&&(k=["checklist-option",""],_(n.$attributes(),"[]=",t.to_a(k)),k[e(k.length,1)],k=["checkbox",""],_(y.$attributes(),"[]=",t.to_a(k)),k[e(k.length,1)],d(w)&&(k=["checked",""],_(y.$attributes(),"[]=",t.to_a(k)),k[e(k.length,1)])),a=d($=a)?$:c.$resolve_list_marker(f,i["$[]"](1),n.$items().$size(),!0,r),k=[a],_(y,"marker=",t.to_a(k)),k[e(k.length,1)],g=!0),r.$shift(),E=l(dt,"Reader").$new(c.$read_lines_for_list_item(r,f,a,g),r.$cursor()),d(E["$has_more_lines?"]())){for(x=E.$skip_line_comments(),d(A=E.$peek_line())?(d(x["$empty?"]())||E.$unshift_lines(x),d(O=A["$empty?"]())?S=!1:(S=!0,f["$=="]("dlist")||(g=!1))):(O=!1,S=!1),M=h(["text"],{text:g["$!"]()});d(d(o=d(u=T=c.$next_block(E,y,h([],{}),M))?y["$<<"](T):u)?o:E["$has_more_lines?"]()););y.$fold_first(O,S)}return f["$=="]("dlist")?d(d($=y["$text?"]())?$:y["$blocks?"]())?[p,y]:[p,s]:y},D.$$arity=-4),t.defs(_t,"$read_lines_for_list_item",L=function(r,n,i,a){var $,o,u,c,f,p,m,g,v=this,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s;for(null==i&&(i=s),null==a&&(a=!0),b=[],w="inactive",k=!1,E=s;d(r["$has_more_lines?"]())&&(x=r.$read_line(),!d(v["$is_sibling_list_item?"](x,n,i)));)if(A=function(){return d(b["$empty?"]())?s:b["$[]"](-1)}(),A["$=="](l(dt,"LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",a=!0,d(k)||(O=[-1,""],_(b,"[]=",t.to_a(O)),O[e(O.length,1)])),x["$=="](l(dt,"LIST_CONTINUATION"))))d(w["$!="]("frozen"))&&(w="frozen",b["$<<"](x)),x=s;else{if(d(S=v["$is_delimited_block?"](x,!0))){if(!w["$=="]("active"))break;b["$<<"](x),b.$concat(r.$read_lines_until(h(["terminator","read_last_line"],{terminator:S.$terminator(),read_last_line:!0}))),w="inactive"}else{if(d(d(o=(u=n["$=="]("dlist"))?w["$!="]("active"):n["$=="]("dlist"))?l(dt,"BlockAttributeLineRx")["$match?"](x):o))break;if(d((o=w["$=="]("active"))?x["$empty?"]()["$!"]():w["$=="]("active")))d(l(dt,"LiteralParagraphRx")["$match?"](x))?(r.$unshift_line(x),b.$concat(_(r,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{
preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(c=function(t){var e,r=c.$$s||this;return null==t&&(t=s),(e=n["$=="]("dlist"))?r["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")},c.$$s=v,c.$$arity=1,c))),w="inactive"):d(d(o=d(u=l(dt,"BlockTitleRx")["$match?"](x))?u:l(dt,"BlockAttributeLineRx")["$match?"](x))?o:l(dt,"AttributeEntryRx")["$match?"](x))?b["$<<"](x):(d(M=_(function(){return d(k)?["dlist"]:l(dt,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(f=function(t){f.$$s||this;return null==t&&(t=s),l(dt,"ListRxMap")["$[]"](t)["$match?"](x)},f.$$s=v,f.$$arity=1,f)))&&(k=!0,d((o=M["$=="]("dlist"))?((u=y["~"])===s?s:u["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&(a=!1)),b["$<<"](x),w="inactive");else if(d(d(o=A)?A["$empty?"]():o)){if(d(x["$empty?"]())){if(!d(x=d(o=r.$skip_blank_lines())?r.$read_line():o))break;if(d(v["$is_sibling_list_item?"](x,n,i)))break}if(x["$=="](l(dt,"LIST_CONTINUATION")))E=b.$size(),b["$<<"](x);else if(d(a)){if(d(v["$is_sibling_list_item?"](x,n,i)))break;if(d(M=_(l(dt,"NESTABLE_LIST_CONTEXTS"),"find",[],(p=function(t){p.$$s||this;return null==t&&(t=s),l(dt,"ListRxMap")["$[]"](t)["$=~"](x)},p.$$s=v,p.$$arity=1,p))))b["$<<"](x),k=!0,d((o=M["$=="]("dlist"))?((u=y["~"])===s?s:u["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&(a=!1);else{if(!d(l(dt,"LiteralParagraphRx")["$match?"](x)))break;r.$unshift_line(x),b.$concat(_(r,"read_lines_until",[h(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(m=function(t){var e,r=m.$$s||this;return null==t&&(t=s),(e=n["$=="]("dlist"))?r["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")},m.$$s=v,m.$$arity=1,m)))}}else d(k)||b.$pop(),b["$<<"](x),a=!0}else d(x["$empty?"]()["$!"]())&&(a=!0),d(M=_(function(){return d(k)?["dlist"]:l(dt,"NESTABLE_LIST_CONTEXTS")}(),"find",[],(g=function(t){g.$$s||this;return null==t&&(t=s),l(dt,"ListRxMap")["$[]"](t)["$=~"](x)},g.$$s=v,g.$$arity=1,g)))&&(k=!0,d((o=M["$=="]("dlist"))?((u=y["~"])===s?s:u["$[]"](3))["$nil_or_empty?"]():M["$=="]("dlist"))&&(a=!1)),b["$<<"](x)}x=s}for(d(x)&&r.$unshift_line(x),d(E)&&b.$delete_at(E);d(d(o=b["$empty?"]()["$!"]())?b["$[]"](-1)["$empty?"]():o);)b.$pop();return d(d($=b["$empty?"]()["$!"]())?b["$[]"](-1)["$=="](l(dt,"LIST_CONTINUATION")):$)&&b.$pop(),b},L.$$arity=-3),t.defs(_t,"$initialize_section",F=function(r,n,a){var $,o,u=this,c=s,f=s,p=s,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s;return null==a&&(a=h([],{})),c=n.$document(),d(c.$sourcemap())&&(f=r.$cursor()),o=u.$parse_section_title(r,c),$=t.to_ary(o),p=null==$[0]?s:$[0],y=null==$[1]?s:$[1],m=null==$[2]?s:$[2],g=null==$[3]?s:$[3],v=null==$[4]?s:$[4],o,d(y)?(b=["reftext",y],_(a,"[]=",t.to_a(b)),b[e(b.length,1)]):d(a["$key?"]("reftext"))&&(y=a["$[]"]("reftext")),w=function(){return d(a["$[]"](1))?u.$parse_style_attribute(a,r):s}(),d(w)?d(($=w["$=="]("abstract"))?c.$doctype()["$=="]("book"):w["$=="]("abstract"))?($=["chapter",1],k=$[0],g=$[1],$):($=[w,!0],k=$[0],E=$[1],$,g["$=="](0)&&(g=1),x=w["$=="]("appendix")):(A=c.$doctype(),"book"["$==="](A)?k=function(){return g["$=="](0)?"part":g["$=="](1)?"chapter":"section"}():"manpage"["$==="](A)&&m.$casecmp("synopsis")["$=="](0)?($=["synopsis",!0],k=$[0],E=$[1],$):k="section"),O=l(dt,"Section").$new(n,g,!1),$=[p,m,k,f],O["$id="]($[0]),O["$title="]($[1]),O["$sectname="]($[2]),O["$source_location="]($[3]),$,d(E)?(b=[!0],_(O,"special=",t.to_a(b)),b[e(b.length,1)],d(x)&&(b=[!0],_(O,"numbered=",t.to_a(b)),b[e(b.length,1)])):d(d($=i(g,0))?c.$attributes()["$key?"]("sectnums"):$)&&(b=[function(){return!d(O.$special())||(($=n.$context()["$=="]("section"))?n.$numbered():n.$context()["$=="]("section"))}()],_(O,"numbered=",t.to_a(b)),b[e(b.length,1)]),d(S=d($=O.$id())?$:(b=[d(o=a["$[]"]("id"))?o:function(){return d(c.$attributes()["$key?"]("sectids"))?l(dt,"Section").$generate_id(O.$title(),c):s}()],_(O,"id=",t.to_a(b)),b[e(b.length,1)]))&&(d(c.$register("refs",[S,O,d($=y)?$:O.$title()]))||u.$warn("asciidoctor: WARNING: "+r.$path()+": line "+e(r.$lineno(),function(){return d(v)?1:2}())+": id assigned to section already in use: "+S)),O.$update_attributes(a),r.$skip_blank_lines(),O},F.$$arity=-3),t.defs(_t,"$is_next_line_section?",j=function(e,r){var n,i,a=this,$=s;return d(d(n=d(i=$=r["$[]"](1))?$["$start_with?"]("discrete","float"):i)?l(dt,"DiscreteHeadingStyleRx")["$match?"]($):n)?s:d(e["$has_more_lines?"]())?d(l(dt,"Compliance").$underline_style_section_titles())?_(a,"is_section_title?",t.to_a(e.$peek_lines(2,d(n=$)?$["$=="]("comment"):n))):a["$atx_section_title?"](e.$peek_line()):s},j.$$arity=2),t.defs(_t,"$is_next_line_doctitle?",U=function(t,e,r){var i,a=this,$=s;return d(r)?d(i=$=a["$is_next_line_section?"](t,e))?n($,r.$to_i())["$=="](0):i:a["$is_next_line_section?"](t,e)["$=="](0)},U.$$arity=3),t.defs(_t,"$is_section_title?",H=function(t,e){var r,n=this;return null==e&&(e=s),d(r=n["$atx_section_title?"](t))?r:function(){return d(e["$nil_or_empty?"]())?s:n["$setext_section_title?"](t,e)}()},H.$$arity=-2),t.defs(_t,"$atx_section_title?",G=function(t){var r;return d(function(){return d(l(dt,"Compliance").$markdown_syntax())?d(r=t["$start_with?"]("=","#"))?l(dt,"ExtAtxSectionTitleRx")["$=~"](t):r:d(r=t["$start_with?"]("="))?l(dt,"AtxSectionTitleRx")["$=~"](t):r}())?e(((r=y["~"])===s?s:r["$[]"](1)).$length(),1):s},G.$$arity=1),t.defs(_t,"$setext_section_title?",Y=function(t,n){var i,$,o,u=this,c=s,f=s,_=s;return d(d(i=d($=d(o=c=l(dt,"SETEXT_SECTION_LEVELS")["$[]"](f=n.$chr()))?r(f,_=n.$length())["$=="](n):o)?l(dt,"SetextSectionTitleRx")["$match?"](t):$)?a(e(u.$line_length(t),_).$abs(),2):i)?c:s},Y.$$arity=2),t.defs(_t,"$parse_section_title",W=function(t,i){var $,o,u,c,f,_=this,h=s,p=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s;return h=p=s,m=t.$read_line(),d(function(){return d(l(dt,"Compliance").$markdown_syntax())?d($=m["$start_with?"]("=","#"))?l(dt,"ExtAtxSectionTitleRx")["$=~"](m):$:d($=m["$start_with?"]("="))?l(dt,"AtxSectionTitleRx")["$=~"](m):$}())?($=[e(((o=y["~"])===s?s:o["$[]"](1)).$length(),1),(o=y["~"])===s?s:o["$[]"](2),!0],g=$[0],v=$[1],b=$[2],$,d(d($=d(o=v["$end_with?"]("]]"))?l(dt,"InlineSectionAnchorRx")["$=~"](v):o)?((o=y["~"])===s?s:o["$[]"](1))["$!"]():$)&&($=[v.$slice(0,e(v.$length(),((o=y["~"])===s?s:o["$[]"](0)).$length())),(o=y["~"])===s?s:o["$[]"](2),(o=y["~"])===s?s:o["$[]"](3)],v=$[0],h=$[1],p=$[2],$)):d(d($=d(o=d(u=d(c=d(f=l(dt,"Compliance").$underline_style_section_titles())?w=t.$peek_line(!0):f)?g=l(dt,"SETEXT_SECTION_LEVELS")["$[]"](k=w.$chr()):c)?r(k,E=w.$length())["$=="](w):u)?v=d(u=l(dt,"SetextSectionTitleRx")["$=~"](m))?(c=y["~"])===s?s:c["$[]"](1):u:o)?a(e(_.$line_length(m),E).$abs(),2):$)?(b=!1,d(d($=d(o=v["$end_with?"]("]]"))?l(dt,"InlineSectionAnchorRx")["$=~"](v):o)?((o=y["~"])===s?s:o["$[]"](1))["$!"]():$)&&($=[v.$slice(0,e(v.$length(),((o=y["~"])===s?s:o["$[]"](0)).$length())),(o=y["~"])===s?s:o["$[]"](2),(o=y["~"])===s?s:o["$[]"](3)],v=$[0],h=$[1],p=$[2],$),t.$shift()):_.$raise("Unrecognized section at "+t.$prev_line_info()),d(i["$attr?"]("leveloffset"))&&(g=n(g,i.$attr("leveloffset").$to_i())),[h,p,v,g,b]},W.$$arity=2),d(l(dt,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(_t,"$line_length",K=function(t){return t.$scan(l(dt,"UnicodeCharScanRx")).$size()},K.$$arity=1):t.defs(_t,"$line_length",X=function(t){return t.$length()},X.$$arity=1),t.defs(_t,"$parse_header_metadata",V=function(i,a){var $,o,c,f,p=this,y=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s,R=s,I=s,C=s;if(null==a&&(a=s),p.$process_attribute_entries(i,a),$=[h([],{}),s,s],y=$[0],g=$[1],v=$[2],$,d(d($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(d((b=p.$process_authors(i.$read_line()))["$empty?"]())||(d(a)&&(_(b,"each",[],(o=function(r,n){var i=(o.$$s||this,s);return null==r&&(r=s),null==n&&(n=s),d(a.$attributes()["$key?"](r))?s:(i=[r,function(){return d(u("::","String")["$==="](n))?a.$apply_header_subs(n):n}()],_(a.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])},o.$$s=p,o.$$arity=2,o)),g=a.$attributes()["$[]"]("author"),v=a.$attributes()["$[]"]("authors")),y=b),p.$process_attribute_entries(i,a),w=h([],{}),d(d($=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():$)&&(k=i.$read_line(),d(E=l(dt,"RevisionInfoLineRx").$match(k))?(d(E["$[]"](1))&&(x=["revnumber",E["$[]"](1).$rstrip()],_(w,"[]=",t.to_a(x)),x[e(x.length,1)]),d((A=E["$[]"](2).$strip())["$empty?"]())||(d(d($=E["$[]"](1)["$!"]())?A["$start_with?"]("v"):$)?(x=["revnumber",A["$[]"](m(1,-1,!1))],_(w,"[]=",t.to_a(x)),x[e(x.length,1)]):(x=["revdate",A],_(w,"[]=",t.to_a(x)),x[e(x.length,1)])),d(E["$[]"](3))&&(x=["revremark",E["$[]"](3).$rstrip()],_(w,"[]=",t.to_a(x)),x[e(x.length,1)])):i.$unshift_line(k)),d(w["$empty?"]())||(d(a)&&_(w,"each",[],(c=function(r,n){c.$$s||this;return null==r&&(r=s),null==n&&(n=s),d(a.$attributes()["$key?"](r))?s:(x=[r,a.$apply_header_subs(n)],_(a.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)])},c.$$s=p,c.$$arity=2,c)),y.$update(w)),p.$process_attribute_entries(i,a),i.$skip_blank_lines()),d(a)){if(d(d($=a.$attributes()["$key?"]("author"))?(O=a.$attributes()["$[]"]("author"))["$!="](g):$))b=p.$process_authors(O,!0,!1);else if(d(d($=a.$attributes()["$key?"]("authors"))?(O=a.$attributes()["$[]"]("authors"))["$!="](v):$))b=p.$process_authors(O,!0);else{for($=[[],1,"author_1",!1,!1],S=$[0],M=$[1],T=$[2],R=$[3],I=$[4],$;d(a.$attributes()["$key?"](T));)(C=a.$attributes()["$[]"](T))["$=="](b["$[]"](T))?(S["$<<"](s),I=!0):(S["$<<"](C),R=!0),T="author_"+(M=n(M,1));d(R)?(d(I)&&_(S,"each_with_index",[],(f=function(i,a){var $,o=f.$$s||this,u=s;return null==i&&(i=s),null==a&&(a=s),d(i)?s:(x=[a,r(_([b["$[]"]("firstname_"+(u=n(a,1))),b["$[]"]("middlename_"+u),b["$[]"]("lastname_"+u)].$compact(),"map",[],($=function(t){$.$$s||this;return null==t&&(t=s),t.$tr(" ","_")},$.$$s=o,$.$$arity=1,$))," ")],_(S,"[]=",t.to_a(x)),x[e(x.length,1)])},f.$$s=p,f.$$arity=2,f)),b=p.$process_authors(S,!0,!1)):b=h([],{})}d(b["$empty?"]())||(a.$attributes().$update(b),d(d($=a.$attributes()["$key?"]("email")["$!"]())?a.$attributes()["$key?"]("email_1"):$)&&(x=["email",a.$attributes()["$[]"]("email_1")],_(a.$attributes(),"[]=",t.to_a(x)),x[e(x.length,1)]))}return y},V.$$arity=-2),t.defs(_t,"$process_authors",J=function(r,i,a){var $,o,u=this,c=s,f=s,p=s;return null==i&&(i=!1),null==a&&(a=!0),c=h([],{}),f=["author","authorinitials","firstname","middlename","lastname","email"],p=function(){return d(a)?_(r.$split(";"),"map",[],($=function(t){$.$$s||this;return null==t&&(t=s),t.$strip()},$.$$s=u,$.$$arity=1,$)):u.$Array(r)}(),_(p,"each_with_index",[],(o=function(r,a){var $,u,p,y,m=o.$$s||this,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s;return null==r&&(r=s),null==a&&(a=s),d(r["$empty?"]())?s:(g=h([],{}),a["$=="](0)?_(f,"each",[],($=function(r){var n=($.$$s||this,s);return null==r&&(r=s),n=[r.$to_sym(),r],_(g,"[]=",t.to_a(n)),n[e(n.length,1)]},$.$$s=m,$.$$arity=1,$)):_(f,"each",[],(u=function(r){var i=(u.$$s||this,s);return null==r&&(r=s),i=[r.$to_sym(),""+r+"_"+n(a,1)],_(g,"[]=",t.to_a(i)),i[e(i.length,1)]},u.$$s=m,u.$$arity=1,u)),v=s,d(i)?(d(r["$include?"]("<"))&&(b=[g["$[]"]("author"),r.$tr("_"," ")],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],r=r.$gsub(l(dt,"XmlSanitizeRx"),"")),(v=r.$split(s,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):d(w=l(dt,"AuthorInfoLineRx").$match(r))&&(v=w.$to_a()).$shift(),d(v)?(b=[g["$[]"]("firstname"),E=v["$[]"](0).$tr("_"," ")],_(c,"[]=",t.to_a(b)),k=b[e(b.length,1)],b=[g["$[]"]("authorinitials"),E.$chr()],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],d(v["$[]"](1))&&(d(v["$[]"](2))?(b=[g["$[]"]("middlename"),x=v["$[]"](1).$tr("_"," ")],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("lastname"),A=v["$[]"](2).$tr("_"," ")],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],k=n(n(n(n(E," "),x)," "),A),b=[g["$[]"]("authorinitials"),""+E.$chr()+x.$chr()+A.$chr()],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=[g["$[]"]("lastname"),A=v["$[]"](1).$tr("_"," ")],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],k=n(n(E," "),A),b=[g["$[]"]("authorinitials"),""+E.$chr()+A.$chr()],_(c,"[]=",t.to_a(b)),b[e(b.length,1)])),d(p=c["$[]"](g["$[]"]("author")))?p:(b=[g["$[]"]("author"),k],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]),d(d(p=i)?p:v["$[]"](3)["$!"]())||(b=[g["$[]"]("email"),v["$[]"](3)],_(c,"[]=",t.to_a(b)),b[e(b.length,1)])):(b=[g["$[]"]("author"),(b=[g["$[]"]("firstname"),E=r.$squeeze(" ").$strip()],_(c,"[]=",t.to_a(b)),b[e(b.length,1)])],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("authorinitials"),E.$chr()],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]),b=["authorcount",n(a,1)],_(c,"[]=",t.to_a(b)),b[e(b.length,1)],a["$=="](1)&&_(f,"each",[],(y=function(r){y.$$s||this;return null==r&&(r=s),d(c["$key?"](r))?(b=[""+r+"_1",c["$[]"](r)],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]):s},y.$$s=m,y.$$arity=1,y)),a["$=="](0)?(b=["authors",c["$[]"](g["$[]"]("author"))],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]):(b=["authors",""+c["$[]"]("authors")+", "+c["$[]"](g["$[]"]("author"))],_(c,"[]=",t.to_a(b)),b[e(b.length,1)]))},o.$$s=u,o.$$arity=2,o)),c},J.$$arity=-2),t.defs(_t,"$parse_block_metadata_lines",Z=function(t,e,r,n){var i,a=this;for(null==r&&(r=h([],{})),null==n&&(n=h([],{}));d(a.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),d(i=t.$skip_blank_lines())););return r},Z.$$arity=-3),t.defs(_t,"$parse_block_metadata_line",Q=function(n,i,a,$){var o,u,c=this,f=s,p=s,m=s,g=s,v=s;return null==y["~"]&&(y["~"]=s),null==$&&($=h([],{})),d(d(o=f=n.$peek_line())?function(){return d($["$[]"]("text"))?f["$start_with?"]("[","/"):p=f["$start_with?"]("[",".","/",":")}():o)?d(f["$start_with?"]("["))?d(f["$start_with?"]("[["))?d(d(o=f["$end_with?"]("]]"))?l(dt,"BlockAnchorRx")["$=~"](f):o)?(m=["id",(o=y["~"])===s?s:o["$[]"](1)],_(a,"[]=",t.to_a(m)),m[e(m.length,1)],d(g=(o=y["~"])===s?s:o["$[]"](2))&&(m=["reftext",function(){return d(g["$include?"](l(dt,"ATTR_REF_HEAD")))?i.$sub_attributes(g):g}()],_(a,"[]=",t.to_a(m)),m[e(m.length,1)]),!0):s:d(d(o=f["$end_with?"]("]"))?l(dt,"BlockAttributeListRx")["$=~"](f):o)?(i.$parse_attributes((o=y["~"])===s?s:o["$[]"](1),[],h(["sub_input","into"],{sub_input:!0,into:a})),!0):s:d(d(o=p)?f["$start_with?"]("."):o)?d(l(dt,"BlockTitleRx")["$=~"](f))?(m=["title",(o=y["~"])===s?s:o["$[]"](1)],_(a,"[]=",t.to_a(m)),m[e(m.length,1)],!0):s:d(d(o=p["$!"]())?o:f["$start_with?"]("/"))?d(f["$start_with?"]("//"))?!!f["$=="]("//")||(d(d(o=p)?r("/",v=f.$length())["$=="](f):o)?v["$=="](3)?s:(n.$read_lines_until(h(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:f,skip_processing:!0})),!0):!d(f["$start_with?"]("///"))||s):s:d(d(o=d(u=p)?f["$start_with?"](":"):u)?l(dt,"AttributeEntryRx")["$=~"](f):o)?(c.$process_attribute_entry(n,i,a,y["~"]),!0):s:s},Q.$$arity=-4),t.defs(_t,"$process_attribute_entries",tt=function(t,e,r){var n=this;for(null==r&&(r=s),t.$skip_comment_lines();d(n.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},tt.$$arity=-3),t.defs(_t,"$process_attribute_entry",et=function(t,r,n,i){var a,$,o=this,u=s,c=s,f=s,_=s;if(null==n&&(n=s),null==i&&(i=s),d(i=d(a=i)?a:function(){return d(t["$has_more_lines?"]())?l(dt,"AttributeEntryRx").$match(t.$peek_line()):s}())){if(d((u=i["$[]"](2))["$nil_or_empty?"]()))u="";else if(d(u["$end_with?"](l(dt,"LINE_CONTINUATION"),l(dt,"LINE_CONTINUATION_LEGACY"))))for(a=[u.$slice(-2,2),u.$slice(0,e(u.$length(),2)).$rstrip()],c=a[0],u=a[1],a;d(d($=t.$advance())?(f=t.$peek_line().$lstrip())["$empty?"]()["$!"]():$)&&(d(_=f["$end_with?"](c))&&(f=f.$slice(0,e(f.$length(),2)).$rstrip()),u=""+u+function(){return d(u["$end_with?"](l(dt,"HARD_LINE_BREAK")))?l(dt,"LF"):" "}()+f,d(_)););return o.$store_attribute(i["$[]"](1),u,r,n),!0}return s},et.$$arity=-3),t.defs(_t,"$store_attribute",rt=function(t,r,i,a){var $,o=this,c=s;return null==i&&(i=s),null==a&&(a=s),d(t["$end_with?"]("!"))?($=[t.$chop(),s],t=$[0],r=$[1],$):d(t["$start_with?"]("!"))&&($=[t.$slice(1,t.$length()),s],t=$[0],r=$[1],$),t=o.$sanitize_attribute_name(t),t["$=="]("numbered")&&(t="sectnums"),d(i)?d(r)?(t["$=="]("leveloffset")&&(d(r["$start_with?"]("+"))?r=n(i.$attr("leveloffset",0).$to_i(),(d($=r["$[]"](m(1,-1,!1)))?$:0).$to_i()).$to_s():d(r["$start_with?"]("-"))&&(r=e(i.$attr("leveloffset",0).$to_i(),(d($=r["$[]"](m(1,-1,!1)))?$:0).$to_i()).$to_s())),d(c=i.$set_attribute(t,r))&&(r=c,d(a)&&u(l(dt,"Document"),"AttributeEntry").$new(t,r).$save_to(a))):d(d($=i.$delete_attribute(t))?a:$)&&u(l(dt,"Document"),"AttributeEntry").$new(t,r).$save_to(a):d(a)&&u(l(dt,"Document"),"AttributeEntry").$new(t,r).$save_to(a),[t,r]},rt.$$arity=-3),t.defs(_t,"$resolve_list_marker",nt=function(t,e,r,n,i){var a=this;return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=s),t["$=="]("olist")?d(e["$start_with?"]("."))?e:a.$resolve_ordered_list_marker(e,r,n,i):t["$=="]("colist")?"<1>":e},nt.$$arity=-3),t.defs(_t,"$resolve_ordered_list_marker",it=function(t,e,r,i){var a,$,o=this,u=s,c=s,f=s;return null==e&&(e=0),null==r&&(r=!1),null==i&&(i=s),u=c=s,f=_(l(dt,"ORDERED_LIST_STYLES"),"find",[],(a=function(e){a.$$s||this;return null==e&&(e=s),l(dt,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)},a.$$s=o,a.$$arity=1,a)),"arabic"["$==="](f)?(d(r)&&(u=n(e,1),c=t.$to_i()),t="1."):"loweralpha"["$==="](f)?(d(r)&&(u=n("a"["$[]"](0).$ord(),e).$chr(),c=t.$chop()),t="a."):"upperalpha"["$==="](f)?(d(r)&&(u=n("A"["$[]"](0).$ord(),e).$chr(),c=t.$chop()),t="A."):"lowerroman"["$==="](f)?(d(r)&&(u=n(e,1),c=o.$roman_numeral_to_int(t.$chop())),t="i)"):"upperroman"["$==="](f)&&(d(r)&&(u=n(e,1),c=o.$roman_numeral_to_int(t.$chop())),t="I)"),d(d($=r)?u["$!="](c):$)&&o.$warn("asciidoctor: WARNING: "+i.$line_info()+": list item index: expected "+u+", got "+c),t},it.$$arity=-2),t.defs(_t,"$is_sibling_list_item?",at=function(t,e,r){var n=this,i=s,a=s,$=s;return d(u("::","Regexp")["$==="](r))?(i=r,a=!1):(i=l(dt,"ListRxMap")["$[]"](e),a=r),!!d($=i.$match(t))&&(!d(a)||a["$=="](n.$resolve_list_marker(e,$["$[]"](1))))},at.$$arity=3),t.defs(_t,"$next_table",$t=function(r,a,$){var o,c,f,h,p=this,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s,R=s,I=s;for(y=l(dt,"Table").$new(a,$),d($["$key?"]("title"))&&(m=[$.$delete("title")],_(y,"title=",t.to_a(m)),m[e(m.length,1)],y.$assign_caption($.$delete("caption"))),d(d(o=$["$key?"]("cols"))?(g=p.$parse_colspecs($["$[]"]("cols")))["$empty?"]()["$!"]():o)&&(y.$create_columns(g),v=!0),b=d(o=r.$skip_blank_lines())?o:0,w=u(l(dt,"Table"),"ParserContext").$new(r,y,$),o=[w.$format(),-1,s],k=o[0],E=o[1],x=o[2],o,d(d(o=d(c=i(b,0))?c:$["$key?"]("header-option"))?o:$["$key?"]("noheader-option"))||(A=!0),o=!1;o||d(O=r.$read_line());){for(o=!1,d(d(c=i(E=n(E,1),0))?O["$empty?"]():c)?(O=s,d(x)&&(x=n(x,1))):k["$=="]("psv")&&(d(w["$starts_with_delimiter?"](O))?(O=O.$slice(1,O.$length()),w.$close_open_cell(),d(x)&&(x=s)):(f=p.$parse_cellspec(O,"start",w.$delimiter()),c=t.to_ary(f),S=null==c[0]?s:c[0],O=null==c[1]?s:c[1],f,d(S)?(w.$close_open_cell(S),d(x)&&(x=s)):d(d(c=x)?x["$=="](E):c)&&(c=[!1,s],A=c[0],x=c[1],c))),d((c=E["$=="](0))?A:E["$=="](0))&&(d(d(c=r["$has_more_lines?"]())?r.$peek_line()["$empty?"]():c)?x=1:A=!1),c=!1;c||d(!0);){if(c=!1,!d(d(f=O)?M=w.$match_delimiter(O):f)){m=[""+w.$buffer()+O+l(dt,"LF")],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)],T=k,"csv"["$==="](T)?(m=[""+w.$buffer().$rstrip()+" "],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)],d(w["$buffer_has_unclosed_quotes?"]())?(d(d(f=x)?E["$=="](0):f)&&(f=[!1,s],A=f[0],x=f[1],f),w.$keep_cell_open()):w.$close_cell(!0)):"dsv"["$==="](T)?w.$close_cell(!0):w.$keep_cell_open();break}if(T=k,"csv"["$==="](T)){if(d(w["$buffer_has_unclosed_quotes?"](M.$pre_match()))){if(d((O=w.$skip_past_delimiter(M))["$empty?"]()))break;c=!0}m=[""+w.$buffer()+M.$pre_match()],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)]}else if("dsv"["$==="](T)){if(d(M.$pre_match()["$end_with?"]("\\"))){if(d((O=w.$skip_past_escaped_delimiter(M))["$empty?"]())){m=[""+w.$buffer()+l(dt,"LF")],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)],w.$keep_cell_open();break}c=!0}m=[""+w.$buffer()+M.$pre_match()],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)]}else{if(d(M.$pre_match()["$end_with?"]("\\"))){if(d((O=w.$skip_past_escaped_delimiter(M))["$empty?"]())){m=[""+w.$buffer()+l(dt,"LF")],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)],w.$keep_cell_open();break}c=!0}h=p.$parse_cellspec(M.$pre_match()),f=t.to_ary(h),S=null==f[0]?s:f[0],R=null==f[1]?s:f[1],h,w.$push_cellspec(S),m=[""+w.$buffer()+R],_(w,"buffer=",t.to_a(m)),m[e(m.length,1)]}d((O=M.$post_match())["$empty?"]())&&(O=s),w.$close_cell()}if(d(w["$cell_open?"]()))d(r["$has_more_lines?"]())||w.$close_cell(!0);else if(!d(c=r.$skip_blank_lines()))break}return d(d(o=(I=y.$attributes(),d(c=I["$[]"]("colcount"))?c:(m=["colcount",y.$columns().$size()],_(I,"[]=",t.to_a(m)),m[e(m.length,1)]))["$=="](0))?o:v)||y.$assign_column_widths(),d(A)&&(m=[!0],_(y,"has_header_option=",t.to_a(m)),m[e(m.length,1)],m=["header-option",""],_($,"[]=",t.to_a(m)),m[e(m.length,1)],m=["options",function(){return d($["$key?"]("options"))?""+$["$[]"]("options")+",header":"header"}()],_($,"[]=",t.to_a(m)),m[e(m.length,1)]),y.$partition_header_footer($),y},$t.$$arity=3),t.defs(_t,"$parse_colspecs",ot=function(r){var n,i,a=this,$=s;return d(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?_(u("::","Array"),"new",[r.$to_i()],(n=function(){n.$$s||this;return h(["width"],{width:1})},n.$$s=a,n.$$arity=0,n)):($=[],_(r.$split(",",-1),"each",[],(i=function(r){var n,a,o,u=i.$$s||this,c=s,f=s,p=s,y=s,m=s;return null==r&&(r=s),d(r["$empty?"]())?$["$<<"](h(["width"],{width:1})):d(c=l(dt,"ColumnSpecRx").$match(r))?(f=h([],{}),d(c["$[]"](2))&&(a=c["$[]"](2).$split("."),n=t.to_ary(a),p=null==n[0]?s:n[0],y=null==n[1]?s:n[1],a,d(d(n=p["$nil_or_empty?"]()["$!"]())?l(dt,"TableCellHorzAlignments")["$key?"](p):n)&&(m=["halign",l(dt,"TableCellHorzAlignments")["$[]"](p)],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]),d(d(n=y["$nil_or_empty?"]()["$!"]())?l(dt,"TableCellVertAlignments")["$key?"](y):n)&&(m=["valign",l(dt,"TableCellVertAlignments")["$[]"](y)],_(f,"[]=",t.to_a(m)),m[e(m.length,1)])),m=["width",function(){return d(c["$[]"](3))?c["$[]"](3).$to_i():1}()],_(f,"[]=",t.to_a(m)),m[e(m.length,1)],d(d(n=c["$[]"](4))?l(dt,"TableCellStyles")["$key?"](c["$[]"](4)):n)&&(m=["style",l(dt,"TableCellStyles")["$[]"](c["$[]"](4))],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]),d(c["$[]"](1))?_(1,"upto",[c["$[]"](1).$to_i()],(o=function(){o.$$s||this;return $["$<<"](f.$dup())},o.$$s=u,o.$$arity=0,o)):$["$<<"](f)):s},i.$$s=a,i.$$arity=1,i)),$)},ot.$$arity=1),t.defs(_t,"$parse_cellspec",st=function(r,n,i){var a,$,o=s,u=s,c=s,f=s,p=s,y=s,m=s;if(null==n&&(n="end"),null==i&&(i=s),a=[s,""],o=a[0],u=a[1],a,n["$=="]("start")){if(!d(r["$include?"](i)))return[s,r];if($=r.$split(i,2),a=t.to_ary($),c=null==a[0]?s:a[0],u=null==a[1]?s:a[1],$,!d(o=l(dt,"CellSpecStartRx").$match(c)))return[s,r];if(d(o["$[]"](0)["$empty?"]()))return[h([],{}),u]}else{if(!d(o=l(dt,"CellSpecEndRx").$match(r)))return[h([],{}),r];if(d(o["$[]"](0).$lstrip()["$empty?"]()))return[h([],{}),r.$rstrip()];u=o.$pre_match()}return f=h([],{}),d(o["$[]"](1))&&($=o["$[]"](1).$split("."),a=t.to_ary($),p=null==a[0]?s:a[0],y=null==a[1]?s:a[1],$,p=function(){return d(p["$nil_or_empty?"]())?1:p.$to_i()}(),y=function(){return d(y["$nil_or_empty?"]())?1:y.$to_i()}(),o["$[]"](2)["$=="]("+")?(p["$=="](1)||(m=["colspan",p],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]),y["$=="](1)||(m=["rowspan",y],_(f,"[]=",t.to_a(m)),m[e(m.length,1)])):o["$[]"](2)["$=="]("*")&&(p["$=="](1)||(m=["repeatcol",p],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]))),d(o["$[]"](3))&&($=o["$[]"](3).$split("."),a=t.to_ary($),p=null==a[0]?s:a[0],y=null==a[1]?s:a[1],$,d(d(a=p["$nil_or_empty?"]()["$!"]())?l(dt,"TableCellHorzAlignments")["$key?"](p):a)&&(m=["halign",l(dt,"TableCellHorzAlignments")["$[]"](p)],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]),d(d(a=y["$nil_or_empty?"]()["$!"]())?l(dt,"TableCellVertAlignments")["$key?"](y):a)&&(m=["valign",l(dt,"TableCellVertAlignments")["$[]"](y)],_(f,"[]=",t.to_a(m)),m[e(m.length,1)])),d(d(a=o["$[]"](4))?l(dt,"TableCellStyles")["$key?"](o["$[]"](4)):a)&&(m=["style",l(dt,"TableCellStyles")["$[]"](o["$[]"](4))],_(f,"[]=",t.to_a(m)),m[e(m.length,1)]),[f,u]},st.$$arity=-2),t.defs(_t,"$parse_style_attribute",ut=function(i,a){var $,o,u,c,f,p=this,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s;return null==a&&(a=s),d(d($=d(o=y=i["$[]"](1))?y["$include?"](" ")["$!"]():o)?l(dt,"Compliance").$shorthand_property_syntax():$)?($=["style",[],h([],{})],m=$[0],g=$[1],v=$[2],$,b=_(p,"lambda",[],(u=function(){var r,n=u.$$s||this,i=s,$=s;return d(g["$empty?"]())?m["$=="]("style")?s:n.$warn("asciidoctor: WARNING:"+function(){return d(a)?" "+a.$prev_line_info()+":":s}()+" invalid empty "+m+" detected in style attribute"):(i=m,"role"["$==="](i)||"option"["$==="](i)?(d(r=v["$[]"](m))?r:($=[m,[]],_(v,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](g.$join()):"id"["$==="](i)?(d(v["$key?"]("id"))&&n.$warn("asciidoctor: WARNING:"+function(){return d(a)?" "+a.$prev_line_info()+":":s}()+" multiple ids detected in style attribute"),$=[m,g.$join()],_(v,"[]=",t.to_a($)),$[e($.length,1)]):($=[m,g.$join()],_(v,"[]=",t.to_a($)),$[e($.length,1)]),g=[])},u.$$s=p,u.$$arity=0,u)),_(y,"each_char",[],(c=function(t){var e,r,n=(c.$$s||this,s);return null==t&&(t=s),d(d(e=d(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(b.$call(),function(){return n=t,"."["$==="](n)?m="role":"#"["$==="](n)?m="id":"%"["$==="](n)?m="option":s}()):g["$<<"](t)},c.$$s=p,c.$$arity=1,c)),m["$=="]("style")?(w=["style",y],_(i,"[]=",t.to_a(w)),w[e(w.length,1)]):(b.$call(),d(v["$key?"]("style"))&&(w=["style",v["$[]"]("style")],_(i,"[]=",t.to_a(w)),k=w[e(w.length,1)]),d(v["$key?"]("id"))&&(w=["id",v["$[]"]("id")],_(i,"[]=",t.to_a(w)),w[e(w.length,1)]),d(v["$key?"]("role"))&&(w=["role",r(v["$[]"]("role")," ")],_(i,"[]=",t.to_a(w)),w[e(w.length,1)]),d(v["$key?"]("option"))&&(_(E=v["$[]"]("option"),"each",[],(f=function(r){f.$$s||this;return null==r&&(r=s),w=[""+r+"-option",""],_(i,"[]=",t.to_a(w)),w[e(w.length,1)]},f.$$s=p,f.$$arity=1,f)),d(x=i["$[]"]("options"))?(w=["options",r(n(E,x.$split(",")),",")],_(i,"[]=",t.to_a(w)),w[e(w.length,1)]):(w=["options",r(E,",")],_(i,"[]=",t.to_a(w)),w[e(w.length,1)])),k)):(w=["style",y],_(i,"[]=",t.to_a(w)),w[e(w.length,1)])},ut.$$arity=-2),t.defs(_t,"$adjust_indentation!",lt=function(a,$,o){var u,c,f,h,p,m,g=this,v=s,b=s,w=s;return null==$&&($=0),null==o&&(o=0),d(a["$empty?"]())?s:(d(d(u=i(o=o.$to_i(),0))?a.$join()["$include?"](l(dt,"TAB")):u)&&(v=r(" ",o),_(a,"map!",[],(c=function(t){var i,a,$=c.$$s||this,u=s;return null==t&&(t=s),d(t["$empty?"]())?t:(d(t["$start_with?"](l(dt,"TAB")))&&(t=_(t,"sub",[l(dt,"TabIndentRx")],(i=function(){var t;i.$$s||this;return r(v,((t=y["~"])===s?s:t["$[]"](0)).$length())},i.$$s=$,i.$$arity=0,i))),d(t["$include?"](l(dt,"TAB")))?(u=0,t=_(t,"gsub",[l(dt,"TabRx")],(a=function(){var t=(a.$$s||this,s),i=s;return null==y["~"]&&(y["~"]=s),(t=n(y["~"].$begin(0),u))["$%"](o)["$=="](0)?(u=n(u,e(o,1)),v):((i=e(o,t["$%"](o)))["$=="](1)||(u=n(u,e(i,1))),r(" ",i))},a.$$s=$,a.$$arity=0,a))):t)},c.$$s=g,c.$$arity=1,c))),d(d(u=$)?i($=$.$to_i(),-1):u)?(b=s,function(){var r=t.new_brk();try{return _(a,"each",[],(f=function(n){var a,$=(f.$$s||this,s);return null==n&&(n=s),d(n["$empty?"]())?s:($=e(n.$length(),n.$lstrip().$length()))["$=="](0)?(b=s,void t.brk(s,r)):d(d(a=b)?i($,b):a)?s:b=$},f.$$s=g,f.$$brk=r,f.$$arity=1,f))}catch(t){if(t===r)return t.$v;throw t}}(),$["$=="](0)?d(b)&&_(a,"map!",[],(h=function(e){h.$$s||this;return null==e&&(e=s),d(e["$empty?"]())?e:e["$[]"](t.Range.$new(b,-1,!1))},h.$$s=g,h.$$arity=1,h)):(w=r(" ",$),d(b)?_(a,"map!",[],(p=function(e){p.$$s||this;return null==e&&(e=s),d(e["$empty?"]())?e:n(w,e["$[]"](t.Range.$new(b,-1,!1)))},p.$$s=g,p.$$arity=1,p)):_(a,"map!",[],(m=function(t){m.$$s||this;return null==t&&(t=s),d(t["$empty?"]())?t:n(w,t)},m.$$s=g,m.$$arity=1,m))),s):s)},lt.$$arity=-2),t.defs(_t,"$sanitize_attribute_name",ct=function(t){return t.$gsub(l(dt,"InvalidAttributeNameCharsRx"),"").$downcase()},ct.$$arity=1),t.defs(_t,"$roman_numeral_to_int",ft=function(r){var $,o=this,u=s,l=s;return r=r.$downcase(),u=h(["i","v","x"],{i:1,v:5,x:10}),l=0,_(t.Range.$new(0,e(r.$length(),1),!1),"each",[],($=function(o){var c,f=($.$$s||this,s);return null==o&&(o=s),f=u["$[]"](r["$[]"](t.Range.$new(o,o,!1))),l=d(d(c=a(n(o,1),r.$length()))?i(u["$[]"](r["$[]"](t.Range.$new(n(o,1),n(o,1),!1))),f):c)?e(l,f):n(l,f)},$.$$s=o,$.$$arity=1,$)),l},ft.$$arity=1),s&&"roman_numeral_to_int"}(w[0],null,w)}(o[0],o)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=(t.top,[]),$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.module),l=t.klass,c=t.truthy,f=t.hash2,_=t.range,d=t.send;return t.add_stubs(["$attr_accessor","$root?","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$web_root?","$unc?","$slice","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$gsub"]),function(a,h){var p,y=p=u(a,"Asciidoctor"),m=(y.$$proto,[y].concat(h));!function(a,u,h){function p(){}var y,m,g,v,b,w,k,E,x,A,O,S,M,T,R=p=l(a,u,"PathResolver",p),I=R.$$proto,C=[R].concat(h);return I.file_separator=I._partition_path_web=I._partition_path_sys=I.working_dir=$,t.const_set(C[0],"DOT","."),t.const_set(C[0],"DOT_DOT",".."),t.const_set(C[0],"DOT_SLASH","./"),t.const_set(C[0],"SLASH","/"),t.const_set(C[0],"BACKSLASH","\\"),t.const_set(C[0],"DOUBLE_SLASH","//"),t.const_set(C[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),R.$attr_accessor("file_separator"),R.$attr_accessor("working_dir"),t.def(R,"$initialize",y=function(t,e){var r,n=this;return null==t&&(t=$),null==e&&(e=$),n.file_separator=function(){return c(t)?t:c(r=o(o("::","File"),"ALT_SEPARATOR"))?r:o(o("::","File"),"SEPARATOR")}(),c(e)?n.working_dir=function(){return c(n["$root?"](e))?e:o("::","File").$expand_path(e)}():n.working_dir=o("::","File").$expand_path(o("::","Dir").$pwd()),r=[f([],{}),f([],{})],n._partition_path_sys=r[0],n._partition_path_web=r[1],r},y.$$arity=-1),t.def(R,"$absolute_path?",m=function(t){var e,r,n=this;return c(e=t["$start_with?"](s(C,"SLASH")))?e:(r=n.file_separator["$=="](s(C,"BACKSLASH")))?s(C,"WindowsRootRx")["$match?"](t):n.file_separator["$=="](s(C,"BACKSLASH"))},m.$$arity=1),c((g=s(C,"RUBY_ENGINE")["$=="]("opal"))?o("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):s(C,"RUBY_ENGINE")["$=="]("opal"))?t.def(R,"$root?",v=function(t){var e,r=this;return c(e=r["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},v.$$arity=1):t.alias(R,"root?","absolute_path?"),t.def(R,"$unc?",b=function(t){return t["$start_with?"](s(C,"DOUBLE_SLASH"))},b.$$arity=1),t.def(R,"$web_root?",w=function(t){return t["$start_with?"](s(C,"SLASH"))},w.$$arity=1),t.def(R,"$descends_from?",k=function(t,r){return r["$=="](t)?0:!!c(t["$start_with?"](e(r,"/")))&&e(r.$length(),1)},k.$$arity=2),t.def(R,"$posixify",E=function(t){return c(t["$nil_or_empty?"]())?"":c(t["$include?"](s(C,"BACKSLASH")))?t.$tr(s(C,"BACKSLASH"),s(C,"SLASH")):t},E.$$arity=1),t.alias(R,"posixfy","posixify"),t.def(R,"$expand_path",x=function(e){var r,n,i=this,a=$,o=$,s=$;return n=i.$partition_path(e),r=t.to_ary(n),a=null==r[0]?$:r[0],o=null==r[1]?$:r[1],s=null==r[2]?$:r[2],n,i.$join_path(a,o)},x.$$arity=1),t.def(R,"$partition_path",A=function(n,i){var a=this,o=$,u=$,l=$,f=$,h=$,p=$;return null==i&&(i=$),c(o=(u=function(){return c(i)?a._partition_path_web:a._partition_path_sys}())["$[]"](n))?o:(l=a.$posixify(n),f=function(){return c(i)?c(a["$web_root?"](l))?s(C,"SLASH"):c(l["$start_with?"](s(C,"DOT_SLASH")))?s(C,"DOT_SLASH"):$:c(a["$root?"](l))?c(a["$unc?"](l))?s(C,"DOUBLE_SLASH"):c(l["$start_with?"](s(C,"SLASH")))?s(C,"SLASH"):l.$slice(0,e(l.$index(s(C,"SLASH")),1)):c(l["$start_with?"](s(C,"DOT_SLASH")))?s(C,"DOT_SLASH"):$;
}(),h=l.$split(s(C,"SLASH")),f["$=="](s(C,"DOUBLE_SLASH"))?h=h["$[]"](_(2,-1,!1)):c(f)&&h.$shift(),h.$delete(s(C,"DOT")),p=[n,[h,f,l]],d(u,"[]=",t.to_a(p)),p[r(p.length,1)])},A.$$arity=-2),t.def(R,"$join_path",O=function(t,e){return null==e&&(e=$),c(e)?""+e+n(t,s(C,"SLASH")):n(t,s(C,"SLASH"))},O.$$arity=-2),t.def(R,"$system_path",S=function(e,r,n,a){var u,l,_,h=this,p=$,y=$,m=$,g=$,v=$,b=$,w=$,k=$,E=$,x=$;if(null==r&&(r=$),null==n&&(n=$),null==a&&(a=f([],{})),c(n)&&(c(h["$root?"](n))||h.$raise(o("::","SecurityError"),"Jail is not an absolute path: "+n),n=h.$posixify(n)),c(e["$nil_or_empty?"]())?p=[]:(l=h.$partition_path(e),u=t.to_ary(l),p=null==u[0]?$:u[0],y=null==u[1]?$:u[1],m=null==u[2]?$:u[2],l),c(p["$empty?"]())){if(c(r["$nil_or_empty?"]()))return function(){return c(n)?n:h.working_dir}();if(!c(h["$root?"](r)))return h.$system_path(r,n,n,a);if(!c(n))return h.$expand_path(r)}return c(c(u=y)?y["$!="](s(C,"DOT_SLASH")):u)&&(g=h.$join_path(p,y),c(c(u=n["$!"]())?u:g["$start_with?"](n)))?g:(r=c(r["$nil_or_empty?"]())?function(){return c(n)?n:h.working_dir}():c(h["$root?"](r))?h.$posixify(r):h.$system_path(r,n,n,a),n["$=="](r)?(l=h.$partition_path(n),u=t.to_ary(l),v=null==u[0]?$:u[0],b=null==u[1]?$:u[1],m=null==u[2]?$:u[2],l,w=v.$dup()):c(n)?(c(r["$start_with?"](n))||h.$raise(o("::","SecurityError"),""+(c(u=a["$[]"]("target_name"))?u:"Start path")+" "+r+" is outside of jail: "+n+" (disallowed in safe mode)"),l=h.$partition_path(r),u=t.to_ary(l),w=null==u[0]?$:u[0],k=null==u[1]?$:u[1],m=null==u[2]?$:u[2],l,l=h.$partition_path(n),u=t.to_ary(l),v=null==u[0]?$:u[0],b=null==u[1]?$:u[1],m=null==u[2]?$:u[2],l):(l=h.$partition_path(r),u=t.to_ary(l),w=null==u[0]?$:u[0],k=null==u[1]?$:u[1],m=null==u[2]?$:u[2],l,b=k),E=w.$dup(),x=!1,d(p,"each",[],(_=function(t){var r,u=_.$$s||this,l=$;return null==t&&(t=$),t["$=="](s(C,"DOT_DOT"))?c(n)?c(i(E.$size(),v.$size()))?E.$pop():c((l=c(r=l)?r:a.$fetch("recover",!0))["$!"]())?u.$raise(o("::","SecurityError"),""+(c(r=a["$[]"]("target_name"))?r:"path")+" "+e+" refers to location outside jail: "+n+" (disallowed in safe mode)"):c(x["$!"]())?(u.$warn("asciidoctor: WARNING: "+(c(r=a["$[]"]("target_name"))?r:"path")+" has illegal reference to ancestor of jail, auto-recovering"),x=!0):$:E.$pop():E["$<<"](t)},_.$$s=h,_.$$arity=1,_)),h.$join_path(E,b))},S.$$arity=-2),t.def(R,"$web_path",M=function(e,r){var n,i,a,o=this,u=$,l=$,f=$,_=$,h=$,p=$;return null==r&&(r=$),e=o.$posixify(e),r=o.$posixify(r),u=$,c(c(n=r["$nil_or_empty?"]())?n:o["$web_root?"](e))||(e=function(){return c(r["$end_with?"](s(C,"SLASH")))?""+r+e:""+r+s(C,"SLASH")+e}(),c(u=s(C,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(u.$length(),-1,!1)))),i=o.$partition_path(e,!0),n=t.to_ary(i),l=null==n[0]?$:n[0],f=null==n[1]?$:n[1],_=null==n[2]?$:n[2],i,h=[],d(l,"each",[],(a=function(t){var e;a.$$s||this;return null==t&&(t=$),t["$=="](s(C,"DOT_DOT"))?c(h["$empty?"]())?c(c(e=f)?f["$!="](s(C,"DOT_SLASH")):e)?$:h["$<<"](t):h["$[]"](-1)["$=="](s(C,"DOT_DOT"))?h["$<<"](t):h.$pop():h["$<<"](t)},a.$$s=o,a.$$arity=1,a)),c((p=o.$join_path(h,f))["$include?"](" "))&&(p=p.$gsub(" ","%20")),c(u)?""+u+p:p},M.$$arity=-2),t.def(R,"$relative_path",T=function(t,r){var n,i=this;return c(c(n=i["$root?"](t))?t["$start_with?"](r):n)?t.$slice(e(r.$length(),1),t.$length()):t},T.$$arity=2),$&&"relative_path"}(m[0],null,m)}(a[0],a)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var u=(t.top,[]),l=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.module),d=t.klass,h=t.truthy,p=t.hash2,y=t.range,m=t.send,g=t.gvars,v=t.hash;return t.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$empty?","$nil_or_empty?","$peek_line","$>","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$*","$read_lines","$unshift","$start_with?","$length","$push","$read_lines_until","$size","$clear","$[]=","$new","$line_info","$to_i","$fetch","$attributes","$<","$catalog","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$all?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$resolve_include_path","$each","$map","$/","$concat","$to_a","$uniq","$sort","$slice","$open","$each_line","$infinite?","$push_include","$delete","$value?","$rindex","$force_encoding","$chomp","$delete_at","$nil?","$keys","$read","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$base_dir","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(u,b){var w,k=w=_(u,"Asciidoctor"),E=(k.$$proto,[k].concat(b));!function(a,$,o){function s(){}var u,_,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W=s=d(a,$,"Reader",s),K=W.$$proto,X=[W].concat(o);return K.file=K.dir=K.lines=K.process_lines=K.look_ahead=K.unescape_next_line=K.lineno=K.path=K.source_lines=l,function(e,r,n){function i(){}var a,$,o=i=d(e,r,"Cursor",i);o.$$proto,[o].concat(n);return o.$attr_accessor("file"),o.$attr_accessor("dir"),o.$attr_accessor("path"),o.$attr_accessor("lineno"),t.def(o,"$initialize",a=function(t,e,r,n){var i=this;return null==e&&(e=l),null==r&&(r=l),null==n&&(n=l),i.file=t,i.dir=e,i.path=r,i.lineno=n},a.$$arity=-2),t.def(o,"$line_info",$=function(){var t=this;return""+t.$path()+": line "+t.$lineno()},$.$$arity=0),t.alias(o,"to_s","line_info")}(X[0],null,X),W.$attr_reader("file"),W.$attr_reader("dir"),W.$attr_reader("path"),W.$attr_reader("lineno"),W.$attr_reader("source_lines"),W.$attr_accessor("process_lines"),t.def(W,"$initialize",u=function(e,r,n){var i,a,$=this;return null==e&&(e=l),null==r&&(r=l),null==n&&(n=p([],{})),h(r["$!"]())?($.file=$.dir=l,$.path="<stdin>",$.lineno=1):h(c("::","String")["$==="](r))?($.file=r,a=c("::","File").$split($.file),i=t.to_ary(a),$.dir=null==i[0]?l:i[0],$.path=null==i[1]?l:i[1],a,$.lineno=1):($.file=r.$file(),$.dir=r.$dir(),$.path=h(i=r.$path())?i:"<stdin>",h($.file)&&(h($.dir)||($.dir=c("::","File").$dirname($.file),$.dir["$=="](".")&&($.dir=l)),h(r.$path())||($.path=c("::","File").$basename($.file))),$.lineno=h(i=r.$lineno())?i:1),$.lines=function(){return h(e)?$.$prepare_lines(e,n):[]}(),$.source_lines=$.lines.$dup(),$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1},u.$$arity=-1),t.def(W,"$prepare_lines",_=function(t,e){return null==e&&(e=p([],{})),h(c("::","String")["$==="](t))?h(e["$[]"]("normalize"))?f(X,"Helpers").$normalize_lines_from_string(t):t.$split(f(X,"LF"),-1):h(e["$[]"]("normalize"))?f(X,"Helpers").$normalize_lines_array(t):t.$dup()},_.$$arity=-2),t.def(W,"$process_line",g=function(t){var r=this;return h(r.process_lines)&&(r.look_ahead=e(r.look_ahead,1)),t},g.$$arity=1),t.def(W,"$has_more_lines?",v=function(){var t=this;return!h(t.lines["$empty?"]())||(t.look_ahead=0,!1)},v.$$arity=0),t.def(W,"$empty?",b=function(){var t=this;return!!h(t.lines["$empty?"]())&&(t.look_ahead=0,!0)},b.$$arity=0),t.alias(W,"eof?","empty?"),t.def(W,"$next_line_empty?",w=function(){var t=this;return t.$peek_line()["$nil_or_empty?"]()},w.$$arity=0),t.def(W,"$peek_line",k=function(t){var e,n=this,i=l;return null==t&&(t=!1),h(h(e=t)?e:r(n.look_ahead,0))?h(n.unescape_next_line)?n.lines["$[]"](0)["$[]"](y(1,-1,!1)):n.lines["$[]"](0):h(n.lines["$empty?"]())?(n.look_ahead=0,l):h(i=n.$process_line(n.lines["$[]"](0)))?i:n.$peek_line()},k.$$arity=-1),t.def(W,"$peek_lines",E=function(e,r){var i,a=this,$=l,o=l;return null==r&&(r=!1),$=a.look_ahead,o=[],function(){var $=t.new_brk();try{return m(e,"times",[],(i=function(){var e=i.$$s||this,a=l;return null==e.lineno&&(e.lineno=l),h(a=function(){return h(r)?e.$shift():e.$read_line()}())?o["$<<"](a):(h(r)&&(e.lineno=n(e.lineno,1)),void t.brk(l,$))},i.$$s=a,i.$$brk=$,i.$$arity=0,i))}catch(t){if(t===$)return t.$v;throw t}}(),h(o["$empty?"]())||(a.$unshift_all(o),h(r)&&(a.look_ahead=$)),o},E.$$arity=-2),t.def(W,"$read_line",x=function(){var t,e=this;return h(h(t=r(e.look_ahead,0))?t:e["$has_more_lines?"]())?e.$shift():l},x.$$arity=0),t.def(W,"$read_lines",A=function(){var t=this,e=l;for(e=[];h(t["$has_more_lines?"]());)e["$<<"](t.$shift());return e},A.$$arity=0),t.alias(W,"readlines","read_lines"),t.def(W,"$read",O=function(){var t=this;return i(t.$read_lines(),f(X,"LF"))},O.$$arity=0),t.def(W,"$advance",S=function(){var t=this;return!!h(t.$shift())},S.$$arity=0),t.def(W,"$unshift_line",M=function(t){var e=this;return e.$unshift(t),l},M.$$arity=1),t.alias(W,"restore_line","unshift_line"),t.def(W,"$unshift_lines",T=function(t){var e=this;return e.$unshift_all(t),l},T.$$arity=1),t.alias(W,"restore_lines","unshift_lines"),t.def(W,"$replace_next_line",R=function(t){var e=this;return e.$shift(),e.$unshift(t),!0},R.$$arity=1),t.alias(W,"replace_line","replace_next_line"),t.def(W,"$skip_blank_lines",I=function(){var t=this,r=l,n=l;if(h(t["$empty?"]()))return l;for(r=0;h(n=t.$peek_line());){if(!h(n["$empty?"]()))return r;t.$shift(),r=e(r,1)}},I.$$arity=0),t.def(W,"$skip_comment_lines",C=function(){var e,n=this,a=l,$=l,o=l;if(h(n["$empty?"]()))return[];for(a=[];h(h(e=$=n.$peek_line())?$["$empty?"]()["$!"]():e)&&h($["$start_with?"]("//"));)if(h($["$start_with?"]("///"))){if(!h(h(e=r(o=$.$length(),3))?$["$=="](i("/",o)):e))break;a["$<<"](n.$shift()),m(a,"push",t.to_a(n.$read_lines_until(p(["terminator","read_last_line","skip_processing"],{terminator:$,read_last_line:!0,skip_processing:!0}))))}else a["$<<"](n.$shift());return a},C.$$arity=0),t.def(W,"$skip_line_comments",N=function(){var t,e=this,r=l,n=l;if(h(e["$empty?"]()))return[];for(r=[];h(h(t=n=e.$peek_line())?n["$empty?"]()["$!"]():t)&&h(n["$start_with?"]("//"));)r["$<<"](e.$shift());return r},N.$$arity=0),t.def(W,"$terminate",z=function(){var t=this;return t.lineno=e(t.lineno,t.lines.$size()),t.lines.$clear(),t.look_ahead=0,l},z.$$arity=0),t.def(W,"$read_lines_until",P=function(e){var r,i,a,$,o=this,s=P.$$p,u=s||l,c=l,_=l,d=l,y=l,g=l,v=l,b=l,w=l,k=l,E=l,x=l;for(null==e&&(e=p([],{})),s&&(P.$$p=null),c=[],h(e["$[]"]("skip_first_line"))&&o.$shift(),h(h(r=o.process_lines)?e["$[]"]("skip_processing"):r)?(o.process_lines=!1,_=!0):_=!1,h(d=e["$[]"]("terminator"))?(y=!1,g=!1):(y=e["$[]"]("break_on_blank_lines"),g=e["$[]"]("break_on_list_continuation")),v=e["$[]"]("skip_line_comments"),b=!1,w=!1,k=!1;h(h(i=k["$!"]())?E=o.$read_line():i);)k=function(){for(;h(!0);)return!!h(h(a=d)?E["$=="](d):a)||(!!h(h(a=y)?E["$empty?"]():a)||(h(h(a=h($=g)?b:$)?E["$=="](f(X,"LIST_CONTINUATION")):a)?(x=["preserve_last_line",!0],m(e,"[]=",t.to_a(x)),x[n(x.length,1)],!0):!!h((a=u!==l)?t.yield1(u,E):u!==l)));return l}(),h(k)?(h(e["$[]"]("read_last_line"))&&(c["$<<"](E),b=!0),h(e["$[]"]("preserve_last_line"))&&(o.$unshift(E),w=!0)):h(h(i=h(a=v)?E["$start_with?"]("//"):a)?E["$start_with?"]("///")["$!"]():i)||(c["$<<"](E),b=!0);return h(_)&&(o.process_lines=!0,h(h(r=w)?d["$!"]():r)&&(o.look_ahead=n(o.look_ahead,1))),c},P.$$arity=-1),t.def(W,"$shift",B=function(){var t=this;return t.lineno=e(t.lineno,1),t.look_ahead["$=="](0)||(t.look_ahead=n(t.look_ahead,1)),t.lines.$shift()},B.$$arity=0),t.def(W,"$unshift",q=function(t){var r=this;return r.lineno=n(r.lineno,1),r.look_ahead=e(r.look_ahead,1),r.lines.$unshift(t)},q.$$arity=1),t.def(W,"$unshift_all",D=function(r){var i=this;return i.lineno=n(i.lineno,r.$size()),i.look_ahead=e(i.look_ahead,r.$size()),m(i.lines,"unshift",t.to_a(r))},D.$$arity=1),t.def(W,"$cursor",L=function(){var t=this;return f(X,"Cursor").$new(t.file,t.dir,t.path,t.lineno)},L.$$arity=0),t.def(W,"$line_info",F=function(){var t=this;return""+t.path+": line "+t.lineno},F.$$arity=0),t.alias(W,"next_line_info","line_info"),t.def(W,"$prev_line_info",j=function(){var t=this;return""+t.path+": line "+n(t.lineno,1)},j.$$arity=0),t.def(W,"$lines",U=function(){var t=this;return t.lines.$dup()},U.$$arity=0),t.def(W,"$string",H=function(){var t=this;return i(t.lines,f(X,"LF"))},H.$$arity=0),t.def(W,"$source",G=function(){var t=this;return i(t.source_lines,f(X,"LF"))},G.$$arity=0),t.def(W,"$to_s",Y=function(){var t=this;return t.$line_info()},Y.$$arity=0),l&&"to_s"}(E[0],null,E),function(u,_,b){function w(){}var k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F=w=d(u,_,"PreprocessorReader",w),j=F.$$proto,U=[F].concat(b);return j.document=j.lineno=j.process_lines=j.look_ahead=j.skipping=j.include_stack=j.conditional_stack=j.path=j.include_processor_extensions=j.maxdepth=j.dir=j.path_resolver=j.lines=j.file=j.includes=j.unescape_next_line=l,F.$attr_reader("include_stack"),F.$attr_reader("includes"),t.def(F,"$initialize",k=function(e,r,n,i){var $=this,o=k.$$p,s=l;return null==r&&(r=l),null==n&&(n=l),null==i&&(i=p([],{})),o&&(k.$$p=null),$.document=e,m($,t.find_super_dispatcher($,"initialize",k,!1),[r,n,i],null),s=e.$attributes().$fetch("max-include-depth",64).$to_i(),h(a(s,0))&&(s=0),$.maxdepth=p(["abs","rel"],{abs:s,rel:s}),$.include_stack=[],$.includes=e.$catalog()["$[]"]("includes"),$.skipping=!1,$.conditional_stack=[],$.include_processor_extensions=l},k.$$arity=-2),t.def(F,"$prepare_lines",E=function(r,a){var $,o,s=this,u=E.$$p,c=l,_=l,d=l,y=l,g=l,v=l,b=l,w=l;for(null==a&&(a=p([],{})),u&&(E.$$p=null),b=0,w=arguments.length,v=new Array(w);b<w;b++)v[b]=arguments[b];if(c=m(s,t.find_super_dispatcher(s,"prepare_lines",E,!1),v,u),h(h($=s.document)?s.document.$attributes()["$key?"]("skip-front-matter"):$)&&h(_=s["$skip_front_matter!"](c))&&(d=["front-matter",i(_,f(U,"LF"))],m(s.document.$attributes(),"[]=",t.to_a(d)),d[n(d.length,1)]),h(a.$fetch("condense",!0))){for(;h(h(o=y=c["$[]"](0))?y["$empty?"]():o);)h(o=c.$shift())?s.lineno=e(s.lineno,1):o;for(;h(h(o=g=c["$[]"](-1))?g["$empty?"]():o);)c.$pop()}return h(a["$[]"]("indent"))&&f(U,"Parser")["$adjust_indentation!"](c,a["$[]"]("indent"),s.document.$attr("tabsize")),c},E.$$arity=-2),t.def(F,"$process_line",x=function(t){var r,n,i=this;return h(i.process_lines)?h(t["$empty?"]())?(i.look_ahead=e(i.look_ahead,1),t):h(h(r=h(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?h(h(r=t["$include?"]("if"))?f(U,"ConditionalDirectiveRx")["$=~"](t):r)?((r=g["~"])===l?l:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=e(i.look_ahead,1),t["$[]"](y(1,-1,!1))):h(i.$preprocess_conditional_directive((r=g["~"])===l?l:r["$[]"](2),(r=g["~"])===l?l:r["$[]"](3),(r=g["~"])===l?l:r["$[]"](4),(r=g["~"])===l?l:r["$[]"](5)))?(i.$shift(),l):(i.look_ahead=e(i.look_ahead,1),t):h(i.skipping)?(i.$shift(),l):h(h(r=t["$start_with?"]("inc","\\inc"))?f(U,"IncludeDirectiveRx")["$=~"](t):r)?((r=g["~"])===l?l:r["$[]"](1))["$=="]("\\")?(i.unescape_next_line=!0,i.look_ahead=e(i.look_ahead,1),t["$[]"](y(1,-1,!1))):h(i.$preprocess_include_directive((r=g["~"])===l?l:r["$[]"](2),((r=g["~"])===l?l:r["$[]"](3)).$strip()))?l:(i.look_ahead=e(i.look_ahead,1),t):(i.look_ahead=e(i.look_ahead,1),t):h(i.skipping)?(i.$shift(),l):(i.look_ahead=e(i.look_ahead,1),t):t},x.$$arity=1),t.def(F,"$has_more_lines?",A=function(){var t=this;return!!h(t.$peek_line())},A.$$arity=0),t.def(F,"$empty?",O=function(){var t=this;return!h(t.$peek_line())},O.$$arity=0),t.alias(F,"eof?","empty?"),t.def(F,"$peek_line",S=function(e){var r=this,n=S.$$p,i=l,a=l,$=l,o=l;for(null==e&&(e=!1),n&&(S.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return h(i=m(r,t.find_super_dispatcher(r,"peek_line",S,!1),a,n))?i:h(r.include_stack["$empty?"]())?l:(r.$pop_include(),r.$peek_line(e))},S.$$arity=-1),t.def(F,"$preprocess_conditional_directive",M=function(t,e,r,i){var a,$,o,s,u,c,_,d=this,y=l,v=l,b=l,w=l,k=l,E=l,x=l;if(h(y=e["$empty?"]())||(e=e.$downcase()),h(h(a=h($=y)?h(o=t["$=="]("ifdef"))?o:t["$=="]("ifndef"):$)?a:h($=i)?t["$=="]("endif"):$))return!1;if(t["$=="]("endif"))return h(d.conditional_stack["$empty?"]())?d.$warn("asciidoctor: ERROR: "+d.$line_info()+": unmatched macro: endif::"+e+"[]"):h(h(a=y)?a:e["$=="]((v=d.conditional_stack["$[]"](-1))["$[]"]("target")))?(d.conditional_stack.$pop(),d.skipping=function(){return!h(d.conditional_stack["$empty?"]())&&d.conditional_stack["$[]"](-1)["$[]"]("skipping")}()):d.$warn("asciidoctor: ERROR: "+d.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+v["$[]"]("target")+"[]"),!0;if(h(d.skipping))b=!1;else if(w=t,"ifdef"["$==="](w))w=r,b=","["$==="](w)?m(e.$split(",",-1),"none?",[],(s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=l),null==t&&(t=l),e.document.$attributes()["$key?"](t)},s.$$s=d,s.$$arity=1,s)):"+"["$==="](w)?m(e.$split("+",-1),"any?",[],(u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=l),null==t&&(t=l),e.document.$attributes()["$key?"](t)["$!"]()},u.$$s=d,u.$$arity=1,u)):d.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](w))w=r,b=","["$==="](w)?m(e.$split(",",-1),"any?",[],(c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=l),null==t&&(t=l),e.document.$attributes()["$key?"](t)},c.$$s=d,c.$$arity=1,c)):"+"["$==="](w)?m(e.$split("+",-1),"all?",[],(_=function(t){var e=_.$$s||this;return null==e.document&&(e.document=l),null==t&&(t=l),e.document.$attributes()["$key?"](t)},_.$$s=d,_.$$arity=1,_)):d.document.$attributes()["$key?"](e);else if("ifeval"["$==="](w)){if(!h(h(a=y)?f(U,"EvalExpressionRx")["$=~"](i.$strip()):a))return!1;a=[($=g["~"])===l?l:$["$[]"](1),($=g["~"])===l?l:$["$[]"](2),($=g["~"])===l?l:$["$[]"](3)],k=a[0],E=a[1],x=a[2],a,k=d.$resolve_expr_val(k),x=d.$resolve_expr_val(x),b=E["$=="]("!=")?k.$send("==",x):k.$send(E.$to_sym(),x)["$!"]()}return h(h(a=t["$=="]("ifeval"))?a:i["$!"]())?(h(b)&&(d.skipping=!0),d.conditional_stack["$<<"](p(["target","skip","skipping"],{target:e,skip:b,skipping:d.skipping}))):h(h(a=d.skipping)?a:b)||(d.$replace_next_line(i.$rstrip()),d.$unshift(""),h(i["$start_with?"]("include::"))&&(d.look_ahead=n(d.look_ahead,1))),!0},M.$$arity=4),t.def(F,"$preprocess_include_directive",T=function(a,s){var u,_,d,y,b,w,k,E,x=this,A=l,O=l,S=l,M=l,T=l,R=l,I=l,C=l,N=l,z=l,P=l,B=l,q=l,D=l,L=l,F=l,j=l,H=l,G=l,Y=l,W=l,K=l,X=l,V=l,J=l;if(h(h(u=(A=a)["$include?"](f(U,"ATTR_REF_HEAD")))?(A=x.document.$sub_attributes(a,p(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():u))return x.$shift(),x.document.$attributes().$fetch("attribute-missing",f(U,"Compliance").$attribute_missing())["$=="]("skip")&&x.$unshift("Unresolved directive in "+x.path+" - include::"+a+"["+s+"]"),!0;if(h(h(u=x["$include_processors?"]())?O=m(x.include_processor_extensions,"find",[],(_=function(t){_.$$s||this;return null==t&&(t=l),t.$instance()["$handles?"](A)},_.$$s=x,_.$$arity=1,_)):u))return x.$shift(),O.$process_method()["$[]"](x.document,x,A,f(U,"AttributeList").$new(s).$parse()),!0;if(h($(x.document.$safe(),c(f(U,"SafeMode"),"SECURE"))))return x.$replace_next_line("link:"+A+"[]");if(h(r(S=x.maxdepth["$[]"]("abs"),0))){if(h($(x.include_stack.$size(),S)))return x.$warn("asciidoctor: ERROR: "+x.$line_info()+": maximum include depth of "+x.maxdepth["$[]"]("rel")+" exceeded"),l;if(M=function(){return h(s["$empty?"]())?p([],{}):f(U,"AttributeList").$new(s).$parse()}(),d=x.$resolve_include_path(A,s,M),u=t.to_ary(d),T=null==u[0]?l:u[0],R=null==u[1]?l:u[1],I=null==u[2]?l:u[2],d,!h(R))return T;if(C=N=l,h(M["$empty?"]())||(h(M["$key?"]("lines"))?(C=[],m(M["$[]"]("lines").$split(f(U,"DataDelimiterRx")),"each",[],(y=function(e){var r,n,i,a=y.$$s||this,$=l,s=l;return null==e&&(e=l),h(e["$include?"](".."))?(n=m(e.$split("..",2),"map",[],(i=function(t){i.$$s||this;return null==t&&(t=l),t.$to_i()},i.$$s=a,i.$$arity=1,i)),r=t.to_ary(n),$=null==r[0]?l:r[0],s=null==r[1]?l:r[1],n,s["$=="](-1)?(C["$<<"]($),C["$<<"](o(1,0))):C.$concat(c("::","Range").$new($,s).$to_a())):C["$<<"](e.$to_i())},y.$$s=x,y.$$arity=1,y)),C=function(){return h(C["$empty?"]())?l:C.$sort().$uniq()}()):h(M["$key?"]("tag"))?h((z=M["$[]"]("tag"))["$empty?"]())||(h(z["$start_with?"]("!"))?z["$=="]("!")||(N=v(z.$slice(1,z.$length()),!1)):N=v(z,!0)):h(M["$key?"]("tags"))&&(N=p([],{}),m(M["$[]"]("tags").$split(f(U,"DataDelimiterRx")),"each",[],(b=function(e){var r=(b.$$s||this,l);return null==e&&(e=l),h(e["$empty?"]())?l:h(e["$start_with?"]("!"))?e["$=="]("!")?l:(r=[e.$slice(1,e.$length()),!1],m(N,"[]=",t.to_a(r)),r[n(r.length,1)]):(r=[e,!0],m(N,"[]=",t.to_a(r)),r[n(r.length,1)])},b.$$s=x,b.$$arity=1,b)),h(N["$empty?"]())&&(N=l))),h(C)){u=[[],l,0],P=u[0],B=u[1],q=u[2],u;try{!function(){var r=t.new_brk();try{return m(x,"open",[T,"r"],(w=function(r){var n,i=w.$$s||this;return null==r&&(r=l),function(){var a=t.new_brk();try{return m(r,"each_line",[],(n=function(r){var i,$=(n.$$s||this,l);return null==r&&(r=l),q=e(q,1),$=C["$[]"](0),h(h(i=c("::","Float")["$==="]($))?$["$infinite?"]():i)?(B=h(i=B)?i:q,P["$<<"](r)):(q["$=="]($)&&(B=h(i=B)?i:q,P["$<<"](r),C.$shift()),h(C["$empty?"]())?void t.brk(l,a):l)},n.$$s=i,n.$$brk=a,n.$$arity=1,n))}catch(t){if(t===a)return t.$v;throw t}}()},w.$$s=x,w.$$brk=r,w.$$arity=1,w))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[f(U,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+R+" not readable: "+T),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}x.$shift(),h(B)&&x.$push_include(P,T,I,B,M)}else if(h(N)){u=[[],l,0,[],c("::","Set").$new(),l],P=u[0],B=u[1],q=u[2],D=u[3],L=u[4],F=u[5],u,h(N["$key?"]("**"))?h(N["$key?"]("*"))?(j=H=N.$delete("**"),G=N.$delete("*")):j=H=G=N.$delete("**"):(j=H=N["$value?"](!0)["$!"](),G=N.$delete("*")),h(h(u=Y=T.$rindex("."))?W=f(U,"CIRCUMFIX_COMMENTS")["$[]"](T.$slice(Y,T.$length())):u)&&(K=n((X="[] "+W["$[]"]("suffix")).$length(),2));try{m(x,"open",[T,"r"],(k=function(r){var i,a=k.$$s||this;return null==r&&(r=l),m(r,"each_line",[],(i=function(r){var a,$,o,s,u,_=i.$$s||this,d=l,p=l,y=l;return null==r&&(r=l),q=e(q,1),h(f(U,"FORCE_ENCODING"))&&r.$force_encoding(c(c("::","Encoding"),"UTF_8")),h(h(a=h($=(d=r.$chomp())["$end_with?"]("[]"))?$:h(o=h(s=X)?d["$end_with?"](X):s)?d=d.$slice(0,n(d.$length(),K)):o)?f(U,"TagDirectiveRx")["$=~"](d):a)?h((a=g["~"])===l?l:a["$[]"](1))?(p=(a=g["~"])===l?l:a["$[]"](2))["$=="](F)?(D.$pop(),$=function(){return h(D["$empty?"]())?[l,H]:D["$[]"](-1)}(),a=t.to_ary($),F=null==a[0]?l:a[0],j=null==a[1]?l:a[1],$):h(N["$key?"](p))?h(y=m(D,"rindex",[],(u=function(t,e){u.$$s||this;return null==t&&(t=l),null==e&&(e=l),t["$=="](p)},u.$$s=_,u.$$arity=2,u)))?(y["$=="](0)?D.$shift():D.$delete_at(y),_.$warn("asciidoctor: WARNING: "+A+": line "+q+": mismatched end tag in include: expected "+F+", found "+p)):_.$warn("asciidoctor: WARNING: "+A+": line "+q+": unexpected end tag in include: "+p):l:h(N["$key?"](p=(a=g["~"])===l?l:a["$[]"](2)))?(L["$<<"](p),D["$<<"]([F=p,j=N["$[]"](p)])):h(G["$nil?"]()["$!"]())?(j=function(){return!h(h(a=F)?j["$!"]():a)&&G}(),D["$<<"]([F=p,j])):l:h(j)?(B=h(a=B)?a:q,P["$<<"](r)):l},i.$$s=a,i.$$arity=1,i))},k.$$s=x,k.$$arity=1,k))}catch(e){if(!t.rescue(e,[f(U,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+R+" not readable: "+T),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}h((V=n(N.$keys().$to_a(),L.$to_a()))["$empty?"]())||x.$warn("asciidoctor: WARNING: "+x.$line_info()+": tag"+function(){return h(r(V.$size(),1))?"s":l}()+" '"+i(V,",")+"' not found in include "+R+": "+T),x.$shift(),h(B)&&x.$push_include(P,T,I,B,M)}else try{J=function(){return R["$=="]("file")?c("::","IO").$read(T):m(x,"open",[T,"r"],(E=function(t){E.$$s||this;return null==t&&(t=l),t.$read()},E.$$s=x,E.$$arity=1,E))}(),x.$shift(),x.$push_include(J,T,I,1,M)}catch(e){if(!t.rescue(e,[f(U,"StandardError")]))throw e;try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+R+" not readable: "+T),x.$replace_next_line("Unresolved directive in "+x.path+" - include::"+A+"["+s+"]")}finally{t.pop_exception()}}return!0}return!1},T.$$arity=2),t.def(F,"$resolve_include_path",R=function(t,e,r){var n,i,a,$=this,o=l,s=l;return h(f(U,"Helpers")["$uriish?"](t))?h($.document.$attributes()["$key?"]("allow-uri-read"))?(h($.document.$attributes()["$key?"]("cache-uri"))?h((i=c("::","OpenURI","skip_raise"))&&(n=c(i,"Cache","skip_raise"))?"constant":l)||f(U,"Helpers").$require_library("open-uri/cached","open-uri-cached"):h(c("::","RUBY_ENGINE_OPAL")["$!"]())&&c("::","OpenURI"),[t,"uri",t]):$.$replace_next_line("link:"+t+"["+e+"]"):(o=$.document.$normalize_system_path(t,$.dir,l,p(["target_name"],{target_name:"include file"})),h(c("::","File")["$file?"](o))?(s=($.path_resolver=h(a=$.path_resolver)?a:f(U,"PathResolver").$new()).$relative_path(o,$.document.$base_dir()),[o,"file",s]):($.$warn("asciidoctor: WARNING: "+$.$line_info()+": include file not found: "+o),$.$replace_next_line("Unresolved directive in "+$.path+" - include::"+t+"["+e+"]")))},R.$$arity=3),t.def(F,"$push_include",I=function(t,r,i,a,$){var o=this,u=l,_=l;return null==r&&(r=l),null==i&&(i=l),null==a&&(a=1),null==$&&($=p([],{})),o.include_stack["$<<"]([o.lines,o.file,o.dir,o.path,o.lineno,o.maxdepth,o.process_lines]),h(r)?(o.file=r,o.dir=f(U,"File").$dirname(r),o.process_lines=f(U,"ASCIIDOC_EXTENSIONS")["$[]"](c("::","File").$extname(r))):(o.file=l,o.dir=".",o.process_lines=!0),h(i)?o.includes["$<<"](f(U,"Helpers").$rootname(o.path=i)):o.path="<stdin>",o.lineno=a,h($["$key?"]("depth"))&&(u=$["$[]"]("depth").$to_i(),h(s(u,0))&&(u=1),o.maxdepth=p(["abs","rel"],{abs:e(n(o.include_stack.$size(),1),u),rel:u})),h((o.lines=o.$prepare_lines(t,p(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:$["$[]"]("indent")})))["$empty?"]())?o.$pop_include():(h($["$key?"]("leveloffset"))&&(o.lines.$unshift(""),o.lines.$unshift(":leveloffset: "+$["$[]"]("leveloffset")),o.lines["$<<"](""),h(_=o.document.$attr("leveloffset"))?o.lines["$<<"](":leveloffset: "+_):o.lines["$<<"](":leveloffset!:"),o.lineno=n(o.lineno,2)),o.look_ahead=0),o},I.$$arity=-2),t.def(F,"$pop_include",C=function(){var e,n,i=this;return h(r(i.include_stack.$size(),0))?(n=i.include_stack.$pop(),e=t.to_ary(n),i.lines=null==e[0]?l:e[0],i.file=null==e[1]?l:e[1],i.dir=null==e[2]?l:e[2],i.path=null==e[3]?l:e[3],i.lineno=null==e[4]?l:e[4],i.maxdepth=null==e[5]?l:e[5],i.process_lines=null==e[6]?l:e[6],n,i.look_ahead=0,l):l},C.$$arity=0),t.def(F,"$include_depth",N=function(){var t=this;return t.include_stack.$size()},N.$$arity=0),t.def(F,"$exceeded_max_depth?",z=function(){var t,e=this,n=l;return!!h(h(t=r(n=e.maxdepth["$[]"]("abs"),0))?$(e.include_stack.$size(),n):t)&&e.maxdepth["$[]"]("rel")},z.$$arity=0),t.def(F,"$shift",P=function(){var e=this,r=P.$$p,n=l,i=l,a=l;for(r&&(P.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return h(e.unescape_next_line)?(e.unescape_next_line=!1,m(e,t.find_super_dispatcher(e,"shift",P,!1),n,r)["$[]"](y(1,-1,!1))):m(e,t.find_super_dispatcher(e,"shift",P,!1),n,r)},P.$$arity=0),t.def(F,"$skip_front_matter!",B=function(r,n){var i,a=this,$=l,o=l;if(null==n&&(n=!0),$=l,r["$[]"](0)["$=="]("---")){for(o=r.$dup(),$=[],r.$shift(),h(n)&&(a.lineno=e(a.lineno,1));h(h(i=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):i);)$["$<<"](r.$shift()),h(n)&&(a.lineno=e(a.lineno,1));h(r["$empty?"]())?(m(r,"unshift",t.to_a(o)),h(n)&&(a.lineno=0),$=l):(r.$shift(),h(n)&&(a.lineno=e(a.lineno,1)))}return $},B.$$arity=-2),t.def(F,"$resolve_expr_val",q=function(t){var e,r,n=this,i=l;return h(h(e=h(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:h(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(i=!0,t=t["$[]"](y(1,-1,!0))):i=!1,h(t["$include?"](f(U,"ATTR_REF_HEAD")))&&(t=n.document.$sub_attributes(t,p(["attribute_missing"],{attribute_missing:"drop"}))),h(i)?t:h(t["$empty?"]())?l:!!t["$=="]("true")||!t["$=="]("false")&&(h(t.$rstrip()["$empty?"]())?" ":h(t["$include?"]("."))?t.$to_f():t.$to_i())},q.$$arity=1),t.def(F,"$include_processors?",D=function(){var t,e=this;return h(e.include_processor_extensions["$nil?"]())?h(h(t=e.document["$extensions?"]())?e.document.$extensions()["$include_processors?"]():t)?(e.include_processor_extensions=e.document.$extensions().$include_processors())["$!"]()["$!"]():e.include_processor_extensions=!1:e.include_processor_extensions["$!="](!1)},D.$$arity=0),t.def(F,"$to_s",L=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+i(m(e.include_stack,"map",[],(t=function(e){t.$$s||this;return null==e&&(e=l),e.$to_s()},t.$$s=e,t.$$arity=1,t)),", ")+"]}>"},L.$$arity=0),l&&"to_s"}(E[0],f(E,"Reader"),E)}(u[0],u)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.klass,s=t.send,u=t.truthy,l=t.hash2;return t.add_stubs(["$attr_accessor","$attr_reader","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$reftext","$!","$empty?","$===","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$enumerate_section","$class","$object_id","$inspect","$size","$gsub","$downcase","$tr_s","$end_with?","$chop","$start_with?","$slice","$length","$key?","$catalog","$unique_id_start_index"]),function(n,c){var f,_=f=$(n,"Asciidoctor"),d=(_.$$proto,[_].concat(c));!function(n,$,c){function f(){}var _,d,h,p,y,m,g,v=f=o(n,$,"Section",f),b=v.$$proto,w=[v].concat(c);return b.level=b.document=b.parent=b.number=b.numbered=b.sectname=b.title=b.blocks=i,v.$attr_accessor("index"),v.$attr_accessor("sectname"),v.$attr_accessor("special"),v.$attr_accessor("numbered"),v.$attr_reader("caption"),t.def(v,"$initialize",_=function(n,a,$,o){var c,f,d=this,h=_.$$p;return null==n&&(n=i),null==a&&(a=i),null==$&&($=!0),null==o&&(o=l([],{})),h&&(_.$$p=null),s(d,t.find_super_dispatcher(d,"initialize",_,!1),[n,"section",o],null),d.level=function(){return u(a)?a:u(n)?e(n.$level(),1):1}(),d.numbered=u(c=$)?r(d.level,0):c,d.special=u(c=u(f=n)?n.$context()["$=="]("section"):f)?n.$special():c,d.index=0,d.number=1},_.$$arity=-1),t.alias(v,"name","title"),t.def(v,"$generate_id",d=function(){var t=this;return a(w,"Section").$generate_id(t.$title(),t.document)},d.$$arity=0),t.def(v,"$sectnum",h=function(t,e){var n,a,$,o=this;return null==t&&(t="."),null==e&&(e=i),e=u(n=e)?n:function(){return e["$=="](!1)?"":t}(),u(u(n=u(a=u($=o.level)?r(o.level,1):$)?o.parent:a)?o.parent.$context()["$=="]("section"):n)?""+o.parent.$sectnum(t)+o.number+e:""+o.number+e},h.$$arity=-1),t.def(v,"$xreftext",p=function(t){var e,r=this,n=i,a=i,$=i,o=i,s=i;return null==t&&(t=i),u(u(e=n=r.$reftext())?n["$empty?"]()["$!"]():e)?n:u(t)?u(r.numbered)?function(){return a=t,"full"["$==="](a)?(o=u(u(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$sprintf(r.$sub_quotes(function(){return u(r.document.$compat_mode())?"``%s''":'"`%s`"'}()),r.$title()),u(s=r.document.$attributes()["$[]"](""+$+"-refsig"))?""+s+" "+r.$sectnum(".",",")+" "+o:""+r.$sectnum(".",",")+" "+o):"short"["$==="](a)?u(s=r.document.$attributes()["$[]"](""+r.sectname+"-refsig"))?""+s+" "+r.$sectnum(".",""):r.$sectnum(".",""):u(u(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title();
}():u(u(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},p.$$arity=-1),t.def(v,"$<<",y=function(e){var r=this,n=y.$$p,a=i,$=i,o=i;for(n&&(y.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return e.$context()["$=="]("section")&&r.$enumerate_section(e),s(r,t.find_super_dispatcher(r,"<<",y,!1),a,n)},y.$$arity=1),t.def(v,"$to_s",m=function(){var e=this,r=m.$$p,n=i,a=i,$=i,o=i;for(r&&(m.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return u(e.title)?(n=function(){return u(e.numbered)?""+e.$sectnum()+" "+e.title:e.title}(),"#<"+e.$class()+"@"+e.$object_id()+" {level: "+e.level+", title: "+n.$inspect()+", blocks: "+e.blocks.$size()+"}>"):s(e,t.find_super_dispatcher(e,"to_s",m,!1),a,r)},m.$$arity=0),t.defs(v,"$generate_id",g=function(t,r){var n,$=i,o=i,s=i,l=i,c=i,f=i,_=i;if($=r.$attributes(),o=u(n=$["$[]"]("idseparator"))?n:"_",s=u(n=$["$[]"]("idprefix"))?n:"_",l=""+s+t.$downcase().$gsub(a(w,"InvalidSectionIdCharsRx"),o),u(o["$empty?"]()));else if(l=l.$tr_s(o,o),u(l["$end_with?"](o))&&(l=l.$chop()),u(s["$empty?"]()))for(;u(l["$start_with?"](o));)l=l.$slice(1,l.$length());if(u(r.$catalog()["$[]"]("ids")["$key?"](l))){for(n=[r.$catalog()["$[]"]("ids"),a(w,"Compliance").$unique_id_start_index()],c=n[0],f=n[1],n;u(c["$key?"](_=""+l+o+f));)f=e(f,1);return _}return l},g.$$arity=2),i&&"generate_id"}(d[0],a(d,"AbstractBlock"),d)}(n[0],n)},Opal.modules["asciidoctor/stylesheets"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.truthy,u=t.hash2,l=t.send;return t.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$sub","$css","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(r,c){var f,_=f=$(r,"Asciidoctor"),d=(_.$$proto,[_].concat(c));!function(r,$,c){function f(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A,O=f=o(r,$,"Stylesheets",f),S=O.$$proto,M=[O].concat(c);return S.primary_stylesheet_data=S.coderay_stylesheet_data=S.pygments_stylesheet_data=n,t.const_set(M[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(M[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(M[0],"STYLESHEETS_DATA_PATH",i("::","File").$join(a(M,"DATA_PATH"),"stylesheets")),O.__instance__=O.$new(),t.defs(O,"$instance",_=function(){var t=this;return null==t.__instance__&&(t.__instance__=n),t.__instance__},_.$$arity=0),t.def(O,"$primary_stylesheet_name",d=function(){return a(M,"DEFAULT_STYLESHEET_NAME")},d.$$arity=0),t.def(O,"$primary_stylesheet_data",h=function(){var e,r=t.const_get_relative([],"File");return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===r.$basename(__dirname)&&"dist"===r.$basename(r.$dirname(__dirname))?r.$join(r.$dirname(__dirname),"css"):r.$join(__dirname,"css"):t.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===r.$basename(__DIR__)&&"dist"===r.$basename(r.$dirname(__DIR__))?r.$join(r.$dirname(__DIR__),"css"):r.$join(__DIR__,"css"):"css",($a=O.primary_stylesheet_data)!==!1&&$a!==n&&null!=$a?$a:O.primary_stylesheet_data=t.const_get_relative([],"IO").$read(r.$join(e,"asciidoctor.css")).$chomp()},h.$$arity=0),t.def(O,"$embed_primary_stylesheet",p=function(){var t=this;return"<style>\n"+t.$primary_stylesheet_data()+"\n</style>"},p.$$arity=0),t.def(O,"$write_primary_stylesheet",y=function(t){var e=this;return null==t&&(t="."),i("::","IO").$write(i("::","File").$join(t,e.$primary_stylesheet_name()),e.$primary_stylesheet_data())},y.$$arity=-1),t.def(O,"$coderay_stylesheet_name",m=function(){return"coderay-asciidoctor.css"},m.$$arity=0),t.def(O,"$coderay_stylesheet_data",g=function(){var t,e=this;return e.coderay_stylesheet_data=s(t=e.coderay_stylesheet_data)?t:i("::","IO").$read(i("::","File").$join(a(M,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},g.$$arity=0),t.def(O,"$embed_coderay_stylesheet",v=function(){var t=this;return"<style>\n"+t.$coderay_stylesheet_data()+"\n</style>"},v.$$arity=0),t.def(O,"$write_coderay_stylesheet",b=function(t){var e=this;return null==t&&(t="."),i("::","IO").$write(i("::","File").$join(t,e.$coderay_stylesheet_name()),e.$coderay_stylesheet_data())},b.$$arity=-1),t.def(O,"$pygments_stylesheet_name",w=function(t){var e;return null==t&&(t=n),"pygments-"+(s(e=t)?e:a(M,"DEFAULT_PYGMENTS_STYLE"))+".css"},w.$$arity=-1),t.def(O,"$pygments_stylesheet_data",k=function(r){var $,o,c=this,f=n;return null==r&&(r=n),s(c.$load_pygments())?s($=(c.pygments_stylesheet_data=s(o=c.pygments_stylesheet_data)?o:u([],{}))["$[]"](s(o=r)?o:a(M,"DEFAULT_PYGMENTS_STYLE")))?$:(f=[s(o=r)?o:a(M,"DEFAULT_PYGMENTS_STYLE"),i("::","Pygments").$css(".listingblock .pygments",u(["classprefix","style"],{classprefix:"tok-",style:s(o=r)?o:a(M,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],l(c.pygments_stylesheet_data=s(o=c.pygments_stylesheet_data)?o:u([],{}),"[]=",t.to_a(f)),f[e(f.length,1)]):"/* Pygments styles disabled. Pygments is not available. */"},k.$$arity=-1),t.def(O,"$embed_pygments_stylesheet",E=function(t){var e=this;return null==t&&(t=n),"<style>\n"+e.$pygments_stylesheet_data(t)+"\n</style>"},E.$$arity=-1),t.def(O,"$write_pygments_stylesheet",x=function(t,e){var r=this;return null==t&&(t="."),null==e&&(e=n),i("::","IO").$write(i("::","File").$join(t,r.$pygments_stylesheet_name(e)),r.$pygments_stylesheet_data(e))},x.$$arity=-1),t.def(O,"$load_pygments",A=function(){var t;return!!s((t=i("::","Pygments","skip_raise"))?"constant":n)||a(M,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},A.$$arity=0),n&&"load_pygments"}(d[0],null,d)}(r[0],r)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var o=(t.top,[]),s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),f=t.klass,_=t.send,d=t.truthy,h=t.hash2,p=t.range;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$to_set","$cursor","$nested?","$document","$warn","$prev_line_info","$nil_or_empty?","$escape","$columns","$match","$pre_match","$post_match","$chop","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$line_info","$squeeze","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),function(o,y){var m,g=m=c(o,"Asciidoctor"),v=(g.$$proto,[g].concat(y));!function(o,u,c){function h(){}var p,y,m,g,v,b=h=f(o,u,"Table",h),w=b.$$proto,k=[b].concat(c);return w.attributes=w.document=w.has_header_option=w.rows=w.columns=s,function(e,r,n){function i(){}var a,$,o=i=f(e,r,"Rows",i),u=o.$$proto;[o].concat(n);return u.head=u.foot=u.body=s,o.$attr_accessor("head","foot","body"),t.def(o,"$initialize",a=function(t,e,r){var n=this;return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),n.head=t,n.foot=e,n.body=r},a.$$arity=-1),t.alias(o,"[]","send"),t.def(o,"$by_section",$=function(){var t=this;return[["head",t.head],["foot",t.foot],["body",t.body]]},$.$$arity=0),s&&"by_section"}(k[0],null,k),b.$attr_accessor("columns"),b.$attr_accessor("rows"),b.$attr_accessor("has_header_option"),b.$attr_reader("caption"),t.def(b,"$initialize",p=function($,o){var u,c,f=this,h=p.$$p,y=s,m=s,g=s;return h&&(p.$$p=null),_(f,t.find_super_dispatcher(f,"initialize",p,!1),[$,"table"],null),f.rows=l(k,"Rows").$new(),f.columns=[],f.has_header_option=o["$key?"]("header-option"),d(y=o["$[]"]("width"))?d(d(u=e(m=y.$to_i(),100))?u:r(m,1))&&(d((u=m["$=="](0))?d(c=y["$=="]("0"))?c:y["$=="]("0%"):m["$=="](0))||(m=100)):m=100,g=["tablepcwidth",m],_(f.attributes,"[]=",t.to_a(g)),g[n(g.length,1)],d(f.document.$attributes()["$key?"]("pagewidth"))&&(d(u=f.attributes["$[]"]("tableabswidth"))?u:(g=["tableabswidth",i(a(f.attributes["$[]"]("tablepcwidth").$to_f(),100),f.document.$attributes()["$[]"]("pagewidth")).$round()],_(f.attributes,"[]=",t.to_a(g)),g[n(g.length,1)])),d(o["$key?"]("rotate-option"))?(g=["orientation","landscape"],_(o,"[]=",t.to_a(g)),g[n(g.length,1)]):s},p.$$arity=2),t.def(b,"$header_row?",y=function(){var t,e=this;return d(t=e.has_header_option)?e.rows.$body()["$empty?"]():t},y.$$arity=0),t.def(b,"$create_columns",m=function(e){var r,i=this,a=s,o=s,u=s;return a=[],o=0,_(e,"each",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),o=$(o,t["$[]"]("width")),a["$<<"](l(k,"Column").$new(e,a.$size(),t))},r.$$s=i,r.$$arity=1,r)),d((i.columns=a)["$empty?"]())||(u=["colcount",a.$size()],_(i.attributes,"[]=",t.to_a(u)),u[n(u.length,1)],i.$assign_column_widths(function(){return o["$=="](0)?s:o}())),s},m.$$arity=1),t.def(b,"$assign_column_widths",g=function(t){var e,r,o=this,u=s,l=s,c=s;return null==t&&(t=s),u=10["$**"](4),l=c=0,d(t)?_(o.columns,"each",[],(e=function(r){e.$$s||this;return null==r&&(r=s),l=$(l,c=r.$assign_width(s,t,u))},e.$$s=o,e.$$arity=1,e)):(c=a(a(i(100,u),o.columns.$size()).$to_i(),u),c.$to_i()["$=="](c)&&(c=c.$to_i()),_(o.columns,"each",[],(r=function(t){r.$$s||this;return null==t&&(t=s),l=$(l,t.$assign_width(c))},r.$$s=o,r.$$arity=1,r))),l["$=="](100)||o.columns["$[]"](-1).$assign_width(a(i($(n(100,l),c),u).$round(),u)),s},g.$$arity=-1),t.def(b,"$partition_header_footer",v=function(r){var i,a,$=this,o=s,u=s,l=s;return o=["rowcount",$.rows.$body().$size()],_($.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],u=$.rows.$body().$size(),d(d(i=e(u,0))?$.has_header_option:i)&&(l=$.rows.$body().$shift(),u=n(u,1),_(l,"each",[],(a=function(e){a.$$s||this;return null==e&&(e=s),o=[s],_(e,"style=",t.to_a(o)),o[n(o.length,1)]},a.$$s=$,a.$$arity=1,a)),o=[[l]],_($.rows,"head=",t.to_a(o)),o[n(o.length,1)]),d(d(i=e(u,0))?r["$key?"]("footer-option"):i)&&(o=[[$.rows.$body().$pop()]],_($.rows,"foot=",t.to_a(o)),o[n(o.length,1)]),s},v.$$arity=1),s&&"partition_header_footer"}(v[0],l(v,"AbstractBlock"),v),function(e,r,o){function u(){}var l,c,p=u=f(e,r,"Column",u),y=p.$$proto;[p].concat(o);return y.attributes=s,p.$attr_accessor("style"),t.def(p,"$initialize",l=function(e,r,i){var a,o=this,u=l.$$p,c=s;return null==i&&(i=h([],{})),u&&(l.$$p=null),_(o,t.find_super_dispatcher(o,"initialize",l,!1),[e,"column"],null),o.style=i["$[]"]("style"),c=["colnumber",$(r,1)],_(i,"[]=",t.to_a(c)),c[n(c.length,1)],d(a=i["$[]"]("width"))?a:(c=["width",1],_(i,"[]=",t.to_a(c)),c[n(c.length,1)]),d(a=i["$[]"]("halign"))?a:(c=["halign","left"],_(i,"[]=",t.to_a(c)),c[n(c.length,1)]),d(a=i["$[]"]("valign"))?a:(c=["valign","top"],_(i,"[]=",t.to_a(c)),c[n(c.length,1)]),o.$update_attributes(i)},l.$$arity=-3),t.alias(p,"table","parent"),t.def(p,"$assign_width",c=function(e,r,$){var o=this,u=s;return null==r&&(r=s),null==$&&($=1e4),d(r)&&(e=a(i(i(a(o.attributes["$[]"]("width").$to_f(),r),100),$).$to_i(),$),e.$to_i()["$=="](e)&&(e=e.$to_i())),u=["colpcwidth",e],_(o.attributes,"[]=",t.to_a(u)),u[n(u.length,1)],d(o.$parent().$attributes()["$key?"]("tableabswidth"))&&(u=["colabswidth",i(a(e,100),o.$parent().$attributes()["$[]"]("tableabswidth")).$round()],_(o.attributes,"[]=",t.to_a(u)),u[n(u.length,1)]),e},c.$$arity=-2),s&&"assign_width"}(l(v,"Table"),l(v,"AbstractNode"),v),function(e,i,a){function $(){}var o,u,c,p,y,m=$=f(e,i,"Cell",$),g=m.$$proto,v=[m].concat(a);return g.document=g.text=g.style=g.inner_document=g.colspan=g.rowspan=g.attributes=s,m.$attr_accessor("style"),m.$attr_accessor("colspan"),m.$attr_accessor("rowspan"),t.alias(m,"column","parent"),m.$attr_reader("inner_document"),t.def(m,"$initialize",o=function(e,i,a,$){var u,c=this,f=o.$$p,p=s,y=s,m=s,g=s,b=s,w=s,k=s;if(null==a&&(a=h([],{})),null==$&&($=h([],{})),f&&(o.$$p=null),_(c,t.find_super_dispatcher(c,"initialize",o,!1),[e,"cell"],null),d(e)?(p=function(){return d(y=e.$table()["$header_row?"]())?s:e.$attributes()["$[]"]("style")}(),c.$update_attributes(e.$attributes())):y=p=s,d(a)){if(c.colspan=a.$delete("colspan"),c.rowspan=a.$delete("rowspan"),d(d(u=y)?u:a["$key?"]("style")["$!"]())||(p=a["$[]"]("style")),d($["$[]"]("strip_text")))if(d(d(u=p["$=="]("literal"))?u:p["$=="]("verse")))for(i=i.$rstrip();d(i["$start_with?"](l(v,"LF")));)i=i.$slice(1,n(i.$length(),1));else i=i.$strip();c.$update_attributes(a)}else c.colspan=s,c.rowspan=s;return p["$=="]("asciidoc")&&(m=c.document.$attributes().$delete("doctitle"),g=i.$split(l(v,"LF"),-1),d(g["$empty?"]())||d((b=g["$[]"](0))["$include?"]("::"))&&(w=l(v,"PreprocessorReader").$new(c.document,[b]).$readlines(),d((u=b["$=="](w["$[]"](0)))?r(w.$size(),2):b["$=="](w["$[]"](0)))||(g.$shift(),d(w["$empty?"]())||_(g,"unshift",t.to_a(w)))),c.inner_document=l(v,"Document").$new(g,h(["header_footer","parent","cursor"],{header_footer:!1,parent:c.document,cursor:$["$[]"]("cursor")})),d(m["$nil?"]())||(k=["doctitle",m],_(c.document.$attributes(),"[]=",t.to_a(k)),k[n(k.length,1)])),c.text=i,c.style=p},o.$$arity=-3),t.def(m,"$text",u=function(){var t=this;return t.$apply_subs(t.text,function(){return t.style["$=="]("literal")?l(v,"BASIC_SUBS"):l(v,"NORMAL_SUBS")}())},u.$$arity=0),t.def(m,"$text=",c=function(t){var e=this;return e.text=t},c.$$arity=1),t.def(m,"$content",p=function(){var t,e=this;return e.style["$=="]("asciidoc")?e.inner_document.$convert():_(e.$text().$split(l(v,"BlankLineRx")),"map",[],(t=function(e){var r,n=t.$$s||this;return null==n.style&&(n.style=s),null==e&&(e=s),d(d(r=n.style["$!"]())?r:n.style["$=="]("header"))?e:l(v,"Inline").$new(n.$parent(),"quoted",e,h(["type"],{type:n.style})).$convert()},t.$$s=e,t.$$arity=1,t))},p.$$arity=0),t.def(m,"$to_s",y=function(){var e,r=this,n=y.$$p,i=s,a=s,$=s;for(n&&(y.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return""+_(r,t.find_super_dispatcher(r,"to_s",y,!1),i,n).$to_s()+" - [text: "+r.text+", colspan: "+(d(e=r.colspan)?e:1)+", rowspan: "+(d(e=r.rowspan)?e:1)+", attributes: "+r.attributes+"]"},y.$$arity=0),s&&"to_s"}(l(v,"Table"),l(v,"AbstractNode"),v),function(r,i,a){function o(){}var c,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z=o=f(r,i,"ParserContext",o),P=z.$$proto,B=[z].concat(a);return P.delimiter=P.delimiter_re=P.buffer=P.cellspecs=P.cell_open=P.format=P.last_cursor=P.table=P.current_row=P.colcount=P.column_visits=P.active_rowspans=P.linenum=s,t.const_set(B[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(B[0],"DELIMITERS",h(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),z.$attr_accessor("table"),z.$attr_accessor("format"),z.$attr_reader("colcount"),z.$attr_accessor("buffer"),z.$attr_reader("delimiter"),z.$attr_reader("delimiter_re"),t.def(z,"$initialize",c=function(e,r,n){var i,a,$=this,o=s,c=s;return null==n&&(n=h([],{})),$.reader=e,$.table=r,$.last_cursor=e.$cursor(),d(n["$key?"]("format"))?d(l(B,"FORMATS")["$include?"](o=n["$[]"]("format")))?o["$=="]("tsv")?$.format="csv":d((i=($.format=o)["$=="]("psv"))?r.$document()["$nested?"]():($.format=o)["$=="]("psv"))&&(o="!sv"):($.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": illegal table format: "+o),i=["psv",function(){return d(r.$document()["$nested?"]())?"!sv":"psv"}()],$.format=i[0],o=i[1],i):(i=["psv",function(){return d(r.$document()["$nested?"]())?"!sv":"psv"}()],$.format=i[0],o=i[1],i),d(n["$key?"]("separator"))?d((c=n["$[]"]("separator"))["$nil_or_empty?"]())?(a=l(B,"DELIMITERS")["$[]"](o),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a):c["$=="]("\\t")?(a=l(B,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a):(i=[c,new RegExp(u("::","Regexp").$escape(c))],$.delimiter=i[0],$.delimiter_re=i[1],i):(a=l(B,"DELIMITERS")["$[]"](o),i=t.to_ary(a),$.delimiter=null==i[0]?s:i[0],$.delimiter_re=null==i[1]?s:i[1],a),$.colcount=function(){return d(r.$columns()["$empty?"]())?-1:r.$columns().$size()}(),$.buffer="",$.cellspecs=[],$.cell_open=!1,$.active_rowspans=[0],$.column_visits=0,$.current_row=[],$.linenum=-1},c.$$arity=-3),t.def(z,"$starts_with_delimiter?",y=function(t){var e=this;return t["$start_with?"](e.delimiter)},y.$$arity=1),t.def(z,"$match_delimiter",m=function(t){var e=this;return e.delimiter_re.$match(t)},m.$$arity=1),t.def(z,"$skip_past_delimiter",g=function(t){var e=this;return e.buffer=""+e.buffer+t.$pre_match()+e.delimiter,t.$post_match()},g.$$arity=1),t.def(z,"$skip_past_escaped_delimiter",v=function(t){var e=this;return e.buffer=""+e.buffer+t.$pre_match().$chop()+e.delimiter,t.$post_match()},v.$$arity=1),t.def(z,"$buffer_has_unclosed_quotes?",b=function(t){var e,r,n=this,i=s,a=s;return null==t&&(t=s),!!d((i=function(){return d(t)?$(n.$buffer(),t).$strip():n.$buffer().$strip()}())["$start_with?"]('"'))&&(d(d(e=d(r=a=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?d(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:a["$!"]())},b.$$arity=-1),t.def(z,"$take_cellspec",w=function(){var t=this;return t.cellspecs.$shift()},w.$$arity=0),t.def(z,"$push_cellspec",k=function(t){var e,r=this;return null==t&&(t=h([],{})),r.cellspecs["$<<"](d(e=t)?e:h([],{})),s},k.$$arity=-1),t.def(z,"$keep_cell_open",E=function(){var t=this;return t.cell_open=!0,s},E.$$arity=0),t.def(z,"$mark_cell_closed",x=function(){var t=this;return t.cell_open=!1,s},x.$$arity=0),t.def(z,"$cell_open?",A=function(){var t=this;return t.cell_open},A.$$arity=0),t.def(z,"$cell_closed?",O=function(){var t=this;return t.cell_open["$!"]()},O.$$arity=0),t.def(z,"$close_open_cell",S=function(t){var e=this;return null==t&&(t=h([],{})),e.$push_cellspec(t),d(e["$cell_open?"]())&&e.$close_cell(!0),e.$advance(),s},S.$$arity=-1),t.def(z,"$close_cell",M=function(r){try{var i,a,o=this,c=s,f=s,y=s,m=s;return null==r&&(r=!1),o.format["$=="]("psv")?(c=!0,f=o.buffer,o.buffer="",d(y=o.$take_cellspec())?m=d(i=y.$delete("repeatcol"))?i:1:(o.$warn("asciidoctor: ERROR: "+o.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),y=h([],{}),m=1)):(c=!1,f=o.buffer.$strip(),o.buffer="",y=s,m=1,o.format["$=="]("csv")&&d(d(i=f["$empty?"]()["$!"]())?f["$include?"]('"'):i)&&(d(d(i=f["$start_with?"]('"'))?f["$end_with?"]('"'):i)&&(f=f["$[]"](p(1,-1,!0)).$strip()),f=f.$squeeze('"'))),_(1,"upto",[m],(a=function(i){var o,p,g,v,b=a.$$s||this,w=s,k=s,E=s,x=s;return null==b.colcount&&(b.colcount=s),null==b.table&&(b.table=s),null==b.current_row&&(b.current_row=s),null==b.last_cursor&&(b.last_cursor=s),null==b.reader&&(b.reader=s),null==b.column_visits&&(b.column_visits=s),null==b.linenum&&(b.linenum=s),null==i&&(i=s),b.colcount["$=="](-1)?(b.table.$columns()["$<<"](w=u(l(B,"Table"),"Column").$new(b.table,n($(b.table.$columns().$size(),i),1))),d(d(o=d(p=y)?y["$key?"]("colspan"):p)?e(k=n(y["$[]"]("colspan").$to_i(),1),0):o)&&(E=b.table.$columns().$size(),_(k,"times",[],(g=function(t){var e=g.$$s||this;return null==e.table&&(e.table=s),null==t&&(t=s),e.table.$columns()["$<<"](u(l(B,"Table"),"Column").$new(e.table,$(E,t)))},g.$$s=b,g.$$arity=1,g)))):d(w=b.table.$columns()["$[]"](b.current_row.$size()))||(b.$warn("asciidoctor: ERROR: "+b.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(s)),x=u(l(B,"Table"),"Cell").$new(w,f,y,h(["cursor","strip_text"],{cursor:b.last_cursor,strip_text:c})),b.last_cursor=b.reader.$cursor(),d(d(o=x.$rowspan()["$!"]())?o:x.$rowspan()["$=="](1))||b.$activate_rowspan(x.$rowspan(),d(o=x.$colspan())?o:1),b.column_visits=$(b.column_visits,d(o=x.$colspan())?o:1),b.current_row["$<<"](x),d(d(o=b["$end_of_row?"]())?d(p=d(v=b.colcount["$!="](-1))?v:e(b.linenum,0))?p:d(v=r)?i["$=="](m):v:o)?b.$close_row():s},a.$$s=o,a.$$arity=1,a)),o.cell_open=!1,s}catch(e){if(e===t.returner)return e.$v;throw e}},M.$$arity=-1),t.def(z,"$close_row",T=function(){var e,r=this,i=s;return r.table.$rows().$body()["$<<"](r.current_row),r.colcount["$=="](-1)&&(r.colcount=r.column_visits),r.column_visits=0,r.current_row=[],r.active_rowspans.$shift(),d(e=r.active_rowspans["$[]"](0))?e:(i=[0,0],_(r.active_rowspans,"[]=",t.to_a(i)),i[n(i.length,1)]),s},T.$$arity=0),t.def(z,"$activate_rowspan",R=function(e,r){var i,a=this;return _(1..$upto(n(e,1)),"each",[],(i=function(e){var a,o=i.$$s||this,u=s;return null==o.active_rowspans&&(o.active_rowspans=s),null==e&&(e=s),u=[e,$(d(a=o.active_rowspans["$[]"](e))?a:0,r)],_(o.active_rowspans,"[]=",t.to_a(u)),u[n(u.length,1)]},i.$$s=a,i.$$arity=1,i)),s},R.$$arity=2),t.def(z,"$end_of_row?",I=function(){var t,e=this;return d(t=e.colcount["$=="](-1))?t:e.$effective_column_visits()["$=="](e.colcount)},I.$$arity=0),t.def(z,"$effective_column_visits",C=function(){var t=this;return $(t.column_visits,t.active_rowspans["$[]"](0))},C.$$arity=0),t.def(z,"$advance",N=function(){var t=this;return t.linenum=$(t.linenum,1)},N.$$arity=0),s&&"advance"}(l(v,"Table"),null,v)}(o[0],o)},Opal.modules["asciidoctor/converter/composite"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.klass,s=t.send,u=t.truthy,l=t.hash2;return t.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),function(r,c){var f,_=f=$(r,"Asciidoctor"),d=(_.$$proto,[_].concat(c));!function(r,i,a){function $(){}var c,f,_,d,h=$=o(r,i,"CompositeConverter",$),p=h.$$proto;[h].concat(a);return p.converter_map=p.converters=n,h.$attr_reader("converters"),t.def(h,"$initialize",c=function(t,e){var r,i,a=this,$=arguments.length,o=$-1;o<0&&(o=0),i=new Array(o);for(var c=1;c<$;c++)i[c-1]=arguments[c];return a.backend=t,s(a.converters=i.$flatten().$compact(),"each",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),u(t["$respond_to?"]("composed"))?t.$composed(e):n},r.$$s=a,r.$$arity=1,r)),a.converter_map=l([],{})},c.$$arity=-2),t.def(h,"$convert",f=function(t,e,r){var i,a=this;return null==e&&(e=n),null==r&&(r=l([],{})),e=u(i=e)?i:t.$node_name(),a.$converter_for(e).$convert(t,e,r)},f.$$arity=-2),t.alias(h,"convert_with_options","convert"),t.def(h,"$converter_for",_=function(r){var i,a=this,$=n;return u(i=a.converter_map["$[]"](r))?i:($=[r,a.$find_converter(r)],s(a.converter_map,"[]=",t.to_a($)),$[e($.length,1)])},_.$$arity=1),t.def(h,"$find_converter",d=function(e){try{var r,i=this;return s(i.converters,"each",[],(r=function(i){r.$$s||this;return null==i&&(i=n),u(i["$handles?"](e))?void t.ret(i):n},r.$$s=i,r.$$arity=1,r)),i.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},d.$$arity=1),n&&"find_converter"}(a(d,"Converter"),i(a(d,"Converter"),"Base"),d)}(r[0],r)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=(t.top,[]),u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.module),_=t.klass,d=t.send,h=t.hash2,p=t.truthy,y=t.range;return t.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$include?","$gsub","$extname","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$sectnum","$<","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$read_svg_contents","$alt","$image_uri","$encode_quotes","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$attributes","$catalog","$xreftext","$target","$join","$map","$chop","$read_contents","$sub","$match","$length"]),function(s,m){var g,v=g=f(s,"Asciidoctor"),b=(v.$$proto,[v].concat(m));!function(s,f,m){function g(){}var v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot=g=_(s,f,"Html5Converter",g),st=ot.$$proto,ut=[ot].concat(m),lt=u;return st.xml_mode=st.void_element_slash=st.stylesheets=st.xrefstyle=u,lt=[["","",!1]],d(t.const_set(ut[0],"QUOTE_TAGS",h(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a(lt)),lt[e(lt.length,1)],t.const_set(ut[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(ut[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(ut[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/),t.def(ot,"$initialize",v=function(t,e){var r=this;return null==e&&(e=h([],{})),r.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=function(){return p(r.xml_mode)?"/":u}(),r.stylesheets=c(ut,"Stylesheets").$instance()},v.$$arity=-2),t.def(ot,"$document",b=function(e){var a,$,o,s,f,_=this,m=u,g=u,v=u,b=u,w=u,k=u,E=u,x=u,A=u,O=u,S=u,M=u,T=u,R=u,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u,L=u,F=u,j=u;return m=_.void_element_slash,g="<br"+m+">",p((v=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),b=""+v+"//cdnjs.cloudflare.com/ajax/libs",w=p(a=r(e.$safe(),l(c(ut,"SafeMode"),"SECURE")))?a:e["$attr?"]("linkcss"),k=["<!DOCTYPE html>"],E=function(){return p(e["$attr?"]("nolang"))?u:' lang="'+e.$attr("lang","en")+'"'}(),k["$<<"]("<html"+function(){return p(_.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':u}()+E+">"),k["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+m+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+m+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+m+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+m+">"),p(e["$attr?"]("app-name"))&&k["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+m+">"),p(e["$attr?"]("description"))&&k["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+m+">"),p(e["$attr?"]("keywords"))&&k["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+m+">"),p(e["$attr?"]("authors"))&&k["$<<"]('<meta name="author" content="'+function(){return p((x=e.$attr("authors"))["$include?"]("<"))?x.$gsub(c(ut,"XmlSanitizeRx"),""):x}()+'"'+m+">"),p(e["$attr?"]("copyright"))&&k["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+m+">"),p(e["$attr?"]("favicon"))&&(p((A=e.$attr("favicon"))["$empty?"]())?(a=["favicon.ico","image/x-icon"],A=a[0],O=a[1],a):O=function(){return(S=l("::","File").$extname(A))["$=="](".ico")?"image/x-icon":"image/"+S["$[]"](y(1,-1,!1))}(),k["$<<"]('<link rel="shortcut icon" type="'+O+'" href="'+A+'">')),k["$<<"]("<title>"+e.$doctitle(h(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),p(c(ut,"DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(p(M=e.$attr("webfonts"))&&k["$<<"]('<link rel="stylesheet" href="'+v+"//fonts.googleapis.com/css?family="+function(){return p(M["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":M}()+'"'+m+">"),p(w)?k["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(c(ut,"DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+m+">"):k["$<<"](_.stylesheets.$embed_primary_stylesheet())):p(e["$attr?"]("stylesheet"))&&(p(w)?k["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+m+">"):k["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),h(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),p(e["$attr?"]("icons","font"))&&(p(e["$attr?"]("iconfont-remote"))?k["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",""+b+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+m+">"):(T=""+e.$attr("iconfont-name","font-awesome")+".css",k["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(T,e.$attr("stylesdir",""),!1)+'"'+m+">"))),R=I=e.$attr("source-highlighter"),"coderay"["$==="](R)?e.$attr("coderay-css","class")["$=="]("class")&&(p(w)?k["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(_.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+m+">"):k["$<<"](_.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](R)&&e.$attr("pygments-css","class")["$=="]("class")&&(C=e.$attr("pygments-style"),p(w)?k["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(_.stylesheets.$pygments_stylesheet_name(C),e.$attr("stylesdir",""),!1)+'"'+m+">"):k["$<<"](_.stylesheets.$embed_pygments_stylesheet(C))),p((N=e.$docinfo())["$empty?"]())||k["$<<"](N),k["$<<"]("</head>"),z=[],p(e.$id())&&z["$<<"]('id="'+e.$id()+'"'),p(p(a=p($=p(o=P=e["$sections?"]())?e["$attr?"]("toc-class"):o)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)?z["$<<"]('class="'+e.$doctype()+" "+e.$attr("toc-class")+" toc-"+e.$attr("toc-position","header")+'"'):z["$<<"]('class="'+e.$doctype()+'"'),p(e["$attr?"]("max-width"))&&z["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),k["$<<"]("<body "+n(z," ")+">"),p(e.$noheader())||(k["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(k["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),p(p(a=p($=P)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&k["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+_.$outline(e)+"\n</div>"),k["$<<"]("<h2>"+e.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+e.$attr("manname")+" - "+e.$attr("manpurpose")+"</p>\n</div>")):(p(e["$has_header?"]())&&(p(e.$notitle())||k["$<<"]("<h1>"+e.$header().$title()+"</h1>"),B=[],p(e["$attr?"]("author"))&&(B["$<<"]('<span id="author" class="author">'+e.$attr("author")+"</span>"+g),p(e["$attr?"]("email"))&&B["$<<"]('<span id="email" class="email">'+e.$sub_macros(e.$attr("email"))+"</span>"+g),
p(i(q=e.$attr("authorcount").$to_i(),1))&&d(t.Range.$new(2,q,!1),"each",[],(s=function(t){s.$$s||this;return null==t&&(t=u),B["$<<"]('<span id="author'+t+'" class="author">'+e.$attr("author_"+t)+"</span>"+g),p(e["$attr?"]("email_"+t))?B["$<<"]('<span id="email'+t+'" class="email">'+e.$sub_macros(e.$attr("email_"+t))+"</span>"+g):u},s.$$s=_,s.$$arity=1,s))),p(e["$attr?"]("revnumber"))&&B["$<<"]('<span id="revnumber">'+(p(a=e.$attr("version-label"))?a:"").$downcase()+" "+e.$attr("revnumber")+function(){return p(e["$attr?"]("revdate"))?",":""}()+"</span>"),p(e["$attr?"]("revdate"))&&B["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),p(e["$attr?"]("revremark"))&&B["$<<"](""+g+'<span id="revremark">'+e.$attr("revremark")+"</span>"),p(B["$empty?"]())||(k["$<<"]('<div class="details">'),k.$concat(B),k["$<<"]("</div>"))),p(p(a=p($=P)?e["$attr?"]("toc"):$)?e["$attr?"]("toc-placement","auto"):a)&&k["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+_.$outline(e)+"\n</div>")),k["$<<"]("</div>")),k["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),p(p(a=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():a)&&(k["$<<"]('<div id="footnotes">\n<hr'+m+">"),d(e.$footnotes(),"each",[],(f=function(t){f.$$s||this;return null==t&&(t=u),k["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},f.$$s=_,f.$$arity=1,f)),k["$<<"]("</div>")),p(e.$nofooter())||(k["$<<"]('<div id="footer">'),k["$<<"]('<div id="footer-text">'),p(e["$attr?"]("revnumber"))&&k["$<<"](""+e.$attr("version-label")+" "+e.$attr("revnumber")+g),p(p(a=e["$attr?"]("last-update-label"))?e["$attr?"]("reproducible")["$!"]():a)&&k["$<<"](""+e.$attr("last-update-label")+" "+e.$attr("docdatetime")),k["$<<"]("</div>"),k["$<<"]("</div>")),p((N=e.$docinfo("footer"))["$empty?"]())||k["$<<"](N),R=I,"highlightjs"["$==="](R)||"highlight.js"["$==="](R)?(D=e.$attr("highlightjsdir",""+b+"/highlight.js/9.12.0"),k["$<<"]('<link rel="stylesheet" href="'+D+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+m+">"),k["$<<"]('<script src="'+D+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](R)&&(L=e.$attr("prettifydir",""+b+"/prettify/r298"),k["$<<"]('<link rel="stylesheet" href="'+L+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+m+">"),k["$<<"]('<script src="'+L+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),p(e["$attr?"]("stem"))&&(F=e.$attr("eqnums","none"),p(F["$empty?"]())&&(F="AMS"),j=' equationNumbers: { autoNumber: "'+F+'" } ',k["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+c(ut,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+c(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+c(ut,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+j+'}\n});\n</script>\n<script src="'+b+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),k["$<<"]("</body>"),k["$<<"]("</html>"),n(k,c(ut,"LF"))},b.$$arity=1),t.def(ot,"$embedded",w=function(t){var e,r,i,a,$=this,o=u,s=u,l=u;return o=[],t.$doctype()["$=="]("manpage")?(p(t.$notitle())||(s=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),o["$<<"]("<h1"+s+">"+t.$doctitle()+" Manual Page</h1>")),o["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):p(p(e=t["$has_header?"]())?t.$notitle()["$!"]():e)&&(s=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),o["$<<"]("<h1"+s+">"+t.$header().$title()+"</h1>")),p(p(e=p(r=p(i=t["$sections?"]())?t["$attr?"]("toc"):i)?(l=t.$attr("toc-placement"))["$!="]("macro"):r)?l["$!="]("preamble"):e)&&o["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+$.$outline(t)+"\n</div>"),o["$<<"](t.$content()),p(p(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(o["$<<"]('<div id="footnotes">\n<hr'+$.void_element_slash+">"),d(t.$footnotes(),"each",[],(a=function(t){a.$$s||this;return null==t&&(t=u),o["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},a.$$s=$,a.$$arity=1,a)),o["$<<"]("</div>")),n(o,c(ut,"LF"))},w.$$arity=1),t.def(ot,"$outline",k=function(t,e){var r,i,o=this,s=u,l=u,f=u,_=u;return null==e&&(e=h([],{})),p(t["$sections?"]())?(s=p(r=e["$[]"]("sectnumlevels"))?r:t.$document().$attr("sectnumlevels",3).$to_i(),l=p(r=e["$[]"]("toclevels"))?r:t.$document().$attr("toclevels",2).$to_i(),f=t.$sections(),_=['<ul class="sectlevel'+f["$[]"](0).$level()+'">'],d(f,"each",[],(i=function(t){var e,r=i.$$s||this,n=u,o=u,c=u;return null==t&&(t=u),n=t.$level(),o=p(t.$caption())?t.$captioned_title():p(p(e=t.$numbered())?a(n,s):e)?""+t.$sectnum()+" "+t.$title():t.$title(),p(p(e=$(n,l))?c=r.$outline(t,h(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:s})):e)?(_["$<<"]('<li><a href="#'+t.$id()+'">'+o+"</a>"),_["$<<"](c),_["$<<"]("</li>")):_["$<<"]('<li><a href="#'+t.$id()+'">'+o+"</a></li>")},i.$$s=o,i.$$arity=1,i)),_["$<<"]("</ul>"),n(_,c(ut,"LF"))):u},k.$$arity=-2),t.def(ot,"$section",E=function(t){var e,r,n=u,i=u,$=u,s=u,l=u,c=u,f=u,_=u,d=u,h=u,y=u;return n=t.$level(),i="h"+o(n,1),$=s=l=c=u,p(t.$id())&&($=' id="'+(f=t.$id())+'"',p((_=t.$document())["$attr?"]("sectanchors"))&&(s='<a class="anchor" href="#'+f+'"></a>'),p(_["$attr?"]("sectlinks"))&&(l='<a class="link" href="#'+f+'">',c="</a>")),n["$=="](0)?"<h1"+$+' class="sect0">'+s+l+t.$title()+c+"</h1>\n"+t.$content():(d=function(){return p(h=t.$role())?' class="sect'+n+" "+h+'"':' class="sect'+n+'"'}(),y=function(){return p(p(e=p(r=t.$numbered())?t.$caption()["$!"]():r)?a(n,t.$document().$attr("sectnumlevels",3).$to_i()):e)?""+t.$sectnum()+" ":u}(),"<div"+d+">\n<"+i+$+">"+s+l+y+t.$captioned_title()+c+"</"+i+">\n"+function(){return n["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content()}()+"\n</div>")},E.$$arity=1),t.def(ot,"$admonition",x=function(t){var e,r=this,n=u,i=u,a=u,$=u,o=u;return n=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),i=t.$attr("name"),a=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),$=p(t.$document()["$attr?"]("icons"))?p(p(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+i+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(i)+'" alt="'+t.$attr("textlabel")+'"'+r.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+n+' class="admonitionblock '+i+(p(e=o=t.$role())?" "+o:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+a+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},x.$$arity=1),t.def(ot,"$audio",A=function(t){var e,r=this,i=u,a=u,$=u,o=u,s=u,l=u,c=u,f=u;return i=r.xml_mode,a=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),$=["audioblock",t.$role()].$compact(),o=' class="'+n($," ")+'"',s=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),l=t.$attr("start",u,!1),c=t.$attr("end",u,!1),f=function(){return p(p(e=l)?e:c)?"#t="+l+function(){return p(c)?",":u}()+c:u}(),"<div"+a+o+">\n"+s+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+f+'"'+function(){return p(t["$option?"]("autoplay"))?r.$append_boolean_attribute("autoplay",i):u}()+function(){return p(t["$option?"]("nocontrols"))?u:r.$append_boolean_attribute("controls",i)}()+function(){return p(t["$option?"]("loop"))?r.$append_boolean_attribute("loop",i):u}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},A.$$arity=1),t.def(ot,"$colist",O=function(t){var e,r,i,a=this,$=u,s=u,l=u,f=u,_=u,h=u;return $=[],s=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),l=["colist",t.$style(),t.$role()].$compact(),f=' class="'+n(l," ")+'"',$["$<<"]("<div"+s+f+">"),p(t["$title?"]())&&$["$<<"]('<div class="title">'+t.$title()+"</div>"),p(t.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],_=e[0],h=e[1],e,d(t.$items(),"each",[],(r=function(e){var n=r.$$s||this,i=u;return null==n.void_element_slash&&(n.void_element_slash=u),null==e&&(e=u),h=o(h,1),i=p(_)?'<i class="conum" data-value="'+h+'"></i><b>'+h+"</b>":'<img src="'+t.$icon_uri("callouts/"+h)+'" alt="'+h+'"'+n.void_element_slash+">",$["$<<"]("<tr>\n<td>"+i+"</td>\n<td>"+e.$text()+function(){return p(e["$blocks?"]())?o(c(ut,"LF"),e.$content()):""}()+"</td>\n</tr>")},r.$$s=a,r.$$arity=1,r)),$["$<<"]("</table>")):($["$<<"]("<ol>"),d(t.$items(),"each",[],(i=function(t){i.$$s||this;return null==t&&(t=u),$["$<<"]("<li>\n<p>"+t.$text()+"</p>"+function(){return p(t["$blocks?"]())?o(c(ut,"LF"),t.$content()):""}()+"\n</li>")},i.$$s=a,i.$$arity=1,i)),$["$<<"]("</ol>")),$["$<<"]("</div>"),n($,c(ut,"LF"))},O.$$arity=1),t.def(ot,"$dlist",S=function(e){var r,i,a,$,o=this,s=u,l=u,f=u,_=u,h=u,y=u,m=u,g=u;return s=[],l=function(){return p(e.$id())?' id="'+e.$id()+'"':u}(),f=function(){return _=e.$style(),"qanda"["$==="](_)?["qlist","qanda",e.$role()]:"horizontal"["$==="](_)?["hdlist",e.$role()]:["dlist",e.$style(),e.$role()]}().$compact(),h=' class="'+n(f," ")+'"',s["$<<"]("<div"+l+h+">"),p(e["$title?"]())&&s["$<<"]('<div class="title">'+e.$title()+"</div>"),_=e.$style(),"qanda"["$==="](_)?(s["$<<"]("<ol>"),d(e.$items(),"each",[],(r=function(e,n){var i,a=r.$$s||this;return null==e&&(e=u),null==n&&(n=u),s["$<<"]("<li>"),d([].concat(t.to_a(e)),"each",[],(i=function(t){i.$$s||this;return null==t&&(t=u),s["$<<"]("<p><em>"+t.$text()+"</em></p>")},i.$$s=a,i.$$arity=1,i)),p(n)&&(p(n["$text?"]())&&s["$<<"]("<p>"+n.$text()+"</p>"),p(n["$blocks?"]())&&s["$<<"](n.$content())),s["$<<"]("</li>")},r.$$s=o,r.$$arity=2,r)),s["$<<"]("</ol>")):"horizontal"["$==="](_)?(y=o.void_element_slash,s["$<<"]("<table>"),p(p(i=e["$attr?"]("labelwidth"))?i:e["$attr?"]("itemwidth"))&&(s["$<<"]("<colgroup>"),m=function(){return p(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':u}(),s["$<<"]("<col"+m+y+">"),m=function(){return p(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':u}(),s["$<<"]("<col"+m+y+">"),s["$<<"]("</colgroup>")),d(e.$items(),"each",[],(a=function(r,n){var i,$=a.$$s||this,o=u,l=u;return null==r&&(r=u),null==n&&(n=u),s["$<<"]("<tr>"),s["$<<"]('<td class="hdlist1'+function(){return p(e["$option?"]("strong"))?" strong":u}()+'">'),o=[].concat(t.to_a(r)),l=o["$[]"](-1),d(o,"each",[],(i=function(t){i.$$s||this;return null==t&&(t=u),s["$<<"](t.$text()),p(t["$!="](l))?s["$<<"]("<br"+y+">"):u},i.$$s=$,i.$$arity=1,i)),s["$<<"]("</td>"),s["$<<"]('<td class="hdlist2">'),p(n)&&(p(n["$text?"]())&&s["$<<"]("<p>"+n.$text()+"</p>"),p(n["$blocks?"]())&&s["$<<"](n.$content())),s["$<<"]("</td>"),s["$<<"]("</tr>")},a.$$s=o,a.$$arity=2,a)),s["$<<"]("</table>")):(s["$<<"]("<dl>"),g=function(){return p(e.$style())?u:' class="hdlist1"'}(),d(e.$items(),"each",[],($=function(e,r){var n,i=$.$$s||this;return null==e&&(e=u),null==r&&(r=u),d([].concat(t.to_a(e)),"each",[],(n=function(t){n.$$s||this;return null==t&&(t=u),s["$<<"]("<dt"+g+">"+t.$text()+"</dt>")},n.$$s=i,n.$$arity=1,n)),p(r)?(s["$<<"]("<dd>"),p(r["$text?"]())&&s["$<<"]("<p>"+r.$text()+"</p>"),p(r["$blocks?"]())&&s["$<<"](r.$content()),s["$<<"]("</dd>")):u},$.$$s=o,$.$$arity=2,$)),s["$<<"]("</dl>")),s["$<<"]("</div>"),n(s,c(ut,"LF"))},S.$$arity=1),t.def(ot,"$example",M=function(t){var e,r=u,n=u,i=u;return r=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),n=function(){return p(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u}(),"<div"+r+' class="exampleblock'+(p(e=i=t.$role())?" "+i:e)+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},M.$$arity=1),t.def(ot,"$floating_title",T=function(t){var e=u,r=u,i=u;return e="h"+o(t.$level(),1),r=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),i=[t.$style(),t.$role()].$compact(),"<"+e+r+' class="'+n(i," ")+'">'+t.$title()+"</"+e+">"},T.$$arity=1),t.def(ot,"$image",R=function(t){var e,r,i,a=this,o=u,s=u,f=u,_=u,d=u,h=u,y=u,m=u,g=u,v=u,b=u,w=u,k=u,E=u,x=u;return o=t.$attr("target"),s=function(){return p(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':u}(),f=function(){return p(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':u}(),p(p(e=p(r=p(i=t["$attr?"]("format","svg",!1))?i:o["$include?"](".svg"))?$(t.$document().$safe(),l(c(ut,"SafeMode"),"SECURE")):r)?p(r=_=t["$option?"]("inline"))?r:d=t["$option?"]("interactive"):e)&&(p(_)?h=p(e=a.$read_svg_contents(t,o))?e:'<span class="alt">'+t.$alt()+"</span>":p(d)&&(y=function(){return p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_quotes(t.$alt())+'"'+s+f+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>"}(),h='<object type="image/svg+xml" data="'+t.$image_uri(o)+'"'+s+f+">"+y+"</object>")),h=p(e=h)?e:'<img src="'+t.$image_uri(o)+'" alt="'+a.$encode_quotes(t.$alt())+'"'+s+f+a.void_element_slash+">",p(t["$attr?"]("link"))&&(p(t["$attr?"]("window"))&&(m=' target="'+(g=t.$attr("window"))+'"'+function(){return p(p(e=g["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':""}()),h='<a class="image" href="'+t.$attr("link")+'"'+m+">"+h+"</a>"),v=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),b=["imageblock",t.$role()].$compact(),w=' class="'+n(b," ")+'"',k=[],p(t["$attr?"]("align"))&&k["$<<"]("text-align: "+t.$attr("align")),p(t["$attr?"]("float"))&&k["$<<"]("float: "+t.$attr("float")),E=function(){return p(k["$empty?"]())?u:' style="'+n(k,";")+'"'}(),x=function(){return p(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":u}(),"<div"+v+w+E+'>\n<div class="content">\n'+h+"\n</div>"+x+"\n</div>"},R.$$arity=1),t.def(ot,"$listing",I=function(t){var e,r=u,n=u,i=u,a=u,$=u,o=u,s=u,l=u,c=u,f=u;return r=p(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(i=p(n=t.$attr("language",u,!1))?' data-lang="'+n+'"':u,a=t.$document().$attr("source-highlighter"),"coderay"["$==="](a)?$=' class="CodeRay highlight'+function(){return p(r)?" nowrap":u}()+'"':"pygments"["$==="](a)?$=' class="pygments highlight'+function(){return p(r)?" nowrap":u}()+'"':"highlightjs"["$==="](a)||"highlight.js"["$==="](a)?($=' class="highlightjs highlight'+function(){return p(r)?" nowrap":u}()+'"',p(n)&&(i=' class="language-'+n+' hljs"'+i)):"prettify"["$==="](a)?($=' class="prettyprint highlight'+function(){return p(r)?" nowrap":u}()+function(){return p(t["$attr?"]("linenums",u,!1))?" linenums":u}()+'"',p(n)&&(i=' class="language-'+n+'"'+i)):"html-pipeline"["$==="](a)?($=function(){return p(n)?' lang="'+n+'"':u}(),i=u):($=' class="highlight'+function(){return p(r)?" nowrap":u}()+'"',p(n)&&(i=' class="language-'+n+'"'+i)),o="<pre"+$+"><code"+i+">",s="</code></pre>"):(o="<pre"+function(){return p(r)?' class="nowrap"':u}()+">",s="</pre>"),l=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),c=function(){return p(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u}(),"<div"+l+' class="listingblock'+(p(e=f=t.$role())?" "+f:e)+'">\n'+c+'<div class="content">\n'+o+t.$content()+s+"\n</div>\n</div>"},I.$$arity=1),t.def(ot,"$literal",C=function(t){var e,r=u,n=u,i=u,a=u;return r=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),n=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),i=p(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(p(e=a=t.$role())?" "+a:e)+'">\n'+n+'<div class="content">\n<pre'+function(){return p(i)?' class="nowrap"':u}()+">"+t.$content()+"</pre>\n</div>\n</div>"},C.$$arity=1),t.def(ot,"$stem",N=function(e){var r,n,i=u,a=u,$=u,o=u,s=u,l=u;return i=function(){return p(e.$id())?' id="'+e.$id()+'"':u}(),a=function(){return p(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":u}(),n=c(ut,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),r=t.to_ary(n),$=null==r[0]?u:r[0],o=null==r[1]?u:r[1],n,p(p(r=(s=e.$content())["$start_with?"]($))?s["$end_with?"](o):r)||(s=""+$+s+o),"<div"+i+' class="stemblock'+(p(r=l=e.$role())?" "+l:r)+'">\n'+a+'<div class="content">\n'+s+"\n</div>\n</div>"},N.$$arity=1),t.def(ot,"$olist",z=function(t){var e,r=this,i=u,a=u,$=u,o=u,s=u,l=u,f=u,_=u;return i=[],a=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),$=["olist",t.$style(),t.$role()].$compact(),o=' class="'+n($," ")+'"',i["$<<"]("<div"+a+o+">"),p(t["$title?"]())&&i["$<<"]('<div class="title">'+t.$title()+"</div>"),s=function(){return p(l=t.$list_marker_keyword())?' type="'+l+'"':u}(),f=function(){return p(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':u}(),_=function(){return p(t["$option?"]("reversed"))?r.$append_boolean_attribute("reversed",r.xml_mode):u}(),i["$<<"]('<ol class="'+t.$style()+'"'+s+f+_+">"),d(t.$items(),"each",[],(e=function(t){e.$$s||this;return null==t&&(t=u),i["$<<"]("<li>"),i["$<<"]("<p>"+t.$text()+"</p>"),p(t["$blocks?"]())&&i["$<<"](t.$content()),i["$<<"]("</li>")},e.$$s=r,e.$$arity=1,e)),i["$<<"]("</ol>"),i["$<<"]("</div>"),n(i,c(ut,"LF"))},z.$$arity=1),t.def(ot,"$open",P=function(t){var e,r,n,a=this,$=u,o=u,s=u,l=u;return($=t.$style())["$=="]("abstract")?p((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(a.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(o=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),s=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),"<div"+o+' class="quoteblock abstract'+(p(e=l=t.$role())?" "+l:e)+'">\n'+s+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):p((e=$["$=="]("partintro"))?p(r=p(n=i(t.$level(),0))?n:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(a.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(o=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),s=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),"<div"+o+' class="openblock'+function(){return p(p(e=$)?$["$!="]("open"):e)?" "+$:""}()+(p(e=l=t.$role())?" "+l:e)+'">\n'+s+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},P.$$arity=1),t.def(ot,"$page_break",B=function(t){return'<div style="page-break-after: always;"></div>'},B.$$arity=1),t.def(ot,"$paragraph",q=function(t){var e=u,r=u;return e=function(){return p(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"'}(),r=function(){return p(t.$id())?'id="'+t.$id()+'" '+e:e}(),p(t["$title?"]())?"<div "+r+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+r+">\n<p>"+t.$content()+"</p>\n</div>"},q.$$arity=1),t.def(ot,"$preamble",D=function(t){var e,r,n=this,i=u,a=u;return a=p(p(e=p(r=(i=t.$document())["$attr?"]("toc-placement","preamble"))?i["$sections?"]():r)?i["$attr?"]("toc"):e)?'\n<div id="toc" class="'+i.$attr("toc-class","toc")+'">\n<div id="toctitle">'+i.$attr("toc-title")+"</div>\n"+n.$outline(i)+"\n</div>":u,'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+a+"\n</div>"},D.$$arity=1),t.def(ot,"$quote",L=function(t){var e,r=this,i=u,a=u,$=u,o=u,s=u,l=u,c=u,f=u,_=u;return i=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),a=["quoteblock",t.$role()].$compact(),$=' class="'+n(a," ")+'"',o=function(){return p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u}(),s=function(){return p(t["$attr?"]("attribution"))?t.$attr("attribution"):u}(),l=function(){return p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u}(),p(p(e=s)?e:l)?(c=function(){return p(l)?"<cite>"+l+"</cite>":u}(),f=function(){return p(s)?"&#8212; "+s+function(){return p(l)?"<br"+r.void_element_slash+">\n":u}():u}(),_='\n<div class="attribution">\n'+f+c+"\n</div>"):_=u,"<div"+i+$+">"+o+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+_+"\n</div>"},L.$$arity=1),t.def(ot,"$thematic_break",F=function(t){var e=this;return"<hr"+e.void_element_slash+">"},F.$$arity=1),t.def(ot,"$sidebar",j=function(t){var e,r=u,n=u,i=u;return r=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),n=function(){return p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u}(),"<div"+r+' class="sidebarblock'+(p(e=i=t.$role())?" "+i:e)+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},j.$$arity=1),t.def(ot,"$table",U=function(t){var e,r,a,$,o=this,s=u,l=u,f=u,_=u,h=u,y=u,m=u,g=u,v=u;return s=[],l=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),f=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],_=[],p(p(e=t["$option?"]("autowidth"))?t["$attr?"]("width",u,!1)["$!"]():e)||(p(t["$attr?"]("tablepcwidth",100))?f["$<<"]("spread"):_["$<<"]("width: "+t.$attr("tablepcwidth")+"%;")),p(h=t.$role())&&f["$<<"](h),y=' class="'+n(f," ")+'"',p(t["$attr?"]("float"))&&_["$<<"]("float: "+t.$attr("float")+";"),m=function(){return p(_["$empty?"]())?u:' style="'+n(_," ")+'"'}(),s["$<<"]("<table"+l+y+m+">"),p(t["$title?"]())&&s["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),p(i(t.$attr("rowcount"),0))&&(g=o.void_element_slash,s["$<<"]("<colgroup>"),p(t["$option?"]("autowidth"))?(v="<col"+g+">",d(t.$columns().$size(),"times",[],(r=function(){r.$$s||this;return s["$<<"](v)},r.$$s=o,r.$$arity=0,r))):d(t.$columns(),"each",[],(a=function(t){a.$$s||this;return null==t&&(t=u),s["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+g+">")},a.$$s=o,a.$$arity=1,a)),s["$<<"]("</colgroup>"),d(t.$rows().$by_section(),"each",[],($=function(e,r){var i,a=$.$$s||this;return null==e&&(e=u),null==r&&(r=u),p(r["$empty?"]())?u:(s["$<<"]("<t"+e+">"),d(r,"each",[],(i=function(r){var a,$=i.$$s||this;return null==r&&(r=u),s["$<<"]("<tr>"),d(r,"each",[],(a=function(r){var i,$=(a.$$s||this,u),o=u,l=u,c=u,f=u,_=u,d=u;return null==r&&(r=u),e["$=="]("head")?$=r.$text():(o=r.$style(),$="asciidoc"["$==="](o)?"<div>"+r.$content()+"</div>":"verse"["$==="](o)?'<div class="verse">'+r.$text()+"</div>":"literal"["$==="](o)?'<div class="literal"><pre>'+r.$text()+"</pre></div>":function(){return p(($=r.$content())["$empty?"]())?"":'<p class="tableblock">'+n($,'</p>\n<p class="tableblock">')+"</p>"}()),l=function(){return p(p(i=e["$=="]("head"))?i:r.$style()["$=="]("header"))?"th":"td"}(),c=' class="tableblock halign-'+r.$attr("halign")+" valign-"+r.$attr("valign")+'"',f=function(){return p(r.$colspan())?' colspan="'+r.$colspan()+'"':u}(),_=function(){return p(r.$rowspan())?' rowspan="'+r.$rowspan()+'"':u}(),d=function(){return p(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':u}(),s["$<<"]("<"+l+c+f+_+d+">"+$+"</"+l+">")},a.$$s=$,a.$$arity=1,a)),s["$<<"]("</tr>")},i.$$s=a,i.$$arity=1,i)),s["$<<"]("</t"+e+">"))},$.$$s=o,$.$$arity=2,$))),s["$<<"]("</table>"),n(s,c(ut,"LF"))},U.$$arity=1),t.def(ot,"$toc",H=function(t){var e,r,n=this,i=u,a=u,$=u,o=u,s=u,l=u;return p(p(e=p(r=(i=t.$document())["$attr?"]("toc-placement","macro"))?i["$sections?"]():r)?i["$attr?"]("toc"):e)?(p(t.$id())?(a=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(a=' id="toc"',$=' id="toctitle"'),o=function(){return p(t["$title?"]())?t.$title():i.$attr("toc-title")}(),s=function(){return p(t["$attr?"]("levels"))?t.$attr("levels").$to_i():u}(),l=function(){return p(t["$role?"]())?t.$role():i.$attr("toc-class","toc")}(),"<div"+a+' class="'+l+'">\n<div'+$+' class="title">'+o+"</div>\n"+n.$outline(i,h(["toclevels"],{toclevels:s}))+"\n</div>"):"<!-- toc disabled -->"},H.$$arity=1),t.def(ot,"$ulist",G=function(t){var e,r=this,i=u,a=u,$=u,o=u,s=u,l=u,f=u;return i=[],a=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),$=["ulist",t.$style(),t.$role()].$compact(),o=u,s=u,p(l=t["$option?"]("checklist"))?($.$unshift($.$shift(),"checklist"),f=' class="checklist"',p(t["$option?"]("interactive"))?p(r.xml_mode)?(o='<input type="checkbox" data-item-complete="1" checked="checked"/> ',s='<input type="checkbox" data-item-complete="0"/> '):(o='<input type="checkbox" data-item-complete="1" checked> ',s='<input type="checkbox" data-item-complete="0"> '):p(t.$document()["$attr?"]("icons","font"))?(o='<i class="fa fa-check-square-o"></i> ',s='<i class="fa fa-square-o"></i> '):(o="&#10003; ",s="&#10063; ")):f=function(){return p(t.$style())?' class="'+t.$style()+'"':u}(),i["$<<"]("<div"+a+' class="'+n($," ")+'">'),p(t["$title?"]())&&i["$<<"]('<div class="title">'+t.$title()+"</div>"),i["$<<"]("<ul"+f+">"),d(t.$items(),"each",[],(e=function(t){var r;e.$$s||this;return null==t&&(t=u),i["$<<"]("<li>"),p(p(r=l)?t["$attr?"]("checkbox"):r)?i["$<<"]("<p>"+function(){return p(t["$attr?"]("checked"))?o:s}()+t.$text()+"</p>"):i["$<<"]("<p>"+t.$text()+"</p>"),p(t["$blocks?"]())&&i["$<<"](t.$content()),i["$<<"]("</li>")},e.$$s=r,e.$$arity=1,e)),i["$<<"]("</ul>"),i["$<<"]("</div>"),n(i,c(ut,"LF"))},G.$$arity=1),t.def(ot,"$verse",Y=function(t){var e,r=this,i=u,a=u,$=u,o=u,s=u,l=u,c=u,f=u,_=u;return i=function(){return p(t.$id())?' id="'+t.$id()+'"':u}(),a=["verseblock",t.$role()].$compact(),$=' class="'+n(a," ")+'"',o=function(){return p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u}(),s=function(){return p(t["$attr?"]("attribution"))?t.$attr("attribution"):u}(),l=function(){return p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u}(),p(p(e=s)?e:l)?(c=function(){return p(l)?"<cite>"+l+"</cite>":u}(),f=function(){return p(s)?"&#8212; "+s+function(){return p(l)?"<br"+r.void_element_slash+">\n":u}():u}(),_='\n<div class="attribution">\n'+f+c+"\n</div>"):_=u,"<div"+i+$+">"+o+'\n<pre class="content">'+t.$content()+"</pre>"+_+"\n</div>"},Y.$$arity=1),t.def(ot,"$video",W=function(e){var r,i,a=this,$=u,o=u,s=u,l=u,c=u,f=u,_=u,d=u,h=u,y=u,m=u,g=u,v=u,b=u,w=u,k=u,E=u,x=u,A=u,O=u,S=u,M=u,T=u,R=u,I=u,C=u,N=u,z=u,P=u,B=u,q=u,D=u;return $=a.xml_mode,o=function(){return p(e.$id())?' id="'+e.$id()+'"':u}(),s=["videoblock",e.$role()].$compact(),l=' class="'+n(s," ")+'"',c=function(){return p(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":u}(),f=function(){return p(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':u}(),_=function(){return p(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':u}(),function(){return d=e.$attr("poster"),"vimeo"["$==="](d)?(p((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h=""+h+":"),y=function(){return p(e["$attr?"]("start",u,!1))?"#at="+e.$attr("start"):u}(),m="?",g=function(){return p(e["$option?"]("autoplay"))?""+m+"autoplay=1":u}(),p(g)&&(m="&amp;"),v=function(){return p(e["$option?"]("loop"))?""+m+"loop=1":u}(),"<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+f+_+' src="'+h+"//player.vimeo.com/video/"+e.$attr("target")+y+g+v+'" frameborder="0"'+function(){return p(e["$option?"]("nofullscreen"))?u:a.$append_boolean_attribute("allowfullscreen",$)}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](d)?(p((h=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(h=""+h+":"),b=function(){return p(e["$option?"]("related"))?1:0}(),w=function(){return p(e["$attr?"]("start",u,!1))?"&amp;start="+e.$attr("start"):u}(),k=function(){return p(e["$attr?"]("end",u,!1))?"&amp;end="+e.$attr("end"):u}(),g=function(){return p(e["$option?"]("autoplay"))?"&amp;autoplay=1":u}(),v=function(){return p(e["$option?"]("loop"))?"&amp;loop=1":u}(),E=function(){return p(e["$option?"]("nocontrols"))?"&amp;controls=0":u}(),p(e["$option?"]("nofullscreen"))?(x="&amp;fs=0",A=u):(x=u,A=a.$append_boolean_attribute("allowfullscreen",$)),O=function(){return p(e["$option?"]("modest"))?"&amp;modestbranding=1":u}(),S=function(){return p(e["$attr?"]("theme",u,!1))?"&amp;theme="+e.$attr("theme"):u}(),M=function(){return p(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):u}(),i=e.$attr("target").$split("/",2),r=t.to_ary(i),T=null==r[0]?u:r[0],R=null==r[1]?u:r[1],i,p(R=p(r=R)?r:e.$attr("list",u,!1))?I="&amp;list="+R:(i=T.$split(",",2),r=t.to_ary(i),T=null==r[0]?u:r[0],C=null==r[1]?u:r[1],i,I=p(C=p(r=C)?r:e.$attr("playlist",u,!1))?"&amp;playlist="+C:function(){return p(v)?"&amp;playlist="+T:u}()),"<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+f+_+' src="'+h+"//www.youtube.com/embed/"+T+"?rel="+b+w+k+g+v+E+I+x+O+S+M+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"):(N=function(){return p((z=e.$attr("poster",u,!1))["$nil_or_empty?"]())?u:' poster="'+e.$media_uri(z)+'"'}(),P=function(){return p((z=e.$attr("preload",u,!1))["$nil_or_empty?"]())?u:' preload="'+z+'"'}(),B=e.$attr("start",u,!1),q=e.$attr("end",u,!1),D=function(){return p(p(r=B)?r:q)?"#t="+B+function(){return p(q)?",":u}()+q:u}(),"<div"+o+l+">"+c+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+D+'"'+f+_+N+function(){return p(e["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",$):u}()+function(){return p(e["$option?"]("nocontrols"))?u:a.$append_boolean_attribute("controls",$)}()+function(){return p(e["$option?"]("loop"))?a.$append_boolean_attribute("loop",$):u}()+P+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},W.$$arity=1),t.def(ot,"$inline_anchor",K=function(t){var e,r,n=this,i=u,a=u,$=u,o=u,s=u,l=u,f=u;return function(){return i=t.$type(),"xref"["$==="](i)?(p(p(e=a=t.$text())?e:a=t.$attributes()["$[]"]("path"))||(a=p(c(ut,"AbstractNode")["$==="]($=t.$document().$catalog()["$[]"]("refs")["$[]"](o=t.$attributes()["$[]"]("refid"))))&&p(e=$.$xreftext(n.xrefstyle=p(r=n.xrefstyle)?r:t.$document().$attributes()["$[]"]("xrefstyle")))?e:"["+o+"]"),'<a href="'+t.$target()+'">'+a+"</a>"):"ref"["$==="](i)?'<a id="'+t.$id()+'"></a>':"link"["$==="](i)?(s=function(){return p(t.$id())?[' id="'+t.$id()+'"']:[]}(),p(l=t.$role())&&s["$<<"](' class="'+l+'"'),p(t["$attr?"]("title",u,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),p(t["$attr?"]("window",u,!1))&&s["$<<"](' target="'+(f=t.$attr("window"))+'"'+function(){return p(p(e=f["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':""}()),'<a href="'+t.$target()+'"'+s.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](i)?'<a id="'+t.$id()+'"></a>'+t.$text():n.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())}()},K.$$arity=1),t.def(ot,"$inline_break",X=function(t){var e=this;return""+t.$text()+"<br"+e.void_element_slash+">"},X.$$arity=1),t.def(ot,"$inline_button",V=function(t){return'<b class="button">'+t.$text()+"</b>"},V.$$arity=1),t.def(ot,"$inline_callout",J=function(t){var e=this,r=u;return p(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":p(t.$document()["$attr?"]("icons"))?(r=t.$icon_uri("callouts/"+t.$text()),'<img src="'+r+'" alt="'+t.$text()+'"'+e.void_element_slash+">"):'<b class="conum">('+t.$text()+")</b>"},J.$$arity=1),t.def(ot,"$inline_footnote",Z=function(t){var e=u,r=u;return p(e=t.$attr("index",u,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":(r=function(){return p(t.$id())?' id="_footnote_'+t.$id()+'"':u}(),'<sup class="footnote"'+r+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"):t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":u},Z.$$arity=1),t.def(ot,"$inline_image",Q=function(t){var e,r,n,i,a,o,s=this,f=u,_=u,y=u,m=u,g=u,v=u,b=u,w=u,k=u,E=u,x=u,A=u,O=u;return p((e=(f=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(f=t.$type())["$=="]("icon"))?(_="fa fa-"+t.$target(),d(h(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(r=function(e,n){
r.$$s||this;return null==e&&(e=u),null==n&&(n=u),p(t["$attr?"](e))?_=""+_+" "+n+t.$attr(e):u},r.$$s=s,r.$$arity=2,r)),y=function(){return p(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':u}(),m='<i class="'+_+'"'+y+"></i>"):p((e=f["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():f["$=="]("icon"))?m="["+t.$alt()+"]":(g=t.$target(),v=d(["width","height","title"],"map",[],(n=function(e){n.$$s||this;return null==e&&(e=u),p(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':u},n.$$s=s,n.$$arity=1,n)).$join(),p(p(e=p(i=p(a=f["$!="]("icon"))?p(o=t["$attr?"]("format","svg",!1))?o:g["$include?"](".svg"):a)?$(t.$document().$safe(),l(c(ut,"SafeMode"),"SECURE")):i)?p(i=b=t["$option?"]("inline"))?i:w=t["$option?"]("interactive"):e)&&(p(b)?m=p(e=s.$read_svg_contents(t,g))?e:'<span class="alt">'+t.$alt()+"</span>":p(w)&&(k=function(){return p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+s.$encode_quotes(t.$alt())+'"'+v+s.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>"}(),m='<object type="image/svg+xml" data="'+t.$image_uri(g)+'"'+v+">"+k+"</object>")),m=p(e=m)?e:'<img src="'+function(){return f["$=="]("icon")?t.$icon_uri(g):t.$image_uri(g)}()+'" alt="'+s.$encode_quotes(t.$alt())+'"'+v+s.void_element_slash+">"),p(t["$attr?"]("link"))&&(p(t["$attr?"]("window"))&&(E=' target="'+(x=t.$attr("window"))+'"'+function(){return p(p(e=x["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':""}()),m='<a class="image" href="'+t.$attr("link")+'"'+E+">"+m+"</a>"),_=function(){return p(A=t.$role())?""+f+" "+A:f}(),O=function(){return p(t["$attr?"]("float"))?' style="float: '+t.$attr("float")+'"':u}(),'<span class="'+_+'"'+O+">"+m+"</span>"},Q.$$arity=1),t.def(ot,"$inline_indexterm",tt=function(t){return t.$type()["$=="]("visible")?t.$text():""},tt.$$arity=1),t.def(ot,"$inline_kbd",et=function(t){var e=u;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+n(e,"</kbd>+<kbd>")+"</kbd></span>"},et.$$arity=1),t.def(ot,"$inline_menu",rt=function(t){var e=u,r=u,i=u,a=u,$=u;return e=function(){return p(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> '}(),r="</b>"+e+'<b class="submenu">',i=t.$attr("menu"),p((a=t.$attr("submenus"))["$empty?"]())?p($=t.$attr("menuitem",u,!1))?'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+i+"</b>":'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="submenu">'+n(a,r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},rt.$$arity=1),t.def(ot,"$inline_quoted",nt=function(e){var r,n,i=u,a=u,$=u,o=u;return n=c(ut,"QUOTE_TAGS")["$[]"](e.$type()),r=t.to_ary(n),i=null==r[0]?u:r[0],a=null==r[1]?u:r[1],$=null==r[2]?u:r[2],n,o=p(e.$role())?p($)?""+i.$chop()+' class="'+e.$role()+'">'+e.$text()+a:'<span class="'+e.$role()+'">'+i+e.$text()+a+"</span>":""+i+e.$text()+a,p(e.$id())?'<a id="'+e.$id()+'"></a>'+o:o},nt.$$arity=1),t.def(ot,"$append_boolean_attribute",it=function(t,e){return p(e)?" "+t+'="'+t+'"':" "+t},it.$$arity=2),t.def(ot,"$encode_quotes",at=function(t){return p(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},at.$$arity=1),t.def(ot,"$read_svg_contents",$t=function(e,r){var n,i=this,a=u,$=u,o=u;return p(a=e.$read_contents(r,h(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(p(a["$start_with?"]("<svg"))||(a=a.$sub(c(ut,"SvgPreambleRx"),"")),$=o=u,d(["width","height"],"each",[],(n=function(t){n.$$s||this;return null==t&&(t=u),p(e["$attr?"](t))?(p(o)||(o=($=a.$match(c(ut,"SvgStartTagRx"))["$[]"](0)).$gsub(c(ut,"DimensionAttributeRx"),"")),o=""+o.$chop()+" "+t+'="'+e.$attr(t)+'px">'):u},n.$$s=i,n.$$arity=1,n)),p(o)&&(a=""+o+a["$[]"](t.Range.$new($.$length(),-1,!1)))),a},$t.$$arity=2),u&&"read_svg_contents"}(c(b,"Converter"),l(c(b,"Converter"),"BuiltIn"),b)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=(t.top,[]),$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.module),l=t.klass,c=t.truthy,f=t.hash2,_=t.send,d=t.hash;return t.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$==","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$>","$key?","$attributes","$special","$context","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$to_s","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$!","$resolve_regexp","$match?","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$private","$join","$map","$capitalize","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$const_defined?"]),function(a,h){var p,y=p=u(a,"Asciidoctor"),m=(y.$$proto,[y].concat(h));!function(a,h){var p,y=p=u(a,"Extensions"),m=(y.$$proto,[y].concat(h));!function(i,a,u){function d(){}var h,p,y,m,g,v,b,w,k,E=d=l(i,a,"Processor",d),x=E.$$proto,A=[E].concat(u);return x.config=$,function(r,n){var i,a,o,s=(r.$$proto,[r].concat(n));return t.def(r,"$config",i=function(){var t,e=this;return null==e.config&&(e.config=$),e.config=c(t=e.config)?t:f([],{})},i.$$arity=0),t.def(r,"$option",a=function(r,n){var i=this,a=$;return a=[r,n],_(i.$config(),"[]=",t.to_a(a)),a[e(a.length,1)]},a.$$arity=2),t.def(r,"$use_dsl",o=function(){var e=this;return c(e.$name()["$nil_or_empty?"]())?c((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$include(e.$const_get("DSL")):$:c((t.Module.$$nesting=s,e.$constants()).$grep("DSL"))?e.$extend(e.$const_get("DSL")):$},o.$$arity=0),t.alias(r,"extend_dsl","use_dsl"),t.alias(r,"include_dsl","use_dsl")}(t.get_singleton_class(E),A),E.$attr_reader("config"),t.def(E,"$initialize",h=function(t){var e=this;return null==t&&(t=f([],{})),e.config=e.$class().$config().$merge(t)},h.$$arity=-1),t.def(E,"$update_config",p=function(t){var e=this;return e.config.$update(t)},p.$$arity=1),t.def(E,"$process",y=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},y.$$arity=-1),t.def(E,"$create_section",m=function(i,a,o,u){var l,d,h=$,p=$,y=$,m=$,g=$,v=$,b=$,w=$,k=$;return null==u&&(u=f([],{})),h=i.$document(),l=[h.$doctype(),c(d=u["$[]"]("level"))?d:r(i.$level(),1)],p=l[0],y=l[1],l,c(m=o.$delete("style"))?c((l=m["$=="]("abstract"))?p["$=="]("book"):m["$=="]("abstract"))?(l=["chapter",1],g=l[0],y=l[1],l):(l=[m,!0],g=l[0],v=l[1],l,y["$=="](0)&&(y=1)):p["$=="]("book")?g=function(){return y["$=="](0)?"part":y["$=="](1)?"chapter":"section"}():c((l=p["$=="]("manpage"))?a.$casecmp("synopsis")["$=="](0):p["$=="]("manpage"))?(l=["synopsis",!0],g=l[0],v=l[1],l):g="section",b=s(A,"Section").$new(i,y,!1),l=[a,g],b["$title="](l[0]),b["$sectname="](l[1]),l,c(v)?(w=[!0],_(b,"special=",t.to_a(w)),w[e(w.length,1)],c(u.$fetch("numbered",m["$=="]("appendix")))&&(w=[!0],_(b,"numbered=",t.to_a(w)),w[e(w.length,1)])):c(u.$fetch("numbered",c(l=n(y,0))?h.$attributes()["$key?"]("sectnums"):l))&&(w=[function(){return!c(b.$special())||((l=i.$context()["$=="]("section"))?i.$numbered():i.$context()["$=="]("section"))}()],_(b,"numbered=",t.to_a(w)),w[e(w.length,1)]),(k=o.$delete("id"))["$=="](!1)||(w=[(w=["id",c(l=k)?l:function(){return c(h.$attributes()["$key?"]("sectids"))?s(A,"Section").$generate_id(b.$title(),h):$}()],_(o,"[]=",t.to_a(w)),w[e(w.length,1)])],_(b,"id=",t.to_a(w)),w[e(w.length,1)]),b.$update_attributes(o),b},m.$$arity=-4),t.def(E,"$create_block",g=function(t,e,r,n,i){return null==i&&(i=f([],{})),s(A,"Block").$new(t,e,f(["source","attributes"],{source:r,attributes:n}).$merge(i))},g.$$arity=-5),t.def(E,"$create_image_block",v=function(r,n,i){var a,u=this,l=$,d=$;return null==i&&(i=f([],{})),c(l=n["$[]"]("target"))||u.$raise(o("::","ArgumentError"),"Unable to create an image block, target attribute is required"),c(a=n["$[]"]("alt"))?a:(d=["alt",(d=["default-alt",s(A,"Helpers").$basename(l,!0).$tr("_-"," ")],_(n,"[]=",t.to_a(d)),d[e(d.length,1)])],_(n,"[]=",t.to_a(d)),d[e(d.length,1)]),u.$create_block(r,"image",$,n,i)},v.$$arity=-3),t.def(E,"$create_inline",b=function(t,e,r,n){return null==n&&(n=f([],{})),s(A,"Inline").$new(t,e,r,n)},b.$$arity=-4),t.def(E,"$parse_content",w=function(t,e,r){var n,i,a=$,o=$;for(null==r&&(r=$),a=function(){return c(s(A,"Reader")["$==="](e))?e:s(A,"Reader").$new(e)}();c(c(n=c(i=o=s(A,"Parser").$next_block(a,t,function(){return c(r)?r.$dup():f([],{})}()))?t["$<<"](o):i)?n:a["$has_more_lines?"]()););return t},w.$$arity=-3),_([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(k=function(e,r,n){var i,a=k.$$s||this;return null==e&&(e=$),null==r&&(r=$),null==n&&(n=$),_(a,"define_method",[e],(i=function(e){var a,$=i.$$s||this,o=arguments.length,s=o-0;s<0&&(s=0),a=new Array(s);for(var u=0;u<o;u++)a[u-0]=arguments[u];return a.$unshift(a.$shift(),n),_($,"send",[r].concat(t.to_a(a)))},i.$$s=a,i.$$arity=-1,i))},k.$$s=E,k.$$arity=3,k))}(m[0],null,m),function(r,n){var i,a,s,l,f=i=u(r,"ProcessorDsl");f.$$proto,[f].concat(n);t.def(f,"$option",a=function(r,n){var i=this,a=$;return a=[r,n],_(i.$config(),"[]=",t.to_a(a)),a[e(a.length,1)]},a.$$arity=2),t.def(f,"$process",s=function(e){var r,n,i=this,a=s.$$p,u=a||$;null==i.process_block&&(i.process_block=$);var l=arguments.length,f=l-0;f<0&&(f=0),n=new Array(f);for(var d=0;d<l;d++)n[d-0]=arguments[d];return a&&(s.$$p=null),u!==$?(c(n["$empty?"]())||i.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),i.process_block=u):c((r=i.process_block,null!=r&&r!==$?"instance-variable":$))?_(i.process_block,"call",t.to_a(n)):i.$raise(o("::","NotImplementedError"))},s.$$arity=-1),t.def(f,"$process_block_given?",l=function(){var t,e=this;return t=e.process_block,null!=t&&t!==$?"instance-variable":$},l.$$arity=0)}(m[0],m),function(r,i){var a,l,d,h,p,y,m=a=u(r,"SyntaxDsl"),g=(m.$$proto,[m].concat(i));m.$include(s(g,"ProcessorDsl")),t.def(m,"$named",l=function(t){var e=this;return c(s(g,"Processor")["$==="](e))?e.name=t:e.$option("name",t)},l.$$arity=1),t.alias(m,"match_name","named"),t.def(m,"$content_model",d=function(t){var e=this;return e.$option("content_model",t)},d.$$arity=1),t.alias(m,"parse_content_as","content_model"),t.alias(m,"parses_content_as","content_model"),t.def(m,"$positional_attrs",h=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$option("pos_attrs",e.$flatten())},h.$$arity=-1),t.alias(m,"name_attributes","positional_attrs"),t.alias(m,"name_positional_attributes","positional_attrs"),t.def(m,"$default_attrs",p=function(t){var e=this;return e.$option("default_attrs",t)},p.$$arity=1),t.def(m,"$resolves_attributes",y=function(r){var i,a,s,u,l=this,d=$,h=$,p=$,y=arguments.length,m=y-0;m<0&&(m=0),u=new Array(m);for(var g=0;g<y;g++)u[g-0]=arguments[g];return c(n(u.$size(),1))||c((u=u.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(u=[u]),function(){return d=u,(!0)["$==="](d)?(l.$option("pos_attrs",[]),l.$option("default_attrs",f([],{}))):o("::","Array")["$==="](d)?(i=[[],f([],{})],h=i[0],p=i[1],i,_(u,"each",[],(a=function(r){var n,i,o=(a.$$s||this,$),s=$,u=$,l=$;return null==r&&(r=$),c((r=r.$to_s())["$include?"]("="))?(i=r.$split("=",2),n=t.to_ary(i),o=null==n[0]?$:n[0],s=null==n[1]?$:n[1],i,c(o["$include?"](":"))&&(i=o.$split(":",2),n=t.to_ary(i),u=null==n[0]?$:n[0],o=null==n[1]?$:n[1],i,u=function(){return u["$=="]("@")?h.$size():u.$to_i()}(),l=[u,o],_(h,"[]=",t.to_a(l)),l[e(l.length,1)]),l=[o,s],_(p,"[]=",t.to_a(l)),l[e(l.length,1)]):c(r["$include?"](":"))?(i=r.$split(":",2),n=t.to_ary(i),u=null==n[0]?$:n[0],o=null==n[1]?$:n[1],i,u=function(){return u["$=="]("@")?h.$size():u.$to_i()}(),l=[u,o],_(h,"[]=",t.to_a(l)),l[e(l.length,1)]):h["$<<"](r)},a.$$s=l,a.$$arity=1,a)),l.$option("pos_attrs",h.$compact()),l.$option("default_attrs",p)):o("::","Hash")["$==="](d)?(i=[[],f([],{})],h=i[0],p=i[1],i,_(u,"each",[],(s=function(r,n){var i,a,o=(s.$$s||this,$),u=$,l=$;return null==r&&(r=$),null==n&&(n=$),c((o=r.$to_s())["$include?"](":"))&&(a=o.$split(":",2),i=t.to_ary(a),u=null==i[0]?$:i[0],o=null==i[1]?$:i[1],a,u=function(){return u["$=="]("@")?h.$size():u.$to_i()}(),l=[u,o],_(h,"[]=",t.to_a(l)),l[e(l.length,1)]),c(n)?(l=[o,n],_(p,"[]=",t.to_a(l)),l[e(l.length,1)]):$},s.$$s=l,s.$$arity=2,s)),l.$option("pos_attrs",h.$compact()),l.$option("default_attrs",p)):l.$raise(o("::","ArgumentError"),"unsupported attributes specification for macro: "+u.$inspect())}()},y.$$arity=-1),t.alias(m,"resolve_attributes","resolves_attributes")}(m[0],m),function(e,r,n){function i(){}var a,s=i=l(e,r,"Preprocessor",i);s.$$proto,[s].concat(n);return t.def(s,"$process",a=function(t,e){var r=this;return r.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},a.$$arity=2),$&&"process"}(m[0],s(m,"Processor"),m),t.const_set(s(m,"Preprocessor"),"DSL",s(m,"ProcessorDsl")),function(e,r,n){function i(){}var a,s=i=l(e,r,"TreeProcessor",i);s.$$proto,[s].concat(n);return t.def(s,"$process",a=function(t){var e=this;return e.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},a.$$arity=1),$&&"process"}(m[0],s(m,"Processor"),m),t.const_set(s(m,"TreeProcessor"),"DSL",s(m,"ProcessorDsl")),t.const_set(m[0],"Treeprocessor",s(m,"TreeProcessor")),function(e,r,n){function i(){}var a,s=i=l(e,r,"Postprocessor",i);s.$$proto,[s].concat(n);return t.def(s,"$process",a=function(t,e){var r=this;return r.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},a.$$arity=2),$&&"process"}(m[0],s(m,"Processor"),m),t.const_set(s(m,"Postprocessor"),"DSL",s(m,"ProcessorDsl")),function(e,r,n){function i(){}var a,s,u=i=l(e,r,"IncludeProcessor",i);u.$$proto,[u].concat(n);return t.def(u,"$process",a=function(t,e,r,n){var i=this;return i.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},a.$$arity=4),t.def(u,"$handles?",s=function(t){return!0},s.$$arity=1),$&&"handles?"}(m[0],s(m,"Processor"),m),function(e,r){var n,i,a=n=u(e,"IncludeProcessorDsl"),l=(a.$$proto,[a].concat(r));a.$include(s(l,"ProcessorDsl")),t.def(a,"$handles?",i=function(t){var e,r,n=this,a=i.$$p,s=a||$;null==n.handles_block&&(n.handles_block=$);var u=arguments.length,l=u-0;l<0&&(l=0),r=new Array(l);for(var f=0;f<u;f++)r[f-0]=arguments[f];return a&&(i.$$p=null),s!==$?(c(r["$empty?"]())||n.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),n.handles_block=s):!c((e=n.handles_block,null!=e&&e!==$?"instance-variable":$))||n.handles_block.$call(r["$[]"](0))},i.$$arity=-1)}(m[0],m),t.const_set(s(m,"IncludeProcessor"),"DSL",s(m,"IncludeProcessorDsl")),function(r,n,i){function a(){}var s,u,d=a=l(r,n,"DocinfoProcessor",a),h=d.$$proto;[d].concat(i);return h.config=$,d.$attr_accessor("location"),t.def(d,"$initialize",s=function(r){var n,i=this,a=s.$$p,o=$;return null==r&&(r=f([],{})),a&&(s.$$p=null),_(i,t.find_super_dispatcher(i,"initialize",s,!1),[r],null),c(n=i.config["$[]"]("location"))?n:(o=["location","head"],_(i.config,"[]=",t.to_a(o)),o[e(o.length,1)])},s.$$arity=-1),t.def(d,"$process",u=function(t){var e=this;return e.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},u.$$arity=1),$&&"process"}(m[0],s(m,"Processor"),m),function(e,r){var n,i,a=n=u(e,"DocinfoProcessorDsl"),$=(a.$$proto,[a].concat(r));a.$include(s($,"ProcessorDsl")),t.def(a,"$at_location",i=function(t){var e=this;return e.$option("location",t)},i.$$arity=1)}(m[0],m),t.const_set(s(m,"DocinfoProcessor"),"DSL",s(m,"DocinfoProcessorDsl")),function(r,n,i){function a(){}var s,u,d=a=l(r,n,"BlockProcessor",a),h=d.$$proto;[d].concat(i);return h.config=$,d.$attr_accessor("name"),t.def(d,"$initialize",s=function(r,n){var i,a=this,u=s.$$p,l=$,d=$;return null==r&&(r=$),null==n&&(n=f([],{})),u&&(s.$$p=null),_(a,t.find_super_dispatcher(a,"initialize",s,!1),[n],null),a.name=c(i=r)?i:a.config["$[]"]("name"),l=a.config["$[]"]("contexts"),o("::","NilClass")["$==="](l)?c(i=a.config["$[]"]("contexts"))?i:(d=["contexts",["open","paragraph"].$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):o("::","Symbol")["$==="](l)?(d=["contexts",[a.config["$[]"]("contexts")].$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]):(d=["contexts",a.config["$[]"]("contexts").$to_set()],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)]),c(i=a.config["$[]"]("content_model"))?i:(d=["content_model","compound"],_(a.config,"[]=",t.to_a(d)),d[e(d.length,1)])},s.$$arity=-1),t.def(d,"$process",u=function(t,e,r){var n=this;return n.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},u.$$arity=3),$&&"process"}(m[0],s(m,"Processor"),m),function(e,r){var n,i,a=n=u(e,"BlockProcessorDsl"),$=(a.$$proto,[a].concat(r));a.$include(s($,"SyntaxDsl")),t.def(a,"$contexts",i=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$option("contexts",e.$flatten().$to_set())},i.$$arity=-1),t.alias(a,"on_contexts","contexts"),t.alias(a,"on_context","contexts"),t.alias(a,"bound_to","contexts")}(m[0],m),t.const_set(s(m,"BlockProcessor"),"DSL",s(m,"BlockProcessorDsl")),function(r,n,i){function a(){}var s,u,d=a=l(r,n,"MacroProcessor",a),h=d.$$proto;[d].concat(i);return h.config=$,d.$attr_accessor("name"),t.def(d,"$initialize",s=function(r,n){var i,a=this,o=s.$$p,u=$;return null==r&&(r=$),null==n&&(n=f([],{})),o&&(s.$$p=null),_(a,t.find_super_dispatcher(a,"initialize",s,!1),[n],null),a.name=c(i=r)?i:a.config["$[]"]("name"),c(i=a.config["$[]"]("content_model"))?i:(u=["content_model","attributes"],_(a.config,"[]=",t.to_a(u)),u[e(u.length,1)])},s.$$arity=-1),t.def(d,"$process",u=function(t,e,r){var n=this;return n.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},u.$$arity=3),$&&"process"}(m[0],s(m,"Processor"),m),function(e,r){var n,i,a=n=u(e,"MacroProcessorDsl"),o=(a.$$proto,[a].concat(r));a.$include(s(o,"SyntaxDsl")),t.def(a,"$resolves_attributes",i=function(e){var r,n,a=this,o=i.$$p,s=$,u=$,l=$,f=arguments.length,d=f-0;d<0&&(d=0),n=new Array(d);for(var h=0;h<f;h++)n[h-0]=arguments[h];for(o&&(i.$$p=null),u=0,l=arguments.length,s=new Array(l);u<l;u++)s[u]=arguments[u];return c((r=n.$size()["$=="](1))?n["$[]"](0)["$!"]():n.$size()["$=="](1))?(a.$option("content_model","text"),$):(_(a,t.find_super_dispatcher(a,"resolves_attributes",i,!1),s,o),a.$option("content_model","attributes"))},i.$$arity=-1),t.alias(a,"resolve_attributes","resolves_attributes")}(m[0],m),function(t,e,r){function n(){}var i=n=l(t,e,"BlockMacroProcessor",n);i.$$proto,[i].concat(r);return $}(m[0],s(m,"MacroProcessor"),m),t.const_set(s(m,"BlockMacroProcessor"),"DSL",s(m,"MacroProcessorDsl")),function(r,n,i){function a(){}var u,d,h=a=l(r,n,"InlineMacroProcessor",a),p=h.$$proto,y=[h].concat(i);return p.config=p.name=$,t.class_variable_set(a,"@@rx_cache",f([],{})),t.def(h,"$regexp",u=function(){var r,n=this,i=$;return c(r=n.config["$[]"]("regexp"))?r:(i=["regexp",n.$resolve_regexp(n.name.$to_s(),n.config["$[]"]("format"))],_(n.config,"[]=",t.to_a(i)),i[e(i.length,1)])},u.$$arity=0),t.def(h,"$resolve_regexp",d=function(r,n){var i,u,l=this,f=$;return c(s(y,"MacroNameRx")["$match?"](r))||l.$raise(o("::","ArgumentError"),"invalid name for inline macro: "+r),c(i=(null==(u=a.$$cvars["@@rx_cache"])?$:u)["$[]"]([r,n]))?i:(f=[[r,n],new RegExp("\\\\?"+r+":"+function(){return n["$=="]("short")?"(){0}":"(\\S+?)"}()+"\\[(|.*?[^\\\\])\\]")],_(null==(u=a.$$cvars["@@rx_cache"])?$:u,"[]=",t.to_a(f)),f[e(f.length,1)])},d.$$arity=2),$&&"resolve_regexp"}(m[0],s(m,"MacroProcessor"),m),function(e,r){var n,i,a,$=n=u(e,"InlineMacroProcessorDsl"),o=($.$$proto,[$].concat(r));$.$include(s(o,"MacroProcessorDsl")),t.def($,"$with_format",i=function(t){var e=this;return e.$option("format",t)},i.$$arity=1),t.alias($,"using_format","with_format"),t.def($,"$matches",a=function(t){var e=this;return e.$option("regexp",t)},a.$$arity=1),t.alias($,"match","matches"),t.alias($,"matching","matches")}(m[0],m),t.const_set(s(m,"InlineMacroProcessor"),"DSL",s(m,"InlineMacroProcessorDsl")),function(e,r,n){function i(){}var a,o=i=l(e,r,"Extension",i);o.$$proto,[o].concat(n);return o.$attr_reader("kind"),o.$attr_reader("config"),o.$attr_reader("instance"),t.def(o,"$initialize",a=function(t,e,r){var n=this;return n.kind=t,n.instance=e,n.config=r},a.$$arity=3),$&&"initialize"}(m[0],null,m),function(e,r,n){function i(){}var a,o=i=l(e,r,"ProcessorExtension",i);o.$$proto,[o].concat(n);return o.$attr_reader("process_method"),t.def(o,"$initialize",a=function(e,r,n){var i,o=this,s=a.$$p;return null==n&&(n=$),s&&(a.$$p=null),_(o,t.find_super_dispatcher(o,"initialize",a,!1),[e,r,r.$config()],null),o.process_method=c(i=n)?i:r.$method("process")},a.$$arity=-3),$&&"initialize"}(m[0],s(m,"Extension"),m),function(e,r,n){function i(){}var a,u=i=l(e,r,"Group",i),c=(u.$$proto,[u].concat(n));return function(e,r){var n,i=(e.$$proto,[e].concat(r));return t.def(e,"$register",n=function(t){var e=this;return null==t&&(t=$),s(i,"Extensions").$register(t,e)},n.$$arity=-1),$&&"register"}(t.get_singleton_class(u),c),t.def(u,"$activate",a=function(t){var e=this;return e.$raise(o("::","NotImplementedError"))},a.$$arity=1),$&&"activate"}(m[0],null,m),function(a,u,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V=h=l(a,u,"Registry",h),J=V.$$proto,Z=[V].concat(d);return J.groups=J.preprocessor_extensions=J.tree_processor_extensions=J.postprocessor_extensions=J.include_processor_extensions=J.docinfo_processor_extensions=J.block_extensions=J.block_macro_extensions=J.inline_macro_extensions=$,V.$attr_reader("document"),V.$attr_reader("groups"),t.def(V,"$initialize",p=function(t){var e=this;return null==t&&(t=f([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=$,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=$,e.document=$},p.$$arity=-1),t.def(V,"$activate",y=function(t){var e,n=this;return n.document=t,_(r(s(Z,"Extensions").$groups().$values(),n.groups.$values()),"each",[],(e=function(t){var r=e.$$s||this,n=$;return null==t&&(t=$),function(){return n=t,o("::","Proc")["$==="](n)?function(){return n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?_(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):$}():o("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r)}()},e.$$s=n,e.$$arity=1,e)),n},y.$$arity=1),t.def(V,"$preprocessor",m=function(t){var e,r=this,n=m.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(m.$$p=null),_(r,"add_document_processor",["preprocessor",e],i.$to_proc())},m.$$arity=-1),t.def(V,"$preprocessors?",g=function(){var t=this;return t.preprocessor_extensions["$!"]()["$!"]()},g.$$arity=0),t.def(V,"$preprocessors",v=function(){var t=this;return t.preprocessor_extensions},v.$$arity=0),t.def(V,"$tree_processor",b=function(t){var e,r=this,n=b.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(b.$$p=null),_(r,"add_document_processor",["tree_processor",e],i.$to_proc())},b.$$arity=-1),t.def(V,"$tree_processors?",w=function(){var t=this;return t.tree_processor_extensions["$!"]()["$!"]()},w.$$arity=0),t.def(V,"$tree_processors",k=function(){var t=this;return t.tree_processor_extensions},k.$$arity=0),t.alias(V,"treeprocessor","tree_processor"),t.alias(V,"treeprocessors?","tree_processors?"),t.alias(V,"treeprocessors","tree_processors"),t.def(V,"$postprocessor",E=function(t){var e,r=this,n=E.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(E.$$p=null),_(r,"add_document_processor",["postprocessor",e],i.$to_proc())},E.$$arity=-1),t.def(V,"$postprocessors?",x=function(){var t=this;return t.postprocessor_extensions["$!"]()["$!"]()},x.$$arity=0),t.def(V,"$postprocessors",A=function(){var t=this;return t.postprocessor_extensions},A.$$arity=0),t.def(V,"$include_processor",O=function(t){var e,r=this,n=O.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(O.$$p=null),_(r,"add_document_processor",["include_processor",e],i.$to_proc())},O.$$arity=-1),t.def(V,"$include_processors?",S=function(){var t=this;return t.include_processor_extensions["$!"]()["$!"]()},S.$$arity=0),t.def(V,"$include_processors",M=function(){var t=this;return t.include_processor_extensions},M.$$arity=0),t.def(V,"$docinfo_processor",T=function(t){var e,r=this,n=T.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(T.$$p=null),_(r,"add_document_processor",["docinfo_processor",e],i.$to_proc())},T.$$arity=-1),t.def(V,"$docinfo_processors?",R=function(t){var e,r=this;return null==t&&(t=$),!!c(r.docinfo_processor_extensions)&&(!c(t)||_(r.docinfo_processor_extensions,"any?",[],(e=function(r){e.$$s||this;return null==r&&(r=$),r.$config()["$[]"]("location")["$=="](t)},e.$$s=r,e.$$arity=1,e)))},R.$$arity=-1),t.def(V,"$docinfo_processors",I=function(t){var e,r=this;return null==t&&(t=$),c(r.docinfo_processor_extensions)?c(t)?_(r.docinfo_processor_extensions,"select",[],(e=function(r){e.$$s||this;return null==r&&(r=$),r.$config()["$[]"]("location")["$=="](t)},e.$$s=r,e.$$arity=1,e)):r.docinfo_processor_extensions:$},I.$$arity=-1),t.def(V,"$block",C=function(t){var e,r=this,n=C.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(C.$$p=null),_(r,"add_syntax_processor",["block",e],i.$to_proc())},C.$$arity=-1),t.def(V,"$blocks?",N=function(){var t=this;return t.block_extensions["$!"]()["$!"]()},N.$$arity=0),t.def(V,"$registered_for_block?",z=function(t,e){var r=this,n=$;return!!c(n=r.block_extensions["$[]"](t.$to_sym()))&&(!!c(n.$config()["$[]"]("contexts")["$include?"](e))&&n)},z.$$arity=2),t.def(V,"$find_block_extension",P=function(t){var e=this;return e.block_extensions["$[]"](t.$to_sym())},P.$$arity=1),t.def(V,"$block_macro",B=function(t){var e,r=this,n=B.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(B.$$p=null),_(r,"add_syntax_processor",["block_macro",e],i.$to_proc())},B.$$arity=-1),t.def(V,"$block_macros?",q=function(){var t=this;return t.block_macro_extensions["$!"]()["$!"]()},q.$$arity=0),t.def(V,"$registered_for_block_macro?",D=function(t){var e=this,r=$;return!!c(r=e.block_macro_extensions["$[]"](t.$to_sym()))&&r},D.$$arity=1),t.def(V,"$find_block_macro_extension",L=function(t){var e=this;return e.block_macro_extensions["$[]"](t.$to_sym())},L.$$arity=1),t.def(V,"$inline_macro",F=function(t){var e,r=this,n=F.$$p,i=n||$,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return n&&(F.$$p=null),_(r,"add_syntax_processor",["inline_macro",e],i.$to_proc())},F.$$arity=-1),t.def(V,"$inline_macros?",j=function(){var t=this;return t.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.def(V,"$registered_for_inline_macro?",U=function(t){var e=this,r=$;return!!c(r=e.inline_macro_extensions["$[]"](t.$to_sym()))&&r},U.$$arity=1),t.def(V,"$find_inline_macro_extension",H=function(t){var e=this;return e.inline_macro_extensions["$[]"](t.$to_sym())},H.$$arity=1),t.def(V,"$inline_macros",G=function(){var t=this;return t.inline_macro_extensions.$values()},G.$$arity=0),V.$private(),t.def(V,"$add_document_processor",Y=function(e,r){var n,a,u,l,f=this,d=Y.$$p,h=d||$,p=$,y=$,m=$,g=$,v=$,b=$,w=$,k=$,E=$,x=$;return d&&(Y.$$p=null),p=e.$to_s().$tr("_"," "),y=_(p.$split(),"map",[],(n=function(t){n.$$s||this;return null==t&&(t=$),t.$capitalize()},n.$$s=f,n.$$arity=1,n)).$join().$to_sym(),m=s(Z,"Extensions").$const_get(y),g=function(){return c((a=o("::","AsciidoctorJ","skip_raise"))?"constant":$)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(y):$}(),v=c(u=f.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?u:f.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),b=function(){return h!==$?(w=f.$resolve_args(r,1),k=m.$new(w),c(m.$constants().$grep("DSL"))&&k.$extend(m.$const_get("DSL")),_(k,"instance_exec",[],h.$to_proc()),k.$freeze(),c(k["$process_block_given?"]())||f.$raise(o("::","ArgumentError"),"No block specified to process "+p+" extension at "+h.$source_location()),s(Z,"ProcessorExtension").$new(e,k)):(l=f.$resolve_args(r,2),u=t.to_ary(l),k=null==u[0]?$:u[0],w=null==u[1]?$:u[1],l,c(E=s(Z,"Extensions").$resolve_class(k))?(c(c(u=i(E,m))?u:c(l=g)?i(E,g):l)||f.$raise(o("::","ArgumentError"),"Invalid type for "+p+" extension: "+k),x=E.$new(w),x.$freeze(),s(Z,"ProcessorExtension").$new(e,x)):c(c(u=m["$==="](k))?u:c(l=g)?g["$==="](k):l)?(k.$update_config(w),k.$freeze(),s(Z,"ProcessorExtension").$new(e,k)):f.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+p+" extension: "+r))}(),b.$config()["$[]"]("position")["$=="](">>")?v.$unshift(b):v["$<<"](b)},Y.$$arity=2),t.def(V,"$add_syntax_processor",W=function(r,n){var a,u,l,d,h=this,p=W.$$p,y=p||$,m=$,g=$,v=$,b=$,w=$,k=$,E=$,x=$,A=$,O=$,S=$;return p&&(W.$$p=null),m=r.$to_s().$tr("_"," "),g=_(m.$split(),"map",[],(a=function(t){a.$$s||this;return null==t&&(t=$),t.$capitalize()},a.$$s=h,a.$$arity=1,a)).$push("Processor").$join().$to_sym(),v=s(Z,"Extensions").$const_get(g),b=function(){return c((u=o("::","AsciidoctorJ","skip_raise"))?"constant":$)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(g):$}(),w=c(l=h.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?l:h.$instance_variable_set(("@"+r+"_extensions").$to_sym(),f([],{})),y!==$?(d=h.$resolve_args(n,2),l=t.to_ary(d),k=null==l[0]?$:l[0],E=null==l[1]?$:l[1],d,x=v.$new(h.$as_symbol(k),E),c(v.$constants().$grep("DSL"))&&x.$extend(v.$const_get("DSL")),y.$arity()["$=="](1)?t.yield1(y,x):_(x,"instance_exec",[],y.$to_proc()),c(k=h.$as_symbol(x.$name()))||h.$raise(o("::","ArgumentError"),"No name specified for "+m+" extension at "+y.$source_location()),c(x["$process_block_given?"]())||h.$raise(o("::","NoMethodError"),"No block specified to process "+m+" extension at "+y.$source_location()),x.$freeze(),A=[k,s(Z,"ProcessorExtension").$new(r,x)],_(w,"[]=",t.to_a(A)),A[e(A.length,1)]):(d=h.$resolve_args(n,3),l=t.to_ary(d),x=null==l[0]?$:l[0],k=null==l[1]?$:l[1],E=null==l[2]?$:l[2],d,c(O=s(Z,"Extensions").$resolve_class(x))?(c(c(l=i(O,v))?l:c(d=b)?i(O,b):d)||h.$raise(o("::","ArgumentError"),"Class specified for "+m+" extension does not inherit from "+v+": "+x),
S=O.$new(h.$as_symbol(k),E),c(k=h.$as_symbol(S.$name()))||h.$raise(o("::","ArgumentError"),"No name specified for "+m+" extension: "+x),S.$freeze(),A=[k,s(Z,"ProcessorExtension").$new(r,S)],_(w,"[]=",t.to_a(A)),A[e(A.length,1)]):c(c(l=v["$==="](x))?l:c(d=b)?b["$==="](x):d)?(x.$update_config(E),c(k=function(){return c(k)?(A=[h.$as_symbol(k)],_(x,"name=",t.to_a(A)),A[e(A.length,1)]):h.$as_symbol(x.$name())}())||h.$raise(o("::","ArgumentError"),"No name specified for "+m+" extension: "+x),x.$freeze(),A=[k,s(Z,"ProcessorExtension").$new(r,x)],_(w,"[]=",t.to_a(A)),A[e(A.length,1)]):h.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+m+" extension: "+n))},W.$$arity=2),t.def(V,"$resolve_args",K=function(t,a){var s=$,u=$;return s=function(){return c(o("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():f([],{})}(),a["$=="](1)?s:(c(n(u=e(e(a,1),t.$size()),0))?t=r(t,o("::","Array").$new(u)):c(i(u,0))&&t.$pop(u["$-@"]()),t["$<<"](s),t)},K.$$arity=2),t.def(V,"$as_symbol",X=function(t){return c(t)?t.$to_sym():$},X.$$arity=1),$&&"as_symbol"}(m[0],null,m),function(n,i){var a,u,l,h,p,y,m,g,v,b=(n.$$proto,[n].concat(i));return t.def(n,"$generate_name",a=function(){var t=this;return"extgrp"+t.$next_auto_id()},a.$$arity=0),t.def(n,"$next_auto_id",u=function(){var t,e=this;return null==e.auto_id&&(e.auto_id=$),e.auto_id=c(t=e.auto_id)?t:-1,e.auto_id=r(e.auto_id,1)},u.$$arity=0),t.def(n,"$groups",l=function(){var t,e=this;return null==e.groups&&(e.groups=$),e.groups=c(t=e.groups)?t:f([],{})},l.$$arity=0),t.def(n,"$create",h=function(t){var e,r=this,n=h.$$p,i=n||$;return null==t&&(t=$),n&&(h.$$p=null),i!==$?s(b,"Registry").$new(d(c(e=t)?e:r.$generate_name(),i)):s(b,"Registry").$new()},h.$$arity=-1),t.alias(n,"build_registry","create"),t.def(n,"$register",p=function(r){var n,i,a=this,s=p.$$p,u=s||$,l=$,f=$,d=$,h=$,y=$,m=arguments.length,g=m-0;g<0&&(g=0),i=new Array(g);for(var v=0;v<m;v++)i[v-0]=arguments[v];return s&&(p.$$p=null),l=i.$size(),u!==$?f=u:c(d=i.$pop())?f=c(n=a.$resolve_class(d))?n:d:a.$raise(o("::","ArgumentError"),"Extension group to register not specified"),h=c(n=i.$pop())?n:a.$generate_name(),c(i["$empty?"]())||a.$raise(o("::","ArgumentError"),"Wrong number of arguments ("+l+" for 1..2)"),y=[h.$to_sym(),f],_(a.$groups(),"[]=",t.to_a(y)),y[e(y.length,1)]},p.$$arity=-1),t.def(n,"$unregister_all",y=function(){var t=this;return t.groups=f([],{}),$},y.$$arity=0),t.def(n,"$unregister",m=function(t){var e,r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<i;o++)r[o-0]=arguments[o];return _(r,"each",[],(e=function(t){var r=e.$$s||this;return null==r.groups&&(r.groups=$),null==t&&(t=$),r.groups.$delete(t.$to_sym())},e.$$s=n,e.$$arity=1,e)),$},m.$$arity=-1),t.def(n,"$resolve_class",g=function(t){var e=this,r=$;return function(){return r=t,o("::","Class")["$==="](r)?t:o("::","String")["$==="](r)?e.$class_for_name(t):$}()},g.$$arity=1),t.def(n,"$class_for_name",v=function(t){var e,r=this,n=$;return n=o("::","Object"),_(t.$split("::"),"each",[],(e=function(r){var i,a,s=e.$$s||this;return null==r&&(r=$),c(c(i=r["$empty?"]())?i:c(a=n["$const_defined?"](r))?o("::","Module")["$==="](n=n.$const_get(r)):a)?$:s.$raise(o("::","NameError"),"Could not resolve class for name: "+t)},e.$$s=r,e.$$arity=1,e)),c(o("::","Class")["$==="](n))||r.$raise(o("::","NameError"),"Could not resolve class for name: "+t),n},v.$$arity=1),$&&"class_for_name"}(t.get_singleton_class(y),m)}(m[0],m)}(a[0],a)},Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.klass,$=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(e,o){var s,u=s=i(e,"Asciidoctor"),l=(u.$$proto,[u].concat(o));!function(e,i,o){function s(){}var u,l=s=a(e,i,"PreprocessorReader",s),c=l.$$proto,f=[l].concat(o);return c.path_resolver=c.document=c.include_stack=c.dir=r,t.def(l,"$resolve_include_path",u=function(t,e,i){var a,o=this,s=r,u=r,l=r,c=r,_=r,d=r,h=r,p=r;if(s=(o.path_resolver=$(a=o.path_resolver)?a:n(f,"PathResolver").$new("\\")).$posixify(t),a=["file",o.document.$base_dir()],u=a[0],l=a[1],a,$(s["$start_with?"]("file://")))c=_=s;else if($(n(f,"Helpers")["$uriish?"](s))){if(!$($(a=o.path_resolver["$descends_from?"](s,l))?a:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=_=s}else if($(o.path_resolver["$absolute_path?"](s)))c=_="file://"+function(){return $(s["$start_with?"]("/"))?"":"/"}()+s;else if((d=function(){return $(h=o.include_stack["$empty?"]())?l:o.dir}())["$=="]("."))c=_=s;else if($($(a=d["$start_with?"]("file://"))?a:n(f,"Helpers")["$uriish?"](d)["$!"]()))c=""+d+"/"+s,_=$(h)?s:$($(a=l["$=="]("."))?a:(p=o.path_resolver["$descends_from?"](c,l))["$!"]())?c:c.$slice(p,c.$length());else if($(h))c=""+d+"/"+(_=s);else{if(!$($(a=p=o.path_resolver["$descends_from?"](d,l))?a:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");c=""+d+"/"+s,_=function(){return $(p)?c.$slice(p,c.$length()):s}()}return[c,"file",_]},u.$$arity=3),r&&"resolve_include_path"}(l[0],n(l,"Reader"),l)}(e[0],e)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),i(r,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):n},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a,$=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.truthy),f=t.gvars,_=t.module,d=t.hash2,h=t.send,p=t.hash;return null==f[":"]&&(f[":"]=s),t.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$inject","$*","$to_a","$dup","$insert","$start","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),c((a=l(o,"RUBY_ENGINE","skip_raise"))?"constant":s)||t.const_set(o[0],"RUBY_ENGINE","unknown"),t.const_set(o[0],"RUBY_ENGINE_OPAL",l(o,"RUBY_ENGINE")["$=="]("opal")),t.const_set(o[0],"RUBY_ENGINE_JRUBY",l(o,"RUBY_ENGINE")["$=="]("jruby")),t.const_set(o[0],"RUBY_MIN_VERSION_1_9",e(l(o,"RUBY_VERSION"),"1.9")),t.const_set(o[0],"RUBY_MIN_VERSION_2",e(l(o,"RUBY_VERSION"),"2")),$.$require("set"),l(o,"RUBY_ENGINE")["$=="]("opal")&&$.$require("asciidoctor/js"),f[":"].$unshift(l(o,"File").$dirname("asciidoctor")),function(a,$){var o,f,y,m,g=o=_(a,"Asciidoctor"),v=(g.$$proto,[g].concat($)),b=s,w=s,k=s;t.const_set(v[0],"RUBY_ENGINE",u("::","RUBY_ENGINE")),function(e,n){var i,a,$,o,u,l=i=_(e,"SafeMode"),c=(l.$$proto,[l].concat(n)),f=s;t.const_set(c[0],"UNSAFE",0),t.const_set(c[0],"SAFE",1),t.const_set(c[0],"SERVER",10),t.const_set(c[0],"SECURE",20),f=d([],{}),h((t.Module.$$nesting=c,l.$constants()),"each",[],(a=function(e){var n=a.$$s||this,i=s;return null==e&&(e=s),i=[n.$const_get(e),e.$to_s().$downcase()],h(f,"[]=",t.to_a(i)),i[r(i.length,1)]},a.$$s=l,a.$$arity=1,a)),l.names_by_value=f,t.defs(l,"$value_for_name",$=function(t){var e=this;return e.$const_get(t.$upcase())},$.$$arity=1),t.defs(l,"$name_for_value",o=function(t){var e=this;return null==e.names_by_value&&(e.names_by_value=s),e.names_by_value["$[]"](t)},o.$$arity=1),t.defs(l,"$names",u=function(){var t=this;return null==t.names_by_value&&(t.names_by_value=s),t.names_by_value.$values()},u.$$arity=0)}(v[0],v),function(e,r){var n,i,a=n=_(e,"Compliance"),$=(a.$$proto,[a].concat(r));a.keys=u("::","Set").$new(),function(t,e){t.$$proto,[t].concat(e);return t.$attr_reader("keys")}(t.get_singleton_class(a),$),t.defs(a,"$define",i=function(e,r){var n=this;return null==n.keys&&(n.keys=s),n.$instance_variable_set("@"+e,r),function(t,e){t.$$proto,[t].concat(e);return t}(t.get_singleton_class(n),$).$send("attr_accessor",e),n.keys["$<<"](e),s},i.$$arity=2),a.$define("block_terminates_paragraph",!0),a.$define("strict_verbatim_paragraphs",!0),a.$define("underline_style_section_titles",!0),a.$define("unwrap_standalone_preamble",!0),a.$define("attribute_missing","skip"),a.$define("attribute_undefined","drop-line"),a.$define("shorthand_property_syntax",!0),a.$define("unique_id_start_index",2),a.$define("markdown_syntax",!0)}(v[0],v),t.const_set(v[0],"ROOT_PATH",u("::","File").$dirname(u("::","File").$dirname(u("::","File").$expand_path("asciidoctor")))),t.const_set(v[0],"DATA_PATH",u("::","File").$join(l(v,"ROOT_PATH"),"data"));try{t.const_set(v[0],"USER_HOME",u("::","Dir").$home())}catch(e){if(!t.rescue(e,[l(v,"StandardError")]))throw e;try{t.const_set(v[0],"USER_HOME",c(f=u("::","ENV")["$[]"]("HOME"))?f:u("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(v[0],"COERCE_ENCODING",c(f=u("::","RUBY_ENGINE_OPAL")["$!"]())?u("::","RUBY_MIN_VERSION_1_9"):f),t.const_set(v[0],"FORCE_ENCODING",c(f=l(v,"COERCE_ENCODING"))?u("::","Encoding").$default_external()["$!="](u(u("::","Encoding"),"UTF_8")):f),t.const_set(v[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(v[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(v[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(v[0],"FORCE_UNICODE_LINE_LENGTH",u("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(v[0],"LF",t.const_set(v[0],"EOL","\n")),t.const_set(v[0],"NULL","\0"),t.const_set(v[0],"TAB","\t"),t.const_set(v[0],"DEFAULT_DOCTYPE","article"),t.const_set(v[0],"DEFAULT_BACKEND","html5"),t.const_set(v[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(v[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(v[0],"BACKEND_ALIASES",d(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(v[0],"DEFAULT_PAGE_WIDTHS",d(["docbook"],{docbook:425})),t.const_set(v[0],"DEFAULT_EXTENSIONS",d(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(v[0],"ASCIIDOC_EXTENSIONS",d([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(v[0],"SETEXT_SECTION_LEVELS",d(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(v[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(v[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),t.const_set(v[0],"CALLOUT_LIST_HEADS",["<","1","2","3","4","5","6","7","8","9","0"].$to_set()),t.const_set(v[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(v[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(v[0],"DELIMITED_BLOCKS",d(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",u("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",u("::","Set").$new()],",===":["table",u("::","Set").$new()],":===":["table",u("::","Set").$new()],"!===":["table",u("::","Set").$new()],"////":["comment",u("::","Set").$new()],"```":["fenced_code",u("::","Set").$new()]})),t.const_set(v[0],"DELIMITED_BLOCK_HEADS",h(l(v,"DELIMITED_BLOCKS").$keys(),"map",[],(y=function(t){y.$$s||this;return null==t&&(t=s),t.$slice(0,2)},y.$$s=g,y.$$arity=1,y)).$to_set()),t.const_set(v[0],"LAYOUT_BREAK_CHARS",d(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(v[0],"MARKDOWN_THEMATIC_BREAK_CHARS",d(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(v[0],"HYBRID_LAYOUT_BREAK_CHARS",l(v,"LAYOUT_BREAK_CHARS").$merge(l(v,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(v[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(v[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(v[0],"ORDERED_LIST_KEYWORDS",d(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(v[0],"ATTR_REF_HEAD","{"),t.const_set(v[0],"LIST_CONTINUATION","+"),t.const_set(v[0],"HARD_LINE_BREAK"," +"),t.const_set(v[0],"LINE_CONTINUATION"," \\"),t.const_set(v[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(v[0],"BLOCK_MATH_DELIMITERS",d(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(v[0],"INLINE_MATH_DELIMITERS",d(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(v[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(v[0],"CIRCUMFIX_COMMENTS",h(p(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["<!--","-->"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[d([],{})],(m=function(e,n){var i,a,$,o,u=m.$$s||this;return null==n&&(n=s),n=t.to_ary(n),i=t.slice.call(n,0,n.length),a=i.splice(0,1)[0],null==a&&(a=s),$=i.splice(0,1)[0],null==$&&($=s),null==e&&(e=s),h($,"each",[],(o=function(n){var i=(o.$$s||this,s);return null==n&&(n=s),i=[n,d(["prefix","suffix"],{prefix:a["$[]"](0),suffix:a["$[]"](-1)})],h(e,"[]=",t.to_a(i)),i[r(i.length,1)]},o.$$s=u,o.$$arity=1,o)),e},m.$$s=g,m.$$arity=2,m.$$has_top_level_mlhs_arg=!0,m))),l(v,"RUBY_ENGINE")["$=="]("opal"),t.const_set(v[0],"AuthorInfoLineRx",new RegExp("^("+l(v,"CG_WORD")+"["+l(v,"CC_WORD")+"\\-'.]*)(?: +("+l(v,"CG_WORD")+"["+l(v,"CC_WORD")+"\\-'.]*))?(?: +("+l(v,"CG_WORD")+"["+l(v,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(v[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/),t.const_set(v[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/),t.const_set(v[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/),t.const_set(v[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/),t.const_set(v[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/),t.const_set(v[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/),t.const_set(v[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/),t.const_set(v[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/),t.const_set(v[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),l(v,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(v[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),t.const_set(v[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/),t.const_set(v[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),t.const_set(v[0],"BlockAttributeListRx",new RegExp("^\\[(|["+l(v,"CC_WORD")+".#%{,\"'].*)\\]$")),t.const_set(v[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+l(v,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),t.const_set(v[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/),t.const_set(v[0],"AdmonitionParagraphRx",new RegExp("^("+n(l(v,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),t.const_set(v[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/),t.const_set(v[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(v[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(v[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+l(v,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(v[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),t.const_set(v[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+l(v,"CC_WORD")+"]+?")),t.const_set(v[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/),t.const_set(v[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),t.const_set(v[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/),t.const_set(v[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/),t.const_set(v[0],"OrderedListMarkerRxMap",d(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(v[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/),t.const_set(v[0],"DescriptionListSiblingRx",d(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),t.const_set(v[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/),t.const_set(v[0],"CalloutListSniffRx",/^<?\d+>/),t.const_set(v[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(v[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(v[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+l(v,"CC_EOL")+")")),t.const_set(v[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+l(v,"CC_EOL")+")")),t.const_set(v[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+l(v,"CC_EOL")+")"),t.const_set(v[0],"ListRxMap",d(["ulist","olist","dlist","colist"],{ulist:l(v,"UnorderedListRx"),olist:l(v,"OrderedListRx"),dlist:l(v,"DescriptionListRx"),colist:l(v,"CalloutListRx")})),t.const_set(v[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(v[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(v[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(v[0],"CustomBlockMacroRx",new RegExp("^("+l(v,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),t.const_set(v[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/),t.const_set(v[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/),t.const_set(v[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),t.const_set(v[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),t.const_set(v[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+l(v,"CC_ALPHA")+"_:]["+l(v,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),t.const_set(v[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+l(v,"CG_WORD")+"["+l(v,"CC_WORD")+".%+-]*@"+l(v,"CG_ALNUM")+"["+l(v,"CC_ALNUM")+".-]*\\."+l(v,"CG_ALPHA")+"{2,4}\\b")),t.const_set(v[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+l(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+l(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+l(v,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+l(v,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(v[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+l(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"LinkInlineRx",new RegExp("(^|link:|"+l(v,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+l(v,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(v[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+l(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"MacroNameRx",new RegExp("^"+l(v,"CG_WORD")+"+$")),t.const_set(v[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+l(v,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(v[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+l(v,"CG_WORD")+"|["+l(v,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+l(v,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(v[0],"MenuInlineRx",new RegExp('\\\\?"(['+l(v,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(v[0],"PassInlineRx",p(!1,["+","`",new RegExp("(^|[^"+l(v,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)\\4)(?!"+l(v,"CG_WORD")+")","m")],!0,["`",s,new RegExp("(^|[^`"+l(v,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+l(v,"CC_ALL")+"*?\\S)\\4)(?![`"+l(v,"CC_WORD")+"])","m")])),t.const_set(v[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+l(v,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+l(v,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(v[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+l(v,"CC_WORD")+"#/.:{]"+l(v,"CC_ALL")+"*?)&gt;&gt;|xref:(["+l(v,"CC_WORD")+"#/.:{]"+l(v,"CC_ALL")+"*?)\\[(?:\\]|("+l(v,"CC_ALL")+"*?[^\\\\])\\]))","m")),l(v,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(v[0],"HardLineBreakRx",/^(.*) \+$/m),t.const_set(v[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(v[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(v[0],"BlankLineRx",/\n{2,}/),t.const_set(v[0],"DataDelimiterRx",/[,;]/),t.const_set(v[0],"TrailingDigitsRx",/\d+$/),t.const_set(v[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(v[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(v[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(v[0],"SubModifierSniffRx",/[+-]/),l(v,"RUBY_ENGINE")["$=="]("opal"),t.const_set(v[0],"UriSniffRx",new RegExp("^"+l(v,"CG_ALPHA")+"["+l(v,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(v[0],"UriTerminatorRx",/[);:]$/),t.const_set(v[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(v[0],"INTRINSIC_ATTRIBUTES",d(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),b=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+l(v,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)\\*(?!"+l(v,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+l(v,"CC_ALL")+'*?\\S)`"(?!'+l(v,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)`'(?!"+l(v,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+l(v,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)`(?!["+l(v,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+l(v,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)_(?!"+l(v,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+l(v,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)#(?!"+l(v,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]],w=b.$dup(),k=[2,["double","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)''(?!"+l(v,"CG_WORD")+")","m")]],h(w,"[]=",t.to_a(k)),k[r(k.length,1)],k=[3,["single","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)'(?!"+l(v,"CG_WORD")+")","m")]],h(w,"[]=",t.to_a(k)),k[r(k.length,1)],k=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+l(v,"CC_ALL")+"+?)\\+\\+","m")]],h(w,"[]=",t.to_a(k)),k[r(k.length,1)],k=[5,["monospaced","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)\\+(?!"+l(v,"CG_WORD")+")","m")]],h(w,"[]=",t.to_a(k)),k[r(k.length,1)],w.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+l(v,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+l(v,"CC_ALL")+"*?\\S)'(?!"+l(v,"CG_WORD")+")","m")]),t.const_set(v[0],"QUOTE_SUBS",p(!1,b,!0,w)),b=s,w=s,t.const_set(v[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+l(v,"CG_WORD")+")\\\\?--(?="+l(v,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+l(v,"CG_ALNUM")+")\\\\?'(?="+l(v,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(a,$){var o,f,_,p,y=(a.$$proto,[a].concat($));return t.def(a,"$load",o=function(e,i){var a,$,o,f,_,p=this,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s;null==i&&(i=d([],{}));try{if(i=i.$dup(),c(m=i["$[]"]("timings"))&&m.$start("read"),c((g=i["$[]"]("attributes"))["$!"]())?g=d([],{}):c(c(a=u("::","Hash")["$==="](g))?a:c($=u("::","RUBY_ENGINE_JRUBY"))?u(u(u("::","Java"),"JavaUtil"),"Map")["$==="](g):$)?g=g.$dup():c(u("::","Array")["$==="](g))?(a=[d([],{}),g],g=a[0],v=a[1],a,h(v,"each",[],(o=function(e){var n,i,a=(o.$$s||this,s),$=s,u=s;return null==e&&(e=s),i=e.$split("=",2),n=t.to_ary(i),a=null==n[0]?s:n[0],$=null==n[1]?s:n[1],i,u=[a,c(n=$)?n:""],h(g,"[]=",t.to_a(u)),u[r(u.length,1)]},o.$$s=p,o.$$arity=1,o))):c(u("::","String")["$==="](g))?(a=[d([],{}),g.$gsub(l(y,"SpaceDelimiterRx"),"\\1"+l(y,"NULL")).$gsub(l(y,"EscapedSpaceRx"),"\\1").$split(l(y,"NULL"))],g=a[0],v=a[1],a,h(v,"each",[],(f=function(e){var n,i,a=(f.$$s||this,s),$=s,o=s;return null==e&&(e=s),i=e.$split("=",2),n=t.to_ary(i),a=null==n[0]?s:n[0],$=null==n[1]?s:n[1],i,o=[a,c(n=$)?n:""],h(g,"[]=",t.to_a(o)),o[r(o.length,1)]},f.$$s=p,f.$$arity=1,f))):c(c(a=g["$respond_to?"]("keys"))?g["$respond_to?"]("[]"):a)?g=u("::","Hash")["$[]"](h(g.$keys(),"map",[],(_=function(t){_.$$s||this;return null==t&&(t=s),[t,g["$[]"](t)]},_.$$s=p,_.$$arity=1,_))):p.$raise(u("::","ArgumentError"),"illegal type for attributes option: "+n(g.$class().$ancestors()," < ")),b=s,c(u("::","File")["$==="](e)))w=u("::","File").$expand_path(e.$path()),k=function(){return c(u("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?u("::","Time").$at(p.$Integer(u("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():e.$mtime()}(),b=e.$readlines(),E=["docfile",w],h(g,"[]=",t.to_a(E)),E[r(E.length,1)],E=["docdir",u("::","File").$dirname(w)],h(g,"[]=",t.to_a(E)),E[r(E.length,1)],E=["docname",l(y,"Helpers").$basename(w,(E=["docfilesuffix",u("::","File").$extname(w)],h(g,"[]=",t.to_a(E)),E[r(E.length,1)]))],h(g,"[]=",t.to_a(E)),E[r(E.length,1)],c(x=g["$[]"]("docdate"))?c(a=g["$[]"]("docyear"))?a:(E=["docyear",function(){return x.$index("-")["$=="](4)?x.$slice(0,4):s}()],h(g,"[]=",t.to_a(E)),E[r(E.length,1)]):(E=["docdate",k.$strftime("%Y-%m-%d")],h(g,"[]=",t.to_a(E)),x=E[r(E.length,1)],c(a=g["$[]"]("docyear"))?a:(E=["docyear",k.$year().$to_s()],h(g,"[]=",t.to_a(E)),E[r(E.length,1)])),A=c(a=g["$[]"]("doctime"))?a:(E=["doctime",k.$strftime("%H:%M:%S %Z")],h(g,"[]=",t.to_a(E)),E[r(E.length,1)]),E=["docdatetime",""+x+" "+A],h(g,"[]=",t.to_a(E)),E[r(E.length,1)];else if(c(e["$respond_to?"]("readlines"))){try{e.$rewind()}catch(e){if(!t.rescue(e,[l(y,"StandardError")]))throw e;try{}finally{t.pop_exception()}}b=e.$readlines()}else c(u("::","String")["$==="](e))?b=function(){return c(u("::","RUBY_MIN_VERSION_2"))?e.$lines():e.$each_line().$to_a()}():c(u("::","Array")["$==="](e))?b=e.$dup():p.$raise(u("::","ArgumentError"),"unsupported input type: "+e.$class());return c(m)&&(m.$record("read"),m.$start("parse")),E=["attributes",g],h(i,"[]=",t.to_a(E)),E[r(E.length,1)],O=function(){return i["$[]"]("parse")["$=="](!1)?l(y,"Document").$new(b,i):l(y,"Document").$new(b,i).$parse()}(),c(m)&&m.$record("parse"),O}catch(e){if(!t.rescue(e,[l(y,"StandardError")]))throw e;S=e;try{try{M="asciidoctor: FAILED: "+(c(a=g["$[]"]("docfile"))?a:"<stdin>")+": Failed to load AsciiDoc document",c(S["$respond_to?"]("exception"))?(T=S.$exception(""+M+" - "+S.$message()),T.$set_backtrace(S.$backtrace())):(T=S.$class().$new(M,S),E=[S.$stack_trace()],h(T,"stack_trace=",t.to_a(E)),E[r(E.length,1)])}catch(e){if(!t.rescue(e,[l(y,"StandardError")]))throw e;try{T=S}finally{t.pop_exception()}}return p.$raise(T)}finally{t.pop_exception()}}},o.$$arity=-2),t.def(a,"$load_file",f=function(t,e){var r,n=this;return null==e&&(e=d([],{})),h(u("::","File"),"open",[t],(r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$load(t,e)},r.$$s=n,r.$$arity=1,r))},f.$$arity=-2),t.def(a,"$convert",_=function(n,a){var $,o,f,_,p,m=this,g=s,v=s,b=s,w=s,k=s,E=s,x=s,A=s,O=s,S=s,M=s,T=s,R=s,I=s,C=s,N=s,z=s,P=s,B=s,q=s,D=s,L=s,F=s,j=s,U=s,H=s,G=s;if(null==a&&(a=d([],{})),a=a.$dup(),a.$delete("parse"),g=a.$delete("to_file"),v=a.$delete("to_dir"),b=!!c($=a.$delete("mkdirs"))&&$,w=a["$[]"]("timings"),k=g,(!0)["$==="](k)||s["$==="](k))E=c($=v["$!"]())?u("::","File")["$==="](n):$,x=!1,A=v,g=s;else if((!1)["$==="](k))E=!1,x=!1,A=!1,g=s;else{if("/dev/null"["$==="](k))return m.$load(n,a);E=!1,A=function(){return!c(x=g["$respond_to?"]("write"))&&g}()}return c(a["$key?"]("header_footer"))||c(c($=E)?$:A)&&(O=["header_footer",!0],h(a,"[]=",t.to_a(O)),O[r(O.length,1)]),c(E)?(S=u("::","File").$expand_path(n.$path()),O=["to_dir",M=u("::","File").$dirname(S)],h(a,"[]=",t.to_a(O)),O[r(O.length,1)]):c(A)?c(v)?c(g)?(O=["to_dir",u("::","File").$expand_path(u("::","File").$join(v,g,".."))],h(a,"[]=",t.to_a(O)),O[r(O.length,1)]):(O=["to_dir",u("::","File").$expand_path(v)],h(a,"[]=",t.to_a(O)),O[r(O.length,1)]):c(g)&&(O=["to_dir",u("::","File").$expand_path(g,"..")],
h(a,"[]=",t.to_a(O)),O[r(O.length,1)]):(O=["to_dir",s],h(a,"[]=",t.to_a(O)),O[r(O.length,1)]),T=m.$load(n,a),c(E)?(R=u("::","File").$join(M,""+T.$attributes()["$[]"]("docname")+T.$outfilesuffix()),R["$=="](S)&&m.$raise(u("::","IOError"),"input file and output file cannot be the same: "+R)):c(A)?(I=function(){return c(a["$key?"]("base_dir"))?u("::","File").$expand_path(a["$[]"]("base_dir")):u("::","File").$expand_path(u("::","Dir").$pwd())}(),C=function(){return c(e(T.$safe(),u(l(y,"SafeMode"),"SAFE")))?I:s}(),c(v)?(M=T.$normalize_system_path(v,I,C,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),c(g)?(R=T.$normalize_system_path(g,M,s,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=u("::","File").$dirname(R)):R=u("::","File").$join(M,""+T.$attributes()["$[]"]("docname")+T.$outfilesuffix())):c(g)&&(R=T.$normalize_system_path(g,I,C,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=u("::","File").$dirname(R)),c(c($=u("::","File")["$==="](n))?R["$=="](u("::","File").$expand_path(n.$path())):$)&&m.$raise(u("::","IOError"),"input file and output file cannot be the same: "+R),c(u("::","File")["$directory?"](M))||(c(b)?l(y,"Helpers").$mkdir_p(M):m.$raise(u("::","IOError"),"target directory does not exist: "+v))):(R=g,M=s),c(w)&&w.$start("convert"),N=function(){return c(c($=R)?x["$!"]():$)?d(["outfile","outdir"],{outfile:R,outdir:M}):d([],{})}(),z=T.$convert(N),c(w)&&w.$record("convert"),c(R)?(c(w)&&w.$start("write"),T.$write(z,R),c(w)&&w.$record("write"),c(c($=c(o=c(f=c(_=c(p=x["$!"]())?i(T.$safe(),u(l(y,"SafeMode"),"SECURE")):p)?T["$attr?"]("linkcss"):_)?T["$attr?"]("copycss"):f)?T["$attr?"]("basebackend-html"):o)?(c(o=P=T.$attr("stylesdir"))?l(y,"Helpers")["$uriish?"](P):o)["$!"]():$)&&(B=!1,q=!1,c(D=T.$attr("stylesheet"))&&(c(l(y,"DEFAULT_STYLESHEET_KEYS")["$include?"](D))?B=!0:c(l(y,"Helpers")["$uriish?"](D)["$!"]())&&(q=!0)),L=c($=T["$attr?"]("source-highlighter","coderay"))?T.$attr("coderay-css","class")["$=="]("class"):$,F=c($=T["$attr?"]("source-highlighter","pygments"))?T.$attr("pygments-css","class")["$=="]("class"):$,c(c($=c(o=c(f=B)?f:q)?o:L)?$:F)&&(j=T.$normalize_system_path(P,M,function(){return c(e(T.$safe(),u(l(y,"SafeMode"),"SAFE")))?M:s}()),c(b)&&l(y,"Helpers").$mkdir_p(j),c(B)?l(y,"Stylesheets").$instance().$write_primary_stylesheet(j):c(q)&&(U=c((U=T.$attr("copycss"))["$empty?"]())?T.$normalize_system_path(D):T.$normalize_system_path(U),H=T.$normalize_system_path(D,j,function(){return c(e(T.$safe(),u(l(y,"SafeMode"),"SAFE")))?M:s}()),c(c($=U["$!="](H))?G=T.$read_asset(U,d(["warn_on_failure","label"],{warn_on_failure:u("::","File")["$file?"](H)["$!"](),label:"stylesheet"})):$)&&u("::","IO").$write(H,G)),c(L)?l(y,"Stylesheets").$instance().$write_coderay_stylesheet(j):c(F)&&l(y,"Stylesheets").$instance().$write_pygments_stylesheet(j,T.$attr("pygments-style")))),T):z},_.$$arity=-2),t.alias(a,"render","convert"),t.def(a,"$convert_file",p=function(t,e){var r,n=this;return null==e&&(e=d([],{})),h(u("::","File"),"open",[t],(r=function(t){var n=r.$$s||this;return null==t&&(t=s),n.$convert(t,e)},r.$$s=n,r.$$arity=1,r))},p.$$arity=-2),t.alias(a,"render_file","convert_file"),l(y,"RUBY_ENGINE")["$=="]("opal")?s:s}(t.get_singleton_class(g),v),l(v,"RUBY_ENGINE")["$=="]("opal")&&(g.$require("asciidoctor/timings"),g.$require("asciidoctor/version"))}(o[0],o),$.$require("asciidoctor/core_ext"),$.$require("asciidoctor/helpers"),$.$require("asciidoctor/substitutors"),$.$require("asciidoctor/abstract_node"),$.$require("asciidoctor/abstract_block"),$.$require("asciidoctor/attribute_list"),$.$require("asciidoctor/block"),$.$require("asciidoctor/callouts"),$.$require("asciidoctor/converter"),$.$require("asciidoctor/document"),$.$require("asciidoctor/inline"),$.$require("asciidoctor/list"),$.$require("asciidoctor/parser"),$.$require("asciidoctor/path_resolver"),$.$require("asciidoctor/reader"),$.$require("asciidoctor/section"),$.$require("asciidoctor/stylesheets"),$.$require("asciidoctor/table"),l(o,"RUBY_ENGINE")["$=="]("opal")?$.$require("asciidoctor/js/postscript"):s}(Opal);var e=function(t){return!t||"$$smap"in t?t:Opal.hash(t)},r=function(t){for(var e={},r=0,n=t.$$keys,i=t.$$smap,a=n.length;r<a;r++){var $=n[r];e[$]=i[$]}return e},n=function(t){if(t=e(t)){var r=t["$[]"]("attributes");r&&"object"==typeof r&&"Object"===r.constructor.name&&(t=t.$dup(),t["$[]="]("attributes",e(r)))}return t},i=Opal.Asciidoctor.$$class;i.$$proto.getCoreVersion=function(){return this.$$const.VERSION},i.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},i.$$proto.convertFile=function(t,e){return this.$convert_file(t,n(e))},i.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},i.$$proto.loadFile=function(t,e){return this.$load_file(t,n(e))};var a=Opal.Asciidoctor.AbstractBlock;a.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},a.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},a.$$proto.getStyle=function(){return this.style},a.$$proto.getCaption=function(){return this.$caption()},a.$$proto.setCaption=function(t){this.caption=t},a.$$proto.getLevel=function(){return this.level},a.$$proto.getSubstitutions=function(){return this.subs},a.$$proto.hasSubstitution=function(t){return this["$sub?"](t)},a.$$proto.removeSubstitution=function(t){this.$remove_sub(t)},a.$$proto.getBlocks=function(){return this.blocks},a.$$proto.getContent=function(){return this.$content()},a.$$proto.convert=function(){return this.$convert()},a.$$proto.findBy=function(t,r){return"undefined"==typeof r&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof r?Opal.send(this,"find_by",[e(t)],r):this.$find_by(e(t))},a.$$proto.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t};var $=Opal.Asciidoctor.Block;$.$$proto.getSource=function(){return this.$source()},$.$$proto.getSourceLines=function(){return this.lines};var o=Opal.Asciidoctor.AbstractNode;o.$$proto.getAttributes=function(){return r(this.attributes)},o.$$proto.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},o.$$proto.hasAttribute=function(t){return t in this.attributes.$$smap},o.$$proto.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},o.$$proto.setAttribute=function(t,e,r){return"undefined"==typeof r&&(r=!0),this.$set_attr(t,e,r)},o.$$proto.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},o.$$proto.getDocument=function(){return this.document},o.$$proto.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},o.$$proto.isInline=function(){return this["$inline?"]()},o.$$proto.isBlock=function(){return this["$block?"]()},o.$$proto.isRole=function(t){return this["$role?"](t)},o.$$proto.getRole=function(){return this.$role()},o.$$proto.hasRole=function(t){return this["$has_role?"](t)},o.$$proto.getRoles=function(){return this.$roles()},o.$$proto.addRole=function(t){return this.$add_role(t)},o.$$proto.removeRole=function(t){return this.$remove_role(t)},o.$$proto.isReftext=function(){return this["$reftext?"]()},o.$$proto.getReftext=function(){return this.$reftext()},o.$$proto.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},o.$$proto.getId=function(){return this.id},o.$$proto.isOption=function(t){return this["$option?"](t)},o.$$proto.setOption=function(t){return this.$set_option(t)},o.$$proto.getIconUri=function(t){return this.$icon_uri(t)},o.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},o.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},o.$$proto.getConverter=function(){return this.$converter()},o.$$proto.readContents=function(t,r){return this.$read_contents(t,e(r))},o.$$proto.readAsset=function(t,r){return this.$read_asset(t,e(r))},o.$$proto.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},o.$$proto.normalizeSystemPath=function(t,r,n,i){return this.$normalize_system_path(t,r,n,e(i))},o.$$proto.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var s=Opal.Asciidoctor.Document;s.$$proto.getHeader=function(){return this.header},s.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},s.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},s.$$proto.convert=function(t){var r=this.$convert(e(t));return r===Opal.nil?"":r},s.$$proto.write=function(t,e){return this.$write(t,e)},s.$$proto.getAuthor=function(){return this.$author()},s.$$proto.getSource=function(){return this.$source()},s.$$proto.getSourceLines=function(){return this.$source_lines()},s.$$proto.isNested=function(){return this["$nested?"]()},s.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},s.$$proto.getFootnotes=function(){return this.$footnotes()},s.$$proto.isEmbedded=function(){return this["$embedded?"]()},s.$$proto.hasExtensions=function(){return this["$extensions?"]()},s.$$proto.getDoctype=function(){return this.doctype},s.$$proto.getBackend=function(){return this.backend},s.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},s.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},s.$$proto.setTitle=function(t){return this["$title="](t)},s.$$proto.getDocumentTitle=function(t){var r=this.$doctitle(e(t));return r===Opal.nil?void 0:r},s.$$proto.getDoctitle=s.$$proto.getDocumentTitle,s.$$proto.getCatalog=function(){return r(this.catalog)},s.$$proto.getReferences=s.$$proto.getCatalog,s.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},s.$$proto.getRevdate=function(){return this.getRevisionDate()},s.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},s.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},s.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var u=s.RevisionInfo;u.prototype.getDate=function(){return this.date},u.prototype.getNumber=function(){return this.number},u.prototype.getRemark=function(){return this.remark},u.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},s.$$proto.getRevisionInfo=function(){return new s.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},s.$$proto.hasRevisionInfo=function(){var t=this.getRevisionInfo();return!t.isEmpty()},s.$$proto.getNotitle=function(){return this.$notitle()},s.$$proto.getNoheader=function(){return this.$noheader()},s.$$proto.getNofooter=function(){return this.$nofooter()},s.$$proto.hasHeader=function(){return this["$header?"]()},s.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},s.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},s.$$proto.parse=function(t){return this.$parse(t)},s.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},s.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},s.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},s.$$proto.counter=function(t,e){return this.$counter(t,e)},s.$$proto.getSafe=function(){return this.safe},s.$$proto.getCompatMode=function(){return this.compat_mode},s.$$proto.getSourcemap=function(){return this.sourcemap},s.$$proto.getCounters=function(){return r(this.counters)},s.$$proto.getCallouts=function(){return this.$callouts()},s.$$proto.getBaseDir=function(){return this.base_dir},s.$$proto.getOptions=function(){return r(this.options)},s.$$proto.getOutfilesuffix=function(){return this.outfilesuffix},s.$$proto.getParentDocument=function(){return this.parent_document},s.$$proto.getReader=function(){return this.reader},s.$$proto.getConverter=function(){return this.converter},s.$$proto.getExtensions=function(){return this.extensions};var l=s.Title;l.$$proto.getMain=function(){return this.main},l.$$proto.getCombined=function(){return this.combined},l.$$proto.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},l.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},l.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};var c=Opal.Asciidoctor.Inline;c.$$proto.convert=function(){return this.$convert()},c.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},c.$$proto.getType=function(){return this.$type()},c.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t};var f=Opal.Asciidoctor.List;f.$$proto.getItems=function(){return this.blocks};var _=Opal.Asciidoctor.ListItem;_.$$proto.getText=function(){return this.$text()};var d=Opal.Asciidoctor.Reader;d.$$proto.pushInclude=function(t,e,r,n,i){return this.$push_include(t,e,r,n,i)},d.$$proto.getCursor=function(){return this.$cursor()},d.$$proto.getLines=function(){return this.$lines()},d.$$proto.getString=function(){return this.$string()};var h=Opal.Asciidoctor.Reader.Cursor;h.$$proto.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},h.$$proto.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},h.$$proto.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},h.$$proto.getLineNumber=function(){return this.lineno};var p=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=p,p&&(p.getLogger=function(){return this.$logger()},p.setLogger=function(t){this.logger=t});var y=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=y,y&&(y.$$proto.getMessages=function(){for(var t=this.messages,e=[],n=0;n<t.length;n++){var i=t[n],a=r(i);a.message=r(a.message),e.push(a)}return e});var m=function(t){return t.$$arity=t.length,t},g=function(t,e,r,n){return"function"==typeof r?Opal.send(t,e,n&&[n],m(r)):t["$"+e](r,n)},v=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=v,v.create=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"build_registry",null,m(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],m(e)):this.$build_registry()},v.register=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"register",null,m(t)):Opal.send(this,"register",[t],m(e))},v.getGroups=function(){return r(this.$groups())},v.unregisterAll=function(){this.$unregister_all()},v.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,i=e.$$keys;n<i.length;n++){var a=i[n];r[a.toString()]=a}for(var $=0;$<t.length;$++){var o=t[$];o in r&&Opal.hash_delete(e,r[o])}};var b=v.Registry;b.$$proto.getGroups=v.getGroups,b.$$proto.unregisterAll=function(){this.groups=Opal.hash()},b.$$proto.unregister=v.unregister,b.$$proto.block=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"block",e,t)},b.$$proto.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"inline_macro",e,t)},b.$$proto.includeProcessor=function(t){return g(this,"include_processor",t)},b.$$proto.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"block_macro",e,t)},b.$$proto.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"tree_processor",e,t)},b.$$proto.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"postprocessor",e,t)},b.$$proto.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"preprocessor",e,t)},b.$$proto.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),g(this,"docinfo_processor",e,t)};var w=v.Processor;w.$$proto.process=function(t){return Opal.send(this,"process",null,m(t))},w.$$proto.named=function(t){return this.$named(t)},w.$$proto.createBlock=function(t,r,n,i,a){return this.$create_block(t,r,n,e(i),e(a))},w.$$proto.createImageBlock=function(t,r,n){return this.$create_image_block(t,e(r),e(n))},w.$$proto.createInline=function(t,r,n,i){return this.$create_inline(t,r,n,e(i))},w.$$proto.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},w.$$proto.positionalAttributes=function(t){return this.$positional_attrs(t)};var k=v.BlockProcessor;k.$$proto.onContext=function(t){return this.$on_context(t)},k.$$proto.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};var E=(v.BlockMacroProcessor,v.IncludeProcessor);E.$$proto.handles=function(t){return Opal.send(this,"handles?",null,m(t))};var x=(v.TreeProcessor,v.Postprocessor,v.Preprocessor,v.DocinfoProcessor);x.$$proto.atLocation=function(t){this.$at_location(t)};var A=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=A,A.$$proto.convert=function(t,r,n){return this.$convert(t,r,e(n))},A.BuiltIn.$$proto.convert=A.$$proto.convert;var O=Opal.Asciidoctor.Converter.Factory;O.getDefault=function(t){return this.$default(t)},O.$$proto.create=function(t,r){return this.$create(t,e(r))};var S="1.5.6";return i.$$proto.getVersion=function(){return S},Opal.Asciidoctor})}).call(exports,function(){return this}(),__webpack_require__(10),"/",__webpack_require__(43)(module))},119:function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function i(t){var e,n,i,a,$,o=t.length;a=r(t),$=new l(3*o/4-a),n=a>0?o-4:o;var s=0;for(e=0;e<n;e+=4)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],$[s++]=i>>16&255,$[s++]=i>>8&255,$[s++]=255&i;return 2===a?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,$[s++]=255&i):1===a&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,$[s++]=i>>8&255,$[s++]=255&i),$}function a(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function $(t,e,r){for(var n,i=[],$=e;$<r;$+=3)n=(t[$]<<16&16711680)+(t[$+1]<<8&65280)+(255&t[$+2]),i.push(a(n));return i.join("")}function o(t){for(var e,r=t.length,n=r%3,i="",a=[],o=16383,u=0,l=r-n;u<l;u+=o)a.push($(t,u,u+o>l?l:u+o));return 1===n?(e=t[r-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),a.push(i),a.join("")}e.byteLength=n,e.toByteArray=i,e.fromByteArray=o;for(var s=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,_=c.length;f<_;++f)s[f]=c[f],u[c.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},1:function(t,e,r){(function(t){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return $.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return $.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=$.prototype):(null===t&&(t=new $(e)),t.length=e),t}function $(t,e,r){if(!($.TYPED_ARRAY_SUPPORT||this instanceof $))return new $(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,r)}function o(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?_(t,e,r,n):"string"==typeof e?c(t,e,r):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return s(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}function l(t,e){if(s(e),t=a(t,e<0?0:0|h(e)),!$.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!$.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,r);t=a(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function f(t,e){var r=e.length<0?0:0|h(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function _(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),$.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=$.prototype):t=f(t,e),t}function d(t,e){if($.isBuffer(e)){var r=0|h(e.length);return t=a(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&Q(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function p(t){return+t!=t&&(t=0),$.alloc(+t)}function y(t,e){if($.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return M(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=$.from(e,n)),$.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,$.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){function a(t,e){return 1===$?t[e]:t.readUInt16BE(e*$)}var $=1,o=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;$=2,o/=2,s/=2,r/=2}var u;if(i){var l=-1;for(u=r;u<o;u++)if(a(t,u)===a(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===s)return l*$}else l!==-1&&(u-=u-l),l=-1}else for(r+s>o&&(r=o-s),u=r;u>=0;u--){for(var c=!0,f=0;f<s;f++)if(a(t,u+f)!==a(e,f)){c=!1;break}if(c)return u}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var $=0;$<n;++$){var o=parseInt(e.substr(2*$,2),16);if(isNaN(o))return $;t[r+$]=o}return $}function k(t,e,r,n){return X(G(e,t.length-r),t,r,n)}function E(t,e,r,n){return X(Y(e),t,r,n)}function x(t,e,r,n){return E(t,e,r,n)}function A(t,e,r,n){return X(K(e),t,r,n)}function O(t,e,r,n){return X(W(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function M(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],$=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){var s,u,l,c;switch(o){case 1:a<128&&($=a);break;case 2:s=t[i+1],128===(192&s)&&(c=(31&a)<<6|63&s,c>127&&($=c));break;case 3:s=t[i+1],u=t[i+2],128===(192&s)&&128===(192&u)&&(c=(15&a)<<12|(63&s)<<6|63&u,c>2047&&(c<55296||c>57343)&&($=c));break;case 4:s=t[i+1],u=t[i+2],l=t[i+3],128===(192&s)&&128===(192&u)&&128===(192&l)&&(c=(15&a)<<18|(63&s)<<12|(63&u)<<6|63&l,c>65535&&c<1114112&&($=c))}}null===$?($=65533,o=1):$>65535&&($-=65536,n.push($>>>10&1023|55296),$=56320|1023&$),n.push($),i+=o}return T(n)}function T(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=H(t[a]);return i}function N(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function z(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,a){if(!$.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function q(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,i){return i||D(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return i||D(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,r,n,52,8),r+8}function j(t){if(t=U(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],$=0;$<n;++$){if(r=t.charCodeAt($),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if($+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,a=[],$=0;$<t.length&&!((e-=2)<0);++$)r=t.charCodeAt($),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function K(t){return J.toByteArray(j(t))}function X(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t){return t!==t}var J=r(119),Z=r(152),Q=r(72);e.Buffer=$,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50,$.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=i(),$.poolSize=8192,$._augment=function(t){return t.__proto__=$.prototype,t},$.from=function(t,e,r){return o(null,t,e,r)},$.TYPED_ARRAY_SUPPORT&&($.prototype.__proto__=Uint8Array.prototype,$.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&$[Symbol.species]===$&&Object.defineProperty($,Symbol.species,{value:null,configurable:!0})),$.alloc=function(t,e,r){return u(null,t,e,r)},$.allocUnsafe=function(t){return l(null,t)},$.allocUnsafeSlow=function(t){return l(null,t)},$.isBuffer=function(t){return!(null==t||!t._isBuffer)},$.compare=function(t,e){if(!$.isBuffer(t)||!$.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},$.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return $.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=$.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!$.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},$.byteLength=y,$.prototype._isBuffer=!0,$.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},$.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},$.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},$.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?M(this,0,t):m.apply(this,arguments)},$.prototype.equals=function(t){if(!$.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===$.compare(this,t)},$.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},$.prototype.compare=function(t,e,r,n,i){if(!$.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,o=r-e,s=Math.min(a,o),u=this.slice(n,i),l=t.slice(e,r),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},$.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},$.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},$.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},$.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return k(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;$.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if($.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),
n.__proto__=$.prototype;else{var i=e-t;n=new $(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},$.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},$.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},$.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},$.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},$.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},$.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},$.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},$.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},$.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},$.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},$.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},$.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},$.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},$.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},$.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!0,23,4)},$.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!1,23,4)},$.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!0,52,8)},$.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!1,52,8)},$.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,t,e,r,i,0)}var a=1,$=0;for(this[e]=255&t;++$<r&&(a*=256);)this[e+$]=t/a&255;return e+r},$.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,t,e,r,i,0)}var a=r-1,$=1;for(this[e+a]=255&t;--a>=0&&($*=256);)this[e+a]=t/$&255;return e+r},$.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),$.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},$.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},$.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},$.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),$.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},$.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},$.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=0,$=1,o=0;for(this[e]=255&t;++a<r&&($*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/$>>0)-o&255;return e+r},$.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var a=r-1,$=1,o=0;for(this[e+a]=255&t;--a>=0&&($*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/$>>0)-o&255;return e+r},$.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),$.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},$.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},$.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},$.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),$.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},$.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),$.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},$.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},$.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},$.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},$.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},$.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!$.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},$.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!$.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=$.isBuffer(t)?t:G(new $(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},292:function(t,e,r){!function(e,r){t.exports=r()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,r){var n,i,a;!function($,o){i=[t,r(7)],n=o,a="function"==typeof n?n.apply(e,i):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=r(e),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return $(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":a(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})},function(t,e,r){function n(t,e,r){if(!t&&!e&&!r)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(r))throw new TypeError("Third argument must be a Function");if(o.node(t))return i(t,e,r);if(o.nodeList(t))return a(t,e,r);if(o.string(t))return $(t,e,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,r){return t.addEventListener(e,r),{destroy:function(){t.removeEventListener(e,r)}}}function a(t,e,r){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,r)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,r)})}}}function $(t,e,r){return s(document.body,t,e,r)}var o=r(6),s=r(5);t.exports=n},function(t,e){function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){function n(){i.off(t,n),e.apply(r,arguments)}var i=this;return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;for(n;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var a=0,$=n.length;a<$;a++)n[a].fn!==e&&n[a].fn._!==e&&i.push(n[a]);return i.length?r[t]=i:delete r[t],this}},t.exports=r},function(t,e,r){var n,i,a;!function($,o){i=[t,r(0),r(2),r(1)],n=o,a="function"==typeof n?n.apply(e,i):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e,r,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var r="data-clipboard-"+t;if(e.hasAttribute(r))return e.getAttribute(r)}var u=i(e),l=i(r),c=i(n),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),d=function(t){function e(t,r){a(this,e);var n=$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(r),n.listenClick(t),n}return o(e,t),_(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===f(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,r=!!document.queryCommandSupported;return e.forEach(function(t){r=r&&!!document.queryCommandSupported(t)}),r}}]),e}(l.default);t.exports=d})},function(t,e){function r(t,e){for(;t&&t.nodeType!==n;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=r},function(t,e,r){function n(t,e,r,n,i){var $=a.apply(this,arguments);return t.addEventListener(r,$,i),{destroy:function(){t.removeEventListener(r,$,i)}}}function i(t,e,r,i,a){return"function"==typeof t.addEventListener?n.apply(null,arguments):"function"==typeof r?n.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return n(t,e,r,i,a)}))}function a(t,e,r,n){return function(r){r.delegateTarget=$(r.target,e),r.delegateTarget&&n.call(t,r)}}var $=r(4);t.exports=i},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var r=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e){function r(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var r=t.hasAttribute("readonly");r||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),r||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}t.exports=r}])})},120:function(t,e,r){(function(t){function n(t,e){console.log.apply(null,[a[t]+":"].concat(Object.keys(e).map(function(t){return e[t]})))}function i(t,e){$<=t&&o.log(t,e)}e.LOGGING_LEVELS=LOGGING_LEVELS={NOTSET:0,DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50};var a={};Object.keys(LOGGING_LEVELS).map(function(t){a[LOGGING_LEVELS[t]]=t});var $=LOGGING_LEVELS.NOTSET;const o={};o.log=n;const s={};s.setLevel=function(t){var e=LOGGING_LEVELS[t];if(!isNaN(e))return void($=e);var r=parseInt(t);if(isNaN(r))throw new Error("Invalid logging level");$=t},s.log=function(t,e){i(t,e)},s.debug=function(t){this.log(LOGGING_LEVELS.DEBUG,arguments)},s.info=function(t){this.log(LOGGING_LEVELS.INFO,arguments)},s.warning=function(t){this.log(LOGGING_LEVELS.WARNING,arguments)},s.error=function(t){this.log(LOGGING_LEVELS.ERROR,arguments)},s.critical=function(t){this.log(LOGGING_LEVELS.CRITICAL,arguments)},e.logger=s,e.Logging=o,r.c[0]===t&&s.info("hihiii")}).call(e,r(43)(t))},19:function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===p(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function a(t){return null==t}function $(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t){return"symbol"==typeof t}function u(t){return void 0===t}function l(t){return"[object RegExp]"===p(t)}function c(t){return"object"==typeof t&&null!==t}function f(t){return"[object Date]"===p(t)}function _(t){return"[object Error]"===p(t)||t instanceof Error}function d(t){return"function"==typeof t}function h(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function p(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=a,e.isNumber=$,e.isString=o,e.isSymbol=s,e.isUndefined=u,e.isRegExp=l,e.isObject=c,e.isDate=f,e.isError=_,e.isFunction=d,e.isPrimitive=h,e.isBuffer=t.isBuffer}).call(e,r(1).Buffer)},32:function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function $(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,o,s,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(r=this._events[t],$(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,s=0;s<i;s++)u[s].apply(this,o);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(i=$(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,$,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],$=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(o=$;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},147:function(t,e,r){(function(e){"use strict";function n(t){i.call(this),this._block=new e(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=r(83).Transform,a=r(3);a(n,i),n.prototype._transform=function(t,r,n){var i=null;try{"buffer"!==r&&(t=new e(t,r)),this.update(t)}catch(t){i=t}n(i)},n.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(t){e=t}t(e)},n.prototype.update=function(t,r){if(!e.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");e.isBuffer(t)||(t=new e(t,r||"binary"));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var $=0,o=8*t.length;o>0;++$)this._length[$]+=o,o=this._length[$]/4294967296|0,o>0&&(this._length[$]-=4294967296*o);return this},n.prototype._update=function(t){throw new Error("_update is not implemented")},n.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return void 0!==t&&(e=e.toString(t)),e},n.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=n}).call(e,r(1).Buffer)},151:function(t,e,r){!function(e,r){t.exports=r()}(this,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,a=Object.getOwnPropertyDescriptor,$=Object.getPrototypeOf,o=$&&$(Object);return function s(u,l,c){if("string"!=typeof l){if(o){var f=$(l);f&&f!==o&&s(u,f,c)}var _=n(l);i&&(_=_.concat(i(l)));for(var d=0;d<_.length;++d){var h=_[d];if(!(t[h]||e[h]||c&&c[h])){var p=a(l,h);try{r(u,h,p)}catch(t){}}}return u}return u}})},152:function(t,e){e.read=function(t,e,r,n,i){var a,$,o=8*i-n-1,s=(1<<o)-1,u=s>>1,l=-7,c=r?i-1:0,f=r?-1:1,_=t[e+c];for(c+=f,a=_&(1<<-l)-1,_>>=-l,l+=o;l>0;a=256*a+t[e+c],c+=f,l-=8);for($=a&(1<<-l)-1,a>>=-l,l+=n;l>0;$=256*$+t[e+c],c+=f,l-=8);if(0===a)a=1-u;else{if(a===s)return $?NaN:(_?-1:1)*(1/0);$+=Math.pow(2,n),a-=u}return(_?-1:1)*$*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var $,o,s,u=8*a-i-1,l=(1<<u)-1,c=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:a-1,d=n?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,$=l):($=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-$))<1&&($--,s*=2),e+=$+c>=1?f/s:f*Math.pow(2,1-c),e*s>=2&&($++,s/=2),$+c>=l?(o=0,$=l):$+c>=1?(o=(e*s-1)*Math.pow(2,i),$+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),$=0));i>=8;t[r+_]=255&o,_+=d,o/=256,i-=8);for($=$<<i|o,u+=i;u>0;t[r+_]=255&$,_+=d,$/=256,u-=8);t[r+_-d]|=128*h}},3:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},33:function(t,e){Opal.modules.base64=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.truthy,$=t.hash2;return t.add_stubs(["$raise","$delete"]),function(e,o){var s,u,l,c,f,_,d,h,p,y=s=i(e,"Base64"),m=(y.$$proto,[y].concat(o)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h=t.global.btoa||function(t){for(var e,r,i=String(t),a=0,$=g,o="";i.charAt(0|a)||($="=",a%1);o+=$.charAt(63&e>>8-a%1*8))r=i.charCodeAt(a+=.75),r>255&&y.$raise(n(m,"ArgumentError"),"invalid character (failed: The string to be encoded contains characters outside of the Latin1 range.)"),e=e<<8|r;return o},p=t.global.atob||function(t){var e=String(t).replace(/=+$/,"");e.length%4==1&&y.$raise(n(m,"ArgumentError"),"invalid base64 (failed: The string to be decoded is not correctly encoded.)");for(var r,i,a=0,$=0,o="";i=e.charAt($++);~i&&(r=a%4?64*r+i:i,a++%4)?o+=String.fromCharCode(255&r>>(-2*a&6)):0)i=g.indexOf(i);return o},t.defs(y,"$decode64",u=function(t){return p(t.replace(/\r?\n/g,""))},u.$$arity=1),t.defs(y,"$encode64",l=function(t){return h(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},l.$$arity=1),t.defs(y,"$strict_decode64",c=function(t){return p(t)},c.$$arity=1),t.defs(y,"$strict_encode64",f=function(t){return h(t)},f.$$arity=1),t.defs(y,"$urlsafe_decode64",_=function(t){return p(t.replace(/\-/g,"+").replace(/_/g,"/"))},_.$$arity=1),t.defs(y,"$urlsafe_encode64",d=function(e,n){var i,o=r;if(null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=$([],{})}return i=n.$$smap.padding,null==i&&(i=!0),o=h(e).replace(/\+/g,"-").replace(/\//g,"_"),a(i)||(o=o.$delete("=")),o},d.$$arity=-2)}(e[0],e)}},34:function(t,e,r){r(36),r(35),r(38),r(33),r(37),r(39),Opal.require("opal"),t.exports.Opal=Opal},35:function(t,e,r){(function(t){Opal.modules["nodejs/kernel"]=function(e){var n,i,a=(e.top,[]),$=e.nil,o=(e.const_get_qualified,e.const_get_relative),s=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_str","$new","$to_s"]),e.exit=t.exit,function(t,n){var i,a,$,u=i=s(t,"Kernel"),l=(u.$$proto,[u].concat(n));e.const_set(l[0],"NODE_REQUIRE",r(154)),e.def(u,"$caller",a=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var a;try{var $=Error("my error");throw $}catch(t){a=t.stack}return a.$split("\n").slice(3)},a.$$arity=-1),e.def(u,"$node_require",$=function(t){return o(l,"NODE_REQUIRE")(t.$to_str())},$.$$arity=1)}(a[0],a),e.const_set(a[0],"ARGV",t.argv.slice(2)),e.const_set(a[0],"ENV",o(a,"Object").$new()),e.defs(o(a,"ENV"),"$[]=",n=function(t,e){return{LOGGING_LEVEL:"ERROR",BUILD_TIME:"Sun, 22 Jul 2018 09:47:11 GMT",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t.$to_s()]=e.$to_s()},n.$$arity=2),e.defs(o(a,"ENV"),"$[]",i=function(t){return{LOGGING_LEVEL:"ERROR",BUILD_TIME:"Sun, 22 Jul 2018 09:47:11 GMT",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t]||$},i.$$arity=1),$&&"[]"},Opal.modules["nodejs/file"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s(a,"Kernel").$raise(s(a,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){_[t]||(_[t]=!0,i.$warn(t))}function n(t){try{return t()}catch(t){if(d.indexOf(t.code)>=0){var e=s(a,"Errno").$const_get(t.code);throw e.$new(t.message)}throw t}}var i=t.top,a=[],$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;t.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$node_require","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$delete","$match?","$sub","$attr_reader","$to_enum","$read","$chomp","$each_line"]);for(var f,_={},d=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"],h=0,p=d.length;h<p;h++)f=d[h],s(a,"Errno")["$const_defined?"](f)||s(a,"Errno").$const_set(f,s(a,"Class").$new(s(a,"SystemCallError")));return function(r,i,a){function f(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C=f=u(r,i,"File",f),N=C.$$proto,z=[C].concat(a);null==C.__fs__&&(C.__fs__=$),null==C.__path__&&(C.__path__=$),N.eof=N.path=N.fd=$,C.$include(o(o("::","IO"),"Writable")),C.$include(o(o("::","IO"),"Readable")),C.__fs__=C.$node_require("fs"),C.__path__=C.$node_require("path");var P=C.__fs__,B=C.__path__;return l(B.sep!==s(z,"Separator"))&&t.const_set(z[0],"ALT_SEPARATOR",B.sep),t.defs(C,"$read",_=function(t){return n(function(){return P.readFileSync(t).toString()})},_.$$arity=1),t.defs(C,"$write",d=function(t,e){return n(function(){return P.writeFileSync(t,e)}),e.$size()},d.$$arity=2),t.defs(C,"$exist?",h=function(t){return l(t["$respond_to?"]("path"))&&(t=t.$path()),n(function(){return P.existsSync(t)})},h.$$arity=1),t.defs(C,"$realpath",p=function(e,r,i){var a=this,o=p.$$p,s=o||$;return null==r&&(r=$),null==i&&(i=$),o&&(p.$$p=null),l(r)&&(e=a.$join(r,e)),s===$?n(function(){return P.realpathSync(e,i)}):void P.realpath(e,i,function(e,r){e?t.IOError.$new(e.message):s.$call(r)})},p.$$arity=-2),t.defs(C,"$join",y=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return B.join.apply(B,e)},y.$$arity=-1),t.defs(C,"$directory?",m=function(t){var e=this,r=$,i=$;return!!l(e["$exist?"](t))&&(r=n(function(){return!!P.lstatSync(t).isDirectory()}),l(r)||(i=e.$realpath(t),l(i["$!="](t))&&(r=n(function(){return!!P.lstatSync(i).isDirectory()}))),r)},m.$$arity=1),t.defs(C,"$file?",g=function(t){var e=this,r=$,i=$;return!!l(e["$exist?"](t))&&(r=n(function(){return!!P.lstatSync(t).isFile()}),l(r)||(i=e.$realpath(t),l(i["$!="](t))&&(r=n(function(){return!!P.lstatSync(i).isFile()}))),r)},g.$$arity=1),t.defs(C,"$readable?",v=function(t){var e=this;return!!l(e["$exist?"](t))&&"\n      try {\n        __fs__.accessSync(path, __fs__.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},v.$$arity=1),t.defs(C,"$size",b=function(t){return n(function(){return P.lstatSync(t).size})},b.$$arity=1),t.defs(C,"$open",w=function(e,r){var n=this,i=w.$$p,a=i||$,o=$;return null==r&&(r="r"),i&&(w.$$p=null),o=n.$new(e,r),a!==$?function(){try{return t.yield1(a,o)}finally{o.$close()}}():o},w.$$arity=-2),t.defs(C,"$stat",k=function(t){
return l(t["$respond_to?"]("path"))&&(t=t.$path()),o(s(z,"File"),"Stat").$new(t)},k.$$arity=1),t.defs(C,"$mtime",E=function(t){return n(function(){return P.statSync(t).mtime})},E.$$arity=1),t.defs(C,"$symlink?",x=function(t){return n(function(){return P.lstatSync(t).isSymbolicLink()})},x.$$arity=1),t.def(C,"$initialize",A=function(t,r){var i=this,a=$;return null==r&&(r="r"),r=r.$delete("b"),a=/:(.*)/,l(a["$match?"](r))&&(e("Encoding option (:encoding) is unsupported by Node.js openSync method and will be removed."),r=r.$sub(a,"")),i.path=t,i.flags=r,i.fd=n(function(){return P.openSync(t,r)})},A.$$arity=-2),C.$attr_reader("path"),t.def(C,"$read",O=function(){var t=this,e=$;return l(t.eof)?"":(e=n(function(){return P.readFileSync(t.path).toString()}),t.eof=!0,t.lineno=e.$size(),e)},O.$$arity=0),t.def(C,"$each_line",S=function(e){var r=this,n=S.$$p,i=n||$,a=$;if(null==c["/"]&&(c["/"]=$),null==e&&(e=c["/"]),n&&(S.$$p=null),l(r.eof))return function(){return i!==$?r:[].$to_enum()}();if(i!==$){a=s(z,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var o=a.$chomp(),u=a.length!=o.length,f=o.split(e),_=0,d=f.length;_<d;_++)r.lineno+=1,_<d-1||u?t.yield1(i,f[_]+e):t.yield1(i,f[_]);return r.eof=!0,r}return r.$read().$each_line()},S.$$arity=-1),t.def(C,"$write",M=function(t){var e=this;return n(function(){return P.writeSync(e.fd,t)})},M.$$arity=1),t.def(C,"$flush",T=function(){var t=this;return n(function(){return P.fsyncSync(t.fd)})},T.$$arity=0),t.def(C,"$close",R=function(){var t=this;return n(function(){return P.closeSync(t.fd)})},R.$$arity=0),t.def(C,"$mtime",I=function(){var t=this;return n(function(){return P.statSync(t.path).mtime})},I.$$arity=0),$&&"mtime"}(a[0],s(a,"IO"),a),function(e,r,i){function a(){}var o,s,l,c=a=u(e,r,"Stat",a),f=c.$$proto;[c].concat(i);null==c.__fs__&&(c.__fs__=$),f.path=$,c.__fs__=c.$node_require("fs");var _=c.__fs__;return t.def(c,"$initialize",o=function(t){var e=this;return e.path=t},o.$$arity=1),t.def(c,"$file?",s=function(){var t=this;return n(function(){return _.statSync(t.path).isFile()})},s.$$arity=0),t.def(c,"$mtime",l=function(){var t=this;return n(function(){return _.statSync(t.path).mtime})},l.$$arity=0),$&&"mtime"}(s(a,"File"),null,a)},Opal.modules["nodejs/dir"]=function(e){var r=(e.top,[]),n=e.nil,i=(e.const_get_qualified,e.const_get_relative),a=(e.breaker,e.slice,e.klass),$=e.truthy,o=e.send;return e.add_stubs(["$node_require","$respond_to?","$flat_map","$to_path","$coerce_to!"]),function(r,s,u){function l(){}var c=l=a(r,s,"Dir",l),f=(c.$$proto,[c].concat(u));null==c.__glob__&&(c.__glob__=n),null==c.__fs__&&(c.__fs__=n),c.__glob__=c.$node_require("glob"),c.__fs__=c.$node_require("fs");var _=c.__glob__,d=c.__fs__;return function(r,a){var s,u,l,c,f,h=(r.$$proto,[r].concat(a));return e.def(r,"$[]",s=function(t){return _.sync(t)},s.$$arity=1),e.def(r,"$pwd",u=function(){return t.cwd()},u.$$arity=0),e.def(r,"$mkdir",l=function(t){return d.mkdirSync(t)},l.$$arity=1),e.def(r,"$entries",c=function(t){for(var e=[],r=d.readdirSync(t),n=0,i=r.length;n<i;n++)e.push(r[n]);return e},c.$$arity=1),e.def(r,"$glob",f=function(t){var e,r=this;return $(t["$respond_to?"]("each"))||(t=[t]),o(t,"flat_map",[],(e=function(t){e.$$s||this;return null==t&&(t=n),$(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(h,"Opal")["$coerce_to!"](t,i(h,"String"),"to_str"),_.sync(t)},e.$$s=r,e.$$arity=1,e))},f.$$arity=1),e.alias(r,"getwd","pwd")}(e.get_singleton_class(c),f)}(r[0],null,r)},Opal.modules["nodejs/io"]=function(e){function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var i,a,$=e.top,o=[],s=e.nil,u=(e.const_get_qualified,e.const_get_relative),l=(e.breaker,e.slice,e.klass),c=e.lambda,f=e.send,_=s;return e.add_stubs(["$node_require","$attr_reader","$write","$read","$write_proc=","$-","$tty="]),function(t,r,i){function a(){}var $,o,c,f,_=a=l(t,r,"IO",a),d=(_.$$proto,[_].concat(i));null==_.__fs__&&(_.__fs__=s),_.__fs__=_.$node_require("fs");var h=_.__fs__;return _.$attr_reader("eof"),_.$attr_reader("lineno"),e.def(_,"$initialize",$=function(){var t=this;return t.eof=!1,t.lineno=0},$.$$arity=0),e.defs(_,"$write",o=function(t,e){return u(d,"File").$write(t,e)},o.$$arity=2),e.defs(_,"$read",c=function(t){return u(d,"File").$read(t)},c.$$arity=1),e.defs(_,"$binread",f=function(t){return n(function(){return h.readFileSync(t).toString("binary")})},f.$$arity=1),s&&"binread"}(o[0],null,o),_=[c((i=function(e){i.$$s||this;return null==e&&(e=s),t.stdout.write(e)},i.$$s=$,i.$$arity=1,i))],f(u(o,"STDOUT"),"write_proc=",e.to_a(_)),_[r(_.length,1)],_=[c((a=function(e){a.$$s||this;return null==e&&(e=s),t.stderr.write(e)},a.$$s=$,a.$$arity=1,a))],f(u(o,"STDERR"),"write_proc=",e.to_a(_)),_[r(_.length,1)],_=[!0],f(u(o,"STDOUT"),"tty=",e.to_a(_)),_[r(_.length,1)],_=[!0],f(u(o,"STDERR"),"tty=",e.to_a(_)),_[r(_.length,1)]},Opal.modules["nodejs/open-uri"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$node_require"]),function(e,i){var a,$,o=a=n(e,"OpenURI");o.$$proto,[o].concat(i);null==o.__xmlhttprequest__&&(o.__xmlhttprequest__=r),o.__xmlhttprequest__=o.$node_require("xmlhttprequest");var s=o.__xmlhttprequest__.XMLHttpRequest;t.defs(o,"$request",$=function(t){var e=new s;return e.open("GET",t,!1),e.send(),e},$.$$arity=1)}(e[0],e)},Opal.modules.nodejs=function(t){var e=t.top,r=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$require"]),function(t,e){var r,i=r=n(t,"NodeJS");i.$$proto,[i].concat(e)}(r[0],r),e.$require("nodejs/kernel"),e.$require("nodejs/file"),e.$require("nodejs/dir"),e.$require("nodejs/io"),e.$require("nodejs/open-uri")}}).call(e,r(10))},36:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,process){(function(t){function e(){}function r(){}function n(){}function i(){}function a(){}function $(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(i=t[r].$$const[e],null!=i)return i}function s(t,e){var r,n,i;if(null!=t)for(i=v.ancestors(t),r=0,n=i.length;r<n;r++)if(i[r].$$const&&w.call(i[r].$$const,e))return i[r].$$const[e]}function u(t,e){if(null==t||t.$$is_module)return s(y,e)}function l(t,e,r){if(!r)return(t||y).$const_missing(e)}function c(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;r>=0;r--)n="$"+i[r],v.bridge_method(t,e,n,e.$$proto[n])}function f(t,e){var r=e.$__id__();b[r]||(b[r]=[]),b[r].push(t)}var _,d=this;if("undefined"!=typeof global&&(d=global),"undefined"!=typeof window&&(d=window),_="object"==typeof d.console?d.console:null==d.console?d.console={}:{},"log"in _||(_.log=function(){}),"warn"in _||(_.warn=_.log),"undefined"!=typeof this.Opal)return _.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var h,p,y,m,g,v=this.Opal={},b={};v.global=d,d.Opal=v,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var w=Object.hasOwnProperty,k=(v.slice=Array.prototype.slice,4),E=k;v.uid=function(){return E+=2},v.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=v.uid())},v.gvars={},v.exit=function(t){v.gvars.DEBUG&&_.log("Exited with status "+t)},v.exceptions=[],v.pop_exception=function(){v.gvars["!"]=v.exceptions.pop()||h},v.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},v.truthy=function(t){return t!==h&&null!=t&&(!t.$$is_boolean||1==t)},v.falsy=function(t){return t===h||null==t||t.$$is_boolean&&0==t},v.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return n=$(t,e),null!=n?n:(n=l(t,e,r),null!=n?n:void 0)}},v.const_get_qualified=function(t,e,r){var n,i,a,o=v.const_cache_version;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),a=i[e],null==a||a[0]!==o?(null!=(n=$(t,e))||null!=(n=s(t,e)),i[e]=[o,n]):n=a[1],null!=n?n:l(t,e,r)}},v.const_cache_version=1,v.const_get_relative=function(t,e,r){var n,i,a,c=t[0],f=v.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),a=i[e],null==a||a[0]!==f?(null!=(n=$(c,e))||null!=(n=o(t,e))||null!=(n=s(c,e))||null!=(n=u(c,e)),i[e]=[f,n]):n=a[1],null!=n?n:l(c,e,r)},v.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=y),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==h||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,v.const_cache_version++,t===y&&(v[e]=r),r},v.constants=function(t,e){null==e&&(e=!0);var r,n,i,a,$=[t],o={};for(e&&($=$.concat(v.ancestors(t))),e&&t.$$is_module&&($=$.concat([v.Object]).concat(v.ancestors(v.Object))),n=0,i=$.length;n<i&&(r=$[n],t===y||r!=y);n++)for(a in r.$$const)o[a]=!0;return Object.keys(o)},v.const_remove=function(t,e){if(v.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],h;throw v.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},v.klass=function(t,e,r,n){var i,a,o;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&(a=e,e=y),i=$(t,r)){if(!i.$$is_class)throw v.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw v.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=y),o=a||v.boot_class_alloc(r,n,e),i=v.setup_class_object(r,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,v.const_set(t,r,i),t[r]=i,a?v.bridge(i,o):e.$inherited&&e.$inherited(i),i},v.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},v.setup_module_or_class=function(t){t.$$id=v.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=h,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},v.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var a=function(){};a.prototype=new i;var $=new a;return v.setup_module_or_class($),$.$$alloc=e,$.$$name=t||h,a.displayName="#<Class:"+(t||"#<Class:"+$.$$id+">")+">",$.$$proto=e.prototype,$.$$proto.$$class=$,$.constructor=a,$.$$is_class=!0,$.$$class=g,$},v.module=function(t,e){var r;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),r=$(t,e),null==r&&t===y&&(r=s(y,e)),r){if(!r.$$is_module&&r!==y)throw v.TypeError.$new(e+" is not a module")}else r=v.module_allocate(m),v.const_set(t,e,r);return r},v.module_initialize=function(t,e){if(e!==h){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return h},v.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r,i={};return v.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto=i,n.constructor=r,n.$$is_module=!0,n.$$class=m,n.$$super=t,n.$$parent=t,n},v.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?v.build_class_singleton_class(t):v.build_object_singleton_class(t)},v.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===p?g:v.build_class_singleton_class(t.$$super),n=v.setup_class_object(null,e,r.$$name,r.constructor),n.$$super=r,n.$$parent=r,n.$$is_singleton=!0,n.$$singleton_of=t,t.$$meta=n)},v.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=v.boot_class_alloc(r,function(){},e),i=v.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},v.class_variables=function(t){var e,r=v.ancestors(t),n=r.length,i={};for(e=n-1;e>=0;e--){var a=r[e];for(var $ in a.$$cvars)i[$]=a.$$cvars[$]}return i},v.class_variable_set=function(t,e,r){var n,i=v.ancestors(t),a=i.length;for(n=a-2;n>=0;n--){var $=i[n];if(w.call($.$$cvars,e))return $.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},v.bridge_method=function(t,e,r,n){var i,a,$,o;for(i=t.$$bridge.$ancestors(),a=0,o=i.length;a<o&&($=i[a],!w.call($.$$proto,r)||!$.$$proto[r]||$.$$proto[r].$$donated||$.$$proto[r].$$stub||$===e);a++)if($===e){t.prototype[r]=n;break}},v.bridge_methods=function(t,e){var r,n=b[t.$__id__()],i=e.$__id__();if(n)for(b[i]=n.slice(),r=n.length-1;r>=0;r--)c(n[r],e)},v.has_cyclic_dep=function t(e,r,n,i){var a,$,o;for(a=r.length-1;a>=0;a--)if(o=r[a],$=o.$$id,!i[$]){if(i[$]=!0,$===e)return!0;if(t(e,o[n],n,i))return!0}return!1},v.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&v.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw v.ArgumentError.$new("cyclic include detected");for(v.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),v.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,n=t.$instance_methods(),i=n.length-1;i>=0;i--)v.update_includer(t,e,"$"+n[i])},v.stubs={},v.bridge=function(t,r){if(r.$$bridge)throw v.ArgumentError.$new("already bridged");v.stub_subscribers.push(r.prototype);for(var n in v.stubs)n in r.prototype||(r.prototype[n]=v.stub_for(n));r.prototype.$$class=t,r.$$bridge=t;for(var i=t.$ancestors(),a=i.length-1;a>=0;a--)f(r,i[a]),c(r,i[a]);for(var $ in e.prototype){var o=e.prototype[o];!o||!o.$$stub||$ in r.prototype||(r.prototype[$]=o)}return t},v.update_includer=function(t,e,r){var n,i,a,$,o,s,u,l;if(a=t.$$proto[r],n=e.$$proto,i=n[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for($=e.$$inc,o=0,s=$.length;o<s;o++)$[o]===i.$$donated&&(u=o),$[o]===t&&(l=o);u<=l&&(n[r]=a,n[r].$$donated=t)}else n[r]=a,n[r].$$donated=t;else;e.$$included_in&&v.update_includers(e,r)},v.update_includers=function(t,e){var r,n,i,a;if(a=t.$$included_in)for(r=0,n=a.length;r<n;r++)i=a[r],v.update_includer(t,i,e)},v.ancestors=function(t){for(var e,r,n,i,a=t,$=[];a;){for($.push(a),r=a.$$inc.length-1;r>=0;r--)for(e=v.ancestors(a.$$inc[r]),n=0,i=e.length;n<i;n++)$.push(e[n]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return $},v.add_stubs=function(t){var e,r,n,i,a,$=v.stub_subscribers,o=t.length,s=$.length,u=v.stubs;for(r=0;r<o;r++)if(i=t[r],!u.hasOwnProperty(i))for(u[i]=!0,a=v.stub_for(i),n=0;n<s;n++)e=$[n],i in e||(e[i]=a)},v.stub_subscribers=[e.prototype],v.add_stub_for=function(t,e){var r=v.stub_for(e);t[e]=r},v.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},v.ac=function(t,e,r,n){var i="";throw i+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",i+=n,v.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},v.block_ac=function(t,e,r){var n="`block in "+r+"'";throw v.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},v.find_super_dispatcher=function(t,e,r,n,i){var a,$;if(a=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:v.find_obj_super_dispatcher(t,e,r),$=a["$"+e],!n&&$.$$stub&&v.Kernel.$method_missing===t.$method_missing)throw v.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return $},v.find_iter_super_dispatcher=function(t,e,r,n,i){var a=e;if(!r)throw v.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw v.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(a=r.$$jsid),v.find_super_dispatcher(t,a,r,n)},v.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(n=v.find_owning_class(n,r),!n)throw new Error("could not find current class for super()");return v.find_super_func(n,"$"+e,r)},v.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},v.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},v.ret=function(t){throw v.returner.$v=t,v.returner},v.brk=function(t,e){throw e.$v=t,e},v.new_brk=function(){return new Error("unexpected break")},v.yield1=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=v.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},v.yieldX=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},v.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=v.rescue(t,n);if(i)return i}else{if(n===v.JS.Error)return n;if(n["$==="](t))return n}}return null},v.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=v.ancestors(t.$$is_class?v.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},v.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw v.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},v.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===h)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},v.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===h)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},v.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):v.hash2([],{})},v.kwrestargs=function(t,e){var r=[],n={},i=null,a=t.$$smap;for(i in a)e[i]||(r.push(i),n[i]=a[i]);return v.hash2(r,n)},v.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},v.lambda=function(t){return t.$$is_lambda=!0,t},v.def=function(t,e,r){t===v.top?v.defn(v.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?v.defs(t,e,r):v.defn(t,e,r)},v.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(v.update_includers(t,e),t.$$module_function&&v.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(n)for(var i=n.length-1;i>=0;i--)v.bridge_method(n[i],t,e,r);var a=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||a?a&&a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),h},v.defs=function(t,e,r){v.defn(v.get_singleton_class(t),e,r)},v.rdef=function(t,e){if(!w.call(t.$$proto,e))throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},v.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());v.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},v.alias=function(t,e,r){var n,i="$"+e,a="$"+r,$=t.$$proto["$"+r];if(t.$$eval)return v.alias(v.get_singleton_class(t),e,r);if("function"!=typeof $||$.$$stub){for(var o=t.$$super;"function"!=typeof $&&o;)$=o[a],o=o.$$super;if("function"!=typeof $||$.$$stub)throw v.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return $.$$alias_of&&($=$.$$alias_of),n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),v.send(this,$,t,i)},n.displayName=e,n.length=$.length,n.$$arity=$.$$arity,n.$$parameters=$.$$parameters,n.$$source_location=$.$$source_location,n.$$alias_of=$,n.$$alias_name=e,v.defn(t,i,n),t},v.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw v.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return v.defn(t,n,i),t},v.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},v.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,a=t.$$keys,$=t.$$smap,o=a.length;i<o;i++)r=a[i],r.$$is_string?n=$[r]:(n=r.value,r=r.key),v.hash_put(e,r,n)},v.hash_put=function(e,r,n){if(r.$$is_string)return w.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,a,$;if(i=e.$$by_identity?v.id(r):r.$hash(),!w.call(e.$$map,i))return a={key:r,key_hash:i,value:n},e.$$keys.push(a),void(e.$$map[i]=a);for(a=e.$$map[i];a;){if(r===a.key||r["$eql?"](a.key)){$=t,a.value=n;break}$=a,a=a.next}$&&(a={key:r,key_hash:i,value:n},e.$$keys.push(a),$.next=a)},v.hash_get=function(t,e){if(e.$$is_string){if(w.call(t.$$smap,e))return t.$$smap[e]}else{var r,n;if(r=t.$$by_identity?v.id(e):e.$hash(),w.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}}},v.hash_delete=function(t,e){var r,n,i=t.$$keys,a=i.length;if(e.$$is_string){if(!w.call(t.$$smap,e))return;for(r=0;r<a;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var $=e.$hash();if(w.call(t.$$map,$))for(var o,s=t.$$map[$];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<a;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[$]=s.next:delete t.$$map[$],n}o=s,s=s.next}},v.hash_rehash=function(e){for(var r,n,i,a=0,$=e.$$keys.length;a<$;a++)if(!e.$$keys[a].$$is_string&&(r=e.$$keys[a].key.$hash(),r!==e.$$keys[a].key_hash)){for(n=e.$$map[e.$$keys[a].key_hash],i=t;n;){if(n===e.$$keys[a]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[a].key_hash]=n.next:delete e.$$map[e.$$keys[a].key_hash];break}i=n,n=n.next}if(e.$$keys[a].key_hash=r,w.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[a]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[a])}else e.$$map[r]=e.$$keys[a]}},v.hash=function(){var t,e,r,n,i,a,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(e=new v.Hash.$$alloc,v.hash_init(e),1===$&&arguments[0].$$is_array){for(t=arguments[0],n=t.length,r=0;r<n;r++){if(2!==t[r].length)throw v.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],a=t[r][1],v.hash_put(e,i,a)}return e}if(1===$){t=arguments[0];for(i in t)w.call(t,i)&&(a=t[i],v.hash_put(e,i,a));return e}if($%2!==0)throw v.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<$;r+=2)i=arguments[r],a=arguments[r+1],v.hash_put(e,i,a);return e},v.hash2=function(t,e){var r=new v.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},v.range=function(t,e,r){var n=new v.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},v.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},v.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(t){var e,r,n=[],i="/";"."!==v.current_dir&&(t=v.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/^\.\//,""),t=t.replace(/\.(rb|opal|js)$/,""),e=t.split(i);for(var a=0,$=e.length;a<$;a++)r=e[a],""!==r&&(".."===r?n.pop():n.push(r));return n.join(i)},v.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=v.normalize(t[e]),v.require_table[n])return;v.loaded_features.push(n),v.require_table[n]=!0}},v.load=function(t){t=v.normalize(t),v.loaded([t]);var e=v.modules[t];if(e)e(v);else{var r=v.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw v.LoadError?v.LoadError.$new(n):n;"warning"===r&&_.warn("WARNING: LoadError: "+n)}return!0},v.require=function(t){return t=v.normalize(t),!v.require_table[t]&&v.load(t)},v.boot_class_alloc("BasicObject",e),v.boot_class_alloc("Object",r,e),v.boot_class_alloc("Module",i,r),v.boot_class_alloc("Class",n,i),v.BasicObject=p=v.setup_class_object("BasicObject",e,"Class",n),v.Object=y=v.setup_class_object("Object",r,"BasicObject",p.constructor),v.Module=m=v.setup_class_object("Module",i,"Object",y.constructor),v.Class=g=v.setup_class_object("Class",n,"Module",m.constructor),p.$$const.BasicObject=p,v.const_set(y,"BasicObject",p),v.const_set(y,"Object",y),v.const_set(y,"Module",m),v.const_set(y,"Class",g),p.$$class=g,y.$$class=g,m.$$class=g,g.$$class=g,p.$$super=null,y.$$super=p,m.$$super=y,g.$$super=m,p.$$parent=null,y.$$parent=p,m.$$parent=y,g.$$parent=m,y.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},y.$$proto.$require=v.require,v.$$=y.$$,v.top=new y.$$alloc,v.top.$to_s=v.top.$inspect=function(){return"main"},v.klass(y,y,"NilClass",a),h=v.nil=new a,h.$$id=k,h.call=h.apply=function(){throw v.LocalJumpError.$new("no block given")},v.breaker=new Error("unexpected break (old)"),v.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),a=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,$){var o,s,u,l,c,f,_,d,h,p,y,m,g,v,b,w=o=i(e,"Opal"),k=(w.$$proto,[w].concat($));t.defs(w,"$bridge",s=function(e,r){return t.bridge(e,r)},s.$$arity=2),t.defs(w,"$type_error",u=function(t,e,i,$){var o;return null==i&&(i=r),null==$&&($=r),a(a(o=i)?$:o)?n(k,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+$.$class()+")"):n(k,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},u.$$arity=-3),t.defs(w,"$coerce_to",l=function(t,e,r){var n=this;return a(e["$==="](t))?t:(a(t["$respond_to?"](r))||n.$raise(n.$type_error(t,e)),t.$__send__(r))},l.$$arity=3),t.defs(w,"$coerce_to!",c=function(t,e,n){var i=this,$=r;return $=i.$coerce_to(t,e,n),a(e["$==="]($))||i.$raise(i.$type_error(t,e,n,$)),$},c.$$arity=3),t.defs(w,"$coerce_to?",f=function(t,e,n){var i=this,$=r;return a(t["$respond_to?"](n))?($=i.$coerce_to(t,e,n),a($["$nil?"]())?r:(a(e["$==="]($))||i.$raise(i.$type_error(t,e,n,$)),$)):r},f.$$arity=3),t.defs(w,"$try_convert",_=function(t,e,n){return a(e["$==="](t))?t:a(t["$respond_to?"](n))?t.$__send__(n):r},_.$$arity=3),t.defs(w,"$compare",d=function(t,e){var i=this,$=r;return $=t["$<=>"](e),a($===r)&&i.$raise(n(k,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),$},d.$$arity=2),t.defs(w,"$destructure",h=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},h.$$arity=1),t.defs(w,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(w,"$inspect_obj",y=function(e){return t.inspect(e)},y.$$arity=1),t.defs(w,"$instance_variable_name!",m=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||e.$raise(n(k,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(w,"$class_variable_name!",g=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(t.length<3||"@@"!==t.slice(0,2))&&e.$raise(n(k,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),t.defs(w,"$const_name!",v=function(t){var e=this;return t=n(k,"Opal")["$coerce_to!"](t,n(k,"String"),"to_str"),a(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&e.$raise(n(k,"NameError"),"wrong constant name "+t),t},v.$$arity=1),t.defs(w,"$pristine",b=function(t,e){var n,i=arguments.length,a=i-1;a<0&&(a=0),n=new Array(a);for(var $=1;$<i;$++)n[$-1]=arguments[$];for(var o,s,u=n.length-1;u>=0;u--)o=n[u],s=t.$$proto["$"+o],s&&!s.$$stub&&(s.$$pristine=!0);return r},b.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_extend_object_42,TMP_Module_method_added_43,TMP_Module_method_removed_44,TMP_Module_method_undefined_45,TMP_Module_module_eval_46,TMP_Module_module_exec_48,TMP_Module_method_defined$q_49,TMP_Module_module_function_50,TMP_Module_name_51,TMP_Module_remove_const_52,TMP_Module_to_s_53,TMP_Module_undef_method_54,TMP_Module_instance_variables_55,TMP_Module_dup_56,TMP_Module_copy_class_variables_57,TMP_Module_copy_constants_58;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){
var t,e=this;return t=Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,r=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,r)},TMP_Module_initialize_2.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module");var r,n,i,a=e;if(a===t)return!1;for(n=0,r=Opal.ancestors(e),i=r.length;n<i;n++)if(r[n]===t)return!0;for(n=0,r=Opal.ancestors(t),i=r.length;n<i;n++)if(r[n]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_lt(r,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_gt(r,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,r=nil;return e===t?0:$truthy($$($nesting,"Module")["$==="](t))?(r=$rb_lt(e,t),$truthy(r["$nil?"]())?nil:$truthy(r)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var r=this;return Opal.alias(r,t,e),r},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var r=this;return null==e&&(e=t),Opal.alias_native(r,t,e),r},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return $send(r,"attr_reader",Opal.to_a(e)),$send(r,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s,l=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(l);$[l]=nil,c.$$parameters=[],c.$$arity=0,r.$$is_singleton?$.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s+"=",l=Opal.ivar(s),c=function(t){return function(e){return this[t]=e}}(l);c.$$parameters=[["req"]],c.$$arity=1,$[l]=nil,r.$$is_singleton?$.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){var r=this;return null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=$$($nesting,"Opal")["$class_variable_name!"](t);var r=Opal.class_variables(e)[t];return null==r&&e.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),r},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var r=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(r,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var r,n,i,a=(e.$$nesting||[]).concat(Opal.Object),$={};for(n=0,i=a.length;n<i;n++)for(r in a[n].$$const)$[r]=!0;return Object.keys($)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var t=this;return t.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){var r=this;null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,i,a,$=[r];for(e&&($=$.concat(Opal.ancestors(r)),r.$$is_module&&($=$.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,a=$.length;i<a;i++)if(n=$[i],null!=n.$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(t.indexOf("::")!=-1&&"::"!=t)?$send(t.$split("::"),"inject",[n],(r=function(t,e){r.$$s||this;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},r.$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,r=nil;if(e.$$autoload){var n=e.$$autoload[t];if(n)return e.$require(n),e.$const_get(t)}return r=function(){return e["$=="]($$($nesting,"Object"))?t:""+e+"::"+t}(),e.$raise($$($nesting,"NameError").$new("uninitialized constant "+r,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r,n=this;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(n,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_31=function(t,e){var r,n,i=this,a=TMP_Module_define_method_31.$$p,$=a||nil,o=nil;a&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&$===nil)&&i.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),$=$truthy(r=$)?r:function(){return o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda((n=function(t){var r,i=n.$$s||this,a=nil,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<$;s++)r[s-0]=arguments[s];return a=e.$bind(i),$send(a,"call",Opal.to_a(r))},n.$$s=i,n.$$arity=-1,n)):i.$raise($$($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)")}();var s="$"+t;return $.$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(i,s,$),t},TMP_Module_define_method_31.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.rdef(r,"$"+e[$]);return r},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var t=this;return!!t.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--){var o=e[$];o.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(r),o.$included(r)}return r},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,r=function(t){for(var e=[],n=0,i=t.$$inc.length;n<i;n++){var a=t.$$inc[n];e.push(a),e=e.concat(r(a))}return e};if(t=r(e),e.$$is_class)for(var n=e;n;n=n.$$super)t=t.concat(r(n));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,i,a=Opal.ancestors(e);for(r=0,n=a.length;r<n;r++)if(i=a[r],i===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var r,n=[],i=e.$$proto;for(var a in i)if("$"===a.charAt(0)&&"$"!==a.charAt(1)&&(r=i[a],"function"==typeof r&&!r.$$stub)){if(!e.$$is_module){if(e!==Opal.BasicObject&&r===Opal.BasicObject.$$proto[a])continue;if(!t&&!i.hasOwnProperty(a))continue;if(!t&&r.$$donated)continue}n.push(a.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_42=function(t){return nil},TMP_Module_extend_object_42.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_43=function(t){return nil},TMP_Module_method_added_43.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_44=function(t){return nil},TMP_Module_method_removed_44.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_45=function(t){return nil},TMP_Module_method_undefined_45.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_46=function $$module_eval($a_rest){var $b,TMP_47,self=this,args,$iter=TMP_Module_module_eval_46.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_46.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_47=function(){var self=TMP_47.$$s||this;return function(self){return eval(compiled)}(self)},TMP_47.$$s=self,TMP_47.$$arity=0,TMP_47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),""+("wrong number of arguments ("+args.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_48=function(t){var e,r=this,n=TMP_Module_module_exec_48.$$p,i=n||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];n&&(TMP_Module_module_exec_48.$$p=null),i===nil&&r.$raise($$($nesting,"LocalJumpError"),"no block given");var s,u=i.$$s;return i.$$s=null,s=i.apply(r,e),i.$$s=u,s},TMP_Module_module_exec_48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_49=function(t){var e=this,r=e.$$proto["$"+t];return!!r&&!r.$$stub},TMP_Module_method_defined$q_49.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_50=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];if(0===e.length)r.$$module_function=!0;else for(var $=0,o=e.length;$<o;$++){var s=e[$],u="$"+s,l=r.$$proto[u];Opal.defs(r,u,l)}return r},TMP_Module_module_function_50.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_51=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],r=t;r;){if(r.$$name===nil||null==r.$$name)return nil;if(e.unshift(r.$$name),r=r.$$base_module,r===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_51.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_52=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_52.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_53=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_53.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_54=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)Opal.udef(r,"$"+e[$]);return r},TMP_Module_undef_method_54.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_55=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!e["$include?"](n)&&r.push("@"+n);return r},TMP_Module_instance_variables_55.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_56=function(){var t=this,e=TMP_Module_dup_56.$$p,r=nil,n=nil,i=nil,a=nil;for(e&&(TMP_Module_dup_56.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return r=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_56,!1),n,e),r.$copy_class_variables(t),r.$copy_constants(t),r},TMP_Module_dup_56.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_57=function(t){var e=this;for(var r in t.$$cvars)e.$$cvars[r]=t.$$cvars[r]},TMP_Module_copy_class_variables_57.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_58=function(t){var e,r=this,n=t.$$const;for(e in n)Opal.const_set(r,e,n[e])},TMP_Module_copy_constants_58.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),$=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function s(){}var u,l,c,f,_,d,h,p=s=a(e,r,"Class",s),y=(p.$$proto,[p].concat(o));return t.defs(p,"$new",u=function(e){var r=u.$$p,a=r||n;if(null==e&&(e=i(y,"Object")),r&&(u.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var $=t.boot_class_alloc(null,function(){},e),o=t.setup_class_object(null,$,e.$$name,e.constructor);return o.$$super=e,o.$$parent=e,e.$inherited(o),t.module_initialize(o,a),o},u.$$arity=-1),t.def(p,"$allocate",l=function(){var e=this,r=new e.$$alloc;return r.$$id=t.uid(),r},l.$$arity=0),t.def(p,"$inherited",c=function(t){return n},c.$$arity=1),t.def(p,"$initialize_dup",f=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},f.$$arity=1),t.def(p,"$new",_=function(e){var r,i=this,a=_.$$p,$=a||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];a&&(_.$$p=null);var l=i.$allocate();return t.send(l,l.$initialize,r,$),l},_.$$arity=-1),t.def(p,"$superclass",d=function(){var t=this;return t.$$super||n},d.$$arity=0),t.def(p,"$to_s",h=function(){var e=this,r=h.$$p;r&&(h.$$p=null);var n=e.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":$(e,t.find_super_dispatcher(e,"to_s",h,!1),[],null)},h.$$arity=0),n&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){var e=this;return e===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){var e=this;return e["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=this,i=TMP_BasicObject___send___5.$$p,a=i||nil,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var u=n["$"+t];return u?(a!==nil&&(u.$$p=a),u.apply(n,r)):(a!==nil&&(n.$method_missing.$$p=a),n.$method_missing.apply(n,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){var e=this;return e["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=this,n=TMP_BasicObject_instance_exec_10.$$p,i=n||nil,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var s,u=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{s=i.apply(r,e)}finally{r.$$eval=!1}}else s=i.apply(r,e);return i.$$s=u,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var r,n=this,i=TMP_BasicObject_method_missing_14.$$p,a=nil,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return i&&(TMP_BasicObject_method_missing_14.$$p=null),a=function(){return $truthy(n.$inspect&&!n.$inspect.$$stub)?"undefined method `"+t+"' for "+n.$inspect()+":"+n.$$class:"undefined method `"+t+"' for "+n.$$class}(),$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(a,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy,s=t.gvars,u=t.hash2,l=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et=f=$(r,"Kernel"),xt=(Et.$$proto,[Et].concat(c));t.def(Et,"$method_missing",_=function(t,e){var r,n=this,i=_.$$p,$=arguments.length,o=$-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<$;s++)r[s-1]=arguments[s];return i&&(_.$$p=null),n.$raise(a(xt,"NoMethodError").$new("undefined method `"+t+"' for "+n.$inspect(),t,r))},_.$$arity=-2),t.def(Et,"$=~",d=function(t){return!1},d.$$arity=1),t.def(Et,"$!~",h=function(t){var e=this;return e["$=~"](t)["$!"]()},h.$$arity=1),t.def(Et,"$===",p=function(t){var e,r=this;return o(e=r.$object_id()["$=="](t.$object_id()))?e:r["$=="](t)},p.$$arity=1),t.def(Et,"$<=>",y=function(t){var e=this;e.$$comparable=!0;var r=e["$=="](t);return r&&r!==n?0:n},y.$$arity=1),t.def(Et,"$method",m=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(a(xt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),a(xt,"Method").$new(e,r.$$owner||e.$class(),r,t)},m.$$arity=1),t.def(Et,"$methods",g=function(e){var r=this;null==e&&(e=!0);var i=[];for(var a in r)if("$"==a[0]&&"function"==typeof r[a]){if((0==e||e===n)&&!t.hasOwnProperty.call(r,a))continue;void 0===r[a].$$stub&&i.push(a.substr(1))}return i},g.$$arity=-1),t.alias(Et,"public_methods","methods"),t.def(Et,"$Array",v=function(t){var e;return t===n?[]:t.$$is_array?t:(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"Array"),"to_ary"),e!==n?e:(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"Array"),"to_a"),e!==n?e:[t]))},v.$$arity=1),t.def(Et,"$at_exit",b=function(){var t,e=b.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(b.$$p=null),s.__at_exit__=o(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},b.$$arity=0),t.def(Et,"$caller",w=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},w.$$arity=-1),t.def(Et,"$class",k=function(){var t=this;return t.$$class},k.$$arity=0),t.def(Et,"$copy_instance_variables",E=function(t){var e,r,n,i=this,a=Object.keys(t);for(e=0,r=a.length;e<r;e++)n=a[e],"$"!==n.charAt(0)&&t.hasOwnProperty(n)&&(i[n]=t[n])},E.$$arity=1),t.def(Et,"$copy_singleton_methods",x=function(e){var r,n=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,a=t.get_singleton_class(n).$$proto;for(r in i)"$"===r.charAt(0)&&i.hasOwnProperty(r)&&(a[r]=i[r])}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(n[r]=e[r])},x.$$arity=1),t.def(Et,"$clone",A=function(e){var r,i=this,a=n;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=u([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),a=i.$class().$allocate(),a.$copy_instance_variables(i),a.$copy_singleton_methods(i),a.$initialize_clone(i),a},A.$$arity=-1),t.def(Et,"$initialize_clone",O=function(t){var e=this;return e.$initialize_copy(t)},O.$$arity=1),t.def(Et,"$define_singleton_method",S=function(t,e){var r=this,i=S.$$p,a=i||n;return i&&(S.$$p=null),l(r.$singleton_class(),"define_method",[t,e],a.$to_proc())},S.$$arity=-2),t.def(Et,"$dup",M=function(){var t=this,e=n;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$initialize_dup(t),e},M.$$arity=0),t.def(Et,"$initialize_dup",T=function(t){var e=this;return e.$initialize_copy(t)},T.$$arity=1),t.def(Et,"$enum_for",R=function(e,r){var i,$=this,o=R.$$p,s=o||n;null==e&&(e="each");var u=arguments.length,c=u-1;c<0&&(c=0),i=new Array(c);for(var f=1;f<u;f++)i[f-1]=arguments[f];return o&&(R.$$p=null),l(a(xt,"Enumerator"),"for",[$,e].concat(t.to_a(i)),s.$to_proc())},R.$$arity=-1),t.alias(Et,"to_enum","enum_for"),t.def(Et,"$equal?",I=function(t){var e=this;return e===t},I.$$arity=1),t.def(Et,"$exit",C=function(e){var r,i=n;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=o(r=s.__at_exit__)?r:[];!o(s.__at_exit__["$empty?"]());)i=s.__at_exit__.$pop(),i.$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),n},C.$$arity=-1),t.def(Et,"$extend",N=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=r.$singleton_class(),s=e.length-1;s>=0;s--){var u=e[s];u.$$is_module||r.$raise(a(xt,"TypeError"),"wrong argument type "+u.$class()+" (expected Module)"),u.$append_features(o),u.$extend_object(r),u.$extended(r)}return r},N.$$arity=-1),t.def(Et,"$format",z=function(t,e){function r(){P&K&&p.$raise(a(xt,"ArgumentError"),"flag after width"),P&V&&p.$raise(a(xt,"ArgumentError"),"flag after precision")}function i(){P&K&&p.$raise(a(xt,"ArgumentError"),"width given twice"),P&V&&p.$raise(a(xt,"ArgumentError"),"width after precision")}function $(t){return t>=h.length&&p.$raise(a(xt,"ArgumentError"),"too few arguments"),h[t]}function u(){switch(F){case-1:p.$raise(a(xt,"ArgumentError"),"unnumbered("+L+") mixed with numbered");case-2:p.$raise(a(xt,"ArgumentError"),"unnumbered("+L+") mixed with named")}return F=L++,$(F-1)}function l(t){return F>0&&p.$raise(a(xt,"ArgumentError"),"numbered("+t+") after unnumbered("+F+")"),F===-2&&p.$raise(a(xt,"ArgumentError"),"numbered("+t+") after named"),t<1&&p.$raise(a(xt,"ArgumentError"),"invalid index - "+t+"$"),F=-1,$(t-1)}function c(){return void 0===z?u():z}function f(e){for(var r,n="";;w++){if(w===D&&p.$raise(a(xt,"ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(w)<48||t.charCodeAt(w)>57)return w--,r=parseInt(n,10)||0,r>2147483647&&p.$raise(a(xt,"ArgumentError"),""+e+" too big"),r;n+=t.charAt(w)}}function _(e){var r,n=f(e);return"$"===t.charAt(w+1)?(w++,r=l(n)):r=u(),r.$to_int()}var d,h,p=this,y=n;null==s.DEBUG&&(s.DEBUG=n);var m=arguments.length,g=m-1;g<0&&(g=0),h=new Array(g);for(var v=1;v<m;v++)h[v-1]=arguments[v];o((d=h.$length()["$=="](1))?h["$[]"](0)["$respond_to?"]("to_ary"):h.$length()["$=="](1))&&(y=a(xt,"Opal")["$coerce_to?"](h["$[]"](0),a(xt,"Array"),"to_ary"),o(y["$nil?"]())||(h=y.$to_a()));var b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B="",q=0,D=t.length,L=1,F=0,j=0,U=1,H=2,G=4,Y=8,W=16,K=32,X=64,V=128;for(w=t.indexOf("%");w!==-1;w=t.indexOf("%",w)){switch(E=void 0,P=j,A=-1,O=-1,z=void 0,b=w,w++,t.charAt(w)){case"%":q=w;case"":case"\n":case"\0":w++;continue}t:for(;w<D;w++)switch(t.charAt(w)){case" ":r(),P|=W;continue t;case"#":r(),P|=U;continue t;case"+":r(),P|=G;continue t;case"-":r(),P|=H;continue t;case"0":r(),P|=Y;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(S=f("width"),"$"===t.charAt(w+1)){if(w+2===D){E="%",w++;break t}void 0!==z&&p.$raise(a(xt,"ArgumentError"),"value given twice - %"+S+"$"),z=l(S),w++}else i(),P|=K,A=S;continue t;case"<":case"{":for(T="<"===t.charAt(w)?">":"}",M="",w++;;w++){if(w===D&&p.$raise(a(xt,"ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(w)===T){if(F>0&&p.$raise(a(xt,"ArgumentError"),"named "+M+" after unnumbered("+F+")"),F===-1&&p.$raise(a(xt,"ArgumentError"),"named "+M+" after numbered"),F=-2,void 0!==h[0]&&h[0].$$is_hash||p.$raise(a(xt,"ArgumentError"),"one hash required"),z=h[0].$fetch(M),">"===T)continue t;if(E=z.toString(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t}M+=t.charAt(w)}case"*":w++,i(),P|=K,A=_("width"),A<0&&(P|=H,A=-A);continue t;case".":if(P&V&&p.$raise(a(xt,"ArgumentError"),"precision given twice"),P|=X|V,O=0,w++,"*"===t.charAt(w)){w++,O=_("precision"),O<0&&(P&=~X);continue t}O=f("precision");continue t;case"d":case"i":case"u":if(k=p.$Integer(c()),k>=0){for(E=k.toString();E.length<O;)E="0"+E;if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-(P&G||P&W?1:0);)E="0"+E;(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else{for(E=(-k).toString();E.length<O;)E="0"+E;if(P&H)for(E="-"+E;E.length<A;)E+=" ";else if(P&Y&&O===-1){
for(;E.length<A-1;)E="0"+E;E="-"+E}else for(E="-"+E;E.length<A;)E=" "+E}break t;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(w)){case"b":case"B":R=2,I="0b",C=/^1+/,N="1";break;case"o":R=8,I="0",C=/^3?7+/,N="7";break;case"x":case"X":R=16,I="0x",C=/^f+/,N="f"}if(k=p.$Integer(c()),k>=0){for(E=k.toString(R);E.length<O;)E="0"+E;if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E),P&U&&0!==k&&(E=I+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-(P&G||P&W?1:0)-(P&U&&0!==k?I.length:0);)E="0"+E;P&U&&0!==k&&(E=I+E),(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for(P&U&&0!==k&&(E=I+E),(P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else if(P&G||P&W){for(E=(-k).toString(R);E.length<O;)E="0"+E;if(P&H)for(P&U&&(E=I+E),E="-"+E;E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-1-(P&U?2:0);)E="0"+E;P&U&&(E=I+E),E="-"+E}else for(P&U&&(E=I+E),E="-"+E;E.length<A;)E=" "+E}else{for(E=(k>>>0).toString(R).replace(C,N);E.length<O-2;)E=N+E;if(P&H)for(E=".."+E,P&U&&(E=I+E);E.length<A;)E+=" ";else if(P&Y&&O===-1){for(;E.length<A-2-(P&U?I.length:0);)E=N+E;E=".."+E,P&U&&(E=I+E)}else for(E=".."+E,P&U&&(E=I+E);E.length<A;)E=" "+E}t.charAt(w)===t.charAt(w).toUpperCase()&&(E=E.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(k=p.$Float(c()),k>=0||isNaN(k)){if(k===1/0)E="Inf";else switch(t.charAt(w)){case"f":E=k.toFixed(O===-1?6:O);break;case"e":case"E":E=k.toExponential(O===-1?6:O);break;case"g":case"G":E=k.toExponential(),x=parseInt(E.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(E=k.toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E+=" ";else if(P&Y&&k!==1/0&&!isNaN(k)){for(;E.length<A-(P&G||P&W?1:0);)E="0"+E;(P&G||P&W)&&(E=(P&G?"+":" ")+E)}else for((P&G||P&W)&&(E=(P&G?"+":" ")+E);E.length<A;)E=" "+E}else{if(k===-(1/0))E="Inf";else switch(t.charAt(w)){case"f":E=(-k).toFixed(O===-1?6:O);break;case"e":case"E":E=(-k).toExponential(O===-1?6:O);break;case"g":case"G":E=(-k).toExponential(),x=parseInt(E.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(E=(-k).toPrecision(O===-1?P&U?6:void 0:O))}if(P&H)for(E="-"+E;E.length<A;)E+=" ";else if(P&Y&&k!==-(1/0)){for(;E.length<A-1;)E="0"+E;E="-"+E}else for(E="-"+E;E.length<A;)E=" "+E}t.charAt(w)!==t.charAt(w).toUpperCase()||k===1/0||k===-(1/0)||isNaN(k)||(E=E.toUpperCase()),E=E.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise(a(xt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(k=c(),k["$respond_to?"]("to_ary")&&(k=k.$to_ary()[0]),E=k["$respond_to?"]("to_str")?k.$to_str():String.fromCharCode(a(xt,"Opal").$coerce_to(k,a(xt,"Integer"),"to_int")),1!==E.length&&p.$raise(a(xt,"ArgumentError"),"%c requires a character"),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;case"p":if(E=c().$inspect(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;case"s":if(E=c().$to_s(),O!==-1&&(E=E.slice(0,O)),P&H)for(;E.length<A;)E+=" ";else for(;E.length<A;)E=" "+E;break t;default:p.$raise(a(xt,"ArgumentError"),"malformed format string - %"+t.charAt(w))}void 0===E&&p.$raise(a(xt,"ArgumentError"),"malformed format string - %"),B+=t.slice(q,b)+E,q=w+1}return s.DEBUG&&F>=0&&L<h.length&&p.$raise(a(xt,"ArgumentError"),"too many arguments for format string"),B+t.slice(q)},z.$$arity=-2),t.def(Et,"$hash",P=function(){var t=this;return t.$__id__()},P.$$arity=0),t.def(Et,"$initialize_copy",B=function(t){return n},B.$$arity=1),t.def(Et,"$inspect",q=function(){var t=this;return t.$to_s()},q.$$arity=0),t.def(Et,"$instance_of?",D=function(t){var e=this;return t.$$is_class||t.$$is_module||e.$raise(a(xt,"TypeError"),"class or module required"),e.$$class===t},D.$$arity=1),t.def(Et,"$instance_variable_defined?",L=function(e){var r=this;return e=a(xt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(r,e.substr(1))},L.$$arity=1),t.def(Et,"$instance_variable_get",F=function(e){var r=this;e=a(xt,"Opal")["$instance_variable_name!"](e);var i=r[t.ivar(e.substr(1))];return null==i?n:i},F.$$arity=1),t.def(Et,"$instance_variable_set",j=function(e,r){var n=this;return e=a(xt,"Opal")["$instance_variable_name!"](e),n[t.ivar(e.substr(1))]=r},j.$$arity=2),t.def(Et,"$remove_instance_variable",U=function(e){var r=this;e=a(xt,"Opal")["$instance_variable_name!"](e);var n,i=t.ivar(e.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):r.$raise(a(xt,"NameError"),"instance variable "+e+" not defined")},U.$$arity=1),t.def(Et,"$instance_variables",H=function(){var t,e=this,r=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+t));return r},H.$$arity=0),t.def(Et,"$Integer",G=function(t,e){var r,i,$,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(e=a(xt,"Opal").$coerce_to(e,a(xt,"Integer"),"to_int"),(1===e||e<0||e>36)&&o.$raise(a(xt,"ArgumentError"),"invalid radix "+e)),i=t.toLowerCase(),i=i.replace(/(\d)_(?=\d)/g,"$1"),i=i.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),e=0===e?10:e,$="0-"+(e<=10?e-1:"9a-"+String.fromCharCode(97+(e-11))),new RegExp("^\\s*[+-]?["+$+"]+\\s*$").test(i)||o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(i,e),isNaN(r)&&o.$raise(a(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&o.$raise(a(xt,"ArgumentError"),"base specified for non string value"),t===n&&o.$raise(a(xt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-(1/0)||isNaN(t))&&o.$raise(a(xt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int(),r!==n)?r:a(xt,"Opal")["$coerce_to!"](t,a(xt,"Integer"),"to_i"))},G.$$arity=-2),t.def(Et,"$Float",Y=function(t){var e,r=this;return t===n&&r.$raise(a(xt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=t.toString(),e=e.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?r.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||r.$raise(a(xt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):a(xt,"Opal")["$coerce_to!"](t,a(xt,"Float"),"to_f")},Y.$$arity=1),t.def(Et,"$Hash",W=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?u([],{}):o(a(xt,"Hash")["$==="](t))?t:a(xt,"Opal")["$coerce_to!"](t,a(xt,"Hash"),"to_hash")},W.$$arity=1),t.def(Et,"$is_a?",K=function(e){var r=this;return e.$$is_class||e.$$is_module||r.$raise(a(xt,"TypeError"),"class or module required"),t.is_a(r,e)},K.$$arity=1),t.def(Et,"$itself",X=function(){var t=this;return t},X.$$arity=0),t.alias(Et,"kind_of?","is_a?"),t.def(Et,"$lambda",V=function(){var e=V.$$p,r=e||n;return e&&(V.$$p=null),t.lambda(r)},V.$$arity=0),t.def(Et,"$load",J=function(e){return e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"String"),"to_str"),t.load(e)},J.$$arity=1),t.def(Et,"$loop",Z=function(){var e,r=this,$=Z.$$p,s=$||n,u=n;if($&&(Z.$$p=null),s===n)return l(r,"enum_for",["loop"],(e=function(){e.$$s||this;return i(a(xt,"Float"),"INFINITY")},e.$$s=r,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(s,[])}catch(e){if(!t.rescue(e,[a(xt,"StopIteration")]))throw e;u=e;try{return u.$result()}finally{t.pop_exception()}}return r},Z.$$arity=0),t.def(Et,"$nil?",Q=function(){return!1},Q.$$arity=0),t.alias(Et,"object_id","__id__"),t.def(Et,"$printf",tt=function(e){var r,i=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return o(r["$any?"]())&&i.$print(l(i,"format",t.to_a(r))),n},tt.$$arity=-1),t.def(Et,"$proc",et=function(){var t=this,e=et.$$p,r=e||n;return e&&(et.$$p=null),o(r)||t.$raise(a(xt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},et.$$arity=0),t.def(Et,"$puts",rt=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"puts",t.to_a(r))},rt.$$arity=-1),t.def(Et,"$p",nt=function(t){var r,i,a=this,$=arguments.length,u=$-0;u<0&&(u=0),i=new Array(u);for(var c=0;c<$;c++)i[c-0]=arguments[c];return l(i,"each",[],(r=function(t){r.$$s||this;return null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())},r.$$s=a,r.$$arity=1,r)),o(e(i.$length(),1))?i["$[]"](0):i},nt.$$arity=-1),t.def(Et,"$print",it=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"print",t.to_a(r))},it.$$arity=-1),t.def(Et,"$warn",at=function(e){var r,i;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var a=arguments.length,$=a-0;$<0&&($=0),i=new Array($);for(var u=0;u<a;u++)i[u-0]=arguments[u];return o(o(r=s.VERBOSE["$nil?"]())?r:i["$empty?"]())?n:l(s.stderr,"puts",t.to_a(i))},at.$$arity=-1),t.def(Et,"$raise",$t=function(e,r,i){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==i&&(i=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=a(xt,"RuntimeError").$new():e.$$is_string?e=a(xt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"](a(xt,"Exception"))||(e=a(xt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},$t.$$arity=-1),t.alias(Et,"fail","raise"),t.def(Et,"$rand",ot=function(t){return void 0===t?i(a(xt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!==0&&(t=t.$to_i()),0===t&&(t=void 0)),i(a(xt,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(Et,"$respond_to?",st=function(t,e){var r=this;if(null==e&&(e=!1),o(r["$respond_to_missing?"](t,e)))return!0;var n=r["$"+t];return"function"==typeof n&&!n.$$stub},st.$$arity=-2),t.def(Et,"$respond_to_missing?",ut=function(t,e){return null==e&&(e=!1),!1},ut.$$arity=-2),t.def(Et,"$require",lt=function(e){return e=a(xt,"Opal")["$coerce_to!"](e,a(xt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.def(Et,"$require_relative",ct=function(e){return a(xt,"Opal")["$try_convert!"](e,a(xt,"String"),"to_str"),e=a(xt,"File").$expand_path(a(xt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.def(Et,"$require_tree",ft=function(e){var r=[];e=a(xt,"File").$expand_path(e),e=t.normalize(e),"."===e&&(e="");for(var n in t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ft.$$arity=1),t.alias(Et,"send","__send__"),t.alias(Et,"public_send","__send__"),t.def(Et,"$singleton_class",_t=function(){var e=this;return t.get_singleton_class(e)},_t.$$arity=0),t.def(Et,"$sleep",dt=function(e){var r=this;null==e&&(e=n),e===n&&r.$raise(a(xt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||r.$raise(a(xt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&r.$raise(a(xt,"ArgumentError"),"time interval must be positive");for(var i=t.global.performance?function(){return performance.now()}:function(){return new Date},$=i();i()-$<=1e3*e;);return e},dt.$$arity=-1),t.alias(Et,"sprintf","format"),t.def(Et,"$srand",ht=function(t){return null==t&&(t=a(xt,"Random").$new_seed()),a(xt,"Random").$srand(t)},ht.$$arity=-1),t.def(Et,"$String",pt=function(t){var e;return o(e=a(xt,"Opal")["$coerce_to?"](t,a(xt,"String"),"to_str"))?e:a(xt,"Opal")["$coerce_to!"](t,a(xt,"String"),"to_s")},pt.$$arity=1),t.def(Et,"$tap",yt=function(){var e=this,r=yt.$$p,i=r||n;return r&&(yt.$$p=null),t.yield1(i,e),e},yt.$$arity=0),t.def(Et,"$to_proc",mt=function(){var t=this;return t},mt.$$arity=0),t.def(Et,"$to_s",gt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},gt.$$arity=0),t.def(Et,"$catch",vt=function(e){var r=this,i=vt.$$p,$=i||n,o=n;i&&(vt.$$p=null);try{return t.yieldX($,[])}catch(n){if(!t.rescue(n,[a(xt,"UncaughtThrowError")]))throw n;o=n;try{return o.$sym()["$=="](e)?o.$arg():r.$raise()}finally{t.pop_exception()}}},vt.$$arity=1),t.def(Et,"$throw",bt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$raise(a(xt,"UncaughtThrowError"),e)},bt.$$arity=-1),t.def(Et,"$open",wt=function(e){var r,i=wt.$$p,$=i||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];return i&&(wt.$$p=null),l(a(xt,"File"),"open",t.to_a(r),$.$to_proc())},wt.$$arity=-1),t.def(Et,"$yield_self",kt=function(){var e,r=this,i=kt.$$p,a=i||n;return i&&(kt.$$p=null),a===n?l(r,"enum_for",["yield_self"],(e=function(){e.$$s||this;return 1},e.$$s=r,e.$$arity=0,e)):t.yield1(a,r)},kt.$$arity=0)}(r[0],r),function(t,e,r){function n(){}var i=n=c(t,e,"Object",n),$=(i.$$proto,[i].concat(r));return i.$include(a($,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.send,s=t.truthy,u=t.module,l=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(e,r,n){function a(){}var u,l,c,f,_,d,h,p,y=a=$(e,r,"Exception",a),m=y.$$proto;[y].concat(n);m.message=i;var g;return t.defs(y,"$new",u=function(e){var r,n=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];var s=r.length>0?r[0]:i,u=new n.$$alloc(s);return u.name=n.$$name,u.message=s,t.send(u,u.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(u,g),u},u.$$arity=-1),g=y.$new,t.defs(y,"$exception",l=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return o(n,"new",t.to_a(r))},l.$$arity=-1),t.def(y,"$initialize",c=function(t){var e,r=this,n=arguments.length,a=n-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.message=e.length>0?e[0]:i},c.$$arity=-1),t.def(y,"$backtrace",f=function(){var t=this,e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},f.$$arity=0),t.def(y,"$exception",_=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var r=e.$clone();return r.message=t,r},_.$$arity=-1),t.def(y,"$message",d=function(){var t=this;return t.$to_s()},d.$$arity=0),t.def(y,"$inspect",h=function(){var t=this,e=i;return e=t.$to_s(),s(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},h.$$arity=0),t.def(y,"$to_s",p=function(){var t,e,r=this;return s(t=s(e=r.message)?r.message.$to_s():e)?t:r.$class().$to_s()},p.$$arity=0),i&&"to_s"}(n[0],Error,n),function(t,e,r){function n(){}var a=n=$(t,e,"ScriptError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SyntaxError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"LoadError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NotImplementedError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"ScriptError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SystemExit",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NoMemoryError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SignalException",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"Interrupt",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SecurityError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"StandardError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"Exception"),n),function(t,e,r){function n(){}var a=n=$(t,e,"EncodingError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"ZeroDivisionError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NameError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"NoMethodError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"NameError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"RuntimeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"FrozenError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"RuntimeError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"LocalJumpError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"TypeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"ArgumentError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"IndexError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"StopIteration",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"IndexError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"KeyError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"IndexError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"RangeError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"FloatDomainError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"RangeError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"IOError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(t,e,r){function n(){}var a=n=$(t,e,"SystemCallError",n);a.$$proto,[a].concat(r);return i}(n[0],a(n,"StandardError"),n),function(r,n){var l,c=l=u(r,"Errno"),f=(c.$$proto,[c].concat(n));!function(r,n,a){function u(){}var l,c=u=$(r,n,"EINVAL",u);c.$$proto,[c].concat(a);return t.defs(c,"$new",l=function(r){var n=this,a=l.$$p,$=i;return null==r&&(r=i),a&&(l.$$p=null),$="Invalid argument",s(r)&&($=e($," - "+r)),o(n,t.find_super_dispatcher(n,"new",l,!1,u),[$],null)},l.$$arity=-1),i&&"new"}(f[0],a(f,"SystemCallError"),f)}(n[0],n),function(e,n,a){function u(){}var l,c=u=$(e,n,"UncaughtThrowError",u),f=c.$$proto;[c].concat(a);return f.sym=i,c.$attr_reader("sym","arg"),t.def(c,"$initialize",l=function(e){var n=this,i=l.$$p;return i&&(l.$$p=null),n.sym=e["$[]"](0),s(r(e.$length(),1))&&(n.arg=e["$[]"](1)),o(n,t.find_super_dispatcher(n,"initialize",l,!1),["uncaught throw "+n.sym.$inspect()],null)},l.$$arity=1),i&&"initialize"}(n[0],a(n,"ArgumentError"),n),function(e,r,n){function a(){}var s,u=a=$(e,r,"NameError",a);u.$$proto,[u].concat(n);return u.$attr_reader("name"),t.def(u,"$initialize",s=function(e,r){var n=this,a=s.$$p;return null==r&&(r=i),a&&(s.$$p=null),o(n,t.find_super_dispatcher(n,"initialize",s,!1),[e],null),n.name=r},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(e,r,n){function a(){}var s,u=a=$(e,r,"NoMethodError",a);u.$$proto,[u].concat(n);return u.$attr_reader("args"),t.def(u,"$initialize",s=function(e,r,n){var a=this,$=s.$$p;return null==r&&(r=i),null==n&&(n=[]),$&&(s.$$p=null),o(a,t.find_super_dispatcher(a,"initialize",s,!1),[e,r],null),a.args=n},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(t,e,r){function n(){}var i=n=$(t,e,"StopIteration",n);i.$$proto,[i].concat(r);return i.$attr_reader("result")}(n[0],null,n),function(e,r,n){function u(){}var c,f,_,d=u=$(e,r,"KeyError",u),h=d.$$proto,p=[d].concat(n);return h.receiver=h.key=i,t.def(d,"$initialize",c=function(e,r){var n,a,$=this,s=c.$$p;if(null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=l([],{})}return n=r.$$smap.receiver,null==n&&(n=i),a=r.$$smap.key,null==a&&(a=i),s&&(c.$$p=null),o($,t.find_super_dispatcher($,"initialize",c,!1),[e],null),$.receiver=n,$.key=a},c.$$arity=-2),t.def(d,"$receiver",f=function(){var t,e=this;return s(t=e.receiver)?t:e.$raise(a(p,"ArgumentError"),"no receiver is available")},f.$$arity=0),t.def(d,"$key",_=function(){var t,e=this;return s(t=e.key)?t:e.$raise(a(p,"ArgumentError"),"no key is available")},_.$$arity=0),i&&"key"}(n[0],null,n),function(t,e){var r,n=r=u(t,"JS"),a=(n.$$proto,[n].concat(e));!function(t,e,r){function n(){}var a=n=$(t,e,"Error",n);a.$$proto,[a].concat(r);return i}(a[0],null,a)}(n[0],n)},Opal.modules["corelib/constants"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),$=t.hash2,o=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M=l=a(r,s,"NilClass",l),T=M.$$proto,R=[M].concat(u);return T.$$meta=M,function(e,r){var a,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",a=function(){var t=this;return t.$raise(i($,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0),t.udef(e,"$new"),n}(t.get_singleton_class(M),R),t.def(M,"$!",c=function(){return!0},c.$$arity=0),t.def(M,"$&",f=function(t){return!1},f.$$arity=1),t.def(M,"$|",_=function(t){return t!==!1&&t!==n},_.$$arity=1),t.def(M,"$^",d=function(t){return t!==!1&&t!==n},d.$$arity=1),t.def(M,"$==",h=function(t){return t===n},h.$$arity=1),t.def(M,"$dup",p=function(){return n},p.$$arity=0),t.def(M,"$clone",y=function(e){var r;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},y.$$arity=-1),t.def(M,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(M,"$nil?",g=function(){return!0},g.$$arity=0),t.def(M,"$singleton_class",v=function(){return i(R,"NilClass")},v.$$arity=0),t.def(M,"$to_a",b=function(){return[]},b.$$arity=0),t.def(M,"$to_h",w=function(){return t.hash()},w.$$arity=0),t.def(M,"$to_i",k=function(){return 0},k.$$arity=0),t.alias(M,"to_f","to_i"),t.def(M,"$to_s",E=function(){return""},E.$$arity=0),t.def(M,"$to_c",x=function(){return i(R,"Complex").$new(0,0)},x.$$arity=0),t.def(M,"$rationalize",A=function(t){var r,n=this,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var s=0;s<a;s++)r[s-0]=arguments[s];return o(e(r.$length(),1))&&n.$raise(i(R,"ArgumentError")),n.$Rational(0,1)},A.$$arity=-1),t.def(M,"$to_r",O=function(){var t=this;return t.$Rational(0,1)},O.$$arity=0),t.def(M,"$instance_variables",S=function(){return[]},S.$$arity=0),n&&"instance_variables"}(r[0],null,r),t.const_set(r[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p,y,m,g=s=i(e,$,"Boolean",s),v=g.$$proto,b=[g].concat(o);return v.$$is_boolean=!0,v.$$meta=g,function(e,i){var a,$=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",a=function(){var t=this;return t.$raise(n($,"TypeError"),"allocator undefined for "+t.$name())},a.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(g),b),t.def(g,"$__id__",u=function(){var t=this;return t.valueOf()?2:0},u.$$arity=0),t.alias(g,"object_id","__id__"),t.def(g,"$!",l=function(){var t=this;return 1!=t},l.$$arity=0),t.def(g,"$&",c=function(t){var e=this;return 1==e&&(t!==!1&&t!==r)},c.$$arity=1),t.def(g,"$|",f=function(t){var e=this;return 1==e||t!==!1&&t!==r},f.$$arity=1),t.def(g,"$^",_=function(t){var e=this;return 1==e?t===!1||t===r:t!==!1&&t!==r},_.$$arity=1),t.def(g,"$==",d=function(t){var e=this;return 1==e===t.valueOf()},d.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.def(g,"$singleton_class",h=function(){return n(b,"Boolean")},h.$$arity=0),t.def(g,"$to_s",p=function(){var t=this;return 1==t?"true":"false"},p.$$arity=0),t.def(g,"$dup",y=function(){var t=this;return t},y.$$arity=0),t.def(g,"$clone",m=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=a([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},m.$$arity=-1),r&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var u,l,c,f,_,d,h,p,y,m=u=$(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",l=function(t){return o(a(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==a(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[a(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>0},f.$$arity=1),t.def(m,"$>=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.def(m,"$<",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.def(m,"$<=",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<=0},h.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),t.def(m,"$clamp",y=function(t,n){var $=this,s=i;return s=t["$<=>"](n),o(s)||$.$raise(a(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(a(g,"Comparable").$normalize(s),0))&&$.$raise(a(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(a(g,"Comparable").$normalize($["$<=>"](t)),0))?t:o(e(a(g,"Comparable").$normalize($["$<=>"](n)),0))?n:$},y.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.send,$=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function a(){}var $=a=i(t,e,"RegexpError",a);$.$$proto,[$].concat(n);return r}(e[0],n(e,"StandardError"),e),function(e,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b=l=i(e,s,"Regexp",l),w=b.$$proto,k=[b].concat(u);return t.const_set(k[0],"IGNORECASE",1),t.const_set(k[0],"EXTENDED",2),t.const_set(k[0],"MULTILINE",4),w.$$is_regexp=!0,function(e,i){var s,u,l,c,f,_=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",s=function(){var e=this,n=s.$$p,i=r,$=r,o=r,u=r;for(n&&(s.$$p=null),o=0,u=arguments.length,$=new Array(u);o<u;o++)$[o]=arguments[o];return i=a(e,t.find_super_dispatcher(e,"allocate",s,!1),$,n),i.uninitialized=!0,i},s.$$arity=0),t.def(e,"$escape",u=function(e){return t.escape_regexp(e)},u.$$arity=1),t.def(e,"$last_match",l=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),$(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function(t){var e,r=this,i=arguments.length,a=i-0;a<0&&(a=0),e=new Array(a);for(var $=0;$<i;$++)e[$-0]=arguments[$];var o,s,u,l,c;if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];o=e[0].$$is_array,e.length>1&&o&&r.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),o&&(e=e[0]),l=void 0,s=[];for(var f=0;f<e.length;f++)u=e[f],u.$$is_string?s.push(r.$escape(u)):u.$$is_regexp?(c=u.$options(),void 0!=l&&l!=c&&r.$raise(n(_,"TypeError"),"All expressions must use the same options"),l=c,s.push("("+u.source+")")):s.push(r.$escape(u.$to_str()));return r.$new(s.$join("|"),l)},c.$$arity=-1),t.def(e,"$new",f=function(t,e){var r=this;if(t.$$is_regexp)return new RegExp(t);if(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&r.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var i="";n(_,"IGNORECASE")&e&&(i+="i"),n(_,"MULTILINE")&e&&(i+="m"),e=i}else e="i";return new RegExp(t,e)},f.$$arity=-2),r&&"new"}(t.get_singleton_class(b),k),t.def(b,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.def(b,"$===",f=function(t){var e=this;return e.$match(n(k,"Opal")["$coerce_to?"](t,n(k,"String"),"to_str"))!==r},f.$$arity=1),t.def(b,"$=~",_=function(t){var e,n=this;return null==o["~"]&&(o["~"]=r),$(e=n.$match(t))?o["~"].$begin(0):e},_.$$arity=1),t.alias(b,"eql?","=="),t.def(b,"$inspect",d=function(){var t=this,e=/^\/(.*)\/([^\/]*)$/,r=t.toString(),n=e.exec(r);if(n){for(var i=n[1],a=n[2],$=i.split(""),o=$.length,s=!1,u="",l=0;l<o;l++){var c=$[l];s||"/"!=c||(u=u.concat("\\")),u=u.concat(c),s="\\"==c&&!s}return"/"+u+"/"+a}return r},d.$$arity=0),t.def(b,"$match",h=function(e,i){var a=this,$=h.$$p,s=$||r;if(null==o["~"]&&(o["~"]=r),$&&(h.$$p=null),a.uninitialized&&a.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var u=a.exec(n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"));return u?(o["~"]=n(k,"MatchData").$new(a,u),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(k,"Opal").$coerce_to(i,n(k,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(k,"Opal").$coerce_to(e,n(k,"String"),"to_str"),i<0&&(i+=e.length,i<0))return o["~"]=r;for(var l,c=a.source,f=a.multiline?"gm":"g",_=new RegExp(c,f+(a.ignoreCase?"i":""));;){if(l=_.exec(e),null===l)return o["~"]=r;if(l.index>=i)return o["~"]=n(k,"MatchData").$new(_,l),s===r?o["~"]:t.yield1(s,o["~"]);_.lastIndex=l.index+1}},h.$$arity=-2),t.def(b,"$match?",p=function(t,e){var i=this;if(i.uninitialized&&i.$raise(n(k,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&i.test(n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"));if(e=n(k,"Opal").$coerce_to(e,n(k,"Integer"),"to_int"),t===r)return!1;if(t=n(k,"Opal").$coerce_to(t,n(k,"String"),"to_str"),e<0&&(e+=t.length,e<0))return!1;var a,$=i.source,o=i.multiline?"gm":"g",s=new RegExp($,o+(i.ignoreCase?"i":""));return a=s.exec(t),!(null===a||a.index<e)},p.$$arity=-2),t.def(b,"$~",y=function(){var t=this;return null==o._&&(o._=r),
t["$=~"](o._)},y.$$arity=0),t.def(b,"$source",m=function(){var t=this;return t.source},m.$$arity=0),t.def(b,"$options",g=function(){var t=this;t.uninitialized&&t.$raise(n(k,"TypeError"),"uninitialized Regexp");var e=0;return t.multiline&&(e|=n(k,"MULTILINE")),t.ignoreCase&&(e|=n(k,"IGNORECASE")),e},g.$$arity=0),t.def(b,"$casefold?",v=function(){var t=this;return t.ignoreCase},v.$$arity=0),t.alias(b,"to_s","source")}(e[0],RegExp,e),function(e,s,u){function l(){}var c,f,_,d,h,p,y,m,g,v,b,w,k=l=i(e,s,"MatchData",l),E=k.$$proto,x=[k].concat(u);return E.matches=r,k.$attr_reader("post_match","pre_match","regexp","string"),t.def(k,"$initialize",c=function(t,e){var n=this;o["~"]=n,n.regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var i=0,a=e.length;i<a;i++){var $=e[i];null==$?n.matches.push(r):n.matches.push($)}},c.$$arity=2),t.def(k,"$[]",f=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return a(n.matches,"[]",t.to_a(r))},f.$$arity=-1),t.def(k,"$offset",_=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[e.begin,e.begin+e.matches[t].length]},_.$$arity=1),t.def(k,"$==",d=function(t){var e,r,i,a,o=this;return!!$(n(x,"MatchData")["$==="](t))&&($(e=$(r=$(i=$(a=o.string==t.string)?o.regexp.toString()==t.regexp.toString():a)?o.pre_match==t.pre_match:i)?o.post_match==t.post_match:r)?o.begin==t.begin:e)},d.$$arity=1),t.alias(k,"eql?","=="),t.def(k,"$begin",h=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#begin only supports 0th element"),e.begin},h.$$arity=1),t.def(k,"$end",p=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#end only supports 0th element"),e.begin+e.matches[t].length},p.$$arity=1),t.def(k,"$captures",y=function(){var t=this;return t.matches.slice(1)},y.$$arity=0),t.def(k,"$inspect",m=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),r=1,n=t.matches.length;r<n;r++)e+=" "+r+":"+t.matches[r].$inspect();return e+">"},m.$$arity=0),t.def(k,"$length",g=function(){var t=this;return t.matches.length},g.$$arity=0),t.alias(k,"size","length"),t.def(k,"$to_a",v=function(){var t=this;return t.matches},v.$$arity=0),t.def(k,"$to_s",b=function(){var t=this;return t.matches[0]},b.$$arity=0),t.def(k,"$values_at",w=function(t){var e,i=this,a=arguments.length,$=a-0;$<0&&($=0),e=new Array($);for(var o=0;o<a;o++)e[o-0]=arguments[o];var s,u,l,c=[];for(s=0;s<e.length;s++)e[s].$$is_range&&(u=e[s].$to_a(),u.unshift(s,1),Array.prototype.splice.apply(e,u)),l=n(x,"Opal")["$coerce_to!"](e[s],n(x,"Integer"),"to_int"),l<0&&(l+=i.matches.length,l<0)?c.push(r):c.push(i.matches[l]);return c},w.$$arity=-1),r&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.truthy,u=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,c){function f(){}function _(t){function e(t){var e,r,n,i,a,o,s="",u=t.length;for(e=0;e<u;e++)if(r=t.charAt(e),"-"===r&&e>0&&e<u-1&&!n){for(i=t.charCodeAt(e-1),a=t.charCodeAt(e+1),i>a&&Ct.$raise($(zt,"ArgumentError"),'invalid range "'+i+"-"+a+'" in string transliteration'),o=i+1;o<a+1;o++)s+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",a=t.length;for(r=0;r<a;r++)n=t.charAt(r),e.indexOf(n)!==-1&&(i+=n);return i}var n,i,a,o,s,u,l="",c="";for(n=0,i=t.length;n<i;n++)a=$(zt,"Opal").$coerce_to(t[n],$(zt,"String"),"to_str"),o="^"===a.charAt(0)&&a.length>1,a=e(o?a.slice(1):a),o?c=r(c,a):l=r(l,a);if(l.length>0&&c.length>0){for(u="",n=0,i=l.length;n<i;n++)s=l.charAt(n),c.indexOf(s)===-1&&(u+=s);l=u,c=""}return l.length>0?"["+$(zt,"Regexp").$escape(l)+"]":c.length>0?"[^"+$(zt,"Regexp").$escape(c)+"]":null}var d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct=f=o(n,i,"String",f),Nt=Ct.$$proto,zt=[Ct].concat(c);return Nt.length=a,Ct.$include($(zt,"Comparable")),Nt.$$is_string=!0,t.def(Ct,"$__id__",d=function(){var t=this;return t.toString()},d.$$arity=0),t.alias(Ct,"object_id","__id__"),t.defs(Ct,"$try_convert",h=function(t){return $(zt,"Opal")["$coerce_to?"](t,$(zt,"String"),"to_str")},h.$$arity=1),t.defs(Ct,"$new",p=function(t){return null==t&&(t=""),t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),new String(t)},p.$$arity=-1),t.def(Ct,"$initialize",y=function(t){var e=this;return void 0===t?e:e.$raise($(zt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},y.$$arity=-1),t.def(Ct,"$%",m=function(e){var r=this;return s($(zt,"Array")["$==="](e))?u(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},m.$$arity=1),t.def(Ct,"$*",g=function(t){var e=this;if(t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),t<0&&e.$raise($(zt,"ArgumentError"),"negative argument"),0===t)return"";var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise($(zt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&t)&&(r+=n),t>>>=1,0!==t;)n+=n;return r},g.$$arity=1),t.def(Ct,"$+",v=function(t){var e=this;return t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e+t.$to_s()},v.$$arity=1),t.def(Ct,"$<=>",b=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var r=t["$<=>"](e);return r===a?a:r>0?-1:r<0?1:0},b.$$arity=1),t.def(Ct,"$==",w=function(t){var e=this;return t.$$is_string?e.toString()===t.toString():!!$(zt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](e)},w.$$arity=1),t.alias(Ct,"eql?","=="),t.alias(Ct,"===","=="),t.def(Ct,"$=~",k=function(t){var e=this;return t.$$is_string&&e.$raise($(zt,"TypeError"),"type mismatch: String given"),t["$=~"](e)},k.$$arity=1),t.def(Ct,"$[]",E=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=$(zt,"Opal").$coerce_to(t.end,$(zt,"Integer"),"to_int"),t=$(zt,"Opal").$coerce_to(t.begin,$(zt,"Integer"),"to_int"),Math.abs(t)>i?a:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),e-=t,e<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise($(zt,"TypeError")),n.indexOf(t)!==-1?t:a;if(t.$$is_regexp){var o=n.match(t);return null===o?(l["~"]=a,a):(l["~"]=$(zt,"MatchData").$new(t,o),null==e?o[0]:(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&-e<o.length?o[e+=o.length]:e>=0&&e<o.length?o[e]:a))}return t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),t<0&&(t+=i),null==e?t>=i||t<0?a:n.substr(t,1):(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0?a:t>i||t<0?a:n.substr(t,e))},E.$$arity=-2),t.alias(Ct,"byteslice","[]"),t.def(Ct,"$b",x=function(){var t=this;return t.$force_encoding("binary")},x.$$arity=0),t.def(Ct,"$capitalize",A=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},A.$$arity=0),t.def(Ct,"$casecmp",O=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return a;t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},O.$$arity=1),t.def(Ct,"$casecmp?",S=function(t){var e=this,r=e.$casecmp(t);return r===a?a:0===r},S.$$arity=1),t.def(Ct,"$center",M=function(t,n){var i=this;if(null==n&&(n=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),n=$(zt,"Opal").$coerce_to(n,$(zt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=i.length))return i;var a=i.$ljust(e(r(t,i.length),2).$ceil(),n),o=i.$rjust(e(r(t,i.length),2).$floor(),n);return o+a.slice(i.length)},M.$$arity=-2),t.def(Ct,"$chars",T=function(){var t=this,e=T.$$p,r=e||a;return e&&(T.$$p=null),s(r)?u(t,"each_char",[],r.$to_proc()):t.$each_char().$to_a()},T.$$arity=0),t.def(Ct,"$chomp",R=function(t){var e=this;if(null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),s(t===a||0===e.length))return e;if(t=$(zt,"Opal")["$coerce_to!"](t,$(zt,"String"),"to_str").$to_s(),"\n"===t)return e.replace(/\r?\n?$/,"");if(""===t)return e.replace(/(\r?\n)+$/,"");if(e.length>t.length){var r=e.substr(e.length-t.length,t.length);if(r===t)return e.substr(0,e.length-t.length)}return e},R.$$arity=-1),t.def(Ct,"$chop",I=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},I.$$arity=0),t.def(Ct,"$chr",C=function(){var t=this;return t.charAt(0)},C.$$arity=0),t.def(Ct,"$clone",N=function(){var t=this,e=a;return e=t.slice(),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},N.$$arity=0),t.def(Ct,"$dup",z=function(){var t=this,e=a;return e=t.slice(),e.$initialize_dup(t),e},z.$$arity=0),t.def(Ct,"$count",P=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];0===e.length&&r.$raise($(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},P.$$arity=-1),t.def(Ct,"$delete",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];0===e.length&&r.$raise($(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=_(e);return null===o?r:r.replace(new RegExp(o,"g"),"")},B.$$arity=-1),t.def(Ct,"$delete_prefix",q=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.slice(0,t.length)===t?e.slice(t.length):e},q.$$arity=1),t.def(Ct,"$delete_suffix",D=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},D.$$arity=1),t.def(Ct,"$downcase",L=function(){var t=this;return t.toLowerCase()},L.$$arity=0),t.def(Ct,"$each_char",F=function(){var e,r=this,n=F.$$p,i=n||a;if(n&&(F.$$p=null),i===a)return u(r,"enum_for",["each_char"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,o=r.length;$<o;$++)t.yield1(i,r.charAt($));return r},F.$$arity=0),t.def(Ct,"$each_line",j=function(e){var r=this,n=j.$$p,i=n||a;if(null==l["/"]&&(l["/"]=a),null==e&&(e=l["/"]),n&&(j.$$p=null),i===a)return r.$enum_for("each_line",e);if(e===a)return t.yield1(i,r),r;e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str");var o,s,u,c,f,_,d;if(0===e.length){for(o=r.split(/(\n{2,})/),s=0,u=o.length;s<u;s+=2)(o[s]||o[s+1])&&t.yield1(i,(o[s]||"")+(o[s+1]||""));return r}for(f=r.$chomp(e),_=r.length!=f.length,d=f.split(e),s=0,c=d.length;s<c;s++)s<c-1||_?t.yield1(i,d[s]+e):t.yield1(i,d[s]);return r},j.$$arity=-1),t.def(Ct,"$empty?",U=function(){var t=this;return 0===t.length},U.$$arity=0),t.def(Ct,"$end_with?",H=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=0,s=e.length;o<s;o++){var u=$(zt,"Opal").$coerce_to(e[o],$(zt,"String"),"to_str").$to_s();if(r.length>=u.length&&r.substr(r.length-u.length,u.length)==u)return!0}return!1},H.$$arity=-1),t.alias(Ct,"equal?","==="),t.def(Ct,"$gsub",G=function(t,e){var r=this,n=G.$$p,i=n||a;if(n&&(G.$$p=null),void 0===e&&i===a)return r.$enum_for("gsub",t);var o,s,u="",c=a,f=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=t.exec(r),null===o){l["~"]=a,u+=r.slice(f);break}c=$(zt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(u+=s+r.slice(f,o.index+1),t.lastIndex+=1):u+=r.slice(f,o.index)+s,f=t.lastIndex}return l["~"]=c,u},G.$$arity=-2),t.def(Ct,"$hash",Y=function(){var t=this;return t.toString()},Y.$$arity=0),t.def(Ct,"$hex",W=function(){var t=this;return t.$to_i(16)},W.$$arity=0),t.def(Ct,"$include?",K=function(t){var e=this;return t.$$is_string||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str")),e.indexOf(t)!==-1},K.$$arity=1),t.def(Ct,"$index",X=function(t,e){var r,n,i,o=this;if(void 0===e)e=0;else if(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&(e+=o.length,e<0))return a;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(n=i.exec(o),null===n){l["~"]=a,r=-1;break}if(n.index>=e){l["~"]=$(zt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),r=0===t.length&&e>o.length?-1:o.indexOf(t,e);return r===-1?a:r},X.$$arity=-2),t.def(Ct,"$inspect",V=function(){var t=this,e=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},n=t.replace(e,function(t){return r[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+n.replace(/\#[\$\@\{]/g,"\\$&")+'"'},V.$$arity=0),t.def(Ct,"$intern",J=function(){var t=this;return t},J.$$arity=0),t.def(Ct,"$lines",Z=function(t){var e=this,r=Z.$$p,n=r||a,i=a;return null==l["/"]&&(l["/"]=a),null==t&&(t=l["/"]),r&&(Z.$$p=null),i=u(e,"each_line",[t],n.$to_proc()),s(n)?e:i.$to_a()},Z.$$arity=-1),t.def(Ct,"$length",Q=function(){var t=this;return t.length},Q.$$arity=0),t.def(Ct,"$ljust",tt=function(t,e){var r=this;if(null==e&&(e=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},tt.$$arity=-2),t.def(Ct,"$lstrip",et=function(){var t=this;return t.replace(/^\s*/,"")},et.$$arity=0),t.def(Ct,"$ascii_only?",rt=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},rt.$$arity=0),t.def(Ct,"$match",nt=function(t,e){var r,n=this,i=nt.$$p,o=i||a;return i&&(nt.$$p=null),s(s(r=$(zt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=$(zt,"Regexp").$new(t.$to_str())),s($(zt,"Regexp")["$==="](t))||n.$raise($(zt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),u(t,"match",[n,e],o.$to_proc())},nt.$$arity=-2),t.def(Ct,"$next",it=function(){var t=this,e=t.length;if(0===e)return"";for(var r,n=t,i=t.search(/[a-zA-Z0-9]/),a=!1;e--;){if(r=t.charCodeAt(e),r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:a=!0,r=48;break;case 90:a=!0,r=65;break;case 122:a=!0,r=97;break;default:a=!1,r+=1}else i===-1?255===r?(a=!0,r=0):(a=!1,r+=1):a=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),a&&(0===e||e===i)){switch(r){case 65:break;case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),a=!1}if(!a)break}return n},it.$$arity=0),t.def(Ct,"$oct",at=function(){var t,e=this,r=e,n=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},at.$$arity=0),t.def(Ct,"$ord",$t=function(){var t=this;return t.charCodeAt(0)},$t.$$arity=0),t.def(Ct,"$partition",ot=function(t){var e,r,n=this;return t.$$is_regexp?(r=t.exec(n),null===r?e=-1:($(zt,"MatchData").$new(t,r),t=r[0],e=r.index)):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e=n.indexOf(t)),e===-1?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},ot.$$arity=1),t.def(Ct,"$reverse",st=function(){var t=this;return t.split("").reverse().join("")},st.$$arity=0),t.def(Ct,"$rindex",ut=function(t,e){var r,n,i,o,s=this;if(void 0===e)e=s.length;else if(e=$(zt,"Opal").$coerce_to(e,$(zt,"Integer"),"to_int"),e<0&&(e+=s.length,e<0))return a;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(o=i.exec(s),null===o||o.index>e)break;n=o,i.lastIndex=n.index+1}null===n?(l["~"]=a,r=-1):($(zt,"MatchData").$new(i,n),r=n.index)}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),r=s.lastIndexOf(t,e);return r===-1?a:r},ut.$$arity=-2),t.def(Ct,"$rjust",lt=function(t,e){var r=this;if(null==e&&(e=" "),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int"),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise($(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),a=Array(i+1).join(e),o=n-a.length;return a+e.slice(0,o)+r},lt.$$arity=-2),t.def(Ct,"$rpartition",ct=function(t){var e,r,n,i,a=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(i=n.exec(a),null===i)break;r=i,n.lastIndex=r.index+1}null===r?e=-1:($(zt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),e=a.lastIndexOf(t);return e===-1?["","",a]:[a.slice(0,e),a.slice(e,e+t.length),a.slice(e+t.length)]},ct.$$arity=1),t.def(Ct,"$rstrip",ft=function(){var t=this;return t.replace(/[\s\u0000]*$/,"")},ft.$$arity=0),t.def(Ct,"$scan",_t=function(t){var e=this,r=_t.$$p,n=r||a;r&&(_t.$$p=null);var i,o=[],s=a;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=t.exec(e));)s=$(zt,"MatchData").$new(t,i),n===a?1==i.length?o.push(i[0]):o.push(s.$captures()):1==i.length?n(i[0]):n.call(e,s.$captures()),t.lastIndex===i.index&&(t.lastIndex+=1);return l["~"]=s,n!==a?e:o},_t.$$arity=1),t.alias(Ct,"size","length"),t.alias(Ct,"slice","[]"),t.def(Ct,"$split",dt=function(t,e){var r,n=this;if(null==l[";"]&&(l[";"]=a),0===n.length)return[];if(void 0===e)e=0;else if(e=$(zt,"Opal")["$coerce_to!"](e,$(zt,"Integer"),"to_int"),1===e)return[n];void 0!==t&&t!==a||(t=s(r=l[";"])?r:" ");var i,o,u,c=[],f=n.toString(),_=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,f=f.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),c=f.split(t),1===c.length&&c[0]===f)return c;for(;(o=c.indexOf(void 0))!==-1;)c.splice(o,1);if(0===e){for(;""===c[c.length-1];)c.length-=1;return c}if(i=t.exec(f),e<0){if(null!==i&&""===i[0]&&t.source.indexOf("(?=")===-1)for(o=0,u=i.length;o<u;o++)c.push("");return c}if(null!==i&&""===i[0])return c.splice(e-1,c.length-1,c.slice(e-1).join("")),c;if(e>=c.length)return c;for(o=0;null!==i&&(o++,_=t.lastIndex,o+1!==e);)i=t.exec(f);return c.splice(e-1,c.length-1,f.slice(_)),c},dt.$$arity=-1),t.def(Ct,"$squeeze",ht=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];if(0===e.length)return r.replace(/(.)\1+/g,"$1");var $=_(e);return null===$?r:r.replace(new RegExp("("+$+")\\1+","g"),"$1")},ht.$$arity=-1),t.def(Ct,"$start_with?",pt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=0,s=e.length;o<s;o++){var u=$(zt,"Opal").$coerce_to(e[o],$(zt,"String"),"to_str").$to_s();if(0===r.indexOf(u))return!0}return!1},pt.$$arity=-1),t.def(Ct,"$strip",yt=function(){var t=this;return t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},yt.$$arity=0),t.def(Ct,"$sub",mt=function(t,e){var r=this,n=mt.$$p,i=n||a;n&&(mt.$$p=null),t.$$is_regexp||(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(l["~"]=a,r.toString()):($(zt,"MatchData").$new(t,o),void 0===e?(i===a&&r.$raise($(zt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str"),e=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},mt.$$arity=-2),t.alias(Ct,"succ","next"),t.def(Ct,"$sum",gt=function(t){var e=this;null==t&&(t=16),t=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int");for(var r=0,n=e.length,i=0;i<n;i++)r+=e.charCodeAt(i);return t<=0?r:r&Math.pow(2,t)-1},gt.$$arity=-1),t.def(Ct,"$swapcase",vt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},vt.$$arity=0),t.def(Ct,"$to_f",bt=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-(1/0)?0:e},bt.$$arity=0),t.def(Ct,"$to_i",wt=function(t){var e=this;null==t&&(t=10);var r,n=e.toLowerCase(),i=$(zt,"Opal").$coerce_to(t,$(zt,"Integer"),"to_int");return(1===i||i<0||i>36)&&e.$raise($(zt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),r=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)},wt.$$arity=-1),t.def(Ct,"$to_proc",kt=function(){var e,r=this,n=a;return n=r.valueOf(),u(r,"proc",[],(e=function(r){var i,o,s=e.$$s||this;i=e.$$p||a,i&&(e.$$p=null);var u=arguments.length,l=u-0;l<0&&(l=0),o=new Array(l);for(var c=0;c<u;c++)o[c-0]=arguments[c];0===o.length&&s.$raise($(zt,"ArgumentError"),"no receiver given");var f=o.shift();return null==f&&(f=a),t.send(f,n,o,i)},e.$$s=r,e.$$arity=-1,e))},kt.$$arity=0),t.def(Ct,"$to_s",Et=function(){var t=this;return t.toString()},Et.$$arity=0),t.alias(Ct,"to_str","to_s"),t.alias(Ct,"to_sym","intern"),t.def(Ct,"$tr",xt=function(t,e){var r=this;if(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s(),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),0==t.length||t===e)return r;var n,i,a,o,s,u,l,c={},f=t.split(""),_=f.length,d=e.split(""),h=d.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=d[h-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)m.push(String.fromCharCode(a));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(h>0){var v=[],b=null;for(i=!1,n=0;n<h;n++)if(o=d[n],null==b)b=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==h-1?v.push("-"):i=!0;else if(i){for(s=b.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)v.push(String.fromCharCode(a));v.push(o),i=null,b=null}else v.push(o);d=v,h=d.length}var w=_-h;if(w>0){var k=h>0?d[h-1]:"";for(n=0;n<w;n++)d.push(k)}for(n=0;n<_;n++)c[f[n]]=d[n]}var E="";for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var x=c[o];E+=p?null==x?y:o:null!=x?x:o}return E},xt.$$arity=2),t.def(Ct,"$tr_s",At=function(t,e){var r=this;if(t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str").$to_s(),e=$(zt,"Opal").$coerce_to(e,$(zt,"String"),"to_str").$to_s(),0==t.length)return r;var n,i,a,o,s,u,l,c={},f=t.split(""),_=f.length,d=e.split(""),h=d.length,p=!1,y=null;"^"===f[0]&&f.length>1&&(p=!0,f.shift(),y=d[h-1],_-=1);var m=[],g=null;for(i=!1,n=0;n<_;n++)if(o=f[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==_-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)m.push(String.fromCharCode(a));m.push(o),i=null,g=null}else m.push(o);if(f=m,_=f.length,p)for(n=0;n<_;n++)c[f[n]]=!0;else{if(h>0){var v=[],b=null;for(i=!1,n=0;n<h;n++)if(o=d[n],null==g)g=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==h-1?v.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise($(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),a=s+1;a<u;a++)v.push(String.fromCharCode(a));v.push(o),i=null,g=null}else v.push(o);d=v,h=d.length}var w=_-h;if(w>0){var k=h>0?d[h-1]:"";for(n=0;n<w;n++)d.push(k)}for(n=0;n<_;n++)c[f[n]]=d[n]}var E="",x=null;for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var A=c[o];p?null==A?null==x&&(E+=y,x=!0):(E+=o,x=null):null!=A?null!=x&&x===A||(E+=A,x=A):(E+=o,x=null)}return E},At.$$arity=2),t.def(Ct,"$upcase",Ot=function(){var t=this;return t.toUpperCase()},Ot.$$arity=0),t.def(Ct,"$upto",St=function(t,e){var r=this,n=St.$$p,i=n||a;if(null==e&&(e=!1),n&&(St.$$p=null),i===a)return r.$enum_for("upto",t,e);t=$(zt,"Opal").$coerce_to(t,$(zt,"String"),"to_str");var o,s,u=r.toString();if(1===u.length&&1===t.length)for(o=u.charCodeAt(0),s=t.charCodeAt(0);o<=s&&(!e||o!==s);)i(String.fromCharCode(o)),o+=1;else if(parseInt(u,10).toString()===u&&parseInt(t,10).toString()===t)for(o=parseInt(u,10),s=parseInt(t,10);o<=s&&(!e||o!==s);)i(o.toString()),o+=1;else for(;u.length<=t.length&&u<=t&&(!e||u!==t);)i(u),u=u.$succ();return r},St.$$arity=-2),t.def(Ct,"$instance_variables",Mt=function(){return[]},Mt.$$arity=0),t.defs(Ct,"$_load",Tt=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return u(n,"new",t.to_a(r))},Tt.$$arity=-1),t.def(Ct,"$unpack",Rt=function(t){var e=this;return e.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Rt.$$arity=1),t.def(Ct,"$unpack1",It=function(t){var e=this;return e.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},It.$$arity=1),a&&"unpack1"}(i[0],String,i),t.const_set(i[0],"Symbol",$(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=(t.top,[]),u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.module),_=t.truthy,d=t.send,h=t.falsy,p=t.hash2,y=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,m){function g(t){return 0===t.length&&(t=[u]),t.length>1&&(t=[t]),t}var v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht=v=f(s,"Enumerable"),pt=(ht.$$proto,[ht].concat(m));t.def(ht,"$all?",b=function(e){try{var r,n,i,a=this,$=b.$$p,o=$||u;return $&&(b.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?u:void t.ret(!1)},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?u:void t.ret(!1)},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(c(pt,"Opal").$destructure(r))?u:void t.ret(!1)},i.$$s=a,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},b.$$arity=-1),t.def(ht,"$any?",w=function(e){try{var r,n,i,a=this,$=w.$$p,o=$||u;return $&&(w.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?void t.ret(!0):u},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!0):u},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(c(pt,"Opal").$destructure(r))?void t.ret(!0):u},i.$$s=a,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-1),t.def(ht,"$chunk",k=function(){var e,r,n=this,i=k.$$p,a=i||u;return i&&(k.$$p=null),a===u?d(n,"to_enum",["chunk"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):d(l("::","Enumerator"),"new",[],(r=function(e){function n(){o.length>0&&e.$yield($,o)}var i=r.$$s||this;null==e&&(e=u);var $=u,o=[];i.$each.$$p=function(e){var r=t.yield1(a,e);r===u?(n(),o=[],$=u):($===u||$===r?o.push(e):(n(),o=[e]),$=r)},i.$each(),n()},r.$$s=n,r.$$arity=1,r))},k.$$arity=0),t.def(ht,"$chunk_while",E=function(){var e,r=this,n=E.$$p,i=n||u;return n&&(E.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"no block given"),d(r,"slice_when",[],(e=function(r,n){e.$$s||this;return null==r&&(r=u),null==n&&(n=u),t.yieldX(i,[r,n])["$!"]()},e.$$s=r,e.$$arity=2,e))},E.$$arity=0),t.def(ht,"$collect",x=function(){var e,r=this,n=x.$$p,i=n||u;if(n&&(x.$$p=null),i===u)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=t.yieldX(i,arguments);a.push(e)},r.$each(),a},x.$$arity=0),t.def(ht,"$collect_concat",A=function(){var e,r,n=this,i=A.$$p,a=i||u;return i&&(A.$$p=null),a===u?d(n,"enum_for",["collect_concat"],(e=function(){var t=e.$$s||this;return t.$enumerator_size();
},e.$$s=n,e.$$arity=0,e)):d(n,"map",[],(r=function(e){r.$$s||this;return null==e&&(e=u),t.yield1(a,e)},r.$$s=n,r.$$arity=1,r)).$flatten(1)},A.$$arity=0),t.def(ht,"$count",O=function(e){var r,n,i,a=this,$=O.$$p,o=$||u,s=u;return $&&(O.$$p=null),s=0,null!=e&&o!==u&&a.$warn("warning: given block not used"),_(null!=e)?o=d(a,"proc",[],(r=function(t){var n,i=(r.$$s||this,arguments.length),a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];return c(pt,"Opal").$destructure(n)["$=="](e)},r.$$s=a,r.$$arity=-1,r)):_(o["$nil?"]())&&(o=d(a,"proc",[],(n=function(){n.$$s||this;return!0},n.$$s=a,n.$$arity=0,n))),d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),a=n-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<n;$++)r[$-0]=arguments[$];return _(t.yieldX(o,r))?s++:u},i.$$s=a,i.$$arity=-1,i)),s},O.$$arity=-1),t.def(ht,"$cycle",S=function(n){var i,a=this,$=S.$$p,o=$||u;if(null==n&&(n=u),$&&(S.$$p=null),o===u)return d(a,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return _(n["$nil?"]())?_(t["$respond_to?"]("size"))?l(c(pt,"Float"),"INFINITY"):u:(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=a,i.$$arity=0,i));if(_(n["$nil?"]()));else if(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),_(n<=0))return u;var s,f,h,p,y=[];if(a.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(o,e);y.push(e)},a.$each(),void 0!==s)return s;if(0===y.length)return u;if(n===u)for(;;)for(f=0,h=y.length;f<h;f++)p=t.yield1(o,y[f]);else for(;n>1;){for(f=0,h=y.length;f<h;f++)p=t.yield1(o,y[f]);n--}},S.$$arity=-1),t.def(ht,"$detect",M=function(e){try{var r,n=this,i=M.$$p,a=i||u;return i&&(M.$$p=null),a===u?n.$enum_for("detect",e):(d(n,"each",[],(r=function(e){var n,i=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return i=c(pt,"Opal").$destructure(n),_(t.yield1(a,i))?void t.ret(i):u},r.$$s=n,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:u)}catch(e){if(e===t.returner)return e.$v;throw e}},M.$$arity=-1),t.def(ht,"$drop",T=function(t){var e=this;t=c(pt,"Opal").$coerce_to(t,c(pt,"Integer"),"to_int"),_(t<0)&&e.$raise(c(pt,"ArgumentError"),"attempt to drop negative size");var r=[],n=0;return e.$each.$$p=function(){t<=n&&r.push(c(pt,"Opal").$destructure(arguments)),n++},e.$each(),r},T.$$arity=1),t.def(ht,"$drop_while",R=function(){var e=this,r=R.$$p,n=r||u;if(r&&(R.$$p=null),n===u)return e.$enum_for("drop_while");var i=[],a=!0;return e.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(a){var r=t.yield1(n,e);h(r)&&(a=!1,i.push(e))}else i.push(e)},e.$each(),i},R.$$arity=0),t.def(ht,"$each_cons",I=function(e){var r,$=this,o=I.$$p,s=o||u;if(o&&(I.$$p=null),_(1!=arguments.length)&&$.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=c(pt,"Opal").$try_convert(e,c(pt,"Integer"),"to_int"),_(e<=0)&&$.$raise(c(pt,"ArgumentError"),"invalid size"),s===u)return d($,"enum_for",["each_cons",e],(r=function(){var t,$=r.$$s||this,o=u;return o=$.$enumerator_size(),_(o["$nil?"]())?u:_(_(t=o["$=="](0))?t:n(o,e))?0:i(a(o,e),1)},r.$$s=$,r.$$arity=0,r));var l=[],f=u;return $.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);l.push(r),l.length>e&&l.shift(),l.length==e&&t.yield1(s,l.slice(0,e))},$.$each(),f},I.$$arity=1),t.def(ht,"$each_entry",C=function(e){var r,n,i=this,a=C.$$p,$=a||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return a&&(C.$$p=null),$===u?d(i,"to_enum",["each_entry"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r)):(i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1($,e)},i.$each.apply(i,n),i)},C.$$arity=-1),t.def(ht,"$each_slice",N=function(e){var r,n=this,i=N.$$p,a=i||u;if(i&&(N.$$p=null),e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<=0)&&n.$raise(c(pt,"ArgumentError"),"invalid slice size"),a===u)return d(n,"enum_for",["each_slice",e],(r=function(){var t=r.$$s||this;return _(t["$respond_to?"]("size"))?$(t.$size(),e).$ceil():u},r.$$s=n,r.$$arity=0,r));var o,s=[];return n.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);s.push(r),s.length===e&&(t.yield1(a,s),s=[])},n.$each(),void 0!==o?o:(s.length>0&&t.yield1(a,s),u)},N.$$arity=1),t.def(ht,"$each_with_index",z=function(e){var r,n,i=this,a=z.$$p,$=a||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];if(a&&(z.$$p=null),$===u)return d(i,"enum_for",["each_with_index"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r));var f,_=0;return i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);$(t,_),_++},i.$each.apply(i,n),void 0!==f?f:i},z.$$arity=-1),t.def(ht,"$each_with_object",P=function(t){var e,r=this,n=P.$$p,i=n||u;if(n&&(P.$$p=null),i===u)return d(r,"enum_for",["each_with_object",t],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);i(e,t)},r.$each(),void 0!==a?a:t},P.$$arity=1),t.def(ht,"$entries",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];var $=[];return r.$each.$$p=function(){$.push(c(pt,"Opal").$destructure(arguments))},r.$each.apply(r,e),$},B.$$arity=-1),t.alias(ht,"find","detect"),t.def(ht,"$find_all",q=function(){var e,r=this,n=q.$$p,i=n||u;if(n&&(q.$$p=null),i===u)return d(r,"enum_for",["find_all"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)&&a.push(e)},r.$each(),a},q.$$arity=0),t.def(ht,"$find_index",D=function(e){try{var r,n,i=this,a=D.$$p,$=a||u,o=u;return a&&(D.$$p=null),_(void 0===e&&$===u)?i.$enum_for("find_index"):(null!=e&&$!==u&&i.$warn("warning: given block not used"),o=0,_(null!=e)?d(i,"each",[],(r=function(n){var i,a=(r.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var s=0;s<a;s++)i[s-0]=arguments[s];return c(pt,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)):d(i,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<i;s++)r[s-0]=arguments[s];return _(t.yieldX($,t.to_a(r)))&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)),u)}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=-1),t.def(ht,"$first",L=function(e){try{var r,n,i=this,a=u,$=u;return _(void 0===e)?d(i,"each",[],(r=function(e){r.$$s||this;null==e&&(e=u),t.ret(e)},r.$$s=i,r.$$arity=1,r)):(a=[],e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),_(e<0)&&i.$raise(c(pt,"ArgumentError"),"attempt to take negative size"),_(0==e)?[]:($=0,d(i,"each",[],(n=function(r){var i,o=(n.$$s||this,arguments.length),s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return a.push(c(pt,"Opal").$destructure(i)),_(e<=++$)?void t.ret(a):u},n.$$s=i,n.$$arity=-1,n)),a))}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=-1),t.alias(ht,"flat_map","collect_concat"),t.def(ht,"$grep",F=function(r){var n,i=this,a=F.$$p,$=a||u,s=u;return a&&(F.$$p=null),s=[],d(i,"each",[],(n=function(i){var a,l=(n.$$s||this,u),c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<c;h++)a[h-0]=arguments[h];return l=g(a),_(d(r,"__send__",["==="].concat(t.to_a(l))))?($!==u?(_(e(a.$length(),1))&&(a=[a]),a=t.yieldX($,t.to_a(a))):_(o(a.$length(),1))&&(a=a["$[]"](0)),s.$push(a)):u},n.$$s=i,n.$$arity=-1,n)),s},F.$$arity=1),t.def(ht,"$grep_v",j=function(r){var n,i=this,a=j.$$p,$=a||u,s=u;return a&&(j.$$p=null),s=[],d(i,"each",[],(n=function(i){var a,l=(n.$$s||this,u),c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var h=0;h<c;h++)a[h-0]=arguments[h];return l=g(a),_(d(r,"__send__",["==="].concat(t.to_a(l))))?u:($!==u?(_(e(a.$length(),1))&&(a=[a]),a=t.yieldX($,t.to_a(a))):_(o(a.$length(),1))&&(a=a["$[]"](0)),s.$push(a))},n.$$s=i,n.$$arity=-1,n)),s},j.$$arity=1),t.def(ht,"$group_by",U=function(){var e,r,n=this,i=U.$$p,$=i||u,o=u,s=u;if(i&&(U.$$p=null),$===u)return d(n,"enum_for",["group_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));o=p([],{});var l;return n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=t.yield1($,e);(_(r=o["$[]"](n))?r:(s=[n,[]],d(o,"[]=",t.to_a(s)),s[a(s.length,1)]))["$<<"](e)},n.$each(),void 0!==l?l:o},U.$$arity=0),t.def(ht,"$include?",H=function(e){try{var r,n=this;return d(n,"each",[],(r=function(n){var i,a=(r.$$s||this,arguments.length),$=a-0;$<0&&($=0),i=new Array($);for(var o=0;o<a;o++)i[o-0]=arguments[o];return c(pt,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):u},r.$$s=n,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},H.$$arity=1),t.def(ht,"$inject",G=function(e,r){var n=this,i=G.$$p,a=i||u;i&&(G.$$p=null);var $=e;return a!==u&&void 0===r?n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=e):(e=t.yieldX(a,[$,e]),void($=e))}:(void 0===r&&(c(pt,"Symbol")["$==="](e)||n.$raise(c(pt,"TypeError"),""+e.$inspect()+" is not a Symbol"),r=e,$=void 0),n.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=t):void($=$.$__send__(r,t))}),n.$each(),void 0==$?u:$},G.$$arity=-1),t.def(ht,"$lazy",Y=function(){var e,r=this;return d(l(c(pt,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var i,a=(e.$$s||this,arguments.length),$=a-1;$<0&&($=0),i=new Array($);for(var o=1;o<a;o++)i[o-1]=arguments[o];return null==r&&(r=u),d(r,"yield",t.to_a(i))},e.$$s=r,e.$$arity=-2,e))},Y.$$arity=0),t.def(ht,"$enumerator_size",W=function(){var t=this;return _(t["$respond_to?"]("size"))?t.$size():u},W.$$arity=0),t.alias(ht,"map","collect"),t.def(ht,"$max",K=function(e){var r=this,n=K.$$p,i=n||u;if(n&&(K.$$p=null),void 0===e||e===u){var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=e):($=i!==u?t.yieldX(i,[e,a]):e["$<=>"](a),$===u&&r.$raise(c(pt,"ArgumentError"),"comparison failed"),void($>0&&(a=e)))},r.$each(),void 0===a?u:a}return e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),d(r,"sort",[],i.$to_proc()).$reverse().$first(e)},K.$$arity=-1),t.def(ht,"$max_by",X=function(){var e,r=this,n=X.$$p,i=n||u;if(n&&(X.$$p=null),!_(i))return d(r,"enum_for",["max_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===a?(a=e,void($=r)):void(r["$<=>"]($)>0&&(a=e,$=r))},r.$each(),void 0===a?u:a},X.$$arity=0),t.alias(ht,"member?","include?"),t.def(ht,"$min",V=function(){var t=this,e=V.$$p,r=e||u;e&&(V.$$p=null);var n;return r!==u?t.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(void 0===n)return void(n=e);var i=r(e,n);i===u&&t.$raise(c(pt,"ArgumentError"),"comparison failed"),i<0&&(n=e)}:t.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===n?void(n=t):void(c(pt,"Opal").$compare(t,n)<0&&(n=t))},t.$each(),void 0===n?u:n},V.$$arity=0),t.def(ht,"$min_by",J=function(){var e,r=this,n=J.$$p,i=n||u;if(n&&(J.$$p=null),!_(i))return d(r,"enum_for",["min_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a,$;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===a?(a=e,void($=r)):void(r["$<=>"]($)<0&&(a=e,$=r))},r.$each(),void 0===a?u:a},J.$$arity=0),t.def(ht,"$minmax",Z=function(){var t,e,r=this,n=Z.$$p,i=n||u;n&&(Z.$$p=null),i=_(t=i)?t:d(r,"proc",[],(e=function(t,r){e.$$s||this;return null==t&&(t=u),null==r&&(r=u),t["$<=>"](r)},e.$$s=r,e.$$arity=2,e));var a=u,$=u,o=!0;return r.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);if(o)a=$=t,o=!1;else{var e=i.$call(a,t);e===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):e>0&&(a=t);var n=i.$call($,t);n===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):n<0&&($=t)}},r.$each(),[a,$]},Z.$$arity=0),t.def(ht,"$minmax_by",Q=function(){var t=this,e=Q.$$p;return e&&(Q.$$p=null),t.$raise(c(pt,"NotImplementedError"))},Q.$$arity=0),t.def(ht,"$none?",tt=function(e){try{var r,n,i,a=this,$=tt.$$p,o=$||u;return $&&(tt.$$p=null),_(void 0!==e)?d(a,"each",[],(r=function(n){var i,a=(r.$$s||this,u),$=arguments.length,o=$-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<$;s++)i[s-0]=arguments[s];return a=g(i),_(d(e,"public_send",["==="].concat(t.to_a(a))))?void t.ret(!1):u},r.$$s=a,r.$$arity=-1,r)):o!==u?d(a,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return _(t.yieldX(o,t.to_a(r)))?void t.ret(!1):u},n.$$s=a,n.$$arity=-1,n)):d(a,"each",[],(i=function(e){var r,n=(i.$$s||this,u),a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return n=c(pt,"Opal").$destructure(r),_(n)?void t.ret(!1):u},i.$$s=a,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},tt.$$arity=-1),t.def(ht,"$one?",et=function(r){try{var n,a,$,o=this,s=et.$$p,l=s||u,f=u;return s&&(et.$$p=null),f=0,_(void 0!==r)?d(o,"each",[],(n=function(a){var $,o=(n.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var c=0;c<s;c++)$[c-0]=arguments[c];return o=g($),_(d(r,"public_send",["==="].concat(t.to_a(o))))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},n.$$s=o,n.$$arity=-1,n)):l!==u?d(o,"each",[],(a=function(r){var n,$=(a.$$s||this,arguments.length),o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return _(t.yieldX(l,t.to_a(n)))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},a.$$s=o,a.$$arity=-1,a)):d(o,"each",[],($=function(r){var n,a=($.$$s||this,arguments.length),o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return _(c(pt,"Opal").$destructure(n))?(f=i(f,1),_(e(f,1))?void t.ret(!1):u):u},$.$$s=o,$.$$arity=-1,$)),f["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},et.$$arity=-1),t.def(ht,"$partition",rt=function(){var e,r=this,n=rt.$$p,i=n||u;if(n&&(rt.$$p=null),i===u)return d(r,"enum_for",["partition"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[],$=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)?a.push(e):$.push(e)},r.$each(),[a,$]},rt.$$arity=0),t.alias(ht,"reduce","inject"),t.def(ht,"$reject",nt=function(){var e,r=this,n=nt.$$p,i=n||u;if(n&&(nt.$$p=null),i===u)return d(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);h(r)&&a.push(e)},r.$each(),a},nt.$$arity=0),t.def(ht,"$reverse_each",it=function(){var e,r=this,n=it.$$p,i=n||u;if(n&&(it.$$p=null),i===u)return d(r,"enum_for",["reverse_each"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var a=[];r.$each.$$p=function(){a.push(arguments)},r.$each();for(var $=a.length-1;$>=0;$--)t.yieldX(i,a[$]);return a},it.$$arity=0),t.alias(ht,"select","find_all"),t.def(ht,"$slice_before",at=function(e){var r,n=this,i=at.$$p,a=i||u;return i&&(at.$$p=null),_(void 0===e&&a===u)&&n.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&a!==u||arguments.length>1)&&n.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),d(c(pt,"Enumerator"),"new",[],(r=function(n){var i=r.$$s||this;null==n&&(n=u);var $=[];a!==u?void 0===e?i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(a,e);_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(e)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=a(t,e.$dup());_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(t)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=e["$==="](t);_(r)&&$.length>0&&(n["$<<"]($),$=[]),$.push(t)},i.$each(),$.length>0&&n["$<<"]($)},r.$$s=n,r.$$arity=1,r))},at.$$arity=-1),t.def(ht,"$slice_after",$t=function(e){var r,n,i=this,a=$t.$$p,$=a||u;return a&&($t.$$p=null),_(void 0===e&&$===u)&&i.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),_(void 0!==e&&$!==u||arguments.length>1)&&i.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),_(void 0!==e)&&($=d(i,"proc",[],(r=function(t){r.$$s||this;return null==t&&(t=u),e["$==="](t)},r.$$s=i,r.$$arity=1,r))),d(c(pt,"Enumerator"),"new",[],(n=function(e){var r=n.$$s||this;null==e&&(e=u);var i;r.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments),n=t.yield1($,r);null==i&&(i=[]),_(n)?(i.push(r),e.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&e.$yield(i)},n.$$s=i,n.$$arity=1,n))},$t.$$arity=-1),t.def(ht,"$slice_when",ot=function(){var e,r=this,n=ot.$$p,i=n||u;return n&&(ot.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"wrong number of arguments (0 for 1)"),d(c(pt,"Enumerator"),"new",[],(e=function(r){var n=e.$$s||this;null==r&&(r=u);var a=u,$=u;n.$each_cons.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=e[0],o=e[1],s=t.yieldX(i,[n,o]);$=o,a===u&&(a=[]),_(s)?(a.push(n),r.$yield(a),a=[]):a.push(n)},n.$each_cons(2),a!==u&&(a.push($),r.$yield(a))},e.$$s=r,e.$$arity=1,e))},ot.$$arity=0),t.def(ht,"$sort",st=function(){var t,e=this,r=st.$$p,n=r||u,i=u;return r&&(st.$$p=null),i=e.$to_a(),n!==u||(n=y((t=function(e,r){t.$$s||this;return null==e&&(e=u),null==r&&(r=u),e["$<=>"](r)},t.$$s=e,t.$$arity=2,t))),d(i,"sort",[],n.$to_proc())},st.$$arity=0),t.def(ht,"$sort_by",ut=function(){var e,r,n,i,a=this,$=ut.$$p,o=$||u,s=u;return $&&(ut.$$p=null),o===u?d(a,"enum_for",["sort_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=a,e.$$arity=0,e)):(s=d(a,"map",[],(r=function(){var e=(r.$$s||this,u);return e=c(pt,"Opal").$destructure(arguments),[t.yield1(o,e),e]},r.$$s=a,r.$$arity=0,r)),d(s,"sort!",[],(n=function(t,e){n.$$s||this;return null==t&&(t=u),null==e&&(e=u),t[0]["$<=>"](e[0])},n.$$s=a,n.$$arity=2,n)),d(s,"map!",[],(i=function(t){i.$$s||this;return null==t&&(t=u),t[1]},i.$$s=a,i.$$arity=1,i)))},ut.$$arity=0),t.def(ht,"$sum",lt=function(e){var r,n=this,a=lt.$$p,$=a||u,o=u;return null==e&&(e=0),a&&(lt.$$p=null),o=e,d(n,"each",[],(r=function(e){var n,a=(r.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),n=new Array(l);for(var f=0;f<s;f++)n[f-0]=arguments[f];return a=function(){return $!==u?t.yieldX($,t.to_a(n)):c(pt,"Opal").$destructure(n)}(),o=i(o,a)},r.$$s=n,r.$$arity=-1,r)),o},lt.$$arity=-1),t.def(ht,"$take",ct=function(t){var e=this;return e.$first(t)},ct.$$arity=1),t.def(ht,"$take_while",ft=function(){try{var e,r=this,n=ft.$$p,i=n||u,a=u;return n&&(ft.$$p=null),_(i)?(a=[],d(r,"each",[],(e=function(r){var n,$=(e.$$s||this,u),o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return $=c(pt,"Opal").$destructure(n),_(t.yield1(i,$))||t.ret(a),a.push($)},e.$$s=r,e.$$arity=-1,e))):r.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},ft.$$arity=0),t.def(ht,"$uniq",_t=function(){var e,r=this,n=_t.$$p,i=n||u,$=u;return n&&(_t.$$p=null),$=p([],{}),d(r,"each",[],(e=function(r){var n,o=(e.$$s||this,u),s=u,l=u,f=arguments.length,h=f-0;h<0&&(h=0),n=new Array(h);for(var p=0;p<f;p++)n[p-0]=arguments[p];return o=c(pt,"Opal").$destructure(n),s=function(){return i!==u?t.yield1(i,o):o}(),_($["$key?"](s))?u:(l=[s,o],d($,"[]=",t.to_a(l)),l[a(l.length,1)])},e.$$s=r,e.$$arity=-1,e)),$.$values()},_t.$$arity=0),t.alias(ht,"to_a","entries"),t.def(ht,"$zip",dt=function(e){var r,n=this,i=dt.$$p,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i&&(dt.$$p=null),d(n.$to_a(),"zip",t.to_a(r))},dt.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative),o=t.breaker,s=t.slice,u=t.klass,l=t.truthy,c=t.send,f=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,_){function d(){}var h,p,y,m,g,v,b=d=u(n,i,"Enumerator",d),w=b.$$proto,k=[b].concat(_);return w.size=w.args=w.object=w.method=a,b.$include($(k,"Enumerable")),w.$$is_enumerator=!0,t.defs(b,"$for",h=function(t,e,r){var n,i=this,$=h.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,u=s-2;u<0&&(u=0),n=new Array(u);for(var l=2;l<s;l++)n[l-2]=arguments[l];$&&(h.$$p=null);var c=i.$allocate();return c.object=t,c.size=o,c.method=e,c.args=n,c},h.$$arity=-2),t.def(b,"$initialize",p=function(t){var e=this,r=p.$$p,n=r||a;return r&&(p.$$p=null),l(n)?(e.object=c($(k,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=arguments[0]||a,l(e.size)?e.size=$(k,"Opal").$coerce_to(e.size,$(k,"Integer"),"to_int"):a):(e.object=arguments[0],e.method=arguments[1]||"each",e.args=s.call(arguments,2),e.size=a)},p.$$arity=-1),t.def(b,"$each",y=function(r){var n,i,$=this,o=y.$$p,s=o||a,u=arguments.length,f=u-0;f<0&&(f=0),i=new Array(f);for(var _=0;_<u;_++)i[_-0]=arguments[_];return o&&(y.$$p=null),l(l(n=s["$nil?"]())?i["$empty?"]():n)?$:(i=e($.args,i),l(s["$nil?"]())?c($.$class(),"new",[$.object,$.method].concat(t.to_a(i))):c($.object,"__send__",[$.method].concat(t.to_a(i)),s.$to_proc()))},y.$$arity=-1),t.def(b,"$size",m=function(){var e=this;return l($(k,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},m.$$arity=0),t.def(b,"$with_index",g=function(t){var e,r=this,n=g.$$p,i=n||a;if(null==t&&(t=0),n&&(g.$$p=null),t=function(){return l(t)?$(k,"Opal").$coerce_to(t,$(k,"Integer"),"to_int"):0}(),!l(i))return c(r,"enum_for",["with_index",t],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var o=t;return r.$each.$$p=function(){var t=$(k,"Opal").$destructure(arguments),e=i(t,o);return o++,e},r.$each()},g.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.def(b,"$inspect",v=function(){var t=this,r=a;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,l(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"]($(k,"Range").$new(1,-2))+")")),e(r,">")},v.$$arity=0),function(e,r,n){function i(){}var s,f,_=i=u(e,r,"Generator",i),d=_.$$proto,h=[_].concat(n);return d.block=a,_.$include($(h,"Enumerable")),t.def(_,"$initialize",s=function(){var t=this,e=s.$$p,r=e||a;return e&&(s.$$p=null),l(r)||t.$raise($(h,"LocalJumpError"),"no block given"),t.block=r},s.$$arity=0),t.def(_,"$each",f=function(e){var r,n=this,i=f.$$p,s=i||a,u=a,l=arguments.length,_=l-0;_<0&&(_=0),r=new Array(_);for(var d=0;d<l;d++)r[d-0]=arguments[d];i&&(f.$$p=null),u=c($(h,"Yielder"),"new",[],s.$to_proc());try{r.unshift(u),t.yieldX(n.block,r)}catch(t){if(t===o)return o.$v;throw t}return n},f.$$arity=-1),a&&"each"}(k[0],null,k),function(e,r,n){function i(){}var $,s,l,f=i=u(e,r,"Yielder",i),_=f.$$proto;[f].concat(n);return _.block=a,t.def(f,"$initialize",$=function(){var t=this,e=$.$$p,r=e||a;return e&&($.$$p=null),t.block=r},$.$$arity=0),t.def(f,"$yield",s=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];var s=t.yieldX(n.block,r);if(s===o)throw o;return s},s.$$arity=-1),t.def(f,"$<<",l=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];return c(n,"yield",t.to_a(r)),n},l.$$arity=-1),a&&"<<"}(k[0],null,k),function(n,i,o){function s(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A=s=u(n,i,"Lazy",s),O=A.$$proto,S=[A].concat(o);return O.enumerator=a,function(t,e,r){function n(){}var i=n=u(t,e,"StopLazyError",n);i.$$proto,[i].concat(r);return a}(S[0],$(S,"Exception"),S),t.def(A,"$initialize",_=function(e,r){var n,i=this,o=_.$$p,s=o||a;return null==r&&(r=a),o&&(_.$$p=null),s!==a||i.$raise($(S,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",_,!1),[r],(n=function(r,i){var o,u,l=n.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<f;d++)o[d-1]=arguments[d];null==r&&(r=a);try{return c(e,"each",t.to_a(o),(u=function(e){var n,i=(u.$$s||this,arguments.length),a=i-0;a<0&&(a=0),n=new Array(a);for(var $=0;$<i;$++)n[$-0]=arguments[$];n.unshift(r),t.yieldX(s,n)},u.$$s=l,u.$$arity=-1,u))}catch(e){if(!t.rescue(e,[$(S,"Exception")]))throw e;try{return a}finally{t.pop_exception()}}},n.$$s=i,n.$$arity=-2,n))},_.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",d=function(){var t=this;return t},d.$$arity=0),t.def(A,"$collect",h=function(){var e,r=this,n=h.$$p,i=n||a;return n&&(h.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),c($(S,"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var l=t.yieldX(i,$);r.$yield(l)},e.$$s=r,e.$$arity=-2,e))},h.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,r=this,n=p.$$p,i=n||a;return n&&(p.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy map without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var o,s,u,l=e.$$s||this,f=arguments.length,_=f-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<f;d++)o[d-1]=arguments[d];null==r&&(r=a);var h=t.yieldX(i,o);if(h["$respond_to?"]("force")&&h["$respond_to?"]("each"))c(h,"each",[],(s=function(t){s.$$s||this;return null==t&&(t=a),r.$yield(t)},s.$$s=l,s.$$arity=1,s));else{var p=$(S,"Opal").$try_convert(h,$(S,"Array"),"to_ary");p===a?r.$yield(h):c(h,"each",[],(u=function(t){u.$$s||this;return null==t&&(t=a),r.$yield(t)},u.$$s=l,u.$$arity=1,u))}},e.$$s=r,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",y=function(n){var i,o=this,s=a,u=a,f=a;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise($(S,"ArgumentError"),"attempt to drop negative size"),s=o.$enumerator_size(),u=function(){return l($(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),f=0,c($(S,"Lazy"),"new",[o,u],(i=function($,o){var s,u=(i.$$s||this,arguments.length),_=u-1;_<0&&(_=0),s=new Array(_);for(var d=1;d<u;d++)s[d-1]=arguments[d];return null==$&&($=a),l(r(f,n))?f=e(f,1):c($,"yield",t.to_a(s))},i.$$s=o,i.$$arity=-2,i))},y.$$arity=1),t.def(A,"$drop_while",m=function(){var e,r=this,n=m.$$p,i=n||a,o=a;return n&&(m.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy drop_while without a block"),o=!0,c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,s=(e.$$s||this,arguments.length),u=s-1;u<0&&(u=0),$=new Array(u);for(var _=1;_<s;_++)$[_-1]=arguments[_];if(null==r&&(r=a),!l(o))return c(r,"yield",t.to_a($));var d=t.yieldX(i,$);f(d)&&(o=!1,c(r,"yield",t.to_a($)))},e.$$s=r,e.$$arity=-2,e))},m.$$arity=0),t.def(A,"$enum_for",g=function(e,r){var n,i=this,$=g.$$p,o=$||a;null==e&&(e="each");var s=arguments.length,u=s-1;u<0&&(u=0),n=new Array(u);for(var l=1;l<s;l++)n[l-1]=arguments[l];return $&&(g.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(n)),o.$to_proc())},g.$$arity=-1),t.def(A,"$find_all",v=function(){var e,r=this,n=v.$$p,i=n||a;return n&&(v.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy select without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var f=t.yieldX(i,$);l(f)&&c(r,"yield",t.to_a($))},e.$$s=r,e.$$arity=-2,e))},v.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",b=function(e){var r,n,i=this,o=b.$$p,s=o||a;return o&&(b.$$p=null),l(s)?c($(S,"Lazy"),"new",[i,a],(r=function(n,i){var o,u=(r.$$s||this,arguments.length),c=u-1;c<0&&(c=0),o=new Array(c);for(var f=1;f<u;f++)o[f-1]=arguments[f];null==n&&(n=a);var _=$(S,"Opal").$destructure(o),d=e["$==="](_);l(d)&&(d=t.yield1(s,_),n.$yield(t.yield1(s,_)))},r.$$s=i,r.$$arity=-2,r)):c($(S,"Lazy"),"new",[i,a],(n=function(t,r){var i,o=(n.$$s||this,arguments.length),s=o-1;s<0&&(s=0),i=new Array(s);for(var u=1;u<o;u++)i[u-1]=arguments[u];null==t&&(t=a);var c=$(S,"Opal").$destructure(i),f=e["$==="](c);l(f)&&t.$yield(c)},n.$$s=i,n.$$arity=-2,n))},b.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",w=function(){var e,r=this,n=w.$$p,i=n||a;return n&&(w.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy reject without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var $,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<o;u++)$[u-1]=arguments[u];null==r&&(r=a);var l=t.yieldX(i,$);f(l)&&c(r,"yield",t.to_a($))},e.$$s=r,e.$$arity=-2,e))},w.$$arity=0),t.def(A,"$take",k=function(n){var i,o=this,s=a,u=a,f=a;return n=$(S,"Opal").$coerce_to(n,$(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise($(S,"ArgumentError"),"attempt to take negative size"),s=o.$enumerator_size(),u=function(){return l($(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),f=0,c($(S,"Lazy"),"new",[o,u],(i=function(o,s){var u,_=i.$$s||this,d=arguments.length,h=d-1;h<0&&(h=0),u=new Array(h);for(var p=1;p<d;p++)u[p-1]=arguments[p];return null==o&&(o=a),l(r(f,n))?(c(o,"yield",t.to_a(u)),f=e(f,1)):_.$raise($(S,"StopLazyError"))},i.$$s=o,i.$$arity=-2,i))},k.$$arity=1),t.def(A,"$take_while",E=function(){var e,r=this,n=E.$$p,i=n||a;return n&&(E.$$p=null),l(i)||r.$raise($(S,"ArgumentError"),"tried to call lazy take_while without a block"),c($(S,"Lazy"),"new",[r,a],(e=function(r,n){var o,s=e.$$s||this,u=arguments.length,f=u-1;f<0&&(f=0),o=new Array(f);for(var _=1;_<u;_++)o[_-1]=arguments[_];null==r&&(r=a);var d=t.yieldX(i,o);l(d)?c(r,"yield",t.to_a(o)):s.$raise($(S,"StopLazyError"))},e.$$s=r,e.$$arity=-2,e))},E.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),a&&"inspect"}(k[0],b,k)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,o,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q=h=c($,o,"Numeric",h),tt=(Q.$$proto,[Q].concat(d));return Q.$include(l(tt,"Comparable")),t.def(Q,"$coerce",p=function(t){var e=this;return f(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},p.$$arity=1),t.def(Q,"$__coerced__",y=function(e,r){var n,i,a=this,$=s,o=s,u=s;return f(r["$respond_to?"]("coerce"))?(i=r.$coerce(a),n=t.to_ary(i),$=null==n[0]?s:n[0],o=null==n[1]?s:n[1],i,$.$__send__(e,o)):function(){return u=e,"+"["$==="](u)||"-"["$==="](u)||"*"["$==="](u)||"/"["$==="](u)||"%"["$==="](u)||"&"["$==="](u)||"|"["$==="](u)||"^"["$==="](u)||"**"["$==="](u)?a.$raise(l(tt,"TypeError"),""+r.$class()+" can't be coerced into Numeric"):">"["$==="](u)||">="["$==="](u)||"<"["$==="](u)||"<="["$==="](u)||"<=>"["$==="](u)?a.$raise(l(tt,"ArgumentError"),"comparison of "+a.$class()+" with "+r.$class()+" failed"):s;
}()},y.$$arity=2),t.def(Q,"$<=>",m=function(t){var e=this;return f(e["$equal?"](t))?0:s},m.$$arity=1),t.def(Q,"$+@",g=function(){var t=this;return t},g.$$arity=0),t.def(Q,"$-@",v=function(){var t=this;return e(0,t)},v.$$arity=0),t.def(Q,"$%",b=function(t){var n=this;return e(n,r(t,n.$div(t)))},b.$$arity=1),t.def(Q,"$abs",w=function(){var t=this;return n(t,0)?t["$-@"]():t},w.$$arity=0),t.def(Q,"$abs2",k=function(){var t=this;return r(t,t)},k.$$arity=0),t.def(Q,"$angle",E=function(){var t=this;return n(t,0)?u(l(tt,"Math"),"PI"):0},E.$$arity=0),t.alias(Q,"arg","angle"),t.def(Q,"$ceil",x=function(t){var e=this;return null==t&&(t=0),e.$to_f().$ceil(t)},x.$$arity=-1),t.def(Q,"$conj",A=function(){var t=this;return t},A.$$arity=0),t.alias(Q,"conjugate","conj"),t.def(Q,"$denominator",O=function(){var t=this;return t.$to_r().$denominator()},O.$$arity=0),t.def(Q,"$div",S=function(t){var e=this;return t["$=="](0)&&e.$raise(l(tt,"ZeroDivisionError"),"divided by o"),i(e,t).$floor()},S.$$arity=1),t.def(Q,"$divmod",M=function(t){var e=this;return[e.$div(t),e["$%"](t)]},M.$$arity=1),t.def(Q,"$fdiv",T=function(t){var e=this;return i(e.$to_f(),t)},T.$$arity=1),t.def(Q,"$floor",R=function(t){var e=this;return null==t&&(t=0),e.$to_f().$floor(t)},R.$$arity=-1),t.def(Q,"$i",I=function(){var t=this;return t.$Complex(0,t)},I.$$arity=0),t.def(Q,"$imag",C=function(){return 0},C.$$arity=0),t.alias(Q,"imaginary","imag"),t.def(Q,"$integer?",N=function(){return!1},N.$$arity=0),t.alias(Q,"magnitude","abs"),t.alias(Q,"modulo","%"),t.def(Q,"$nonzero?",z=function(){var t=this;return f(t["$zero?"]())?s:t},z.$$arity=0),t.def(Q,"$numerator",P=function(){var t=this;return t.$to_r().$numerator()},P.$$arity=0),t.alias(Q,"phase","arg"),t.def(Q,"$polar",B=function(){var t=this;return[t.$abs(),t.$arg()]},B.$$arity=0),t.def(Q,"$quo",q=function(t){var e=this;return i(l(tt,"Opal")["$coerce_to!"](e,l(tt,"Rational"),"to_r"),t)},q.$$arity=1),t.def(Q,"$real",D=function(){var t=this;return t},D.$$arity=0),t.def(Q,"$real?",L=function(){return!0},L.$$arity=0),t.def(Q,"$rect",F=function(){var t=this;return[t,0]},F.$$arity=0),t.alias(Q,"rectangular","rect"),t.def(Q,"$round",j=function(t){var e=this;return e.$to_f().$round(t)},j.$$arity=-1),t.def(Q,"$to_c",U=function(){var t=this;return t.$Complex(t,0)},U.$$arity=0),t.def(Q,"$to_int",H=function(){var t=this;return t.$to_i()},H.$$arity=0),t.def(Q,"$truncate",G=function(t){var e=this;return null==t&&(t=0),e.$to_f().$truncate(t)},G.$$arity=-1),t.def(Q,"$zero?",Y=function(){var t=this;return t["$=="](0)},Y.$$arity=0),t.def(Q,"$positive?",W=function(){var t=this;return a(t,0)},W.$$arity=0),t.def(Q,"$negative?",K=function(){var t=this;return n(t,0)},K.$$arity=0),t.def(Q,"$dup",X=function(){var t=this;return t},X.$$arity=0),t.def(Q,"$clone",V=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=_([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},V.$$arity=-1),t.def(Q,"$finite?",J=function(){return!0},J.$$arity=0),t.def(Q,"$infinite?",Z=function(){return s},Z.$$arity=0),s&&"infinite?"}(o[0],null,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.hash2,d=t.send,h=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),$.$require("corelib/enumerable"),$.$require("corelib/numeric"),function($,o,p){function y(){}function m(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function g(e,r){var n,i,a,$,o=e.length;return n=r.excl,i=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),a=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),i<0&&(i+=o,i<0)?s:i>o?s:a<0&&(a+=o,a<0)?[]:(n||(a+=1),$=e.slice(i,a),m($,e.$class()))}function v(e,r,n){var i,a=e.length;return r=t.Opal.$coerce_to(r,t.Integer,"to_int"),r<0&&(r+=a,r<0)?s:void 0===n?r>=a||r<0?s:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"),n<0||r>a||r<0?s:(i=e.slice(r,r+n),m(i,e.$class())))}function b(t,e){return t===e||0===e?1:e>0&&t>e?b(t-1,e-1)+b(t-1,e):0}function w(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}var k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt,Dt,Lt,Ft,jt,Ut,Ht,Gt,Yt,Wt,Kt,Xt,Vt,Jt,Zt,Qt,te,ee,re,ne,ie,ae,$e,oe,se=y=c($,o,"Array",y),ue=se.$$proto,le=[se].concat(p);return se.$include(l(le,"Enumerable")),ue.$$is_array=!0,t.defs(se,"$[]",k=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return m(e,r)},k.$$arity=-1),t.def(se,"$initialize",E=function(t,e){var r=this,n=E.$$p,i=n||s;if(null==t&&(t=s),null==e&&(e=s),n&&(E.$$p=null),e!==s&&i!==s&&r.$warn("warning: block supersedes default value argument"),t>u(l(le,"Integer"),"MAX")&&r.$raise(l(le,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&r.$raise(l(le,"ArgumentError"),"negative array size"),r.splice(0,r.length);var a,$;if(i===s)for(a=0;a<t;a++)r.push(e);else for(a=0,$;a<t;a++)$=i(a),r[a]=$;return r},E.$$arity=-1),t.defs(se,"$try_convert",x=function(t){return l(le,"Opal")["$coerce_to?"](t,l(le,"Array"),"to_ary")},x.$$arity=1),t.def(se,"$&",A=function(e){var r=this;e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,a,$=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)a=r[n],void 0!==t.hash_delete(o,a)&&$.push(a);return $},A.$$arity=1),t.def(se,"$|",O=function(e){var r=this;e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,a=_([],{});for(n=0,i=r.length;n<i;n++)t.hash_put(a,r[n],!0);for(n=0,i=e.length;n<i;n++)t.hash_put(a,e[n],!0);return a.$keys()},O.$$arity=1),t.def(se,"$*",S=function(t){var e=this;if(f(t["$respond_to?"]("to_str")))return e.$join(t.$to_str());t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative argument");for(var r=[],n=e.$to_a(),i=0;i<t;i++)r=r.concat(n);return m(r,e.$class())},S.$$arity=1),t.def(se,"$+",M=function(t){var e=this;return t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.concat(t)},M.$$arity=1),t.def(se,"$-",T=function(e){var r=this;if(e=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}(),f(0===r.length))return[];if(f(0===e.length))return r.slice();var n,i,a,$=[],o=_([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)a=r[n],void 0===t.hash_get(o,a)&&$.push(a);return $},T.$$arity=1),t.def(se,"$<<",R=function(t){var e=this;return e.push(t),e},R.$$arity=1),t.def(se,"$<=>",I=function(t){var e=this;if(f(l(le,"Array")["$==="](t)))t=t.$to_a();else{if(!f(t["$respond_to?"]("to_ary")))return s;t=t.$to_ary().$to_a()}if(e.$hash()===t.$hash())return 0;for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]["$<=>"](t[n]);if(0!==i)return i}return e.length["$<=>"](t.length)},I.$$arity=1),t.def(se,"$==",C=function(t){function e(t,r){var i,a,$,o;if(t===r)return!0;if(!r.$$is_array)return!!l(le,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),r.constructor!==Array&&(r=r.$to_a()),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=r[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!n.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$=="](o))return!1;return!0}var r=this,n={};return e(r,t)},C.$$arity=1),t.def(se,"$[]",N=function(t,e){var r=this;return t.$$is_range?g(r,t):v(r,t,e)},N.$$arity=-2),t.def(se,"$[]=",z=function(t,e,r){var n,i=this,a=s,$=s,o=i.length;if(f(l(le,"Range")["$==="](t))){a=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}();var u=t.excl,c=l(le,"Opal").$coerce_to(t.begin,l(le,"Integer"),"to_int"),_=l(le,"Opal").$coerce_to(t.end,l(le,"Integer"),"to_int");if(c<0&&(c+=o,c<0&&i.$raise(l(le,"RangeError"),""+t.$inspect()+" out of range")),_<0&&(_+=o),u||(_+=1),c>o)for(n=o;n<c;n++)i[n]=s;return _<0?i.splice.apply(i,[c,0].concat(a)):i.splice.apply(i,[c,_-c].concat(a)),e}f(void 0===r)?$=1:($=e,e=r,a=function(){return f(l(le,"Array")["$==="](e))?e.$to_a():f(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}());var d;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to($,l(le,"Integer"),"to_int"),t<0&&(d=t,t+=o,t<0&&i.$raise(l(le,"IndexError"),"index "+d+" too small for array; minimum "+-i.length)),$<0&&i.$raise(l(le,"IndexError"),"negative length ("+$+")"),t>o)for(n=o;n<t;n++)i[n]=s;return void 0===r?i[t]=e:i.splice.apply(i,[t,$].concat(a)),e},z.$$arity=-3),t.def(se,"$any?",P=function(e){var r=this,n=P.$$p,i=s,a=s,$=s;for(n&&(P.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return 0!==r.length&&d(r,t.find_super_dispatcher(r,"any?",P,!1),i,n)},P.$$arity=-1),t.def(se,"$assoc",B=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&e[0]["$=="](t))return e;return s},B.$$arity=1),t.def(se,"$at",q=function(t){var e=this;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length?s:e[t]},q.$$arity=1),t.def(se,"$bsearch_index",D=function(){var e=this,r=D.$$p,n=r||s;if(r&&(D.$$p=null),n===s)return e.$enum_for("bsearch_index");for(var i,a,$,o=0,u=e.length,c=!1,f=s;o<u;){if(i=o+Math.floor((u-o)/2),a=e[i],$=t.yield1(n,a),$===!0)f=i,c=!0;else if($===!1||$===s)c=!1;else if($.$$is_number){if(0===$)return i;c=$<0}else e.$raise(l(le,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");c?u=i:o=i+1}return f},D.$$arity=0),t.def(se,"$bsearch",L=function(){var t=this,e=L.$$p,r=e||s,n=s;return e&&(L.$$p=null),r===s?t.$enum_for("bsearch"):(n=d(t,"bsearch_index",[],r.$to_proc()),null!=n&&n.$$is_number?t[n]:n)},L.$$arity=0),t.def(se,"$cycle",F=function(n){var i,a,$=this,o=F.$$p,c=o||s;if(null==n&&(n=s),o&&(F.$$p=null),c===s)return d($,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return f(n["$nil?"]())?u(l(le,"Float"),"INFINITY"):(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),f(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=$,i.$$arity=0,i));if(f(f(a=$["$empty?"]())?a:n["$=="](0)))return s;var _,h,p;if(n===s)for(;;)for(_=0,h=$.length;_<h;_++)p=t.yield1(c,$[_]);else{if(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),n<=0)return $;for(;n>0;){for(_=0,h=$.length;_<h;_++)p=t.yield1(c,$[_]);n--}}return $},F.$$arity=-1),t.def(se,"$clear",j=function(){var t=this;return t.splice(0,t.length),t},j.$$arity=0),t.def(se,"$count",U=function(e){var r,n=this,i=U.$$p,a=i||s,$=s,o=s,u=s;for(null==e&&(e=s),i&&(U.$$p=null),o=0,u=arguments.length,$=new Array(u);o<u;o++)$[o]=arguments[o];return f(f(r=e)?r:a)?d(n,t.find_super_dispatcher(n,"count",U,!1),$,i):n.$size()},U.$$arity=-1),t.def(se,"$initialize_copy",H=function(t){var e=this;return e.$replace(t)},H.$$arity=1),t.def(se,"$collect",G=function(){var e,r=this,n=G.$$p,i=n||s;if(n&&(G.$$p=null),i===s)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=[],$=0,o=r.length;$<o;$++){var u=t.yield1(i,r[$]);a.push(u)}return a},G.$$arity=0),t.def(se,"$collect!",Y=function(){var e,r=this,n=Y.$$p,i=n||s;if(n&&(Y.$$p=null),i===s)return d(r,"enum_for",["collect!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){var o=t.yield1(i,r[a]);r[a]=o}return r},Y.$$arity=0),t.def(se,"$combination",W=function(e){var r,n=this,i=W.$$p,a=i||s,$=s;if(i&&(W.$$p=null),$=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),a===s)return d(n,"enum_for",["combination",$],(r=function(){var t=r.$$s||this;return b(t.length,$)},r.$$s=n,r.$$arity=0,r));var o,u,c,f,_,h,p;if(0===$)t.yield1(a,[]);else if(1===$)for(o=0,u=n.length;o<u;o++)t.yield1(a,[n[o]]);else if($===n.length)t.yield1(a,n.slice());else if($>=0&&$<n.length){for(c=[],o=0;o<=$+1;o++)c.push(0);for(f=[],_=0,h=!1,c[0]=-1;!h;){for(f[_]=n[c[_+1]];_<$-1;)_++,p=c[_+1]=c[_]+1,f[_]=n[p];t.yield1(a,f.slice()),_++;do h=0===_,c[_]++,_--;while(c[_+1]+$===n.length+_+1)}}return n},W.$$arity=1),t.def(se,"$repeated_combination",K=function(e){function r(e,n,i,a){if(i.length==e){var o=i.slice();return void t.yield1($,o)}for(var s=n;s<a.length;s++)i.push(a[s]),r(e,s,i,a),i.pop()}var n,i=this,a=K.$$p,$=a||s,o=s;return a&&(K.$$p=null),o=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),$===s?d(i,"enum_for",["repeated_combination",o],(n=function(){var t=n.$$s||this;return b(t.length+o-1,o)},n.$$s=i,n.$$arity=0,n)):(o>=0&&r(o,0,[],i),i)},K.$$arity=1),t.def(se,"$compact",X=function(){for(var t,e=this,r=[],n=0,i=e.length;n<i;n++)(t=e[n])!==s&&r.push(t);return r},X.$$arity=0),t.def(se,"$compact!",V=function(){for(var t=this,e=t.length,r=0,n=t.length;r<n;r++)t[r]===s&&(t.splice(r,1),n--,r--);return t.length===e?s:t},V.$$arity=0),t.def(se,"$concat",J=function(t){var e,r,n,i=this,a=arguments.length,$=a-0;$<0&&($=0),n=new Array($);for(var o=0;o<a;o++)n[o-0]=arguments[o];return n=d(n,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),f(t["$equal?"](r))&&(t=t.$dup()),t},e.$$s=i,e.$$arity=1,e)),d(n,"each",[],(r=function(t){var e=r.$$s||this;null==t&&(t=s);for(var n=0,i=t.length;n<i;n++)e.push(t[n])},r.$$s=i,r.$$arity=1,r)),i},J.$$arity=-1),t.def(se,"$delete",Z=function(e){var r=this,n=Z.$$p,i=n||s;n&&(Z.$$p=null);for(var a=r.length,$=0,o=a;$<o;$++)r[$]["$=="](e)&&(r.splice($,1),o--,$--);return r.length===a?i!==s?t.yieldX(i,[]):s:e},Z.$$arity=1),t.def(se,"$delete_at",Q=function(t){var e=this;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length)return s;var r=e[t];return e.splice(t,1),r},Q.$$arity=1),t.def(se,"$delete_if",tt=function(){var t,e=this,r=tt.$$p,n=r||s;if(r&&(tt.$$p=null),n===s)return d(e,"enum_for",["delete_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=n(e[a]),i!==!1&&i!==s&&(e.splice(a,1),$--,a--);return e},tt.$$arity=0),t.def(se,"$dig",et=function(e,r){var n,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var u=1;u<$;u++)n[u-1]=arguments[u];return a=i["$[]"](e),a===s||0===n.length?a:(f(a["$respond_to?"]("dig"))||i.$raise(l(le,"TypeError"),""+a.$class()+" does not have #dig method"),d(a,"dig",t.to_a(n)))},et.$$arity=-2),t.def(se,"$drop",rt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(t)},rt.$$arity=1),t.def(se,"$dup",nt=function(){var e=this,r=nt.$$p,n=s,i=s,a=s;for(r&&(nt.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return e.$$class===t.Array&&e.$$class.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):d(e,t.find_super_dispatcher(e,"dup",nt,!1),n,r)},nt.$$arity=0),t.def(se,"$each",it=function(){var e,r=this,n=it.$$p,i=n||s;if(n&&(it.$$p=null),i===s)return d(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){t.yield1(i,r[a])}return r},it.$$arity=0),t.def(se,"$each_index",at=function(){var e,r=this,n=at.$$p,i=n||s;if(n&&(at.$$p=null),i===s)return d(r,"enum_for",["each_index"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,$=r.length;a<$;a++){t.yield1(i,a)}return r},at.$$arity=0),t.def(se,"$empty?",$t=function(){var t=this;return 0===t.length},$t.$$arity=0),t.def(se,"$eql?",ot=function(t){function e(t,r){var i,a,$,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,a=t.length;i<a;i++)if($=t[i],o=r[i],$.$$is_array){if(o.$$is_array&&o.length!==$.length)return!1;if(!n.hasOwnProperty($.$object_id())&&!e($,o))return!1}else if(!$["$eql?"](o))return!1;return!0}var r=this,n={};return e(r,t)},ot.$$arity=1),t.def(se,"$fetch",st=function(t,e){var r=this,n=st.$$p,i=n||s;n&&(st.$$p=null);var a=t;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=r.length),t>=0&&t<r.length?r[t]:(i!==s&&null!=e&&r.$warn("warning: block supersedes default value argument"),i!==s?i(a):null!=e?e:void(0===r.length?r.$raise(l(le,"IndexError"),"index "+a+" outside of array bounds: 0...0"):r.$raise(l(le,"IndexError"),"index "+a+" outside of array bounds: -"+r.length+"..."+r.length)))},st.$$arity=-2),t.def(se,"$fill",ut=function(e){var r,n,i,a=this,$=ut.$$p,o=$||s,u=s,c=s,_=s,d=s,h=s,p=arguments.length,y=p-0;y<0&&(y=0),i=new Array(y);for(var m=0;m<p;m++)i[m-0]=arguments[m];$&&(ut.$$p=null);var g,v,b;if(f(o)?(f(i.length>2)&&a.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),n=i,r=t.to_ary(n),u=null==r[0]?s:r[0],c=null==r[1]?s:r[1],n):(f(0==i.length)?a.$raise(l(le,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):f(i.length>3)&&a.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),n=i,r=t.to_ary(n),_=null==r[0]?s:r[0],u=null==r[1]?s:r[1],c=null==r[2]?s:r[2],n),f(l(le,"Range")["$==="](u))){if(f(c)&&a.$raise(l(le,"TypeError"),"length invalid with range"),d=l(le,"Opal").$coerce_to(u.$begin(),l(le,"Integer"),"to_int"),f(d<0)&&(d+=this.length),f(d<0)&&a.$raise(l(le,"RangeError"),""+u.$inspect()+" out of range"),h=l(le,"Opal").$coerce_to(u.$end(),l(le,"Integer"),"to_int"),f(h<0)&&(h+=this.length),f(u["$exclude_end?"]())||(h+=1),f(h<=d))return a}else if(f(u))if(d=l(le,"Opal").$coerce_to(u,l(le,"Integer"),"to_int"),f(d<0)&&(d+=this.length),f(d<0)&&(d=0),f(c)){if(h=l(le,"Opal").$coerce_to(c,l(le,"Integer"),"to_int"),f(0==h))return a;h+=d}else h=this.length;else d=0,h=this.length;if(f(d>this.length))for(g=this.length;g<h;g++)a[g]=s;if(f(h>this.length)&&(this.length=h),f(o))for(v=this.length;d<h;d++)b=o(d),a[d]=b;else for(v=this.length;d<h;d++)a[d]=_;return a},ut.$$arity=-1),t.def(se,"$first",lt=function(t){var e=this;return null==t?0===e.length?s:e[0]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),e.slice(0,t))},lt.$$arity=-1),t.def(se,"$flatten",ct=function(t){function e(t,n){var i,a,$,o,u=[];for(t=t.$to_a(),i=0,a=t.length;i<a;i++)if($=t[i],l(le,"Opal")["$respond_to?"]($,"to_ary",!0))if(o=$.$to_ary(),o!==s)switch(o.$$is_array||r.$raise(l(le,"TypeError")),o===r&&r.$raise(l(le,"ArgumentError")),n){case void 0:u=u.concat(e(o));break;case 0:u.push(o);break;default:u.push.apply(u,e(o,n-1))}else u.push($);else u.push($);return u}var r=this;return void 0!==t&&(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")),m(e(r,t),r.$class())},ct.$$arity=-1),t.def(se,"$flatten!",ft=function(t){var e=this,r=e.$flatten(t);if(e.length==r.length){for(var n=0,i=e.length;n<i&&e[n]===r[n];n++);if(n==i)return s}return e.$replace(r),e},ft.$$arity=-1),t.def(se,"$hash",_t=function(){var e,r,n,i=this,a=void 0===t.hash_ids,$=["A"],o=i.$object_id();try{if(a&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,r=0;r<i.length;r++)e=i[r],$.push(e.$hash());return $.join(",")}finally{a&&(t.hash_ids=void 0)}},_t.$$arity=0),t.def(se,"$include?",dt=function(t){for(var e=this,r=0,n=e.length;r<n;r++)if(e[r]["$=="](t))return!0;return!1},dt.$$arity=1),t.def(se,"$index",ht=function(t){var e=this,r=ht.$$p,n=r||s;r&&(ht.$$p=null);var i,a,$;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=0,a=e.length;i<a;i++)if(e[i]["$=="](t))return i}else{if(n===s)return e.$enum_for("index");for(i=0,a=e.length;i<a;i++)if($=n(e[i]),$!==!1&&$!==s)return i}return s},ht.$$arity=-1),t.def(se,"$insert",pt=function(t,e){var r,n=this,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var $=1;$<i;$++)r[$-1]=arguments[$];if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=n.length+1,t<0&&n.$raise(l(le,"IndexError"),""+t+" is out of bounds")),t>n.length)for(var o=n.length;o<t;o++)n.push(s);n.splice.apply(n,[t,0].concat(r))}return n},pt.$$arity=-2),t.def(se,"$inspect",yt=function(){for(var t=this,e=[],r=t.$__id__(),n=0,i=t.length;n<i;n++){var a=t["$[]"](n);a.$__id__()===r?e.push("[...]"):e.push(a.$inspect())}return"["+e.join(", ")+"]"},yt.$$arity=0),t.def(se,"$join",mt=function(e){var r=this;if(null==h[","]&&(h[","]=s),null==e&&(e=s),f(0===r.length))return"";f(e===s)&&(e=h[","]);var n,i,a,$,o=[];for(n=0,i=r.length;n<i;n++)a=r[n],l(le,"Opal")["$respond_to?"](a,"to_str")&&($=a.$to_str(),$!==s)?o.push($.$to_s()):l(le,"Opal")["$respond_to?"](a,"to_ary")&&($=a.$to_ary(),$===r&&r.$raise(l(le,"ArgumentError")),$!==s)?o.push($.$join(e)):l(le,"Opal")["$respond_to?"](a,"to_s")&&($=a.$to_s(),$!==s)?o.push($):r.$raise(l(le,"NoMethodError").$new(""+t.inspect(a)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(l(le,"Opal")["$coerce_to!"](e,l(le,"String"),"to_str").$to_s())},mt.$$arity=-1),t.def(se,"$keep_if",gt=function(){var t,e=this,r=gt.$$p,n=r||s;if(r&&(gt.$$p=null),n===s)return d(e,"enum_for",["keep_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,$=e.length;a<$;a++)i=n(e[a]),i!==!1&&i!==s||(e.splice(a,1),$--,a--);return e},gt.$$arity=0),t.def(se,"$last",vt=function(t){var e=this;return null==t?0===e.length?s:e[e.length-1]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),t>e.length&&(t=e.length),e.slice(e.length-t,e.length))},vt.$$arity=-1),t.def(se,"$length",bt=function(){var t=this;return t.length},bt.$$arity=0),t.alias(se,"map","collect"),t.alias(se,"map!","collect!"),t.def(se,"$max",wt=function(t){var e=this,r=wt.$$p,n=r||s;return r&&(wt.$$p=null),d(e.$each(),"max",[t],n.$to_proc())},wt.$$arity=-1),t.def(se,"$min",kt=function(){var t=this,e=kt.$$p,r=e||s;return e&&(kt.$$p=null),d(t.$each(),"min",[],r.$to_proc())},kt.$$arity=0),t.def(se,"$permutation",Et=function(e){var r,n=this,i=Et.$$p,a=i||s,$=s,o=s;if(i&&(Et.$$p=null),a===s)return d(n,"enum_for",["permutation",e],(r=function(){var t=r.$$s||this;return w(t.length,void 0===e?t.length:e)},r.$$s=n,r.$$arity=0,r));var u,c,f;if(e=void 0===e?n.length:l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0||n.length<e);else if(0===e)t.yield1(a,[]);else if(1===e)for(var _=0;_<n.length;_++)t.yield1(a,[n[_]]);else $=l(le,"Array").$new(e),o=l(le,"Array").$new(n.length,!1),u=function(e,r,i,a,$){n=this;for(var o=0;o<n.length;o++)if(a["$[]"](o)["$!"]())if(r[i]=o,i<e-1)a[o]=!0,u.call(n,e,r,i+1,a,$),a[o]=!1;else{f=[];for(var s=0;s<r.length;s++)f.push(n[r[s]]);t.yield1($,f)}},a!==s?(c=n.slice(),u.call(c,e,$,0,o,a)):u.call(n,e,$,0,o,a);return n},Et.$$arity=-1),t.def(se,"$repeated_permutation",xt=function(e){function r(e,n,i){if(n.length==e){var a=n.slice();return void t.yield1(o,a)}for(var $=0;$<i.length;$++)n.push(i[$]),r(e,n,i),n.pop()}var i,a=this,$=xt.$$p,o=$||s,u=s;return $&&(xt.$$p=null),u=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),o===s?d(a,"enum_for",["repeated_permutation",u],(i=function(){var t=i.$$s||this;return f(n(u,0))?t.$size()["$**"](u):0},i.$$s=a,i.$$arity=0,i)):(r(u,[],a.slice()),a)},xt.$$arity=1),t.def(se,"$pop",At=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.pop():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),f(0===e.length)?[]:f(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},At.$$arity=-1),t.def(se,"$product",Ot=function(e){var r,n=this,i=Ot.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<$;u++)r[u-0]=arguments[u];i&&(Ot.$$p=null);var c,f,_,d,h=a!==s?null:[],p=r.length+1,y=new Array(p),m=new Array(p),g=new Array(p),v=1;for(g[0]=n,c=1;c<p;c++)g[c]=l(le,"Opal").$coerce_to(r[c-1],l(le,"Array"),"to_ary");for(c=0;c<p;c++){if(d=g[c].length,0===d)return h||n;v*=d,v>2147483647&&n.$raise(l(le,"RangeError"),"too big to product"),m[c]=d,y[c]=0}t:for(;;){for(_=[],c=0;c<p;c++)_.push(g[c][y[c]]);for(h?h.push(_):t.yield1(a,_),f=p-1,y[f]++;y[f]===m[f];){if(y[f]=0,--f<0)break t;y[f]++}}return h||n},Ot.$$arity=-1),t.def(se,"$push",St=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=0,o=e.length;$<o;$++)r.push(e[$]);return r},St.$$arity=-1),t.alias(se,"append","push"),t.def(se,"$rassoc",Mt=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},Mt.$$arity=1),t.def(se,"$reject",Tt=function(){var t,e=this,r=Tt.$$p,n=r||s;if(r&&(Tt.$$p=null),n===s)return d(e,"enum_for",["reject"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=[],$=0,o=e.length;$<o;$++)i=n(e[$]),i!==!1&&i!==s||a.push(e[$]);return a},Tt.$$arity=0),t.def(se,"$reject!",Rt=function(){var t,e=this,r=Rt.$$p,n=r||s,i=s;return r&&(Rt.$$p=null),n===s?d(e,"enum_for",["reject!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),d(e,"delete_if",[],n.$to_proc()),e.$length()["$=="](i)?s:e)},Rt.$$arity=0),t.def(se,"$replace",It=function(t){var e=this;return t=function(){return f(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.splice(0,e.length),e.push.apply(e,t),e},It.$$arity=1),t.def(se,"$reverse",Ct=function(){var t=this;return t.slice(0).reverse()},Ct.$$arity=0),t.def(se,"$reverse!",Nt=function(){var t=this;return t.reverse()},Nt.$$arity=0),t.def(se,"$reverse_each",zt=function(){var t,e=this,r=zt.$$p,n=r||s;return r&&(zt.$$p=null),n===s?d(e,"enum_for",["reverse_each"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(d(e.$reverse(),"each",[],n.$to_proc()),e)},zt.$$arity=0),t.def(se,"$rindex",Pt=function(t){var e=this,r=Pt.$$p,n=r||s;r&&(Pt.$$p=null);var i,a;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(n!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(a=n(e[i]),a!==!1&&a!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},Pt.$$arity=-1),t.def(se,"$rotate",Bt=function(t){var e=this;null==t&&(t=1),t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int");var r,n,i,a;return 1===e.length?e.slice():0===e.length?[]:(r=e.slice(),n=t%r.length,i=r.slice(n),a=r.slice(0,n),i.concat(a))},Bt.$$arity=-1),t.def(se,"$rotate!",qt=function(t){var e=this,r=s;return null==t&&(t=1),0===e.length||1===e.length?e:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r=e.$rotate(t),e.$replace(r))},qt.$$arity=-1),function(e,r,n){function i(){}var a,$,o=i=c(e,r,"SampleRandom",i),u=o.$$proto,_=[o].concat(n);return u.rng=s,t.def(o,"$initialize",a=function(t){var e=this;return e.rng=t},a.$$arity=1),t.def(o,"$rand",$=function(t){var e=this,r=s;return r=l(_,"Opal").$coerce_to(e.rng.$rand(t),l(_,"Integer"),"to_int"),f(r<0)&&e.$raise(l(_,"RangeError"),"random value must be >= 0"),f(r<t)||e.$raise(l(_,"RangeError"),"random value must be less than Array size"),r},$.$$arity=1),s&&"rand"}(le[0],null,le),t.def(se,"$sample",Dt=function(t,e){var r,n=this,i=s,a=s;if(f(void 0===t))return n.$at(l(le,"Kernel").$rand(n.length));if(f(void 0===e)?f(i=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"))?(e=i,t=s):(e=s,t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")):(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Hash"),"to_hash")),f(f(r=t)?t<0:r)&&n.$raise(l(le,"ArgumentError"),"count must be greater than 0"),f(e)&&(a=e["$[]"]("random")),a=function(){return f(f(r=a)?a["$respond_to?"]("rand"):r)?l(le,"SampleRandom").$new(a):l(le,"Kernel")}(),!f(t))return n[a.$rand(n.length)];var $,o,u,c,_,d,h,p;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[a.$rand(n.length)]];case 2:return c=a.$rand(n.length),_=a.$rand(n.length),c===_&&(_=0===c?c+1:c-1),[n[c],n[_]];default:if(n.length/t>3){for($=!1,o=0,u=l(le,"Array").$new(t),c=1,u[0]=a.$rand(n.length);c<t;){for(d=a.$rand(n.length),_=0;_<c;){for(;d===u[_];){if(o++,o>100){$=!0;break}d=a.$rand(n.length)}if($)break;_++}if($)break;u[c]=d,c++}if(!$){for(c=0;c<t;)u[c]=n[u[c]],c++;return u}}u=n.slice();for(var y=0;y<t;y++)h=a.$rand(n.length),p=u[y],u[y]=u[h],u[h]=p;return t===n.length?u:u["$[]"](0,t)}},Dt.$$arity=-1),t.def(se,"$select",Lt=function(){var e,r=this,n=Lt.$$p,i=n||s;if(n&&(Lt.$$p=null),i===s)return d(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,$,o=[],u=0,l=r.length;u<l;u++)a=r[u],$=t.yield1(i,a),$!==!1&&$!==s&&o.push(a);return o},Lt.$$arity=0),t.def(se,"$select!",Ft=function(){var t,e=this,r=Ft.$$p,n=r||s;if(r&&(Ft.$$p=null),n===s)return d(e,"enum_for",["select!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return d(e,"keep_if",[],n.$to_proc()),e.length===i?s:e},Ft.$$arity=0),t.def(se,"$shift",jt=function(t){var e=this;return f(void 0===t)?f(0===e.length)?s:e.shift():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),f(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),f(0===e.length)?[]:e.splice(0,t))},jt.$$arity=-1),t.alias(se,"size","length"),t.def(se,"$shuffle",Ut=function(t){var e=this;return e.$dup().$to_a()["$shuffle!"](t)},Ut.$$arity=-1),t.def(se,"$shuffle!",Ht=function(t){var e,r,n,i=this,a=i.length;for(void 0!==t&&(t=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"),t!==s&&(t=t["$[]"]("random"),t!==s&&t["$respond_to?"]("rand")&&(e=t)));a;)e?(r=e.$rand(a).$to_int(),r<0&&i.$raise(l(le,"RangeError"),"random number too small "+r),r>=a&&i.$raise(l(le,"RangeError"),"random number too big "+r)):r=i.$rand(a),n=i[--a],i[a]=i[r],i[r]=n;return i},Ht.$$arity=-1),t.alias(se,"slice","[]"),t.def(se,"$slice!",Gt=function(t,e){var r=this,n=s,i=s,a=s,$=s,o=s;if(n=s,f(void 0===e))if(f(l(le,"Range")["$==="](t))){i=t,n=r["$[]"](i),a=l(le,"Opal").$coerce_to(i.$begin(),l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to(i.$end(),l(le,"Integer"),"to_int"),a<0&&(a+=r.length),$<0?$+=r.length:$>=r.length&&($=r.length-1,i.excl&&($+=1));var u=$-a;i.excl?$-=1:u+=1,a<r.length&&a>=0&&$<r.length&&$>=0&&u>0&&r.splice(a,u)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),o<0&&(o+=r.length),o<0||o>=r.length)return s;n=r[o],0===o?r.shift():r.splice(o,1)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0)return s;n=r["$[]"](o,e),o<0&&(o+=r.length),
o+e>r.length&&(e=r.length-o),o<r.length&&o>=0&&r.splice(o,e)}return n},Gt.$$arity=-2),t.def(se,"$sort",Yt=function(){var t=this,r=Yt.$$p,n=r||s;return r&&(Yt.$$p=null),f(t.length>1)?(n===s&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,a){var $=n(r,a);return $===s&&t.$raise(l(le,"ArgumentError"),"comparison of "+r.$inspect()+" with "+a.$inspect()+" failed"),e($,0)?1:i($,0)?-1:0})):t},Yt.$$arity=0),t.def(se,"$sort!",Wt=function(){var t=this,e=Wt.$$p,r=e||s;e&&(Wt.$$p=null);var n;n=r!==s?d(t.slice(),"sort",[],r.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,a=n.length;i<a;i++)t.push(n[i]);return t},Wt.$$arity=0),t.def(se,"$sort_by!",Kt=function(){var t,e=this,r=Kt.$$p,n=r||s;return r&&(Kt.$$p=null),n===s?d(e,"enum_for",["sort_by!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(d(e,"sort_by",[],n.$to_proc()))},Kt.$$arity=0),t.def(se,"$take",Xt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(0,t)},Xt.$$arity=1),t.def(se,"$take_while",Vt=function(){var t=this,e=Vt.$$p,r=e||s;e&&(Vt.$$p=null);for(var n,i,a=[],$=0,o=t.length;$<o;$++){if(n=t[$],i=r(n),i===!1||i===s)return a;a.push(n)}return a},Vt.$$arity=0),t.def(se,"$to_a",Jt=function(){var t=this;return t},Jt.$$arity=0),t.alias(se,"to_ary","to_a"),t.def(se,"$to_h",Zt=function(){var e,r,n,i,a=this,$=a.length,o=_([],{});for(e=0;e<$;e++)r=l(le,"Opal")["$coerce_to?"](a[e],l(le,"Array"),"to_ary"),r.$$is_array||a.$raise(l(le,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&a.$raise(l(le,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Zt.$$arity=0),t.alias(se,"to_s","inspect"),t.def(se,"$transpose",Qt=function(){var e,r=this,n=s,i=s;return f(r["$empty?"]())?[]:(n=[],i=s,d(r,"each",[],(e=function(r){var $,o,u=e.$$s||this;return null==r&&(r=s),r=function(){return f(l(le,"Array")["$==="](r))?r.$to_a():l(le,"Opal").$coerce_to(r,l(le,"Array"),"to_ary").$to_a()}(),i=f($=i)?$:r.length,f(r.length["$!="](i))&&u.$raise(l(le,"IndexError"),"element size differs ("+r.length+" should be "+i+")"),d(r.length,"times",[],(o=function(e){var i,$=(o.$$s||this,s),u=s;return null==e&&(e=s),$=f(i=n["$[]"](e))?i:(u=[e,[]],d(n,"[]=",t.to_a(u)),u[a(u.length,1)]),$["$<<"](r.$at(e))},o.$$s=u,o.$$arity=1,o))},e.$$s=r,e.$$arity=1,e)),n)},Qt.$$arity=0),t.def(se,"$uniq",te=function(){var e=this,r=te.$$p,n=r||s;r&&(te.$$p=null);var i,a,$,o,u=_([],{});if(n===s)for(i=0,a=e.length;i<a;i++)$=e[i],void 0===t.hash_get(u,$)&&t.hash_put(u,$,$);else for(i=0,a=e.length;i<a;i++)$=e[i],o=t.yield1(n,$),void 0===t.hash_get(u,o)&&t.hash_put(u,o,$);return m(u.$values(),e.$class())},te.$$arity=0),t.def(se,"$uniq!",ee=function(){var e=this,r=ee.$$p,n=r||s;r&&(ee.$$p=null);var i,a,$,o,u=e.length,l=_([],{});for(i=0,a=u;i<a;i++)$=e[i],o=n===s?$:t.yield1(n,$),void 0!==t.hash_get(l,o)?(e.splice(i,1),a--,i--):t.hash_put(l,o,$);return e.length===u?s:e},ee.$$arity=0),t.def(se,"$unshift",re=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var $=e.length-1;$>=0;$--)r.unshift(e[$]);return r},re.$$arity=-1),t.alias(se,"prepend","unshift"),t.def(se,"$values_at",ne=function(t){var e,r,n=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i=[],d(r,"each",[],(e=function(t){var r,n=e.$$s||this,a=s,$=s,o=s;return null==t&&(t=s),f(t["$is_a?"](l(le,"Range")))?(a=l(le,"Opal").$coerce_to(t.$last(),l(le,"Integer"),"to_int"),$=l(le,"Opal").$coerce_to(t.$first(),l(le,"Integer"),"to_int"),$<0?($+=n.length,s):(a<0&&(a+=n.length),t["$exclude_end?"]()&&a--,a<$?s:d($,"upto",[a],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),i["$<<"](e.$at(t))},r.$$s=n,r.$$arity=1,r)))):(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),i["$<<"](n.$at(o)))},e.$$s=n,e.$$arity=1,e)),i},ne.$$arity=-1),t.def(se,"$zip",ie=function(t){var e,r,n=this,i=ie.$$p,a=i||s,$=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<$;u++)r[u-0]=arguments[u];i&&(ie.$$p=null);var c,_,d,h,p,y=[],m=n.length;for(h=0,p=r.length;h<p;h++)_=r[h],_.$$is_array||(_.$$is_enumerator?_.$size()===1/0?r[h]=_.$take(m):r[h]=_.$to_a():r[h]=(f(e=l(le,"Opal")["$coerce_to?"](_,l(le,"Array"),"to_ary"))?e:l(le,"Opal")["$coerce_to!"](_,l(le,"Enumerator"),"each")).$to_a());for(d=0;d<m;d++){for(c=[n[d]],h=0,p=r.length;h<p;h++)_=r[h][d],null==_&&(_=s),c[h+1]=_;y[d]=c}if(a!==s){for(d=0;d<m;d++)a(y[d]);return s}return y},ie.$$arity=-1),t.defs(se,"$inherited",ae=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},ae.$$arity=1),t.def(se,"$instance_variables",$e=function(){var e,r=this,n=$e.$$p,i=s,a=s,$=s;for(n&&($e.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return d(d(r,t.find_super_dispatcher(r,"instance_variables",$e,!1),i,n),"reject",[],(e=function(t){var r;e.$$s||this;return null==t&&(t=s),f(r=/^@\d+$/.test(t))?r:t["$=="]("@length")},e.$$s=r,e.$$arity=1,e))},$e.$$arity=0),l(le,"Opal").$pristine(se.$singleton_class(),"allocate"),l(le,"Opal").$pristine(se,"copy_instance_variables","initialize_dup"),t.def(se,"$pack",oe=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},oe.$$arity=-1),s&&"pack"}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),u=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),i.$require("corelib/enumerable"),function(i,a,f){function _(){}var d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt=_=s(i,a,"Hash",_),kt=wt.$$proto,Et=[wt].concat(f);wt.$include(o(Et,"Enumerable")),kt.$$is_hash=!0,t.defs(wt,"$[]",d=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];var s,u,l=e.length;if(1===l){if(s=o(Et,"Opal")["$coerce_to?"](e["$[]"](0),o(Et,"Hash"),"to_hash"),s!==$)return r.$allocate()["$merge!"](s);for(e=o(Et,"Opal")["$coerce_to?"](e["$[]"](0),o(Et,"Array"),"to_ary"),e===$&&r.$raise(o(Et,"ArgumentError"),"odd number of arguments for Hash"),l=e.length,s=r.$allocate(),u=0;u<l;u++)if(e[u].$$is_array)switch(e[u].length){case 1:s.$store(e[u][0],$);break;case 2:s.$store(e[u][0],e[u][1]);break;default:r.$raise(o(Et,"ArgumentError"),"invalid number of elements ("+e[u].length+" for 1..2)")}return s}for(l%2!==0&&r.$raise(o(Et,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),u=0;u<l;u+=2)s.$store(e[u],e[u+1]);return s},d.$$arity=-1),t.defs(wt,"$allocate",h=function(){var e=this,r=new e.$$alloc;return t.hash_init(r),r.$$none=$,r.$$proc=$,r},h.$$arity=0),t.defs(wt,"$try_convert",p=function(t){return o(Et,"Opal")["$coerce_to?"](t,o(Et,"Hash"),"to_hash")},p.$$arity=1),t.def(wt,"$initialize",y=function(t){var e=this,r=y.$$p,n=r||$;return r&&(y.$$p=null),void 0!==t&&n!==$&&e.$raise(o(Et,"ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=void 0===t?$:t,e.$$proc=n,e},y.$$arity=-1),t.def(wt,"$==",m=function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var n,i,a,$=0,o=r.$$keys,s=o.length;$<s;$++)if(n=o[$],n.$$is_string?(i=r.$$smap[n],a=e.$$smap[n]):(i=n.value,a=t.hash_get(e,n.key)),void 0===a||!i["$eql?"](a))return!1;return!0},m.$$arity=1),t.def(wt,"$>=",g=function(t){var e,r=this,n=$;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),!(r.$$keys.length<t.$$keys.length)&&(n=!0,u(t,"each",[],(e=function(t,r){var i=e.$$s||this,a=$;if(null==t&&(t=$),null==r&&(r=$),a=i.$fetch(t,null),null==a||a!==r)return void(n=!1)},e.$$s=r,e.$$arity=2,e)),n)},g.$$arity=1),t.def(wt,"$>",v=function(t){var r=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),!(r.$$keys.length<=t.$$keys.length)&&e(r,t)},v.$$arity=1),t.def(wt,"$<",b=function(t){var e=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),r(t,e)},b.$$arity=1),t.def(wt,"$<=",w=function(t){var r=this;return t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Hash"),"to_hash"),e(t,r)},w.$$arity=1),t.def(wt,"$[]",k=function(e){var r=this,n=t.hash_get(r,e);return void 0!==n?n:r.$default(e)},k.$$arity=1),t.def(wt,"$[]=",E=function(e,r){var n=this;return t.hash_put(n,e,r),r},E.$$arity=2),t.def(wt,"$assoc",x=function(t){for(var e,r=this,n=0,i=r.$$keys,a=i.length;n<a;n++)if(e=i[n],e.$$is_string){if(e["$=="](t))return[e,r.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},x.$$arity=1),t.def(wt,"$clear",A=function(){var e=this;return t.hash_init(e),e},A.$$arity=0),t.def(wt,"$clone",O=function(){var e=this,r=new e.$$class.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},O.$$arity=0),t.def(wt,"$compact",S=function(){for(var e,r,n=this,i=t.hash(),a=0,o=n.$$keys,s=o.length;a<s;a++)e=o[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r!==$&&t.hash_put(i,e,r);return i},S.$$arity=0),t.def(wt,"$compact!",M=function(){for(var e,r,n=this,i=!1,a=0,o=n.$$keys,s=o.length;a<s;a++)e=o[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r===$&&void 0!==t.hash_delete(n,e)&&(i=!0,s--,a--);return i?n:$},M.$$arity=0),t.def(wt,"$compare_by_identity",T=function(){var e,r,n,i,a=this,$=a.$$keys;if(a.$$by_identity)return a;if(0===a.$$keys.length)return a.$$by_identity=!0,a;for(i=l([],{}).$compare_by_identity(),e=0,r=$.length;e<r;e++)n=$[e],n.$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get(a,n));return a.$$by_identity=!0,a.$$map=i.$$map,a.$$smap=i.$$smap,a},T.$$arity=0),t.def(wt,"$compare_by_identity?",R=function(){var t=this;return t.$$by_identity===!0},R.$$arity=0),t.def(wt,"$default",I=function(t){var e=this;return void 0!==t&&e.$$proc!==$&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?$:e.$$none},I.$$arity=-1),t.def(wt,"$default=",C=function(t){var e=this;return e.$$proc=$,e.$$none=t,t},C.$$arity=1),t.def(wt,"$default_proc",N=function(){var t=this;return void 0!==t.$$proc?t.$$proc:$},N.$$arity=0),t.def(wt,"$default_proc=",z=function(t){var e=this,r=t;return r!==$&&(r=o(Et,"Opal")["$coerce_to!"](r,o(Et,"Proc"),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&e.$raise(o(Et,"TypeError"),"default_proc takes two arguments")),e.$$none=$,e.$$proc=r,t},z.$$arity=1),t.def(wt,"$delete",P=function(e){var r=this,n=P.$$p,i=n||$;n&&(P.$$p=null);var a=t.hash_delete(r,e);return void 0!==a?a:i!==$?t.yield1(i,e):$},P.$$arity=1),t.def(wt,"$delete_if",B=function(){var e,r=this,n=B.$$p,i=n||$;if(n&&(B.$$p=null),!c(i))return u(r,"enum_for",["delete_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&void 0!==t.hash_delete(r,a)&&(_--,l--);return r},B.$$arity=0),t.alias(wt,"dup","clone"),t.def(wt,"$dig",q=function(e,r){var n,i=this,a=$,s=arguments.length,l=s-1;l<0&&(l=0),n=new Array(l);for(var f=1;f<s;f++)n[f-1]=arguments[f];return a=i["$[]"](e),a===$||0===n.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(o(Et,"TypeError"),""+a.$class()+" does not have #dig method"),u(a,"dig",t.to_a(n)))},q.$$arity=-2),t.def(wt,"$each",D=function(){var e,r=this,n=D.$$p,i=n||$;if(n&&(D.$$p=null),!c(i))return u(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=0,l=r.$$keys,f=l.length;s<f;s++)a=l[s],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),t.yield1(i,[a,o]);return r},D.$$arity=0),t.def(wt,"$each_key",L=function(){var t,e=this,r=L.$$p,n=r||$;if(r&&(L.$$p=null),!c(n))return u(e,"enum_for",["each_key"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,s=o.length;a<s;a++)i=o[a],n(i.$$is_string?i:i.key);return e},L.$$arity=0),t.alias(wt,"each_pair","each"),t.def(wt,"$each_value",F=function(){var t,e=this,r=F.$$p,n=r||$;if(r&&(F.$$p=null),!c(n))return u(e,"enum_for",["each_value"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,a=0,o=e.$$keys,s=o.length;a<s;a++)i=o[a],n(i.$$is_string?e.$$smap[i]:i.value);return e},F.$$arity=0),t.def(wt,"$empty?",j=function(){var t=this;return 0===t.$$keys.length},j.$$arity=0),t.alias(wt,"eql?","=="),t.def(wt,"$fetch",U=function(e,r){var n=this,i=U.$$p,a=i||$;i&&(U.$$p=null);var s=t.hash_get(n,e);return void 0!==s?s:a!==$?a(e):void 0!==r?r:n.$raise(o(Et,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:n})))},U.$$arity=-2),t.def(wt,"$fetch_values",H=function(t){var e,r,n=this,i=H.$$p,a=i||$,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];return i&&(H.$$p=null),u(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=$),u(r,"fetch",[t],a.$to_proc())},e.$$s=n,e.$$arity=1,e))},H.$$arity=-1),t.def(wt,"$flatten",G=function(t){var e=this;null==t&&(t=1),t=o(Et,"Opal")["$coerce_to!"](t,o(Et,"Integer"),"to_int");for(var r,n,i=[],a=0,$=e.$$keys,s=$.length;a<s;a++)if(r=$[a],r.$$is_string?n=e.$$smap[r]:(n=r.value,r=r.key),i.push(r),n.$$is_array){if(1===t){i.push(n);continue}i=i.concat(n.$flatten(t-2))}else i.push(n);return i},G.$$arity=-1),t.def(wt,"$has_key?",Y=function(e){var r=this;return void 0!==t.hash_get(r,e)},Y.$$arity=1),t.def(wt,"$has_value?",W=function(t){for(var e,r=this,n=0,i=r.$$keys,a=i.length;n<a;n++)if(e=i[n],(e.$$is_string?r.$$smap[e]:e.value)["$=="](t))return!0;return!1},W.$$arity=1),t.def(wt,"$hash",K=function(){var e,r,n=this,i=void 0===t.hash_ids,a=n.$object_id(),$=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[a])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],n["$eql?"](r))return"self";t.hash_ids[a]=n;for(var o=0,s=n.$$keys,u=s.length;o<u;o++)e=s[o],e.$$is_string?$.push([e,n.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{i&&(t.hash_ids=void 0)}},K.$$arity=0),t.alias(wt,"include?","has_key?"),t.def(wt,"$index",X=function(t){for(var e,r,n=this,i=0,a=n.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return $},X.$$arity=1),t.def(wt,"$indexes",V=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(var o,s,u=[],l=0,c=r.length;l<c;l++)o=r[l],s=t.hash_get(n,o),void 0!==s?u.push(s):u.push(n.$default());return u},V.$$arity=-1),t.alias(wt,"indices","indexes");var xt;return t.def(wt,"$inspect",J=function(){var t=this,e=void 0===xt,r=t.$object_id(),n=[];try{if(e&&(xt={}),xt.hasOwnProperty(r))return"{...}";xt[r]=!0;for(var i,a,$=0,o=t.$$keys,s=o.length;$<s;$++)i=o[$],i.$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),n.push(i.$inspect()+"=>"+a.$inspect());return"{"+n.join(", ")+"}"}finally{e&&(xt=void 0)}},J.$$arity=0),t.def(wt,"$invert",Z=function(){for(var e,r,n=this,i=t.hash(),a=0,$=n.$$keys,o=$.length;a<o;a++)e=$[a],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),t.hash_put(i,r,e);return i},Z.$$arity=0),t.def(wt,"$keep_if",Q=function(){var e,r=this,n=Q.$$p,i=n||$;if(n&&(Q.$$p=null),!c(i))return u(r,"enum_for",["keep_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||void 0!==t.hash_delete(r,a)&&(_--,l--);return r},Q.$$arity=0),t.alias(wt,"key","index"),t.alias(wt,"key?","has_key?"),t.def(wt,"$keys",tt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,a=i.length;n<a;n++)t=i[n],t.$$is_string?r.push(t):r.push(t.key);return r},tt.$$arity=0),t.def(wt,"$length",et=function(){var t=this;return t.$$keys.length},et.$$arity=0),t.alias(wt,"member?","has_key?"),t.def(wt,"$merge",rt=function(t){var e=this,r=rt.$$p,n=r||$;return r&&(rt.$$p=null),u(e.$dup(),"merge!",[t],n.$to_proc())},rt.$$arity=1),t.def(wt,"$merge!",nt=function(e){var r=this,n=nt.$$p,i=n||$;n&&(nt.$$p=null),e.$$is_hash||(e=o(Et,"Opal")["$coerce_to!"](e,o(Et,"Hash"),"to_hash"));var a,s,u,l,c=e.$$keys,f=c.length;if(i===$){for(a=0;a<f;a++)s=c[a],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),t.hash_put(r,s,l);return r}for(a=0;a<f;a++)s=c[a],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),u=t.hash_get(r,s),void 0!==u?t.hash_put(r,s,i(s,u,l)):t.hash_put(r,s,l);return r},nt.$$arity=1),t.def(wt,"$rassoc",it=function(t){for(var e,r,n=this,i=0,a=n.$$keys,o=a.length;i<o;i++)if(e=a[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return $},it.$$arity=1),t.def(wt,"$rehash",at=function(){var e=this;return t.hash_rehash(e),e},at.$$arity=0),t.def(wt,"$reject",$t=function(){var e,r=this,n=$t.$$p,i=n||$;if(n&&($t.$$p=null),!c(i))return u(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=t.hash(),f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||t.hash_put(l,a,o);return l},$t.$$arity=0),t.def(wt,"$reject!",ot=function(){var e,r=this,n=ot.$$p,i=n||$;if(n&&(ot.$$p=null),!c(i))return u(r,"enum_for",["reject!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=!1,f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&void 0!==t.hash_delete(r,a)&&(l=!0,d--,f--);return l?r:$},ot.$$arity=0),t.def(wt,"$replace",st=function(e){var r=this,i=$;e=o(Et,"Opal")["$coerce_to!"](e,o(Et,"Hash"),"to_hash"),t.hash_init(r);for(var a,s,l=0,f=e.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?s=e.$$smap[a]:(s=a.value,a=a.key),t.hash_put(r,a,s);return c(e.$default_proc())?(i=[e.$default_proc()],u(r,"default_proc=",t.to_a(i)),i[n(i.length,1)]):(i=[e.$default()],u(r,"default=",t.to_a(i)),i[n(i.length,1)]),r},st.$$arity=1),t.def(wt,"$select",ut=function(){var e,r=this,n=ut.$$p,i=n||$;if(n&&(ut.$$p=null),!c(i))return u(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=t.hash(),f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$&&t.hash_put(l,a,o);return l},ut.$$arity=0),t.def(wt,"$select!",lt=function(){var e,r=this,n=lt.$$p,i=n||$;if(n&&(lt.$$p=null),!c(i))return u(r,"enum_for",["select!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s,l=$,f=0,_=r.$$keys,d=_.length;f<d;f++)a=_[f],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),s=i(a,o),s!==!1&&s!==$||(void 0!==t.hash_delete(r,a)&&(d--,f--),l=r);return l},lt.$$arity=0),t.def(wt,"$shift",ct=function(){var e,r=this,n=r.$$keys;return n.length>0?(e=n[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(r,e)]):r.$default($)},ct.$$arity=0),t.alias(wt,"size","length"),t.def(wt,"$slice",ft=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(var o=t.hash(),s=0,u=r.length;s<u;s++){var l=r[s],c=t.hash_get(n,l);void 0!==c&&t.hash_put(o,l,c)}return o},ft.$$arity=-1),t.alias(wt,"store","[]="),t.def(wt,"$to_a",_t=function(){for(var t,e,r=this,n=[],i=0,a=r.$$keys,$=a.length;i<$;i++)t=a[i],t.$$is_string?e=r.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},_t.$$arity=0),t.def(wt,"$to_h",dt=function(){var e=this;if(e.$$class===t.Hash)return e;var r=new t.Hash.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},dt.$$arity=0),t.def(wt,"$to_hash",ht=function(){var t=this;return t},ht.$$arity=0),t.def(wt,"$to_proc",pt=function(){var t,e=this;return u(e,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise(o(Et,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=e,t.$$arity=-1,t))},pt.$$arity=0),t.alias(wt,"to_s","inspect"),t.def(wt,"$transform_keys",yt=function(){var e,r=this,n=yt.$$p,i=n||$;if(n&&(yt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=t.hash(),l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),a=t.yield1(i,a),t.hash_put(s,a,o);return s},yt.$$arity=0),t.def(wt,"$transform_keys!",mt=function(){var e,r=this,n=mt.$$p,i=n||$;if(n&&(mt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var a,o,s,l,f=t.slice.call(r.$$keys),_=f.length;for(a=0;a<_;a++)o=f[a],o.$$is_string?s=r.$$smap[o]:(s=o.value,o=o.key),l=t.yield1(i,o),t.hash_delete(r,o),t.hash_put(r,l,s);return r},mt.$$arity=0),t.def(wt,"$transform_values",gt=function(){var e,r=this,n=gt.$$p,i=n||$;if(n&&(gt.$$p=null),!c(i))return u(r,"enum_for",["transform_values"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=t.hash(),l=0,f=r.$$keys,_=f.length;l<_;l++)a=f[l],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),o=t.yield1(i,o),t.hash_put(s,a,o);return s},gt.$$arity=0),t.def(wt,"$transform_values!",vt=function(){var e,r=this,n=vt.$$p,i=n||$;if(n&&(vt.$$p=null),!c(i))return u(r,"enum_for",["transform_values!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a,o,s=0,l=r.$$keys,f=l.length;s<f;s++)a=l[s],a.$$is_string?o=r.$$smap[a]:(o=a.value,a=a.key),o=t.yield1(i,o),t.hash_put(r,a,o);return r},vt.$$arity=0),t.alias(wt,"update","merge!"),t.alias(wt,"value?","has_value?"),t.alias(wt,"values_at","indexes"),t.def(wt,"$values",bt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,a=i.length;n<a;n++)t=i[n],t.$$is_string?r.push(e.$$smap[t]):r.push(t.value);return r},bt.$$arity=0),$&&"values"}(a[0],null,a)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,d=(t.breaker,t.slice,t.klass),h=t.truthy,p=t.send,y=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),u.$require("corelib/numeric"),function(u,l,m){function g(){}var v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t,ot,st,ut,lt,ct,ft,_t,dt,ht,pt,yt,mt,gt,vt,bt,wt,kt,Et,xt,At,Ot,St,Mt,Tt,Rt,It,Ct,Nt,zt,Pt,Bt,qt=g=d(u,l,"Number",g),Dt=(qt.$$proto,[qt].concat(m));_(Dt,"Opal").$bridge(qt,Number),Number.prototype.$$is_number=!0,qt.$$is_number_class=!0,function(e,r){var n,i=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(i,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),c}(t.get_singleton_class(qt),Dt),t.def(qt,"$coerce",v=function(t){var e=this;if(t===c)e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[e.$Float(t),e];if(t["$respond_to?"]("to_f"))return[_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Float"),"to_f"),e];if(t.$$is_number)return[t,e];e.$raise(_(Dt,"TypeError"),"can't convert "+t.$class()+" into Float")}},v.$$arity=1),t.def(qt,"$__id__",b=function(){var t=this;return 2*t+1},b.$$arity=0),t.alias(qt,"object_id","__id__"),t.def(qt,"$+",w=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},w.$$arity=1),t.def(qt,"$-",k=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},k.$$arity=1),t.def(qt,"$*",E=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},E.$$arity=1),t.def(qt,"$/",x=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},x.$$arity=1),t.alias(qt,"fdiv","/"),t.def(qt,"$%",A=function(t){var e=this;return t.$$is_number?t==-(1/0)?t:0!=t?t<0||e<0?(e%t+t)%t:e%t:void e.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"):e.$__coerced__("%",t)},A.$$arity=1),t.def(qt,"$&",O=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},O.$$arity=1),t.def(qt,"$|",S=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},S.$$arity=1),t.def(qt,"$^",M=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},M.$$arity=1),t.def(qt,"$<",T=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},T.$$arity=1),t.def(qt,"$<=",R=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},R.$$arity=1),t.def(qt,"$>",I=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},I.$$arity=1),t.def(qt,"$>=",C=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},C.$$arity=1);var Lt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?c:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};return t.def(qt,"$<=>",N=function(e){var r=this;try{return Lt(r,e)}catch(e){if(!t.rescue(e,[_(Dt,"ArgumentError")]))throw e;try{return c}finally{t.pop_exception()}}},N.$$arity=1),t.def(qt,"$<<",z=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e<<t:e>>-t},z.$$arity=1),t.def(qt,"$>>",P=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t>0?e>>t:e<<-t},P.$$arity=1),t.def(qt,"$[]",B=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),t<0?0:t>=32?e<0?1:0:e>>t&1},B.$$arity=1),t.def(qt,"$+@",q=function(){var t=this;return+t},q.$$arity=0),t.def(qt,"$-@",D=function(){var t=this;return-t},D.$$arity=0),t.def(qt,"$~",L=function(){var t=this;return~t},L.$$arity=0),t.def(qt,"$**",F=function(t){var n,i,a=this;return h(_(Dt,"Integer")["$==="](t))?h(h(n=_(Dt,"Integer")["$==="](a)["$!"]())?n:e(t,0))?Math.pow(a,t):_(Dt,"Rational").$new(a,1)["$**"](t):h((n=r(a,0))?h(i=_(Dt,"Float")["$==="](t))?i:_(Dt,"Rational")["$==="](t):r(a,0))?_(Dt,"Complex").$new(a,0)["$**"](t.$to_f()):h(null!=t.$$is_number)?Math.pow(a,t):a.$__coerced__("**",t)},F.$$arity=1),t.def(qt,"$===",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.def(qt,"$==",U=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},U.$$arity=1),t.def(qt,"$abs",H=function(){var t=this;return Math.abs(t)},H.$$arity=0),t.def(qt,"$abs2",G=function(){var t=this;return Math.abs(t*t)},G.$$arity=0),t.def(qt,"$allbits?",Y=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),(e&t)==t},Y.$$arity=1),t.def(qt,"$anybits?",W=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0!==(e&t)},W.$$arity=1),t.def(qt,"$angle",K=function(){var t=this;return h(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},K.$$arity=0),t.alias(qt,"arg","angle"),t.alias(qt,"phase","angle"),t.def(qt,"$bit_length",X=function(){var t=this;if(h(_(Dt,"Integer")["$==="](t))||t.$raise(_(Dt,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||t===-1)return 0;for(var e=0,r=t<0?~t:t;0!=r;)e+=1,r>>>=1;return e},X.$$arity=0),t.def(qt,"$ceil",V=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.ceil(r*n)/n;return r%1===0&&(i=Math.round(i)),i},V.$$arity=-1),t.def(qt,"$chr",J=function(t){var e=this;return String.fromCharCode(e)},J.$$arity=-1),t.def(qt,"$denominator",Z=function(){var e,r=this,n=Z.$$p,i=c,a=c,$=c;for(n&&(Z.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(h(e=r["$nan?"]())?e:r["$infinite?"]())?1:p(r,t.find_super_dispatcher(r,"denominator",Z,!1),i,n)},Z.$$arity=0),t.def(qt,"$downto",Q=function(t){var r,a=this,$=Q.$$p,o=$||c;if($&&(Q.$$p=null),o===c)return p(a,"enum_for",["downto",t],(r=function(){var a=r.$$s||this;return h(_(Dt,"Numeric")["$==="](t))||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h(e(t,a))?0:n(i(a,t),1)},r.$$s=a,r.$$arity=0,r));t.$$is_number||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s>=t;s--)o(s);return a},Q.$$arity=1),t.alias(qt,"eql?","=="),t.def(qt,"$equal?",tt=function(t){var e,r=this;return h(e=r["$=="](t))?e:isNaN(r)&&isNaN(t)},tt.$$arity=1),t.def(qt,"$even?",et=function(){var t=this;return t%2===0},et.$$arity=0),t.def(qt,"$floor",rt=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.floor(r*n)/n;return r%1===0&&(i=Math.round(i)),i},rt.$$arity=-1),t.def(qt,"$gcd",nt=function(t){var e=this;h(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer");for(var r=Math.abs(e),n=Math.abs(t);r>0;){var i=r;r=n%r,n=i}return n},nt.$$arity=1),t.def(qt,"$gcdlcm",it=function(t){var e=this;return[e.$gcd(),e.$lcm()]},it.$$arity=1),t.def(qt,"$integer?",at=function(){var t=this;return t%1===0},at.$$arity=0),t.def(qt,"$is_a?",$t=function(e){var r,n=this,i=$t.$$p,a=c,$=c,o=c;for(i&&($t.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"is_a?",$t,!1),a,i)))},$t.$$arity=1),t.alias(qt,"kind_of?","is_a?"),t.def(qt,"$instance_of?",ot=function(e){var r,n=this,i=ot.$$p,a=c,$=c,o=c;for(i&&(ot.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Integer")))?_(Dt,"Integer")["$==="](n):e["$=="](_(Dt,"Integer")))||(!!h((r=e["$=="](_(Dt,"Float")))?_(Dt,"Float")["$==="](n):e["$=="](_(Dt,"Float")))||p(n,t.find_super_dispatcher(n,"instance_of?",ot,!1),a,i)))},ot.$$arity=1),t.def(qt,"$lcm",st=function(t){var e=this;return h(_(Dt,"Integer")["$==="](t))||e.$raise(_(Dt,"TypeError"),"not an integer"),0==e||0==t?0:Math.abs(e*t/e.$gcd(t))},st.$$arity=1),t.alias(qt,"magnitude","abs"),t.alias(qt,"modulo","%"),t.def(qt,"$next",ut=function(){var t=this;return t+1},ut.$$arity=0),t.def(qt,"$nobits?",lt=function(t){var e=this;return t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),0==(e&t)},lt.$$arity=1),t.def(qt,"$nonzero?",ct=function(){var t=this;return 0==t?c:t},ct.$$arity=0),t.def(qt,"$numerator",ft=function(){var e,r=this,n=ft.$$p,i=c,a=c,$=c;for(n&&(ft.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(h(e=r["$nan?"]())?e:r["$infinite?"]())?r:p(r,t.find_super_dispatcher(r,"numerator",ft,!1),i,n)},ft.$$arity=0),t.def(qt,"$odd?",_t=function(){var t=this;return t%2!==0},_t.$$arity=0),t.def(qt,"$ord",dt=function(){var t=this;return t},dt.$$arity=0),t.def(qt,"$pow",ht=function(t,e){var r=this;return 0==r&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),
void 0===e?r["$**"](t):(_(Dt,"Integer")["$==="](t)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&r.$raise(_(Dt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),_(Dt,"Integer")["$==="](e)||r.$raise(_(Dt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&r.$raise(_(Dt,"ZeroDivisionError"),"divided by 0"),r["$**"](t)["$%"](e))},ht.$$arity=-2),t.def(qt,"$pred",pt=function(){var t=this;return t-1},pt.$$arity=0),t.def(qt,"$quo",yt=function(e){var r=this,n=yt.$$p,i=c,$=c,o=c;for(n&&(yt.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return h(_(Dt,"Integer")["$==="](r))?p(r,t.find_super_dispatcher(r,"quo",yt,!1),i,n):a(r,e)},yt.$$arity=1),t.def(qt,"$rationalize",mt=function(e){var r,n,a=this,o=c,s=c;return arguments.length>1&&a.$raise(_(Dt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),h(_(Dt,"Integer")["$==="](a))?_(Dt,"Rational").$new(a,1):h(a["$infinite?"]())?a.$raise(_(Dt,"FloatDomainError"),"Infinity"):h(a["$nan?"]())?a.$raise(_(Dt,"FloatDomainError"),"NaN"):h(null==e)?(n=_(Dt,"Math").$frexp(a),r=t.to_ary(n),o=null==r[0]?c:r[0],s=null==r[1]?c:r[1],n,o=_(Dt,"Math").$ldexp(o,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),s=i(s,f(_(Dt,"Float"),"MANT_DIG")),_(Dt,"Rational").$new($(2,o),1["$<<"](i(1,s))).$rationalize(_(Dt,"Rational").$new(1,1["$<<"](i(1,s))))):a.$to_r().$rationalize(e)},mt.$$arity=-1),t.def(qt,"$remainder",gt=function(t){var e=this;return i(e,$(t,a(e,t).$truncate()))},gt.$$arity=1),t.def(qt,"$round",vt=function($){var u,l,d=this,p=c,y=c;if(h(_(Dt,"Integer")["$==="](d))){if(h(null==$))return d;if(h(h(u=_(Dt,"Float")["$==="]($))?$["$infinite?"]():u)&&d.$raise(_(Dt,"RangeError"),"Infinity"),$=_(Dt,"Opal")["$coerce_to!"]($,_(Dt,"Integer"),"to_int"),h(r($,f(_(Dt,"Integer"),"MIN")))&&d.$raise(_(Dt,"RangeError"),"out of bounds"),h($>=0))return d;if($=$["$-@"](),.415241*$-.125>d.$size())return 0;var m=Math.pow(10,$),g=Math.floor((Math.abs(g)+m/2)/m)*m;return d<0?-g:g}if(h(h(u=d["$nan?"]())?null==$:u)&&d.$raise(_(Dt,"FloatDomainError"),"NaN"),$=_(Dt,"Opal")["$coerce_to!"]($||0,_(Dt,"Integer"),"to_int"),h(o($,0)))h(d["$nan?"]())?d.$raise(_(Dt,"RangeError"),"NaN"):h(d["$infinite?"]())&&d.$raise(_(Dt,"FloatDomainError"),"Infinity");else{if($["$=="](0))return Math.round(d);if(h(h(u=d["$nan?"]())?u:d["$infinite?"]()))return d}return l=_(Dt,"Math").$frexp(d),u=t.to_ary(l),p=null==u[0]?c:u[0],y=null==u[1]?c:u[1],l,h(s($,i(n(f(_(Dt,"Float"),"DIG"),2),function(){return h(e(y,0))?a(y,4):i(a(y,3),1)}())))?d:h(r($,function(){return h(e(y,0))?n(a(y,3),1):a(y,4)}()["$-@"]()))?0:Math.round(d*Math.pow(10,$))/Math.pow(10,$)},vt.$$arity=-1),t.def(qt,"$step",bt=function(e,r,n){function i(){void 0!==u&&(d=u),void 0===d&&(d=c),h===c&&m.$raise(_(Dt,"TypeError"),"step must be numeric"),0===h&&m.$raise(_(Dt,"ArgumentError"),"step can't be 0"),void 0!==l&&(h=l),h!==c&&null!=h||(h=1);var t=h["$<=>"](0);t===c&&m.$raise(_(Dt,"ArgumentError"),"0 can't be coerced into "+h.$class()),d!==c&&null!=d||(d=t>0?f(_(Dt,"Float"),"INFINITY"):f(_(Dt,"Float"),"INFINITY")["$-@"]()),_(Dt,"Opal").$compare(m,d)}function a(){if(h>0&&m>d||h<0&&m<d)return 0;if(h===1/0||h===-(1/0))return 1;var t=Math.abs,e=Math.floor,r=(t(m)+t(d)+t(d-m))/t(h)*f(_(Dt,"Float"),"EPSILON");return r===1/0||r===-(1/0)?0:(r>.5&&(r=.5),e((d-m)/h+r)+1)}function $(){if(i(),0===h)return 1/0;if(h%1!==0)return a();if(h>0&&m>d||h<0&&m<d)return 0;var t=Math.ceil,e=Math.abs,r=e(m-d)+1,n=e(h);return t(r/n)}var o,s,u,l,d,h,m=this,g=bt.$$p,v=g||c,b=c,w=c;if(s=t.slice.call(arguments,0,arguments.length),n=t.extract_kwargs(s),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=y([],{})}if(u=n.$$smap.to,l=n.$$smap.by,0<s.length&&(d=s.splice(0,1)[0]),0<s.length&&(h=s.splice(0,1)[0]),g&&(bt.$$p=null),void 0!==d&&void 0!==u&&m.$raise(_(Dt,"ArgumentError"),"to is given twice"),void 0!==h&&void 0!==l&&m.$raise(_(Dt,"ArgumentError"),"step is given twice"),v===c)return b=[],w=y([],{}),void 0!==d&&b.push(d),void 0!==h&&b.push(h),void 0!==u&&t.hash_put(w,"to",u),void 0!==l&&t.hash_put(w,"by",l),w["$any?"]()&&b.push(w),p(m,"enum_for",["step"].concat(t.to_a(b)),(o=function(){o.$$s||this;return $()},o.$$s=m,o.$$arity=0,o));if(i(),0===h)for(;;)v(m);if(m%1!==0||d%1!==0||h%1!==0){var k=a();if(k>0)if(h===1/0||h===-(1/0))v(m);else{var E,x=0;if(h>0)for(;x<k;)E=x*h+m,d<E&&(E=d),v(E),x+=1;else for(;x<k;)E=x*h+m,d>E&&(E=d),v(E),x+=1}}else{var A=m;if(h>0)for(;A<=d;)v(A),A+=h;else for(;A>=d;)v(A),A+=h}return m},bt.$$arity=-1),t.alias(qt,"succ","next"),t.def(qt,"$times",wt=function(){var t,e=this,r=wt.$$p,n=r||c;if(r&&(wt.$$p=null),!h(n))return p(e,"enum_for",["times"],(t=function(){var e=t.$$s||this;return e},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)n(i);return e},wt.$$arity=0),t.def(qt,"$to_f",kt=function(){var t=this;return t},kt.$$arity=0),t.def(qt,"$to_i",Et=function(){var t=this;return parseInt(t,10)},Et.$$arity=0),t.alias(qt,"to_int","to_i"),t.def(qt,"$to_r",xt=function(){var e,r,n=this,a=c,o=c;return h(_(Dt,"Integer")["$==="](n))?_(Dt,"Rational").$new(n,1):(r=_(Dt,"Math").$frexp(n),e=t.to_ary(r),a=null==e[0]?c:e[0],o=null==e[1]?c:e[1],r,a=_(Dt,"Math").$ldexp(a,f(_(Dt,"Float"),"MANT_DIG")).$to_i(),o=i(o,f(_(Dt,"Float"),"MANT_DIG")),$(a,f(_(Dt,"Float"),"RADIX")["$**"](o)).$to_r())},xt.$$arity=0),t.def(qt,"$to_s",At=function(t){var n,i=this;return null==t&&(t=10),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),h(h(n=r(t,2))?n:e(t,36))&&i.$raise(_(Dt,"ArgumentError"),"invalid radix "+t),i.toString(t)},At.$$arity=-1),t.def(qt,"$truncate",Ot=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=parseInt(r*n,10)/n;return r%1===0&&(i=Math.round(i)),i},Ot.$$arity=-1),t.alias(qt,"inspect","to_s"),t.def(qt,"$digits",St=function(t){var e=this;null==t&&(t=10),r(e,0)&&e.$raise(f(_(Dt,"Math"),"DomainError"),"out of domain"),t=_(Dt,"Opal")["$coerce_to!"](t,_(Dt,"Integer"),"to_int"),h(r(t,2))&&e.$raise(_(Dt,"ArgumentError"),"invalid radix "+t);for(var n=e,i=[];0!==n;)i.push(n%t),n=parseInt(n/t,10);return i},St.$$arity=-1),t.def(qt,"$divmod",Mt=function(e){var r,n=this,i=Mt.$$p,a=c,$=c,o=c;for(i&&(Mt.$$p=null),$=0,o=arguments.length,a=new Array(o);$<o;$++)a[$]=arguments[$];return h(h(r=n["$nan?"]())?r:e["$nan?"]())?n.$raise(_(Dt,"FloatDomainError"),"NaN"):h(n["$infinite?"]())?n.$raise(_(Dt,"FloatDomainError"),"Infinity"):p(n,t.find_super_dispatcher(n,"divmod",Mt,!1),a,i)},Mt.$$arity=1),t.def(qt,"$upto",Tt=function(t){var e,a=this,$=Tt.$$p,o=$||c;if($&&(Tt.$$p=null),o===c)return p(a,"enum_for",["upto",t],(e=function(){var a=e.$$s||this;return h(_(Dt,"Numeric")["$==="](t))||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed"),h(r(t,a))?0:n(i(t,a),1)},e.$$s=a,e.$$arity=0,e));t.$$is_number||a.$raise(_(Dt,"ArgumentError"),"comparison of "+a.$class()+" with "+t.$class()+" failed");for(var s=a;s<=t;s++)o(s);return a},Tt.$$arity=1),t.def(qt,"$zero?",Rt=function(){var t=this;return 0==t},Rt.$$arity=0),t.def(qt,"$size",It=function(){return 4},It.$$arity=0),t.def(qt,"$nan?",Ct=function(){var t=this;return isNaN(t)},Ct.$$arity=0),t.def(qt,"$finite?",Nt=function(){var t=this;return t!=1/0&&t!=-(1/0)&&!isNaN(t)},Nt.$$arity=0),t.def(qt,"$infinite?",zt=function(){var t=this;return t==1/0?1:t==-(1/0)?-1:c},zt.$$arity=0),t.def(qt,"$positive?",Pt=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},Pt.$$arity=0),t.def(qt,"$negative?",Bt=function(){var t=this;return t==-(1/0)||1/t<0},Bt.$$arity=0),c&&"negative?"}(l[0],_(l,"Numeric"),l),t.const_set(l[0],"Fixnum",_(l,"Number")),function(e,r,n){function i(){}var a=i=d(e,r,"Integer",i),$=(a.$$proto,[a].concat(n));return a.$$is_number_class=!0,function(e,r){var n,i,a,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_($,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1===0},i.$$arity=1),t.def(e,"$sqrt",a=function(t){var e=this;return t=_($,"Opal")["$coerce_to!"](t,_($,"Integer"),"to_int"),t<0&&e.$raise(f(_($,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},a.$$arity=1),c&&"sqrt"}(t.get_singleton_class(a),$),t.const_set($[0],"MAX",Math.pow(2,30)-1),t.const_set($[0],"MIN",-Math.pow(2,30))}(l[0],_(l,"Numeric"),l),function(e,r,n){function i(){}var a=i=d(e,r,"Float",i),$=(a.$$proto,[a].concat(n));return a.$$is_number_class=!0,function(e,r){var n,i,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(_(a,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1),c&&"==="}(t.get_singleton_class(a),$),t.const_set($[0],"INFINITY",1/0),t.const_set($[0],"MAX",Number.MAX_VALUE),t.const_set($[0],"MIN",Number.MIN_VALUE),t.const_set($[0],"NAN",NaN),t.const_set($[0],"DIG",15),t.const_set($[0],"MANT_DIG",53),t.const_set($[0],"RADIX",2),t.const_set($[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(l[0],_(l,"Numeric"),l)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,f=t.const_get_qualified,_=t.const_get_relative,d=(t.breaker,t.slice,t.klass),h=t.truthy,p=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),u.$require("corelib/enumerable"),function(u,l,y){function m(){}var g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B=m=d(u,l,"Range",m),q=B.$$proto,D=[B].concat(y);return q.begin=q.end=q.excl=c,B.$include(_(D,"Enumerable")),q.$$is_range=!0,B.$attr_reader("begin","end"),t.def(B,"$initialize",g=function(t,e,r){var n=this;return null==r&&(r=!1),h(n.begin)&&n.$raise(_(D,"NameError"),"'initialize' called twice"),h(t["$<=>"](e))||n.$raise(_(D,"ArgumentError"),"bad value for range"),n.begin=t,n.end=e,n.excl=r},g.$$arity=-3),t.def(B,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.def(B,"$===",b=function(t){var e=this;return e["$include?"](t)},b.$$arity=1),t.def(B,"$cover?",w=function(t){var n,i=this,a=c,$=c;return a=i.begin["$<=>"](t),!!h(h(n=a)?e(a,0):n)&&($=t["$<=>"](i.end),h(i.excl)?h(n=$)?r($,0):n:h(n=$)?e($,0):n)},w.$$arity=1),t.def(B,"$each",k=function(){var e,n=this,i=k.$$p,a=i||c,$=c,o=c;if(i&&(k.$$p=null),a===c)return n.$enum_for("each");var s,u;if(n.begin.$$is_number&&n.end.$$is_number){for(n.begin%1===0&&n.end%1===0||n.$raise(_(D,"TypeError"),"can't iterate from Float"),s=n.begin,u=n.end+function(){return h(n.excl)?0:1}();s<u;s++)a(s);return n}if(n.begin.$$is_string&&n.end.$$is_string)return p(n.begin,"upto",[n.end,n.excl],a.$to_proc()),n;for($=n.begin,o=n.end,h($["$respond_to?"]("succ"))||n.$raise(_(D,"TypeError"),"can't iterate from "+$.$class());h(r($["$<=>"](o),0));)t.yield1(a,$),$=$.$succ();return h(h(e=n.excl["$!"]())?$["$=="](o):e)&&t.yield1(a,$),n},k.$$arity=0),t.def(B,"$eql?",E=function(t){var e,r,n=this;return!!h(_(D,"Range")["$==="](t))&&(h(e=h(r=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):r)?n.end["$eql?"](t.$end()):e)},E.$$arity=1),t.def(B,"$exclude_end?",x=function(){var t=this;return t.excl},x.$$arity=0),t.def(B,"$first",A=function(e){var r=this,n=A.$$p,i=c,a=c,$=c;for(n&&(A.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return h(null==e)?r.begin:p(r,t.find_super_dispatcher(r,"first",A,!1),i,n)},A.$$arity=-1),t.alias(B,"include?","cover?"),t.def(B,"$last",O=function(t){var e=this;return h(null==t)?e.end:e.$to_a().$last(t)},O.$$arity=-1),t.def(B,"$max",S=function(){var e,r=this,i=S.$$p,a=i||c,$=c,o=c,s=c;for(i&&(S.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==c?p(r,t.find_super_dispatcher(r,"max",S,!1),$,i):h(n(r.begin,r.end))?c:h(h(e=r.excl)?r.begin["$=="](r.end):e)?c:r.excl?r.end-1:r.end},S.$$arity=0),t.alias(B,"member?","cover?"),t.def(B,"$min",M=function(){var e,r=this,i=M.$$p,a=i||c,$=c,o=c,s=c;for(i&&(M.$$p=null),o=0,s=arguments.length,$=new Array(s);o<s;o++)$[o]=arguments[o];return a!==c?p(r,t.find_super_dispatcher(r,"min",M,!1),$,i):h(n(r.begin,r.end))?c:h(h(e=r.excl)?r.begin["$=="](r.end):e)?c:r.begin},M.$$arity=0),t.def(B,"$size",T=function(){var t,e=this,n=c,a=c,$=c;return n=e.begin,a=e.end,h(e.excl)&&(a=i(a,1)),h(h(t=_(D,"Numeric")["$==="](n))?_(D,"Numeric")["$==="](a):t)?h(r(a,n))?0:($=f(_(D,"Float"),"INFINITY"),h([n.$abs(),a.$abs()]["$include?"]($))?$:(Math.abs(a-n)+1).$to_i()):c},T.$$arity=0),t.def(B,"$step",R=function(e){function r(){e.$$is_number||(e=_(D,"Opal")["$coerce_to!"](e,_(D,"Integer"),"to_int")),e<0?y.$raise(_(D,"ArgumentError"),"step can't be negative"):0===e&&y.$raise(_(D,"ArgumentError"),"step can't be 0")}function i(){if(!y.begin["$respond_to?"]("succ"))return c;if(y.begin.$$is_string&&y.end.$$is_string)return c;if(e%1===0)return a(y.$size(),e).$ceil();var t,r=y.begin,n=y.end,i=Math.abs,$=Math.floor,o=(i(r)+i(n)+i(n-r))/i(e)*f(_(D,"Float"),"EPSILON");return o>.5&&(o=.5),y.excl?(t=$((n-r)/e-o),t*e+r<n&&t++):t=$((n-r)/e+o)+1,t}var u,l,d,y=this,m=R.$$p,g=m||c,v=c;return null==e&&(e=1),m&&(R.$$p=null),g===c?p(y,"enum_for",["step",e],(u=function(){u.$$s||this;return r(),i()},u.$$s=y,u.$$arity=0,u)):(r(),h(y.begin.$$is_number&&y.end.$$is_number)?(v=0,function(){var r=t.new_brk();try{return p(y,"loop",[],(l=function(){var i=l.$$s||this,a=c;return null==i.begin&&(i.begin=c),null==i.excl&&(i.excl=c),null==i.end&&(i.end=c),a=$(i.begin,o(v,e)),h(i.excl)?h(s(a,i.end))&&t.brk(c,r):h(n(a,i.end))&&t.brk(c,r),t.yield1(g,a),v=$(v,1)},l.$$s=y,l.$$brk=r,l.$$arity=0,l))}catch(t){if(t===r)return t.$v;throw t}}()):(y.begin.$$is_string&&y.end.$$is_string&&e%1!==0&&y.$raise(_(D,"TypeError"),"no implicit conversion to float from string"),p(y,"each_with_index",[],(d=function(r,n){d.$$s||this;return null==r&&(r=c),null==n&&(n=c),n["$%"](e)["$=="](0)?t.yield1(g,r):c},d.$$s=y,d.$$arity=2,d))),y)},R.$$arity=-1),t.def(B,"$bsearch",I=function(){var t=this,e=I.$$p,r=e||c;return e&&(I.$$p=null),r===c?t.$enum_for("bsearch"):(h(t.begin.$$is_number&&t.end.$$is_number)||t.$raise(_(D,"TypeError"),"can't do binary search for "+t.begin.$class()),p(t.$to_a(),"bsearch",[],r.$to_proc()))},I.$$arity=0),t.def(B,"$to_s",C=function(){var t=this;return""+t.begin+function(){return h(t.excl)?"...":".."}()+t.end},C.$$arity=0),t.def(B,"$inspect",N=function(){var t=this;return""+t.begin.$inspect()+function(){return h(t.excl)?"...":".."}()+t.end.$inspect()},N.$$arity=0),t.def(B,"$marshal_load",z=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},z.$$arity=1),t.def(B,"$hash",P=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},P.$$arity=0),c&&"hash"}(l[0],null,l)},Opal.modules["corelib/proc"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),a=t.klass,$=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,s){function u(){}var l,c,f,_,d,h,p,y,m,g,v=u=a(e,o,"Proc",u),b=v.$$proto,w=[v].concat(s);return b.$$is_proc=!0,b.$$is_lambda=!1,t.defs(v,"$new",l=function(){var t=this,e=l.$$p,i=e||r;return e&&(l.$$p=null),$(i)||t.$raise(n(w,"ArgumentError"),"tried to create a Proc object without a block"),i},l.$$arity=0),t.def(v,"$call",c=function(e){var n,i=this,a=c.$$p,$=a||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];a&&(c.$$p=null),$!==r&&(i.$$p=$);var l,f=i.$$brk;if(f)try{l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n)}catch(t){if(t===f)return f.$v;throw t}else l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n);return l},c.$$arity=-1),t.alias(v,"[]","call"),t.alias(v,"===","call"),t.alias(v,"yield","call"),t.def(v,"$to_proc",f=function(){var t=this;return t},f.$$arity=0),t.def(v,"$lambda?",_=function(){var t=this;return!!t.$$is_lambda},_.$$arity=0),t.def(v,"$arity",d=function(){var t=this;return t.$$is_curried?-1:t.$$arity},d.$$arity=0),t.def(v,"$source_location",h=function(){var t=this;return t.$$is_curried?r:r},h.$$arity=0),t.def(v,"$binding",p=function(){var t=this;return t.$$is_curried&&t.$raise(n(w,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(v,"$parameters",y=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,r,n=[];for(e=0,r=t.$$parameters.length;e<r;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),n.push(i)}return n}return[]},y.$$arity=0),t.def(v,"$curry",m=function(t){function e(){var a,$=i.call(arguments),o=$.length;return o>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?r.$call.apply(r,$):(a=function(){return e.apply(null,$.concat(i.call(arguments)))},a.$$is_lambda=r.$$is_lambda,a.$$is_curried=!0,a)}var r=this;return void 0===t?t=r.length:(t=n(w,"Opal")["$coerce_to!"](t,n(w,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},m.$$arity=-1),t.def(v,"$dup",g=function(){var t=this,e=t.$$original_proc||t,r=function(){return e.apply(this,arguments)};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},g.$$arity=0),t.alias(v,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p,y,m=s=i(e,$,"Method",s),g=m.$$proto,v=[m].concat(o);return g.method=g.receiver=g.owner=g.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",u=function(t,e,r,n){var i=this;return i.receiver=t,i.owner=e,i.name=n,i.method=r},u.$$arity=4),t.def(m,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(m,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",f=function(){var t,e=this;return a(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(m,"$comments",_=function(){var t,e=this;return a(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(m,"$call",d=function(t){var e,n=this,i=d.$$p,a=i||r,$=arguments.length,o=$-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<$;s++)e[s-0]=arguments[s];return i&&(d.$$p=null),n.method.$$p=a,n.method.apply(n.receiver,e)},d.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",h=function(){var t=this;return n(v,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},h.$$arity=0),t.def(m,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.def(m,"$inspect",y=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},y.$$arity=0),r&&"inspect"}(e[0],null,e),function(e,$,o){function s(){}var u,l,c,f,_,d,h,p=s=i(e,$,"UnboundMethod",s),y=p.$$proto,m=[p].concat(o);return y.method=y.owner=y.name=y.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",u=function(t,e,r,n){var i=this;return i.source=t,i.owner=e,i.method=r,i.name=n},u.$$arity=4),t.def(p,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(p,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(p,"$source_location",f=function(){var t,e=this;return a(t=e.method.$$source_location)?t:["(eval)",0]},f.$$arity=0),t.def(p,"$comments",_=function(){var t,e=this;return a(t=e.method.$$comments)?t:[]},_.$$arity=0),t.def(p,"$bind",d=function(e){var r=this;return r.owner.$$is_module||t.is_a(e,r.owner)?n(m,"Method").$new(e,r.owner,r.method,r.name):void r.$raise(n(m,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+r.owner+" to be true)")},d.$$arity=1),t.def(p,"$inspect",h=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},h.$$arity=0),r&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),a=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",a([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,a){var $,o=$=i(e,"Opal"),s=(o.$$proto,[o].concat(a));t.const_set(s[0],"REGEXP_START",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"^":r}()),t.const_set(s[0],"REGEXP_END",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"$":r}()),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",n(s,"Regexp").$new("[^"+n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",n(s,"Regexp").$new(""+n(s,"REGEXP_START")+"(::)?[A-Z][^"+n(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,a=[],$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.send,c=t.truthy,f=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,r,n){function i(){}var a,l=i=u(e,r,"String",i),c=(l.$$proto,[l].concat(n));return t.defs(l,"$inherited",a=function(t){var e=$;e=s(c,"Class").$new(o(s(c,"String"),"Wrapper")),t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=o(s(c,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},a.$$arity=1),$&&"inherited"}(a[0],null,a),function(i,a,o){function s(){}var _,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R=s=u(i,a,"Wrapper",s),I=R.$$proto;[R].concat(o);return I.literal=$,I.$$is_string=!0,t.defs(R,"$allocate",_=function(e){var r=this,n=_.$$p,i=$;return null==e&&(e=""),n&&(_.$$p=null),i=l(r,t.find_super_dispatcher(r,"allocate",_,!1,s),[],null),i.literal=e,i},_.$$arity=-1),t.defs(R,"$new",d=function(e){var r,n=this,i=d.$$p,a=i||$,o=$,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var c=0;c<s;c++)r[c-0]=arguments[c];return i&&(d.$$p=null),o=n.$allocate(),l(o,"initialize",t.to_a(r),a.$to_proc()),o},d.$$arity=-1),t.defs(R,"$[]",h=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$allocate(e)},h.$$arity=-1),t.def(R,"$initialize",p=function(t){var e=this;return null==t&&(t=""),e.literal=t},p.$$arity=-1),t.def(R,"$method_missing",y=function(e){var r,n=this,i=y.$$p,a=i||$,o=$,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var f=0;f<s;f++)r[f-0]=arguments[f];return i&&(y.$$p=null),o=l(n.literal,"__send__",t.to_a(r),a.$to_proc()),c(null!=o.$$is_string)?c(o==n.literal)?n:n.$class().$allocate(o):o},y.$$arity=-1),t.def(R,"$initialize_copy",m=function(t){var e=this;return e.literal=t.literal.$clone()},m.$$arity=1),t.def(R,"$respond_to?",g=function(e,r){var n,i=this,a=g.$$p,o=$,s=$,u=$;for(a&&(g.$$p=null),s=0,u=arguments.length,o=new Array(u);s<u;s++)o[s]=arguments[s];return c(n=l(i,t.find_super_dispatcher(i,"respond_to?",g,!1),o,a))?n:i.literal["$respond_to?"](e)},g.$$arity=-2),t.def(R,"$==",v=function(t){var e=this;return e.literal["$=="](t)},v.$$arity=1),t.alias(R,"eql?","=="),t.alias(R,"===","=="),t.def(R,"$to_s",b=function(){var t=this;return t.literal.$to_s()},b.$$arity=0),t.alias(R,"to_str","to_s"),t.def(R,"$inspect",w=function(){var t=this;return t.literal.$inspect()},w.$$arity=0),t.def(R,"$+",k=function(t){var r=this;return e(r.literal,t)},k.$$arity=1),t.def(R,"$*",E=function(t){var e=this,n=r(e.literal,t);return n.$$is_string?e.$class().$allocate(n):n},E.$$arity=1),t.def(R,"$split",x=function(t,e){var r,n=this;return l(n.literal.$split(t,e),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=$),e.$class().$allocate(t)},r.$$s=n,r.$$arity=1,r))},x.$$arity=-1),t.def(R,"$replace",A=function(t){var e=this;return e.literal=t},A.$$arity=1),t.def(R,"$each_line",O=function(e){var r,n=this,i=O.$$p,a=i||$;return null==f["/"]&&(f["/"]=$),null==e&&(e=f["/"]),i&&(O.$$p=null),a===$?n.$enum_for("each_line",e):l(n.literal,"each_line",[e],(r=function(e){var n=r.$$s||this;return null==e&&(e=$),t.yield1(a,n.$class().$allocate(e))},r.$$s=n,r.$$arity=1,r))},O.$$arity=-1),t.def(R,"$lines",S=function(t){var e=this,r=S.$$p,n=r||$,i=$;return null==f["/"]&&(f["/"]=$),null==t&&(t=f["/"]),r&&(S.$$p=null),i=l(e,"each_line",[t],n.$to_proc()),c(n)?e:i.$to_a()},S.$$arity=-1),t.def(R,"$%",M=function(t){var e=this;return e.literal["$%"](t)},M.$$arity=1),t.def(R,"$instance_variables",T=function(){var e=this,r=T.$$p,i=$,a=$,o=$;for(r&&(T.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return n(l(e,t.find_super_dispatcher(e,"instance_variables",T,!1),i,r),["@literal"])},T.$$arity=0),$&&"instance_variables"}(s(a,"String"),null,a)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,n,i,a,$,o=t.top,s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,f=(t.breaker,t.slice,t.klass),_=t.truthy,d=t.send,h=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),o.$require("corelib/string"),function(r,n,i){function a(){}var $,o,s,l,p,y,m,g,v,b,w=a=f(r,n,"Encoding",a),k=w.$$proto,E=[w].concat(i);return k.ascii=k.dummy=k.name=u,w.$$register={},t.defs(w,"$register",$=function(t,r){var n,i,a=this,o=$.$$p,s=o||u,l=u,f=u,p=u;return null==r&&(r=h([],{})),o&&($.$$p=null),l=e([t],_(n=r["$[]"]("aliases"))?n:[]),f=d(c(E,"Class"),"new",[a],s.$to_proc()).$new(t,l,!!_(n=r["$[]"]("ascii"))&&n,!!_(n=r["$[]"]("dummy"))&&n),p=a.$$register,d(l,"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=u),e.$const_set(t.$sub("-","_"),f),p["$$"+t]=f},i.$$s=a,i.$$arity=1,i))},$.$$arity=-2),t.defs(w,"$find",o=function(t){var e,r=this,n=u,i=u;return t["$=="]("default_external")?r.$default_external():(n=r.$$register,i=_(e=n["$$"+t])?e:n["$$"+t.$upcase()],_(i)||r.$raise(c(E,"ArgumentError"),"unknown encoding name - "+t),i)},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);return t.$attr_accessor("default_external")}(t.get_singleton_class(w),E),w.$attr_reader("name","names"),t.def(w,"$initialize",s=function(t,e,r,n){var i=this;return i.name=t,i.names=e,i.ascii=r,i.dummy=n},s.$$arity=4),t.def(w,"$ascii_compatible?",l=function(){var t=this;return t.ascii},l.$$arity=0),t.def(w,"$dummy?",p=function(){var t=this;return t.dummy},p.$$arity=0),t.def(w,"$to_s",y=function(){var t=this;return t.name},y.$$arity=0),t.def(w,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+function(){return _(t.dummy)?" (dummy)":u}()+">"},m.$$arity=0),t.def(w,"$each_byte",g=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},g.$$arity=-1),t.def(w,"$getbyte",v=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},v.$$arity=-1),t.def(w,"$bytesize",b=function(t){var e=this;return e.$raise(c(E,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=f(t,e,"EncodingError",n);i.$$proto,[i].concat(r);return u}(E[0],c(E,"StandardError"),E),function(t,e,r){function n(){}var i=n=f(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r);return u}(E[0],c(E,"EncodingError"),E)}(s[0],null,s),d(c(s,"Encoding"),"register",["UTF-8",h(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(r.charAt(a)).substr(1).split("%"),l=0,c=s.length;l<c;l++)t.yield1(i,parseInt(s[l],16))}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),u&&"bytesize"},r.$$s=o,r.$$arity=0,r)),d(c(s,"Encoding"),"register",["UTF-16LE"],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},n.$$s=o,n.$$arity=0,n)),d(c(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},i.$$s=o,i.$$arity=0,i)),d(c(s,"Encoding"),"register",["UTF-32LE"],(a=function(){var e,r,n=a.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},a.$$s=o,a.$$arity=0,a)),d(c(s,"Encoding"),"register",["ASCII-8BIT",h(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],
ascii:!0,dummy:!0})],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var a=0,$=r.length;a<$;a++){var o=r.charCodeAt(a);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},$.$$s=o,$.$$arity=0,$)),function(e,r,n){function i(){}var a,$,o,s,_,h,p,y=i=f(e,r,"String",i),m=y.$$proto,g=[y].concat(n);return m.encoding=u,y.$attr_reader("encoding"),String.prototype.encoding=l(c(g,"Encoding"),"UTF_16LE"),t.def(y,"$bytes",a=function(){var t=this;return t.$each_byte().$to_a()},a.$$arity=0),t.def(y,"$bytesize",$=function(){var t=this;return t.encoding.$bytesize(t)},$.$$arity=0),t.def(y,"$each_byte",o=function(){var t=this,e=o.$$p,r=e||u;return e&&(o.$$p=null),r===u?t.$enum_for("each_byte"):(d(t.encoding,"each_byte",[t],r.$to_proc()),t)},o.$$arity=0),t.def(y,"$encode",s=function(t){var e=this;return e.$dup().$force_encoding(t)},s.$$arity=1),t.def(y,"$force_encoding",_=function(t){var e=this;return t===e.encoding?e:(t=c(g,"Opal")["$coerce_to!"](t,c(g,"String"),"to_s"),t=c(g,"Encoding").$find(t),t===e.encoding?e:(e.encoding=t,e))},_.$$arity=1),t.def(y,"$getbyte",h=function(t){var e=this;return e.encoding.$getbyte(e,t)},h.$$arity=1),t.def(y,"$valid_encoding?",p=function(){return!0},p.$$arity=0),u&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var n=(t.top,[]),i=(t.nil,t.const_get_qualified),a=t.const_get_relative,$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(n,s){var u,l,c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D=u=$(n,"Math"),L=(D.$$proto,[D].concat(s));t.const_set(L[0],"E",Math.E),t.const_set(L[0],"PI",Math.PI),t.const_set(L[0],"DomainError",a(L,"Class").$new(a(L,"StandardError"))),t.defs(D,"$checked",l=function(t,e){var r,n=this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var o=1;o<i;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[t].apply(null,r);return isNaN(s)&&n.$raise(a(L,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),s},l.$$arity=-2),t.defs(D,"$float!",c=function(e){var r=this;try{return r.$Float(e)}catch(n){if(!t.rescue(n,[a(L,"ArgumentError")]))throw n;try{return r.$raise(a(L,"Opal").$type_error(e,a(L,"Float")))}finally{t.pop_exception()}}},c.$$arity=1),t.defs(D,"$integer!",f=function(e){var r=this;try{return r.$Integer(e)}catch(n){if(!t.rescue(n,[a(L,"ArgumentError")]))throw n;try{return r.$raise(a(L,"Opal").$type_error(e,a(L,"Integer")))}finally{t.pop_exception()}}},f.$$arity=1),D.$module_function(),t.def(D,"$acos",_=function(t){return a(L,"Math").$checked("acos",a(L,"Math")["$float!"](t))},_.$$arity=1),o("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(D,"$acosh",d=function(t){return a(L,"Math").$checked("acosh",a(L,"Math")["$float!"](t))},d.$$arity=1),t.def(D,"$asin",h=function(t){return a(L,"Math").$checked("asin",a(L,"Math")["$float!"](t))},h.$$arity=1),o("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(D,"$asinh",p=function(t){return a(L,"Math").$checked("asinh",a(L,"Math")["$float!"](t))},p.$$arity=1),t.def(D,"$atan",y=function(t){return a(L,"Math").$checked("atan",a(L,"Math")["$float!"](t))},y.$$arity=1),t.def(D,"$atan2",m=function(t,e){return a(L,"Math").$checked("atan2",a(L,"Math")["$float!"](t),a(L,"Math")["$float!"](e))},m.$$arity=2),o("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(D,"$atanh",g=function(t){return a(L,"Math").$checked("atanh",a(L,"Math")["$float!"](t))},g.$$arity=1),o("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.def(D,"$cbrt",v=function(t){return a(L,"Math").$checked("cbrt",a(L,"Math")["$float!"](t))},v.$$arity=1),t.def(D,"$cos",b=function(t){return a(L,"Math").$checked("cos",a(L,"Math")["$float!"](t))},b.$$arity=1),o("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(D,"$cosh",w=function(t){return a(L,"Math").$checked("cosh",a(L,"Math")["$float!"](t))},w.$$arity=1),o("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=.254829592,r=-.284496736,n=1.421413741,i=-1.453152027,a=1.061405429,$=.3275911,o=1;t<0&&(o=-1),t=Math.abs(t);var s=1/(1+$*t),u=1-((((a*s+i)*s+n)*s+r)*s+e)*s*Math.exp(-t*t);return o*u}),t.def(D,"$erf",k=function(t){return a(L,"Math").$checked("erf",a(L,"Math")["$float!"](t))},k.$$arity=1),o("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=.17087277*r+-.82215223,i=r*n+1.48851587,a=r*i+-1.13520398,$=r*a+.27886807,o=r*$+-.18628806,s=r*o+.09678418,u=r*s+.37409196,l=r*u+1.00002368,c=r*l,f=-e*e-1.26551223+c,_=r*Math.exp(f);return t<0?2-_:_}),t.def(D,"$erfc",E=function(t){return a(L,"Math").$checked("erfc",a(L,"Math")["$float!"](t))},E.$$arity=1),t.def(D,"$exp",x=function(t){return a(L,"Math").$checked("exp",a(L,"Math")["$float!"](t))},x.$$arity=1),t.def(D,"$frexp",A=function(t){if(t=a(L,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1,r=t/Math.pow(2,e);return[r,e]},A.$$arity=1),t.def(D,"$gamma",O=function(t){var r=this;t=a(L,"Math")["$float!"](t);var n,i,$,o,s,u,l,c,f,_=4.7421875,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-(1/0);if(t!==-1&&t!==-(1/0)||r.$raise(a(L,"DomainError"),'Numerical argument is out of domain - "gamma"'),a(L,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(o=t-2,s=t-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*a(L,"Math").$gamma(e(1,t)));if(t>=171.35)return 1/0;if(t>85)return u=t*t,l=u*t,c=l*t,f=c*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*l)-571/(2488320*c)+163879/(209018880*f)+5246819/(75246796800*f*t));for(t-=1,$=d[0],n=1;n<d.length;++n)$+=d[n]/(t+n);return i=t+_+.5,Math.sqrt(2*Math.PI)*Math.pow(i,t+.5)*Math.exp(-i)*$},O.$$arity=1),o("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(D,"$hypot",S=function(t,e){return a(L,"Math").$checked("hypot",a(L,"Math")["$float!"](t),a(L,"Math")["$float!"](e))},S.$$arity=2),t.def(D,"$ldexp",M=function(t,e){var r=this;return t=a(L,"Math")["$float!"](t),e=a(L,"Math")["$integer!"](e),isNaN(e)&&r.$raise(a(L,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},M.$$arity=2),t.def(D,"$lgamma",T=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs(a(L,"Math").$gamma(t))),a(L,"Math").$gamma(t)<0?-1:1]},T.$$arity=1),t.def(D,"$log",R=function(t,e){var n=this;return o(a(L,"String")["$==="](t))&&n.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),o(null==e)?a(L,"Math").$checked("log",a(L,"Math")["$float!"](t)):(o(a(L,"String")["$==="](e))&&n.$raise(a(L,"Opal").$type_error(e,a(L,"Float"))),r(a(L,"Math").$checked("log",a(L,"Math")["$float!"](t)),a(L,"Math").$checked("log",a(L,"Math")["$float!"](e))))},R.$$arity=-2),o("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(D,"$log10",I=function(t){var e=this;return o(a(L,"String")["$==="](t))&&e.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),a(L,"Math").$checked("log10",a(L,"Math")["$float!"](t))},I.$$arity=1),o("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(D,"$log2",C=function(t){var e=this;return o(a(L,"String")["$==="](t))&&e.$raise(a(L,"Opal").$type_error(t,a(L,"Float"))),a(L,"Math").$checked("log2",a(L,"Math")["$float!"](t))},C.$$arity=1),t.def(D,"$sin",N=function(t){return a(L,"Math").$checked("sin",a(L,"Math")["$float!"](t))},N.$$arity=1),o("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(D,"$sinh",z=function(t){return a(L,"Math").$checked("sinh",a(L,"Math")["$float!"](t))},z.$$arity=1),t.def(D,"$sqrt",P=function(t){return a(L,"Math").$checked("sqrt",a(L,"Math")["$float!"](t))},P.$$arity=1),t.def(D,"$tan",B=function(t){return t=a(L,"Math")["$float!"](t),o(t["$infinite?"]())?i(a(L,"Float"),"NAN"):a(L,"Math").$checked("tan",a(L,"Math")["$float!"](t))},B.$$arity=1),o("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(D,"$tanh",q=function(t){return a(L,"Math").$checked("tanh",a(L,"Math")["$float!"](t))},q.$$arity=1)}(n[0],n)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),f=t.truthy,_=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),$.$require("corelib/numeric"),function($,o,_){function d(){}var h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y=d=c($,o,"Complex",d),W=Y.$$proto,K=[Y].concat(_);return W.real=W.imag=s,t.defs(Y,"$rect",h=function(t,e){var r,n,i,a=this;return null==e&&(e=0),f(f(r=f(n=f(i=l(K,"Numeric")["$==="](t))?t["$real?"]():i)?l(K,"Numeric")["$==="](e):n)?e["$real?"]():r)||a.$raise(l(K,"TypeError"),"not a real"),a.$new(t,e)},h.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"rectangular","rect")}(t.get_singleton_class(Y),K),t.defs(Y,"$polar",p=function(t,r){var n,i,a,$=this;return null==r&&(r=0),f(f(n=f(i=f(a=l(K,"Numeric")["$==="](t))?t["$real?"]():a)?l(K,"Numeric")["$==="](r):i)?r["$real?"]():n)||$.$raise(l(K,"TypeError"),"not a real"),$.$new(e(t,l(K,"Math").$cos(r)),e(t,l(K,"Math").$sin(r)))},p.$$arity=-2),Y.$attr_reader("real","imag"),t.def(Y,"$initialize",y=function(t,e){var r=this;return null==e&&(e=0),r.real=t,r.imag=e},y.$$arity=-2),t.def(Y,"$coerce",m=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?[t,r]:f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?[l(K,"Complex").$new(t,0),r]:r.$raise(l(K,"TypeError"),""+t.$class()+" can't be coerced into Complex")},m.$$arity=1),t.def(Y,"$==",g=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?(e=r.real["$=="](t.$real()))?r.imag["$=="](t.$imag()):r.real["$=="](t.$real()):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?(e=r.real["$=="](t))?r.imag["$=="](0):r.real["$=="](t):t["$=="](r)},g.$$arity=1),t.def(Y,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.def(Y,"$+",b=function(t){var e,n=this;return f(l(K,"Complex")["$==="](t))?n.$Complex(r(n.real,t.$real()),r(n.imag,t.$imag())):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?n.$Complex(r(n.real,t),n.imag):n.$__coerced__("+",t)},b.$$arity=1),t.def(Y,"$-",w=function(t){var e,r=this;return f(l(K,"Complex")["$==="](t))?r.$Complex(n(r.real,t.$real()),n(r.imag,t.$imag())):f(f(e=l(K,"Numeric")["$==="](t))?t["$real?"]():e)?r.$Complex(n(r.real,t),r.imag):r.$__coerced__("-",t)},w.$$arity=1),t.def(Y,"$*",k=function(t){var i,a=this;return f(l(K,"Complex")["$==="](t))?a.$Complex(n(e(a.real,t.$real()),e(a.imag,t.$imag())),r(e(a.real,t.$imag()),e(a.imag,t.$real()))):f(f(i=l(K,"Numeric")["$==="](t))?t["$real?"]():i)?a.$Complex(e(a.real,t),e(a.imag,t)):a.$__coerced__("*",t)},k.$$arity=1),t.def(Y,"$/",E=function(t){var r,n,a,$,o=this;return f(l(K,"Complex")["$==="](t))?f(f(r=f(n=f(a=f($=l(K,"Number")["$==="](o.real))?o.real["$nan?"]():$)?a:f($=l(K,"Number")["$==="](o.imag))?o.imag["$nan?"]():$)?n:f(a=l(K,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():a)?r:f(n=l(K,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?l(K,"Complex").$new(u(l(K,"Float"),"NAN"),u(l(K,"Float"),"NAN")):i(e(o,t.$conj()),t.$abs2()):f(f(r=l(K,"Numeric")["$==="](t))?t["$real?"]():r)?o.$Complex(o.real.$quo(t),o.imag.$quo(t)):o.$__coerced__("/",t)},E.$$arity=1),t.def(Y,"$**",x=function($){var o,u,c,_,d=this,h=s,p=s,y=s,m=s,g=s,v=s,b=s,w=s,k=s,E=s,x=s;if($["$=="](0))return l(K,"Complex").$new(1,0);if(f(l(K,"Complex")["$==="]($)))return u=d.$polar(),o=t.to_ary(u),h=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,y=$.$real(),m=$.$imag(),g=l(K,"Math").$exp(n(e(y,l(K,"Math").$log(h)),e(m,p))),v=r(e(p,y),e(m,l(K,"Math").$log(h))),l(K,"Complex").$polar(g,v);if(f(l(K,"Integer")["$==="]($))){if(f(a($,0))){for(b=d,w=b,k=n($,1);f(k["$!="](0));){for(c=k.$divmod(2),u=t.to_ary(c),E=null==u[0]?s:u[0],x=null==u[1]?s:u[1],c;x["$=="](0);)b=d.$Complex(n(e(b.$real(),b.$real()),e(b.$imag(),b.$imag())),e(e(2,b.$real()),b.$imag())),k=E,_=k.$divmod(2),c=t.to_ary(_),E=null==c[0]?s:c[0],x=null==c[1]?s:c[1],_;w=e(w,b),k=n(k,1)}return w}return i(l(K,"Rational").$new(1,1),d)["$**"]($["$-@"]())}return f(f(o=l(K,"Float")["$==="]($))?o:l(K,"Rational")["$==="]($))?(u=d.$polar(),o=t.to_ary(u),h=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,l(K,"Complex").$polar(h["$**"]($),e(p,$))):d.$__coerced__("**",$)},x.$$arity=1),t.def(Y,"$abs",A=function(){var t=this;return l(K,"Math").$hypot(t.real,t.imag)},A.$$arity=0),t.def(Y,"$abs2",O=function(){var t=this;return r(e(t.real,t.real),e(t.imag,t.imag))},O.$$arity=0),t.def(Y,"$angle",S=function(){var t=this;return l(K,"Math").$atan2(t.imag,t.real)},S.$$arity=0),t.alias(Y,"arg","angle"),t.def(Y,"$conj",M=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},M.$$arity=0),t.alias(Y,"conjugate","conj"),t.def(Y,"$denominator",T=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},T.$$arity=0),t.alias(Y,"divide","/"),t.def(Y,"$eql?",R=function(t){var e,r,n=this;return f(e=f(r=l(K,"Complex")["$==="](t))?n.real.$class()["$=="](n.imag.$class()):r)?n["$=="](t):e},R.$$arity=1),t.def(Y,"$fdiv",I=function(t){var e=this;return f(l(K,"Numeric")["$==="](t))||e.$raise(l(K,"TypeError"),""+t.$class()+" can't be coerced into Complex"),i(e,t)},I.$$arity=1),t.def(Y,"$finite?",C=function(){var t,e=this;return f(t=e.real["$finite?"]())?e.imag["$finite?"]():t},C.$$arity=0),t.def(Y,"$hash",N=function(){var t=this;return"Complex:"+t.real+":"+t.imag},N.$$arity=0),t.alias(Y,"imaginary","imag"),t.def(Y,"$infinite?",z=function(){var t,e=this;return f(t=e.real["$infinite?"]())?t:e.imag["$infinite?"]()},z.$$arity=0),t.def(Y,"$inspect",P=function(){var t=this;return"("+t+")"},P.$$arity=0),t.alias(Y,"magnitude","abs"),t.udef(Y,"$negative?"),t.def(Y,"$numerator",B=function(){var t=this,r=s;return r=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(r,t.real.$denominator())),e(t.imag.$numerator(),i(r,t.imag.$denominator())))},B.$$arity=0),t.alias(Y,"phase","arg"),t.def(Y,"$polar",q=function(){var t=this;return[t.$abs(),t.$arg()]},q.$$arity=0),t.udef(Y,"$positive?"),t.alias(Y,"quo","/"),t.def(Y,"$rationalize",D=function(t){var e=this;return arguments.length>1&&e.$raise(l(K,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f(e.imag["$!="](0))&&e.$raise(l(K,"RangeError"),"can't' convert "+e+" into Rational"),e.$real().$rationalize(t)},D.$$arity=-1),t.def(Y,"$real?",L=function(){return!1},L.$$arity=0),t.def(Y,"$rect",F=function(){var t=this;return[t.real,t.imag]},F.$$arity=0),t.alias(Y,"rectangular","rect"),t.def(Y,"$to_f",j=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},j.$$arity=0),t.def(Y,"$to_i",U=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},U.$$arity=0),t.def(Y,"$to_r",H=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(K,"RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},H.$$arity=0),t.def(Y,"$to_s",G=function(){var t,e,n,i=this,a=s;return a=i.real.$inspect(),a=r(a,function(){return f(f(t=f(e=f(n=l(K,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"}()),a=r(a,i.imag.$abs().$inspect()),f(f(t=l(K,"Number")["$==="](i.imag))?f(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&(a=r(a,"*")),r(a,"i")},G.$$arity=0),t.const_set(K[0],"I",Y.$new(0,1))}(o[0],l(o,"Numeric"),o),function(e,r){var n,i,a=n=_(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$Complex",i=function(t,e){return null==e&&(e=s),f(e)?l($,"Complex").$new(t,e):l($,"Complex").$new(t,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,u=[],l=t.nil,c=t.const_get_qualified,f=t.const_get_relative,_=(t.breaker,t.slice,t.klass),d=t.truthy,h=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,u,h){function p(){}var y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U=p=_(s,u,"Rational",p),H=U.$$proto,G=[U].concat(h);return H.num=H.den=l,t.defs(U,"$reduce",y=function(t,n){var i=this,a=l;if(t=t.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(f(G,"ZeroDivisionError"),"divided by 0");else if(d(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return i.$new(t,n);return a=t.$gcd(n),i.$new(r(t,a),r(n,a))},y.$$arity=2),t.defs(U,"$convert",m=function(t,e){var n,i,a=this;return d(d(n=t["$nil?"]())?n:e["$nil?"]())&&a.$raise(f(G,"TypeError"),"cannot convert nil into Rational"),d(d(n=f(G,"Integer")["$==="](t))?f(G,"Integer")["$==="](e):n)?a.$reduce(t,e):(d(d(n=d(i=f(G,"Float")["$==="](t))?i:f(G,"String")["$==="](t))?n:f(G,"Complex")["$==="](t))&&(t=t.$to_r()),d(d(n=d(i=f(G,"Float")["$==="](e))?i:f(G,"String")["$==="](e))?n:f(G,"Complex")["$==="](e))&&(e=e.$to_r()),d(d(n=e["$equal?"](1))?f(G,"Integer")["$==="](t)["$!"]():n)?f(G,"Opal")["$coerce_to!"](t,f(G,"Rational"),"to_r"):d(d(n=f(G,"Numeric")["$==="](t))?f(G,"Numeric")["$==="](e):n)?r(t,e):a.$reduce(t,e))},m.$$arity=2),t.def(U,"$initialize",g=function(t,e){var r=this;return r.num=t,r.den=e},g.$$arity=2),t.def(U,"$numerator",v=function(){var t=this;return t.num},v.$$arity=0),t.def(U,"$denominator",b=function(){var t=this;return t.den},b.$$arity=0),t.def(U,"$coerce",w=function(t){var e=this,r=l;return function(){return r=t,f(G,"Rational")["$==="](r)?[t,e]:f(G,"Integer")["$==="](r)?[t.$to_r(),e]:f(G,"Float")["$==="](r)?[t,e.$to_f()]:l}()},w.$$arity=1),t.def(U,"$==",k=function(t){var e,r=this,n=l;return function(){return n=t,f(G,"Rational")["$==="](n)?(e=r.num["$=="](t.$numerator()))?r.den["$=="](t.$denominator()):r.num["$=="](t.$numerator()):f(G,"Integer")["$==="](n)?(e=r.num["$=="](t))?r.den["$=="](1):r.num["$=="](t):f(G,"Float")["$==="](n)?r.$to_f()["$=="](t):t["$=="](r)}()},k.$$arity=1),t.def(U,"$<=>",E=function(t){var e=this,r=l;return function(){return r=t,f(G,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):f(G,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):f(G,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)}()},E.$$arity=1),t.def(U,"$+",x=function(t){var e=this,r=l,n=l,$=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=a(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(n,$)):f(G,"Integer")["$==="](r)?e.$Rational(a(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?a(e.$to_f(),t):e.$__coerced__("+",t)}()},x.$$arity=1),t.def(U,"$-",A=function(t){var e=this,r=l,a=l,$=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(a=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),$=i(e.den,t.$denominator()),e.$Rational(a,$)):f(G,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):f(G,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)}()},A.$$arity=1),t.def(U,"$*",O=function(t){var e=this,r=l,n=l,a=l;return function(){return r=t,f(G,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),a=i(e.den,t.$denominator()),e.$Rational(n,a)):f(G,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):f(G,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)}()},O.$$arity=1),t.def(U,"$/",S=function(t){var e=this,n=l,a=l,$=l;return function(){return n=t,f(G,"Rational")["$==="](n)?(a=i(e.num,t.$denominator()),$=i(e.den,t.$numerator()),e.$Rational(a,$)):f(G,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):f(G,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)}()},S.$$arity=1),t.def(U,"$**",M=function(t){var r,n=this,i=l;return function(){return i=t,f(G,"Integer")["$==="](i)?d((r=n["$=="](0))?e(t,0):n["$=="](0))?c(f(G,"Float"),"INFINITY"):d($(t,0))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):d(e(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):f(G,"Float")["$==="](i)?n.$to_f()["$**"](t):f(G,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?d(e(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):d((r=n["$=="](0))?e(t,0):n["$=="](0))?n.$raise(f(G,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)}()},M.$$arity=1),t.def(U,"$abs",T=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},T.$$arity=0),t.def(U,"$ceil",R=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},R.$$arity=-1),t.alias(U,"divide","/"),t.def(U,"$floor",I=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},I.$$arity=-1),t.def(U,"$hash",C=function(){var t=this;return"Rational:"+t.num+":"+t.den},C.$$arity=0),t.def(U,"$inspect",N=function(){var t=this;return"("+t+")"},N.$$arity=0),t.alias(U,"quo","/"),t.def(U,"$rationalize",z=function(t){var e=this;if(arguments.length>1&&e.$raise(f(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return e;for(var i,$,s,u,l,c=t.$abs(),_=n(e,c),d=a(e,c),h=0,p=1,y=1,m=0;;){if(s=_.$ceil(),o(s,d))break;u=s-1,i=u*p+h,$=u*m+y,l=r(1,n(d,u)),d=r(1,n(_,u)),_=l,h=p,y=m,p=i,m=$}return e.$Rational(s*p+h,s*m+y)},z.$$arity=-1),t.def(U,"$round",P=function(t){var n=this,$=l,o=l,s=l;return null==t&&(t=0),t["$=="](0)?n.num["$=="](0)?0:n.den["$=="](1)?n.num:($=a(i(n.num.$abs(),2),n.den),o=i(n.den,2),s=r($,o).$truncate(),d(e(n.num,0))?s["$-@"]():s):n.$with_precision("round",t)},P.$$arity=-1),t.def(U,"$to_f",B=function(){var t=this;return r(t.num,t.den)},B.$$arity=0),t.def(U,"$to_i",q=function(){var t=this;return t.$truncate()},q.$$arity=0),t.def(U,"$to_r",D=function(){var t=this;return t},D.$$arity=0),t.def(U,"$to_s",L=function(){var t=this;return""+t.num+"/"+t.den},L.$$arity=0),t.def(U,"$truncate",F=function(t){var r=this;return null==t&&(t=0),t["$=="](0)?d(e(r.num,0))?r.$ceil():r.$floor():r.$with_precision("truncate",t)},F.$$arity=-1),t.def(U,"$with_precision",j=function(t,n){var a=this,$=l,o=l;return d(f(G,"Integer")["$==="](n))||a.$raise(f(G,"TypeError"),"not an Integer"),$=10["$**"](n),o=i(a,$),d(e(n,1))?r(o.$send(t),$).$to_i():a.$Rational(o.$send(t),$)},j.$$arity=2),l&&"with_precision"}(u[0],f(u,"Numeric"),u),function(e,r){var n,i,a=n=h(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$Rational",i=function(t,e){return null==e&&(e=1),f($,"Rational").$convert(t,e)},i.$$arity=-2)}(u[0],u)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],u=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice),f=t.klass,_=t.truthy,d=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,h){function p(){}function y(t,e,r,n,i,a){if(t=t.$$is_string?parseInt(t,10):l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"),e===u)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int");return(e<1||e>12)&&$t.$raise(l(ot,"ArgumentError"),"month out of range: "+e),e-=1,r=r===u?1:r.$$is_string?parseInt(r,10):l(ot,"Opal")["$coerce_to!"](r,l(ot,"Integer"),"to_int"),(r<1||r>31)&&$t.$raise(l(ot,"ArgumentError"),"day out of range: "+r),n=n===u?0:n.$$is_string?parseInt(n,10):l(ot,"Opal")["$coerce_to!"](n,l(ot,"Integer"),"to_int"),(n<0||n>24)&&$t.$raise(l(ot,"ArgumentError"),"hour out of range: "+n),i=i===u?0:i.$$is_string?parseInt(i,10):l(ot,"Opal")["$coerce_to!"](i,l(ot,"Integer"),"to_int"),(i<0||i>59)&&$t.$raise(l(ot,"ArgumentError"),"min out of range: "+i),a===u?a=0:a.$$is_number||(a=a.$$is_string?parseInt(a,10):l(ot,"Opal")["$coerce_to!"](a,l(ot,"Integer"),"to_int")),(a<0||a>60)&&$t.$raise(l(ot,"ArgumentError"),"sec out of range: "+a),[t,e,r,n,i,a]}var m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B,q,D,L,F,j,U,H,G,Y,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,at,$t=p=f(o,s,"Time",p),ot=($t.$$proto,[$t].concat(h));$t.$include(l(ot,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ut=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs($t,"$at",m=function(t,e){var r,n=this;return l(ot,"Time")["$==="](t)?(void 0!==e&&n.$raise(l(ot,"TypeError"),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},m.$$arity=-2),t.defs($t,"$new",g=function(t,e,r,n,i,a,$){var o=this;null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u);var s,c;return void 0===t?new Date:($!==u&&o.$raise(l(ot,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),s=y(t,e,r,n,i,a),t=s[0],e=s[1],r=s[2],n=s[3],i=s[4],a=s[5],c=new Date(t,e,r,n,i,0,1e3*a),t<100&&c.setFullYear(t),c)},g.$$arity=-1),t.defs($t,"$local",v=function(t,e,r,n,i,a,$,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],a=f[0]),f=y(t,e,r,n,i,a),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],a=f[5],_=new Date(t,e,r,n,i,0,1e3*a),t<100&&_.setFullYear(t),_},v.$$arity=-2),t.defs($t,"$gm",b=function(t,e,r,n,i,a,$,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==a&&(a=u),null==$&&($=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var f,_;return 10===arguments.length&&(f=c.call(arguments),t=f[5],e=f[4],r=f[3],n=f[2],i=f[1],a=f[0]),f=y(t,e,r,n,i,a),t=f[0],e=f[1],r=f[2],n=f[3],i=f[4],a=f[5],_=new Date(Date.UTC(t,e,r,n,i,0,1e3*a)),t<100&&_.setUTCFullYear(t),_.is_utc=!0,_},b.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class($t),ot),t.defs($t,"$now",w=function(){var t=this;return t.$new()},w.$$arity=0),t.def($t,"$+",k=function(t){var e=this;_(l(ot,"Time")["$==="](t))&&e.$raise(l(ot,"TypeError"),"time + time?"),t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()+1e3*t);return r.is_utc=e.is_utc,r},k.$$arity=1),t.def($t,"$-",E=function(t){var e=this;if(_(l(ot,"Time")["$==="](t)))return(e.getTime()-t.getTime())/1e3;t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()-1e3*t);return r.is_utc=e.is_utc,r},E.$$arity=1),t.def($t,"$<=>",x=function(t){var n=this,i=u;return _(l(ot,"Time")["$==="](t))?n.$to_f()["$<=>"](t.$to_f()):(i=t["$<=>"](n),_(i["$nil?"]())?u:_(e(i,0))?-1:_(r(i,0))?1:0)},x.$$arity=1),t.def($t,"$==",A=function(t){var e,r=this;return _(e=l(ot,"Time")["$==="](t))?r.$to_f()===t.$to_f():e},A.$$arity=1),t.def($t,"$asctime",O=function(){var t=this;return t.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias($t,"ctime","asctime"),t.def($t,"$day",S=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},S.$$arity=0),t.def($t,"$yday",M=function(){var t=this,e=u,r=u,$=u;return e=l(ot,"Time").$new(t.$year()).$to_i(),r=l(ot,"Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),$=86400,n(i(a(r,e),$).$round(),1)},M.$$arity=0),t.def($t,"$isdst",T=function(){var t=this,e=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),r.getTimezoneOffset())},T.$$arity=0),t.alias($t,"dst?","isdst"),t.def($t,"$dup",R=function(){var t=this,e=u;return e=new Date(t.getTime()),e.$copy_instance_variables(t),e.$initialize_dup(t),e},R.$$arity=0),t.def($t,"$eql?",I=function(t){var e,r=this;return _(e=t["$is_a?"](l(ot,"Time")))?r["$<=>"](t)["$zero?"]():e},I.$$arity=1),t.def($t,"$friday?",C=function(){var t=this;return 5==t.$wday()},C.$$arity=0),t.def($t,"$hash",N=function(){var t=this;return"Time:"+t.getTime()},N.$$arity=0),t.def($t,"$hour",z=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},z.$$arity=0),t.def($t,"$inspect",P=function(){var t=this;return _(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z");
},P.$$arity=0),t.alias($t,"mday","day"),t.def($t,"$min",B=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},B.$$arity=0),t.def($t,"$mon",q=function(){var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},q.$$arity=0),t.def($t,"$monday?",D=function(){var t=this;return 1==t.$wday()},D.$$arity=0),t.alias($t,"month","mon"),t.def($t,"$saturday?",L=function(){var t=this;return 6==t.$wday()},L.$$arity=0),t.def($t,"$sec",F=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},F.$$arity=0),t.def($t,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.def($t,"$usec",U=function(){var t=this;return 1e3*t.getMilliseconds()},U.$$arity=0),t.def($t,"$zone",H=function(){var t,e=this,r=e.toString();return t=r.indexOf("(")==-1?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==t&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t},H.$$arity=0),t.def($t,"$getgm",G=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},G.$$arity=0),t.alias($t,"getutc","getgm"),t.def($t,"$gmtime",Y=function(){var t=this;return t.is_utc=!0,t},Y.$$arity=0),t.alias($t,"utc","gmtime"),t.def($t,"$gmt?",W=function(){var t=this;return t.is_utc===!0},W.$$arity=0),t.def($t,"$gmt_offset",K=function(){var t=this;return 60*-t.getTimezoneOffset()},K.$$arity=0),t.def($t,"$strftime",X=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,a){var $="",o=r.indexOf("0")!==-1,s=r.indexOf("-")===-1,u=r.indexOf("_")!==-1,l=r.indexOf("^")!==-1,c=r.indexOf("#")!==-1,f=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&u&&(r.indexOf("0")<r.indexOf("_")?o=!1:u=!1),a){case"Y":$+=e.$year();break;case"C":o=!u,$+=Math.round(e.$year()/100);break;case"y":o=!u,$+=e.$year()%100;break;case"m":o=!u,$+=e.$mon();break;case"B":$+=ct[e.$mon()-1];break;case"b":case"h":u=!o,$+=lt[e.$mon()-1];break;case"d":o=!u,$+=e.$day();break;case"e":u=!o,$+=e.$day();break;case"j":$+=e.$yday();break;case"H":o=!u,$+=e.$hour();break;case"k":u=!o,$+=e.$hour();break;case"I":o=!u,$+=e.$hour()%12||12;break;case"l":u=!o,$+=e.$hour()%12||12;break;case"P":$+=e.$hour()>=12?"pm":"am";break;case"p":$+=e.$hour()>=12?"PM":"AM";break;case"M":o=!u,$+=e.$min();break;case"S":o=!u,$+=e.$sec();break;case"L":o=!u,n=isNaN(n)?3:n,$+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,$+=e.getMilliseconds().toString().$rjust(3,"0"),$=$.$ljust(n,"0");break;case"z":var _=e.getTimezoneOffset(),h=Math.floor(Math.abs(_)/60),p=Math.abs(_)%60;$+=_<0?"+":"-",$+=h<10?"0":"",$+=h,f>0&&($+=":"),$+=p<10?"0":"",$+=p,f>1&&($+=":00");break;case"Z":$+=e.$zone();break;case"A":$+=st[e.$wday()];break;case"a":$+=ut[e.$wday()];break;case"u":$+=e.$wday()+1;break;case"w":$+=e.$wday();break;case"V":$+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=e.$cweek_cyear()["$[]"](1);break;case"g":$+=e.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":$+=e.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=e.$strftime("%m/%d/%y");break;case"F":$+=e.$strftime("%Y-%m-%d");break;case"v":$+=e.$strftime("%e-%^b-%4Y");break;case"r":$+=e.$strftime("%I:%M:%S %p");break;case"R":$+=e.$strftime("%H:%M");break;case"T":case"X":$+=e.$strftime("%H:%M:%S");break;default:return t}return l&&($=$.toUpperCase()),c&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||u)&&($=$.$rjust(isNaN(n)?2:n,u?" ":"0")),$})},X.$$arity=1),t.def($t,"$sunday?",V=function(){var t=this;return 0==t.$wday()},V.$$arity=0),t.def($t,"$thursday?",J=function(){var t=this;return 4==t.$wday()},J.$$arity=0),t.def($t,"$to_a",Z=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},Z.$$arity=0),t.def($t,"$to_f",Q=function(){var t=this;return t.getTime()/1e3},Q.$$arity=0),t.def($t,"$to_i",tt=function(){var t=this;return parseInt(t.getTime()/1e3,10)},tt.$$arity=0),t.alias($t,"to_s","inspect"),t.def($t,"$tuesday?",et=function(){var t=this;return 2==t.$wday()},et.$$arity=0),t.alias($t,"tv_sec","to_i"),t.alias($t,"tv_usec","usec"),t.alias($t,"utc?","gmt?"),t.alias($t,"gmtoff","gmt_offset"),t.alias($t,"utc_offset","gmt_offset"),t.def($t,"$wday",rt=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},rt.$$arity=0),t.def($t,"$wednesday?",nt=function(){var t=this;return 3==t.$wday()},nt.$$arity=0),t.def($t,"$year",it=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},it.$$arity=0),t.def($t,"$cweek_cyear",at=function(){var t,e=this,r=u,o=u,s=u,c=u,f=u,d=u,h=u,p=u;return r=l(ot,"Time").$new(e.$year(),1,1),o=r.$wday(),s=0,c=e.$year(),_(_(t=$(o,4))?o["$!="](0):t)?f=a(o,1):(f=a(a(o,7),1),f["$=="](-8)&&(f=-1)),d=i(n(e.$yday(),f),7).$ceil(),_($(d,0))?l(ot,"Time").$new(a(e.$year(),1),12,31).$cweek_cyear():(d["$=="](53)&&(h=l(ot,"Time").$new(e.$year(),12,31),p=h.$wday(),_(_(t=$(p,3))?p["$!="](0):t)&&(d=1,c=n(c,1))),[d,c])},at.$$arity=0),u&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,o=[],s=t.nil,u=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.klass),c=t.truthy,f=t.send,_=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),$.$require("corelib/enumerable"),function($,o,d){function h(){}var p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z=h=l($,o,"Struct",h),P=(z.$$proto,[z].concat(d));return z.$include(u(P,"Enumerable")),t.defs(z,"$new",p=function(e,r,n){var i,a,$,o,l,d=this,h=p.$$p,y=h||s,m=s;if($=t.slice.call(arguments,1,arguments.length),n=t.extract_kwargs($),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=_([],{})}if(o=n.$$smap.keyword_init,null==o&&(o=!1),l=0<$.length?$.splice(0,$.length-0):[],h&&(p.$$p=null),c(e))try{e=u(P,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[u(P,"TypeError"),u(P,"NameError")]))throw r;try{l.$unshift(e),e=s}finally{t.pop_exception()}}return f(l,"map",[],(i=function(t){i.$$s||this;return null==t&&(t=s),u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str")},i.$$s=d,i.$$arity=1,i)),m=f(u(P,"Class"),"new",[d],(a=function(){var e,r=a.$$s||this;return f(l,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){var n;e.$$proto,[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=this,i=s,a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i=n.$allocate(),i.$$data={},f(i,"initialize",t.to_a(r)),i},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),P)},a.$$s=d,a.$$arity=0,a)),c(y)&&f(m,"module_eval",[],y.$to_proc()),m.$$keyword_init=o,c(e)&&u(P,"Struct").$const_set(e,m),m},p.$$arity=-2),t.defs(z,"$define_struct_attribute",y=function(t){var e,r,n=this;return n["$=="](u(P,"Struct"))&&n.$raise(u(P,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),f(n,"define_method",[t],(e=function(){var r=e.$$s||this;return r.$$data[t]},e.$$s=n,e.$$arity=0,e)),f(n,"define_method",[""+t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=n,r.$$arity=1,r))},y.$$arity=1),t.defs(z,"$members",m=function(){var t,e=this;return null==e.members&&(e.members=s),e["$=="](u(P,"Struct"))&&e.$raise(u(P,"ArgumentError"),"the Struct class has no members"),e.members=c(t=e.members)?t:[]},m.$$arity=0),t.defs(z,"$inherited",g=function(t){var e,r=this,n=s;return null==r.members&&(r.members=s),n=r.members,f(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return t.members=n},e.$$s=r,e.$$arity=0,e))},g.$$arity=1),t.def(z,"$initialize",v=function(n){var i,a,$,o,l=this,d=s,h=s,p=arguments.length,y=p-0;y<0&&(y=0),o=new Array(y);for(var m=0;m<p;m++)o[m-0]=arguments[m];return c(l.$class().$$keyword_init)?(d=c(i=o.$last())?i:_([],{}),c(c(i=e(o.$length(),1))?i:1===o.length&&!d.$$is_hash)&&l.$raise(u(P,"ArgumentError"),"wrong number of arguments (given "+o.$length()+", expected 0)"),h=r(d.$keys(),l.$class().$members()),c(h["$any?"]())&&l.$raise(u(P,"ArgumentError"),"unknown keywords: "+h.$join(", ")),f(l.$class().$members(),"each",[],(a=function(e){var n=a.$$s||this,i=s;return null==e&&(e=s),i=[e,d["$[]"](e)],f(n,"[]=",t.to_a(i)),i[r(i.length,1)]},a.$$s=l,a.$$arity=1,a))):(c(e(o.$length(),l.$class().$members().$length()))&&l.$raise(u(P,"ArgumentError"),"struct size differs"),f(l.$class().$members(),"each_with_index",[],($=function(e,n){var i=$.$$s||this,a=s;return null==e&&(e=s),null==n&&(n=s),a=[e,o["$[]"](n)],f(i,"[]=",t.to_a(a)),a[r(a.length,1)]},$.$$s=l,$.$$arity=2,$)))},v.$$arity=-1),t.def(z,"$members",b=function(){var t=this;return t.$class().$members()},b.$$arity=0),t.def(z,"$hash",w=function(){var t=this;return u(P,"Hash").$new(t.$$data).$hash()},w.$$arity=0),t.def(z,"$[]",k=function(t){var e=this;return c(u(P,"Integer")["$==="](t))?(c(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(u(P,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),c(i(t,e.$class().$members().$size()))&&e.$raise(u(P,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):c(u(P,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(u(P,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(u(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str"),e.$$data[t]},k.$$arity=1),t.def(z,"$[]=",E=function(t,e){var r=this;return c(u(P,"Integer")["$==="](t))?(c(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(u(P,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),c(i(t,r.$class().$members().$size()))&&r.$raise(u(P,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):c(u(P,"String")["$==="](t))?c(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(u(P,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(u(P,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(P,"Opal")["$coerce_to!"](t,u(P,"String"),"to_str"),r.$$data[t]=e},E.$$arity=2),t.def(z,"$==",x=function(t){function e(t,r){var a,$,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for(a in t.$$data)if($=t.$$data[a],o=r.$$data[a],u(P,"Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&i.hasOwnProperty(o.$__id__())||e($,o)))return!1}else if(!$["$=="](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},x.$$arity=1),t.def(z,"$eql?",A=function(t){function e(t,r){var a,$,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for(a in t.$$data)if($=t.$$data[a],o=r.$$data[a],u(P,"Struct")["$==="]($)){if(!(n.hasOwnProperty($.$__id__())&&i.hasOwnProperty(o.$__id__())||e($,o)))return!1}else if(!$["$eql?"](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},A.$$arity=1),t.def(z,"$each",O=function(){var e,r,n=this,i=O.$$p,a=i||s;return i&&(O.$$p=null),a===s?f(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(a,n["$[]"](e))},r.$$s=n,r.$$arity=1,r)),n)},O.$$arity=0),t.def(z,"$each_pair",S=function(){var e,r,n=this,i=S.$$p,a=i||s;return i&&(S.$$p=null),a===s?f(n,"enum_for",["each_pair"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(f(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(a,[e,n["$[]"](e)])},r.$$s=n,r.$$arity=1,r)),n)},S.$$arity=0),t.def(z,"$length",M=function(){var t=this;return t.$class().$members().$length()},M.$$arity=0),t.alias(z,"size","length"),t.def(z,"$to_a",T=function(){var t,e=this;return f(e.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=e,t.$$arity=1,t))},T.$$arity=0),t.alias(z,"values","to_a"),t.def(z,"$inspect",R=function(){var t,e,r=this,n=s;return n="#<struct ",c(c(t=u(P,"Struct")["$==="](r))?r.$class().$name():t)&&(n=a(n,""+r.$class()+" ")),n=a(n,f(r.$each_pair(),"map",[],(e=function(t,r){e.$$s||this;return null==t&&(t=s),null==r&&(r=s),""+t+"="+r.$inspect()},e.$$s=r,e.$$arity=2,e)).$join(", ")),n=a(n,">")},R.$$arity=0),t.alias(z,"to_s","inspect"),t.def(z,"$to_h",I=function(){var e,n=this;return f(n.$class().$members(),"each_with_object",[_([],{})],(e=function(n,i){var a=e.$$s||this,$=s;return null==n&&(n=s),null==i&&(i=s),$=[n,a["$[]"](n)],f(i,"[]=",t.to_a($)),$[r($.length,1)]},e.$$s=n,e.$$arity=2,e))},I.$$arity=0),t.def(z,"$values_at",C=function(t){var e,r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var $=0;$<i;$++)r[$-0]=arguments[$];r=f(r,"map",[],(e=function(t){e.$$s||this;return null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=n,e.$$arity=1,e)).$flatten();for(var o=[],l=0,c=r.length;l<c;l++)r[l].$$is_number||n.$raise(u(P,"TypeError"),"no implicit conversion of "+r[l].$class()+" into Integer"),o.push(n["$[]"](r[l]));return o},C.$$arity=-1),t.def(z,"$dig",N=function(e,r){var n,i=this,a=s,$=arguments.length,o=$-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<$;l++)n[l-1]=arguments[l];return a=function(){return c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s}(),a===s||0===n.length?a:(c(a["$respond_to?"]("dig"))||i.$raise(u(P,"TypeError"),""+a.$class()+" does not have #dig method"),f(a,"dig",t.to_a(n)))},N.$$arity=-2),s&&"dig"}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,a=t.const_get_relative,$=(t.breaker,t.slice,t.klass),o=t.module,s=t.send,u=t.gvars,l=t.truthy,c=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){function c(){}var f,_,d,h,p=c=$(e,r,"IO",c),y=p.$$proto,m=[p].concat(i);return y.tty=y.closed=n,t.const_set(m[0],"SEEK_SET",0),t.const_set(m[0],"SEEK_CUR",1),t.const_set(m[0],"SEEK_END",2),t.def(p,"$tty?",f=function(){var t=this;return t.tty},f.$$arity=0),t.def(p,"$closed?",_=function(){var t=this;return t.closed},_.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",d=function(t){var e=this;return e.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",h=function(){return n},h.$$arity=0),function(e,r){var i,a,$,c,f=i=o(e,"Writable");f.$$proto,[f].concat(r);t.def(f,"$<<",a=function(t){var e=this;return e.$write(t),e},a.$$arity=1),t.def(f,"$print",$=function(t){var e,r,i=this;null==u[","]&&(u[","]=n);var a=arguments.length,$=a-0;$<0&&($=0),r=new Array($);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(u[","])),n},$.$$arity=-1),t.def(f,"$puts",c=function(t){var e,r,i=this,a=n;null==u["/"]&&(u["/"]=n);var $=arguments.length,o=$-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<$;c++)r[c-0]=arguments[c];return a=u["/"],l(r["$empty?"]())?i.$write(u["/"]):i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([n]).$join(a)),n},c.$$arity=-1)}(m[0],m),function(e,r){var i,$,s,l,c,f=i=o(e,"Readable"),_=(f.$$proto,[f].concat(r));t.def(f,"$readbyte",$=function(){var t=this;return t.$getbyte()},$.$$arity=0),t.def(f,"$readchar",s=function(){var t=this;return t.$getc()},s.$$arity=0),t.def(f,"$readline",l=function(t){var e=this;return null==u["/"]&&(u["/"]=n),null==t&&(t=u["/"]),e.$raise(a(_,"NotImplementedError"))},l.$$arity=-1),t.def(f,"$readpartial",c=function(t,e){var r=this;return null==e&&(e=n),r.$raise(a(_,"NotImplementedError"))},c.$$arity=-2)}(m[0],m)}(r[0],null,r),t.const_set(r[0],"STDERR",u.stderr=a(r,"IO").$new()),t.const_set(r[0],"STDIN",u.stdin=a(r,"IO").$new()),t.const_set(r[0],"STDOUT",u.stdout=a(r,"IO").$new());var f=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){f.log(t)}],s(a(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){f.warn(t)}],s(a(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],a(r,"STDOUT").$extend(i(a(r,"IO"),"Writable")),a(r,"STDERR").$extend(i(a(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],a=t.nil,$=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return $(i,"Object").$include(t)},r.$$arity=1),a&&"include"},Opal.modules["corelib/dir"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$[]"]),function(e,$,o){function s(){}var u=s=i(e,$,"Dir",s),l=(u.$$proto,[u].concat(o));return function(e,i){var $,o,s,u=(e.$$proto,[e].concat(i));return t.def(e,"$chdir",$=function(e){var n=$.$$p,i=n||r,a=r;return n&&($.$$p=null),function(){try{return a=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=a}}()},$.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return a(t=n(u,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(u),l)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.range,u=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(n,l,c){function f(){}var _=f=$(n,l,"File",f),d=(_.$$proto,[_].concat(c)),h=i;return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),h=/^[a-zA-Z]:(?:\\|\/)/,function(n,$){function l(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"String"),"to_str")}function c(){return a(b,"ALT_SEPARATOR")===i?t.escape_regexp(a(b,"SEPARATOR")):t.escape_regexp(e(a(b,"SEPARATOR"),a(b,"ALT_SEPARATOR")))}var f,_,d,p,y,m,g,v,b=(n.$$proto,[n].concat($));return t.def(n,"$expand_path",f=function(t,r){var n,$=this,s=i,u=i,l=i,f=i,_=i,d=i,p=i,y=i,m=i,g=i,v=i;null==r&&(r=i),s=a(b,"SEPARATOR"),u=c(),l=[],o("~"===t[0]||r&&"~"===r[0])&&(f=a(b,"Dir").$home(),o(f)||$.$raise(a(b,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),o(f["$start_with?"](s))||$.$raise(a(b,"ArgumentError"),"non-absolute home"),f=e(f,s),_=new RegExp("^\\~(?:"+s+"|$)"),t=t.$sub(_,f),o(r)&&(r=r.$sub(_,f))),r=o(n=r)?n:a(b,"Dir").$pwd(),d=t.substr(0,s.length)===s||h.test(t),p=r.substr(0,s.length)===s||h.test(r),o(d)?(y=t.$split(new RegExp("["+u+"]")),m=h.test(t)?"":t.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=!0):(y=e(r.$split(new RegExp("["+u+"]")),t.$split(new RegExp("["+u+"]"))),m=h.test(r)?"":r.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=p);for(var w,k=0,E=y.length;k<E;k++)w=y[k],w===i||""===w&&(0===l.length||g)||"."===w&&(0===l.length||g)||(".."===w?l.pop():l.push(w));return g||"."===y[0]||l.$unshift("."),v=l.$join(s),o(g)&&(v=e(m,v)),v},f.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",_=function(t){var e=i;e=c(),t=l(t);var r=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?r?"/":".":t},_.$$arity=1),t.def(n,"$basename",d=function(e,r){var n=i;return null==r&&(r=i),n=c(),e=l(e),0==e.length?e:(r=r!==i?a(b,"Opal")["$coerce_to!"](r,a(b,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+n+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(""+r+"$"),"")),e)},d.$$arity=-2),t.def(n,"$extname",p=function(n){var a,$=this,u=i,c=i;return n=l(n),u=$.$basename(n),o(u["$empty?"]())?"":(c=u["$[]"](s(1,-1,!1)).$rindex("."),o(o(a=c["$nil?"]())?a:e(c,1)["$=="](r(u.$length(),1)))?"":u["$[]"](t.Range.$new(e(c,1),-1,!1)))},p.$$arity=1),t.def(n,"$exist?",y=function(e){return null!=t.modules[e]},y.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",m=function(e){var r,n=this,$=i,o=i;$=[];for(var s in t.modules)$.push(s);return e=e.$gsub(new RegExp("(^."+a(b,"SEPARATOR")+"+|"+a(b,"SEPARATOR")+"+$)")),o=u($,"find",[],(r=function(t){r.$$s||this;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},r.$$s=n,r.$$arity=1,r))},m.$$arity=1),t.def(n,"$join",g=function(t){var r,n,$,s=this,l=i,c=arguments.length,f=c-0;f<0&&(f=0),$=new Array(f);for(var _=0;_<c;_++)$[_-0]=arguments[_];return o($["$empty?"]())?"":(l="",$=u($.$flatten().$each_with_index(),"map",[],(r=function(t,n){var s;r.$$s||this;return null==t&&(t=i),null==n&&(n=i),o((s=n["$=="](0))?t["$empty?"]():n["$=="](0))?a(b,"SEPARATOR"):o((s=$.$length()["$=="](e(n,1)))?t["$empty?"]():$.$length()["$=="](e(n,1)))?a(b,"SEPARATOR"):t},r.$$s=s,r.$$arity=2,r)),$=u($,"reject",[],"empty?".$to_proc()),u($,"each_with_index",[],(n=function(t,r){var s,u=(n.$$s||this,i);return null==t&&(t=i),null==r&&(r=i),u=$["$[]"](e(r,1)),o(u["$nil?"]())?l=""+l+t:(o(o(s=t["$end_with?"](a(b,"SEPARATOR")))?u["$start_with?"](a(b,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(""+a(b,"SEPARATOR")+"+$"),"")),l=function(){return o(o(s=t["$end_with?"](a(b,"SEPARATOR")))?s:u["$start_with?"](a(b,"SEPARATOR")))?""+l+t:""+l+t+a(b,"SEPARATOR")}())},n.$$s=s,n.$$arity=2,n)),l)},g.$$arity=-1),t.def(n,"$split",v=function(t){return t.$split(a(b,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(_),d)}(n[0],a(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){var e=(t.top,[]),r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,a=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,s){function u(){}var l,c,f,_,d=u=a(e,o,"Process",u),h=(d.$$proto,[d].concat(s)),p=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",l=function(t,e){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](e)},l.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var y=process.hrtime();p=function(){var t=process.hrtime(y),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}return $(p)&&d.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(d,"$pid",c=function(){return 0},c.$$arity=0),t.defs(d,"$times",f=function(){var t=r;return t=i(h,"Time").$now().$to_f(),n(i(h,"Benchmark"),"Tms").$new(t,t,t,t,t)},f.$$arity=0),t.defs(d,"$clock_gettime",_=function(t,e){var a,o=this,s=r;null==o.__clocks__&&(o.__clocks__=r),null==e&&(e="float_second"),$(a=s=o.__clocks__["$[]"](t))?a:o.$raise(n(i(h,"Errno"),"EINVAL"),"clock_gettime("+t+") "+o.__clocks__["$[]"](t));var u=s();switch(e){case"float_second":return u/1e3;case"float_millisecond":return u/1;case"float_microsecond":return 1e3*u;case"second":return u/1e3|0;case"millisecond":return u/1|0;case"microsecond":return 1e3*u|0;case"nanosecond":return 1e6*u|0;default:o.$raise(i(h,"ArgumentError"),"unexpected unit: "+e)}},_.$$arity=-2),r&&"clock_gettime"}(e[0],null,e),function(e,n,i){function $(){}var o,s=$=a(e,n,"Signal",$);s.$$proto,[s].concat(i);return t.defs(s,"$trap",o=function(t){return r},o.$$arity=-1),r&&"trap"}(e[0],null,e),function(e,n,i){function $(){}var o,s=$=a(e,n,"GC",$);s.$$proto,[s].concat(i);return t.defs(s,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass);return function(t,e,n){function i(){}var a=i=r(t,e,"Random",i);a.$$proto,[a].concat(n);!function(t,e){function r(r,u,l){var _=[];u=1==u?{entropy:!0}:u||{};var m=$(a(u.entropy?[r,s(t)]:null==r?o():r,3),_),g=new n(_),v=function(){for(var t=g.g(f),e=h,r=0;t<p;)t=(t+r)*c,e*=c,r=g.g(1);for(;t>=y;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,$(s(g.S),t),(u.pass||l||function(t,r,n,a){return a&&(a.S&&i(a,g),t.state=function(){return i(g,{})}),n?(e[d]=t,r):t})(v,m,"global"in u?u.global:this==e,u.state)}function n(t){var e,r=t.length,n=this,i=0,a=n.i=n.j=0,$=n.S=[];for(r||(t=[r++]);i<c;)$[i]=i++;for(i=0;i<c;i++)$[i]=$[a=m&a+t[i%r]+(e=$[i])],$[a]=e;(n.g=function(t){for(var e,r=0,i=n.i,a=n.j,$=n.S;t--;)e=$[i=m&i+1],r=r*c+$[m&($[i]=$[a=m&a+e])+($[a]=e)];return n.i=i,n.j=a,r})(c)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)if(t.hasOwnProperty(r))try{n.push(a(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function $(t,e){for(var r,n=t+"",i=0;i<n.length;)e[m&i]=m&(r^=19*e[m&i])+n.charCodeAt(i++);return s(e)}function o(){try{if(u)return s(u.randomBytes(c));var e=new Uint8Array(c);return(l.crypto||l.msCrypto).getRandomValues(e),s(e)}catch(e){var r=l.navigator,n=r&&r.plugins;return[+new Date,l,n,l.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var u,l=this,c=256,f=6,_=52,d="random",h=e.pow(c,f),p=e.pow(2,_),y=2*p,m=c-1;if(e["seed"+d]=r,$(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{u=__webpack_require__(94)}catch(t){}}else __webpack_require__(85)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,n=[],i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),r.$require("corelib/random/seedrandom.js"),function(r,n,u){function l(){}var c,f,_,d,h,p,y,m,g,v=l=$(r,n,"Random",l),b=(v.$$proto,[v].concat(u));v.$attr_reader("seed","state"),t.def(v,"$initialize",c=function(t){var e=this;return null==t&&(t=a(b,"Random").$new_seed()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),e.state=t,e.$reseed(t)},c.$$arity=-1),t.def(v,"$reseed",f=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},f.$$arity=1);var w=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",_=function(){return Math.abs(w.int32())},_.$$arity=0),t.defs(v,"$rand",d=function(t){return a(b,"DEFAULT").$rand(t)},d.$$arity=-1),t.defs(v,"$srand",h=function(t){var e=i;return null==t&&(t=a(b,"Random").$new_seed()),t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),e=a(b,"DEFAULT").$seed(),a(b,"DEFAULT").$reseed(t),e},h.$$arity=-1),t.defs(v,"$urandom",p=function(t){var r,n=this;return t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),o(e(t,0))&&n.$raise(a(b,"ArgumentError"),"negative string size (or size too big)"),s(a(b,"Array"),"new",[t],(r=function(){var t=r.$$s||this;return t.$rand(255).$chr()},r.$$s=n,r.$$arity=0,r)).$join().$encode("ASCII-8BIT")},p.$$arity=1),t.const_set(b[0],"DEFAULT",v.$new(v.$new_seed())),t.def(v,"$==",y=function(t){var e,r=this;return!!o(a(b,"Random")["$==="](t))&&((e=r.$seed()["$=="](t.$seed()))?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},y.$$arity=1),t.def(v,"$bytes",m=function(t){var e,r=this;return t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),s(a(b,"Array"),"new",[t],(e=function(){var t=e.$$s||this;return t.$rand(255).$chr()},e.$$s=r,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(v,"$rand",g=function(t){function e(){return $.state++,$.$rng.quick()}function r(){return Math.floor(e()*t)}function n(){var e=t.begin,r=t.end;if(e===i||r===i)return i;var n=r-e;return n<0?i:0===n?e:(r%1!==0||e%1!==0||t.excl||n++,$.$rand(n)+e)}var $=this;return null==t?e():t.$$is_range?n():t.$$is_number?(t<=0&&$.$raise(a(b,"ArgumentError"),"invalid argument - "+t),t%1===0?r():e()*t):(t=a(b,"Opal")["$coerce_to!"](t,a(b,"Integer"),"to_int"),t<=0&&$.$raise(a(b,"ArgumentError"),"invalid argument - "+t),r())},g.$$arity=-1),i&&"rand"}(n[0],null,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s($,"Kernel").$raise(s($,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){c[t]||(c[t]=!0,a.$warn(t))}var n,i,a=t.top,$=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,r,n){function i(){}var a,$,l,c,f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O=i=u(e,r,"String",i),S=(O.$$proto,[O].concat(n)),M="String#%s not supported. Mutable String methods are not supported in Opal.";return t.def(O,"$<<",a=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("<<"))},a.$$arity=-1),t.def(O,"$capitalize!",$=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("capitalize!"))},$.$$arity=-1),t.def(O,"$chomp!",l=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("chomp!"))},l.$$arity=-1),t.def(O,"$chop!",c=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("chop!"))},c.$$arity=-1),t.def(O,"$downcase!",f=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("downcase!"))},f.$$arity=-1),t.def(O,"$gsub!",_=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("gsub!"))},_.$$arity=-1),t.def(O,"$lstrip!",d=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("lstrip!"))},d.$$arity=-1),t.def(O,"$next!",h=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("next!"))},h.$$arity=-1),t.def(O,"$reverse!",p=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("reverse!"))},p.$$arity=-1),t.def(O,"$slice!",y=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("slice!"))},y.$$arity=-1),t.def(O,"$squeeze!",m=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("squeeze!"))},m.$$arity=-1),t.def(O,"$strip!",g=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("strip!"));
},g.$$arity=-1),t.def(O,"$sub!",v=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("sub!"))},v.$$arity=-1),t.def(O,"$succ!",b=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("succ!"))},b.$$arity=-1),t.def(O,"$swapcase!",w=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("swapcase!"))},w.$$arity=-1),t.def(O,"$tr!",k=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("tr!"))},k.$$arity=-1),t.def(O,"$tr_s!",E=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("tr_s!"))},E.$$arity=-1),t.def(O,"$upcase!",x=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("upcase!"))},x.$$arity=-1),t.def(O,"$prepend",A=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),M["$%"]("prepend"))},A.$$arity=-1),o&&"prepend"}($[0],null,$),function(r,n){var i,a,$,o=i=l(r,"Kernel"),s=(o.$$proto,[o].concat(n),"Object freezing is not supported by Opal");t.def(o,"$freeze",a=function(){var t=this;return e(s),t},a.$$arity=0),t.def(o,"$frozen?",$=function(){return e(s),!1},$.$$arity=0)}($[0],$),function(r,n){var i,a,$,o,s=i=l(r,"Kernel"),u=(s.$$proto,[s].concat(n),"Object tainting is not supported by Opal");t.def(s,"$taint",a=function(){var t=this;return e(u),t},a.$$arity=0),t.def(s,"$untaint",$=function(){var t=this;return e(u),t},$.$$arity=0),t.def(s,"$tainted?",o=function(){return e(u),!1},o.$$arity=0)}($[0],$),function(e,r,n){function i(){}var a,$,s,l,c=i=u(e,r,"Module",i);c.$$proto,[c].concat(n);return t.def(c,"$public",a=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return 0===e.length&&(r.$$module_function=!1),o},a.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",$=function(t){var e=this;return e},$.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",s=function(t){return!1},s.$$arity=1),t.def(c,"$private_constant",l=function(t){return o},l.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_method_defined?","method_defined?")}($[0],null,$),function(e,r){var n,i,a=n=l(e,"Kernel");a.$$proto,[a].concat(r);t.def(a,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias(a,"private_instance_methods","private_methods")}($[0],$),function(e,r){var n,i,a=n=l(e,"Kernel"),$=(a.$$proto,[a].concat(r));t.def(a,"$eval",i=function(t){var e=this;return e.$raise(s($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+s($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},i.$$arity=-1)}($[0],$),t.defs(a,"$public",n=function(t){return o},n.$$arity=-1),t.defs(a,"$private",i=function(t){return o},i.$$arity=-1),o&&"private"},Opal.modules.opal=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")}}).call(exports,function(){return this}(),__webpack_require__(10))},37:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=(t.top,[]),$=t.nil,o=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(a,u,l){function c(){}var f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T=c=o(a,u,"StringIO",c),R=T.$$proto,I=[T].concat(l);return R.position=R.string=R.closed=$,T.$include(t.const_get_qualified(t.const_get_relative(I,"IO"),"Readable")),T.$include(t.const_get_qualified(t.const_get_relative(I,"IO"),"Writable")),t.defs(T,"$open",f=function(t,e){var r=this,n=f.$$p,i=n||$,a=$,o=$;return null==t&&(t=""),null==e&&(e=$),n&&(f.$$p=null),a=r.$new(t,e),o=i.$call(a),a.$close(),o},f.$$arity=-1),T.$attr_accessor("string"),t.defn(T,"$initialize",_=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),s(s(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":s(s(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":$},_.$$arity=-1),t.defn(T,"$eof?",d=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},d.$$arity=0),t.alias(T,"eof","eof?"),t.defn(T,"$seek",h=function(a,o){var u=this,l=$;return null==o&&(o=t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_SET")),l=o,t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_SET")["$==="](l)?(s(e(a,0))||u.$raise(t.const_get_qualified(t.const_get_relative(I,"Errno"),"EINVAL")),u.position=a):t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_CUR")["$==="](l)?s(r(n(u.position,a),u.string.$length()))?u.position=u.string.$length():u.position=n(u.position,a):t.const_get_qualified(t.const_get_relative(I,"IO"),"SEEK_END")["$==="](l)&&(s(r(a,u.string.$length()))?u.position=0:u.position=i(u.position,a)),0},h.$$arity=-2),t.defn(T,"$tell",p=function(){var t=this;return t.position},p.$$arity=0),t.alias(T,"pos","tell"),t.alias(T,"pos=","seek"),t.defn(T,"$rewind",y=function(){var t=this;return t.$seek(0)},y.$$arity=0),t.defn(T,"$each_byte",m=function(){var t=this,e=m.$$p,r=e||$,i=$;if(e&&(m.$$p=null),!s(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),i=n(i,1);return t},m.$$arity=0),t.defn(T,"$each_char",g=function(){var t=this,e=g.$$p,r=e||$,i=$;if(e&&(g.$$p=null),!s(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},g.$$arity=0),t.defn(T,"$write",v=function(e){var r=this,a=$,o=$;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):(a=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n(a,e),o),r.position=n(r.position,e.$length()))},v.$$arity=1),t.defn(T,"$read",b=function(e,r){var i=this,a=$,o=$;return null==e&&(e=$),null==r&&(r=$),i.$check_readable(),s(i["$eof?"]())?$:(a=function(){return s(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),s(r)?r.$write(a):a)},b.$$arity=-1),t.defn(T,"$close",w=function(){var t=this;return t.closed="both"},w.$$arity=0),t.defn(T,"$close_read",k=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},k.$$arity=0),t.defn(T,"$close_write",E=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},E.$$arity=0),t.defn(T,"$closed?",x=function(){var t=this;return t.closed["$=="]("both")},x.$$arity=0),t.defn(T,"$closed_read?",A=function(){var t,e=this;return s(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},A.$$arity=0),t.defn(T,"$closed_write?",O=function(){var t,e=this;return s(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},O.$$arity=0),t.defn(T,"$check_writable",S=function(){var e=this;return s(e["$closed_write?"]())?e.$raise(t.const_get_relative(I,"IOError"),"not opened for writing"):$},S.$$arity=0),t.defn(T,"$check_readable",M=function(){var e=this;return s(e["$closed_read?"]())?e.$raise(t.const_get_relative(I,"IOError"),"not opened for reading"):$},M.$$arity=0),$&&"check_readable"}(a[0],t.const_get_relative(a,"IO"),a)},Opal.modules["open-uri"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],a=t.nil,$=(t.breaker,t.slice,t.module),o=t.truthy,s=t.send,u=t.hash2,l=t.klass;return t.add_stubs(["$require","$private","$respond_to?","$=~","$open_uri","$to_proc","$open_uri_original_open","$module_function","$open_loop","$rewind","$close_io","$close!","$closed?","$close","$request","$==","$build_response","$raise","$new","$<<","$io","$status=","$-","$meta_add_field","$attr_reader","$+","$length","$===","$init","$extend","$instance_eval","$status","$base_uri","$base_uri=","$each","$metas","$meta_add_field2","$attr_accessor","$charset","$find_encoding","$set_encoding","$force_encoding","$string","$find","$downcase","$[]=","$join","$meta_setup_encoding","$[]","$utc","$at","$content_type_parse","$scheme","$open","$read"]),n.$require("stringio"),function(e,r){var n,i,u=n=$(e,"Kernel"),l=(u.$$proto,[u].concat(r));u.$private(),t.alias(u,"open_uri_original_open","open"),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"open_uri_original_open","open")}(t.get_singleton_class(u),l),t.defn(u,"$open",i=function(e,r){var n,$,u=this,c=i.$$p,f=c||a,_=arguments.length,d=_-1;d<0&&(d=0),$=new Array(d);for(var h=1;h<_;h++)$[h-1]=arguments[h];return c&&(i.$$p=null),o(o(n=e["$respond_to?"]("to_str"))?/^[A-Za-z][A-Za-z0-9+\-\.]*:\/\//["$=~"](e):n)?s(t.const_get_relative(l,"OpenURI"),"open_uri",[e].concat(t.to_a($)),f.$to_proc()):s(u,"open_uri_original_open",[e].concat(t.to_a($)),f.$to_proc())},i.$$arity=-2),u.$module_function("open")}(i[0],i),function(n,i){var c,f,_,d,h,p,y=c=$(n,"OpenURI"),m=(y.$$proto,[y].concat(i));t.defs(y,"$open_uri",f=function(e,r){var n,i=this,$=f.$$p,o=$||a,s=a,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var _=1;_<l;_++)n[_-1]=arguments[_];return $&&(f.$$p=null),s=i.$open_loop(e,u([],{})),s.$rewind(),o!==a?function(){try{return t.yield1(o,s)}finally{i.$close_io(s)}}():s},f.$$arity=-2),t.defs(y,"$close_io",_=function(t){return o(t["$respond_to?"]("close!"))?t["$close!"]():o(t["$closed?"]())?a:t.$close()},_.$$arity=1),t.defs(y,"$open_loop",d=function(e,r){var n,i,$=this,s=a,u=a,l=a,c=a;return s=$.$request(e),u=s.responseText,l=s.status,c=s.statusText&&s.statusText.errno?s.statusText.errno:s.statusText,o(o(n=l["$=="](200))?n:(i=l["$=="](0))?u:l["$=="](0))?$.$build_response(s,u,l,c):$.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(""+l+" "+c,""))},d.$$arity=2),t.defs(y,"$build_response",h=function(r,n,i,$){var u=a,l=a,c=a,f=a;return u=t.const_get_relative(m,"Buffer").$new(),u["$<<"](n),l=u.$io(),c=[""+i+" "+$],s(l,"status=",t.to_a(c)),c[e(c.length,1)],l.$meta_add_field("content-type",r.getResponseHeader("Content-Type")),f=r.getResponseHeader("Last-Modified"),o(f)&&l.$meta_add_field("last-modified",f),l},h.$$arity=4),t.defs(y,"$request",p=function(e){var r=this;try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n}catch(e){r.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(e.message,""))}},p.$$arity=1),function(e,r,n){function i(){}var a,$=i=l(e,r,"HTTPError",i);$.$$proto,[$].concat(n);return t.defn($,"$initialize",a=function(e,r){var n=this,i=a.$$p;return i&&(a.$$p=null),s(n,t.find_super_dispatcher(n,"initialize",a,!1),[e,r],null),n.io=r},a.$$arity=2),$.$attr_reader("io")}(m[0],t.const_get_relative(m,"StandardError"),m),function(e,n,i){function $(){}var s,u,c,f=$=l(e,n,"Buffer",$),_=f.$$proto,d=[f].concat(i);return _.io=_.size=a,t.defn(f,"$initialize",s=function(){var e=this;return e.io=t.const_get_relative(d,"StringIO").$new(),e.size=0},s.$$arity=0),f.$attr_reader("size"),t.defn(f,"$<<",u=function(t){var e=this;return e.io["$<<"](t),e.size=r(e.size,t.$length())},u.$$arity=1),t.defn(f,"$io",c=function(){var e=this;return o(t.const_get_relative(d,"Meta")["$==="](e.io))||t.const_get_relative(d,"Meta").$init(e.io),e.io},c.$$arity=0),a&&"io"}(m[0],null,m),function(r,n){var i,l,c,f,_,d,h,p,y,m,g,v=i=$(r,"Meta"),b=(v.$$proto,[v].concat(n));t.defs(t.const_get_relative(b,"Meta"),"$init",l=function(r,n){var i,$,l=this,c=a;return null==n&&(n=a),r.$extend(t.const_get_relative(b,"Meta")),s(r,"instance_eval",[],(i=function(){var t=i.$$s||this;return t.base_uri=a,t.meta=u([],{}),t.metas=u([],{})},i.$$s=l,i.$$arity=0,i)),o(n)?(c=[n.$status()],s(r,"status=",t.to_a(c)),c[e(c.length,1)],c=[n.$base_uri()],s(r,"base_uri=",t.to_a(c)),c[e(c.length,1)],s(n.$metas(),"each",[],($=function(t,e){$.$$s||this;return null==t&&(t=a),null==e&&(e=a),r.$meta_add_field2(t,e)},$.$$s=l,$.$$arity=2,$))):a},l.$$arity=-2),v.$attr_accessor("status"),v.$attr_accessor("base_uri"),v.$attr_reader("meta"),v.$attr_reader("metas"),t.defn(v,"$meta_setup_encoding",c=function(){var t=this,e=a,r=a;return e=t.$charset(),r=t.$find_encoding(e),t.$set_encoding(r)},c.$$arity=0),t.defn(v,"$set_encoding",f=function(t){var e=this;return o(e["$respond_to?"]("force_encoding"))?e.$force_encoding(t):o(e["$respond_to?"]("string"))?e.$string().$force_encoding(t):e.$set_encoding(t)},f.$$arity=1),t.defn(v,"$find_encoding",_=function(e){var r=a;if(r=a,o(e))try{r=t.const_get_relative(b,"Encoding").$find(e)}catch(e){if(!t.rescue(e,[t.const_get_relative(b,"ArgumentError")]))throw e;try{}finally{t.pop_exception()}}return o(r)||(r=t.const_get_qualified(t.const_get_relative(b,"Encoding"),"ASCII_8BIT")),r},_.$$arity=1),t.defn(v,"$meta_add_field2",d=function(r,n){var i=this,$=a;return null==i.metas&&(i.metas=a),null==i.meta&&(i.meta=a),r=r.$downcase(),$=[r,n],s(i.metas,"[]=",t.to_a($)),$[e($.length,1)],$=[r,n.$join(", ")],s(i.meta,"[]=",t.to_a($)),$[e($.length,1)],r["$=="]("content-type")?i.$meta_setup_encoding():a},d.$$arity=2),t.defn(v,"$meta_add_field",h=function(t,e){var r=this;return r.$meta_add_field2(t,[e])},h.$$arity=2),t.defn(v,"$last_modified",p=function(){var e=this,r=a;return null==e.metas&&(e.metas=a),o(r=e.metas["$[]"]("last-modified"))?t.const_get_relative(b,"Time").$at(Date.parse(r.$join(", "))/1e3).$utc():a},p.$$arity=0),t.defn(v,"$content_type_parse",y=function(){var t=this,e=a;return null==t.metas&&(t.metas=a),e=t.metas["$[]"]("content-type"),e.$join(", ")},y.$$arity=0),t.defn(v,"$charset",m=function(){var t,e,r,n=this,i=a;return null==n.base_uri&&(n.base_uri=a),i=n.$content_type_parse(),o(o(t=o(e=o(r=i)?/^text\//["$=~"](i):r)?n.base_uri:e)?/^http$/i["$=~"](n.base_uri.$scheme()):t)?"iso-8859-1":a},m.$$arity=0),t.defn(v,"$content_type",g=function(){var t,e=this,r=a;return r=e.$content_type_parse(),o(t=r)?t:"application/octet-stream"},g.$$arity=0)}(m[0],m),function(e,r){var n,i,o,l=n=$(e,"OpenRead"),c=(l.$$proto,[l].concat(r));t.defn(l,"$open",i=function(e){var r,n=this,$=i.$$p,o=$||a,u=arguments.length,l=u-0;l<0&&(l=0),r=new Array(l);for(var f=0;f<u;f++)r[f-0]=arguments[f];return $&&(i.$$p=null),s(t.const_get_relative(c,"OpenURI"),"open_uri",[n].concat(t.to_a(r)),o.$to_proc())},i.$$arity=-1),t.defn(l,"$read",o=function(e){var r,n=this;return null==e&&(e=u([],{})),s(n,"open",[e],(r=function(e){var n=(r.$$s||this,a);return null==e&&(e=a),n=e.$read(),t.const_get_relative(c,"Meta").$init(n,e),n},r.$$s=n,r.$$arity=1,r))},o.$$arity=-1)}(m[0],m)}(i[0],i)}},38:function(t,e){Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,a=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var u,l,c,f,_,d,h,p,y,m=u=$(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",l=function(t){return o(a(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==a(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[a(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>0},f.$$arity=1),t.def(m,"$>=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)>=0},_.$$arity=1),t.def(m,"$<",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.def(m,"$<=",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise(a(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),a(g,"Comparable").$normalize(r)<=0},h.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),t.def(m,"$clamp",y=function(t,n){var $=this,s=i;return s=t["$<=>"](n),o(s)||$.$raise(a(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e(a(g,"Comparable").$normalize(s),0))&&$.$raise(a(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r(a(g,"Comparable").$normalize($["$<=>"](t)),0))?t:o(e(a(g,"Comparable").$normalize($["$<=>"](n)),0))?n:$},y.$$arity=2)}(n[0],n)},Opal.modules.pathname=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,n=[],i=t.nil,a=t.const_get_qualified,$=t.const_get_relative,o=(t.breaker,t.slice,t.klass),s=t.truthy,u=t.send,l=t.module;return t.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,n,l){function c(){}var f,_,d,h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N,z,P,B=c=o(r,n,"Pathname",c),q=B.$$proto,D=[B].concat(l);return q.path=i,B.$include($(D,"Comparable")),t.const_set(D[0],"SEPARATOR_PAT",new RegExp($(D,"Regexp").$quote(a($(D,"File"),"SEPARATOR")))),t.def(B,"$initialize",f=function(t){var e=this;return s($(D,"Pathname")["$==="](t))?e.path=t.$path().$to_s():s(t["$respond_to?"]("to_path"))?e.path=t.$to_path():s(t["$is_a?"]($(D,"String")))?e.path=t:s(t["$nil?"]())?e.$raise($(D,"TypeError"),"no implicit conversion of nil into String"):e.$raise($(D,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),e.path["$=="]("\0")?e.$raise($(D,"ArgumentError")):i},f.$$arity=1),B.$attr_reader("path"),t.def(B,"$==",_=function(t){var e=this;return t.$path()["$=="](e.path)},_.$$arity=1),t.def(B,"$absolute?",d=function(){var t=this;return t["$relative?"]()["$!"]()},d.$$arity=0),t.def(B,"$relative?",h=function(){var e,r,n=this,a=i,$=i;for(a=n.path;s($=n.$chop_basename(a));)r=$,e=t.to_ary(r),a=null==e[0]?i:e[0],r;return a["$=="]("")},h.$$arity=0),t.def(B,"$chop_basename",p=function(t){var e=i;return e=$(D,"File").$basename(t),s($(D,"Regexp").$new("^"+a($(D,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](e))?i:[t["$[]"](0,t.$rindex(e)),e]},p.$$arity=1),t.def(B,"$root?",y=function(){var t=this;return t.path["$=="]("/")},y.$$arity=0),t.def(B,"$parent",m=function(){var t=this,e=i;return e=t.path.$sub(/\/([^\/]+\/?$)/,""),e["$=="]("")&&(e=function(){return s(t["$absolute?"]())?"/":"."}()),$(D,"Pathname").$new(e)},m.$$arity=0),t.def(B,"$sub",g=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<i;o++)r[o-0]=arguments[o];return $(D,"Pathname").$new(u(n.path,"sub",t.to_a(r)))},g.$$arity=-1),t.def(B,"$cleanpath",v=function(){var e=this;return t.normalize(e.path)},v.$$arity=0),t.def(B,"$to_path",b=function(){var t=this;return t.path},b.$$arity=0),t.def(B,"$hash",w=function(){var t=this;return t.path},w.$$arity=0),t.def(B,"$expand_path",k=function(){var t=this;return $(D,"File").$expand_path(t.path)},k.$$arity=0),t.def(B,"$+",E=function(t){var e=this;return s($(D,"Pathname")["$==="](t))||(t=$(D,"Pathname").$new(t)),$(D,"Pathname").$new(e.$plus(e.path,t.$to_s()))},E.$$arity=1),t.def(B,"$plus",x=function(r,n){var a,o,u,l=this,c=i,f=i,_=i,d=i,h=i,p=i,y=i,m=i,g=i;for(c=n,f=[],_=[];s(d=l.$chop_basename(c));)u=d,o=t.to_ary(u),c=null==o[0]?i:o[0],h=null==o[1]?i:o[1],u,f.$unshift(c.$length()),_.$unshift(h);if(s(c["$!="]("")))return n;for(p=r;s(!0);){for(;s(s(u=_["$empty?"]()["$!"]())?_.$first()["$=="]("."):u);)f.$shift(),_.$shift();if(!s(y=l.$chop_basename(p)))break;if(u=y,o=t.to_ary(u),p=null==o[0]?i:o[0],m=null==o[1]?i:o[1],u,!m["$=="](".")){if(s(s(o=s(u=m["$=="](".."))?u:_["$empty?"]())?o:_.$first()["$!="](".."))){p=e(p,m);break}f.$shift(),_.$shift()}}if(y=l.$chop_basename(p),s(s(a=y["$!"]())?new RegExp($(D,"SEPARATOR_PAT"))["$=~"]($(D,"File").$basename(p)):a))for(;s(s(o=_["$empty?"]()["$!"]())?_.$first()["$=="](".."):o);)f.$shift(),_.$shift();return s(_["$empty?"]()["$!"]())?(g=n["$[]"](t.Range.$new(f.$first(),-1,!1)),s(y)?$(D,"File").$join(p,g):e(p,g)):s(y)?p:$(D,"File").$dirname(p)},x.$$arity=2),t.def(B,"$join",A=function(r){try{var n,a,o=this,l=i,c=arguments.length,f=c-0;f<0&&(f=0),a=new Array(f);for(var _=0;_<c;_++)a[_-0]=arguments[_];return s(a["$empty?"]())?o:(l=a.$pop(),s($(D,"Pathname")["$==="](l))||(l=$(D,"Pathname").$new(l)),s(l["$absolute?"]())?l:(u(a,"reverse_each",[],(n=function(r){n.$$s||this;return null==r&&(r=i),s($(D,"Pathname")["$==="](r))||(r=$(D,"Pathname").$new(r)),l=e(r,l),s(l["$absolute?"]())?void t.ret(l):i},n.$$s=o,n.$$arity=1,n)),e(o,l)))}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(B,"$split",O=function(){var t=this;return[t.$dirname(),t.$basename()]},O.$$arity=0),t.def(B,"$dirname",S=function(){var t=this;return $(D,"Pathname").$new($(D,"File").$dirname(t.path))},S.$$arity=0),t.def(B,"$basename",M=function(){var t=this;return $(D,"Pathname").$new($(D,"File").$basename(t.path))},M.$$arity=0),t.def(B,"$directory?",T=function(){var t=this;return $(D,"File")["$directory?"](t.path)},T.$$arity=0),t.def(B,"$extname",R=function(){var t=this;return $(D,"File").$extname(t.path)},R.$$arity=0),t.def(B,"$<=>",I=function(t){var e=this;return e.$path()["$<=>"](t.$path())},I.$$arity=1),t.alias(B,"eql?","=="),t.alias(B,"===","=="),t.alias(B,"to_str","to_path"),t.alias(B,"to_s","to_path"),t.const_set(D[0],"SAME_PATHS",function(){return s(a($(D,"File"),"FNM_SYSCASE")["$nonzero?"]())?u(B,"proc",[],(C=function(t,e){C.$$s||this;return null==t&&(t=i),null==e&&(e=i),t.$casecmp(e)["$=="](0)},C.$$s=B,C.$$arity=2,C)):u(B,"proc",[],(N=function(t,e){N.$$s||this;return null==t&&(t=i),null==e&&(e=i),t["$=="](e)},N.$$s=B,N.$$arity=2,N))}()),t.def(B,"$relative_path_from",z=function(r){var n,a,o=this,l=i,c=i,f=i,_=i,d=i,h=i,p=i,y=i;for(l=o.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=l,f=[];s(_=o.$chop_basename(c));)a=_,n=t.to_ary(a),c=null==n[0]?i:n[0],d=null==n[1]?i:n[1],a,s(d["$!="]("."))&&f.$unshift(d);for(h=r,p=[];s(_=o.$chop_basename(h));)a=_,n=t.to_ary(a),h=null==n[0]?i:n[0],d=null==n[1]?i:n[1],a,s(d["$!="]("."))&&p.$unshift(d);for(s($(D,"SAME_PATHS")["$[]"](c,h))||o.$raise($(D,"ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());s(s(n=s(a=f["$empty?"]()["$!"]())?p["$empty?"]()["$!"]():a)?$(D,"SAME_PATHS")["$[]"](f.$first(),p.$first()):n);)f.$shift(),p.$shift();return s(p["$include?"](".."))&&o.$raise($(D,"ArgumentError"),"base_directory has ..: "+r.$inspect()),p.$fill(".."),y=e(p,f),s(y["$empty?"]())?$(D,"Pathname").$new("."):$(D,"Pathname").$new(u($(D,"File"),"join",t.to_a(y)))},z.$$arity=1),t.def(B,"$entries",P=function(){var t,e=this;return u($(D,"Dir").$entries(e.path),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=i),r.$class().$new(e)},t.$$s=e,t.$$arity=1,t))},P.$$arity=0),i&&"entries"}(n[0],null,n),function(e,r){var n,i,a=n=l(e,"Kernel"),o=(a.$$proto,[a].concat(r));t.def(a,"$Pathname",i=function(t){return $(o,"Pathname").$new(t)},i.$$arity=1)}(n[0],n)}},39:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=(t.top,[]),$=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$to_str","$chomp","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function(a,f,_){function d(){}var h,p,y,m,g,v,b,w,k,E,x,A,O,S,M,T,R,I,C,N=d=u(a,f,"StringIO",d),z=N.$$proto,P=[N].concat(_);return z.position=z.string=z.closed=$,N.$include(o(s(P,"IO"),"Readable")),N.$include(o(s(P,"IO"),"Writable")),t.defs(N,"$open",h=function(t,e){var r=this,n=h.$$p,i=n||$,a=$,o=$;return null==t&&(t=""),null==e&&(e=$),n&&(h.$$p=null),a=r.$new(t,e),o=i.$call(a),a.$close(),o},h.$$arity=-1),N.$attr_accessor("string"),t.def(N,"$initialize",p=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),l(l(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":l(l(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":$},p.$$arity=-1),t.def(N,"$eof?",y=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},y.$$arity=0),t.alias(N,"eof","eof?"),t.def(N,"$seek",m=function(t,a){var u=this,c=$;return null==a&&(a=o(s(P,"IO"),"SEEK_SET")),c=a,o(s(P,"IO"),"SEEK_SET")["$==="](c)?(l(e(t,0))||u.$raise(o(s(P,"Errno"),"EINVAL")),u.position=t):o(s(P,"IO"),"SEEK_CUR")["$==="](c)?l(r(n(u.position,t),u.string.$length()))?u.position=u.string.$length():u.position=n(u.position,t):o(s(P,"IO"),"SEEK_END")["$==="](c)&&(l(r(t,u.string.$length()))?u.position=0:u.position=i(u.position,t)),0},m.$$arity=-2),t.def(N,"$tell",g=function(){var t=this;return t.position},g.$$arity=0),t.alias(N,"pos","tell"),t.alias(N,"pos=","seek"),t.def(N,"$rewind",v=function(){var t=this;return t.$seek(0)},v.$$arity=0),t.def(N,"$each_byte",b=function(){var t=this,e=b.$$p,r=e||$,i=$;if(e&&(b.$$p=null),!l(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!l(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),i=n(i,1);return t},b.$$arity=0),t.def(N,"$each_char",w=function(){var t=this,e=w.$$p,r=e||$,i=$;if(e&&(w.$$p=null),!l(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!l(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},w.$$arity=0),t.def(N,"$each",k=function(e){var r=this,n=k.$$p,i=n||$,a=$;if(null==c["/"]&&(c["/"]=$),null==e&&(e=c["/"]),n&&(k.$$p=null),i===$)return r.$enum_for("each_line");r.$check_readable(),a=!1,e=l(o("::","Hash")["$==="](e))?function(){return l(a=e["$[]"]("chomp"))?/\r?\n/:c["/"]}():l(e)?e.$to_str():void 0;var s=r.string,u=s.length;if(r.position<u&&(s=s.substr(r.position)),e)for(var f=s.$chomp(),_=s.length!==f.length,d=f.split(e),h=0,p=d.length;h<p;h++){var y=a?d[h]:h<p-1||_?d[h]+e:d[h];t.yield1(i,y)}else if(void 0===e)t.yield1(i,s);else for(var m,g=/(.+(?:\n\n|$))\n*/g;m=g.exec(s);)t.yield1(i,m[1]);return r.position=u,r},k.$$arity=-1),t.alias(N,"each_line","each"),t.def(N,"$write",E=function(e){var r=this,a=$,o=$;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):(a=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n(a,e),o),r.position=n(r.position,e.$length()))},E.$$arity=1),t.def(N,"$read",x=function(e,r){var i=this,a=$,o=$;return null==e&&(e=$),null==r&&(r=$),i.$check_readable(),l(i["$eof?"]())?$:(a=function(){return l(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),l(r)?r.$write(a):a)},x.$$arity=-1),t.def(N,"$close",A=function(){var t=this;return t.closed="both"},A.$$arity=0),t.def(N,"$close_read",O=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},O.$$arity=0),t.def(N,"$close_write",S=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},S.$$arity=0),t.def(N,"$closed?",M=function(){var t=this;return t.closed["$=="]("both")},M.$$arity=0),t.def(N,"$closed_read?",T=function(){var t,e=this;return l(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},T.$$arity=0),t.def(N,"$closed_write?",R=function(){var t,e=this;return l(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},R.$$arity=0),t.def(N,"$check_writable",I=function(){var t=this;return l(t["$closed_write?"]())?t.$raise(s(P,"IOError"),"not opened for writing"):$},I.$$arity=0),t.def(N,"$check_readable",C=function(){var t=this;return l(t["$closed_read?"]())?t.$raise(s(P,"IOError"),"not opened for reading"):$},C.$$arity=0),$&&"check_readable"}(a[0],s(a,"IO"),a)}},155:function(t,e,r){(function(e){t.exports=function(t){function r(t,e,r,i,a,$){if("function"==typeof a&&($=a,a=void 0),"function"!=typeof $)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var o;try{o=n(t,e,r,i,a)}catch(t){return $(t)}$(void 0,o)})}function n(r,n,i,a,$){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof a)throw new TypeError("Key length not a number");if(a<0)throw new TypeError("Bad key length");$=$||"sha1",e.isBuffer(r)||(r=new e(r)),e.isBuffer(n)||(n=new e(n));var o,s,u,l=1,c=new e(a),f=new e(n.length+4);n.copy(f,0,0,n.length);for(var _=1;_<=l;_++){f.writeUInt32BE(_,n.length);var d=t.createHmac($,r).update(f).digest();if(!o&&(o=d.length,u=new e(o),l=Math.ceil(a/o),s=a-(l-1)*o,a>(Math.pow(2,32)-1)*o))throw new TypeError("keylen exceeds maximum length");d.copy(u,0,0,o);for(var h=1;h<i;h++){d=t.createHmac($,r).update(d).digest();for(var p=0;p<o;p++)u[p]^=d[p]}var y=(_-1)*o,m=_==l?s:o;u.copy(c,y,0,m)}return c}return{pbkdf2:r,pbkdf2Sync:n}}}).call(e,r(1).Buffer)},26:function(t,e,r){(function(e){"use strict";function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,$,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(a=new Array(o-1),$=0;$<a.length;)a[$++]=arguments[$];return e.nextTick(function(){t.apply(null,a)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(e,r(10))},10:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0);
}catch(e){return l.call(this,t,0)}}}function a(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function $(){h&&_&&(h=!1,_.length?d=_.concat(d):p=-1,d.length&&o())}function o(){if(!h){var t=i($);h=!0;for(var e=d.length;e;){for(_=d,d=[];++p<e;)_&&_[p].run();p=-1,e=d.length}_=null,h=!1,a(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var _,d=[],h=!1,p=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new s(t,e)),1!==d.length||h||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},175:function(t,e,r){t.exports=r(12)},12:function(t,e,r){"use strict";function n(t){return this instanceof n?(u.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||$.nextTick(a,this)}function a(t){t.end()}var $=r(26),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=n;var s=r(19);s.inherits=r(3);var u=r(77),l=r(41);s.inherits(n,u);for(var c=o(l.prototype),f=0;f<c.length;f++){var _=c[f];n.prototype[_]||(n.prototype[_]=l.prototype[_])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),$.nextTick(e,t)}},176:function(t,e,r){"use strict";function n(t){return this instanceof n?void i.call(this,t):new n(t)}t.exports=n;var i=r(78),a=r(19);a.inherits=r(3),a.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},77:function(t,e,r){(function(e,n){"use strict";function i(t){return B.from(t)}function a(t){return B.isBuffer(t)||t instanceof q}function $(t,e,r){return"function"==typeof t.prependListener?t.prependListener(e,r):void(t._events&&t._events[e]?N(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r))}function o(t,e){C=C||r(12),t=t||{};var n=e instanceof C;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,$=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&(a||0===a)?this.highWaterMark=a:this.highWaterMark=$,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(j||(j=r(84).StringDecoder),this.decoder=new j(t.encoding),this.encoding=t.encoding)}function s(t){return C=C||r(12),this instanceof s?(this._readableState=new o(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void P.call(this)):new s(t)}function u(t,e,r,n,a){var $=t._readableState;if(null===e)$.reading=!1,h(t,$);else{var o;a||(o=c($,e)),o?t.emit("error",o):$.objectMode||e&&e.length>0?("string"==typeof e||$.objectMode||Object.getPrototypeOf(e)===B.prototype||(e=i(e)),n?$.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):l(t,$,e,!0):$.ended?t.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!r?(e=$.decoder.write(e),$.objectMode||0!==e.length?l(t,$,e,!1):m(t,$)):l(t,$,e,!1))):n||($.reading=!1)}return f($)}function l(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&p(t)),m(t,e)}function c(t,e){var r;return a(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function _(t){return t>=Y?t=Y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function d(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=_(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function h(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,p(t)}}function p(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(F("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?I.nextTick(y,t):y(t))}function y(t){F("emit readable"),t.emit("readable"),E(t)}function m(t,e){e.readingMore||(e.readingMore=!0,I.nextTick(g,t,e))}function g(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(F("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;F("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&z(t,"data")&&(e.flowing=!0,E(t))}}function b(t){F("readable nexttick read 0"),t.read(0)}function w(t,e){e.resumeScheduled||(e.resumeScheduled=!0,I.nextTick(k,t,e))}function k(t,e){e.reading||(F("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(F("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){if(0===e.length)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=A(t,e.buffer,e.decoder),r}function A(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?O(t,e):S(t,e),n}function O(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var a=r.data,$=t>a.length?a.length:t;if(i+=$===a.length?a:a.slice(0,t),t-=$,0===t){$===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice($));break}++n}return e.length-=n,i}function S(t,e){var r=B.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var a=n.data,$=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,$),t-=$,0===t){$===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice($));break}++i}return e.length-=i,r}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,I.nextTick(T,e,t))}function T(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var I=r(26);t.exports=s;var C,N=r(72);s.ReadableState=o;var z=(r(32).EventEmitter,function(t,e){return t.listeners(e).length}),P=r(80),B=r(8).Buffer,q=e.Uint8Array||function(){},D=r(19);D.inherits=r(3);var L=r(198),F=void 0;F=L&&L.debuglog?L.debuglog("stream"):function(){};var j,U=r(177),H=r(79);D.inherits(s,P);var G=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=H.destroy,s.prototype._undestroy=H.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=B.from(t,e),e=""),r=!0),u(this,t,e,!1,r)},s.prototype.unshift=function(t){return u(this,t,null,!0,!1)},s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(t){return j||(j=r(84).StringDecoder),this._readableState.decoder=new j(t),this._readableState.encoding=t,this};var Y=8388608;s.prototype.read=function(t){F("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return F("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):p(this),null;if(t=d(t,e),0===t&&e.ended)return 0===e.length&&M(this),null;var n=e.needReadable;F("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,F("length less than watermark",n)),e.ended||e.reading?(n=!1,F("reading or ended",n)):n&&(F("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=d(r,e)));var i;return i=t>0?x(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(t,e){F("onunpipe"),t===f&&e&&e.hasUnpiped===!1&&(e.hasUnpiped=!0,a())}function i(){F("onend"),t.end()}function a(){F("cleanup"),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",c),f.removeListener("data",o),y=!0,!_.awaitDrain||t._writableState&&!t._writableState.needDrain||p()}function o(e){F("ondata"),m=!1;var r=t.write(e);!1!==r||m||((1===_.pipesCount&&_.pipes===t||_.pipesCount>1&&R(_.pipes,t)!==-1)&&!y&&(F("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,m=!0),f.pause())}function s(e){F("onerror",e),c(),t.removeListener("error",s),0===z(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",l),c()}function l(){F("onfinish"),t.removeListener("close",u),c()}function c(){F("unpipe"),f.unpipe(t)}var f=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=t;break;case 1:_.pipes=[_.pipes,t];break;default:_.pipes.push(t)}_.pipesCount+=1,F("pipe count=%d opts=%j",_.pipesCount,e);var d=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,h=d?i:c;_.endEmitted?I.nextTick(h):f.once("end",h),t.on("unpipe",r);var p=v(f);t.on("drain",p);var y=!1,m=!1;return f.on("data",o),$(t,"error",s),t.once("close",u),t.once("finish",l),t.emit("pipe",f),_.flowing||(F("pipe resume"),f.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var $=R(e.pipes,t);return $===-1?this:(e.pipes.splice($,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},s.prototype.on=function(t,e){var r=P.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&p(this):I.nextTick(b,this))}return r},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(F("resume"),t.flowing=!0,w(this,t)),this},s.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(F("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(F("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var a=e.push(i);a||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<G.length;a++)t.on(G[a],this.emit.bind(this,G[a]));return this._read=function(e){F("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),s._fromList=x}).call(e,function(){return this}(),r(10))},78:function(t,e,r){"use strict";function n(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){return this instanceof i?(o.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",a)):new i(t)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){$(t,e,r)}):$(this,null,null)}function $(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var o=r(12),s=r(19);s.inherits=r(3),s.inherits(i,o),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var r=this;o.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},41:function(t,e,r){(function(e,n,i){"use strict";function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){O(e,t)}}function $(t){return N.from(t)}function o(t){return N.isBuffer(t)||t instanceof z}function s(){}function u(t,e){M=M||r(12),t=t||{};var n=e instanceof M;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,$=t.writableHighWaterMark,o=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&($||0===$)?this.highWaterMark=$:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){m(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function l(t){return M=M||r(12),B.call(l,this)||this instanceof M?(this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void C.call(this)):new l(t)}function c(t,e){var r=new Error("write after end");t.emit("error",r),S.nextTick(e,r)}function f(t,e,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),S.nextTick(n,a),i=!1),i}function _(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=N.from(e,r)),e}function d(t,e,r,n,i,a){if(!r){var $=_(e,n,i);n!==$&&(r=!0,i="buffer",n=$)}var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h(t,e,!1,o,n,i,a);return s}function h(t,e,r,n,i,a,$){e.writelen=n,e.writecb=$,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function p(t,e,r,n,i){--e.pendingcb,r?(S.nextTick(i,n),S.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),x(t,e))}function y(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function m(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(y(r),e)p(t,r,n,e,i);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||b(t,r),n?T(g,t,r,a,i):g(t,r,a,i)}}function g(t,e,r,n){r||v(t,e),e.pendingcb--,n(),x(t,e)}function v(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),$=e.corkedRequestsFree;$.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,h(t,e,!0,e.length,i,"",$.finish),e.pendingcb++,e.lastBufferedRequest=null,$.next?(e.corkedRequestsFree=$.next,$.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback,f=e.objectMode?1:u.length;if(h(t,e,!1,f,u,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function E(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,S.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function x(t,e){var r=w(e);return r&&(E(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function A(t,e,r){e.ending=!0,x(t,e),r&&(e.finished?S.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function O(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var S=r(26);t.exports=l;var M,T=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:S.nextTick;l.WritableState=u;var R=r(19);R.inherits=r(3);var I={deprecate:r(189)},C=r(80),N=r(8).Buffer,z=i.Uint8Array||function(){},P=r(79);R.inherits(l,C),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var B;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(t){return!!B.call(this,t)||this===l&&(t&&t._writableState instanceof u)}})):B=function(t){return t instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&o(t);return a&&!N.isBuffer(t)&&(t=$(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=s),n.ended?c(this,r):(a||f(this,n,t,r))&&(n.pendingcb++,i=d(this,n,a,t,e,r)),i},l.prototype.cork=function(){var t=this._writableState;t.corked++},l.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},l.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||A(this,n,r)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),l.prototype.destroy=P.destroy,l.prototype._undestroy=P.undestroy,l.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,r(10),r(188).setImmediate,function(){return this}())},177:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r){t.copy(e,r)}var a=r(8).Buffer,$=r(199);t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var e=a.allocUnsafe(t>>>0),r=this.head,n=0;r;)i(r.data,e,n),n+=r.data.length,r=r.next;return e},t}(),$&&$.inspect&&$.inspect.custom&&(t.exports.prototype[$.inspect.custom]=function(){var t=$.inspect({length:this.length});return this.constructor.name+" "+t})},79:function(t,e,r){"use strict";function n(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||$.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?($.nextTick(a,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(t,e){t.emit("error",e)}var $=r(26);t.exports={destroy:n,undestroy:i}},80:function(t,e,r){t.exports=r(32).EventEmitter},178:function(t,e,r){t.exports=r(42).PassThrough},42:function(t,e,r){e=t.exports=r(77),e.Stream=e,e.Readable=e,e.Writable=r(41),e.Duplex=r(12),e.Transform=r(78),e.PassThrough=r(176)},179:function(t,e,r){t.exports=r(42).Transform},180:function(t,e,r){t.exports=r(41)},181:function(t,e,r){(function(e){"use strict";function n(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function a(t,e,r,n,a,$,o,s){return i(t+(e^r^n)+$+o|0,s)+a|0}function $(t,e,r,n,a,$,o,s){return i(t+(e&r|~e&n)+$+o|0,s)+a|0}function o(t,e,r,n,a,$,o,s){return i(t+((e|~r)^n)+$+o|0,s)+a|0}function s(t,e,r,n,a,$,o,s){return i(t+(e&n|r&~n)+$+o|0,s)+a|0}function u(t,e,r,n,a,$,o,s){return i(t+(e^(r|~n))+$+o|0,s)+a|0}var l=r(3),c=r(147);l(n,c),n.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,l=this._c,c=this._d,f=this._e;r=a(r,n,l,c,f,t[0],0,11),l=i(l,10),f=a(f,r,n,l,c,t[1],0,14),n=i(n,10),c=a(c,f,r,n,l,t[2],0,15),r=i(r,10),l=a(l,c,f,r,n,t[3],0,12),f=i(f,10),n=a(n,l,c,f,r,t[4],0,5),c=i(c,10),r=a(r,n,l,c,f,t[5],0,8),l=i(l,10),f=a(f,r,n,l,c,t[6],0,7),n=i(n,10),c=a(c,f,r,n,l,t[7],0,9),r=i(r,10),l=a(l,c,f,r,n,t[8],0,11),f=i(f,10),n=a(n,l,c,f,r,t[9],0,13),c=i(c,10),r=a(r,n,l,c,f,t[10],0,14),l=i(l,10),f=a(f,r,n,l,c,t[11],0,15),n=i(n,10),c=a(c,f,r,n,l,t[12],0,6),r=i(r,10),l=a(l,c,f,r,n,t[13],0,7),f=i(f,10),n=a(n,l,c,f,r,t[14],0,9),c=i(c,10),r=a(r,n,l,c,f,t[15],0,8),l=i(l,10),f=$(f,r,n,l,c,t[7],1518500249,7),n=i(n,10),c=$(c,f,r,n,l,t[4],1518500249,6),r=i(r,10),l=$(l,c,f,r,n,t[13],1518500249,8),f=i(f,10),n=$(n,l,c,f,r,t[1],1518500249,13),c=i(c,10),r=$(r,n,l,c,f,t[10],1518500249,11),l=i(l,10),f=$(f,r,n,l,c,t[6],1518500249,9),n=i(n,10),c=$(c,f,r,n,l,t[15],1518500249,7),r=i(r,10),l=$(l,c,f,r,n,t[3],1518500249,15),f=i(f,10),n=$(n,l,c,f,r,t[12],1518500249,7),c=i(c,10),r=$(r,n,l,c,f,t[0],1518500249,12),l=i(l,10),f=$(f,r,n,l,c,t[9],1518500249,15),n=i(n,10),c=$(c,f,r,n,l,t[5],1518500249,9),r=i(r,10),l=$(l,c,f,r,n,t[2],1518500249,11),f=i(f,10),n=$(n,l,c,f,r,t[14],1518500249,7),c=i(c,10),r=$(r,n,l,c,f,t[11],1518500249,13),l=i(l,10),f=$(f,r,n,l,c,t[8],1518500249,12),n=i(n,10),c=o(c,f,r,n,l,t[3],1859775393,11),r=i(r,10),l=o(l,c,f,r,n,t[10],1859775393,13),f=i(f,10),n=o(n,l,c,f,r,t[14],1859775393,6),c=i(c,10),r=o(r,n,l,c,f,t[4],1859775393,7),l=i(l,10),f=o(f,r,n,l,c,t[9],1859775393,14),n=i(n,10),c=o(c,f,r,n,l,t[15],1859775393,9),r=i(r,10),l=o(l,c,f,r,n,t[8],1859775393,13),f=i(f,10),n=o(n,l,c,f,r,t[1],1859775393,15),c=i(c,10),r=o(r,n,l,c,f,t[2],1859775393,14),l=i(l,10),f=o(f,r,n,l,c,t[7],1859775393,8),n=i(n,10),c=o(c,f,r,n,l,t[0],1859775393,13),r=i(r,10),l=o(l,c,f,r,n,t[6],1859775393,6),f=i(f,10),n=o(n,l,c,f,r,t[13],1859775393,5),c=i(c,10),r=o(r,n,l,c,f,t[11],1859775393,12),l=i(l,10),f=o(f,r,n,l,c,t[5],1859775393,7),n=i(n,10),c=o(c,f,r,n,l,t[12],1859775393,5),r=i(r,10),l=s(l,c,f,r,n,t[1],2400959708,11),f=i(f,10),n=s(n,l,c,f,r,t[9],2400959708,12),c=i(c,10),r=s(r,n,l,c,f,t[11],2400959708,14),l=i(l,10),f=s(f,r,n,l,c,t[10],2400959708,15),n=i(n,10),c=s(c,f,r,n,l,t[0],2400959708,14),r=i(r,10),l=s(l,c,f,r,n,t[8],2400959708,15),f=i(f,10),n=s(n,l,c,f,r,t[12],2400959708,9),c=i(c,10),r=s(r,n,l,c,f,t[4],2400959708,8),l=i(l,10),f=s(f,r,n,l,c,t[13],2400959708,9),n=i(n,10),c=s(c,f,r,n,l,t[3],2400959708,14),r=i(r,10),l=s(l,c,f,r,n,t[7],2400959708,5),f=i(f,10),n=s(n,l,c,f,r,t[15],2400959708,6),c=i(c,10),r=s(r,n,l,c,f,t[14],2400959708,8),l=i(l,10),f=s(f,r,n,l,c,t[5],2400959708,6),n=i(n,10),c=s(c,f,r,n,l,t[6],2400959708,5),r=i(r,10),l=s(l,c,f,r,n,t[2],2400959708,12),f=i(f,10),n=u(n,l,c,f,r,t[4],2840853838,9),c=i(c,10),r=u(r,n,l,c,f,t[0],2840853838,15),l=i(l,10),f=u(f,r,n,l,c,t[5],2840853838,5),n=i(n,10),c=u(c,f,r,n,l,t[9],2840853838,11),r=i(r,10),l=u(l,c,f,r,n,t[7],2840853838,6),f=i(f,10),n=u(n,l,c,f,r,t[12],2840853838,8),c=i(c,10),r=u(r,n,l,c,f,t[2],2840853838,13),l=i(l,10),f=u(f,r,n,l,c,t[10],2840853838,12),n=i(n,10),c=u(c,f,r,n,l,t[14],2840853838,5),r=i(r,10),l=u(l,c,f,r,n,t[1],2840853838,12),f=i(f,10),n=u(n,l,c,f,r,t[3],2840853838,13),c=i(c,10),r=u(r,n,l,c,f,t[8],2840853838,14),l=i(l,10),f=u(f,r,n,l,c,t[11],2840853838,11),n=i(n,10),c=u(c,f,r,n,l,t[6],2840853838,8),r=i(r,10),l=u(l,c,f,r,n,t[15],2840853838,5),f=i(f,10),n=u(n,l,c,f,r,t[13],2840853838,6),c=i(c,10);var _=this._a,d=this._b,h=this._c,p=this._d,y=this._e;_=u(_,d,h,p,y,t[5],1352829926,8),h=i(h,10),y=u(y,_,d,h,p,t[14],1352829926,9),d=i(d,10),p=u(p,y,_,d,h,t[7],1352829926,9),_=i(_,10),h=u(h,p,y,_,d,t[0],1352829926,11),y=i(y,10),d=u(d,h,p,y,_,t[9],1352829926,13),p=i(p,10),_=u(_,d,h,p,y,t[2],1352829926,15),h=i(h,10),y=u(y,_,d,h,p,t[11],1352829926,15),d=i(d,10),p=u(p,y,_,d,h,t[4],1352829926,5),_=i(_,10),h=u(h,p,y,_,d,t[13],1352829926,7),y=i(y,10),d=u(d,h,p,y,_,t[6],1352829926,7),p=i(p,10),_=u(_,d,h,p,y,t[15],1352829926,8),h=i(h,10),y=u(y,_,d,h,p,t[8],1352829926,11),d=i(d,10),p=u(p,y,_,d,h,t[1],1352829926,14),_=i(_,10),h=u(h,p,y,_,d,t[10],1352829926,14),y=i(y,10),d=u(d,h,p,y,_,t[3],1352829926,12),p=i(p,10),_=u(_,d,h,p,y,t[12],1352829926,6),h=i(h,10),y=s(y,_,d,h,p,t[6],1548603684,9),d=i(d,10),p=s(p,y,_,d,h,t[11],1548603684,13),_=i(_,10),h=s(h,p,y,_,d,t[3],1548603684,15),y=i(y,10),d=s(d,h,p,y,_,t[7],1548603684,7),p=i(p,10),_=s(_,d,h,p,y,t[0],1548603684,12),h=i(h,10),y=s(y,_,d,h,p,t[13],1548603684,8),d=i(d,10),p=s(p,y,_,d,h,t[5],1548603684,9),_=i(_,10),h=s(h,p,y,_,d,t[10],1548603684,11),y=i(y,10),d=s(d,h,p,y,_,t[14],1548603684,7),p=i(p,10),_=s(_,d,h,p,y,t[15],1548603684,7),h=i(h,10),y=s(y,_,d,h,p,t[8],1548603684,12),d=i(d,10),p=s(p,y,_,d,h,t[12],1548603684,7),_=i(_,10),h=s(h,p,y,_,d,t[4],1548603684,6),y=i(y,10),d=s(d,h,p,y,_,t[9],1548603684,15),p=i(p,10),_=s(_,d,h,p,y,t[1],1548603684,13),h=i(h,10),y=s(y,_,d,h,p,t[2],1548603684,11),d=i(d,10),p=o(p,y,_,d,h,t[15],1836072691,9),_=i(_,10),h=o(h,p,y,_,d,t[5],1836072691,7),y=i(y,10),d=o(d,h,p,y,_,t[1],1836072691,15),p=i(p,10),_=o(_,d,h,p,y,t[3],1836072691,11),h=i(h,10),y=o(y,_,d,h,p,t[7],1836072691,8),d=i(d,10),p=o(p,y,_,d,h,t[14],1836072691,6),_=i(_,10),h=o(h,p,y,_,d,t[6],1836072691,6),y=i(y,10),d=o(d,h,p,y,_,t[9],1836072691,14),p=i(p,10),_=o(_,d,h,p,y,t[11],1836072691,12),h=i(h,10),y=o(y,_,d,h,p,t[8],1836072691,13),d=i(d,10),p=o(p,y,_,d,h,t[12],1836072691,5),_=i(_,10),h=o(h,p,y,_,d,t[2],1836072691,14),y=i(y,10),d=o(d,h,p,y,_,t[10],1836072691,13),p=i(p,10),_=o(_,d,h,p,y,t[0],1836072691,13),h=i(h,10),y=o(y,_,d,h,p,t[4],1836072691,7),d=i(d,10),p=o(p,y,_,d,h,t[13],1836072691,5),_=i(_,10),h=$(h,p,y,_,d,t[8],2053994217,15),y=i(y,10),d=$(d,h,p,y,_,t[6],2053994217,5),p=i(p,10),_=$(_,d,h,p,y,t[4],2053994217,8),h=i(h,10),y=$(y,_,d,h,p,t[1],2053994217,11),d=i(d,10),p=$(p,y,_,d,h,t[3],2053994217,14),_=i(_,10),h=$(h,p,y,_,d,t[11],2053994217,14),y=i(y,10),d=$(d,h,p,y,_,t[15],2053994217,6),p=i(p,10),_=$(_,d,h,p,y,t[0],2053994217,14),h=i(h,10),y=$(y,_,d,h,p,t[5],2053994217,6),d=i(d,10),p=$(p,y,_,d,h,t[12],2053994217,9),_=i(_,10),h=$(h,p,y,_,d,t[2],2053994217,12),y=i(y,10),d=$(d,h,p,y,_,t[13],2053994217,9),p=i(p,10),_=$(_,d,h,p,y,t[9],2053994217,12),h=i(h,10),y=$(y,_,d,h,p,t[7],2053994217,5),d=i(d,10),p=$(p,y,_,d,h,t[10],2053994217,15),_=i(_,10),h=$(h,p,y,_,d,t[14],2053994217,8),
y=i(y,10),d=a(d,h,p,y,_,t[12],0,8),p=i(p,10),_=a(_,d,h,p,y,t[15],0,5),h=i(h,10),y=a(y,_,d,h,p,t[10],0,12),d=i(d,10),p=a(p,y,_,d,h,t[4],0,9),_=i(_,10),h=a(h,p,y,_,d,t[1],0,12),y=i(y,10),d=a(d,h,p,y,_,t[5],0,5),p=i(p,10),_=a(_,d,h,p,y,t[8],0,14),h=i(h,10),y=a(y,_,d,h,p,t[7],0,6),d=i(d,10),p=a(p,y,_,d,h,t[6],0,8),_=i(_,10),h=a(h,p,y,_,d,t[2],0,13),y=i(y,10),d=a(d,h,p,y,_,t[13],0,6),p=i(p,10),_=a(_,d,h,p,y,t[14],0,5),h=i(h,10),y=a(y,_,d,h,p,t[0],0,15),d=i(d,10),p=a(p,y,_,d,h,t[3],0,13),_=i(_,10),h=a(h,p,y,_,d,t[9],0,11),y=i(y,10),d=a(d,h,p,y,_,t[11],0,11),p=i(p,10);var m=this._b+l+p|0;this._b=this._c+c+y|0,this._c=this._d+f+_|0,this._d=this._e+r+d|0,this._e=this._a+n+h|0,this._a=m},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=n}).call(e,r(1).Buffer)},8:function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,r){return $(t,e,r)}var a=r(1),$=a.Buffer;$.from&&$.alloc&&$.allocUnsafe&&$.allocUnsafeSlow?t.exports=a:(n(a,e),e.Buffer=i),n($,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return $(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=$(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return $(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a.SlowBuffer(t)}},182:function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return h[d]=n,_(d),d++}function i(t){delete h[t]}function a(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function $(t){if(p)setTimeout($,0,t);else{var e=h[t];if(e){p=!0;try{a(e)}finally{i(t),p=!1}}}}function o(){_=function(t){e.nextTick(function(){$(t)})}}function s(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function u(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&$(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),_=function(r){t.postMessage(e+r,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;$(e)},_=function(e){t.port2.postMessage(e)}}function c(){var t=y.documentElement;_=function(e){var r=y.createElement("script");r.onreadystatechange=function(){$(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function f(){_=function(t){setTimeout($,0,t)}}if(!t.setImmediate){var _,d=1,h={},p=!1,y=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?o():s()?u():t.MessageChannel?l():y&&"onreadystatechange"in y.createElement("script")?c():f(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(10))},16:function(t,e,r){function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=r(8).Buffer;n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,a=t.length,$=this._len,o=0;o<a;){for(var s=$%n,u=Math.min(a-o,n-s),l=0;l<u;l++)r[s+l]=t[o+l];$+=u,o+=u,$%n===0&&this._update(r)}return this._len+=a,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},183:function(t,e,r){var e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};e.sha=r(184),e.sha1=r(185),e.sha224=r(186),e.sha256=r(81),e.sha384=r(187),e.sha512=r(82)},184:function(t,e,r){function n(){this.init(),this._w=c,s.call(this,64,56)}function i(t){return t<<5|t>>>27}function a(t){return t<<30|t>>>2}function $(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var o=r(3),s=r(16),u=r(8).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);o(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,c=0;c<16;++c)e[c]=t.readInt32BE(4*c);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var f=0;f<80;++f){var _=~~(f/20),d=i(r)+$(_,n,o,s)+u+e[f]+l[_]|0;u=s,s=o,o=a(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},n.prototype._hash=function(){var t=u.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},185:function(t,e,r){function n(){this.init(),this._w=f,u.call(this,64,56)}function i(t){return t<<1|t>>>31}function a(t){return t<<5|t>>>27}function $(t){return t<<30|t>>>2}function o(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var s=r(3),u=r(16),l=r(8).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);s(n,u),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,s=0|this._c,u=0|this._d,l=0|this._e,f=0;f<16;++f)e[f]=t.readInt32BE(4*f);for(;f<80;++f)e[f]=i(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var _=0;_<80;++_){var d=~~(_/20),h=a(r)+o(d,n,s,u)+l+e[_]+c[d]|0;l=u,u=s,s=$(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},n.prototype._hash=function(){var t=l.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},186:function(t,e,r){function n(){this.init(),this._w=s,$.call(this,64,56)}var i=r(3),a=r(81),$=r(16),o=r(8).Buffer,s=new Array(64);i(n,a),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=n},81:function(t,e,r){function n(){this.init(),this._w=d,c.call(this,64,56)}function i(t,e,r){return r^t&(e^r)}function a(t,e,r){return t&e|r&(t|e)}function $(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function o(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function s(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function u(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var l=r(3),c=r(16),f=r(8).Buffer,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);l(n,c),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,l=0|this._c,c=0|this._d,f=0|this._e,d=0|this._f,h=0|this._g,p=0|this._h,y=0;y<16;++y)e[y]=t.readInt32BE(4*y);for(;y<64;++y)e[y]=u(e[y-2])+e[y-7]+s(e[y-15])+e[y-16]|0;for(var m=0;m<64;++m){var g=p+o(f)+i(f,d,h)+_[m]+e[m]|0,v=$(r)+a(r,n,l)|0;p=h,h=d,d=f,f=c+g|0,c=l,l=n,n=r,r=g+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=f+this._e|0,this._f=d+this._f|0,this._g=h+this._g|0,this._h=p+this._h|0},n.prototype._hash=function(){var t=f.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=n},187:function(t,e,r){function n(){this.init(),this._w=s,$.call(this,128,112)}var i=r(3),a=r(82),$=r(16),o=r(8).Buffer,s=new Array(160);i(n,a),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=o.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=n},82:function(t,e,r){function n(){this.init(),this._w=y,d.call(this,128,112)}function i(t,e,r){return r^t&(e^r)}function a(t,e,r){return t&e|r&(t|e)}function $(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function o(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function s(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function u(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function l(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function c(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function f(t,e){return t>>>0<e>>>0?1:0}var _=r(3),d=r(16),h=r(8).Buffer,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);_(n,d),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,_=0|this._ch,d=0|this._dh,h=0|this._eh,y=0|this._fh,m=0|this._gh,g=0|this._hh,v=0|this._al,b=0|this._bl,w=0|this._cl,k=0|this._dl,E=0|this._el,x=0|this._fl,A=0|this._gl,O=0|this._hl,S=0;S<32;S+=2)e[S]=t.readInt32BE(4*S),e[S+1]=t.readInt32BE(4*S+4);for(;S<160;S+=2){var M=e[S-30],T=e[S-30+1],R=s(M,T),I=u(T,M);M=e[S-4],T=e[S-4+1];var C=l(M,T),N=c(T,M),z=e[S-14],P=e[S-14+1],B=e[S-32],q=e[S-32+1],D=I+P|0,L=R+z+f(D,I)|0;D=D+N|0,L=L+C+f(D,N)|0,D=D+q|0,L=L+B+f(D,q)|0,e[S]=L,e[S+1]=D}for(var F=0;F<160;F+=2){L=e[F],D=e[F+1];var j=a(r,n,_),U=a(v,b,w),H=$(r,v),G=$(v,r),Y=o(h,E),W=o(E,h),K=p[F],X=p[F+1],V=i(h,y,m),J=i(E,x,A),Z=O+W|0,Q=g+Y+f(Z,O)|0;Z=Z+J|0,Q=Q+V+f(Z,J)|0,Z=Z+X|0,Q=Q+K+f(Z,X)|0,Z=Z+D|0,Q=Q+L+f(Z,D)|0;var tt=G+U|0,et=H+j+f(tt,G)|0;g=m,O=A,m=y,A=x,y=h,x=E,E=k+Z|0,h=d+Q+f(E,k)|0,d=_,k=w,_=n,w=b,n=r,b=v,v=Z+tt|0,r=Q+et+f(v,Z)|0}this._al=this._al+v|0,this._bl=this._bl+b|0,this._cl=this._cl+w|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+O|0,this._ah=this._ah+r+f(this._al,v)|0,this._bh=this._bh+n+f(this._bl,b)|0,this._ch=this._ch+_+f(this._cl,w)|0,this._dh=this._dh+d+f(this._dl,k)|0,this._eh=this._eh+h+f(this._el,E)|0,this._fh=this._fh+y+f(this._fl,x)|0,this._gh=this._gh+m+f(this._gl,A)|0,this._hh=this._hh+g+f(this._hl,O)|0},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=h.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=n},83:function(t,e,r){function n(){i.call(this)}t.exports=n;var i=r(32).EventEmitter,a=r(3);a(n,i),n.Readable=r(42),n.Writable=r(180),n.Duplex=r(175),n.Transform=r(179),n.PassThrough=r(178),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function a(){l||(l=!0,t.end())}function $(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function o(t){if(s(),0===i.listenerCount(this,"error"))throw t}function s(){u.removeListener("data",r),t.removeListener("drain",n),u.removeListener("end",a),u.removeListener("close",$),u.removeListener("error",o),t.removeListener("error",o),u.removeListener("end",s),u.removeListener("close",s),t.removeListener("close",s)}var u=this;u.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(u.on("end",a),u.on("close",$));var l=!1;return u.on("error",o),t.on("error",o),u.on("end",s),u.on("close",s),t.on("close",s),t.emit("pipe",u),t}},84:function(t,e,r){"use strict";function n(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=n(t);if("string"!=typeof e&&(m.isEncoding===g||!g(t)))throw new Error("Unknown encoding: "+t);return e||t}function a(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=f,this.end=_,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=d,this.end=h,e=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(e)}function $(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function o(t,e,r){var n=e.length-1;if(n<r)return 0;var i=$(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=$(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=$(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function s(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function u(t){var e=this.lastTotal-this.lastNeed,r=s(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){var r=o(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function f(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function _(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function d(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}var m=r(8).Buffer,g=m.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=c,a.prototype.text=l,a.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},188:function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(182),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},189:function(t,e){(function(e){function r(t,e){function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(e,function(){return this}())},85:function(t,e){(function(e){t.exports=e}).call(e,{})},43:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},86:function(t,e,r){(function(e){t.exports=function(t,r,n,i){n/=8,i=i||0;for(var a,$,o,s=0,u=0,l=new e(n),c=new e(i),f=0;;){if(a=t.createHash("md5"),f++>0&&a.update($),a.update(r),$=a.digest(),o=0,n>0)for(;;){if(0===n)break;if(o===$.length)break;l[s++]=$[o],n--,o++}if(i>0&&o!==$.length)for(;;){if(0===i)break;if(o===$.length)break;c[u++]=$[o],i--,o++}if(0===n&&0===i)break}for(o=0;o<$.length;o++)$[o]=0;return{key:l,iv:c}}}).call(e,r(1).Buffer)},44:function(t,e,r){(function(t){function r(t){var e,r;return e=t>o||t<0?(r=Math.abs(t)%o,t<0?o-r:r):t}function n(t){var e,r,n;for(e=r=0,n=t.length;0<=n?r<n:r>n;e=0<=n?++r:--r)t[e]=0;return!1}function i(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.INV_SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function a(t){for(var e=t.length/4,r=new Array(e),n=-1;++n<e;)r[n]=t.readUInt32BE(4*n);return r}function $(t){this._key=a(t),this._doReset()}var o=Math.pow(2,32);i.prototype.init=function(){var t,e,r,n,i,a,$,o,s,u;for(t=function(){var t,r;for(r=[],e=t=0;t<256;e=++t)e<128?r.push(e<<1):r.push(e<<1^283);return r}(),i=0,s=0,e=u=0;u<256;e=++u)r=s^s<<1^s<<2^s<<3^s<<4,r=r>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,a=t[i],$=t[a],o=t[$],n=257*t[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*o^65537*$^257*a^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=s=1:(i=a^t[t[t[o^a]]],s^=t[t[s]]);return!0};var s=new i;$.blockSize=16,$.prototype.blockSize=$.blockSize,$.keySize=32,$.prototype.keySize=$.keySize,$.ivSize=$.blockSize,$.prototype.ivSize=$.ivSize,$.prototype._doReset=function(){var t,e,r,n,i,a,$,o;for(r=this._key,e=r.length,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],n=$=0;0<=i?$<i:$>i;n=0<=i?++$:--$)this._keySchedule[n]=n<e?r[n]:(a=this._keySchedule[n-1],n%e===0?(a=a<<8|a>>>24,a=s.SBOX[a>>>24]<<24|s.SBOX[a>>>16&255]<<16|s.SBOX[a>>>8&255]<<8|s.SBOX[255&a],a^=s.RCON[n/e|0]<<24):e>6&&n%e===4?a=s.SBOX[a>>>24]<<24|s.SBOX[a>>>16&255]<<16|s.SBOX[a>>>8&255]<<8|s.SBOX[255&a]:void 0,this._keySchedule[n-e]^a);for(this._invKeySchedule=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)n=i-t,a=this._keySchedule[n-(t%4?0:4)],this._invKeySchedule[t]=t<4||n<=4?a:s.INV_SUB_MIX[0][s.SBOX[a>>>24]]^s.INV_SUB_MIX[1][s.SBOX[a>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[a>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&a]];return!0},$.prototype.encryptBlock=function(e){e=a(new t(e));var r=this._doCryptBlock(e,this._keySchedule,s.SUB_MIX,s.SBOX),n=new t(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},$.prototype.decryptBlock=function(e){e=a(new t(e));var r=[e[3],e[1]];e[1]=r[0],e[3]=r[1];var n=this._doCryptBlock(e,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX),i=new t(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},$.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},$.prototype._doCryptBlock=function(t,e,n,i){var a,$,o,s,u,l,c,f,_,d,h,p;for(o=t[0]^e[0],s=t[1]^e[1],u=t[2]^e[2],l=t[3]^e[3],a=4,$=h=1,p=this._nRounds;1<=p?h<p:h>p;$=1<=p?++h:--h)c=n[0][o>>>24]^n[1][s>>>16&255]^n[2][u>>>8&255]^n[3][255&l]^e[a++],f=n[0][s>>>24]^n[1][u>>>16&255]^n[2][l>>>8&255]^n[3][255&o]^e[a++],_=n[0][u>>>24]^n[1][l>>>16&255]^n[2][o>>>8&255]^n[3][255&s]^e[a++],d=n[0][l>>>24]^n[1][o>>>16&255]^n[2][s>>>8&255]^n[3][255&u]^e[a++],o=c,s=f,u=_,l=d;return c=(i[o>>>24]<<24|i[s>>>16&255]<<16|i[u>>>8&255]<<8|i[255&l])^e[a++],f=(i[s>>>24]<<24|i[u>>>16&255]<<16|i[l>>>8&255]<<8|i[255&o])^e[a++],_=(i[u>>>24]<<24|i[l>>>16&255]<<16|i[o>>>8&255]<<8|i[255&s])^e[a++],d=(i[l>>>24]<<24|i[o>>>16&255]<<16|i[s>>>8&255]<<8|i[255&u])^e[a++],[r(c),r(f),r(_),r(d)]},e.AES=$}).call(e,r(1).Buffer)},45:function(t,e,r){(function(e){function n(){i.call(this)}var i=r(83).Transform,a=r(3);t.exports=n,a(n,i),n.prototype.update=function(t,r,n){this.write(t,r);for(var i,a=new e("");i=this.read();)a=e.concat([a,i]);return n&&(a=a.toString(n)),a},n.prototype.final=function(t){this.end();for(var r,n=new e("");r=this.read();)n=e.concat([n,r]);return t&&(n=n.toString(t)),n}}).call(e,r(1).Buffer)},190:function(t,e,r){(function(e){function n(t,r,a){return this instanceof n?(o.call(this),this._cache=new i,this._last=void 0,this._cipher=new $.AES(r),this._prev=new e(a.length),a.copy(this._prev),void(this._mode=t)):new n(t,r,a)}function i(){return this instanceof i?void(this.cache=new e("")):new i}function a(t){var e=t[15];if(16!==e)return t.slice(0,16-e)}var $=r(44),o=r(45),s=r(3),u=r(46),l=r(92),c=r(86);s(n,o),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.decrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();return e?(this.push(a(this._mode.decrypt(this,e))),void t()):t},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>16){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var f={ECB:r(90),CBC:r(87),CFB:r(88),OFB:r(91),CTR:r(89)};t.exports=function(t){function r(t,r,i){var a=u[t];if(!a)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==a.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==a.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===a.type?new l(f[a.mode],r,i,!0):new n(f[a.mode],r,i)}function i(e,n){var i=u[e];if(!i)throw new TypeError("invalid suite type");var a=c(t,n,i.key,i.iv);return r(e,a.key,a.iv)}return{createDecipher:i,createDecipheriv:r}}}).call(e,r(1).Buffer)},191:function(t,e,r){(function(e){function n(t,r,o){return this instanceof n?($.call(this),this._cache=new i,this._cipher=new a.AES(r),this._prev=new e(o.length),o.copy(this._prev),void(this._mode=t)):new n(t,r,o)}function i(){return this instanceof i?void(this.cache=new e("")):new i}var a=r(44),$=r(45),o=r(3),s=r(46),u=r(86),l=r(92);o(n,$),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.encrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();this.push(this._mode.encrypt(this,e)),this._cipher.scrub(),t()},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,r=new e(t),n=-1;++n<t;)r.writeUInt8(t,n);var i=e.concat([this.cache,r]);return i};var c={ECB:r(90),CBC:r(87),CFB:r(88),OFB:r(91),CTR:r(89)};t.exports=function(t){function r(t,r,i){var a=s[t];if(!a)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==a.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==a.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===a.type?new l(c[a.mode],r,i):new n(c[a.mode],r,i)}function i(e,n){var i=s[e];if(!i)throw new TypeError("invalid suite type");var a=u(t,n,i.key,i.iv);return r(e,a.key,a.iv)}return{createCipher:i,createCipheriv:r}}}).call(e,r(1).Buffer)},192:function(t,e,r){t.exports=function(t,e){function n(){return Object.keys($)}e=e||{};var i=r(191)(t);e.createCipher=i.createCipher,e.createCipheriv=i.createCipheriv;var a=r(190)(t);e.createDecipher=a.createDecipher,e.createDecipheriv=a.createDecipheriv;var $=r(46);e.listCiphers=n}},46:function(t,e){e["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},e["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},e["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},e["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},e["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},e["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},e.aes128=e["aes-128-cbc"],e.aes192=e["aes-192-cbc"],e.aes256=e["aes-256-cbc"],e["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},e["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},e["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},e["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},e["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},e["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},e["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},e["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},e["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},87:function(t,e,r){var n=r(28);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},88:function(t,e,r){(function(t){function n(e,r,n){var a=r.length,$=i(r,e._cache);return e._cache=e._cache.slice(a),e._prev=t.concat([e._prev,n?r:$]),$}var i=r(28);e.encrypt=function(e,r,i){for(var a,$=new t("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=r.length)){$=t.concat([$,n(e,r,i)]);break}a=e._cache.length,$=t.concat([$,n(e,r.slice(0,a),i)]),r=r.slice(a)}return $}}).call(e,r(1).Buffer)},89:function(t,e,r){(function(t){function n(t){var e=t._cipher.encryptBlock(t._prev);return i(t._prev),e}function i(t){for(var e,r=t.length;r--;){if(e=t.readUInt8(r),255!==e){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}var a=r(28);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),a(r,i)}}).call(e,r(1).Buffer)},90:function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},91:function(t,e,r){(function(t){function n(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=r(28);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var a=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),i(r,a)}}).call(e,r(1).Buffer)},92:function(t,e,r){(function(e){function n(t,r,$,o){return this instanceof n?(a.call(this),this._cipher=new i.AES(r),this._prev=new e($.length),this._cache=new e(""),this._secCache=new e(""),this._decrypt=o,$.copy(this._prev),
void(this._mode=t)):new n(t,r,$)}var i=r(44),a=r(45),$=r(3);$(n,a),t.exports=n,n.prototype._transform=function(t,e,r){r(null,this._mode.encrypt(this,t,this._decrypt))},n.prototype._flush=function(t){this._cipher.scrub(),t()}}).call(e,r(1).Buffer)},28:function(t,e,r){(function(e){function r(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),a=-1;++a<n;)i.writeUInt8(t[a]^r[a],a);return i}t.exports=r}).call(e,r(1).Buffer)},93:function(t,e,r){(function(e){function n(t){return function(){var r=[],n={update:function(t,n){return e.isBuffer(t)||(t=new e(t,n)),r.push(t),this},digest:function(n){var i=e.concat(r),a=t(i);return r=null,n?a.toString(n):a}};return n}}var i=r(183),a=n(r(195)),$=n(r(181));t.exports=function(t){return"md5"===t?new a:"rmd160"===t?new $:i(t)}}).call(e,r(1).Buffer)},193:function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);this._opad=s,this._alg=t;var $="sha512"===t?128:64;r=this._key=e.isBuffer(r)?r:new e(r),r.length>$?r=i(t).update(r).digest():r.length<$&&(r=e.concat([r,a],$));for(var o=this._ipad=new e($),s=this._opad=new e($),u=0;u<$;u++)o[u]=54^r[u],s[u]=92^r[u];this._hash=i(t).update(o)}var i=r(93),a=new e(128);a.fill(0),t.exports=n,n.prototype.update=function(t,e){return this._hash.update(t,e),this},n.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,r(1).Buffer)},194:function(t,e,r){(function(e){function r(t,r){if(t.length%a!==0){var n=t.length+(a-t.length%a);t=e.concat([t,$],n)}for(var i=[],o=r?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=a)i.push(o.call(t,s));return i}function n(t,r,n){for(var i=new e(r),a=n?i.writeInt32BE:i.writeInt32LE,$=0;$<t.length;$++)a.call(i,t[$],4*$,!0);return i}function i(t,i,a,$){e.isBuffer(t)||(t=new e(t));var s=i(r(t,$),t.length*o);return n(s,a,$)}var a=4,$=new e(a);$.fill(0);var o=8;t.exports={hash:i}}).call(e,r(1).Buffer)},94:function(t,e,r){(function(n){function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function a(t,e){for(var r in t)e(t[r],r)}var $=r(197);e.createHash=r(93),e.createHmac=r(193),e.randomBytes=function(t,e){if(!e||!e.call)return new n($(t));try{e.call(this,void 0,new n($(t)))}catch(t){e(t)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var o=r(196)(e);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync,r(192)(e,t.exports),a(["createCredentials","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){i("sorry,",t,"is not implemented yet")}})}).call(e,r(1).Buffer)},200:function(t,e){},154:function(t,e,r){function n(t){return r(i(t))}function i(t){return a[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var a={"./base64":33,"./base64.js":33,"./index":34,"./index.js":34,"./nodejs":35,"./nodejs.js":35,"./opal":36,"./opal.js":36,"./open-uri":37,"./open-uri.js":37,"./pathname":38,"./pathname.js":38,"./stringio":39,"./stringio.js":39};n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=154},199:function(t,e){},198:function(t,e){},195:function(t,e,r){function n(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,l=271733878,c=0;c<t.length;c+=16){var f=r,_=n,d=i,h=l;r=a(r,n,i,l,t[c+0],7,-680876936),l=a(l,r,n,i,t[c+1],12,-389564586),i=a(i,l,r,n,t[c+2],17,606105819),n=a(n,i,l,r,t[c+3],22,-1044525330),r=a(r,n,i,l,t[c+4],7,-176418897),l=a(l,r,n,i,t[c+5],12,1200080426),i=a(i,l,r,n,t[c+6],17,-1473231341),n=a(n,i,l,r,t[c+7],22,-45705983),r=a(r,n,i,l,t[c+8],7,1770035416),l=a(l,r,n,i,t[c+9],12,-1958414417),i=a(i,l,r,n,t[c+10],17,-42063),n=a(n,i,l,r,t[c+11],22,-1990404162),r=a(r,n,i,l,t[c+12],7,1804603682),l=a(l,r,n,i,t[c+13],12,-40341101),i=a(i,l,r,n,t[c+14],17,-1502002290),n=a(n,i,l,r,t[c+15],22,1236535329),r=$(r,n,i,l,t[c+1],5,-165796510),l=$(l,r,n,i,t[c+6],9,-1069501632),i=$(i,l,r,n,t[c+11],14,643717713),n=$(n,i,l,r,t[c+0],20,-373897302),r=$(r,n,i,l,t[c+5],5,-701558691),l=$(l,r,n,i,t[c+10],9,38016083),i=$(i,l,r,n,t[c+15],14,-660478335),n=$(n,i,l,r,t[c+4],20,-405537848),r=$(r,n,i,l,t[c+9],5,568446438),l=$(l,r,n,i,t[c+14],9,-1019803690),i=$(i,l,r,n,t[c+3],14,-187363961),n=$(n,i,l,r,t[c+8],20,1163531501),r=$(r,n,i,l,t[c+13],5,-1444681467),l=$(l,r,n,i,t[c+2],9,-51403784),i=$(i,l,r,n,t[c+7],14,1735328473),n=$(n,i,l,r,t[c+12],20,-1926607734),r=o(r,n,i,l,t[c+5],4,-378558),l=o(l,r,n,i,t[c+8],11,-2022574463),i=o(i,l,r,n,t[c+11],16,1839030562),n=o(n,i,l,r,t[c+14],23,-35309556),r=o(r,n,i,l,t[c+1],4,-1530992060),l=o(l,r,n,i,t[c+4],11,1272893353),i=o(i,l,r,n,t[c+7],16,-155497632),n=o(n,i,l,r,t[c+10],23,-1094730640),r=o(r,n,i,l,t[c+13],4,681279174),l=o(l,r,n,i,t[c+0],11,-358537222),i=o(i,l,r,n,t[c+3],16,-722521979),n=o(n,i,l,r,t[c+6],23,76029189),r=o(r,n,i,l,t[c+9],4,-640364487),l=o(l,r,n,i,t[c+12],11,-421815835),i=o(i,l,r,n,t[c+15],16,530742520),n=o(n,i,l,r,t[c+2],23,-995338651),r=s(r,n,i,l,t[c+0],6,-198630844),l=s(l,r,n,i,t[c+7],10,1126891415),i=s(i,l,r,n,t[c+14],15,-1416354905),n=s(n,i,l,r,t[c+5],21,-57434055),r=s(r,n,i,l,t[c+12],6,1700485571),l=s(l,r,n,i,t[c+3],10,-1894986606),i=s(i,l,r,n,t[c+10],15,-1051523),n=s(n,i,l,r,t[c+1],21,-2054922799),r=s(r,n,i,l,t[c+8],6,1873313359),l=s(l,r,n,i,t[c+15],10,-30611744),i=s(i,l,r,n,t[c+6],15,-1560198380),n=s(n,i,l,r,t[c+13],21,1309151649),r=s(r,n,i,l,t[c+4],6,-145523070),l=s(l,r,n,i,t[c+11],10,-1120210379),i=s(i,l,r,n,t[c+2],15,718787259),n=s(n,i,l,r,t[c+9],21,-343485551),r=u(r,f),n=u(n,_),i=u(i,d),l=u(l,h)}return Array(r,n,i,l)}function i(t,e,r,n,i,a){return u(l(u(u(e,t),u(n,a)),i),r)}function a(t,e,r,n,a,$,o){return i(e&r|~e&n,t,e,a,$,o)}function $(t,e,r,n,a,$,o){return i(e&n|r&~n,t,e,a,$,o)}function o(t,e,r,n,a,$,o){return i(e^r^n,t,e,a,$,o)}function s(t,e,r,n,a,$,o){return i(r^(e|~n),t,e,a,$,o)}function u(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function l(t,e){return t<<e|t>>>32-e}var c=r(194);t.exports=function(t){return c.hash(t,n,16)}},196:function(t,e,r){var n=r(155);t.exports=function(t,e){e=e||{};var r=n(t);return e.pbkdf2=r.pbkdf2,e.pbkdf2Sync=r.pbkdf2Sync,e}},197:function(t,e,r){(function(e,n){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||r(200),t.exports=function(t){if(_crypto.getRandomValues){var e=new n(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),r(1).Buffer)},417:function(t,e){t.exports={name:"s-key",description:"Simple Key - A Vietnamese Input Engine by Nghia Huynh Trong",version:"2018.1.0",author:"Nghia Huynh Trong <masterlingyun@gmail.com>",dependencies:{"asciidoctor.js":"^1.5.6",clipboard:"^2.0.1","console-logging":"^2018.1.1",gatsby:"^1.9.247","gatsby-link":"^1.6.40","gatsby-plugin-no-sourcemaps":"^1.0.5","gatsby-plugin-react-helmet":"^2.0.10","prop-types":"^15.6.1",react:"^16.3.2","react-helmet":"^5.2.0"},keywords:["gatsby"],license:"MIT",scripts:{build:"gatsby build","build-prefix":"gatsby build --prefix-paths",develop:"gatsby develop",format:"prettier --write 'src/**/*.js'",test:'echo "Error: no test specified" && exit 1'},devDependencies:{mocha:"^5.1.1",prettier:"^1.12.0"}}},275:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function $(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){null==e&&(e=t.length-1);for(var r=t,n=0,i=e;i>=0;i--){var a=r[i];if(_.indexOf(a)!==-1){n=i+1;break}}return[n,e+1,r.substr(n,e+1-n)]}e.__esModule=!0;var s=r(6),u=n(s),l=r(115),c=r(292),f=n(c),_=" ,.;\\/\n\t",d=" ,.;?!:'\"}])",h=function(t){function e(r){i(this,e);var n=a(this,t.call(this,r));return n.HelperButtons=function(){return u.default.createElement("div",{className:"button-group"},u.default.createElement("button",{className:"btnTextAreaSKey button",type:"button","data-clipboard-action":"copy","data-clipboard-target":"#textAreaSKey"},"Sao chép"),u.default.createElement("button",{className:"btnTextAreaSKey button margin-left-0",type:"button","data-clipboard-action":"cut","data-clipboard-target":"#textAreaSKey"},"Cắt"),u.default.createElement("button",{className:"btnCut button alert",type:"button",onClick:n.handleClear},"Xóa"),n.state.statusText&&u.default.createElement("em",{className:"clear button success"},n.state.statusText))},n.state={value:"",statusText:""},n.setTextInputRef=function(t){n.textInput=t},n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleClear=n.handleClear.bind(n),n.lastModifiersStatus={},n.shouldReturn=!1,n.hasBreak=!1,n}return $(e,t),e.prototype.componentDidMount=function(){var t=this,e=new f.default(".btnTextAreaSKey");e.on("success",function(e){t.setState({statusText:"Đã "+e.action}),setTimeout(function(){return t.setState({statusText:""})},3e3),e.clearSelection()}),e.on("error",function(e){t.setState({statusText:"Lỗi "+e.action})})},e.prototype.handleClear=function(){this.textInput.value="",this.setState({value:""})},e.prototype.handleKeyDown=function(t){return d.indexOf(t.key)!==-1?this.hasBreak=!0:this.hasBreak=!1,t&&(t.keyCode>=48&&t.keyCode<=90||219===t.keyCode||221===t.keyCode)?(this.lastModifiersStatus={shift:t.getModifierState("Shift"),capslock:t.getModifierState("CapsLock")},void(this.shouldReturn=!1)):(this.lastModifiersStatus={},void(this.shouldReturn=!0))},e.prototype.handleChange=function(t){if(this.hasBreak){var e=t.target.value,r=o(e,e.length-2),n=(0,l.acutize)(r[2]);n&&n.length===r[2].length&&(t.target.value=e.substring(0,r[0])+n+e.substring(r[1]))}if(!this.shouldReturn){var i=t.target.value,a=o(i,i.length-1),$=(0,l.doEvaluate)(a[2],this.lastModifiersStatus);t.target.value=i.substring(0,a[0])+$+i.substring(a[1])}},e.prototype.render=function(){return u.default.createElement("div",null,this.HelperButtons(),u.default.createElement("textarea",{id:"textAreaSKey",ref:this.setTextInputRef,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:"form-control",rows:"10"}),u.default.createElement("br",null),this.HelperButtons())},e}(u.default.Component);e.default=h,t.exports=e.default},279:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(6),a=n(i),$=r(146),o=n($),s=r(275),u=n(s),l=r(47),c=r(417).version,f="Sun, 22 Jul 2018 09:47:11 GMT",_=(0,l.convertAsciidoc)('\n:sectanchors:\n   ___            _  __            _  _  \n  / __|    ___   | |/ /    ___    | || | \n  \\__ \\   |___|  | \' <    / -_)    \\_, | \n  |___/   _____  |_|\\_\\   \\___|   _|__/  \n_|"""""|_|     |_|"""""|_|"""""|_| """"| \n"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\'"`-0-0-\' \n\n== BỘ GÕ TIẾNG VIỆT S-KEY\n\n* S-Key, hay **S**imple-Key (Vietnamese Input Engine) là bộ gõ được ra đời nhằm thể nghiệm sự kết hợp giữa \nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm[kiểu gõ dấu Tubinhtran-MS] và http://chuvietnhanh.sourceforge.net/ChuVietNhanhCachGhiGonChuViet.htm[phương pháp ghi gọn chữ Việt].\n\nNOTE: Thử nghiệm bộ gõ bằng cách nhập vào khung bên dưới theo đúng các quy tắc của kiểu gõ Tubinhtran-MS + PP ghi gọn chữ Việt.\n\n`S-Key '+c+" (Built at "+f+")`\n"),d=(0,l.convertAsciidoc)("\n:sectanchors:\n\n=== TẢI VỀ\n\n* Dùng trực tiếp trong khung soạn thảo tại trang này, kết hợp với các nút Sao chép, cắt, xóa để có thể mang nội dung Tiếng Việt được gõ sang nơi khác.\n* Phần mở rộng (extension) trên trình duyệt Google Chrome: https://chrome.google.com/webstore/detail/b%E1%BB%99-g%C3%B5-s-key/gegiolkbncjbckhcfihiogkinmggnlfi[Bộ gõ S-Key].\n\nChú ý khi dùng extension, thì không nên gõ trên khung soạn thảo trên sẽ gây xung đột với S-Key online.\n"),h=(0,l.convertAsciidoc)('\n:sectanchors:\n\n=== NHẬT KÝ PHÁT TRIỂN\n\n* **22/07/2018**\n\n* Đăng tải bản thử nghiệm của https://chrome.google.com/webstore/detail/b%E1%BB%99-g%C3%B5-s-key/gegiolkbncjbckhcfihiogkinmggnlfi[Bộ gõ S-Key] lên Chrome Web Store (extension)\n\n* **21/07/2018**\n\n* Thêm bộ ba nút hỗ trợ: Sao chép, cắt, xóa vào khung soạn thảo S-Key\n\n* **06/07/2018**\n** Sửa lỗi cy => ky (cỷ => kỷ, ..).\n** Tận dụng lại một số dấu ngắt câu trong lúc xử lý tự thêm dấu sắc ở vần ngược để tách các từ riêng khi viết liền nhau bởi dấu ngắt câu.\nVí dụ ở phiên bản trước muốn gõ lợi/hại thì không được bởi "lợi/hại" được S-Key hiểu là 1 từ nên bỏ dấu sai, \nở phiên bản này S-Key chủ động tách từ dựa vào một số dấu ngắt câu (trong đó có /).\n** Sửa lỗi chính ji => gi (Cũ: ji => gii).\n\n* **24/6/2018**\n** Bổ sung các dấu ngắt câu để S-Key thử thực hiện quy tắc thêm dấu sắc ở vần ngược, gồm\n*** Dấu 2 chấm :\n*** Dấu nháy đơn \'\n*** Dấu nháy kép "\n*** Dấu ngoặc vuông đóng ]\n*** Dấu ngoặc tròn đóng )\n\n** Đối với ] và } vì đều từ phím ] (shift sẽ thành }) mà gõ ra, thì chúng nằm trong quy tắc nguyên âm bằng một phím (=> ơ) \nvà cũng nằm trong danh sách các dấu ngắt câu để thực hiện quy tắc thêm dấu sắc ở vần ngược dẫn đến sự xung đột. Trong phiên bản này\nbổ sung mã để làm rõ hơn việc xác định một phím gõ có được bung ra quy tắc nguyên âm bằng một phím hay không.   \n\n** Điều chỉnh lại hành vi khi bung quy tắc phụ âm đầu chữ c => k chỉ khi đi với i, e ,ê\n   \n   c => c\n   c,a => ca\n   c,i => ki\n   c,e => ke\n   c,ê => kê\n   \n** Sửa lỗi gõ lặp các chữ không liên quan đến một trong các quy tắc của S-Key.\n\n   x,o,o => xoo (Cũ: x,o,o => xo)\n   \n* **26/5/2018**\n** Sửa lỗi khi gõ lặp theo quy tắc gõ nguyên âm bằng một phím. \n        \n    Ví dụ theo thứ tự gõ \n    ( = > Ă (Quy tắc gõ nguyên âm bằng một phím, "(" = Shift + 9)\n    Ă( => ( (Gõ lặp)\n    (n => Ăn (Gõ tiếp n sau ( thì ( lại tự bung thành Ă trở lại, mâu thuẫn với kết quả gõ lặp ở bước trên - Build 13.05.2018)    \n    \n    Sửa lại\n    ...\n    (n => (n (Build 26.05.2018)    \n\n** Hiện trạng cách xử lý của S-Key thông qua một số ví dụ như sau:\n*** Hỏa3 => Hoa3 (Gõ lặp)\n*** Hà1 => Há2 (Đang phân vân giữa việc hủy toàn bộ dấu và trả ra Ha21 hoặc đổi từ dấu huyền sang dấu sắc như hiện tại, nhưng việc đổi dấu trực tiếp có thể sẽ hữu ích với những từ dài,\nvd: hướng2 => hường1 (khi người dùng gõ một từ nhưng nhầm dấu thì chỉ cần gõ phím dấu mới, việc giữ hành vi này mang ý nghĩa tiện ích cho người dùng).\n*** _Vẫn mong muốn làm thật đơn giản, có thể sẽ không cần và không nên làm các pha xử lý phức tạp chỉ để giải quyết một số trường hợp gõ ít gặp. \nHoặc thậm chí là không cần xử lý gì thêm, người dùng gõ sao ra vậy, nếu sai thì xóa và tự gõ lại. \nTuy nhiên vấn đề này vẫn cần cân nhắc thêm, việc S-Key thực thi PP ghi gọn Chữ Việt bản chất đã là một tập những hành vi được biến đổi khi gõ mà người dùng phải học qua các quy tắc mới chấp nhận được.\n(bung ra phụ âm đầu chữ, nguyên âm bằng một phím,... xuyên suốt trong toàn bộ phương pháp) cho nên khó có thể tránh được việc phải thực thi những hành vi "khác" mong muốn được!_ \n        \n* **13/5/2018**\n** Tìm ra nguyên nhân và khắc phục việc khi gõ nhanh thì không thực hiện được quy tắc bung phụ âm đầu chữ bằng một phím, do việc lựa chọn cách bắt sự kiện gõ phím.\n** Sửa lỗi chữ in hoa đầu câu khi thực hiện quy tắc nguyên âm ghép + chữ cái (Iw = Yêu, {s = Ươc).\n** Rút gọn 3 pha xử lý của S-Key xuống còn 1 pha.\n   \nCAUTION: Vẫn đang điều chỉnh xử lí khi gặp nguyên âm được bung ra bằng một phím và các phím bỏ dấu. Có thể sẽ có một số lỗi trong phiên bản hiện tại.\n\n* **9/5/2018**\n** Tắt xử lí bung phụ âm đầu chữ k = c\n** Sửa lỗi chính tả khi bung phụ âm đầu chữ gh = g\n\n* **7/5/2018**\n** Bổ sung pha xử lý dấu sắc ở vần ngược cho từ phía trước nếu có thể, khi người dùng gõ một kí tự thuộc dấu ngắt câu: \n``khoảng trắng, dấu phẩy, dấu chấm phẩy, dấu chấm, dấu hỏi, và dấu chấm than`` thì bộ gõ sẽ cố gắng tìm từ trước đó và \nkiểm tra nó có thỏa mãn điều kiện xử lý dấu sắc ở vần ngược (bán nguyên âm chưa bỏ dấu + phụ âm cuối c,ch,p,t).\n** Sửa lỗi chính tả cho một số trường hợp với phụ âm đầu chữ k - c (kư - cư). \n** Hiện trạng với quy tắc bung ra phụ âm đầu chữ bằng một phím, có vẻ như xử lí bên dưới khá nặng, nếu gõ từ tốn từng phím (k ra c, f ra ph) thì vẫn bình thường\nnhưng khi gõ nhanh 2 phím liên tục thì lại không hiệu nghiệm, cần kiểm tra lại thêm.\n** Cảm nhận về việc bung ra phụ âm k bằng c\n\n    Ta gõ c sẽ bung ra k.\n    Ta phải gõ lặp c,c để ra được c.\n    Ta có thể gõ lặp k,k để ra k.\n    Như vậy k có 2 cách gõ để bung ra được.\n        \n    Có một hướng khác là ta không dùng gõ c để bung ra k.\n    Ta gõ k sẽ bung ra kh.\n    Và ta gõ lặp k,k để bung ra k.    \n    Và gõ c vẫn chỉ bung ra c.\n    Lúc này k chỉ có 1 cách gõ để bung ra được.\n    \n    Với hướng này ta bớt học đi 1 quy tắc, và chỉ phải gõ lặp k,k thôi chứ ko phải nhớ thêm gõ c ra k nữa vì c lúc này mãi ra c.\n    Tuy nhiên cảm nhận này chỉ thấy lúc gõ thôi, còn về mặt viết thì đặt riêng ra 2 quy tắc c thay k, và k thay kh để hình thành 2 quy tắc độc lập. \n\n* **1/5/2018**\n** **22:45**:\n*** Sửa lỗi gõ chữ in hoa đầu câu khi gõ phím bung ra phụ âm ghép đầu chữ (ph=f, Ph=F).\n    \n    Cần theo dõi và thu thập thêm một số trường hợp gõ in hoa (lúc sửa chính tả,...)\n    \n*** Thêm phần sửa chính tả khi dùng phụ âm đầu chữ ng=w cùng với quy tắc nguyên âm ghép + chữ cái (w,e,v --> ng -> nghe -> ngoem). Cần bổ sung thêm với k=c,...\n*** Sửa lỗi với q,y,l (quuyên) - tự động bỏ nguyên âm thừa đằng trước (u) nếu quy tắc nguyên âm ghép + chữ cái khi bung ra cũng có nguyên âm này. \n** Thêm link:test[trang chạy thử nghiệm bộ gõ]\n** Sửa một số lỗi nhỏ.\n** Còn bỏ ngõ: \n*** Dấu sắc ở vần ngược: đang cân nhắc vì làm ảnh hưởng đến cơ chế bỏ dấu cũng như cơ chế test, \nvà hành vi tự bỏ dấu sắc khá mơ hồ, hoặc có thể thực hiện khi qua từ mới sẽ bỏ dấu cho vần ngược ở từ trước đó.\n*** i thay y, y thay uy: i thay y không mấy hữu dụng, y thay uy thì nên làm.\n*** Vẫn cần một bộ sửa lỗi chính tả vì có một số trường hợp đặc biệt khi kết hợp giữa gõ phụ âm đầu chữ bằng 1 phím \nvà quy tắc nguyên âm ghép + chữ cái (như với ng/ngh=w, qu=q). \n\n* **30/4/2018**: Cập nhật phiên bản 2018.1.0 (Build 30/4/2018)\n** Sửa lỗi bung phụ âm đầu chữ w -> ng/ngh: chỉ bung w -> ng/ngh khi từ có từ 2 kí tự trở lên và phải thỏa \n`ng + a,o,u,â,ă,ô,ư,ơ` hoặc `ngh + e,i,ê`.\nRiêng các phụ âm đầu chữ khác đã bung ngay từ lúc gõ theo đúng quy tắc.\n** Sửa lỗi khi gõ lặp các phím dấu, cũng như lặp hoặc có nhiều kí số trong từ.\n** Đơn giản hóa quá trình đổi chữ in hoa/chữ thường khi bấm phím Shift hoặc (và) CapsLock.\n\nCAUTION: Cơ chế test đã bị cũ, cần tinh chỉnh và sẽ công khai sau.\n\n* **29/4/2018**: Phát hành phiên bản S-Key mới hoàn toàn 2018.1.0 (Build 29/4/2018)\nLần này là sự thay đổi về vòng ngoài của giải thuật, phân tán một số thao tác tiền xử lí từ như: hủy dấu (nhờ thao tác hủy dấu, giờ đây không cần pha xử lý sửa chính tả như ở ghi chú tháng 12/2017 nữa), chống lặp,.. và giữ lại cách thức bỏ (thêm) dấu vào đúng vị trí nguyên âm của S-Key 2017. \n\n* **25/4/2018**: Bắt đầu phát triển phiên bản 2 (2018) của S-Key và di dời phiên bản cũ (2017) về địa chỉ https://nghiaht.github.io/skey/v1\n\n* **17/12/2017**: thực ra ở phiên bản tháng 11 đã phát hiện thứ tự bỏ dấu của S-key bị sai trong một số trường hợp,\nví dụ như muốn ra "huỳnh" mà cứ ra "hùynh", cho nên hôm nay đã phục hồi khâu xử lý thứ tự bỏ dấu về theo\nquy tắc gõ dấu kiểu cũ (là đoạn mã xử lý của bản build S-key đầu tiên)\nthay cho việc thực thi cơ chế bỏ dấu lai giữa kiểu mới và kiểu cũ trong phiên bản trước.\n(thực ra về cách xử lý bỏ dấu kiểu cũ, cũng chưa xử lý đúng được cho tất cả trường hợp, và hướng giải quyết sâu hơn sẽ được nói ở bên dưới).\n\nNói thêm về thứ tự bỏ dấu, nó cũng phức tạp hơn khi input của người dùng trên một từ có thể thay đổi sau vài phím gõ tiếp theo.\nLấy ví dụ:\n\n....\nGõ lần lượt phím h,o,a,2 => "hòa" (ĐÚNG)\nGõ tiếp (không khoảng trắng) n,g => hòang (SAI)\n....\n\nSự phức tạp đó là khi bộ gõ đã thực hiện bỏ dấu một lần cho từ hoàn chỉnh "hòa", nhưng sau đó từ này\nlại thay đổi bằng cách cộng thêm phụ âm cuối n,g thông qua input của người dùng.\nPhức tạp chứ không hẳn là phức tạp, tuy nhiên cũng nên chỉ ra để mọi người đọc nhật ký có thể hiểu thêm,\nvà cũng coi nó là 1 điểm "phức tạp" mà người phát triển gặp phải.\n\nNhư vậy với ví dụ trên, có một số hướng xử lý sâu hơn được nghĩ đến:\n\n....\nhòa => hòa + ng => Hủy dấu hòa và trả phím dấu 2 ra => hoa + ng + 2 => hoàng.\nMột hướng khác đó là áp dụng một bộ sửa lỗi chính tả bằng từ điển ở cuối pha xử lý input của người dùng.\nCũng với hòa => hòa + ng => hòang => Tìm trong từ điển chính tả tự thu thập với những luật như "òa" + "nguyên âm cuối" => Thay "òa" bằng "oà".\n....\n  \n* **14/12/2017**: tiếp tục về phần xử lý gõ lặp một số phím, nhưng hôm nay là 2 phím phụ âm "z" (trong gõ "z" bung ra "d")\nvà "d" (trong gõ "d" bung ra "đ"). Đối với "d", vốn có thể từ "z" => "d", hay "d" => "đ" nên sẽ thêm\nmột chút phức tạp trong khâu xử lý. Tuy nhiên cũng có thể tận dụng lại cách xử lý gõ lặp các phím dấu,\ncác phím số bung ra nguyên âm hôm trước cho bản build 2017.12.14 này.\n\n* **10/11/2017**: có thể thấy đây là một buổi tối làm việc khá tập trung, đã giải quyết được\nviệc gõ lặp các phím dấu chính (sắc huyền hỏi ngã nặng theo kiểu gõ Tubinhtran MS: 1,2,3,4,5; VD: a11 = a1)\nngay trong đêm. Và phần khó hơn phải trải qua 2 ngày (11 và 12) mới tìm cách tháo gỡ đó là khi gõ lặp\ncác phím 6,7,8,9,[,] vốn là các phím "tham lam", gọi là tham lam vì các phím này có thể đóng vai trò\nnhư một phím tắt theo kiểu gõ Tubinhtran-MS để bung ra các nguyên âm/phụ âm như â,ê,ô,ă,ơ,ư, và ngoài ra\nchúng còn có hành vi tương tự khi gõ lặp giống với các phím dấu chính (1,2,3,4,5). Thực sự phức tạp hơn\ntưởng tượng, trong quá trình làm còn tính đến giải quyết khi gõ in hoa và lặp các phím trên, v.v.\n\nTuy nhiên cũng vui vẻ là bản build 2017.11.12.1 đã cơ bản giải quyết được, các trường hợp test mặc dù\nbị bôi đỏ FAIL nhưng thực chất khi gõ trong khung soạn thảo S-key ở trên vẫn ra đúng, báo đỏ FAIL chỉ vì\ncơ chế test hiện tại chưa mô phỏng được các tình huống gõ lặp phím một cách chính xác => Cần thay đổi\ncơ chế test thêm một lần nữa.\n\nMột số trường hợp đã giải quyết như:\na11,\nhoa36,\nh^16,\n...\n\nKết thúc một ngày Chủ Nhật đầy suy nghĩ và thử nghiệm khá nhiều với một phiên bản của S-key đã trưởng thành hơn,\nphức tạp hơn.\n\nViệc vẫn còn đó là với trường hợp gõ lặp các phím phụ âm được gõ bởi 1 phím (z -> d, d -> đ). Xin hẹn\ngiải quyết nốt chúng vào tuần sau.\n\n* **29/10/2017**: tạm thời đóng băng S-key phiên bản cũ, vốn phụ thuộc nhiều vào quy tắc bỏ dấu kiểu cũ,\nnhận thấy sự thiếu nhất quán trong một số trường hợp nguyên âm ghép có hay không có phụ âm cuối (hòa, hoà,\nhoàng,...) => Tạm chuyển\nhướng sang bỏ dấu kiểu mới => Lấy thêm dữ liệu test từ bài viết\nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm\nsợ bộ thì cách bỏ dấu kiểu mới lại liền mạch, dễ làm, trong đa số các trường hợp, tuy nhiên vẫn cần theo\ndõi\nthêm.\n\nSự bất cập, đấu tranh giữa quy tắc bỏ dấu kiểu cũ và kiểu mới đã có từ lâu, với cách nhìn của một người\nđang\ntự thực thi lại chúng, nhận thấy có thể nên "ép" người dùng bộ gõ của mình sang một cách tổng hợp,\nsao cho phải là cách hợp lý về mặt phát âm, thẩm mỹ, được đa số chấp thuận, vừa cũng là cách nhằm tiết\nkiệm\nsức lực khi phát triển bộ gõ, không phải băn khoăn trong việc níu kéo, cầu toàn, chuyển đổi giữa cả 2 quy\ntắc.\n\n* *T8/2017*: Nếu đã thiết lập bộ test với kiểu gõ Tubinhtran-MS thành công, bỏ dấu đúng với tất cả trường\nhợp\ngõ\nphím.\nTiến hành tích hợp Phương pháp Tốc ký Chữ Việt Nhanh, xây dựng thêm bộ test với các trường hợp trong pp\nnày.\n\n* Mục tiêu tuần **12/6/2017**: đánh giá lại toàn bộ mã, thiết lập bộ test hầu hết các trường hợp gõ phím và\nđiều chỉnh mã để có thể test một cách "máy móc" hơn. Cố gắng có thể mô phỏng lại thứ tự thao tác gõ phím\nvà đảm\nbảo\nengine của bộ gõ có thể đáp ứng được. Vd:\n\n....\nInput: [c,h,Shift_A,o,2] -> Output: chÀo \nInput: [c,h,Capslock,a,Capslock,o,2] -> Output: chÀo\n....\n\n* **10/6/2017**: cập nhật mã xử lý trạng thái phím Shift, Capslock, và đã có thể bỏ dấu chữ in hoa, chữ thường\nlẫn lộn (kể cả các chữ gõ bằng một phím).\n\n** Có một số lấn cấn ở cách bỏ dấu kiểu cũ, kiểu mới, do phát hiện các trường hợp ngoại lệ ở các cặp "oa", "oe", "uy".\n** Tạm thời quy ước trong mã và tinh chỉnh để bỏ dấu đúng (vd: huỳnh # hùynh).\n** Tạm sửa vị trí bỏ dấu ở cặp "ia", "ua" (già # gìa, quà # qùa).\n** Có thể phải xác nhận lại cách bỏ dấu: cũ hay mới, hoặc sinh ra bộ sửa lỗi chính tả?\n\n* Mục tiêu tuần **29/5/2017**: thay đổi cách thức nhận phím gõ của người dùng, nhận diện được tình trạng các phím CapsLock, \nShift (liên quan đến các chữ gõ bằng một phím) để có thể gõ được chữ in hoa, chữ thường đan xen (DANG DỞ).\n\n* Tuần **22/5/2017**: thay đổi cách tiếp cận, vận dụng một số khái niệm cơ bản của lexer, tokenizer và hình\nthành bản phôi thai đầu tiên, có thể gõ dấu hoàn chỉnh theo kiểu gõ Tubinhtran-MS, chưa gõ dấu chữ in hoa được.\n\n* Tuần **8/5/2017**: khởi động dự án, tìm kiếm ý tưởng, cách thức thực thi từ những dự án tương tự trước đó.              \n'),p=(0,l.convertAsciidoc)("\n:sectanchors:\n\n=== THÔNG TIN THÊM\n\n* https://nghiaht.github.io/skey[S-Key (C) 2017 - 2018] - Tác giả: https://nghiaht.github.io[Huỳnh Trọng Nghĩa].\n* Thông tin trên trang này được viết theo https://asciidoctor.org/docs/asciidoc-syntax-quick-reference[cú pháp Asciidoctor].\n* Giao diện trang web nhờ vào https://foundation.zurb.com/[Foundation] .\n"),y=function(){return a.default.createElement("div",null,a.default.createElement("div",{dangerouslySetInnerHTML:{__html:_}}),a.default.createElement(u.default,null),a.default.createElement("h3",null,"KẾT QUẢ THỬ NGHIỆM"),a.default.createElement(o.default,{to:"/test"},"Chạy các bài kiểm tra bộ gõ"),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:d}}),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:h}}),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:p}}))};e.default=y,t.exports=e.default},115:function(t,e,r){(function(t){"use strict";function e(t,e){return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}function n(t,e){for(var r=0,n=[];r<t.length;){for(var i=null,a=0;a<H.length;a++){var $=H[a],o=$[0],s=$[1],u=t[r];if(i=o.test(u)){if(s){var l=[u,s];r===t.length-1?l.push(e):l.push(u===u.toUpperCase()),n.push(l)}break}}r+=1}return n}function i(t,e){for(var r=0,n=[],i=t.length,a=t.length-1,$=!1,o=!1;r<i;){for(var s=null,u=0;u<H.length;u++){var l=H[u],c=l[0],f=l[1],_=t[r];if(s=c.test(_),s&&f){if(f===k){if(0===r&&i<=3){var d=tt[_];if(d){var h=!0;if(rt.indexOf(_.toLowerCase())!==-1)h=1===i;else if("c"===_.toLowerCase()){var p=t[r+1];h=p&&2===i&&nt.c.test(p[0])}else if("g"===_.toLowerCase()){var y=t[r+1];h=y&&2===i&&it.gh.test(y[0])}if(h){if(d.length>1){var b=t[r+1];b&&(h=b&&b!==d[d.length-1])}h&&(f=A)}}}else if((r===a||r===a-1)&&i>=2){var S=et[_],M=n[r-1],R=S&&M&&(M[1]===v||M[1]===w||M[1]===m)&&M[0]!==S[0];if(u===a-1){var I=t[r+1];R=R&&I&&T.test(I)}R&&(f=O)}}else if(f===E){var C=T.test(_),N=Q[_];C&&r>0?f=g:r===a&&N&&(f=m)}else if(f===x){var z=Q[_],P=n[r-1];!z||r!==a||P&&P[1]===g||(f=m)}var B=[_,f];r===a?B.push(e):B.push(_===_.toUpperCase()),n.push(B),f===v?o=!0:f===k&&($=!0);break}}r+=1}return n}function a(t){for(var e=[],r=[],n=0;n<t.length;n++){var i=t[n];(M.test(i)||S.test(i))&&(e=e.concat(r),r=[]);var a=W[i];a?1===a.length?e.push(a):2===a.length&&(e.push(a[0]),r.push(a[1])):e.push(i)}r.length>0&&(e=e.concat(r));var $=e.join("");return $}function $(t){if(y.logger.debug("- Deduplicate",t),1===t.length)return t;for(var e=""+t[0],r=!1,n=(t.length-1,1);n<t.length;n++){var i=t[n];if(!r){var a=t[n+1],$=t[n-1],o=tt[i];if(o&&!a){var s=e.indexOf(o);if(0===s&&s+o.length===n){e=e.replace(o,i),r=!0;continue}}else{var u=Q[i];if(u&&$&&$===u){e=e.replace($,i),r=!0;continue}}}e+=i}return e}function o(t){for(var e=void 0,r=void 0,i=void 0,a=void 0,$=void 0,o=void 0,u=t.slice(),l=0;l<u.length;l++){var f=u[l];if(f[1]===A){var _=tt[f[0]];if(_){var d=!0;y.logger.debug("token",f),d&&(u=u.slice(0,l).concat(n(_)).concat(u.slice(l+1)))}}else if(f[1]===O){var h=et[f[0]];h&&(u=u.slice(0,l).concat(n(h)).concat(u.slice(l+1)))}else if(f[1]===m){var p=Q[f[0]];p&&(u=u.slice(0,l).concat(n(p)).concat(u.slice(l+1)))}}for(var b=c(u).toLowerCase(),w=0;w<J.length;w++){var E=J[w],x=b.indexOf(E);if(x!==-1){var S=V[E];S=2===S.length&&0===x?S[1]:S[0];var M=b[x-1],T=b[x+1];M===S[0]?S=S.substring(1):T===S[S.length-1]&&(S=S.substring(0,S.length-1));var R=u[0];u=u.slice(0,x).concat(n(S)).concat(u.slice(x+E.length)),0===x&&(u[0][2]=R[2]||R[0]===R[0].toUpperCase());break}}for(var I=0;I<u.length;I++){var C=u[I];C[1]===v?("êơÊƠ".indexOf(C[0])!==-1&&(o=[I,C]),i=r?[I,C]:i,r=!r&&e?[I,C]:r,e=e?e:[I,C]):C[1]===g?$=[I,C]:C[1]===k&&(a=e||r||i?[I,C]:a)}if(o&&$){var N=s(o[1],$[1]);N&&(u[o[0]]=N,u.splice($[0],1))}else if(i&&$){var z=s(r[1],$[1]);z&&(u[r[0]]=z,u.splice($[0],1))}else if(r&&a&&$){var P=s(r[1],$[1]);P&&(u[r[0]]=P,u.splice($[0],1))}else if(e&&$){var B="gi|qu",q=u[0][0]+u[1][0];if(r&&B.indexOf(q)!==-1){var D=s(r[1],$[1]);D&&(u[r[0]]=D,u.splice($[0],1))}else{var L=s(e[1],$[1]);L&&(u[e[0]]=L,u.splice($[0],1))}}return u}function s(t,e){var r=Z[t[0]+e[0]];return r?[r,v]:null}function u(t,e){y.logger.debug("Last is UPPERCASE",e);for(var r=0;r<t.length;r++){var n=t[r-1],s=t[r];if(n&&(S.test(s)&&S.test(n)||T.test(s)&&T.test(n)||M.test(s)&&M.test(n)))return y.logger.debug("stop"),t}var u=a(t),l=$(u);if(l.length!==u.length)return f(t,l,e);var _=a(u),h=i(_,e),p=o(h),m=c(p),g=d(m);return g}function l(t,e){return y.logger.debug("Mofidiers status",e),0===t.trim().length?t:u(t,_(e))}function c(t){return t.map(function(t){return t[2]&&t[2]===!0?t[0].toUpperCase():t[0]}).join("")}function f(t,e,r){var n=e.split(""),i=n.length-1;return 1===t.length&&t.length!==e.length&&(i=0),y.logger.debug("Fix Uppercase",e,r),r?n[i]=n[i].toUpperCase():n[i]=n[i].toLowerCase(),n.join("")}function _(t){if(t){if(t.shift&&t.capslock)return!1;if(t.shift||t.capslock)return!0}return!1}function d(t){var e=t.slice(),r=e.toLowerCase().indexOf("ng");if(0===r){var n=e[r+2];if("h"===n){var i=e[r+3];i&&nt.ngh.test(i)&&(e=e.substring(0,2)+e.substring(3))}else n&&nt.ng.test(n)&&(e=e.substring(0,2)+"h"+e.substring(2))}var a=e.toLowerCase().indexOf("gi");if(0===a){var $=e[a+2];"i"===$&&(e=e.substring(0,1)+e.substring(2))}return e}function h(t){for(var e=t.length,r=0;r<at.length;r++){var n=at[r],i=t.lastIndexOf(n);if(i+n.length===e){var a=t[i-1];if(a&&I.test(a)){var $=t+"1";return u($)}}}return null}var p,y=r(47),m="ONE_KEY_VOWEL_TAG",g="ACCENT_KEY_TAG",v="VOWEL_TAG",b="ACCENTIZED_VOWEL_TAG",w="SEMI_ACCENTIZED_VOWEL_TAG",k="CONSONANT_TAG",E="DIGIT_TAG",x="SYMBOL_TAG",A="START_OF_WORD_CONSONANT_TAG",O="END_OF_WORD_CONSONANT_TAG",S=/[^0-9aăâeêioôơuưyáàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵbcdđfghjklmnpqrstvwxz]+/i,M=/[0-9]+/,T=/[1-5]+/,R=/[áàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵ]+/i,I=/[aăâeêioôơuưy]+/i,C="a á à ả ã ạ",N="â ấ ầ ẩ ẫ ậ 6 ^",z="ă ắ ằ ẳ ẵ ặ 9 (",P="e é è ẻ ẽ ẹ",B="ê ế ề ể ễ ệ 7 &",q="i í ỉ ĩ ị",D="o ó ò ỏ õ ọ",L="ô ố ồ ổ ỗ ộ 8 *",F="ơ ớ ờ ở ỡ ợ \\] }",j="u ú ù ủ ũ ụ",U="ư ứ ừ ử ữ ự \\[ {",H=[[/[ \n\t]+/,null],[M,E],[R,b],[I,v],[/[bcdđfghjklmnpqrstvwxz]+/i,k],[S,x]],G={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}"},Y={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}"},W=(p={"á":"a1","à":"a2","ả":"a3","ã":"a4","ạ":"a5","ắ":"ă1","ằ":"ă2","ẳ":"ă3","ẵ":"ă4","ặ":"ă5",
"ấ":"â1","ầ":"â2","ẩ":"â3","ẫ":"â4","ậ":"â5","é":"e1","è":"e2","ẻ":"e3","ẽ":"e4","ẹ":"e5","ế":"ê1","ề":"ê2","ể":"ê3","ễ":"ê4","ệ":"ê5","í":"i1","ì":"i2","ỉ":"i3","ĩ":"i4","ị":"i5","ó":"o1","ò":"o2","ỏ":"o3","õ":"o4","ọ":"o5","ớ":"ơ1","ờ":"ơ2","ở":"ơ3","ỡ":"ơ4","ợ":"ơ5","ố":"ô1","ồ":"ô2","ổ":"ô3","ỗ":"ô4","ộ":"ô5","ú":"u1","ù":"u2","ủ":"u3","ũ":"u4","ụ":"u5","ứ":"ư1","ừ":"ư2","ử":"ư3","ữ":"ư4","ự":"ư5","ý":"y1","ỳ":"y2","ỷ":"y3","ỹ":"y4","ỵ":"y5","Á":"A1","À":"A2","Ả":"A3","Ã":"A4","Ạ":"A5","Ắ":"Ă1","Ằ":"Ă2","Ẳ":"Ă3","Ẵ":"Ă4","Ặ":"Ă5","Ấ":"Â1","Ầ":"Â2","Ẩ":"Â3","Ẫ":"Â4","Ậ":"Â5","É":"E1","È":"E2","Ẻ":"E3","Ẽ":"E4","Ẹ":"E5","Ế":"Ê1","Ề":"Ê2","Ể":"Ê3","Ễ":"Ê4","Ệ":"Ê5","Í":"I1","Ì":"I2","Ỉ":"I3","Ĩ":"I4","Ị":"I5","Ó":"O1","Ò":"O2","Ỏ":"O3","Õ":"O4","Ọ":"O5"},p["ớ"]="ơ1",p["ờ"]="ơ2",p["ở"]="ơ3",p["ỡ"]="ơ4",p["ợ"]="ơ5",p["ố"]="ô1",p["ồ"]="ô2",p["ổ"]="ô3",p["ỗ"]="ô4",p["ộ"]="ô5",p["Ú"]="U1",p["Ù"]="U2",p["Ủ"]="U3",p["Ũ"]="U4",p["Ụ"]="U5",p["Ứ"]="Ư1",p["Ừ"]="Ư2",p["Ử"]="Ư3",p["Ữ"]="Ư4",p["Ự"]="Ư5",p["Ý"]="Y1",p["Ỳ"]="Y2",p["Ỷ"]="Y3",p),K={ph:"f",kh:"k",ng:"w",gi:"j",gh:"g",qu:"q",Ph:"F",Kh:"K",Ng:"W",Gi:"J",Gh:"G",Qu:"Q",k:"c",d:"z","đ":"d",K:"C",D:"Z","Đ":"D"},X={ng:"g",nh:"h",ch:"k"},V={id:["iêt","yêt"],if:["iêp"],is:["iêc"],il:["iên","yên"],iv:["iêm","yêm"],iz:["iêng","yêng"],iw:["iêu","yêu"],yd:["uyêt"],yl:["uyên"],ud:["uôt"],us:["uôc"],ul:["uôn"],uv:["uôm"],uz:["uông"],uj:["uôi"],"ưd":["ươt"],"ưf":["ươp"],"ưs":["ươc"],"ưl":["ươn"],"ưv":["ươm"],"ưz":["ương"],"ưj":["ươi"],"ưw":["ươu"],"ơd":["uơt"],"ơl":["uơn"],"âd":["uât"],"âl":["uân"],"âz":["uâng"],"âj":["uây"],"ăd":["oăt"],"ăs":["oăc"],"ăl":["oăn"],"ăv":["oăm"],"ăz":["oăng"],ed:["oet"],el:["oen"],ev:["oem"],ew:["oeo"],od:["oat"],of:["oap"],os:["oac"],ol:["oan"],ov:["oam"],oz:["oang"],oj:["oai"],ow:["oao"],aj:["oay"]},J=Object.keys(V),Z=e(W,{}),Q=e(Y,{}),tt=e(K,{}),et=e(X,{}),rt=(e(G,{}),"f k z d j w q"),nt={ph:new RegExp(["[",z,"]"].join(""),"i"),c:new RegExp(["[",P,q,B,"y","]"].join(""),"i"),k:new RegExp(["[",C,D,j,N,z,L,U,F,"]"].join(""),"i"),gh:new RegExp(["[",D,j,C,N,z,L,U,F,"h","]"].join(""),"i"),qu:new RegExp(["[",D,j,L,U,F,"]"].join(""),"i"),ng:new RegExp(["[",P,q,B,"]"].join(""),"i"),ngh:new RegExp(["[",C,D,j,N,z,L,U,F,"]"].join(""),"i")},it={gh:new RegExp(["[",P,q,B,"]"].join(""),"i")},at=["c","ch","p","t"];r.c[0]===t,t.exports={lex:n,unaccentize:a,deduplicate:$,makeWord:c,doEvaluate:l,acutize:h}}).call(e,r(43)(t))},47:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return!u&&s.default&&(u=(0,s.default)()),u?u.convert(t):t}e.__esModule=!0,e.convertAsciidoc=e.logger=void 0;var a=r(116),$=n(a),o=r(113),s=n(o),u=null;e.logger=$.default,e.convertAsciidoc=i},116:function(t,e,r){"use strict";e.__esModule=!0;var n=r(120);n.logger.setLevel("ERROR"),e.default=n.logger,t.exports=e.default}});