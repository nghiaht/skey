/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function testAnInput(n){for(var t=n.split(","),e=!1,o=!1,i=!1,a=[],r=[],s=[],h=0;h<t.length;h++){var c=t[h].replace(" ","").toLowerCase();c.length>1&&(c.indexOf("shift_")!=-1?(o=!0,c=c.split("_")[1]):"capslock"==c&&(i=!i)),1==c.length&&(e=isUppercase(o,i),s.push(e),o&&(o=!1),r.push(c))}a=skey_lexer(r.join(""));for(var u=0;u<a.length;u++)a[u].push(s[u]);a=skey_eval(a);const g=a.map(function(n){return n[0]}).join("");return g}function isUppercase(n,t){return(!n||!t)&&(n||t)}!function(){"use strict";var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||n)&&navigator.serviceWorker.register("service-worker.js").then(function(n){n.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=n.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(n){console.error("Error during service worker registration:",n)})}(),function(){function n(n){return(!n.getModifierState("Shift")||!n.getModifierState("CapsLock"))&&!(!n.getModifierState("Shift")&&!n.getModifierState("CapsLock"))}function t(t,o){for(var i=0;i<t.length;i++){var a=e(t[i][0]);i==t.length-1&&o&&16!=o.keyCode&&20!=o.keyCode&&(a=a||n(o)),t[i].push(a)}}function e(n){return _.indexOf(n.toLowerCase())!==-1&&n==n.toUpperCase()}function o(n){const t=n.selectionStart;for(var e=n.value,o=0,i=t;i>=0;i--){var a=e[i];if(c.indexOf(a)!==-1){o=i+1;break}}return[o,t,e.substr(o,t-o)]}function i(n,t,e,o){const i=t.map(function(n){return n[0]}).join("");n.value=n.value.substring(0,e)+i+n.value.substring(o)}function a(n){for(var t=0;t<n.length;t++){const e=n[t];if(e[1]===g||e[1]===u){if(n.length>1&&O.indexOf(e[0].toLowerCase())!==-1)continue;e[0]=L[e[0].toLowerCase()],e[1]=y.indexOf(e[0].toLowerCase())!==-1?f:p,e[0]=e[2]?e[0].toUpperCase():e[0];break}}return n}function r(n){for(var t,e,o,i,a,r,c=0;c<n.length;c++){const u=n[c];u[1]===f?(m.indexOf(u[0].toLowerCase())!==-1&&(r=[c,u]),o=e?[c,u]:o,e=t?[c,u]:e,t=t?t:[c,u]):u[1]===p?i=t||e||o?[c,u]:i:u[1]===l&&(a=[c,u])}return r&&a?s(r[1],a[1])&&n.splice(a[0],1):o&&a?s(e[1],a[1])&&n.splice(a[0],1):e&&i&&a?s(e[1],a[1])&&n.splice(a[0],1):e&&a?3==n.length&&k.indexOf(e[1][0].toLowerCase())!==-1&&C.indexOf(t[1][0].toLowerCase())!==-1||h(t[1],e[1])?s(e[1],a[1])&&n.splice(a[0],1):(console.log("cuc cu"),s(t[1],a[1])&&n.splice(a[0],1)):t&&a&&s(t[1],a[1])&&n.splice(a[0],1),n}function s(n,t){const e=x[n[0].toLowerCase()+t[0]];if(e){n[0]=e;const o=n[2];return n[0]=o?n[0].toUpperCase():n[0],!0}return!1}function h(n,t){const e=n[0].toLowerCase(),o=t[1].toLowerCase();return w.indexOf(e)!==-1&&k.indexOf(o)!==-1||w.indexOf(e)!==-1&&v.indexOf(o)!==-1||S.indexOf(e)!==-1&&b.indexOf(o)!==-1}window.onTextBoxChange=function(n,e){const a=o(n);if(e&&16!=e.keyCode&&20!=e.keyCode){var r=skey_lexer(a[2]);r.length>0&&(t(r,e),r=skey_eval(r),i(n,r,a[0],a[1]))}};const c=" \n\t",u="ONE_KEY_VOWEL_TAG",g="ONE_KEY_CONSONANT_TAG",l="ACCENT_KEY",f="VOWEL",p="CONSONANT",d="DIGIT",k="aáàảãạăắằẳẵặâầẩẫậ",v="eéèẻẽẹêếềểễệ",C="iíìỉĩị",w="oóòỏõọơớờởỡợôốồổỗộ",S="uúùủũụưứừửữự",b="yýỳỷỹỵ",y=[k,v,C,w,S,b].join(""),_=[y,"cdđefghijklmnopqrstvwxyz"].join(""),T=[[/[ \n\t]+/,null],[/[1-5]+/,l],[/[1-5]+/,d],[/[6-9^&*({}\[\]]+/,u],[/[zdZD]+/,g],[/[^aeiouáàảãạăắằẳẵặâầẩẫậéèẻẽẹêếềểễệíìỉĩịóòỏõọơớờởỡợôốồổỗộúùủũụưứừửữựyýỳỷỹỵ6-9]+/i,p],[/[aeiouáàảãạăắằẳẵặâầẩẫậéèẻẽẹêếềểễệíìỉĩịóòỏõọơớờởỡợôốồổỗộúùủũụưứừửữựyýỳỷỹỵ]+/i,f]],m="êếềểễệơớờởỡợ",x={a1:"á",a2:"à",a3:"ả",a4:"ã",a5:"ạ","ă1":"ắ","ă2":"ằ","ă3":"ẳ","ă4":"ẵ","ă5":"ặ","â1":"ấ","â2":"ầ","â3":"ẩ","â4":"ẫ","â5":"ậ",e1:"é",e2:"è",e3:"ẻ",e4:"ẽ",e5:"ẹ","ê1":"ế","ê2":"ề","ê3":"ể","ê4":"ễ","ê5":"ệ",i1:"í",i2:"ì",i3:"ỉ",i4:"ĩ",i5:"ị",o1:"ó",o2:"ò",o3:"ỏ",o4:"õ",o5:"ọ","ơ1":"ớ","ơ2":"ờ","ơ3":"ở","ơ4":"ỡ","ơ5":"ợ","ô1":"ố","ô2":"ồ","ô3":"ổ","ô4":"ỗ","ô5":"ộ",u1:"ú",u2:"ù",u3:"ủ",u4:"ũ",u5:"ụ","ư1":"ứ","ư2":"ừ","ư3":"ử","ư4":"ữ","ư5":"ự",y1:"ý",y2:"ỳ",y3:"ỷ",y4:"ỹ",y5:"ỵ"},L={6:"â",7:"ê",8:"ô",9:"ă","[":"ư","]":"ơ","^":"â","&":"ê","*":"ô","(":"ă","{":"ư","}":"ơ",z:"d",d:"đ"},O="d";window.skey_lexer=function(n){for(var t=0,e=[],o=!1;t<n.length;){for(var i=null,a=0;a<T.length;a++){const r=T[a],s=r[0],h=r[1],c=n[t];if(i=s.test(c)){if(h){if(o||h!==f&&h!==u||(o=!0),h===l&&!o)continue;const g=[c,h];e.push(g)}break}}i&&(t+=1)}return e},window.skey_eval=function(n){return n=a(n),n=r(n)}}();const testData=[["a,1","á","","Dấu sắc"],["a,2","à","","Dấu huyền"],["a,3","ả","","Dấu hỏi"],["a,4","ã","","Dấu ngã"],["a,5","ạ","","Dấu nặng"],["6","â","","Chữ gõ bằng một phím"],["7","ê"],["8","ô"],["9","ă"],["[","ư"],["]","ơ"],["z","d","z","Theo kiểu gõ dấu Tu Binh Tran-MS thì gõ z bung ra d, và gõ d bung ra đ (S-key: gõ d bung ra đ nhưng gõ z thì vẫn là z)"],["d","đ"],["Shift_a, 1","Á","","In hoa khi chỉ bật phím shift"],["Capslock,a,1","Á","","In hoa khi bật capslock trước đó"],["Capslock, Shift_a, 1","á","","Chữ thường khi shift và capslock cùng được bật"],["Shift_6","Â","","Thử shift với các chữ gõ bằng một phím"],["Shift_7","Ê"],["Shift_8","Ô"],["Shift_9","Ă"],["Shift_[","Ư"],["Shift_]","Ơ"],["c,h,a,2,o","chào","","Thứ tự gõ lần lượt là c, h, a, 2, o."],["h,o,2,a,n,g","hoàng","hòang","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt vị trí thứ tự bỏ dấu => Cần xây dựng bộ sửa lỗi chính tả khi gặp thứ tự gõ phím tương tự"],["Shift_9,n","Ăn","","Shift_9 để gõ ra chữ in hoa (Ă)"],["Shift_a,2","À","","Chú ý: Shift_<một phím ghi chữ thường> để gõ in hoa"],["Capslock,a,2","À","","Thứ tự gõ phím: Bật capslock, gõ phím a, gõ phím 2, kết quả là A được in hoa và bỏ dấu huyền"],["Capslock,a,Capslock,n,2","Àn","","Thứ tự gõ: bật capslock, gõ phím a, tắt capslock, gõ phím n, gõ phím 2"],["Capslock,Shift_a,2","à","","Bật capslock, nhưng lại nhấn nút Shift khi gõ phím => vẫn ra chữ thường"],["t,8,n,1","tốn","tôn1","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt các dấu sắc huyền hỏi ngã nặng khi sau ký tự ô => Cần sửa lỗi."],["t,8,1","tố","tô1"],["8,n,2","ồn","ôn2"],["1,6","1â","ấ","Gõ 61 bung ra ấ (đúng) nhưng gõ 16 Skey vẫn bung ra ấ (sai)."],["1,7","1ê","ế","Gõ 71 bung ra ế (đúng) nhưng gõ 17 Skey vẫn bung ra ế (sai)."],["2,8","2ô","ồ","Gõ 82 bung ra ồ (đúng) nhưng gõ 28 Skey vẫn bung ra ồ (sai)."],["3,9","3ă","ẳ","Gõ 93 bung ra ẳ (đúng) nhưng gõ 39 Skey vẫn bung ra ẳ (sai)."]],PASS_TEXT="<b style='color: green'>PASS</b>",FAIL_TEXT="<b style='color: red'>FAIL</b>";window.onTestButtonPress=function(n,t){for(var e=n.getElementsByTagName("tbody")[0],o=0;o<testData.length;o++){var i=testData[o],a=testAnInput(i[0]),r=i[1]==a,s=e.insertRow(e.rows.length),h=s.insertCell(0);h.innerHTML=i[0],h=s.insertCell(1),h.innerHTML=i[1],h=s.insertCell(2),h.innerHTML=a,h=s.insertCell(3),h.innerHTML=r?PASS_TEXT:FAIL_TEXT,h=s.insertCell(4),h.innerHTML=i[3]||""}};
//# sourceMappingURL=main.min.js.map
