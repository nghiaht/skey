/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function testAnInput(e){for(var n=e.split(","),t=!1,o=!1,r=!1,i=[],a=0;a<n.length;a++){var s=n[a].replace(" ","").toLowerCase();if(s.length>1&&(s.indexOf("shift_")!=-1?(o=!0,s=s.split("_")[1]):"capslock"==s&&(r=!r)),1==s.length){t=isUppercase(o,r);var c=window.skey_lexer(s);c[0].push(t),o&&(o=!1),i.push(c[0])}}i=skey_eval(i);const l=i.map(function(e){return e[0]}).join("");return l}function isUppercase(e,n){return(!e||!n)&&(e||n)}!function(){"use strict";var e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||e)&&navigator.serviceWorker.register("service-worker.js").then(function(e){e.onupdatefound=function(){if(navigator.serviceWorker.controller){var n=e.installing;n.onstatechange=function(){switch(n.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(e){console.error("Error during service worker registration:",e)})}(),function(){function e(e){return(!e.getModifierState("Shift")||!e.getModifierState("CapsLock"))&&!(!e.getModifierState("Shift")&&!e.getModifierState("CapsLock"))}function n(n,o){for(var r=0;r<n.length;r++){var i=t(n[r][0]);r==n.length-1&&o&&16!=o.keyCode&&20!=o.keyCode&&(i=i||e(o)),n[r].push(i)}}function t(e){return x.indexOf(e.toLowerCase())!==-1&&e==e.toUpperCase()}function o(e){const n=e.selectionStart;for(var t=e.value,o=0,r=n;r>=0;r--){var i=t[r];if(l.indexOf(i)!==-1){o=r+1;break}}return[o,n,t.substr(o,n-o)]}function r(e,n,t,o){const r=n.map(function(e){return e[0]}).join("");e.value=e.value.substring(0,t)+r+e.value.substring(o)}function i(e){for(var n=0;n<e.length;n++){const t=e[n];if(t[1]===u){if(e.length>1&&S.indexOf(t[0].toLowerCase())!==-1)continue;t[0]=b[t[0].toLowerCase()],t[1]=y.indexOf(t[0].toLowerCase())!==-1?d:h,t[0]=t[2]?t[0].toUpperCase():t[0];break}}return e}function a(e){for(var n,t,o,r,i,a,l=0;l<e.length;l++){const u=e[l];u[1]===d?(O.indexOf(u[0].toLowerCase())!==-1&&(a=[l,u]),o=t?[l,u]:o,t=n?[l,u]:t,n=n?n:[l,u]):u[1]===h?r=n||t||o?[l,u]:r:u[1]===f&&(i=[l,u])}return a&&i?s(a[1],i[1])&&e.splice(i[0],1):o&&i?s(t[1],i[1])&&e.splice(i[0],1):t&&r&&i?s(t[1],i[1])&&e.splice(i[0],1):t&&i?3==e.length&&p.indexOf(t[1][0].toLowerCase())!==-1&&g.indexOf(n[1][0].toLowerCase())!==-1||c(n[1],t[1])?s(t[1],i[1])&&e.splice(i[0],1):(console.log("cuc cu"),s(n[1],i[1])&&e.splice(i[0],1)):n&&i&&s(n[1],i[1])&&e.splice(i[0],1),e}function s(e,n){const t=_[e[0].toLowerCase()+n[0]];if(t){e[0]=t;const o=e[2];return e[0]=o?e[0].toUpperCase():e[0],!0}return!1}function c(e,n){const t=e[0].toLowerCase(),o=n[1].toLowerCase();return C.indexOf(t)!==-1&&p.indexOf(o)!==-1||C.indexOf(t)!==-1&&w.indexOf(o)!==-1||v.indexOf(t)!==-1&&k.indexOf(o)!==-1}window.onTextBoxChange=function(e,t){const i=o(e);if(t&&16!=t.keyCode&&20!=t.keyCode){var a=skey_lexer(i[2]);a.length>0&&(n(a,t),a=skey_eval(a),r(e,a,i[0],i[1]))}};const l=" \n\t",u="ONE_KEY_ACCENTED_LETTER",f="ACCENT_KEY",d="VOWEL",h="CONSONANT",p="aáàảãạăắằẳẵặâầẩẫậ",w="eéèẻẽẹêếềểễệ",g="iíìỉĩị",C="oóòỏõọơớờởỡợôốồổỗộ",v="uúùủũụưứừửữự",k="yýỳỷỹỵ",y=[p,w,g,C,v,k].join(""),x=[y,"cdđefghijklmnopqrstvwxyz"].join(""),L=[[/[ \n\t]+/,null],[/[1-5]+/,f],[/[zdZD6-9^&*({}\[\]]+/,u],[/[^aeiouáàảãạăắằẳẵặâầẩẫậéèẻẽẹêếềểễệíìỉĩịóòỏõọơớờởỡợôốồổỗộúùủũụưứừửữựyýỳỷỹỵ6-9]+/i,h],[/[aeiouáàảãạăắằẳẵặâầẩẫậéèẻẽẹêếềểễệíìỉĩịóòỏõọơớờởỡợôốồổỗộúùủũụưứừửữựyýỳỷỹỵ]+/i,d]],O="êếềểễệơớờởỡợ",_={a1:"á",a2:"à",a3:"ả",a4:"ã",a5:"ạ","ă1":"ắ","ă2":"ằ","ă3":"ẳ","ă4":"ẵ","ă5":"ặ","â1":"ấ","â2":"ầ","â3":"ẩ","â4":"ẫ","â5":"ậ",e1:"é",e2:"è",e3:"ẻ",e4:"ẽ",e5:"ẹ","ê1":"ế","ê2":"ề","ê3":"ể","ê4":"ễ","ê5":"ệ",i1:"í",i2:"ì",i3:"ỉ",i4:"ĩ",i5:"ị",o1:"ó",o2:"ò",o3:"ỏ",o4:"õ",o5:"ọ","ơ1":"ớ","ơ2":"ờ","ơ3":"ở","ơ4":"ỡ","ơ5":"ợ","ô1":"ố","ô2":"ồ","ô3":"ổ","ô4":"ỗ","ô5":"ộ",u1:"ú",u2:"ù",u3:"ủ",u4:"ũ",u5:"ụ","ư1":"ứ","ư2":"ừ","ư3":"ử","ư4":"ữ","ư5":"ự",y1:"ý",y2:"ỳ",y3:"ỷ",y4:"ỹ",y5:"ỵ"},b={6:"â",7:"ê",8:"ô",9:"ă","[":"ư","]":"ơ","^":"â","&":"ê","*":"ô","(":"ă","{":"ư","}":"ơ",z:"d",d:"đ"},S="d";window.skey_lexer=function(e){for(var n=0,t=[];n<e.length;){for(var o=null,r=0;r<L.length;r++){const i=L[r],a=i[0],s=i[1],c=e[n];if(o=a.test(c)){if(s){const l=[c,s];t.push(l)}break}}o&&(n+=1)}return t},window.skey_eval=function(e){return e=i(e),e=a(e)}}();const testData=[["c,h,a,o,2","chào"],["h,o,2,a,n,g","hoàng"],["Shift_9,n","Ăn"],["Shift_a,2","À"],["Capslock,a,2","À"],["Capslock,a,Capslock,n,2","Àn"],["Capslock,Shift_a,2","à"],["t,8,n,1","tốn"],["t,8,1","tố"],["8,n,2","ồn"],["z","d"]];window.onTestButtonPress=function(e,n){for(var t=e.getElementsByTagName("tbody")[0],o=0;o<testData.length;o++){var r=testData[o],i=testAnInput(r[0]),a=r[1]==i,s=t.insertRow(t.rows.length),c=s.insertCell(0);c.innerHTML=r[0],c=s.insertCell(1),c.innerHTML=r[1],c=s.insertCell(2),c.innerHTML=i,c=s.insertCell(3),c.innerHTML=a?"<b style='color: green'>PASS</b>":"<b style='color: red'>FAIL</b>"}};
//# sourceMappingURL=main.min.js.map
