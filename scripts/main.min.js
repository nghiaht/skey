/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function testAnInput(n){for(var t=n.split(","),e=!1,i=!1,o=!1,r=[],a=[],h=[],c=0;c<t.length;c++){var u=t[c].replace(" ","").toLowerCase();u.length>1&&(u.indexOf("shift_")!=-1?(i=!0,u=u.split("_")[1]):"capslock"==u&&(o=!o)),1==u.length&&(e=isUppercase(i,o),h.push(e),i&&(i=!1),a.push(u))}r=skey_lexer(a.join(""));for(var s=0;s<r.length;s++)r[s].push(h[s]);r=skey_eval(r);const f=r.map(function(n){return n[0]}).join("");return f}function isUppercase(n,t){return(!n||!t)&&(n||t)}!function(){"use strict";var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||n)&&navigator.serviceWorker.register("service-worker.js").then(function(n){n.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=n.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(n){console.error("Error during service worker registration:",n)})}(),function(){function n(n){var t=-1;const e=n.length;return e>2&&Object.keys(B).forEach(function(i){if(t=n.indexOf(i),t!==-1&&t!==e-2)return n=n.substring(0,t)+B[i]+n.substring(t+2)}),n}function t(n){return(!n.getModifierState("Shift")||!n.getModifierState("CapsLock"))&&!(!n.getModifierState("Shift")&&!n.getModifierState("CapsLock"))}function e(n,e){for(var o=0;o<n.length;o++){var r=i(n[o][0]);o==n.length-1&&e&&16!=e.keyCode&&20!=e.keyCode&&(r=r||t(e)),n[o].push(r)}}function i(n){return x.indexOf(n.toLowerCase())!==-1&&n===n.toUpperCase()}function o(n){const t=n.selectionStart;for(var e=n.value,i=0,o=t;o>=0;o--){var r=e[o];if(l.indexOf(r)!==-1){i=o+1;break}}return[i,t,e.substr(i,t-i)]}function r(n){return n.map(function(n){return n[0]}).join("")}function a(n,t,e,i){n.value=n.value.substring(0,e)+t+n.value.substring(i)}function h(n){n=n.slice();for(var t,e,i,o,r,a,h,c=0,u=0,s=0;s<n.length;s++){const l=n[s];if(l[1]===y&&(h&&(h[1]=b,l[1]=b),c+=1,h=l),l[1]===k||l[1]===p){if(h&&(h[1]=b),a&&a[0]===l[0])return n;a=l,u+=1}}if(c>1)return n;for(var T=0;T<n.length;T++){const l=n[T];if(l[1]===v)t=l;else if(l[1]===S)e=l;else if(l[1]===C)i=l;else if(l[1]===y)o=l;else if(l[1]===p||l[1]===k){if(t){const w=g(t[0]);if(w){if(w.indexOf(l[0])!==-1)return t[0]=l[0],t[1]=b,r?(l[1]=b,n):(l[0]="",l[1]=b,n);const m=w[0];if(m.toLowerCase()===l[0].toLowerCase())return t[0]=m[0],t[1]=b,l[1]=b,n}}else if(e){const w=g(e[0]);if(w){if(w.indexOf(l[0])!==-1)return e[0]=l[0],e[1]=_,r?(l[1]=_,n):(l[0]="",l[1]=_,n);const m=w[0];if(m.toLowerCase()===l[0].toLowerCase())return e[0]=m[0],e[1]=_,l[1]=_,n}}else if(i){const w=f(i[0]);if(w){var m;if(w.forEach(function(n){n.indexOf(l[0]!==-1)&&!m&&l[2]&&(m=n)}),m||(m=w[0]),m)return i[0]=m[0],i[1]=d,l[0]=m[1]+l[0],l[1]=b,n}}if(r=l,n.length>1&&j.indexOf(l[0].toLowerCase())!==-1)continue;l[0]=M[l[0].toLowerCase()],l[1]=A.indexOf(l[0].toLowerCase())!==-1?v:S,l[0]=l[2]?l[0].toUpperCase():l[0],l[1]===v&&(t=l)}}return n}function c(n){n=n.slice();for(var t,e,i,o,r,a,h,c=0;c<n.length;c++){const g=n[c];if(g[1]===d||g[1]===v)"êơÊƠ".indexOf(g[0])!==-1&&(h=[c,g]),i=e?[c,g]:i,e=!e&&t?[c,g]:e,t=t?t:[c,g];else if(g[1]===_)o=t||e||i?[c,g]:o;else if(g[1]===y){if(r)return u(n),n;if(r=[c,g],a){const l=f(a[1][0].toLowerCase());if(l)return a[1][0]=l[0][0],a[1][1]=d,l[0][1]!==r[1][0]&&(r[1][0]=l[0][1]+r[1][0]),u(n),n}}else g[1]===C&&(a=[c,g])}if(h&&r)s(h[1],r[1])&&n.splice(r[0],1);else if(i&&r)s(e[1],r[1])&&n.splice(r[0],1);else if(e&&o&&r)s(e[1],r[1])&&n.splice(r[0],1);else if(t&&r){var k="gi|qu",p=n[0][0]+n[1][0];k.indexOf(p)!==-1&&e?s(e[1],r[1])&&n.splice(r[0],1):s(t[1],r[1])&&n.splice(r[0],1)}return u(n),n}function u(n){for(var t=0;t<n.length;t++){const e=n[t];e[0]=e[2]&&e[2]===!0?e[0].toUpperCase():e[0]}}function s(n,t){const e=I[n[0].toLowerCase()+t[0]];return!!e&&(n[0]=e,n[1]=C,!0)}function f(n){return D[n]}function g(n){return G[n]}window.onTextBoxChange=function(t,i){const h=o(t);if(i&&16!==i.keyCode&&20!==i.keyCode&&32!==i.keyCode&&8!==i.keyCode){var c=skey_lexer(h[2]);if(c.length>0){e(c,i),c=skey_eval(c);var u=r(c);u=n(u),a(t,u,h[0],h[1])}}};const l=" \n\t",k="ONE_KEY_VOWEL_TAG",p="ONE_KEY_CONSONANT_TAG",y="ACCENT_KEY",d="VOWEL",C="ACCENTIZED_VOWEL_TAG",v="SEMI_ACCENTIZED_VOWEL_TAG",_="CONSONANT",S="SEMI_ACCENTIZED_CONSONANT_TAG",b="DIGIT",T="aáàảãạăắằẳẵặâấầẩẫậ",w="eéèẻẽẹêếềểễệ",m="iíìỉĩị",E="oóòỏõọơớờởỡợôốồổỗộ",O="uúùủũụưứừửữự",L="yýỳỷỹỵ",A=[T,w,m,E,O,L].join(""),x=[A,"cdđefghijklmnopqrstvwxyz"].join(""),N=[[/[ \n\t]+/,null],[/[6-9^&*({}\[\]]+/,k],[/[đd]+/i,S],[/[zd]+/i,p],[/[1-5]+/,y],[/[0-9]+/,b],[/[áàảãạ ắằẳẵặ ấầẩẫậ éèẻẽẹ ếềểễệ íìỉĩị óòỏõọ ớờởỡợ ốồổỗộ úùủũụ ứừửữự ýỳỷỹỵ]+/i,C],[/[âăêôơư]+/i,v],[/[^aeiouy6-9]+/i,_],[/[aeiouy]+/i,d]],I={a1:"á",a2:"à",a3:"ả",a4:"ã",a5:"ạ","ă1":"ắ","ă2":"ằ","ă3":"ẳ","ă4":"ẵ","ă5":"ặ","â1":"ấ","â2":"ầ","â3":"ẩ","â4":"ẫ","â5":"ậ",e1:"é",e2:"è",e3:"ẻ",e4:"ẽ",e5:"ẹ","ê1":"ế","ê2":"ề","ê3":"ể","ê4":"ễ","ê5":"ệ",i1:"í",i2:"ì",i3:"ỉ",i4:"ĩ",i5:"ị",o1:"ó",o2:"ò",o3:"ỏ",o4:"õ",o5:"ọ","ơ1":"ớ","ơ2":"ờ","ơ3":"ở","ơ4":"ỡ","ơ5":"ợ","ô1":"ố","ô2":"ồ","ô3":"ổ","ô4":"ỗ","ô5":"ộ",u1:"ú",u2:"ù",u3:"ủ",u4:"ũ",u5:"ụ","ư1":"ứ","ư2":"ừ","ư3":"ử","ư4":"ữ","ư5":"ự",y1:"ý",y2:"ỳ",y3:"ỷ",y4:"ỹ",y5:"ỵ",61:"ấ",62:"ầ",63:"ẩ",64:"ẫ",65:"ậ","^1":"Ấ",71:"ế",72:"ề",73:"ể",74:"ễ",75:"ệ",81:"ố",82:"ồ",83:"ổ",84:"ỗ",85:"ộ",91:"ắ",92:"ằ",93:"ẳ",94:"ẵ",95:"ặ","[1":"ứ","[2":"ừ","[3":"ử","[4":"ữ","[5":"ự","]1":"ớ","]2":"ờ","]3":"ở","]4":"ỡ","]5":"ợ"},D={};Object.keys(I).forEach(function(n){D[I[n]]=D[I[n]]?D[I[n]].concat([n]):[n]});const M={6:"â",7:"ê",8:"ô",9:"ă","[":"ư","]":"ơ","^":"Â","&":"Ê","*":"Ô","(":"Ă","{":"Ư","}":"Ơ",z:"d",d:"đ",Z:"Z",D:"Đ"},j="d",G={};Object.keys(M).forEach(function(n){G[M[n]]=G[M[n]]?G[M[n]].concat([n]):[n]});const B={"óă":"oắ","òă":"oằ","ỏă":"oẳ","õă":"oẵ","ọă":"oặ","úâ":"uấ","ùâ":"uầ","ủâ":"uẩ","ũâ":"uẫ","ụâ":"uậ","óe":"oé","òe":"oè","ỏe":"oẻ","õe":"oẽ","ọe":"oẹ","óa":"oá","òa":"oà","ỏa":"oả","õa":"oã","ọa":"oạ"};window.skey_lexer=function(n){for(var t=0,e=[],i=!1,o=!1,r=!1;t<n.length;){for(var a=null,h=0;h<N.length;h++){const c=N[h],u=c[0],s=c[1],f=n[t];if(a=u.test(f)){if(s){if((s===k||s===p)&&t>0&&!i&&!o)continue;if(s===p&&n.length>1&&!r)continue;if(i||s!==d&&s!==k&&s!==v&&s!==C||(i=!0),o||s!==_&&s!==p&&s!==S||(o=!0),s===S){if(1===n.length||r)continue;r=!0}if(s===y&&!i)continue;const g=[f,s];e.push(g)}break}}a&&(t+=1)}return e},window.skey_eval=function(n){return n=h(n),n=c(n)}}();const testData=[["a,1","á","","Dấu sắc"],["a,2","à","","Dấu huyền"],["a,3","ả","","Dấu hỏi"],["a,4","ã","","Dấu ngã"],["a,5","ạ","","Dấu nặng"],["6","â","","Chữ gõ bằng một phím"],["7","ê"],["8","ô"],["9","ă"],["[","ư"],["]","ơ"],["z","d","z","Theo kiểu gõ dấu Tu Binh Tran-MS thì gõ z bung ra d, và gõ d bung ra đ (S-key: gõ d bung ra đ nhưng gõ z thì vẫn là z)"],["d","đ"],["Shift_a, 1","Á","","In hoa khi chỉ bật phím shift"],["Capslock,a,1","Á","","In hoa khi bật capslock trước đó"],["Capslock, Shift_a, 1","á","","Chữ thường khi shift và capslock cùng được bật"],["Shift_6","Â","","Thử shift với các chữ gõ bằng một phím"],["Shift_7","Ê"],["Shift_8","Ô"],["Shift_9","Ă"],["Shift_[","Ư"],["Shift_]","Ơ"],["c,h,a,2,o","chào","","Thứ tự gõ lần lượt là c, h, a, 2, o."],["h,o,2,a,n,g","hoàng","hòang","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt vị trí thứ tự bỏ dấu => Cần xây dựng bộ sửa lỗi chính tả khi gặp thứ tự gõ phím tương tự"],["Shift_9,n","Ăn","","Shift_9 để gõ ra chữ in hoa (Ă)"],["Shift_a,2","À","","Chú ý: Shift_<một phím ghi chữ thường> để gõ in hoa"],["Capslock,a,2","À","","Thứ tự gõ phím: Bật capslock, gõ phím a, gõ phím 2, kết quả là A được in hoa và bỏ dấu huyền"],["Capslock,a,Capslock,n,2","Àn","","Thứ tự gõ: bật capslock, gõ phím a, tắt capslock, gõ phím n, gõ phím 2"],["Capslock,Shift_a,2","à","","Bật capslock, nhưng lại nhấn nút Shift khi gõ phím => vẫn ra chữ thường"],["t,8,n,1","tốn","tôn1","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt các dấu sắc huyền hỏi ngã nặng khi sau ký tự ô => Cần sửa lỗi."],["t,8,1","tố","tô1"],["8,n,2","ồn","ôn2"],["1,6","16","ấ","Gõ 61 bung ra ấ (đúng) nhưng gõ 16 Skey vẫn bung ra ấ (sai)."],["1,7","17","ế","Gõ 71 bung ra ế (đúng) nhưng gõ 17 Skey vẫn bung ra ế (sai)."],["2,8","28","ồ","Gõ 82 bung ra ồ (đúng) nhưng gõ 28 Skey vẫn bung ra ồ (sai)."],["3,9","39","ẳ","Gõ 93 bung ra ẳ (đúng) nhưng gõ 39 Skey vẫn bung ra ẳ (sai)."],["h,o,9,1,t","hoắt"],["h,o,9,t,1","hoắt"],["k,h,u,6,1,t","khuất"],["k,h,u,6,t,1","khuất"],["k,h,u,6,1,y","khuấy"],["k,h,u,6,y,1","khuấy"],["l,o,e,1,t","loét"],["l,o,e,t,1","loét"],["n,g,o,e,3,m","ngoẻm"],["n,g,o,e,m,3","ngoẻm"],["n,g,o,e,2,o","ngoèo"],["n,g,o,e,o,2","ngoèo"],["y,7,1,t","yết"],["y,7,t,1","yết"],["k,h,i,7,1,t","khiết"],["k,h,i,7,t,1","khiết"],["y,7,1,u","yếu"],["y,7,u,1","yếu"],["n,g,o,a,1,y","ngoáy"],["n,g,o,a,y,1","ngoáy"],["h,u,],5,t","huợt"],["h,u,],t,5","huợt"],["h,u,],4,n","huỡn"],["h,u,],n,4","huỡn"],["c,u,8,1,c","cuốc"],["c,u,8,c,1","cuốc"],["c,u,8,1,i","cuối"],["c,u,8,i,1","cuối"],["p,h,[,],1,c","phước"],["p,h,[,],c,1","phước"],["c,[,],2,i","cười"],["c,[,],i,2","cười"],["r,[,],5,u","rượu"],["r,[,],u,5","rượu"],["t,u,y,7,t,1","tuyết"],["t,u,y,7,1,t","tuyết"],["q,u,y,7,n,2","quyền"],["n,h,u,3,i","nhủi"],["n,h,u,i,3","nhủi"],["t,u,1,i","túi"],["t,u,i,1","túi"],["t,a,1,i","tái"],["t,a,i,1","tái"],["n,g,a,2,y","ngày"],["n,g,a,y,2","ngày"],["c,u,1,i","cúi"],["c,u,i,1","cúi"],["m,a,4,i","mãi"],["m,a,i,4","mãi"],["c,6,5,u","cậu"],["c,6,u,5","cậu"],["h,6,1","hấ"],["h,o,a,3,3","hoa3"],["h,Shift_o,Shift_a,3,3","hOA3"],["h,Capslock,o,a,3,3","hOA3"],["a,1,1","a1"],["a,1,1,1","a11"],["Shift_a,1,1","A1"],["h,6,6","h6"],["h,6,1,6","h616"],["h,6,1,6,6,6","h61666"],["h,o,a,3,6","hoa36"],["h,o,a,6,6","hoa6"]],PASS_TEXT="<b style='color: green'>PASS</b>",FAIL_TEXT="<b style='color: red'>FAIL</b>";window.onTestButtonPress=function(n,t){for(var e=n.getElementsByTagName("tbody")[0],i=0;i<testData.length;i++){var o=testData[i],r=testAnInput(o[0]),a=o[1]==r,h=e.insertRow(e.rows.length),c=h.insertCell(0);c.innerHTML=o[0],c=h.insertCell(1),c.innerHTML=o[1],c=h.insertCell(2),c.innerHTML=r,c=h.insertCell(3),c.innerHTML=a?PASS_TEXT:FAIL_TEXT,c=h.insertCell(4),c.innerHTML=o[3]||""}};
//# sourceMappingURL=main.min.js.map
