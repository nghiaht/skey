/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
function testAnInput(n){for(var t=n.split(","),e=!1,o=!1,i=!1,a=[],r=[],h=[],c=0;c<t.length;c++){var u=t[c].replace(" ","").toLowerCase();u.length>1&&(u.indexOf("shift_")!=-1?(o=!0,u=u.split("_")[1]):"capslock"==u&&(i=!i)),1==u.length&&(e=isUppercase(o,i),h.push(e),o&&(o=!1),r.push(u))}a=skey_lexer(r.join(""));for(var s=0;s<a.length;s++)a[s].push(h[s]);a=skey_eval(a);const g=a.map(function(n){return n[0]}).join("");return g}function isUppercase(n,t){return(!n||!t)&&(n||t)}!function(){"use strict";var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||n)&&navigator.serviceWorker.register("service-worker.js").then(function(n){n.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=n.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(n){console.error("Error during service worker registration:",n)})}(),function(){function n(n){return(!n.getModifierState("Shift")||!n.getModifierState("CapsLock"))&&!(!n.getModifierState("Shift")&&!n.getModifierState("CapsLock"))}function t(t,o){for(var i=0;i<t.length;i++){var a=e(t[i][0]);i==t.length-1&&o&&16!=o.keyCode&&20!=o.keyCode&&(a=a||n(o)),t[i].push(a)}}function e(n){return E.indexOf(n.toLowerCase())!==-1&&n===n.toUpperCase()}function o(n){const t=n.selectionStart;for(var e=n.value,o=0,i=t;i>=0;i--){var a=e[i];if(g.indexOf(a)!==-1){o=i+1;break}}return[o,t,e.substr(o,t-o)]}function i(n,t,e,o){const i=t.map(function(n){return n[0]}).join("");n.value=n.value.substring(0,e)+i+n.value.substring(o)}function a(n){n=n.slice();for(var t,e,o,i,a,r,h=0,c=0,g=0;g<n.length;g++){const d=n[g];if(d[1]===p&&(r&&(r[1]=w,d[1]=w),h+=1,r=d),d[1]===l||d[1]===f){if(r&&(r[1]=w),a&&a[0]===d[0])return n;a=d,c+=1}}if(h>1)return n;for(var _=0;_<n.length;_++){const d=n[_];if(d[1]===C)t=d;else if(d[1]===y)e=d;else if(d[1]===p)o=d;else if(d[1]===f||d[1]===l){if(t){const S=s(t[0]);if(S){if(S.indexOf(d[0])!==-1)return t[0]=d[0],t[1]=w,i?(d[1]=w,n):(d[0]="",d[1]=w,n);const T=S[0];if(T.toLowerCase()===d[0].toLowerCase())return t[0]=T[0],t[1]=w,d[1]=w,n}}else if(e){const S=u(e[0]);if(S){var T;if(S.forEach(function(n){n.indexOf(d[0]!==-1)&&!T&&d[2]&&(T=n)}),T||(T=S[0]),T)return e[0]=T[0],e[1]=k,d[0]=T[1]+d[0],d[1]=w,n}}if(i=d,n.length>1&&I.indexOf(d[0].toLowerCase())!==-1)continue;d[0]=D[d[0].toLowerCase()],d[1]=O.indexOf(d[0].toLowerCase())!==-1?C:v,d[0]=d[2]?d[0].toUpperCase():d[0],d[1]===C&&(t=d)}}return n}function r(n){n=n.slice();for(var t,e,o,i,a,r,s,g=0;g<n.length;g++){const l=n[g];if(l[1]===k||l[1]===C)o=e?[g,l]:o,e=!e&&t?[g,l]:e,t=t?t:[g,l];else if(l[1]===d)i=t||e||o?[g,l]:i;else if(l[1]===p){if(a)return h(n),n;if(a=[g,l],r){const f=u(r[1][0].toLowerCase());if(f)return r[1][0]=f[0][0],r[1][1]=k,f[0][1]!==a[1][0]&&(a[1][0]=f[0][1]+a[1][0]),h(n),n}}else l[1]===y&&(r=[g,l])}return s&&a?c(s[1],a[1])&&n.splice(a[0],1):e&&a?o&&"y"===e[1][0].toLowerCase()&&"ê"===o[1][0].toLowerCase()?c(o[1],a[1])&&n.splice(a[0],1):"uư".indexOf(t[1][0].toLowerCase())!==-1&&"a".indexOf(e[1][0].toLowerCase())!==-1?n[t[0]-1]&&"q"===n[t[0]-1][0].toLowerCase()?c(e[1],a[1])&&n.splice(a[0],1):c(t[1],a[1])&&n.splice(a[0],1):"i".indexOf(t[1][0].toLowerCase())!==-1&&"a".indexOf(e[1][0].toLowerCase())!==-1?n[t[0]-1]&&"g"===n[t[0]-1][0].toLowerCase()?"5"===a[1][0]?c(t[1],a[1])&&n.splice(a[0],1):c(e[1],a[1])&&n.splice(a[0],1):c(t[1],a[1])&&n.splice(a[0],1):"a,ă,â,u,ư,o,ơ,ô".indexOf(t[1][0].toLowerCase())!==-1&&"o,i,y,u".indexOf(e[1][0].toLowerCase())!==-1?c(t[1],a[1])&&n.splice(a[0],1):c(e[1],a[1])&&n.splice(a[0],1):t&&a&&c(t[1],a[1])&&n.splice(a[0],1),h(n),n}function h(n){for(var t=0;t<n.length;t++){const e=n[t];e[0]=e[2]&&e[2]===!0?e[0].toUpperCase():e[0]}}function c(n,t){const e=x[n[0].toLowerCase()+t[0]];if(e){n[0]=e;const o=n[2];return n[0]=o?n[0].toUpperCase():n[0],n[1]=y,!0}return!1}function u(n){return N[n]}function s(n){return M[n]}window.onTextBoxChange=function(n,e){const a=o(n);if(e&&16!==e.keyCode&&20!==e.keyCode){var r=skey_lexer(a[2]);r.length>0&&(t(r,e),r=skey_eval(r),i(n,r,a[0],a[1]))}};const g=" \n\t",l="ONE_KEY_VOWEL_TAG",f="ONE_KEY_CONSONANT_TAG",p="ACCENT_KEY",k="VOWEL",y="ACCENTIZED_VOWEL_TAG",C="SEMI_ACCENTIZED_VOWEL_TAG",d="CONSONANT",v="SEMI_ACCENTIZED_CONSONANT_TAG",w="DIGIT",_="aáàảãạăắằẳẵặâấầẩẫậ",S="eéèẻẽẹêếềểễệ",T="iíìỉĩị",b="oóòỏõọơớờởỡợôốồổỗộ",m="uúùủũụưứừửữự",L="yýỳỷỹỵ",O=[_,S,T,b,m,L].join(""),E=[O,"cdđefghijklmnopqrstvwxyz"].join(""),A=[[/[ \n\t]+/,null],[/[6-9^&*({}\[\]]+/,l],[/[zdZD]+/,f],[/[1-5]+/,p],[/[0-9]+/,w],[/[áàảãạ ắằẳẵặ ấầẩẫậ éèẻẽẹ ếềểễệ íìỉĩị óòỏõọ ớờởỡợ ốồổỗộ úùủũụ ứừửữự ýỳỷỹỵ]+/i,y],[/[âăêôơư]+/i,C],[/[^aeiouy6-9]+/i,d],[/[aeiouy]+/i,k]],x={a1:"á",a2:"à",a3:"ả",a4:"ã",a5:"ạ","ă1":"ắ","ă2":"ằ","ă3":"ẳ","ă4":"ẵ","ă5":"ặ","â1":"ấ","â2":"ầ","â3":"ẩ","â4":"ẫ","â5":"ậ",e1:"é",e2:"è",e3:"ẻ",e4:"ẽ",e5:"ẹ","ê1":"ế","ê2":"ề","ê3":"ể","ê4":"ễ","ê5":"ệ",i1:"í",i2:"ì",i3:"ỉ",i4:"ĩ",i5:"ị",o1:"ó",o2:"ò",o3:"ỏ",o4:"õ",o5:"ọ","ơ1":"ớ","ơ2":"ờ","ơ3":"ở","ơ4":"ỡ","ơ5":"ợ","ô1":"ố","ô2":"ồ","ô3":"ổ","ô4":"ỗ","ô5":"ộ",u1:"ú",u2:"ù",u3:"ủ",u4:"ũ",u5:"ụ","ư1":"ứ","ư2":"ừ","ư3":"ử","ư4":"ữ","ư5":"ự",y1:"ý",y2:"ỳ",y3:"ỷ",y4:"ỹ",y5:"ỵ",61:"ấ",62:"ầ",63:"ẩ",64:"ẫ",65:"ậ","^1":"Ấ",71:"ế",72:"ề",73:"ể",74:"ễ",75:"ệ",81:"ố",82:"ồ",83:"ổ",84:"ỗ",85:"ộ",91:"ắ",92:"ằ",93:"ẳ",94:"ẵ",95:"ặ","[1":"ứ","[2":"ừ","[3":"ử","[4":"ữ","[5":"ự","]1":"ớ","]2":"ờ","]3":"ở","]4":"ỡ","]5":"ợ"},N={};Object.keys(x).forEach(function(n){N[x[n]]=N[x[n]]?N[x[n]].concat([n]):[n]});const D={6:"â",7:"ê",8:"ô",9:"ă","[":"ư","]":"ơ","^":"Â","&":"Ê","*":"Ô","(":"Ă","{":"Ư","}":"Ơ",z:"d",d:"đ",Z:"Z",D:"Đ"},I="d",M={};Object.keys(D).forEach(function(n){M[D[n]]=M[D[n]]?M[D[n]].concat([n]):[n]}),window.skey_lexer=function(n){for(var t=0,e=[],o=!1,i=!1;t<n.length;){for(var a=null,r=0;r<A.length;r++){const h=A[r],c=h[0],u=h[1],s=n[t];if(a=c.test(s)){if(u){if((u===l||u===f)&&t>0&&!o&&!i)continue;if(o||u!==k&&u!==l&&u!==C&&u!==y||(o=!0),i||u!==d&&u!==f||(i=!0),u===p&&!o)continue;const g=[s,u];e.push(g)}break}}a&&(t+=1)}return e},window.skey_eval=function(n){return n=a(n),n=r(n)}}();const testData=[["a,1","á","","Dấu sắc"],["a,2","à","","Dấu huyền"],["a,3","ả","","Dấu hỏi"],["a,4","ã","","Dấu ngã"],["a,5","ạ","","Dấu nặng"],["6","â","","Chữ gõ bằng một phím"],["7","ê"],["8","ô"],["9","ă"],["[","ư"],["]","ơ"],["z","d","z","Theo kiểu gõ dấu Tu Binh Tran-MS thì gõ z bung ra d, và gõ d bung ra đ (S-key: gõ d bung ra đ nhưng gõ z thì vẫn là z)"],["d","đ"],["Shift_a, 1","Á","","In hoa khi chỉ bật phím shift"],["Capslock,a,1","Á","","In hoa khi bật capslock trước đó"],["Capslock, Shift_a, 1","á","","Chữ thường khi shift và capslock cùng được bật"],["Shift_6","Â","","Thử shift với các chữ gõ bằng một phím"],["Shift_7","Ê"],["Shift_8","Ô"],["Shift_9","Ă"],["Shift_[","Ư"],["Shift_]","Ơ"],["c,h,a,2,o","chào","","Thứ tự gõ lần lượt là c, h, a, 2, o."],["h,o,2,a,n,g","hoàng","hòang","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt vị trí thứ tự bỏ dấu => Cần xây dựng bộ sửa lỗi chính tả khi gặp thứ tự gõ phím tương tự"],["Shift_9,n","Ăn","","Shift_9 để gõ ra chữ in hoa (Ă)"],["Shift_a,2","À","","Chú ý: Shift_<một phím ghi chữ thường> để gõ in hoa"],["Capslock,a,2","À","","Thứ tự gõ phím: Bật capslock, gõ phím a, gõ phím 2, kết quả là A được in hoa và bỏ dấu huyền"],["Capslock,a,Capslock,n,2","Àn","","Thứ tự gõ: bật capslock, gõ phím a, tắt capslock, gõ phím n, gõ phím 2"],["Capslock,Shift_a,2","à","","Bật capslock, nhưng lại nhấn nút Shift khi gõ phím => vẫn ra chữ thường"],["t,8,n,1","tốn","tôn1","Bộ gõ hiện cho ra kết quả sai, chưa xử lý tốt các dấu sắc huyền hỏi ngã nặng khi sau ký tự ô => Cần sửa lỗi."],["t,8,1","tố","tô1"],["8,n,2","ồn","ôn2"],["1,6","16","ấ","Gõ 61 bung ra ấ (đúng) nhưng gõ 16 Skey vẫn bung ra ấ (sai)."],["1,7","17","ế","Gõ 71 bung ra ế (đúng) nhưng gõ 17 Skey vẫn bung ra ế (sai)."],["2,8","28","ồ","Gõ 82 bung ra ồ (đúng) nhưng gõ 28 Skey vẫn bung ra ồ (sai)."],["3,9","39","ẳ","Gõ 93 bung ra ẳ (đúng) nhưng gõ 39 Skey vẫn bung ra ẳ (sai)."],["h,o,9,1,t","hoắt"],["h,o,9,t,1","hoắt"],["k,h,u,6,1,t","khuất"],["k,h,u,6,t,1","khuất"],["k,h,u,6,1,y","khuấy"],["k,h,u,6,y,1","khuấy"],["l,o,e,1,t","loét"],["l,o,e,t,1","loét"],["n,g,o,e,3,m","ngoẻm"],["n,g,o,e,m,3","ngoẻm"],["n,g,o,e,2,o","ngoèo"],["n,g,o,e,o,2","ngoèo"],["y,7,1,t","yết"],["y,7,t,1","yết"],["k,h,i,7,1,t","khiết"],["k,h,i,7,t,1","khiết"],["y,7,1,u","yếu"],["y,7,u,1","yếu"],["n,g,o,a,1,y","ngoáy"],["n,g,o,a,y,1","ngoáy"],["h,u,],5,t","huợt"],["h,u,],t,5","huợt"],["h,u,],4,n","huỡn"],["h,u,],n,4","huỡn"],["c,u,8,1,c","cuốc"],["c,u,8,c,1","cuốc"],["c,u,8,1,i","cuối"],["c,u,8,i,1","cuối"],["p,h,[,],1,c","phước"],["p,h,[,],c,1","phước"],["c,[,],2,i","cười"],["c,[,],i,2","cười"],["r,[,],5,u","rượu"],["r,[,],u,5","rượu"],["t,u,y,7,t,1","tuyết"],["t,u,y,7,1,t","tuyết"],["q,u,y,7,n,2","quyền"],["n,h,u,3,i","nhủi"],["n,h,u,i,3","nhủi"],["t,u,1,i","túi"],["t,u,i,1","túi"],["t,a,1,i","tái"],["t,a,i,1","tái"],["n,g,a,2,y","ngày"],["n,g,a,y,2","ngày"],["c,u,1,i","cúi"],["c,u,i,1","cúi"],["m,a,4,i","mãi"],["m,a,i,4","mãi"],["c,6,5,u","cậu"],["c,6,u,5","cậu"],["h,6,1","hấ"],["h,o,a,3,3","hoa3"],["h,Shift_o,Shift_a,3,3","hOA3"],["h,Capslock,o,a,3,3","hOA3"],["a,1,1","a1"],["a,1,1,1","a11"],["Shift_a,1,1","A1"],["h,6,6","h6"],["h,6,1,6","h616"],["h,6,1,6,6,6","h61666"],["h,o,a,3,6","hoa36"],["h,o,a,6,6","hoa6"]],PASS_TEXT="<b style='color: green'>PASS</b>",FAIL_TEXT="<b style='color: red'>FAIL</b>";window.onTestButtonPress=function(n,t){for(var e=n.getElementsByTagName("tbody")[0],o=0;o<testData.length;o++){var i=testData[o],a=testAnInput(i[0]),r=i[1]==a,h=e.insertRow(e.rows.length),c=h.insertCell(0);c.innerHTML=i[0],c=h.insertCell(1),c.innerHTML=i[1],c=h.insertCell(2),c.innerHTML=a,c=h.insertCell(3),c.innerHTML=r?PASS_TEXT:FAIL_TEXT,c=h.insertCell(4),c.innerHTML=i[3]||""}};
//# sourceMappingURL=main.min.js.map
