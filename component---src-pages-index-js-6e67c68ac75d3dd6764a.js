webpackJsonp([35783957827783],{7:function(t,e,r){(function(t){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,r)}function o(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,r,n):"string"==typeof e?c(t,e,r):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return s(e),e<=0?$(t,e):void 0!==r?"string"==typeof n?$(t,e).fill(r,n):$(t,e).fill(r):$(t,e)}function l(t,e){if(s(e),t=$(t,e<0?0:0|_(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,r);t=$(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function h(t,e){var r=e.length<0?0:0|_(e.length);t=$(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=h(t,e),t}function d(t,e){if(a.isBuffer(e)){var r=0|_(e.length);return t=$(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?$(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function p(t){return+t!=t&&(t=0),a.alloc(+t)}function y(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){function $(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,o=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,s/=2,r/=2}var u;if(i){var l=-1;for(u=r;u<o;u++)if($(t,u)===$(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===s)return l*a}else l!==-1&&(u-=u-l),l=-1}else for(r+s>o&&(r=o-s),u=r;u>=0;u--){for(var c=!0,h=0;h<s;h++)if($(t,u+h)!==$(e,h)){c=!1;break}if(c)return u}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var $=e.length;if($%2!==0)throw new TypeError("Invalid hex string");n>$/2&&(n=$/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[r+a]=o}return a}function E(t,e,r,n){return K(G(e,t.length-r),t,r,n)}function k(t,e,r,n){return K(Y(e),t,r,n)}function x(t,e,r,n){return k(t,e,r,n)}function A(t,e,r,n){return K(X(e),t,r,n)}function O(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var $=t[i],a=null,o=$>239?4:$>223?3:$>191?2:1;if(i+o<=r){var s,u,l,c;switch(o){case 1:$<128&&(a=$);break;case 2:s=t[i+1],128===(192&s)&&(c=(31&$)<<6|63&s,c>127&&(a=c));break;case 3:s=t[i+1],u=t[i+2],128===(192&s)&&128===(192&u)&&(c=(15&$)<<12|(63&s)<<6|63&u,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:s=t[i+1],u=t[i+2],l=t[i+3],128===(192&s)&&128===(192&u)&&128===(192&l)&&(c=(15&$)<<18|(63&s)<<12|(63&u)<<6|63&l,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return I(n)}function I(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",$=e;$<r;++$)i+=H(t[$]);return i}function N(t,e,r){for(var n=t.slice(e,r),i="",$=0;$<n.length;$+=2)i+=String.fromCharCode(n[$]+256*n[$+1]);return i}function z(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,$){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<$)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function D(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,$=Math.min(t.length-r,2);i<$;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,$=Math.min(t.length-r,4);i<$;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function L(t,e,r,n,i,$){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(t,e,r,n,i){return i||L(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,r,n,23,4),r+4}function q(t,e,r,n,i){return i||L(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,r,n,52,8),r+8}function j(t){if(t=U(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var r,n=t.length,i=null,$=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&$.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&$.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&$.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&$.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;$.push(r)}else if(r<2048){if((e-=2)<0)break;$.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;$.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;$.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return $}function Y(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,$=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,$.push(i),$.push(n);return $}function X(t){return J.toByteArray(j(t))}function K(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function V(t){return t!==t}var J=r(257),Z=r(367),Q=r(113);e.Buffer=a,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return o(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return u(null,t,e,r)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,$=Math.min(r,n);i<$;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var $=t[r];if(!a.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(n,i),i+=$.length}return n},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):m.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var $=i-n,o=r-e,s=Math.min($,o),u=this.slice(n,i),l=t.slice(e,r),c=0;c<s;++c)if(u[c]!==l[c]){$=u[c],o=l[c];break}return $<o?-1:o<$?1:0},a.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},a.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var $=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return k(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,r);default:if($)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var $=0;$<i;++$)n[$]=this[$+t]}return n},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||z(t,e,this.length);for(var n=e,i=1,$=this[t+--n];n>0&&(i*=256);)$+=this[t+--n]*i;return i*=128,$>=i&&($-=Math.pow(2,8*e)),$},a.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),Z.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),Z.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var $=1,a=0;for(this[e]=255&t;++a<r&&($*=256);)this[e+a]=t/$&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,t,e,r,i,0)}var $=r-1,a=1;for(this[e+$]=255&t;--$>=0&&(a*=256);)this[e+$]=t/a&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var $=0,a=1,o=0;for(this[e]=255&t;++$<r&&(a*=256);)t<0&&0===o&&0!==this[e+$-1]&&(o=1),this[e+$]=(t/a>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var $=r-1,a=1,o=0;for(this[e+$]=255&t;--$>=0&&(a*=256);)t<0&&0===o&&0!==this[e+$+1]&&(o=1),this[e+$]=(t/a>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return q(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return q(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,$=n-r;if(this===t&&r<e&&e<n)for(i=$-1;i>=0;--i)t[i+e]=this[i+r];else if($<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<$;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+$),e);return $},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var $;if("number"==typeof t)for($=e;$<r;++$)this[$]=t;else{var o=a.isBuffer(t)?t:G(new a(t,n).toString()),s=o.length;for($=0;$<r-e;++$)this[$+e]=o[$%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},506:function(t,e){},15:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function $(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function a(){_&&f&&(_=!1,f.length?d=f.concat(d):p=-1,d.length&&o())}function o(){if(!_){var t=i(a);_=!0;for(var e=d.length;e;){for(f=d,d=[];++p<e;)f&&f[p].run();p=-1,e=d.length}f=null,_=!1,$(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var f,d=[],_=!1,p=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new s(t,e)),1!==d.length||_||i(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},17:function(t,e,r){function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,r){return a(t,e,r)}var $=r(7),a=$.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=$:(n($,e),e.Buffer=i),n(a,i),i.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,r)},i.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=a(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return $.SlowBuffer(t)}},28:function(t,e,r){"use strict";function n(t){return this instanceof n?(u.call(this,t),l.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick($,this)}function $(t){t.end()}var a=r(71),o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=n;var s=r(52);s.inherits=r(8);var u=r(212),l=r(141);s.inherits(n,u);for(var c=o(l.prototype),h=0;h<c.length;h++){var f=c[h];n.prototype[f]||(n.prototype[f]=l.prototype[f])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),n.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},45:function(t,e,r){function n(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=r(17).Buffer;n.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=i.from(t,e));for(var r=this._block,n=this._blockSize,$=t.length,a=this._len,o=0;o<$;){for(var s=a%n,u=Math.min($-o,n-s),l=0;l<u;l++)r[s+l]=t[o+l];a+=u,o+=u,a%n===0&&this._update(r)}return this._len+=$,this},n.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var $=this._hash();return t?$.toString(t):$},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},52:function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===p(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function $(t){return null==t}function a(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t){return"symbol"==typeof t}function u(t){return void 0===t}function l(t){return"[object RegExp]"===p(t)}function c(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===p(t)}function f(t){return"[object Error]"===p(t)||t instanceof Error}function d(t){return"function"==typeof t}function _(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function p(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=$,e.isNumber=a,e.isString=o,e.isSymbol=s,e.isUndefined=u,e.isRegExp=l,e.isObject=c,e.isDate=h,e.isError=f,e.isFunction=d,e.isPrimitive=_,e.isBuffer=t.isBuffer}).call(e,r(7).Buffer)},71:function(t,e,r){(function(e){"use strict";function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var $,a,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for($=new Array(o-1),a=0;a<$.length;)$[a++]=arguments[a];return e.nextTick(function(){t.apply(null,$)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:r}:t.exports=e}).call(e,r(15))},78:function(t,e,r){(function(e){function r(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),$=-1;++$<n;)i.writeUInt8(t[$]^r[$],$);return i}t.exports=r}).call(e,r(7).Buffer)},106:function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function $(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,o,s,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||$(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(r=this._events[t],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if($(r))for(o=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,s=0;s<i;s++)u[s].apply(this,o);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?$(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,$(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,a,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],a=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if($(r)){for(o=a;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},112:function(t,e,r){!function(e,r){t.exports=r()}(this,function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,o=a&&a(Object);return function s(u,l,c){if("string"!=typeof l){if(o){var h=a(l);h&&h!==o&&s(u,h,c)}var f=n(l);i&&(f=f.concat(i(l)));for(var d=0;d<f.length;++d){var _=f[d];if(!(t[_]||e[_]||c&&c[_])){var p=$(l,_);try{r(u,_,p)}catch(t){}}}return u}return u}})},115:function(t,e){Opal.modules.base64=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy,a=t.hash2;return t.add_stubs(["$raise","$delete"]),function(e,o){var s,u,l,c,h,f,d,_,p,y=s=i(e,"Base64"),m=(y.$$proto,[y].concat(o)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";_=t.global.btoa||function(t){for(var e,r,i=String(t),$=0,a=g,o="";i.charAt(0|$)||(a="=",$%1);o+=a.charAt(63&e>>8-$%1*8))r=i.charCodeAt($+=.75),r>255&&y.$raise(n(m,"ArgumentError"),"invalid character (failed: The string to be encoded contains characters outside of the Latin1 range.)"),e=e<<8|r;return o},p=t.global.atob||function(t){var e=String(t).replace(/=+$/,"");e.length%4==1&&y.$raise(n(m,"ArgumentError"),"invalid base64 (failed: The string to be decoded is not correctly encoded.)");for(var r,i,$=0,a=0,o="";i=e.charAt(a++);~i&&(r=$%4?64*r+i:i,$++%4)?o+=String.fromCharCode(255&r>>(-2*$&6)):0)i=g.indexOf(i);return o},t.defs(y,"$decode64",u=function(t){return p(t.replace(/\r?\n/g,""))},u.$$arity=1),t.defs(y,"$encode64",l=function(t){return _(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},l.$$arity=1),t.defs(y,"$strict_decode64",c=function(t){return p(t)},c.$$arity=1),t.defs(y,"$strict_encode64",h=function(t){
return _(t)},h.$$arity=1),t.defs(y,"$urlsafe_decode64",f=function(t){return p(t.replace(/\-/g,"+").replace(/_/g,"/"))},f.$$arity=1),t.defs(y,"$urlsafe_encode64",d=function(e,n){var i,o=r;if(null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=a([],{})}return i=n.$$smap.padding,null==i&&(i=!0),o=_(e).replace(/\+/g,"-").replace(/\//g,"_"),$(i)||(o=o.$delete("=")),o},d.$$arity=-2)}(e[0],e)}},116:function(t,e,r){r(118),r(117),r(120),r(115),r(119),r(121),Opal.require("opal"),t.exports.Opal=Opal},117:function(t,e,r){(function(t){Opal.modules["nodejs/kernel"]=function(e){var n,i,$=(e.top,[]),a=e.nil,o=(e.const_get_qualified,e.const_get_relative),s=(e.breaker,e.slice,e.module);return e.add_stubs(["$to_str","$new","$to_s"]),e.exit=t.exit,function(t,n){var i,$,a,u=i=s(t,"Kernel"),l=(u.$$proto,[u].concat(n));e.const_set(l[0],"NODE_REQUIRE",r(375)),e.def(u,"$caller",$=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];var $;try{var a=Error("my error");throw a}catch(t){$=t.stack}return $.$split("\n").slice(3)},$.$$arity=-1),e.def(u,"$node_require",a=function(t){return o(l,"NODE_REQUIRE")(t.$to_str())},a.$$arity=1)}($[0],$),e.const_set($[0],"ARGV",t.argv.slice(2)),e.const_set($[0],"ENV",o($,"Object").$new()),e.defs(o($,"ENV"),"$[]=",n=function(t,e){return{LOGGING_LEVEL:"ERROR",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t.$to_s()]=e.$to_s()},n.$$arity=2),e.defs(o($,"ENV"),"$[]",i=function(t){return{LOGGING_LEVEL:"ERROR",NODE_ENV:"production",PUBLIC_DIR:"D:\\workspace\\skey-gatsby/public"}[t]||a},i.$$arity=1),a&&"[]"},Opal.modules["nodejs/file"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s($,"Kernel").$raise(s($,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){f[t]||(f[t]=!0,i.$warn(t))}function n(t){try{return t()}catch(t){if(d.indexOf(t.code)>=0){var e=s($,"Errno").$const_get(t.code);throw e.$new(t.message)}throw t}}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;t.add_stubs(["$raise","$warn","$const_get","$new","$const_defined?","$const_set","$include","$node_require","$size","$respond_to?","$path","$join","$call","$exist?","$realpath","$!=","$close","$delete","$match?","$sub","$attr_reader","$to_enum","$read","$chomp","$each_line"]);for(var h,f={},d=["EACCES","EISDIR","EMFILE","ENOENT","EPERM"],_=0,p=d.length;_<p;_++)h=d[_],s($,"Errno")["$const_defined?"](h)||s($,"Errno").$const_set(h,s($,"Class").$new(s($,"SystemCallError")));return function(r,i,$){function h(){}var f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C=h=u(r,i,"File",h),N=C.$$proto,z=[C].concat($);null==C.__fs__&&(C.__fs__=a),null==C.__path__&&(C.__path__=a),N.eof=N.path=N.fd=a,C.$include(o(o("::","IO"),"Writable")),C.$include(o(o("::","IO"),"Readable")),C.__fs__=C.$node_require("fs"),C.__path__=C.$node_require("path");var B=C.__fs__,D=C.__path__;return l(D.sep!==s(z,"Separator"))&&t.const_set(z[0],"ALT_SEPARATOR",D.sep),t.defs(C,"$read",f=function(t){return n(function(){return B.readFileSync(t).toString()})},f.$$arity=1),t.defs(C,"$write",d=function(t,e){return n(function(){return B.writeFileSync(t,e)}),e.$size()},d.$$arity=2),t.defs(C,"$exist?",_=function(t){return l(t["$respond_to?"]("path"))&&(t=t.$path()),n(function(){return B.existsSync(t)})},_.$$arity=1),t.defs(C,"$realpath",p=function(e,r,i){var $=this,o=p.$$p,s=o||a;return null==r&&(r=a),null==i&&(i=a),o&&(p.$$p=null),l(r)&&(e=$.$join(r,e)),s===a?n(function(){return B.realpathSync(e,i)}):void B.realpath(e,i,function(e,r){e?t.IOError.$new(e.message):s.$call(r)})},p.$$arity=-2),t.defs(C,"$join",y=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return D.join.apply(D,e)},y.$$arity=-1),t.defs(C,"$directory?",m=function(t){var e=this,r=a,i=a;return!!l(e["$exist?"](t))&&(r=n(function(){return!!B.lstatSync(t).isDirectory()}),l(r)||(i=e.$realpath(t),l(i["$!="](t))&&(r=n(function(){return!!B.lstatSync(i).isDirectory()}))),r)},m.$$arity=1),t.defs(C,"$file?",g=function(t){var e=this,r=a,i=a;return!!l(e["$exist?"](t))&&(r=n(function(){return!!B.lstatSync(t).isFile()}),l(r)||(i=e.$realpath(t),l(i["$!="](t))&&(r=n(function(){return!!B.lstatSync(i).isFile()}))),r)},g.$$arity=1),t.defs(C,"$readable?",v=function(t){var e=this;return!!l(e["$exist?"](t))&&"\n      try {\n        __fs__.accessSync(path, __fs__.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},v.$$arity=1),t.defs(C,"$size",b=function(t){return n(function(){return B.lstatSync(t).size})},b.$$arity=1),t.defs(C,"$open",w=function(e,r){var n=this,i=w.$$p,$=i||a,o=a;return null==r&&(r="r"),i&&(w.$$p=null),o=n.$new(e,r),$!==a?function(){try{return t.yield1($,o)}finally{o.$close()}}():o},w.$$arity=-2),t.defs(C,"$stat",E=function(t){return l(t["$respond_to?"]("path"))&&(t=t.$path()),o(s(z,"File"),"Stat").$new(t)},E.$$arity=1),t.defs(C,"$mtime",k=function(t){return n(function(){return B.statSync(t).mtime})},k.$$arity=1),t.defs(C,"$symlink?",x=function(t){return n(function(){return B.lstatSync(t).isSymbolicLink()})},x.$$arity=1),t.def(C,"$initialize",A=function(t,r){var i=this,$=a;return null==r&&(r="r"),r=r.$delete("b"),$=/:(.*)/,l($["$match?"](r))&&(e("Encoding option (:encoding) is unsupported by Node.js openSync method and will be removed."),r=r.$sub($,"")),i.path=t,i.flags=r,i.fd=n(function(){return B.openSync(t,r)})},A.$$arity=-2),C.$attr_reader("path"),t.def(C,"$read",O=function(){var t=this,e=a;return l(t.eof)?"":(e=n(function(){return B.readFileSync(t.path).toString()}),t.eof=!0,t.lineno=e.$size(),e)},O.$$arity=0),t.def(C,"$each_line",S=function(e){var r=this,n=S.$$p,i=n||a,$=a;if(null==c["/"]&&(c["/"]=a),null==e&&(e=c["/"]),n&&(S.$$p=null),l(r.eof))return function(){return i!==a?r:[].$to_enum()}();if(i!==a){$=s(z,"File").$read(r.path),r.eof=!1,r.lineno=0;for(var o=$.$chomp(),u=$.length!=o.length,h=o.split(e),f=0,d=h.length;f<d;f++)r.lineno+=1,f<d-1||u?t.yield1(i,h[f]+e):t.yield1(i,h[f]);return r.eof=!0,r}return r.$read().$each_line()},S.$$arity=-1),t.def(C,"$write",R=function(t){var e=this;return n(function(){return B.writeSync(e.fd,t)})},R.$$arity=1),t.def(C,"$flush",I=function(){var t=this;return n(function(){return B.fsyncSync(t.fd)})},I.$$arity=0),t.def(C,"$close",T=function(){var t=this;return n(function(){return B.closeSync(t.fd)})},T.$$arity=0),t.def(C,"$mtime",M=function(){var t=this;return n(function(){return B.statSync(t.path).mtime})},M.$$arity=0),a&&"mtime"}($[0],s($,"IO"),$),function(e,r,i){function $(){}var o,s,l,c=$=u(e,r,"Stat",$),h=c.$$proto;[c].concat(i);null==c.__fs__&&(c.__fs__=a),h.path=a,c.__fs__=c.$node_require("fs");var f=c.__fs__;return t.def(c,"$initialize",o=function(t){var e=this;return e.path=t},o.$$arity=1),t.def(c,"$file?",s=function(){var t=this;return n(function(){return f.statSync(t.path).isFile()})},s.$$arity=0),t.def(c,"$mtime",l=function(){var t=this;return n(function(){return f.statSync(t.path).mtime})},l.$$arity=0),a&&"mtime"}(s($,"File"),null,$)},Opal.modules["nodejs/dir"]=function(e){var r=(e.top,[]),n=e.nil,i=(e.const_get_qualified,e.const_get_relative),$=(e.breaker,e.slice,e.klass),a=e.truthy,o=e.send;return e.add_stubs(["$node_require","$respond_to?","$flat_map","$to_path","$coerce_to!"]),function(r,s,u){function l(){}var c=l=$(r,s,"Dir",l),h=(c.$$proto,[c].concat(u));null==c.__glob__&&(c.__glob__=n),null==c.__fs__&&(c.__fs__=n),c.__glob__=c.$node_require("glob"),c.__fs__=c.$node_require("fs");var f=c.__glob__,d=c.__fs__;return function(r,$){var s,u,l,c,h,_=(r.$$proto,[r].concat($));return e.def(r,"$[]",s=function(t){return f.sync(t)},s.$$arity=1),e.def(r,"$pwd",u=function(){return t.cwd()},u.$$arity=0),e.def(r,"$mkdir",l=function(t){return d.mkdirSync(t)},l.$$arity=1),e.def(r,"$entries",c=function(t){for(var e=[],r=d.readdirSync(t),n=0,i=r.length;n<i;n++)e.push(r[n]);return e},c.$$arity=1),e.def(r,"$glob",h=function(t){var e,r=this;return a(t["$respond_to?"]("each"))||(t=[t]),o(t,"flat_map",[],(e=function(t){e.$$s||this;return null==t&&(t=n),a(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(_,"Opal")["$coerce_to!"](t,i(_,"String"),"to_str"),f.sync(t)},e.$$s=r,e.$$arity=1,e))},h.$$arity=1),e.alias(r,"getwd","pwd")}(e.get_singleton_class(c),h)}(r[0],null,r)},Opal.modules["nodejs/io"]=function(e){function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var i,$,a=e.top,o=[],s=e.nil,u=(e.const_get_qualified,e.const_get_relative),l=(e.breaker,e.slice,e.klass),c=e.lambda,h=e.send,f=s;return e.add_stubs(["$node_require","$attr_reader","$write","$read","$write_proc=","$-","$tty="]),function(t,r,i){function $(){}var a,o,c,h,f=$=l(t,r,"IO",$),d=(f.$$proto,[f].concat(i));null==f.__fs__&&(f.__fs__=s),f.__fs__=f.$node_require("fs");var _=f.__fs__;return f.$attr_reader("eof"),f.$attr_reader("lineno"),e.def(f,"$initialize",a=function(){var t=this;return t.eof=!1,t.lineno=0},a.$$arity=0),e.defs(f,"$write",o=function(t,e){return u(d,"File").$write(t,e)},o.$$arity=2),e.defs(f,"$read",c=function(t){return u(d,"File").$read(t)},c.$$arity=1),e.defs(f,"$binread",h=function(t){return n(function(){return _.readFileSync(t).toString("binary")})},h.$$arity=1),s&&"binread"}(o[0],null,o),f=[c((i=function(e){i.$$s||this;return null==e&&(e=s),t.stdout.write(e)},i.$$s=a,i.$$arity=1,i))],h(u(o,"STDOUT"),"write_proc=",e.to_a(f)),f[r(f.length,1)],f=[c(($=function(e){$.$$s||this;return null==e&&(e=s),t.stderr.write(e)},$.$$s=a,$.$$arity=1,$))],h(u(o,"STDERR"),"write_proc=",e.to_a(f)),f[r(f.length,1)],f=[!0],h(u(o,"STDOUT"),"tty=",e.to_a(f)),f[r(f.length,1)],f=[!0],h(u(o,"STDERR"),"tty=",e.to_a(f)),f[r(f.length,1)]},Opal.modules["nodejs/open-uri"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$node_require"]),function(e,i){var $,a,o=$=n(e,"OpenURI");o.$$proto,[o].concat(i);null==o.__xmlhttprequest__&&(o.__xmlhttprequest__=r),o.__xmlhttprequest__=o.$node_require("xmlhttprequest");var s=o.__xmlhttprequest__.XMLHttpRequest;t.defs(o,"$request",a=function(t){var e=new s;return e.open("GET",t,!1),e.send(),e},a.$$arity=1)}(e[0],e)},Opal.modules.nodejs=function(t){var e=t.top,r=[],n=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return t.add_stubs(["$require"]),function(t,e){var r,i=r=n(t,"NodeJS");i.$$proto,[i].concat(e)}(r[0],r),e.$require("nodejs/kernel"),e.$require("nodejs/file"),e.$require("nodejs/dir"),e.$require("nodejs/io"),e.$require("nodejs/open-uri")}}).call(e,r(15))},118:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,process){(function(t){function e(){}function r(){}function n(){}function i(){}function $(){}function a(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(i=t[r].$$const[e],null!=i)return i}function s(t,e){var r,n,i;if(null!=t)for(i=v.ancestors(t),r=0,n=i.length;r<n;r++)if(i[r].$$const&&w.call(i[r].$$const,e))return i[r].$$const[e]}function u(t,e){if(null==t||t.$$is_module)return s(y,e)}function l(t,e,r){if(!r)return(t||y).$const_missing(e)}function c(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;r>=0;r--)n="$"+i[r],v.bridge_method(t,e,n,e.$$proto[n])}function h(t,e){var r=e.$__id__();b[r]||(b[r]=[]),b[r].push(t)}var f,d=this;if("undefined"!=typeof global&&(d=global),"undefined"!=typeof window&&(d=window),f="object"==typeof d.console?d.console:null==d.console?d.console={}:{},"log"in f||(f.log=function(){}),"warn"in f||(f.warn=f.log),"undefined"!=typeof this.Opal)return f.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var _,p,y,m,g,v=this.Opal={},b={};v.global=d,d.Opal=v,v.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var w=Object.hasOwnProperty,E=(v.slice=Array.prototype.slice,4),k=E;v.uid=function(){return k+=2},v.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=v.uid())},v.gvars={},v.exit=function(t){v.gvars.DEBUG&&f.log("Exited with status "+t)},v.exceptions=[],v.pop_exception=function(){v.gvars["!"]=v.exceptions.pop()||_},v.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},v.truthy=function(t){return t!==_&&null!=t&&(!t.$$is_boolean||1==t)},v.falsy=function(t){return t===_||null==t||t.$$is_boolean&&0==t},v.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return n=a(t,e),null!=n?n:(n=l(t,e,r),null!=n?n:void 0)}},v.const_get_qualified=function(t,e,r){var n,i,$,o=v.const_cache_version;if(null!=t){if("::"===t&&(t=y),!t.$$is_a_module)throw new v.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),$=i[e],null==$||$[0]!==o?(null!=(n=a(t,e))||null!=(n=s(t,e)),i[e]=[o,n]):n=$[1],null!=n?n:l(t,e,r)}},v.const_cache_version=1,v.const_get_relative=function(t,e,r){var n,i,$,c=t[0],h=v.const_cache_version;return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),$=i[e],null==$||$[0]!==h?(null!=(n=a(c,e))||null!=(n=o(t,e))||null!=(n=s(c,e))||null!=(n=u(c,e)),i[e]=[h,n]):n=$[1],null!=n?n:l(c,e,r)},v.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=y),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==_||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,v.const_cache_version++,t===y&&(v[e]=r),r},v.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],o={};for(e&&(a=a.concat(v.ancestors(t))),e&&t.$$is_module&&(a=a.concat([v.Object]).concat(v.ancestors(v.Object))),n=0,i=a.length;n<i&&(r=a[n],t===y||r!=y);n++)for($ in r.$$const)o[$]=!0;return Object.keys(o)},v.const_remove=function(t,e){if(v.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],_;throw v.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},v.klass=function(t,e,r,n){var i,$,o;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=y),i=a(t,r)){if(!i.$$is_class)throw v.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw v.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=y),o=$||v.boot_class_alloc(r,n,e),i=v.setup_class_object(r,o,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,v.const_set(t,r,i),t[r]=i,$?v.bridge(i,o):e.$inherited&&e.$inherited(i),i},v.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e,e},v.setup_module_or_class=function(t){t.$$id=v.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=_,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},v.setup_class_object=function(t,e,r,n){var i=function(){};i.prototype=n.prototype,i.displayName=r;var $=function(){};$.prototype=new i;var a=new $;return v.setup_module_or_class(a),a.$$alloc=e,a.$$name=t||_,$.displayName="#<Class:"+(t||"#<Class:"+a.$$id+">")+">",a.$$proto=e.prototype,a.$$proto.$$class=a,a.constructor=$,a.$$is_class=!0,a.$$class=g,a},v.module=function(t,e){var r;if(null==t&&(t=y),t.$$is_class||t.$$is_module||(t=t.$$class),r=a(t,e),null==r&&t===y&&(r=s(y,e)),r){if(!r.$$is_module&&r!==y)throw v.TypeError.$new(e+" is not a module")}else r=v.module_allocate(m),v.const_set(t,e,r);return r},v.module_initialize=function(t,e){if(e!==_){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return _},v.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};r.prototype=new e;var n=new r,i={};return v.setup_module_or_class(n),n.$$included_in=[],r.displayName="#<Class:#<Module:"+n.$$id+">>",n.$$proto=i,n.constructor=r,n.$$is_module=!0,n.$$class=m,n.$$super=t,n.$$parent=t,n},v.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?v.build_class_singleton_class(t):v.build_object_singleton_class(t)},v.build_class_singleton_class=function(t){var e,r,n;return t.$$meta?t.$$meta:(e=t.constructor,r=t===p?g:v.build_class_singleton_class(t.$$super),n=v.setup_class_object(null,e,r.$$name,r.constructor),n.$$super=r,n.$$parent=r,n.$$is_singleton=!0,n.$$singleton_of=t,t.$$meta=n)},v.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=v.boot_class_alloc(r,function(){},e),i=v.setup_class_object(r,n,e.$$name,e.constructor);return i.$$super=e,i.$$parent=e,i.$$class=e.$$class,i.$$proto=t,i.$$is_singleton=!0,i.$$singleton_of=t,t.$$meta=i},v.class_variables=function(t){var e,r=v.ancestors(t),n=r.length,i={};for(e=n-1;e>=0;e--){var $=r[e];for(var a in $.$$cvars)i[a]=$.$$cvars[a]}return i},v.class_variable_set=function(t,e,r){var n,i=v.ancestors(t),$=i.length;for(n=$-2;n>=0;n--){var a=i[n];if(w.call(a.$$cvars,e))return a.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},v.bridge_method=function(t,e,r,n){var i,$,a,o;for(i=t.$$bridge.$ancestors(),$=0,o=i.length;$<o&&(a=i[$],!w.call(a.$$proto,r)||!a.$$proto[r]||a.$$proto[r].$$donated||a.$$proto[r].$$stub||a===e);$++)if(a===e){t.prototype[r]=n;break}},v.bridge_methods=function(t,e){var r,n=b[t.$__id__()],i=e.$__id__();if(n)for(b[i]=n.slice(),r=n.length-1;r>=0;r--)c(n[r],e)},v.has_cyclic_dep=function t(e,r,n,i){var $,a,o;for($=r.length-1;$>=0;$--)if(o=r[$],a=o.$$id,!i[a]){if(i[a]=!0,a===e)return!0;if(t(e,o[n],n,i))return!0}return!1},v.append_features=function(t,e){var r,n,i;for(i=e.$$inc.length-1;i>=0;i--)if(e.$$inc[i]===t)return;if(!e.$$is_class&&v.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw v.ArgumentError.$new("cyclic include detected");for(v.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),v.bridge_methods(e,t),r={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=r,n=t.$instance_methods(),i=n.length-1;i>=0;i--)v.update_includer(t,e,"$"+n[i])},v.stubs={},v.bridge=function(t,r){if(r.$$bridge)throw v.ArgumentError.$new("already bridged");v.stub_subscribers.push(r.prototype);for(var n in v.stubs)n in r.prototype||(r.prototype[n]=v.stub_for(n));r.prototype.$$class=t,r.$$bridge=t;for(var i=t.$ancestors(),$=i.length-1;$>=0;$--)h(r,i[$]),c(r,i[$]);for(var a in e.prototype){var o=e.prototype[o];!o||!o.$$stub||a in r.prototype||(r.prototype[a]=o)}return t},v.update_includer=function(t,e,r){var n,i,$,a,o,s,u,l;if($=t.$$proto[r],n=e.$$proto,i=n[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for(a=e.$$inc,o=0,s=a.length;o<s;o++)a[o]===i.$$donated&&(u=o),a[o]===t&&(l=o);u<=l&&(n[r]=$,n[r].$$donated=t)}else n[r]=$,n[r].$$donated=t;else;e.$$included_in&&v.update_includers(e,r)},v.update_includers=function(t,e){var r,n,i,$;if($=t.$$included_in)for(r=0,n=$.length;r<n;r++)i=$[r],v.update_includer(t,i,e)},v.ancestors=function(t){for(var e,r,n,i,$=t,a=[];$;){for(a.push($),r=$.$$inc.length-1;r>=0;r--)for(e=v.ancestors($.$$inc[r]),n=0,i=e.length;n<i;n++)a.push(e[n]);$=$.$$is_singleton&&$.$$singleton_of.$$is_module?$.$$singleton_of.$$super:$.$$is_class?$.$$super:null}return a},v.add_stubs=function(t){var e,r,n,i,$,a=v.stub_subscribers,o=t.length,s=a.length,u=v.stubs;for(r=0;r<o;r++)if(i=t[r],!u.hasOwnProperty(i))for(u[i]=!0,$=v.stub_for(i),n=0;n<s;n++)e=a[n],i in e||(e[i]=$)},v.stub_subscribers=[e.prototype],v.add_stub_for=function(t,e){var r=v.stub_for(e);t[e]=r},v.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},v.ac=function(t,e,r,n){var i="";throw i+=r.$$is_class||r.$$is_module?r.$$name+".":r.$$class.$$name+"#",i+=n,v.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},v.block_ac=function(t,e,r){var n="`block in "+r+"'";throw v.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},v.find_super_dispatcher=function(t,e,r,n,i){var $,a;if($=i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:v.find_obj_super_dispatcher(t,e,r),a=$["$"+e],!n&&a.$$stub&&v.Kernel.$method_missing===t.$method_missing)throw v.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return a},v.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw v.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw v.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),v.find_super_dispatcher(t,$,r,n)},v.find_obj_super_dispatcher=function(t,e,r){var n=t.$$meta||t.$$class;if(n=v.find_owning_class(n,r),!n)throw new Error("could not find current class for super()");return v.find_super_func(n,"$"+e,r)},v.find_owning_class=function(t,e){for(var r=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==r)&&(!r.$$is_singleton||t!==r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},v.find_super_func=function(t,e,r){for(var n=t.$$parent;n;){var i=n.$$proto[e];if(i&&i!==r)break;n=n.$$parent}return n.$$proto},v.ret=function(t){throw v.returner.$v=t,v.returner},v.brk=function(t,e){throw e.$v=t,e},v.new_brk=function(){return new Error("unexpected break")},v.yield1=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=v.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},v.yieldX=function(t,e){if("function"!=typeof t)throw v.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},v.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=v.rescue(t,n);if(i)return i}else{if(n===v.JS.Error)return n;if(n["$==="](t))return n}}return null},v.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=v.ancestors(t.$$is_class?v.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},v.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw v.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},v.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===_)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},v.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===_)return[t];if(e.$$is_array)return e;throw v.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},v.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):v.hash2([],{})},v.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return v.hash2(r,n)},v.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},v.lambda=function(t){return t.$$is_lambda=!0,t},v.def=function(t,e,r){t===v.top?v.defn(v.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?v.defs(t,e,r):v.defn(t,e,r)},v.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(v.update_includers(t,e),t.$$module_function&&v.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&b[t.$__id__()];if(n)for(var i=n.length-1;i>=0;i--)v.bridge_method(n[i],t,e,r);var $=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||$?$&&$.$singleton_method_added&&!$.$singleton_method_added.$$stub&&$.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),_},v.defs=function(t,e,r){v.defn(v.get_singleton_class(t),e,r)},v.rdef=function(t,e){if(!w.call(t.$$proto,e))throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},v.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw v.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());v.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},v.alias=function(t,e,r){var n,i="$"+e,$="$"+r,a=t.$$proto["$"+r];if(t.$$eval)return v.alias(v.get_singleton_class(t),e,r);if("function"!=typeof a||a.$$stub){for(var o=t.$$super;"function"!=typeof a&&o;)a=o[$],o=o.$$super;if("function"!=typeof a||a.$$stub)throw v.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),v.send(this,a,t,i)},n.displayName=e,n.length=a.length,n.$$arity=a.$$arity,n.$$parameters=a.$$parameters,n.$$source_location=a.$$source_location,n.$$alias_of=a,n.$$alias_name=e,v.defn(t,i,n),t},v.alias_native=function(t,e,r){var n="$"+e,i=t.$$proto[r];if("function"!=typeof i||i.$$stub)throw v.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return v.defn(t,n,i),t},v.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},v.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,o=$.length;i<o;i++)r=$[i],r.$$is_string?n=a[r]:(n=r.value,r=r.key),v.hash_put(e,r,n)},v.hash_put=function(e,r,n){if(r.$$is_string)return w.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,$,a;if(i=e.$$by_identity?v.id(r):r.$hash(),!w.call(e.$$map,i))return $={key:r,key_hash:i,value:n},e.$$keys.push($),void(e.$$map[i]=$);for($=e.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){a=t,$.value=n;break}a=$,$=$.next}a&&($={key:r,key_hash:i,value:n},e.$$keys.push($),a.next=$)},v.hash_get=function(t,e){if(e.$$is_string){if(w.call(t.$$smap,e))return t.$$smap[e]}else{var r,n;if(r=t.$$by_identity?v.id(e):e.$hash(),w.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}}},v.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!w.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(w.call(t.$$map,a))for(var o,s=t.$$map[a];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<$;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[a]=s.next:delete t.$$map[a],n}o=s,s=s.next}},v.hash_rehash=function(e){for(var r,n,i,$=0,a=e.$$keys.length;$<a;$++)if(!e.$$keys[$].$$is_string&&(r=e.$$keys[$].key.$hash(),r!==e.$$keys[$].key_hash)){for(n=e.$$map[e.$$keys[$].key_hash],i=t;n;){if(n===e.$$keys[$]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[$].key_hash]=n.next:delete e.$$map[e.$$keys[$].key_hash];break}i=n,n=n.next}if(e.$$keys[$].key_hash=r,w.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[$]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[$])}else e.$$map[r]=e.$$keys[$]}},v.hash=function(){var t,e,r,n,i,$,a=arguments.length;if(1===a&&arguments[0].$$is_hash)return arguments[0];if(e=new v.Hash.$$alloc,v.hash_init(e),1===a&&arguments[0].$$is_array){for(t=arguments[0],n=t.length,r=0;r<n;r++){if(2!==t[r].length)throw v.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],v.hash_put(e,i,$)}return e}if(1===a){t=arguments[0];for(i in t)w.call(t,i)&&($=t[i],v.hash_put(e,i,$));return e}if(a%2!==0)throw v.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<a;r+=2)i=arguments[r],$=arguments[r+1],v.hash_put(e,i,$);return e},v.hash2=function(t,e){var r=new v.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},v.range=function(t,e,r){var n=new v.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},v.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},v.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},v.modules={},v.loaded_features=["corelib/runtime"],v.current_dir=".",v.require_table={"corelib/runtime":!0},v.normalize=function(t){var e,r,n=[],i="/";"."!==v.current_dir&&(t=v.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/^\.\//,""),t=t.replace(/\.(rb|opal|js)$/,""),e=t.split(i);for(var $=0,a=e.length;$<a;$++)r=e[$],""!==r&&(".."===r?n.pop():n.push(r));return n.join(i)},v.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++){if(n=v.normalize(t[e]),v.require_table[n])return;v.loaded_features.push(n),v.require_table[n]=!0}},v.load=function(t){t=v.normalize(t),v.loaded([t]);var e=v.modules[t];if(e)e(v);else{var r=v.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw v.LoadError?v.LoadError.$new(n):n;"warning"===r&&f.warn("WARNING: LoadError: "+n)}return!0},v.require=function(t){return t=v.normalize(t),!v.require_table[t]&&v.load(t)},v.boot_class_alloc("BasicObject",e),v.boot_class_alloc("Object",r,e),v.boot_class_alloc("Module",i,r),v.boot_class_alloc("Class",n,i),v.BasicObject=p=v.setup_class_object("BasicObject",e,"Class",n),v.Object=y=v.setup_class_object("Object",r,"BasicObject",p.constructor),v.Module=m=v.setup_class_object("Module",i,"Object",y.constructor),v.Class=g=v.setup_class_object("Class",n,"Module",m.constructor),p.$$const.BasicObject=p,v.const_set(y,"BasicObject",p),v.const_set(y,"Object",y),v.const_set(y,"Module",m),v.const_set(y,"Class",g),p.$$class=g,y.$$class=g,m.$$class=g,g.$$class=g,p.$$super=null,y.$$super=p,m.$$super=y,g.$$super=m,p.$$parent=null,y.$$parent=p,m.$$parent=y,g.$$parent=m,y.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},y.$$proto.$require=v.require,v.$$=y.$$,v.top=new y.$$alloc,v.top.$to_s=v.top.$inspect=function(){return"main"},v.klass(y,y,"NilClass",$),_=v.nil=new $,_.$$id=E,_.call=_.apply=function(){throw v.LocalJumpError.$new("no block given")},v.breaker=new Error("unexpected break (old)"),v.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,a){var o,s,u,l,c,h,f,d,_,p,y,m,g,v,b,w=o=i(e,"Opal"),E=(w.$$proto,[w].concat(a));t.defs(w,"$bridge",s=function(e,r){return t.bridge(e,r)},s.$$arity=2),t.defs(w,"$type_error",u=function(t,e,i,a){var o;return null==i&&(i=r),null==a&&(a=r),$($(o=i)?a:o)?n(E,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+a.$class()+")"):n(E,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e);
},u.$$arity=-3),t.defs(w,"$coerce_to",l=function(t,e,r){var n=this;return $(e["$==="](t))?t:($(t["$respond_to?"](r))||n.$raise(n.$type_error(t,e)),t.$__send__(r))},l.$$arity=3),t.defs(w,"$coerce_to!",c=function(t,e,n){var i=this,a=r;return a=i.$coerce_to(t,e,n),$(e["$==="](a))||i.$raise(i.$type_error(t,e,n,a)),a},c.$$arity=3),t.defs(w,"$coerce_to?",h=function(t,e,n){var i=this,a=r;return $(t["$respond_to?"](n))?(a=i.$coerce_to(t,e,n),$(a["$nil?"]())?r:($(e["$==="](a))||i.$raise(i.$type_error(t,e,n,a)),a)):r},h.$$arity=3),t.defs(w,"$try_convert",f=function(t,e,n){return $(e["$==="](t))?t:$(t["$respond_to?"](n))?t.$__send__(n):r},f.$$arity=3),t.defs(w,"$compare",d=function(t,e){var i=this,a=r;return a=t["$<=>"](e),$(a===r)&&i.$raise(n(E,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),a},d.$$arity=2),t.defs(w,"$destructure",_=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},_.$$arity=1),t.defs(w,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(w,"$inspect_obj",y=function(e){return t.inspect(e)},y.$$arity=1),t.defs(w,"$instance_variable_name!",m=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||e.$raise(n(E,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(w,"$class_variable_name!",g=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(t.length<3||"@@"!==t.slice(0,2))&&e.$raise(n(E,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),t.defs(w,"$const_name!",v=function(t){var e=this;return t=n(E,"Opal")["$coerce_to!"](t,n(E,"String"),"to_str"),$(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&e.$raise(n(E,"NameError"),"wrong constant name "+t),t},v.$$arity=1),t.defs(w,"$pristine",b=function(t,e){var n,i=arguments.length,$=i-1;$<0&&($=0),n=new Array($);for(var a=1;a<i;a++)n[a-1]=arguments[a];for(var o,s,u=n.length-1;u>=0;u--)o=n[u],s=t.$$proto["$"+o],s&&!s.$$stub&&(s.$$pristine=!0);return r},b.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$to_proc","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_extend_object_42,TMP_Module_method_added_43,TMP_Module_method_removed_44,TMP_Module_method_undefined_45,TMP_Module_module_eval_46,TMP_Module_module_exec_48,TMP_Module_method_defined$q_49,TMP_Module_module_function_50,TMP_Module_name_51,TMP_Module_remove_const_52,TMP_Module_to_s_53,TMP_Module_undef_method_54,TMP_Module_instance_variables_55,TMP_Module_dup_56,TMP_Module_copy_class_variables_57,TMP_Module_copy_constants_58;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t,e=this;return t=Opal.module_allocate(e)},TMP_Module_allocate_1.$$arity=0),Opal.def(self,"$initialize",TMP_Module_initialize_2=function(){var t=this,e=TMP_Module_initialize_2.$$p,r=e||nil;return e&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(t,r)},TMP_Module_initialize_2.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e=this;return!$truthy(null==t)&&Opal.is_a(t,e)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_4=function(t){var e=this;$truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module");var r,n,i,$=e;if($===t)return!1;for(n=0,r=Opal.ancestors(e),i=r.length;n<i;n++)if(r[n]===t)return!0;for(n=0,r=Opal.ancestors(t),i=r.length;n<i;n++)if(r[n]===e)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_lt(r,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_6=function(t){var e=this;return $truthy($$($nesting,"Module")["$==="](t))||e.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,e)},TMP_Module_$gt_6.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e,r=this;return $truthy(e=r["$equal?"](t))?e:$rb_gt(r,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e=this,r=nil;return e===t?0:$truthy($$($nesting,"Module")["$==="](t))?(r=$rb_lt(e,t),$truthy(r["$nil?"]())?nil:$truthy(r)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){var r=this;return Opal.alias(r,t,e),r},TMP_Module_alias_method_9.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){var r=this;return null==e&&(e=t),Opal.alias_native(r,t,e),r},TMP_Module_alias_native_10.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_11=function(){var t=this;return Opal.ancestors(t)},TMP_Module_ancestors_11.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_12=function(t){var e=this;return Opal.append_features(e,t),e},TMP_Module_append_features_12.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return $send(r,"attr_reader",Opal.to_a(e)),$send(r,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s,l=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(l);a[l]=nil,c.$$parameters=[],c.$$arity=0,r.$$is_singleton?a.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=r.$$proto,o=e.length-1;o>=0;o--){var s=e[o],u="$"+s+"=",l=Opal.ivar(s),c=function(t){return function(e){return this[t]=e}}(l);c.$$parameters=[["req"]],c.$$arity=1,a[l]=nil,r.$$is_singleton?a.constructor.prototype[u]=c:Opal.defn(r,u,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_16=function(t,e){var r=this;return null==r.$$autoload&&(r.$$autoload={}),Opal.const_cache_version++,r.$$autoload[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_17=function(){var t=this;return Object.keys(Opal.class_variables(t))},TMP_Module_class_variables_17.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){var e=this;t=$$($nesting,"Opal")["$class_variable_name!"](t);var r=Opal.class_variables(e)[t];return null==r&&e.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+e,t)),r},TMP_Module_class_variable_get_18.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){var r=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(r,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){var e=this;return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(e).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_21.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_22=function(t){var e=this;return null==t&&(t=!0),Opal.constants(e,t)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(t){var e=this;if(null==t){var r,n,i,$=(e.$$nesting||[]).concat(Opal.Object),a={};for(n=0,i=$.length;n<i;n++)for(r in $[n].$$const)a[r]=!0;return Object.keys(a)}return Opal.constants(e,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){var t=this;return t.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_25=function(t,e){var r=this;null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||r.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var n,i,$,a=[r];for(e&&(a=a.concat(Opal.ancestors(r)),r.$$is_module&&(a=a.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,$=a.length;i<$;i++)if(n=a[i],null!=n.$$const[t])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(t.indexOf("::")!=-1&&"::"!=t)?$send(t.$split("::"),"inject",[n],(r=function(t,e){r.$$s||this;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)},r.$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_28=function(t){var e=this,r=nil;if(e.$$autoload){var n=e.$$autoload[t];if(n)return e.$require(n),e.$const_get(t)}return r=function(){return e["$=="]($$($nesting,"Object"))?t:""+e+"::"+t}(),e.$raise($$($nesting,"NameError").$new("uninitialized constant "+r,t))},TMP_Module_const_missing_28.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_29=function(t,e){var r,n=this;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(n,t,e),e},TMP_Module_const_set_29.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_30=function(t){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_31=function(t,e){var r,n,i=this,$=TMP_Module_define_method_31.$$p,a=$||nil,o=nil;$&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===e&&a===nil)&&i.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block"),a=$truthy(r=a)?r:function(){return o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda((n=function(t){var r,i=n.$$s||this,$=nil,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var s=0;s<a;s++)r[s-0]=arguments[s];return $=e.$bind(i),$send($,"call",Opal.to_a(r))},n.$$s=i,n.$$arity=-1,n)):i.$raise($$($nesting,"TypeError"),"wrong argument type "+a.$class()+" (expected Proc/Method)")}();var s="$"+t;return a.$$jsid=t,a.$$s=null,a.$$def=a,a.$$define_meth=!0,Opal.defn(i,s,a),t},TMP_Module_define_method_31.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_33=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)Opal.rdef(r,"$"+e[a]);return r},TMP_Module_remove_method_33.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){var t=this;return!!t.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.def(self,"$include",TMP_Module_include_35=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--){var o=e[a];o.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+o.$class()+" (expected Module)"),o.$append_features(r),o.$included(r)}return r},TMP_Module_include_35.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_36=function(){var t,e=this,r=function(t){for(var e=[],n=0,i=t.$$inc.length;n<i;n++){var $=t.$$inc[n];e.push($),e=e.concat(r($))}return e};if(t=r(e),e.$$is_class)for(var n=e;n;n=n.$$super)t=t.concat(r(n));return t},TMP_Module_included_modules_36.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_37=function(t){var e=this;t.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,n,i,$=Opal.ancestors(e);for(r=0,n=$.length;r<n;r++)if(i=$[r],i===t&&i!==e)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_38=function(t){var e=this,r=e.$$proto["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_38.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_39=function(t){var e=this;null==t&&(t=!0);var r,n=[],i=e.$$proto;for(var $ in i)if("$"===$.charAt(0)&&"$"!==$.charAt(1)&&(r=i[$],"function"==typeof r&&!r.$$stub)){if(!e.$$is_module){if(e!==Opal.BasicObject&&r===Opal.BasicObject.$$proto[$])continue;if(!t&&!i.hasOwnProperty($))continue;if(!t&&r.$$donated)continue}n.push($.substr(1))}return n},TMP_Module_instance_methods_39.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_40=function(t){return nil},TMP_Module_included_40.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_41=function(t){return nil},TMP_Module_extended_41.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_42=function(t){return nil},TMP_Module_extend_object_42.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_43=function(t){return nil},TMP_Module_method_added_43.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_44=function(t){return nil},TMP_Module_method_removed_44.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_45=function(t){return nil},TMP_Module_method_undefined_45.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_46=function $$module_eval($a_rest){var $b,TMP_47,self=this,args,$iter=TMP_Module_module_eval_46.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_46.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_47=function(){var self=TMP_47.$$s||this;return function(self){return eval(compiled)}(self)},TMP_47.$$s=self,TMP_47.$$arity=0,TMP_47))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),""+("wrong number of arguments ("+args.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_48=function(t){var e,r=this,n=TMP_Module_module_exec_48.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];n&&(TMP_Module_module_exec_48.$$p=null),i===nil&&r.$raise($$($nesting,"LocalJumpError"),"no block given");var s,u=i.$$s;return i.$$s=null,s=i.apply(r,e),i.$$s=u,s},TMP_Module_module_exec_48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_49=function(t){var e=this,r=e.$$proto["$"+t];return!!r&&!r.$$stub},TMP_Module_method_defined$q_49.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_50=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(0===e.length)r.$$module_function=!0;else for(var a=0,o=e.length;a<o;a++){var s=e[a],u="$"+s,l=r.$$proto[u];Opal.defs(r,u,l)}return r},TMP_Module_module_function_50.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_51=function(){var t=this;if(t.$$full_name)return t.$$full_name;for(var e=[],r=t;r;){if(r.$$name===nil||null==r.$$name)return nil;if(e.unshift(r.$$name),r=r.$$base_module,r===Opal.Object)break}return 0===e.length?nil:t.$$full_name=e.join("::")},TMP_Module_name_51.$$arity=0),Opal.def(self,"$remove_const",TMP_Module_remove_const_52=function(t){var e=this;return Opal.const_remove(e,t)},TMP_Module_remove_const_52.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_53=function(){var t,e=this;return $truthy(t=Opal.Module.$name.call(e))?t:"#<"+(e.$$is_module?"Module":"Class")+":0x"+e.$__id__().$to_s(16)+">"},TMP_Module_to_s_53.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_54=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)Opal.udef(r,"$"+e[a]);return r},TMP_Module_undef_method_54.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_55=function(){var t=this,e=nil;Opal.Module.$$nesting=$nesting,e=t.$constants();var r=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!e["$include?"](n)&&r.push("@"+n);return r},TMP_Module_instance_variables_55.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_56=function(){var t=this,e=TMP_Module_dup_56.$$p,r=nil,n=nil,i=nil,$=nil;for(e&&(TMP_Module_dup_56.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return r=$send(t,Opal.find_super_dispatcher(t,"dup",TMP_Module_dup_56,!1),n,e),r.$copy_class_variables(t),r.$copy_constants(t),r},TMP_Module_dup_56.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_57=function(t){var e=this;for(var r in t.$$cvars)e.$$cvars[r]=t.$$cvars[r]},TMP_Module_copy_class_variables_57.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_58=function(t){var e,r=this,n=t.$$const;for(e in n)Opal.const_set(r,e,n[e])},TMP_Module_copy_constants_58.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function s(){}var u,l,c,h,f,d,_,p=s=$(e,r,"Class",s),y=(p.$$proto,[p].concat(o));return t.defs(p,"$new",u=function(e){var r=u.$$p,$=r||n;if(null==e&&(e=i(y,"Object")),r&&(u.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var a=t.boot_class_alloc(null,function(){},e),o=t.setup_class_object(null,a,e.$$name,e.constructor);return o.$$super=e,o.$$parent=e,e.$inherited(o),t.module_initialize(o,$),o},u.$$arity=-1),t.def(p,"$allocate",l=function(){var e=this,r=new e.$$alloc;return r.$$id=t.uid(),r},l.$$arity=0),t.def(p,"$inherited",c=function(t){return n},c.$$arity=1),t.def(p,"$initialize_dup",h=function(t){var e=this;e.$initialize_copy(t),e.$$name=null,e.$$full_name=null},h.$$arity=1),t.def(p,"$new",f=function(e){var r,i=this,$=f.$$p,a=$||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];$&&(f.$$p=null);var l=i.$allocate();return t.send(l,l.$initialize,r,a),l},f.$$arity=-1),t.def(p,"$superclass",d=function(){var t=this;return t.$$super||n},d.$$arity=0),t.def(p,"$to_s",_=function(){var e=this,r=_.$$p;r&&(_.$$p=null);var n=e.$$singleton_of;return n&&(n.$$is_class||n.$$is_module)?"#<Class:"+n.$name()+">":n?"#<Class:#<"+n.$$class.$name()+":0x"+t.id(n).$to_s(16)+">>":a(e,t.find_super_dispatcher(e,"to_s",_,!1),[],null)},_.$$arity=0),n&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){var e=this;return e===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){var e=this;return e["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){var t=this;return t.$$id||(t.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=this,i=TMP_BasicObject___send___5.$$p,$=i||nil,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];i&&(TMP_BasicObject___send___5.$$p=null);var u=n["$"+t];return u?($!==nil&&(u.$$p=$),u.apply(n,r)):($!==nil&&(n.$method_missing.$$p=$),n.$method_missing.apply(n,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){var e=this;return e["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],$b,default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=this,n=TMP_BasicObject_instance_exec_10.$$p,i=n||nil,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];n&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(i)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var s,u=i.$$s;if(i.$$s=null,r.$$is_class||r.$$is_module){r.$$eval=!0;try{s=i.apply(r,e)}finally{r.$$eval=!1}}else s=i.apply(r,e);return i.$$s=u,s},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var r,n=this,i=TMP_BasicObject_method_missing_14.$$p,$=nil,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];return i&&(TMP_BasicObject_method_missing_14.$$p=null),$=function(){return $truthy(n.$inspect&&!n.$inspect.$$stub)?"undefined method `"+t+"' for "+n.$inspect()+":"+n.$$class:"undefined method `"+t+"' for "+n.$$class}(),$$$("::","Kernel").$raise($$$("::","NoMethodError").$new($,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.module),o=t.truthy,s=t.gvars,u=t.hash2,l=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function(r,c){var h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt=h=a(r,"Kernel"),xt=(kt.$$proto,[kt].concat(c));t.def(kt,"$method_missing",f=function(t,e){var r,n=this,i=f.$$p,a=arguments.length,o=a-1;o<0&&(o=0),r=new Array(o);for(var s=1;s<a;s++)r[s-1]=arguments[s];return i&&(f.$$p=null),n.$raise($(xt,"NoMethodError").$new("undefined method `"+t+"' for "+n.$inspect(),t,r))},f.$$arity=-2),t.def(kt,"$=~",d=function(t){return!1},d.$$arity=1),t.def(kt,"$!~",_=function(t){var e=this;return e["$=~"](t)["$!"]()},_.$$arity=1),t.def(kt,"$===",p=function(t){var e,r=this;return o(e=r.$object_id()["$=="](t.$object_id()))?e:r["$=="](t)},p.$$arity=1),t.def(kt,"$<=>",y=function(t){var e=this;e.$$comparable=!0;var r=e["$=="](t);return r&&r!==n?0:n},y.$$arity=1),t.def(kt,"$method",m=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise($(xt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),$(xt,"Method").$new(e,r.$$owner||e.$class(),r,t)},m.$$arity=1),t.def(kt,"$methods",g=function(e){var r=this;null==e&&(e=!0);var i=[];for(var $ in r)if("$"==$[0]&&"function"==typeof r[$]){if((0==e||e===n)&&!t.hasOwnProperty.call(r,$))continue;void 0===r[$].$$stub&&i.push($.substr(1))}return i},g.$$arity=-1),t.alias(kt,"public_methods","methods"),t.def(kt,"$Array",v=function(t){var e;return t===n?[]:t.$$is_array?t:(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"Array"),"to_ary"),e!==n?e:(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"Array"),"to_a"),e!==n?e:[t]))},v.$$arity=1),t.def(kt,"$at_exit",b=function(){var t,e=b.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(b.$$p=null),s.__at_exit__=o(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},b.$$arity=0),t.def(kt,"$caller",w=function(t){var e,r=arguments.length,n=r-0;n<0&&(n=0),e=new Array(n);for(var i=0;i<r;i++)e[i-0]=arguments[i];return[]},w.$$arity=-1),t.def(kt,"$class",E=function(){var t=this;return t.$$class},E.$$arity=0),t.def(kt,"$copy_instance_variables",k=function(t){var e,r,n,i=this,$=Object.keys(t);for(e=0,r=$.length;e<r;e++)n=$[e],"$"!==n.charAt(0)&&t.hasOwnProperty(n)&&(i[n]=t[n])},k.$$arity=1),t.def(kt,"$copy_singleton_methods",x=function(e){var r,n=this;if(e.hasOwnProperty("$$meta")){var i=t.get_singleton_class(e).$$proto,$=t.get_singleton_class(n).$$proto;for(r in i)"$"===r.charAt(0)&&i.hasOwnProperty(r)&&($[r]=i[r])}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(n[r]=e[r])},x.$$arity=1),t.def(kt,"$clone",A=function(e){var r,i=this,$=n;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=u([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),$=i.$class().$allocate(),$.$copy_instance_variables(i),$.$copy_singleton_methods(i),$.$initialize_clone(i),$},A.$$arity=-1),t.def(kt,"$initialize_clone",O=function(t){var e=this;return e.$initialize_copy(t)},O.$$arity=1),t.def(kt,"$define_singleton_method",S=function(t,e){var r=this,i=S.$$p,$=i||n;return i&&(S.$$p=null),
l(r.$singleton_class(),"define_method",[t,e],$.$to_proc())},S.$$arity=-2),t.def(kt,"$dup",R=function(){var t=this,e=n;return e=t.$class().$allocate(),e.$copy_instance_variables(t),e.$initialize_dup(t),e},R.$$arity=0),t.def(kt,"$initialize_dup",I=function(t){var e=this;return e.$initialize_copy(t)},I.$$arity=1),t.def(kt,"$enum_for",T=function(e,r){var i,a=this,o=T.$$p,s=o||n;null==e&&(e="each");var u=arguments.length,c=u-1;c<0&&(c=0),i=new Array(c);for(var h=1;h<u;h++)i[h-1]=arguments[h];return o&&(T.$$p=null),l($(xt,"Enumerator"),"for",[a,e].concat(t.to_a(i)),s.$to_proc())},T.$$arity=-1),t.alias(kt,"to_enum","enum_for"),t.def(kt,"$equal?",M=function(t){var e=this;return e===t},M.$$arity=1),t.def(kt,"$exit",C=function(e){var r,i=n;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=o(r=s.__at_exit__)?r:[];!o(s.__at_exit__["$empty?"]());)i=s.__at_exit__.$pop(),i.$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),n},C.$$arity=-1),t.def(kt,"$extend",N=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];for(var o=r.$singleton_class(),s=e.length-1;s>=0;s--){var u=e[s];u.$$is_module||r.$raise($(xt,"TypeError"),"wrong argument type "+u.$class()+" (expected Module)"),u.$append_features(o),u.$extend_object(r),u.$extended(r)}return r},N.$$arity=-1),t.def(kt,"$format",z=function(t,e){function r(){B&X&&p.$raise($(xt,"ArgumentError"),"flag after width"),B&V&&p.$raise($(xt,"ArgumentError"),"flag after precision")}function i(){B&X&&p.$raise($(xt,"ArgumentError"),"width given twice"),B&V&&p.$raise($(xt,"ArgumentError"),"width after precision")}function a(t){return t>=_.length&&p.$raise($(xt,"ArgumentError"),"too few arguments"),_[t]}function u(){switch(q){case-1:p.$raise($(xt,"ArgumentError"),"unnumbered("+P+") mixed with numbered");case-2:p.$raise($(xt,"ArgumentError"),"unnumbered("+P+") mixed with named")}return q=P++,a(q-1)}function l(t){return q>0&&p.$raise($(xt,"ArgumentError"),"numbered("+t+") after unnumbered("+q+")"),q===-2&&p.$raise($(xt,"ArgumentError"),"numbered("+t+") after named"),t<1&&p.$raise($(xt,"ArgumentError"),"invalid index - "+t+"$"),q=-1,a(t-1)}function c(){return void 0===z?u():z}function h(e){for(var r,n="";;w++){if(w===L&&p.$raise($(xt,"ArgumentError"),"malformed format string - %*[0-9]"),t.charCodeAt(w)<48||t.charCodeAt(w)>57)return w--,r=parseInt(n,10)||0,r>2147483647&&p.$raise($(xt,"ArgumentError"),""+e+" too big"),r;n+=t.charAt(w)}}function f(e){var r,n=h(e);return"$"===t.charAt(w+1)?(w++,r=l(n)):r=u(),r.$to_int()}var d,_,p=this,y=n;null==s.DEBUG&&(s.DEBUG=n);var m=arguments.length,g=m-1;g<0&&(g=0),_=new Array(g);for(var v=1;v<m;v++)_[v-1]=arguments[v];o((d=_.$length()["$=="](1))?_["$[]"](0)["$respond_to?"]("to_ary"):_.$length()["$=="](1))&&(y=$(xt,"Opal")["$coerce_to?"](_["$[]"](0),$(xt,"Array"),"to_ary"),o(y["$nil?"]())||(_=y.$to_a()));var b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D="",F=0,L=t.length,P=1,q=0,j=0,U=1,H=2,G=4,Y=8,W=16,X=32,K=64,V=128;for(w=t.indexOf("%");w!==-1;w=t.indexOf("%",w)){switch(k=void 0,B=j,A=-1,O=-1,z=void 0,b=w,w++,t.charAt(w)){case"%":F=w;case"":case"\n":case"\0":w++;continue}t:for(;w<L;w++)switch(t.charAt(w)){case" ":r(),B|=W;continue t;case"#":r(),B|=U;continue t;case"+":r(),B|=G;continue t;case"-":r(),B|=H;continue t;case"0":r(),B|=Y;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(S=h("width"),"$"===t.charAt(w+1)){if(w+2===L){k="%",w++;break t}void 0!==z&&p.$raise($(xt,"ArgumentError"),"value given twice - %"+S+"$"),z=l(S),w++}else i(),B|=X,A=S;continue t;case"<":case"{":for(I="<"===t.charAt(w)?">":"}",R="",w++;;w++){if(w===L&&p.$raise($(xt,"ArgumentError"),"malformed name - unmatched parenthesis"),t.charAt(w)===I){if(q>0&&p.$raise($(xt,"ArgumentError"),"named "+R+" after unnumbered("+q+")"),q===-1&&p.$raise($(xt,"ArgumentError"),"named "+R+" after numbered"),q=-2,void 0!==_[0]&&_[0].$$is_hash||p.$raise($(xt,"ArgumentError"),"one hash required"),z=_[0].$fetch(R),">"===I)continue t;if(k=z.toString(),O!==-1&&(k=k.slice(0,O)),B&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t}R+=t.charAt(w)}case"*":w++,i(),B|=X,A=f("width"),A<0&&(B|=H,A=-A);continue t;case".":if(B&V&&p.$raise($(xt,"ArgumentError"),"precision given twice"),B|=K|V,O=0,w++,"*"===t.charAt(w)){w++,O=f("precision"),O<0&&(B&=~K);continue t}O=h("precision");continue t;case"d":case"i":case"u":if(E=p.$Integer(c()),E>=0){for(k=E.toString();k.length<O;)k="0"+k;if(B&H)for((B&G||B&W)&&(k=(B&G?"+":" ")+k);k.length<A;)k+=" ";else if(B&Y&&O===-1){for(;k.length<A-(B&G||B&W?1:0);)k="0"+k;(B&G||B&W)&&(k=(B&G?"+":" ")+k)}else for((B&G||B&W)&&(k=(B&G?"+":" ")+k);k.length<A;)k=" "+k}else{for(k=(-E).toString();k.length<O;)k="0"+k;if(B&H)for(k="-"+k;k.length<A;)k+=" ";else if(B&Y&&O===-1){for(;k.length<A-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<A;)k=" "+k}break t;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(w)){case"b":case"B":T=2,M="0b",C=/^1+/,N="1";break;case"o":T=8,M="0",C=/^3?7+/,N="7";break;case"x":case"X":T=16,M="0x",C=/^f+/,N="f"}if(E=p.$Integer(c()),E>=0){for(k=E.toString(T);k.length<O;)k="0"+k;if(B&H)for((B&G||B&W)&&(k=(B&G?"+":" ")+k),B&U&&0!==E&&(k=M+k);k.length<A;)k+=" ";else if(B&Y&&O===-1){for(;k.length<A-(B&G||B&W?1:0)-(B&U&&0!==E?M.length:0);)k="0"+k;B&U&&0!==E&&(k=M+k),(B&G||B&W)&&(k=(B&G?"+":" ")+k)}else for(B&U&&0!==E&&(k=M+k),(B&G||B&W)&&(k=(B&G?"+":" ")+k);k.length<A;)k=" "+k}else if(B&G||B&W){for(k=(-E).toString(T);k.length<O;)k="0"+k;if(B&H)for(B&U&&(k=M+k),k="-"+k;k.length<A;)k+=" ";else if(B&Y&&O===-1){for(;k.length<A-1-(B&U?2:0);)k="0"+k;B&U&&(k=M+k),k="-"+k}else for(B&U&&(k=M+k),k="-"+k;k.length<A;)k=" "+k}else{for(k=(E>>>0).toString(T).replace(C,N);k.length<O-2;)k=N+k;if(B&H)for(k=".."+k,B&U&&(k=M+k);k.length<A;)k+=" ";else if(B&Y&&O===-1){for(;k.length<A-2-(B&U?M.length:0);)k=N+k;k=".."+k,B&U&&(k=M+k)}else for(k=".."+k,B&U&&(k=M+k);k.length<A;)k=" "+k}t.charAt(w)===t.charAt(w).toUpperCase()&&(k=k.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(E=p.$Float(c()),E>=0||isNaN(E)){if(E===1/0)k="Inf";else switch(t.charAt(w)){case"f":k=E.toFixed(O===-1?6:O);break;case"e":case"E":k=E.toExponential(O===-1?6:O);break;case"g":case"G":k=E.toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(k=E.toPrecision(O===-1?B&U?6:void 0:O))}if(B&H)for((B&G||B&W)&&(k=(B&G?"+":" ")+k);k.length<A;)k+=" ";else if(B&Y&&E!==1/0&&!isNaN(E)){for(;k.length<A-(B&G||B&W?1:0);)k="0"+k;(B&G||B&W)&&(k=(B&G?"+":" ")+k)}else for((B&G||B&W)&&(k=(B&G?"+":" ")+k);k.length<A;)k=" "+k}else{if(E===-(1/0))k="Inf";else switch(t.charAt(w)){case"f":k=(-E).toFixed(O===-1?6:O);break;case"e":case"E":k=(-E).toExponential(O===-1?6:O);break;case"g":case"G":k=(-E).toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(O===-1?6:O)||(k=(-E).toPrecision(O===-1?B&U?6:void 0:O))}if(B&H)for(k="-"+k;k.length<A;)k+=" ";else if(B&Y&&E!==-(1/0)){for(;k.length<A-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<A;)k=" "+k}t.charAt(w)!==t.charAt(w).toUpperCase()||E===1/0||E===-(1/0)||isNaN(E)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise($(xt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(E=c(),E["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]),k=E["$respond_to?"]("to_str")?E.$to_str():String.fromCharCode($(xt,"Opal").$coerce_to(E,$(xt,"Integer"),"to_int")),1!==k.length&&p.$raise($(xt,"ArgumentError"),"%c requires a character"),B&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;case"p":if(k=c().$inspect(),O!==-1&&(k=k.slice(0,O)),B&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;case"s":if(k=c().$to_s(),O!==-1&&(k=k.slice(0,O)),B&H)for(;k.length<A;)k+=" ";else for(;k.length<A;)k=" "+k;break t;default:p.$raise($(xt,"ArgumentError"),"malformed format string - %"+t.charAt(w))}void 0===k&&p.$raise($(xt,"ArgumentError"),"malformed format string - %"),D+=t.slice(F,b)+k,F=w+1}return s.DEBUG&&q>=0&&P<_.length&&p.$raise($(xt,"ArgumentError"),"too many arguments for format string"),D+t.slice(F)},z.$$arity=-2),t.def(kt,"$hash",B=function(){var t=this;return t.$__id__()},B.$$arity=0),t.def(kt,"$initialize_copy",D=function(t){return n},D.$$arity=1),t.def(kt,"$inspect",F=function(){var t=this;return t.$to_s()},F.$$arity=0),t.def(kt,"$instance_of?",L=function(t){var e=this;return t.$$is_class||t.$$is_module||e.$raise($(xt,"TypeError"),"class or module required"),e.$$class===t},L.$$arity=1),t.def(kt,"$instance_variable_defined?",P=function(e){var r=this;return e=$(xt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(r,e.substr(1))},P.$$arity=1),t.def(kt,"$instance_variable_get",q=function(e){var r=this;e=$(xt,"Opal")["$instance_variable_name!"](e);var i=r[t.ivar(e.substr(1))];return null==i?n:i},q.$$arity=1),t.def(kt,"$instance_variable_set",j=function(e,r){var n=this;return e=$(xt,"Opal")["$instance_variable_name!"](e),n[t.ivar(e.substr(1))]=r},j.$$arity=2),t.def(kt,"$remove_instance_variable",U=function(e){var r=this;e=$(xt,"Opal")["$instance_variable_name!"](e);var n,i=t.ivar(e.substr(1));return r.hasOwnProperty(i)?(n=r[i],delete r[i],n):r.$raise($(xt,"NameError"),"instance variable "+e+" not defined")},U.$$arity=1),t.def(kt,"$instance_variables",H=function(){var t,e=this,r=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,r.push("@"+t));return r},H.$$arity=0),t.def(kt,"$Integer",G=function(t,e){var r,i,a,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(e=$(xt,"Opal").$coerce_to(e,$(xt,"Integer"),"to_int"),(1===e||e<0||e>36)&&o.$raise($(xt,"ArgumentError"),"invalid radix "+e)),i=t.toLowerCase(),i=i.replace(/(\d)_(?=\d)/g,"$1"),i=i.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),e=0===e?10:e,a="0-"+(e<=10?e-1:"9a-"+String.fromCharCode(97+(e-11))),new RegExp("^\\s*[+-]?["+a+"]+\\s*$").test(i)||o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(i,e),isNaN(r)&&o.$raise($(xt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&o.$raise($(xt,"ArgumentError"),"base specified for non string value"),t===n&&o.$raise($(xt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-(1/0)||isNaN(t))&&o.$raise($(xt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int(),r!==n)?r:$(xt,"Opal")["$coerce_to!"](t,$(xt,"Integer"),"to_i"))},G.$$arity=-2),t.def(kt,"$Float",Y=function(t){var e,r=this;return t===n&&r.$raise($(xt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=t.toString(),e=e.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?r.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||r.$raise($(xt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):$(xt,"Opal")["$coerce_to!"](t,$(xt,"Float"),"to_f")},Y.$$arity=1),t.def(kt,"$Hash",W=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?u([],{}):o($(xt,"Hash")["$==="](t))?t:$(xt,"Opal")["$coerce_to!"](t,$(xt,"Hash"),"to_hash")},W.$$arity=1),t.def(kt,"$is_a?",X=function(e){var r=this;return e.$$is_class||e.$$is_module||r.$raise($(xt,"TypeError"),"class or module required"),t.is_a(r,e)},X.$$arity=1),t.def(kt,"$itself",K=function(){var t=this;return t},K.$$arity=0),t.alias(kt,"kind_of?","is_a?"),t.def(kt,"$lambda",V=function(){var e=V.$$p,r=e||n;return e&&(V.$$p=null),t.lambda(r)},V.$$arity=0),t.def(kt,"$load",J=function(e){return e=$(xt,"Opal")["$coerce_to!"](e,$(xt,"String"),"to_str"),t.load(e)},J.$$arity=1),t.def(kt,"$loop",Z=function(){var e,r=this,a=Z.$$p,s=a||n,u=n;if(a&&(Z.$$p=null),s===n)return l(r,"enum_for",["loop"],(e=function(){e.$$s||this;return i($(xt,"Float"),"INFINITY")},e.$$s=r,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(s,[])}catch(e){if(!t.rescue(e,[$(xt,"StopIteration")]))throw e;u=e;try{return u.$result()}finally{t.pop_exception()}}return r},Z.$$arity=0),t.def(kt,"$nil?",Q=function(){return!1},Q.$$arity=0),t.alias(kt,"object_id","__id__"),t.def(kt,"$printf",tt=function(e){var r,i=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return o(r["$any?"]())&&i.$print(l(i,"format",t.to_a(r))),n},tt.$$arity=-1),t.def(kt,"$proc",et=function(){var t=this,e=et.$$p,r=e||n;return e&&(et.$$p=null),o(r)||t.$raise($(xt,"ArgumentError"),"tried to create Proc object without a block"),r.$$is_lambda=!1,r},et.$$arity=0),t.def(kt,"$puts",rt=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return l(s.stdout,"puts",t.to_a(r))},rt.$$arity=-1),t.def(kt,"$p",nt=function(t){var r,i,$=this,a=arguments.length,u=a-0;u<0&&(u=0),i=new Array(u);for(var c=0;c<a;c++)i[c-0]=arguments[c];return l(i,"each",[],(r=function(t){r.$$s||this;return null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())},r.$$s=$,r.$$arity=1,r)),o(e(i.$length(),1))?i["$[]"](0):i},nt.$$arity=-1),t.def(kt,"$print",it=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return l(s.stdout,"print",t.to_a(r))},it.$$arity=-1),t.def(kt,"$warn",$t=function(e){var r,i;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var $=arguments.length,a=$-0;a<0&&(a=0),i=new Array(a);for(var u=0;u<$;u++)i[u-0]=arguments[u];return o(o(r=s.VERBOSE["$nil?"]())?r:i["$empty?"]())?n:l(s.stderr,"puts",t.to_a(i))},$t.$$arity=-1),t.def(kt,"$raise",at=function(e,r,i){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==i&&(i=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=$(xt,"RuntimeError").$new():e.$$is_string?e=$(xt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"]($(xt,"Exception"))||(e=$(xt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},at.$$arity=-1),t.alias(kt,"fail","raise"),t.def(kt,"$rand",ot=function(t){return void 0===t?i($(xt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!==0&&(t=t.$to_i()),0===t&&(t=void 0)),i($(xt,"Random"),"DEFAULT").$rand(t))},ot.$$arity=-1),t.def(kt,"$respond_to?",st=function(t,e){var r=this;if(null==e&&(e=!1),o(r["$respond_to_missing?"](t,e)))return!0;var n=r["$"+t];return"function"==typeof n&&!n.$$stub},st.$$arity=-2),t.def(kt,"$respond_to_missing?",ut=function(t,e){return null==e&&(e=!1),!1},ut.$$arity=-2),t.def(kt,"$require",lt=function(e){return e=$(xt,"Opal")["$coerce_to!"](e,$(xt,"String"),"to_str"),t.require(e)},lt.$$arity=1),t.def(kt,"$require_relative",ct=function(e){return $(xt,"Opal")["$try_convert!"](e,$(xt,"String"),"to_str"),e=$(xt,"File").$expand_path($(xt,"File").$join(t.current_file,"..",e)),t.require(e)},ct.$$arity=1),t.def(kt,"$require_tree",ht=function(e){var r=[];e=$(xt,"File").$expand_path(e),e=t.normalize(e),"."===e&&(e="");for(var n in t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ht.$$arity=1),t.alias(kt,"send","__send__"),t.alias(kt,"public_send","__send__"),t.def(kt,"$singleton_class",ft=function(){var e=this;return t.get_singleton_class(e)},ft.$$arity=0),t.def(kt,"$sleep",dt=function(e){var r=this;null==e&&(e=n),e===n&&r.$raise($(xt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||r.$raise($(xt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&r.$raise($(xt,"ArgumentError"),"time interval must be positive");for(var i=t.global.performance?function(){return performance.now()}:function(){return new Date},a=i();i()-a<=1e3*e;);return e},dt.$$arity=-1),t.alias(kt,"sprintf","format"),t.def(kt,"$srand",_t=function(t){return null==t&&(t=$(xt,"Random").$new_seed()),$(xt,"Random").$srand(t)},_t.$$arity=-1),t.def(kt,"$String",pt=function(t){var e;return o(e=$(xt,"Opal")["$coerce_to?"](t,$(xt,"String"),"to_str"))?e:$(xt,"Opal")["$coerce_to!"](t,$(xt,"String"),"to_s")},pt.$$arity=1),t.def(kt,"$tap",yt=function(){var e=this,r=yt.$$p,i=r||n;return r&&(yt.$$p=null),t.yield1(i,e),e},yt.$$arity=0),t.def(kt,"$to_proc",mt=function(){var t=this;return t},mt.$$arity=0),t.def(kt,"$to_s",gt=function(){var t=this;return"#<"+t.$class()+":0x"+t.$__id__().$to_s(16)+">"},gt.$$arity=0),t.def(kt,"$catch",vt=function(e){var r=this,i=vt.$$p,a=i||n,o=n;i&&(vt.$$p=null);try{return t.yieldX(a,[])}catch(n){if(!t.rescue(n,[$(xt,"UncaughtThrowError")]))throw n;o=n;try{return o.$sym()["$=="](e)?o.$arg():r.$raise()}finally{t.pop_exception()}}},vt.$$arity=1),t.def(kt,"$throw",bt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.$raise($(xt,"UncaughtThrowError"),e)},bt.$$arity=-1),t.def(kt,"$open",wt=function(e){var r,i=wt.$$p,a=i||n,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var u=0;u<o;u++)r[u-0]=arguments[u];return i&&(wt.$$p=null),l($(xt,"File"),"open",t.to_a(r),a.$to_proc())},wt.$$arity=-1),t.def(kt,"$yield_self",Et=function(){var e,r=this,i=Et.$$p,$=i||n;return i&&(Et.$$p=null),$===n?l(r,"enum_for",["yield_self"],(e=function(){e.$$s||this;return 1},e.$$s=r,e.$$arity=0,e)):t.yield1($,r)},Et.$$arity=0)}(r[0],r),function(t,e,r){function n(){}var i=n=c(t,e,"Object",n),a=(i.$$proto,[i].concat(r));return i.$include($(a,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.send,s=t.truthy,u=t.module,l=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect","$raise"]),function(e,r,n){function $(){}var u,l,c,h,f,d,_,p,y=$=a(e,r,"Exception",$),m=y.$$proto;[y].concat(n);m.message=i;var g;return t.defs(y,"$new",u=function(e){var r,n=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];var s=r.length>0?r[0]:i,u=new n.$$alloc(s);return u.name=n.$$name,u.message=s,t.send(u,u.$initialize,r),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(u,g),u},u.$$arity=-1),g=y.$new,t.defs(y,"$exception",l=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return o(n,"new",t.to_a(r))},l.$$arity=-1),t.def(y,"$initialize",c=function(t){var e,r=this,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var a=0;a<n;a++)e[a-0]=arguments[a];return r.message=e.length>0?e[0]:i},c.$$arity=-1),t.def(y,"$backtrace",h=function(){var t=this,e=t.stack;return"string"==typeof e?e.split("\n").slice(0,15):e?e.slice(0,15):[]},h.$$arity=0),t.def(y,"$exception",f=function(t){var e=this;if(null==t&&(t=i),t===i||e===t)return e;var r=e.$clone();return r.message=t,r},f.$$arity=-1),t.def(y,"$message",d=function(){var t=this;return t.$to_s()},d.$$arity=0),t.def(y,"$inspect",_=function(){var t=this,e=i;return e=t.$to_s(),s(e["$empty?"]())?t.$class().$to_s():"#<"+t.$class().$to_s()+": "+t.$to_s()+">"},_.$$arity=0),t.def(y,"$to_s",p=function(){var t,e,r=this;return s(t=s(e=r.message)?r.message.$to_s():e)?t:r.$class().$to_s()},p.$$arity=0),i&&"to_s"}(n[0],Error,n),function(t,e,r){function n(){}var $=n=a(t,e,"ScriptError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SyntaxError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"LoadError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NotImplementedError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"ScriptError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SystemExit",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NoMemoryError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SignalException",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"Interrupt",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SecurityError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"StandardError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"Exception"),n),function(t,e,r){function n(){}var $=n=a(t,e,"EncodingError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"ZeroDivisionError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NameError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"NoMethodError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"NameError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"RuntimeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"FrozenError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"RuntimeError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"LocalJumpError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"TypeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"ArgumentError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"IndexError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"StopIteration",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"IndexError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"KeyError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"IndexError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"RangeError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"FloatDomainError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"RangeError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"IOError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(t,e,r){function n(){}var $=n=a(t,e,"SystemCallError",n);$.$$proto,[$].concat(r);return i}(n[0],$(n,"StandardError"),n),function(r,n){var l,c=l=u(r,"Errno"),h=(c.$$proto,[c].concat(n));!function(r,n,$){function u(){}var l,c=u=a(r,n,"EINVAL",u);c.$$proto,[c].concat($);return t.defs(c,"$new",l=function(r){var n=this,$=l.$$p,a=i;return null==r&&(r=i),$&&(l.$$p=null),a="Invalid argument",s(r)&&(a=e(a," - "+r)),o(n,t.find_super_dispatcher(n,"new",l,!1,u),[a],null)},l.$$arity=-1),i&&"new"}(h[0],$(h,"SystemCallError"),h)}(n[0],n),function(e,n,$){function u(){}var l,c=u=a(e,n,"UncaughtThrowError",u),h=c.$$proto;[c].concat($);return h.sym=i,c.$attr_reader("sym","arg"),t.def(c,"$initialize",l=function(e){var n=this,i=l.$$p;return i&&(l.$$p=null),n.sym=e["$[]"](0),s(r(e.$length(),1))&&(n.arg=e["$[]"](1)),o(n,t.find_super_dispatcher(n,"initialize",l,!1),["uncaught throw "+n.sym.$inspect()],null)},l.$$arity=1),i&&"initialize"}(n[0],$(n,"ArgumentError"),n),function(e,r,n){function $(){}var s,u=$=a(e,r,"NameError",$);u.$$proto,[u].concat(n);return u.$attr_reader("name"),t.def(u,"$initialize",s=function(e,r){var n=this,$=s.$$p;return null==r&&(r=i),$&&(s.$$p=null),o(n,t.find_super_dispatcher(n,"initialize",s,!1),[e],null),n.name=r},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(e,r,n){function $(){}var s,u=$=a(e,r,"NoMethodError",$);u.$$proto,[u].concat(n);return u.$attr_reader("args"),t.def(u,"$initialize",s=function(e,r,n){var $=this,a=s.$$p;return null==r&&(r=i),null==n&&(n=[]),a&&(s.$$p=null),o($,t.find_super_dispatcher($,"initialize",s,!1),[e,r],null),$.args=n},s.$$arity=-2),i&&"initialize"}(n[0],null,n),function(t,e,r){function n(){}var i=n=a(t,e,"StopIteration",n);i.$$proto,[i].concat(r);return i.$attr_reader("result")}(n[0],null,n),function(e,r,n){function u(){}var c,h,f,d=u=a(e,r,"KeyError",u),_=d.$$proto,p=[d].concat(n);return _.receiver=_.key=i,t.def(d,"$initialize",c=function(e,r){var n,$,a=this,s=c.$$p;if(null==r||!r.$$is_hash){if(null!=r)throw t.ArgumentError.$new("expected kwargs");r=l([],{})}return n=r.$$smap.receiver,null==n&&(n=i),$=r.$$smap.key,null==$&&($=i),s&&(c.$$p=null),o(a,t.find_super_dispatcher(a,"initialize",c,!1),[e],null),a.receiver=n,a.key=$},c.$$arity=-2),t.def(d,"$receiver",h=function(){var t,e=this;return s(t=e.receiver)?t:e.$raise($(p,"ArgumentError"),"no receiver is available")},h.$$arity=0),t.def(d,"$key",f=function(){var t,e=this;return s(t=e.key)?t:e.$raise($(p,"ArgumentError"),"no key is available")},f.$$arity=0),i&&"key"}(n[0],null,n),function(t,e){var r,n=r=u(t,"JS"),$=(n.$$proto,[n].concat(e));!function(t,e,r){function n(){}var $=n=a(t,e,"Error",n);$.$$proto,[$].concat(r);return i}($[0],null,$)}(n[0],n)},Opal.modules["corelib/constants"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=(t.top,[]),n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),a=t.hash2,o=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(r,s,u){function l(){}var c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R=l=$(r,s,"NilClass",l),I=R.$$proto,T=[R].concat(u);return I.$$meta=R,function(e,r){var $,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",$=function(){var t=this;return t.$raise(i(a,"TypeError"),"allocator undefined for "+t.$name())},$.$$arity=0),t.udef(e,"$new"),n}(t.get_singleton_class(R),T),t.def(R,"$!",c=function(){return!0},c.$$arity=0),t.def(R,"$&",h=function(t){return!1},h.$$arity=1),t.def(R,"$|",f=function(t){return t!==!1&&t!==n},f.$$arity=1),t.def(R,"$^",d=function(t){return t!==!1&&t!==n},d.$$arity=1),t.def(R,"$==",_=function(t){return t===n},_.$$arity=1),t.def(R,"$dup",p=function(){return n},p.$$arity=0),t.def(R,"$clone",y=function(e){var r;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=a([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},y.$$arity=-1),t.def(R,"$inspect",m=function(){return"nil"},m.$$arity=0),t.def(R,"$nil?",g=function(){return!0},g.$$arity=0),t.def(R,"$singleton_class",v=function(){return i(T,"NilClass")},v.$$arity=0),t.def(R,"$to_a",b=function(){return[]},b.$$arity=0),t.def(R,"$to_h",w=function(){return t.hash()},w.$$arity=0),t.def(R,"$to_i",E=function(){return 0},E.$$arity=0),t.alias(R,"to_f","to_i"),t.def(R,"$to_s",k=function(){return""},k.$$arity=0),t.def(R,"$to_c",x=function(){return i(T,"Complex").$new(0,0)},x.$$arity=0),t.def(R,"$rationalize",A=function(t){var r,n=this,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var s=0;s<$;s++)r[s-0]=arguments[s];return o(e(r.$length(),1))&&n.$raise(i(T,"ArgumentError")),n.$Rational(0,1)},A.$$arity=-1),t.def(R,"$to_r",O=function(){var t=this;return t.$Rational(0,1)},O.$$arity=0),t.def(R,"$instance_variables",S=function(){return[]},S.$$arity=0),n&&"instance_variables"}(r[0],null,r),t.const_set(r[0],"NIL",n)},Opal.modules["corelib/boolean"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,a,o){function s(){}var u,l,c,h,f,d,_,p,y,m,g=s=i(e,a,"Boolean",s),v=g.$$proto,b=[g].concat(o);return v.$$is_boolean=!0,v.$$meta=g,function(e,i){var $,a=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",$=function(){var t=this;return t.$raise(n(a,"TypeError"),"allocator undefined for "+t.$name())},$.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(g),b),t.def(g,"$__id__",u=function(){var t=this;return t.valueOf()?2:0},u.$$arity=0),t.alias(g,"object_id","__id__"),t.def(g,"$!",l=function(){var t=this;return 1!=t},l.$$arity=0),t.def(g,"$&",c=function(t){var e=this;return 1==e&&(t!==!1&&t!==r)},c.$$arity=1),t.def(g,"$|",h=function(t){var e=this;return 1==e||t!==!1&&t!==r},h.$$arity=1),t.def(g,"$^",f=function(t){var e=this;return 1==e?t===!1||t===r:t!==!1&&t!==r},f.$$arity=1),t.def(g,"$==",d=function(t){var e=this;return 1==e===t.valueOf()},d.$$arity=1),t.alias(g,"equal?","=="),t.alias(g,"eql?","=="),t.def(g,"$singleton_class",_=function(){return n(b,"Boolean")},_.$$arity=0),t.def(g,"$to_s",p=function(){var t=this;return 1==t?"true":"false"},p.$$arity=0),t.def(g,"$dup",y=function(){var t=this;return t},y.$$arity=0),t.def(g,"$clone",m=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=$([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},m.$$arity=-1),r&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var u,l,c,h,f,d,_,p,y,m=u=a(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",l=function(t){return o($(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==$(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[$(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>0},h.$$arity=1),t.def(m,"$>=",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>=0},f.$$arity=1),t.def(m,"$<",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.def(m,"$<=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<=0},_.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),
t.def(m,"$clamp",y=function(t,n){var a=this,s=i;return s=t["$<=>"](n),o(s)||a.$raise($(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(g,"Comparable").$normalize(s),0))&&a.$raise($(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(g,"Comparable").$normalize(a["$<=>"](t)),0))?t:o(e($(g,"Comparable").$normalize(a["$<=>"](n)),0))?n:a},y.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.send,a=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function $(){}var a=$=i(t,e,"RegexpError",$);a.$$proto,[a].concat(n);return r}(e[0],n(e,"StandardError"),e),function(e,s,u){function l(){}var c,h,f,d,_,p,y,m,g,v,b=l=i(e,s,"Regexp",l),w=b.$$proto,E=[b].concat(u);return t.const_set(E[0],"IGNORECASE",1),t.const_set(E[0],"EXTENDED",2),t.const_set(E[0],"MULTILINE",4),w.$$is_regexp=!0,function(e,i){var s,u,l,c,h,f=(e.$$proto,[e].concat(i));return t.def(e,"$allocate",s=function(){var e=this,n=s.$$p,i=r,a=r,o=r,u=r;for(n&&(s.$$p=null),o=0,u=arguments.length,a=new Array(u);o<u;o++)a[o]=arguments[o];return i=$(e,t.find_super_dispatcher(e,"allocate",s,!1),a,n),i.uninitialized=!0,i},s.$$arity=0),t.def(e,"$escape",u=function(e){return t.escape_regexp(e)},u.$$arity=1),t.def(e,"$last_match",l=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),a(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function(t){var e,r=this,i=arguments.length,$=i-0;$<0&&($=0),e=new Array($);for(var a=0;a<i;a++)e[a-0]=arguments[a];var o,s,u,l,c;if(0==e.length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];o=e[0].$$is_array,e.length>1&&o&&r.$raise(n(f,"TypeError"),"no implicit conversion of Array into String"),o&&(e=e[0]),l=void 0,s=[];for(var h=0;h<e.length;h++)u=e[h],u.$$is_string?s.push(r.$escape(u)):u.$$is_regexp?(c=u.$options(),void 0!=l&&l!=c&&r.$raise(n(f,"TypeError"),"All expressions must use the same options"),l=c,s.push("("+u.source+")")):s.push(r.$escape(u.$to_str()));return r.$new(s.$join("|"),l)},c.$$arity=-1),t.def(e,"$new",h=function(t,e){var r=this;if(t.$$is_regexp)return new RegExp(t);if(t=n(f,"Opal")["$coerce_to!"](t,n(f,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&r.$raise(n(f,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var i="";n(f,"IGNORECASE")&e&&(i+="i"),n(f,"MULTILINE")&e&&(i+="m"),e=i}else e="i";return new RegExp(t,e)},h.$$arity=-2),r&&"new"}(t.get_singleton_class(b),E),t.def(b,"$==",c=function(t){var e=this;return t.constructor==RegExp&&e.toString()===t.toString()},c.$$arity=1),t.def(b,"$===",h=function(t){var e=this;return e.$match(n(E,"Opal")["$coerce_to?"](t,n(E,"String"),"to_str"))!==r},h.$$arity=1),t.def(b,"$=~",f=function(t){var e,n=this;return null==o["~"]&&(o["~"]=r),a(e=n.$match(t))?o["~"].$begin(0):e},f.$$arity=1),t.alias(b,"eql?","=="),t.def(b,"$inspect",d=function(){var t=this,e=/^\/(.*)\/([^\/]*)$/,r=t.toString(),n=e.exec(r);if(n){for(var i=n[1],$=n[2],a=i.split(""),o=a.length,s=!1,u="",l=0;l<o;l++){var c=a[l];s||"/"!=c||(u=u.concat("\\")),u=u.concat(c),s="\\"==c&&!s}return"/"+u+"/"+$}return r},d.$$arity=0),t.def(b,"$match",_=function(e,i){var $=this,a=_.$$p,s=a||r;if(null==o["~"]&&(o["~"]=r),a&&(_.$$p=null),$.uninitialized&&$.$raise(n(E,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var u=$.exec(n(E,"Opal").$coerce_to(e,n(E,"String"),"to_str"));return u?(o["~"]=n(E,"MatchData").$new($,u),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(E,"Opal").$coerce_to(i,n(E,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(E,"Opal").$coerce_to(e,n(E,"String"),"to_str"),i<0&&(i+=e.length,i<0))return o["~"]=r;for(var l,c=$.source,h=$.multiline?"gm":"g",f=new RegExp(c,h+($.ignoreCase?"i":""));;){if(l=f.exec(e),null===l)return o["~"]=r;if(l.index>=i)return o["~"]=n(E,"MatchData").$new(f,l),s===r?o["~"]:t.yield1(s,o["~"]);f.lastIndex=l.index+1}},_.$$arity=-2),t.def(b,"$match?",p=function(t,e){var i=this;if(i.uninitialized&&i.$raise(n(E,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&i.test(n(E,"Opal").$coerce_to(t,n(E,"String"),"to_str"));if(e=n(E,"Opal").$coerce_to(e,n(E,"Integer"),"to_int"),t===r)return!1;if(t=n(E,"Opal").$coerce_to(t,n(E,"String"),"to_str"),e<0&&(e+=t.length,e<0))return!1;var $,a=i.source,o=i.multiline?"gm":"g",s=new RegExp(a,o+(i.ignoreCase?"i":""));return $=s.exec(t),!(null===$||$.index<e)},p.$$arity=-2),t.def(b,"$~",y=function(){var t=this;return null==o._&&(o._=r),t["$=~"](o._)},y.$$arity=0),t.def(b,"$source",m=function(){var t=this;return t.source},m.$$arity=0),t.def(b,"$options",g=function(){var t=this;t.uninitialized&&t.$raise(n(E,"TypeError"),"uninitialized Regexp");var e=0;return t.multiline&&(e|=n(E,"MULTILINE")),t.ignoreCase&&(e|=n(E,"IGNORECASE")),e},g.$$arity=0),t.def(b,"$casefold?",v=function(){var t=this;return t.ignoreCase},v.$$arity=0),t.alias(b,"to_s","source")}(e[0],RegExp,e),function(e,s,u){function l(){}var c,h,f,d,_,p,y,m,g,v,b,w,E=l=i(e,s,"MatchData",l),k=E.$$proto,x=[E].concat(u);return k.matches=r,E.$attr_reader("post_match","pre_match","regexp","string"),t.def(E,"$initialize",c=function(t,e){var n=this;o["~"]=n,n.regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var i=0,$=e.length;i<$;i++){var a=e[i];null==a?n.matches.push(r):n.matches.push(a)}},c.$$arity=2),t.def(E,"$[]",h=function(e){var r,n=this,i=arguments.length,a=i-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<i;o++)r[o-0]=arguments[o];return $(n.matches,"[]",t.to_a(r))},h.$$arity=-1),t.def(E,"$offset",f=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#offset only supports 0th element"),[e.begin,e.begin+e.matches[t].length]},f.$$arity=1),t.def(E,"$==",d=function(t){var e,r,i,$,o=this;return!!a(n(x,"MatchData")["$==="](t))&&(a(e=a(r=a(i=a($=o.string==t.string)?o.regexp.toString()==t.regexp.toString():$)?o.pre_match==t.pre_match:i)?o.post_match==t.post_match:r)?o.begin==t.begin:e)},d.$$arity=1),t.alias(E,"eql?","=="),t.def(E,"$begin",_=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#begin only supports 0th element"),e.begin},_.$$arity=1),t.def(E,"$end",p=function(t){var e=this;return 0!==t&&e.$raise(n(x,"ArgumentError"),"MatchData#end only supports 0th element"),e.begin+e.matches[t].length},p.$$arity=1),t.def(E,"$captures",y=function(){var t=this;return t.matches.slice(1)},y.$$arity=0),t.def(E,"$inspect",m=function(){for(var t=this,e="#<MatchData "+t.matches[0].$inspect(),r=1,n=t.matches.length;r<n;r++)e+=" "+r+":"+t.matches[r].$inspect();return e+">"},m.$$arity=0),t.def(E,"$length",g=function(){var t=this;return t.matches.length},g.$$arity=0),t.alias(E,"size","length"),t.def(E,"$to_a",v=function(){var t=this;return t.matches},v.$$arity=0),t.def(E,"$to_s",b=function(){var t=this;return t.matches[0]},b.$$arity=0),t.def(E,"$values_at",w=function(t){var e,i=this,$=arguments.length,a=$-0;a<0&&(a=0),e=new Array(a);for(var o=0;o<$;o++)e[o-0]=arguments[o];var s,u,l,c=[];for(s=0;s<e.length;s++)e[s].$$is_range&&(u=e[s].$to_a(),u.unshift(s,1),Array.prototype.splice.apply(e,u)),l=n(x,"Opal")["$coerce_to!"](e[s],n(x,"Integer"),"to_int"),l<0&&(l+=i.matches.length,l<0)?c.push(r):c.push(i.matches[l]);return c},w.$$arity=-1),r&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),s=t.truthy,u=t.send,l=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,c){function h(){}function f(t){function e(t){var e,r,n,i,$,o,s="",u=t.length;for(e=0;e<u;e++)if(r=t.charAt(e),"-"===r&&e>0&&e<u-1&&!n){for(i=t.charCodeAt(e-1),$=t.charCodeAt(e+1),i>$&&Ct.$raise(a(zt,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),o=i+1;o<$+1;o++)s+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),e.indexOf(n)!==-1&&(i+=n);return i}var n,i,$,o,s,u,l="",c="";for(n=0,i=t.length;n<i;n++)$=a(zt,"Opal").$coerce_to(t[n],a(zt,"String"),"to_str"),o="^"===$.charAt(0)&&$.length>1,$=e(o?$.slice(1):$),o?c=r(c,$):l=r(l,$);if(l.length>0&&c.length>0){for(u="",n=0,i=l.length;n<i;n++)s=l.charAt(n),c.indexOf(s)===-1&&(u+=s);l=u,c=""}return l.length>0?"["+a(zt,"Regexp").$escape(l)+"]":c.length>0?"[^"+a(zt,"Regexp").$escape(c)+"]":null}var d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct=h=o(n,i,"String",h),Nt=Ct.$$proto,zt=[Ct].concat(c);return Nt.length=$,Ct.$include(a(zt,"Comparable")),Nt.$$is_string=!0,t.def(Ct,"$__id__",d=function(){var t=this;return t.toString()},d.$$arity=0),t.alias(Ct,"object_id","__id__"),t.defs(Ct,"$try_convert",_=function(t){return a(zt,"Opal")["$coerce_to?"](t,a(zt,"String"),"to_str")},_.$$arity=1),t.defs(Ct,"$new",p=function(t){return null==t&&(t=""),t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),new String(t)},p.$$arity=-1),t.def(Ct,"$initialize",y=function(t){var e=this;return void 0===t?e:e.$raise(a(zt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},y.$$arity=-1),t.def(Ct,"$%",m=function(e){var r=this;return s(a(zt,"Array")["$==="](e))?u(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},m.$$arity=1),t.def(Ct,"$*",g=function(t){var e=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),t<0&&e.$raise(a(zt,"ArgumentError"),"negative argument"),0===t)return"";var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise(a(zt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&t)&&(r+=n),t>>>=1,0!==t;)n+=n;return r},g.$$arity=1),t.def(Ct,"$+",v=function(t){var e=this;return t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e+t.$to_s()},v.$$arity=1),t.def(Ct,"$<=>",b=function(t){var e=this;if(s(t["$respond_to?"]("to_str")))return t=t.$to_str().$to_s(),e>t?1:e<t?-1:0;var r=t["$<=>"](e);return r===$?$:r>0?-1:r<0?1:0},b.$$arity=1),t.def(Ct,"$==",w=function(t){var e=this;return t.$$is_string?e.toString()===t.toString():!!a(zt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](e)},w.$$arity=1),t.alias(Ct,"eql?","=="),t.alias(Ct,"===","=="),t.def(Ct,"$=~",E=function(t){var e=this;return t.$$is_string&&e.$raise(a(zt,"TypeError"),"type mismatch: String given"),t["$=~"](e)},E.$$arity=1),t.def(Ct,"$[]",k=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=a(zt,"Opal").$coerce_to(t.end,a(zt,"Integer"),"to_int"),t=a(zt,"Opal").$coerce_to(t.begin,a(zt,"Integer"),"to_int"),Math.abs(t)>i?$:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),e-=t,e<0&&(e=0),n.substr(t,e));if(t.$$is_string)return null!=e&&n.$raise(a(zt,"TypeError")),n.indexOf(t)!==-1?t:$;if(t.$$is_regexp){var o=n.match(t);return null===o?(l["~"]=$,$):(l["~"]=a(zt,"MatchData").$new(t,o),null==e?o[0]:(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&-e<o.length?o[e+=o.length]:e>=0&&e<o.length?o[e]:$))}return t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),t<0&&(t+=i),null==e?t>=i||t<0?$:n.substr(t,1):(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0?$:t>i||t<0?$:n.substr(t,e))},k.$$arity=-2),t.alias(Ct,"byteslice","[]"),t.def(Ct,"$b",x=function(){var t=this;return t.$force_encoding("binary")},x.$$arity=0),t.def(Ct,"$capitalize",A=function(){var t=this;return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},A.$$arity=0),t.def(Ct,"$casecmp",O=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return $;t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},O.$$arity=1),t.def(Ct,"$casecmp?",S=function(t){var e=this,r=e.$casecmp(t);return r===$?$:0===r},S.$$arity=1),t.def(Ct,"$center",R=function(t,n){var i=this;if(null==n&&(n=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),n=a(zt,"Opal").$coerce_to(n,a(zt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&i.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=i.length))return i;var $=i.$ljust(e(r(t,i.length),2).$ceil(),n),o=i.$rjust(e(r(t,i.length),2).$floor(),n);return o+$.slice(i.length)},R.$$arity=-2),t.def(Ct,"$chars",I=function(){var t=this,e=I.$$p,r=e||$;return e&&(I.$$p=null),s(r)?u(t,"each_char",[],r.$to_proc()):t.$each_char().$to_a()},I.$$arity=0),t.def(Ct,"$chomp",T=function(t){var e=this;if(null==l["/"]&&(l["/"]=$),null==t&&(t=l["/"]),s(t===$||0===e.length))return e;if(t=a(zt,"Opal")["$coerce_to!"](t,a(zt,"String"),"to_str").$to_s(),"\n"===t)return e.replace(/\r?\n?$/,"");if(""===t)return e.replace(/(\r?\n)+$/,"");if(e.length>t.length){var r=e.substr(e.length-t.length,t.length);if(r===t)return e.substr(0,e.length-t.length)}return e},T.$$arity=-1),t.def(Ct,"$chop",M=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},M.$$arity=0),t.def(Ct,"$chr",C=function(){var t=this;return t.charAt(0)},C.$$arity=0),t.def(Ct,"$clone",N=function(){var t=this,e=$;return e=t.slice(),e.$copy_singleton_methods(t),e.$initialize_clone(t),e},N.$$arity=0),t.def(Ct,"$dup",z=function(){var t=this,e=$;return e=t.slice(),e.$initialize_dup(t),e},z.$$arity=0),t.def(Ct,"$count",B=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];0===e.length&&r.$raise(a(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=f(e);return null===o?0:r.length-r.replace(new RegExp(o,"g"),"").length},B.$$arity=-1),t.def(Ct,"$delete",D=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];0===e.length&&r.$raise(a(zt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=f(e);return null===o?r:r.replace(new RegExp(o,"g"),"")},D.$$arity=-1),t.def(Ct,"$delete_prefix",F=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.slice(0,t.length)===t?e.slice(t.length):e},F.$$arity=1),t.def(Ct,"$delete_suffix",L=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.slice(e.length-t.length)===t?e.slice(0,e.length-t.length):e},L.$$arity=1),t.def(Ct,"$downcase",P=function(){var t=this;return t.toLowerCase()},P.$$arity=0),t.def(Ct,"$each_char",q=function(){var e,r=this,n=q.$$p,i=n||$;if(n&&(q.$$p=null),i===$)return u(r,"enum_for",["each_char"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var a=0,o=r.length;a<o;a++)t.yield1(i,r.charAt(a));return r},q.$$arity=0),t.def(Ct,"$each_line",j=function(e){var r=this,n=j.$$p,i=n||$;if(null==l["/"]&&(l["/"]=$),null==e&&(e=l["/"]),n&&(j.$$p=null),i===$)return r.$enum_for("each_line",e);if(e===$)return t.yield1(i,r),r;e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str");var o,s,u,c,h,f,d;if(0===e.length){for(o=r.split(/(\n{2,})/),s=0,u=o.length;s<u;s+=2)(o[s]||o[s+1])&&t.yield1(i,(o[s]||"")+(o[s+1]||""));return r}for(h=r.$chomp(e),f=r.length!=h.length,d=h.split(e),s=0,c=d.length;s<c;s++)s<c-1||f?t.yield1(i,d[s]+e):t.yield1(i,d[s]);return r},j.$$arity=-1),t.def(Ct,"$empty?",U=function(){var t=this;return 0===t.length},U.$$arity=0),t.def(Ct,"$end_with?",H=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=0,s=e.length;o<s;o++){var u=a(zt,"Opal").$coerce_to(e[o],a(zt,"String"),"to_str").$to_s();if(r.length>=u.length&&r.substr(r.length-u.length,u.length)==u)return!0}return!1},H.$$arity=-1),t.alias(Ct,"equal?","==="),t.def(Ct,"$gsub",G=function(t,e){var r=this,n=G.$$p,i=n||$;if(n&&(G.$$p=null),void 0===e&&i===$)return r.$enum_for("gsub",t);var o,s,u="",c=$,h=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=t.exec(r),null===o){l["~"]=$,u+=r.slice(h);break}c=a(zt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(u+=s+r.slice(h,o.index+1),t.lastIndex+=1):u+=r.slice(h,o.index)+s,h=t.lastIndex}return l["~"]=c,u},G.$$arity=-2),t.def(Ct,"$hash",Y=function(){var t=this;return t.toString()},Y.$$arity=0),t.def(Ct,"$hex",W=function(){var t=this;return t.$to_i(16)},W.$$arity=0),t.def(Ct,"$include?",X=function(t){var e=this;return t.$$is_string||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str")),e.indexOf(t)!==-1},X.$$arity=1),t.def(Ct,"$index",K=function(t,e){var r,n,i,o=this;if(void 0===e)e=0;else if(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&(e+=o.length,e<0))return $;if(t.$$is_regexp)for(i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(n=i.exec(o),null===n){l["~"]=$,r=-1;break}if(n.index>=e){l["~"]=a(zt,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),r=0===t.length&&e>o.length?-1:o.indexOf(t,e);return r===-1?$:r},K.$$arity=-2),t.def(Ct,"$inspect",V=function(){var t=this,e=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},n=t.replace(e,function(t){return r[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+n.replace(/\#[\$\@\{]/g,"\\$&")+'"'},V.$$arity=0),t.def(Ct,"$intern",J=function(){var t=this;return t},J.$$arity=0),t.def(Ct,"$lines",Z=function(t){var e=this,r=Z.$$p,n=r||$,i=$;return null==l["/"]&&(l["/"]=$),null==t&&(t=l["/"]),r&&(Z.$$p=null),i=u(e,"each_line",[t],n.$to_proc()),s(n)?e:i.$to_a()},Z.$$arity=-1),t.def(Ct,"$length",Q=function(){var t=this;return t.length},Q.$$arity=0),t.def(Ct,"$ljust",tt=function(t,e){var r=this;if(null==e&&(e=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r+i.slice(0,t)},tt.$$arity=-2),t.def(Ct,"$lstrip",et=function(){var t=this;return t.replace(/^\s*/,"")},et.$$arity=0),t.def(Ct,"$ascii_only?",rt=function(){var t=this;return t.match(/[ -~\n]*/)[0]===t},rt.$$arity=0),t.def(Ct,"$match",nt=function(t,e){var r,n=this,i=nt.$$p,o=i||$;return i&&(nt.$$p=null),s(s(r=a(zt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=a(zt,"Regexp").$new(t.$to_str())),s(a(zt,"Regexp")["$==="](t))||n.$raise(a(zt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),u(t,"match",[n,e],o.$to_proc())},nt.$$arity=-2),t.def(Ct,"$next",it=function(){var t=this,e=t.length;if(0===e)return"";for(var r,n=t,i=t.search(/[a-zA-Z0-9]/),$=!1;e--;){if(r=t.charCodeAt(e),r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122)switch(r){case 57:$=!0,r=48;break;case 90:$=!0,r=65;break;case 122:$=!0,r=97;break;default:$=!1,r+=1}else i===-1?255===r?($=!0,r=0):($=!1,r+=1):$=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),$&&(0===e||e===i)){switch(r){case 65:break;case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),$=!1}if(!$)break}return n},it.$$arity=0),t.def(Ct,"$oct",$t=function(){var t,e=this,r=e,n=8;return/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r)return t}switch(r){case"0b":n=2;break;case"0":case"0o":n=8;break;case"0d":n=10;break;case"0x":n=16}return e+i}),t=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(t)?0:t)},$t.$$arity=0),t.def(Ct,"$ord",at=function(){var t=this;return t.charCodeAt(0)},at.$$arity=0),t.def(Ct,"$partition",ot=function(t){var e,r,n=this;return t.$$is_regexp?(r=t.exec(n),null===r?e=-1:(a(zt,"MatchData").$new(t,r),t=r[0],e=r.index)):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e=n.indexOf(t)),e===-1?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},ot.$$arity=1),t.def(Ct,"$reverse",st=function(){var t=this;return t.split("").reverse().join("")},st.$$arity=0),t.def(Ct,"$rindex",ut=function(t,e){var r,n,i,o,s=this;if(void 0===e)e=s.length;else if(e=a(zt,"Opal").$coerce_to(e,a(zt,"Integer"),"to_int"),e<0&&(e+=s.length,e<0))return $;if(t.$$is_regexp){for(n=null,i=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(o=i.exec(s),null===o||o.index>e)break;n=o,i.lastIndex=n.index+1}null===n?(l["~"]=$,r=-1):(a(zt,"MatchData").$new(i,n),r=n.index)}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),r=s.lastIndexOf(t,e);return r===-1?$:r},ut.$$arity=-2),t.def(Ct,"$rjust",lt=function(t,e){var r=this;if(null==e&&(e=" "),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int"),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&r.$raise(a(zt,"ArgumentError"),"zero width padding"),s(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),$=Array(i+1).join(e),o=n-$.length;return $+e.slice(0,o)+r},lt.$$arity=-2),t.def(Ct,"$rpartition",ct=function(t){var e,r,n,i,$=this;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(i=n.exec($),null===i)break;r=i,n.lastIndex=r.index+1}null===r?e=-1:(a(zt,"MatchData").$new(n,r),t=r[0],e=r.index)}else t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),e=$.lastIndexOf(t);return e===-1?["","",$]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},ct.$$arity=1),t.def(Ct,"$rstrip",ht=function(){var t=this;return t.replace(/[\s\u0000]*$/,"")},ht.$$arity=0),t.def(Ct,"$scan",ft=function(t){var e=this,r=ft.$$p,n=r||$;r&&(ft.$$p=null);var i,o=[],s=$;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=t.exec(e));)s=a(zt,"MatchData").$new(t,i),n===$?1==i.length?o.push(i[0]):o.push(s.$captures()):1==i.length?n(i[0]):n.call(e,s.$captures()),t.lastIndex===i.index&&(t.lastIndex+=1);return l["~"]=s,n!==$?e:o},ft.$$arity=1),t.alias(Ct,"size","length"),t.alias(Ct,"slice","[]"),t.def(Ct,"$split",dt=function(t,e){var r,n=this;if(null==l[";"]&&(l[";"]=$),0===n.length)return[];if(void 0===e)e=0;else if(e=a(zt,"Opal")["$coerce_to!"](e,a(zt,"Integer"),"to_int"),1===e)return[n];void 0!==t&&t!==$||(t=s(r=l[";"])?r:" ");var i,o,u,c=[],h=n.toString(),f=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,h=h.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),c=h.split(t),1===c.length&&c[0]===h)return c;for(;(o=c.indexOf(void 0))!==-1;)c.splice(o,1);if(0===e){for(;""===c[c.length-1];)c.length-=1;return c}if(i=t.exec(h),e<0){if(null!==i&&""===i[0]&&t.source.indexOf("(?=")===-1)for(o=0,u=i.length;o<u;o++)c.push("");return c}if(null!==i&&""===i[0])return c.splice(e-1,c.length-1,c.slice(e-1).join("")),c;if(e>=c.length)return c;for(o=0;null!==i&&(o++,f=t.lastIndex,o+1!==e);)i=t.exec(h);return c.splice(e-1,c.length-1,h.slice(f)),c},dt.$$arity=-1),t.def(Ct,"$squeeze",_t=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];if(0===e.length)return r.replace(/(.)\1+/g,"$1");var a=f(e);return null===a?r:r.replace(new RegExp("("+a+")\\1+","g"),"$1")},_t.$$arity=-1),t.def(Ct,"$start_with?",pt=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var o=0,s=e.length;o<s;o++){var u=a(zt,"Opal").$coerce_to(e[o],a(zt,"String"),"to_str").$to_s();if(0===r.indexOf(u))return!0}return!1},pt.$$arity=-1),t.def(Ct,"$strip",yt=function(){var t=this;return t.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},yt.$$arity=0),t.def(Ct,"$sub",mt=function(t,e){var r=this,n=mt.$$p,i=n||$;n&&(mt.$$p=null),t.$$is_regexp||(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(l["~"]=$,r.toString()):(a(zt,"MatchData").$new(t,o),void 0===e?(i===$&&r.$raise(a(zt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str"),e=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2===0)return t;switch(n){case"+":for(var i=o.length-1;i>0;i--)if(void 0!==o[i])return e.slice(1)+o[i];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},mt.$$arity=-2),t.alias(Ct,"succ","next"),t.def(Ct,"$sum",gt=function(t){var e=this;null==t&&(t=16),t=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int");for(var r=0,n=e.length,i=0;i<n;i++)r+=e.charCodeAt(i);return t<=0?r:r&Math.pow(2,t)-1},gt.$$arity=-1),t.def(Ct,"$swapcase",vt=function(){var t=this,e=t.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return t.constructor===String?e:t.$class().$new(e)},vt.$$arity=0),t.def(Ct,"$to_f",bt=function(){var t=this;if("_"===t.charAt(0))return 0;var e=parseFloat(t.replace(/_/g,""));return isNaN(e)||e==1/0||e==-(1/0)?0:e},bt.$$arity=0),t.def(Ct,"$to_i",wt=function(t){var e=this;null==t&&(t=10);var r,n=e.toLowerCase(),i=a(zt,"Opal").$coerce_to(t,a(zt,"Integer"),"to_int");return(1===i||i<0||i>36)&&e.$raise(a(zt,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),r=parseInt(n.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)},wt.$$arity=-1),t.def(Ct,"$to_proc",Et=function(){var e,r=this,n=$;return n=r.valueOf(),u(r,"proc",[],(e=function(r){var i,o,s=e.$$s||this;i=e.$$p||$,i&&(e.$$p=null);var u=arguments.length,l=u-0;l<0&&(l=0),o=new Array(l);for(var c=0;c<u;c++)o[c-0]=arguments[c];0===o.length&&s.$raise(a(zt,"ArgumentError"),"no receiver given");var h=o.shift();return null==h&&(h=$),t.send(h,n,o,i)},e.$$s=r,e.$$arity=-1,e))},Et.$$arity=0),t.def(Ct,"$to_s",kt=function(){var t=this;return t.toString()},kt.$$arity=0),t.alias(Ct,"to_str","to_s"),t.alias(Ct,"to_sym","intern"),t.def(Ct,"$tr",xt=function(t,e){var r=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s(),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),0==t.length||t===e)return r;var n,i,$,o,s,u,l,c={},h=t.split(""),f=h.length,d=e.split(""),_=d.length,p=!1,y=null;"^"===h[0]&&h.length>1&&(p=!0,h.shift(),y=d[_-1],f-=1);var m=[],g=null;for(i=!1,n=0;n<f;n++)if(o=h[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==f-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),$=s+1;$<u;$++)m.push(String.fromCharCode($));m.push(o),i=null,g=null}else m.push(o);if(h=m,f=h.length,p)for(n=0;n<f;n++)c[h[n]]=!0;else{if(_>0){var v=[],b=null;for(i=!1,n=0;n<_;n++)if(o=d[n],null==b)b=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==_-1?v.push("-"):i=!0;else if(i){for(s=b.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),$=s+1;$<u;$++)v.push(String.fromCharCode($));v.push(o),i=null,b=null}else v.push(o);d=v,_=d.length}var w=f-_;if(w>0){var E=_>0?d[_-1]:"";for(n=0;n<w;n++)d.push(E)}for(n=0;n<f;n++)c[h[n]]=d[n]}var k="";for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var x=c[o];k+=p?null==x?y:o:null!=x?x:o}return k},xt.$$arity=2),t.def(Ct,"$tr_s",At=function(t,e){var r=this;if(t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str").$to_s(),e=a(zt,"Opal").$coerce_to(e,a(zt,"String"),"to_str").$to_s(),0==t.length)return r;var n,i,$,o,s,u,l,c={},h=t.split(""),f=h.length,d=e.split(""),_=d.length,p=!1,y=null;"^"===h[0]&&h.length>1&&(p=!0,h.shift(),y=d[_-1],f-=1);var m=[],g=null;for(i=!1,n=0;n<f;n++)if(o=h[n],null==g)g=o,m.push(o);else if("-"===o)"-"===g?(m.push("-"),m.push("-")):n==f-1?m.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),$=s+1;$<u;$++)m.push(String.fromCharCode($));m.push(o),i=null,g=null}else m.push(o);if(h=m,f=h.length,p)for(n=0;n<f;n++)c[h[n]]=!0;else{if(_>0){var v=[],b=null;for(i=!1,n=0;n<_;n++)if(o=d[n],null==g)g=o,v.push(o);else if("-"===o)"-"===b?(v.push("-"),v.push("-")):n==_-1?v.push("-"):i=!0;else if(i){for(s=g.charCodeAt(0),u=o.charCodeAt(0),s>u&&r.$raise(a(zt,"ArgumentError"),'invalid range "'+String.fromCharCode(s)+"-"+String.fromCharCode(u)+'" in string transliteration'),$=s+1;$<u;$++)v.push(String.fromCharCode($));v.push(o),i=null,g=null}else v.push(o);d=v,_=d.length}var w=f-_;if(w>0){var E=_>0?d[_-1]:"";for(n=0;n<w;n++)d.push(E)}for(n=0;n<f;n++)c[h[n]]=d[n]}var k="",x=null;for(n=0,l=r.length;n<l;n++){o=r.charAt(n);var A=c[o];p?null==A?null==x&&(k+=y,x=!0):(k+=o,x=null):null!=A?null!=x&&x===A||(k+=A,x=A):(k+=o,x=null)}return k},At.$$arity=2),t.def(Ct,"$upcase",Ot=function(){var t=this;return t.toUpperCase()},Ot.$$arity=0),t.def(Ct,"$upto",St=function(t,e){var r=this,n=St.$$p,i=n||$;if(null==e&&(e=!1),n&&(St.$$p=null),i===$)return r.$enum_for("upto",t,e);t=a(zt,"Opal").$coerce_to(t,a(zt,"String"),"to_str");var o,s,u=r.toString();if(1===u.length&&1===t.length)for(o=u.charCodeAt(0),s=t.charCodeAt(0);o<=s&&(!e||o!==s);)i(String.fromCharCode(o)),o+=1;else if(parseInt(u,10).toString()===u&&parseInt(t,10).toString()===t)for(o=parseInt(u,10),s=parseInt(t,10);o<=s&&(!e||o!==s);)i(o.toString()),o+=1;else for(;u.length<=t.length&&u<=t&&(!e||u!==t);)i(u),u=u.$succ();return r},St.$$arity=-2),t.def(Ct,"$instance_variables",Rt=function(){return[]},Rt.$$arity=0),t.defs(Ct,"$_load",It=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return u(n,"new",t.to_a(r))},It.$$arity=-1),t.def(Ct,"$unpack",Tt=function(t){var e=this;
return e.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Tt.$$arity=1),t.def(Ct,"$unpack1",Mt=function(t){var e=this;return e.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Mt.$$arity=1),$&&"unpack1"}(i[0],String,i),t.const_set(i[0],"Symbol",a(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=(t.top,[]),u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,h=(t.breaker,t.slice,t.module),f=t.truthy,d=t.send,_=t.falsy,p=t.hash2,y=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(s,m){function g(t){return 0===t.length&&(t=[u]),t.length>1&&(t=[t]),t}var v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t=v=h(s,"Enumerable"),pt=(_t.$$proto,[_t].concat(m));t.def(_t,"$all?",b=function(e){try{var r,n,i,$=this,a=b.$$p,o=a||u;return a&&(b.$$p=null),f(void 0!==e)?d($,"each",[],(r=function(n){var i,$=(r.$$s||this,u),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),f(d(e,"public_send",["==="].concat(t.to_a($))))?u:void t.ret(!1)},r.$$s=$,r.$$arity=-1,r)):o!==u?d($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return f(t.yieldX(o,t.to_a(r)))?u:void t.ret(!1)},n.$$s=$,n.$$arity=-1,n)):d($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return f(c(pt,"Opal").$destructure(r))?u:void t.ret(!1)},i.$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},b.$$arity=-1),t.def(_t,"$any?",w=function(e){try{var r,n,i,$=this,a=w.$$p,o=a||u;return a&&(w.$$p=null),f(void 0!==e)?d($,"each",[],(r=function(n){var i,$=(r.$$s||this,u),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),f(d(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!0):u},r.$$s=$,r.$$arity=-1,r)):o!==u?d($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return f(t.yieldX(o,t.to_a(r)))?void t.ret(!0):u},n.$$s=$,n.$$arity=-1,n)):d($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return f(c(pt,"Opal").$destructure(r))?void t.ret(!0):u},i.$$s=$,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},w.$$arity=-1),t.def(_t,"$chunk",E=function(){var e,r,n=this,i=E.$$p,$=i||u;return i&&(E.$$p=null),$===u?d(n,"to_enum",["chunk"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):d(l("::","Enumerator"),"new",[],(r=function(e){function n(){o.length>0&&e.$yield(a,o)}var i=r.$$s||this;null==e&&(e=u);var a=u,o=[];i.$each.$$p=function(e){var r=t.yield1($,e);r===u?(n(),o=[],a=u):(a===u||a===r?o.push(e):(n(),o=[e]),a=r)},i.$each(),n()},r.$$s=n,r.$$arity=1,r))},E.$$arity=0),t.def(_t,"$chunk_while",k=function(){var e,r=this,n=k.$$p,i=n||u;return n&&(k.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"no block given"),d(r,"slice_when",[],(e=function(r,n){e.$$s||this;return null==r&&(r=u),null==n&&(n=u),t.yieldX(i,[r,n])["$!"]()},e.$$s=r,e.$$arity=2,e))},k.$$arity=0),t.def(_t,"$collect",x=function(){var e,r=this,n=x.$$p,i=n||u;if(n&&(x.$$p=null),i===u)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=t.yieldX(i,arguments);$.push(e)},r.$each(),$},x.$$arity=0),t.def(_t,"$collect_concat",A=function(){var e,r,n=this,i=A.$$p,$=i||u;return i&&(A.$$p=null),$===u?d(n,"enum_for",["collect_concat"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e)):d(n,"map",[],(r=function(e){r.$$s||this;return null==e&&(e=u),t.yield1($,e)},r.$$s=n,r.$$arity=1,r)).$flatten(1)},A.$$arity=0),t.def(_t,"$count",O=function(e){var r,n,i,$=this,a=O.$$p,o=a||u,s=u;return a&&(O.$$p=null),s=0,null!=e&&o!==u&&$.$warn("warning: given block not used"),f(null!=e)?o=d($,"proc",[],(r=function(t){var n,i=(r.$$s||this,arguments.length),$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];return c(pt,"Opal").$destructure(n)["$=="](e)},r.$$s=$,r.$$arity=-1,r)):f(o["$nil?"]())&&(o=d($,"proc",[],(n=function(){n.$$s||this;return!0},n.$$s=$,n.$$arity=0,n))),d($,"each",[],(i=function(e){var r,n=(i.$$s||this,arguments.length),$=n-0;$<0&&($=0),r=new Array($);for(var a=0;a<n;a++)r[a-0]=arguments[a];return f(t.yieldX(o,r))?s++:u},i.$$s=$,i.$$arity=-1,i)),s},O.$$arity=-1),t.def(_t,"$cycle",S=function(n){var i,$=this,a=S.$$p,o=a||u;if(null==n&&(n=u),a&&(S.$$p=null),o===u)return d($,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return f(n["$nil?"]())?f(t["$respond_to?"]("size"))?l(c(pt,"Float"),"INFINITY"):u:(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),f(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=$,i.$$arity=0,i));if(f(n["$nil?"]()));else if(n=c(pt,"Opal")["$coerce_to!"](n,c(pt,"Integer"),"to_int"),f(n<=0))return u;var s,h,_,p,y=[];if($.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(o,e);y.push(e)},$.$each(),void 0!==s)return s;if(0===y.length)return u;if(n===u)for(;;)for(h=0,_=y.length;h<_;h++)p=t.yield1(o,y[h]);else for(;n>1;){for(h=0,_=y.length;h<_;h++)p=t.yield1(o,y[h]);n--}},S.$$arity=-1),t.def(_t,"$detect",R=function(e){try{var r,n=this,i=R.$$p,$=i||u;return i&&(R.$$p=null),$===u?n.$enum_for("detect",e):(d(n,"each",[],(r=function(e){var n,i=(r.$$s||this,u),a=arguments.length,o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return i=c(pt,"Opal").$destructure(n),f(t.yield1($,i))?void t.ret(i):u},r.$$s=n,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:u)}catch(e){if(e===t.returner)return e.$v;throw e}},R.$$arity=-1),t.def(_t,"$drop",I=function(t){var e=this;t=c(pt,"Opal").$coerce_to(t,c(pt,"Integer"),"to_int"),f(t<0)&&e.$raise(c(pt,"ArgumentError"),"attempt to drop negative size");var r=[],n=0;return e.$each.$$p=function(){t<=n&&r.push(c(pt,"Opal").$destructure(arguments)),n++},e.$each(),r},I.$$arity=1),t.def(_t,"$drop_while",T=function(){var e=this,r=T.$$p,n=r||u;if(r&&(T.$$p=null),n===u)return e.$enum_for("drop_while");var i=[],$=!0;return e.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if($){var r=t.yield1(n,e);_(r)&&($=!1,i.push(e))}else i.push(e)},e.$each(),i},T.$$arity=0),t.def(_t,"$each_cons",M=function(e){var r,a=this,o=M.$$p,s=o||u;if(o&&(M.$$p=null),f(1!=arguments.length)&&a.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=c(pt,"Opal").$try_convert(e,c(pt,"Integer"),"to_int"),f(e<=0)&&a.$raise(c(pt,"ArgumentError"),"invalid size"),s===u)return d(a,"enum_for",["each_cons",e],(r=function(){var t,a=r.$$s||this,o=u;return o=a.$enumerator_size(),f(o["$nil?"]())?u:f(f(t=o["$=="](0))?t:n(o,e))?0:i($(o,e),1)},r.$$s=a,r.$$arity=0,r));var l=[],h=u;return a.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);l.push(r),l.length>e&&l.shift(),l.length==e&&t.yield1(s,l.slice(0,e))},a.$each(),h},M.$$arity=1),t.def(_t,"$each_entry",C=function(e){var r,n,i=this,$=C.$$p,a=$||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return $&&(C.$$p=null),a===u?d(i,"to_enum",["each_entry"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r)):(i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);t.yield1(a,e)},i.$each.apply(i,n),i)},C.$$arity=-1),t.def(_t,"$each_slice",N=function(e){var r,n=this,i=N.$$p,$=i||u;if(i&&(N.$$p=null),e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),f(e<=0)&&n.$raise(c(pt,"ArgumentError"),"invalid slice size"),$===u)return d(n,"enum_for",["each_slice",e],(r=function(){var t=r.$$s||this;return f(t["$respond_to?"]("size"))?a(t.$size(),e).$ceil():u},r.$$s=n,r.$$arity=0,r));var o,s=[];return n.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments);s.push(r),s.length===e&&(t.yield1($,s),s=[])},n.$each(),void 0!==o?o:(s.length>0&&t.yield1($,s),u)},N.$$arity=1),t.def(_t,"$each_with_index",z=function(e){var r,n,i=this,$=z.$$p,a=$||u,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];if($&&(z.$$p=null),a===u)return d(i,"enum_for",["each_with_index"].concat(t.to_a(n)),(r=function(){var t=r.$$s||this;return t.$enumerator_size()},r.$$s=i,r.$$arity=0,r));var h,f=0;return i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);a(t,f),f++},i.$each.apply(i,n),void 0!==h?h:i},z.$$arity=-1),t.def(_t,"$each_with_object",B=function(t){var e,r=this,n=B.$$p,i=n||u;if(n&&(B.$$p=null),i===u)return d(r,"enum_for",["each_with_object",t],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);i(e,t)},r.$each(),void 0!==$?$:t},B.$$arity=1),t.def(_t,"$entries",D=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];var a=[];return r.$each.$$p=function(){a.push(c(pt,"Opal").$destructure(arguments))},r.$each.apply(r,e),a},D.$$arity=-1),t.alias(_t,"find","detect"),t.def(_t,"$find_all",F=function(){var e,r=this,n=F.$$p,i=n||u;if(n&&(F.$$p=null),i===u)return d(r,"enum_for",["find_all"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);f(r)&&$.push(e)},r.$each(),$},F.$$arity=0),t.def(_t,"$find_index",L=function(e){try{var r,n,i=this,$=L.$$p,a=$||u,o=u;return $&&(L.$$p=null),f(void 0===e&&a===u)?i.$enum_for("find_index"):(null!=e&&a!==u&&i.$warn("warning: given block not used"),o=0,f(null!=e)?d(i,"each",[],(r=function(n){var i,$=(r.$$s||this,arguments.length),a=$-0;a<0&&(a=0),i=new Array(a);for(var s=0;s<$;s++)i[s-0]=arguments[s];return c(pt,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1},r.$$s=i,r.$$arity=-1,r)):d(i,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var s=0;s<i;s++)r[s-0]=arguments[s];return f(t.yieldX(a,t.to_a(r)))&&t.ret(o),o+=1},n.$$s=i,n.$$arity=-1,n)),u)}catch(e){if(e===t.returner)return e.$v;throw e}},L.$$arity=-1),t.def(_t,"$first",P=function(e){try{var r,n,i=this,$=u,a=u;return f(void 0===e)?d(i,"each",[],(r=function(e){r.$$s||this;null==e&&(e=u),t.ret(e)},r.$$s=i,r.$$arity=1,r)):($=[],e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),f(e<0)&&i.$raise(c(pt,"ArgumentError"),"attempt to take negative size"),f(0==e)?[]:(a=0,d(i,"each",[],(n=function(r){var i,o=(n.$$s||this,arguments.length),s=o-0;s<0&&(s=0),i=new Array(s);for(var l=0;l<o;l++)i[l-0]=arguments[l];return $.push(c(pt,"Opal").$destructure(i)),f(e<=++a)?void t.ret($):u},n.$$s=i,n.$$arity=-1,n)),$))}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=-1),t.alias(_t,"flat_map","collect_concat"),t.def(_t,"$grep",q=function(r){var n,i=this,$=q.$$p,a=$||u,s=u;return $&&(q.$$p=null),s=[],d(i,"each",[],(n=function(i){var $,l=(n.$$s||this,u),c=arguments.length,h=c-0;h<0&&(h=0),$=new Array(h);for(var _=0;_<c;_++)$[_-0]=arguments[_];return l=g($),f(d(r,"__send__",["==="].concat(t.to_a(l))))?(a!==u?(f(e($.$length(),1))&&($=[$]),$=t.yieldX(a,t.to_a($))):f(o($.$length(),1))&&($=$["$[]"](0)),s.$push($)):u},n.$$s=i,n.$$arity=-1,n)),s},q.$$arity=1),t.def(_t,"$grep_v",j=function(r){var n,i=this,$=j.$$p,a=$||u,s=u;return $&&(j.$$p=null),s=[],d(i,"each",[],(n=function(i){var $,l=(n.$$s||this,u),c=arguments.length,h=c-0;h<0&&(h=0),$=new Array(h);for(var _=0;_<c;_++)$[_-0]=arguments[_];return l=g($),f(d(r,"__send__",["==="].concat(t.to_a(l))))?u:(a!==u?(f(e($.$length(),1))&&($=[$]),$=t.yieldX(a,t.to_a($))):f(o($.$length(),1))&&($=$["$[]"](0)),s.$push($))},n.$$s=i,n.$$arity=-1,n)),s},j.$$arity=1),t.def(_t,"$group_by",U=function(){var e,r,n=this,i=U.$$p,a=i||u,o=u,s=u;if(i&&(U.$$p=null),a===u)return d(n,"enum_for",["group_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=n,e.$$arity=0,e));o=p([],{});var l;return n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=t.yield1(a,e);(f(r=o["$[]"](n))?r:(s=[n,[]],d(o,"[]=",t.to_a(s)),s[$(s.length,1)]))["$<<"](e)},n.$each(),void 0!==l?l:o},U.$$arity=0),t.def(_t,"$include?",H=function(e){try{var r,n=this;return d(n,"each",[],(r=function(n){var i,$=(r.$$s||this,arguments.length),a=$-0;a<0&&(a=0),i=new Array(a);for(var o=0;o<$;o++)i[o-0]=arguments[o];return c(pt,"Opal").$destructure(i)["$=="](e)?void t.ret(!0):u},r.$$s=n,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},H.$$arity=1),t.def(_t,"$inject",G=function(e,r){var n=this,i=G.$$p,$=i||u;i&&(G.$$p=null);var a=e;return $!==u&&void 0===r?n.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=e):(e=t.yieldX($,[a,e]),void(a=e))}:(void 0===r&&(c(pt,"Symbol")["$==="](e)||n.$raise(c(pt,"TypeError"),""+e.$inspect()+" is not a Symbol"),r=e,a=void 0),n.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===a?void(a=t):void(a=a.$__send__(r,t))}),n.$each(),void 0==a?u:a},G.$$arity=-1),t.def(_t,"$lazy",Y=function(){var e,r=this;return d(l(c(pt,"Enumerator"),"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var i,$=(e.$$s||this,arguments.length),a=$-1;a<0&&(a=0),i=new Array(a);for(var o=1;o<$;o++)i[o-1]=arguments[o];return null==r&&(r=u),d(r,"yield",t.to_a(i))},e.$$s=r,e.$$arity=-2,e))},Y.$$arity=0),t.def(_t,"$enumerator_size",W=function(){var t=this;return f(t["$respond_to?"]("size"))?t.$size():u},W.$$arity=0),t.alias(_t,"map","collect"),t.def(_t,"$max",X=function(e){var r=this,n=X.$$p,i=n||u;if(n&&(X.$$p=null),void 0===e||e===u){var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);return void 0===$?void($=e):(a=i!==u?t.yieldX(i,[e,$]):e["$<=>"]($),a===u&&r.$raise(c(pt,"ArgumentError"),"comparison failed"),void(a>0&&($=e)))},r.$each(),void 0===$?u:$}return e=c(pt,"Opal").$coerce_to(e,c(pt,"Integer"),"to_int"),d(r,"sort",[],i.$to_proc()).$reverse().$first(e)},X.$$arity=-1),t.def(_t,"$max_by",K=function(){var e,r=this,n=K.$$p,i=n||u;if(n&&(K.$$p=null),!f(i))return d(r,"enum_for",["max_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===$?($=e,void(a=r)):void(r["$<=>"](a)>0&&($=e,a=r))},r.$each(),void 0===$?u:$},K.$$arity=0),t.alias(_t,"member?","include?"),t.def(_t,"$min",V=function(){var t=this,e=V.$$p,r=e||u;e&&(V.$$p=null);var n;return r!==u?t.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments);if(void 0===n)return void(n=e);var i=r(e,n);i===u&&t.$raise(c(pt,"ArgumentError"),"comparison failed"),i<0&&(n=e)}:t.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);return void 0===n?void(n=t):void(c(pt,"Opal").$compare(t,n)<0&&(n=t))},t.$each(),void 0===n?u:n},V.$$arity=0),t.def(_t,"$min_by",J=function(){var e,r=this,n=J.$$p,i=n||u;if(n&&(J.$$p=null),!f(i))return d(r,"enum_for",["min_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $,a;return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);return void 0===$?($=e,void(a=r)):void(r["$<=>"](a)<0&&($=e,a=r))},r.$each(),void 0===$?u:$},J.$$arity=0),t.def(_t,"$minmax",Z=function(){var t,e,r=this,n=Z.$$p,i=n||u;n&&(Z.$$p=null),i=f(t=i)?t:d(r,"proc",[],(e=function(t,r){e.$$s||this;return null==t&&(t=u),null==r&&(r=u),t["$<=>"](r)},e.$$s=r,e.$$arity=2,e));var $=u,a=u,o=!0;return r.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments);if(o)$=a=t,o=!1;else{var e=i.$call($,t);e===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):e>0&&($=t);var n=i.$call(a,t);n===u?r.$raise(c(pt,"ArgumentError"),"comparison failed"):n<0&&(a=t)}},r.$each(),[$,a]},Z.$$arity=0),t.def(_t,"$minmax_by",Q=function(){var t=this,e=Q.$$p;return e&&(Q.$$p=null),t.$raise(c(pt,"NotImplementedError"))},Q.$$arity=0),t.def(_t,"$none?",tt=function(e){try{var r,n,i,$=this,a=tt.$$p,o=a||u;return a&&(tt.$$p=null),f(void 0!==e)?d($,"each",[],(r=function(n){var i,$=(r.$$s||this,u),a=arguments.length,o=a-0;o<0&&(o=0),i=new Array(o);for(var s=0;s<a;s++)i[s-0]=arguments[s];return $=g(i),f(d(e,"public_send",["==="].concat(t.to_a($))))?void t.ret(!1):u},r.$$s=$,r.$$arity=-1,r)):o!==u?d($,"each",[],(n=function(e){var r,i=(n.$$s||this,arguments.length),$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return f(t.yieldX(o,t.to_a(r)))?void t.ret(!1):u},n.$$s=$,n.$$arity=-1,n)):d($,"each",[],(i=function(e){var r,n=(i.$$s||this,u),$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n=c(pt,"Opal").$destructure(r),f(n)?void t.ret(!1):u},i.$$s=$,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},tt.$$arity=-1),t.def(_t,"$one?",et=function(r){try{var n,$,a,o=this,s=et.$$p,l=s||u,h=u;return s&&(et.$$p=null),h=0,f(void 0!==r)?d(o,"each",[],(n=function($){var a,o=(n.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),a=new Array(l);for(var c=0;c<s;c++)a[c-0]=arguments[c];return o=g(a),f(d(r,"public_send",["==="].concat(t.to_a(o))))?(h=i(h,1),f(e(h,1))?void t.ret(!1):u):u},n.$$s=o,n.$$arity=-1,n)):l!==u?d(o,"each",[],($=function(r){var n,a=($.$$s||this,arguments.length),o=a-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<a;s++)n[s-0]=arguments[s];return f(t.yieldX(l,t.to_a(n)))?(h=i(h,1),f(e(h,1))?void t.ret(!1):u):u},$.$$s=o,$.$$arity=-1,$)):d(o,"each",[],(a=function(r){var n,$=(a.$$s||this,arguments.length),o=$-0;o<0&&(o=0),n=new Array(o);for(var s=0;s<$;s++)n[s-0]=arguments[s];return f(c(pt,"Opal").$destructure(n))?(h=i(h,1),f(e(h,1))?void t.ret(!1):u):u},a.$$s=o,a.$$arity=-1,a)),h["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},et.$$arity=-1),t.def(_t,"$partition",rt=function(){var e,r=this,n=rt.$$p,i=n||u;if(n&&(rt.$$p=null),i===u)return d(r,"enum_for",["partition"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[],a=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);f(r)?$.push(e):a.push(e)},r.$each(),[$,a]},rt.$$arity=0),t.alias(_t,"reduce","inject"),t.def(_t,"$reject",nt=function(){var e,r=this,n=nt.$$p,i=n||u;if(n&&(nt.$$p=null),i===u)return d(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];return r.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1(i,e);_(r)&&$.push(e)},r.$each(),$},nt.$$arity=0),t.def(_t,"$reverse_each",it=function(){var e,r=this,n=it.$$p,i=n||u;if(n&&(it.$$p=null),i===u)return d(r,"enum_for",["reverse_each"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=r,e.$$arity=0,e));var $=[];r.$each.$$p=function(){$.push(arguments)},r.$each();for(var a=$.length-1;a>=0;a--)t.yieldX(i,$[a]);return $},it.$$arity=0),t.alias(_t,"select","find_all"),t.def(_t,"$slice_before",$t=function(e){var r,n=this,i=$t.$$p,$=i||u;return i&&($t.$$p=null),f(void 0===e&&$===u)&&n.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),f(void 0!==e&&$!==u||arguments.length>1)&&n.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),d(c(pt,"Enumerator"),"new",[],(r=function(n){var i=r.$$s||this;null==n&&(n=u);var a=[];$!==u?void 0===e?i.$each.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),r=t.yield1($,e);f(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(e)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=$(t,e.$dup());f(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(t)}:i.$each.$$p=function(){var t=c(pt,"Opal").$destructure(arguments),r=e["$==="](t);f(r)&&a.length>0&&(n["$<<"](a),a=[]),a.push(t)},i.$each(),a.length>0&&n["$<<"](a)},r.$$s=n,r.$$arity=1,r))},$t.$$arity=-1),t.def(_t,"$slice_after",at=function(e){var r,n,i=this,$=at.$$p,a=$||u;return $&&(at.$$p=null),f(void 0===e&&a===u)&&i.$raise(c(pt,"ArgumentError"),"both pattern and block are given"),f(void 0!==e&&a!==u||arguments.length>1)&&i.$raise(c(pt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),f(void 0!==e)&&(a=d(i,"proc",[],(r=function(t){r.$$s||this;return null==t&&(t=u),e["$==="](t)},r.$$s=i,r.$$arity=1,r))),d(c(pt,"Enumerator"),"new",[],(n=function(e){var r=n.$$s||this;null==e&&(e=u);var i;r.$each.$$p=function(){var r=c(pt,"Opal").$destructure(arguments),n=t.yield1(a,r);null==i&&(i=[]),f(n)?(i.push(r),e.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&e.$yield(i)},n.$$s=i,n.$$arity=1,n))},at.$$arity=-1),t.def(_t,"$slice_when",ot=function(){var e,r=this,n=ot.$$p,i=n||u;return n&&(ot.$$p=null),i!==u||r.$raise(c(pt,"ArgumentError"),"wrong number of arguments (0 for 1)"),d(c(pt,"Enumerator"),"new",[],(e=function(r){var n=e.$$s||this;null==r&&(r=u);var $=u,a=u;n.$each_cons.$$p=function(){var e=c(pt,"Opal").$destructure(arguments),n=e[0],o=e[1],s=t.yieldX(i,[n,o]);a=o,$===u&&($=[]),f(s)?($.push(n),r.$yield($),$=[]):$.push(n)},n.$each_cons(2),$!==u&&($.push(a),r.$yield($))},e.$$s=r,e.$$arity=1,e))},ot.$$arity=0),t.def(_t,"$sort",st=function(){var t,e=this,r=st.$$p,n=r||u,i=u;return r&&(st.$$p=null),i=e.$to_a(),n!==u||(n=y((t=function(e,r){t.$$s||this;return null==e&&(e=u),null==r&&(r=u),e["$<=>"](r)},t.$$s=e,t.$$arity=2,t))),d(i,"sort",[],n.$to_proc())},st.$$arity=0),t.def(_t,"$sort_by",ut=function(){var e,r,n,i,$=this,a=ut.$$p,o=a||u,s=u;return a&&(ut.$$p=null),o===u?d($,"enum_for",["sort_by"],(e=function(){var t=e.$$s||this;return t.$enumerator_size()},e.$$s=$,e.$$arity=0,e)):(s=d($,"map",[],(r=function(){var e=(r.$$s||this,u);return e=c(pt,"Opal").$destructure(arguments),[t.yield1(o,e),e]},r.$$s=$,r.$$arity=0,r)),d(s,"sort!",[],(n=function(t,e){n.$$s||this;return null==t&&(t=u),null==e&&(e=u),t[0]["$<=>"](e[0])},n.$$s=$,n.$$arity=2,n)),d(s,"map!",[],(i=function(t){i.$$s||this;return null==t&&(t=u),t[1]},i.$$s=$,i.$$arity=1,i)))},ut.$$arity=0),t.def(_t,"$sum",lt=function(e){var r,n=this,$=lt.$$p,a=$||u,o=u;return null==e&&(e=0),$&&(lt.$$p=null),o=e,d(n,"each",[],(r=function(e){var n,$=(r.$$s||this,u),s=arguments.length,l=s-0;l<0&&(l=0),n=new Array(l);for(var h=0;h<s;h++)n[h-0]=arguments[h];return $=function(){return a!==u?t.yieldX(a,t.to_a(n)):c(pt,"Opal").$destructure(n)}(),o=i(o,$)},r.$$s=n,r.$$arity=-1,r)),o},lt.$$arity=-1),t.def(_t,"$take",ct=function(t){var e=this;return e.$first(t)},ct.$$arity=1),t.def(_t,"$take_while",ht=function(){try{var e,r=this,n=ht.$$p,i=n||u,$=u;return n&&(ht.$$p=null),f(i)?($=[],d(r,"each",[],(e=function(r){var n,a=(e.$$s||this,u),o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<o;l++)n[l-0]=arguments[l];return a=c(pt,"Opal").$destructure(n),f(t.yield1(i,a))||t.ret($),$.push(a)},e.$$s=r,e.$$arity=-1,e))):r.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},ht.$$arity=0),t.def(_t,"$uniq",ft=function(){var e,r=this,n=ft.$$p,i=n||u,a=u;return n&&(ft.$$p=null),a=p([],{}),d(r,"each",[],(e=function(r){var n,o=(e.$$s||this,u),s=u,l=u,h=arguments.length,_=h-0;_<0&&(_=0),n=new Array(_);for(var p=0;p<h;p++)n[p-0]=arguments[p];return o=c(pt,"Opal").$destructure(n),s=function(){return i!==u?t.yield1(i,o):o}(),f(a["$key?"](s))?u:(l=[s,o],d(a,"[]=",t.to_a(l)),l[$(l.length,1)])},e.$$s=r,e.$$arity=-1,e)),a.$values()},ft.$$arity=0),t.alias(_t,"to_a","entries"),t.def(_t,"$zip",dt=function(e){var r,n=this,i=dt.$$p,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i&&(dt.$$p=null),d(n.$to_a(),"zip",t.to_a(r))},dt.$$arity=-1)}(s[0],s)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),o=t.breaker,s=t.slice,u=t.klass,l=t.truthy,c=t.send,h=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,f){function d(){}var _,p,y,m,g,v,b=d=u(n,i,"Enumerator",d),w=b.$$proto,E=[b].concat(f);return w.size=w.args=w.object=w.method=$,b.$include(a(E,"Enumerable")),w.$$is_enumerator=!0,t.defs(b,"$for",_=function(t,e,r){var n,i=this,a=_.$$p,o=a||$;null==e&&(e="each");var s=arguments.length,u=s-2;u<0&&(u=0),n=new Array(u);for(var l=2;l<s;l++)n[l-2]=arguments[l];a&&(_.$$p=null);var c=i.$allocate();return c.object=t,c.size=o,c.method=e,c.args=n,c},_.$$arity=-2),t.def(b,"$initialize",p=function(t){var e=this,r=p.$$p,n=r||$;return r&&(p.$$p=null),l(n)?(e.object=c(a(E,"Generator"),"new",[],n.$to_proc()),e.method="each",e.args=[],e.size=arguments[0]||$,l(e.size)?e.size=a(E,"Opal").$coerce_to(e.size,a(E,"Integer"),"to_int"):$):(e.object=arguments[0],e.method=arguments[1]||"each",e.args=s.call(arguments,2),e.size=$)},p.$$arity=-1),t.def(b,"$each",y=function(r){var n,i,a=this,o=y.$$p,s=o||$,u=arguments.length,h=u-0;h<0&&(h=0),i=new Array(h);for(var f=0;f<u;f++)i[f-0]=arguments[f];return o&&(y.$$p=null),l(l(n=s["$nil?"]())?i["$empty?"]():n)?a:(i=e(a.args,i),l(s["$nil?"]())?c(a.$class(),"new",[a.object,a.method].concat(t.to_a(i))):c(a.object,"__send__",[a.method].concat(t.to_a(i)),s.$to_proc()))},y.$$arity=-1),t.def(b,"$size",m=function(){var e=this;return l(a(E,"Proc")["$==="](e.size))?c(e.size,"call",t.to_a(e.args)):e.size},m.$$arity=0),t.def(b,"$with_index",g=function(t){var e,r=this,n=g.$$p,i=n||$;if(null==t&&(t=0),n&&(g.$$p=null),t=function(){return l(t)?a(E,"Opal").$coerce_to(t,a(E,"Integer"),"to_int"):0}(),!l(i))return c(r,"enum_for",["with_index",t],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var o=t;return r.$each.$$p=function(){var t=a(E,"Opal").$destructure(arguments),e=i(t,o);return o++,e},r.$each()},g.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.def(b,"$inspect",v=function(){var t=this,r=$;return r="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,l(t.args["$any?"]())&&(r=e(r,"("+t.args.$inspect()["$[]"](a(E,"Range").$new(1,-2))+")")),e(r,">")},v.$$arity=0),function(e,r,n){function i(){}var s,h,f=i=u(e,r,"Generator",i),d=f.$$proto,_=[f].concat(n);return d.block=$,f.$include(a(_,"Enumerable")),t.def(f,"$initialize",s=function(){var t=this,e=s.$$p,r=e||$;return e&&(s.$$p=null),l(r)||t.$raise(a(_,"LocalJumpError"),"no block given"),t.block=r},s.$$arity=0),t.def(f,"$each",h=function(e){var r,n=this,i=h.$$p,s=i||$,u=$,l=arguments.length,f=l-0;f<0&&(f=0),r=new Array(f);for(var d=0;d<l;d++)r[d-0]=arguments[d];i&&(h.$$p=null),u=c(a(_,"Yielder"),"new",[],s.$to_proc());try{r.unshift(u),t.yieldX(n.block,r)}catch(t){if(t===o)return o.$v;throw t}return n},h.$$arity=-1),$&&"each"}(E[0],null,E),function(e,r,n){function i(){}var a,s,l,h=i=u(e,r,"Yielder",i),f=h.$$proto;[h].concat(n);return f.block=$,t.def(h,"$initialize",a=function(){var t=this,e=a.$$p,r=e||$;return e&&(a.$$p=null),t.block=r},a.$$arity=0),t.def(h,"$yield",s=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];var s=t.yieldX(n.block,r);if(s===o)throw o;return s},s.$$arity=-1),t.def(h,"$<<",l=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];return c(n,"yield",t.to_a(r)),n},l.$$arity=-1),$&&"<<"}(E[0],null,E),function(n,i,o){function s(){}var f,d,_,p,y,m,g,v,b,w,E,k,x,A=s=u(n,i,"Lazy",s),O=A.$$proto,S=[A].concat(o);return O.enumerator=$,function(t,e,r){function n(){}var i=n=u(t,e,"StopLazyError",n);i.$$proto,[i].concat(r);return $}(S[0],a(S,"Exception"),S),t.def(A,"$initialize",f=function(e,r){var n,i=this,o=f.$$p,s=o||$;return null==r&&(r=$),o&&(f.$$p=null),s!==$||i.$raise(a(S,"ArgumentError"),"tried to call lazy new without a block"),i.enumerator=e,c(i,t.find_super_dispatcher(i,"initialize",f,!1),[r],(n=function(r,i){var o,u,l=n.$$s||this,h=arguments.length,f=h-1;f<0&&(f=0),o=new Array(f);for(var d=1;d<h;d++)o[d-1]=arguments[d];null==r&&(r=$);try{return c(e,"each",t.to_a(o),(u=function(e){var n,i=(u.$$s||this,arguments.length),$=i-0;$<0&&($=0),n=new Array($);for(var a=0;a<i;a++)n[a-0]=arguments[a];n.unshift(r),t.yieldX(s,n)},u.$$s=l,u.$$arity=-1,u))}catch(e){if(!t.rescue(e,[a(S,"Exception")]))throw e;try{return $}finally{t.pop_exception()}}},n.$$s=i,n.$$arity=-2,n))},f.$$arity=-2),t.alias(A,"force","to_a"),t.def(A,"$lazy",d=function(){var t=this;return t},d.$$arity=0),t.def(A,"$collect",_=function(){var e,r=this,n=_.$$p,i=n||$;return n&&(_.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy map without a block"),c(a(S,"Lazy"),"new",[r,r.$enumerator_size()],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var u=1;u<o;u++)a[u-1]=arguments[u];null==r&&(r=$);var l=t.yieldX(i,a);r.$yield(l)},e.$$s=r,e.$$arity=-2,e))},_.$$arity=0),t.def(A,"$collect_concat",p=function(){var e,r=this,n=p.$$p,i=n||$;return n&&(p.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy map without a block"),c(a(S,"Lazy"),"new",[r,$],(e=function(r,n){var o,s,u,l=e.$$s||this,h=arguments.length,f=h-1;f<0&&(f=0),o=new Array(f);for(var d=1;d<h;d++)o[d-1]=arguments[d];null==r&&(r=$);var _=t.yieldX(i,o);if(_["$respond_to?"]("force")&&_["$respond_to?"]("each"))c(_,"each",[],(s=function(t){s.$$s||this;return null==t&&(t=$),r.$yield(t)},s.$$s=l,s.$$arity=1,s));else{var p=a(S,"Opal").$try_convert(_,a(S,"Array"),"to_ary");p===$?r.$yield(_):c(_,"each",[],(u=function(t){u.$$s||this;return null==t&&(t=$),r.$yield(t)},u.$$s=l,u.$$arity=1,u))}},e.$$s=r,e.$$arity=-2,e))},p.$$arity=0),t.def(A,"$drop",y=function(n){var i,o=this,s=$,u=$,h=$;return n=a(S,"Opal").$coerce_to(n,a(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise(a(S,"ArgumentError"),"attempt to drop negative size"),s=o.$enumerator_size(),u=function(){return l(a(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),h=0,c(a(S,"Lazy"),"new",[o,u],(i=function(a,o){var s,u=(i.$$s||this,arguments.length),f=u-1;f<0&&(f=0),s=new Array(f);for(var d=1;d<u;d++)s[d-1]=arguments[d];return null==a&&(a=$),l(r(h,n))?h=e(h,1):c(a,"yield",t.to_a(s))},i.$$s=o,i.$$arity=-2,i))},y.$$arity=1),t.def(A,"$drop_while",m=function(){var e,r=this,n=m.$$p,i=n||$,o=$;return n&&(m.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy drop_while without a block"),o=!0,c(a(S,"Lazy"),"new",[r,$],(e=function(r,n){var a,s=(e.$$s||this,arguments.length),u=s-1;u<0&&(u=0),a=new Array(u);for(var f=1;f<s;f++)a[f-1]=arguments[f];if(null==r&&(r=$),!l(o))return c(r,"yield",t.to_a(a));var d=t.yieldX(i,a);h(d)&&(o=!1,c(r,"yield",t.to_a(a)))},e.$$s=r,e.$$arity=-2,e))},m.$$arity=0),t.def(A,"$enum_for",g=function(e,r){var n,i=this,a=g.$$p,o=a||$;null==e&&(e="each");var s=arguments.length,u=s-1;
u<0&&(u=0),n=new Array(u);for(var l=1;l<s;l++)n[l-1]=arguments[l];return a&&(g.$$p=null),c(i.$class(),"for",[i,e].concat(t.to_a(n)),o.$to_proc())},g.$$arity=-1),t.def(A,"$find_all",v=function(){var e,r=this,n=v.$$p,i=n||$;return n&&(v.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy select without a block"),c(a(S,"Lazy"),"new",[r,$],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var u=1;u<o;u++)a[u-1]=arguments[u];null==r&&(r=$);var h=t.yieldX(i,a);l(h)&&c(r,"yield",t.to_a(a))},e.$$s=r,e.$$arity=-2,e))},v.$$arity=0),t.alias(A,"flat_map","collect_concat"),t.def(A,"$grep",b=function(e){var r,n,i=this,o=b.$$p,s=o||$;return o&&(b.$$p=null),l(s)?c(a(S,"Lazy"),"new",[i,$],(r=function(n,i){var o,u=(r.$$s||this,arguments.length),c=u-1;c<0&&(c=0),o=new Array(c);for(var h=1;h<u;h++)o[h-1]=arguments[h];null==n&&(n=$);var f=a(S,"Opal").$destructure(o),d=e["$==="](f);l(d)&&(d=t.yield1(s,f),n.$yield(t.yield1(s,f)))},r.$$s=i,r.$$arity=-2,r)):c(a(S,"Lazy"),"new",[i,$],(n=function(t,r){var i,o=(n.$$s||this,arguments.length),s=o-1;s<0&&(s=0),i=new Array(s);for(var u=1;u<o;u++)i[u-1]=arguments[u];null==t&&(t=$);var c=a(S,"Opal").$destructure(i),h=e["$==="](c);l(h)&&t.$yield(c)},n.$$s=i,n.$$arity=-2,n))},b.$$arity=1),t.alias(A,"map","collect"),t.alias(A,"select","find_all"),t.def(A,"$reject",w=function(){var e,r=this,n=w.$$p,i=n||$;return n&&(w.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy reject without a block"),c(a(S,"Lazy"),"new",[r,$],(e=function(r,n){var a,o=(e.$$s||this,arguments.length),s=o-1;s<0&&(s=0),a=new Array(s);for(var u=1;u<o;u++)a[u-1]=arguments[u];null==r&&(r=$);var l=t.yieldX(i,a);h(l)&&c(r,"yield",t.to_a(a))},e.$$s=r,e.$$arity=-2,e))},w.$$arity=0),t.def(A,"$take",E=function(n){var i,o=this,s=$,u=$,h=$;return n=a(S,"Opal").$coerce_to(n,a(S,"Integer"),"to_int"),l(r(n,0))&&o.$raise(a(S,"ArgumentError"),"attempt to take negative size"),s=o.$enumerator_size(),u=function(){return l(a(S,"Integer")["$==="](s))&&l(r(n,s))?n:s}(),h=0,c(a(S,"Lazy"),"new",[o,u],(i=function(o,s){var u,f=i.$$s||this,d=arguments.length,_=d-1;_<0&&(_=0),u=new Array(_);for(var p=1;p<d;p++)u[p-1]=arguments[p];return null==o&&(o=$),l(r(h,n))?(c(o,"yield",t.to_a(u)),h=e(h,1)):f.$raise(a(S,"StopLazyError"))},i.$$s=o,i.$$arity=-2,i))},E.$$arity=1),t.def(A,"$take_while",k=function(){var e,r=this,n=k.$$p,i=n||$;return n&&(k.$$p=null),l(i)||r.$raise(a(S,"ArgumentError"),"tried to call lazy take_while without a block"),c(a(S,"Lazy"),"new",[r,$],(e=function(r,n){var o,s=e.$$s||this,u=arguments.length,h=u-1;h<0&&(h=0),o=new Array(h);for(var f=1;f<u;f++)o[f-1]=arguments[f];null==r&&(r=$);var d=t.yieldX(i,o);l(d)?c(r,"yield",t.to_a(o)):s.$raise(a(S,"StopLazyError"))},e.$$s=r,e.$$arity=-2,e))},k.$$arity=0),t.alias(A,"to_enum","enum_for"),t.def(A,"$inspect",x=function(){var t=this;return"#<"+t.$class()+": "+t.enumerator.$inspect()+">"},x.$$arity=0),$&&"inspect"}(E[0],b,E)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),h=t.truthy,f=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),a.$require("corelib/comparable"),function(a,o,d){function _(){}var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q=_=c(a,o,"Numeric",_),tt=(Q.$$proto,[Q].concat(d));return Q.$include(l(tt,"Comparable")),t.def(Q,"$coerce",p=function(t){var e=this;return h(t["$instance_of?"](e.$class()))?[t,e]:[e.$Float(t),e.$Float(e)]},p.$$arity=1),t.def(Q,"$__coerced__",y=function(e,r){var n,i,$=this,a=s,o=s,u=s;return h(r["$respond_to?"]("coerce"))?(i=r.$coerce($),n=t.to_ary(i),a=null==n[0]?s:n[0],o=null==n[1]?s:n[1],i,a.$__send__(e,o)):function(){return u=e,"+"["$==="](u)||"-"["$==="](u)||"*"["$==="](u)||"/"["$==="](u)||"%"["$==="](u)||"&"["$==="](u)||"|"["$==="](u)||"^"["$==="](u)||"**"["$==="](u)?$.$raise(l(tt,"TypeError"),""+r.$class()+" can't be coerced into Numeric"):">"["$==="](u)||">="["$==="](u)||"<"["$==="](u)||"<="["$==="](u)||"<=>"["$==="](u)?$.$raise(l(tt,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed"):s}()},y.$$arity=2),t.def(Q,"$<=>",m=function(t){var e=this;return h(e["$equal?"](t))?0:s},m.$$arity=1),t.def(Q,"$+@",g=function(){var t=this;return t},g.$$arity=0),t.def(Q,"$-@",v=function(){var t=this;return e(0,t)},v.$$arity=0),t.def(Q,"$%",b=function(t){var n=this;return e(n,r(t,n.$div(t)))},b.$$arity=1),t.def(Q,"$abs",w=function(){var t=this;return n(t,0)?t["$-@"]():t},w.$$arity=0),t.def(Q,"$abs2",E=function(){var t=this;return r(t,t)},E.$$arity=0),t.def(Q,"$angle",k=function(){var t=this;return n(t,0)?u(l(tt,"Math"),"PI"):0},k.$$arity=0),t.alias(Q,"arg","angle"),t.def(Q,"$ceil",x=function(t){var e=this;return null==t&&(t=0),e.$to_f().$ceil(t)},x.$$arity=-1),t.def(Q,"$conj",A=function(){var t=this;return t},A.$$arity=0),t.alias(Q,"conjugate","conj"),t.def(Q,"$denominator",O=function(){var t=this;return t.$to_r().$denominator()},O.$$arity=0),t.def(Q,"$div",S=function(t){var e=this;return t["$=="](0)&&e.$raise(l(tt,"ZeroDivisionError"),"divided by o"),i(e,t).$floor()},S.$$arity=1),t.def(Q,"$divmod",R=function(t){var e=this;return[e.$div(t),e["$%"](t)]},R.$$arity=1),t.def(Q,"$fdiv",I=function(t){var e=this;return i(e.$to_f(),t)},I.$$arity=1),t.def(Q,"$floor",T=function(t){var e=this;return null==t&&(t=0),e.$to_f().$floor(t)},T.$$arity=-1),t.def(Q,"$i",M=function(){var t=this;return t.$Complex(0,t)},M.$$arity=0),t.def(Q,"$imag",C=function(){return 0},C.$$arity=0),t.alias(Q,"imaginary","imag"),t.def(Q,"$integer?",N=function(){return!1},N.$$arity=0),t.alias(Q,"magnitude","abs"),t.alias(Q,"modulo","%"),t.def(Q,"$nonzero?",z=function(){var t=this;return h(t["$zero?"]())?s:t},z.$$arity=0),t.def(Q,"$numerator",B=function(){var t=this;return t.$to_r().$numerator()},B.$$arity=0),t.alias(Q,"phase","arg"),t.def(Q,"$polar",D=function(){var t=this;return[t.$abs(),t.$arg()]},D.$$arity=0),t.def(Q,"$quo",F=function(t){var e=this;return i(l(tt,"Opal")["$coerce_to!"](e,l(tt,"Rational"),"to_r"),t)},F.$$arity=1),t.def(Q,"$real",L=function(){var t=this;return t},L.$$arity=0),t.def(Q,"$real?",P=function(){return!0},P.$$arity=0),t.def(Q,"$rect",q=function(){var t=this;return[t,0]},q.$$arity=0),t.alias(Q,"rectangular","rect"),t.def(Q,"$round",j=function(t){var e=this;return e.$to_f().$round(t)},j.$$arity=-1),t.def(Q,"$to_c",U=function(){var t=this;return t.$Complex(t,0)},U.$$arity=0),t.def(Q,"$to_int",H=function(){var t=this;return t.$to_i()},H.$$arity=0),t.def(Q,"$truncate",G=function(t){var e=this;return null==t&&(t=0),e.$to_f().$truncate(t)},G.$$arity=-1),t.def(Q,"$zero?",Y=function(){var t=this;return t["$=="](0)},Y.$$arity=0),t.def(Q,"$positive?",W=function(){var t=this;return $(t,0)},W.$$arity=0),t.def(Q,"$negative?",X=function(){var t=this;return n(t,0)},X.$$arity=0),t.def(Q,"$dup",K=function(){var t=this;return t},K.$$arity=0),t.def(Q,"$clone",V=function(e){var r,n=this;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");e=f([],{})}return r=e.$$smap.freeze,null==r&&(r=!0),n},V.$$arity=-1),t.def(Q,"$finite?",J=function(){return!0},J.$$arity=0),t.def(Q,"$infinite?",Z=function(){return s},Z.$$arity=0),s&&"infinite?"}(o[0],null,o)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),h=t.truthy,f=t.hash2,d=t.send,_=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),a.$require("corelib/enumerable"),a.$require("corelib/numeric"),function(a,o,p){function y(){}function m(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function g(e,r){var n,i,$,a,o=e.length;return n=r.excl,i=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),$=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),i<0&&(i+=o,i<0)?s:i>o?s:$<0&&($+=o,$<0)?[]:(n||($+=1),a=e.slice(i,$),m(a,e.$class()))}function v(e,r,n){var i,$=e.length;return r=t.Opal.$coerce_to(r,t.Integer,"to_int"),r<0&&(r+=$,r<0)?s:void 0===n?r>=$||r<0?s:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"),n<0||r>$||r<0?s:(i=e.slice(r,r+n),m(i,e.$class())))}function b(t,e){return t===e||0===e?1:e>0&&t>e?b(t-1,e-1)+b(t-1,e):0}function w(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}var E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct,Nt,zt,Bt,Dt,Ft,Lt,Pt,qt,jt,Ut,Ht,Gt,Yt,Wt,Xt,Kt,Vt,Jt,Zt,Qt,te,ee,re,ne,ie,$e,ae,oe,se=y=c(a,o,"Array",y),ue=se.$$proto,le=[se].concat(p);return se.$include(l(le,"Enumerable")),ue.$$is_array=!0,t.defs(se,"$[]",E=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return m(e,r)},E.$$arity=-1),t.def(se,"$initialize",k=function(t,e){var r=this,n=k.$$p,i=n||s;if(null==t&&(t=s),null==e&&(e=s),n&&(k.$$p=null),e!==s&&i!==s&&r.$warn("warning: block supersedes default value argument"),t>u(l(le,"Integer"),"MAX")&&r.$raise(l(le,"ArgumentError"),"array size too big"),arguments.length>2&&r.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&r.$raise(l(le,"ArgumentError"),"negative array size"),r.splice(0,r.length);var $,a;if(i===s)for($=0;$<t;$++)r.push(e);else for($=0,a;$<t;$++)a=i($),r[$]=a;return r},k.$$arity=-1),t.defs(se,"$try_convert",x=function(t){return l(le,"Opal")["$coerce_to?"](t,l(le,"Array"),"to_ary")},x.$$arity=1),t.def(se,"$&",A=function(e){var r=this;e=function(){return h(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,$,a=[],o=f([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],void 0!==t.hash_delete(o,$)&&a.push($);return a},A.$$arity=1),t.def(se,"$|",O=function(e){var r=this;e=function(){return h(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}();var n,i,$=f([],{});for(n=0,i=r.length;n<i;n++)t.hash_put($,r[n],!0);for(n=0,i=e.length;n<i;n++)t.hash_put($,e[n],!0);return $.$keys()},O.$$arity=1),t.def(se,"$*",S=function(t){var e=this;if(h(t["$respond_to?"]("to_str")))return e.$join(t.$to_str());t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),h(t<0)&&e.$raise(l(le,"ArgumentError"),"negative argument");for(var r=[],n=e.$to_a(),i=0;i<t;i++)r=r.concat(n);return m(r,e.$class())},S.$$arity=1),t.def(se,"$+",R=function(t){var e=this;return t=function(){return h(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.concat(t)},R.$$arity=1),t.def(se,"$-",I=function(e){var r=this;if(e=function(){return h(l(le,"Array")["$==="](e))?e.$to_a():l(le,"Opal").$coerce_to(e,l(le,"Array"),"to_ary").$to_a()}(),h(0===r.length))return[];if(h(0===e.length))return r.slice();var n,i,$,a=[],o=f([],{});for(n=0,i=e.length;n<i;n++)t.hash_put(o,e[n],!0);for(n=0,i=r.length;n<i;n++)$=r[n],void 0===t.hash_get(o,$)&&a.push($);return a},I.$$arity=1),t.def(se,"$<<",T=function(t){var e=this;return e.push(t),e},T.$$arity=1),t.def(se,"$<=>",M=function(t){var e=this;if(h(l(le,"Array")["$==="](t)))t=t.$to_a();else{if(!h(t["$respond_to?"]("to_ary")))return s;t=t.$to_ary().$to_a()}if(e.$hash()===t.$hash())return 0;for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e[n]["$<=>"](t[n]);if(0!==i)return i}return e.length["$<=>"](t.length)},M.$$arity=1),t.def(se,"$==",C=function(t){function e(t,r){var i,$,a,o;if(t===r)return!0;if(!r.$$is_array)return!!l(le,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),r.constructor!==Array&&(r=r.$to_a()),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(a=t[i],o=r[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!n.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$=="](o))return!1;return!0}var r=this,n={};return e(r,t)},C.$$arity=1),t.def(se,"$[]",N=function(t,e){var r=this;return t.$$is_range?g(r,t):v(r,t,e)},N.$$arity=-2),t.def(se,"$[]=",z=function(t,e,r){var n,i=this,$=s,a=s,o=i.length;if(h(l(le,"Range")["$==="](t))){$=function(){return h(l(le,"Array")["$==="](e))?e.$to_a():h(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}();var u=t.excl,c=l(le,"Opal").$coerce_to(t.begin,l(le,"Integer"),"to_int"),f=l(le,"Opal").$coerce_to(t.end,l(le,"Integer"),"to_int");if(c<0&&(c+=o,c<0&&i.$raise(l(le,"RangeError"),""+t.$inspect()+" out of range")),f<0&&(f+=o),u||(f+=1),c>o)for(n=o;n<c;n++)i[n]=s;return f<0?i.splice.apply(i,[c,0].concat($)):i.splice.apply(i,[c,f-c].concat($)),e}h(void 0===r)?a=1:(a=e,e=r,$=function(){return h(l(le,"Array")["$==="](e))?e.$to_a():h(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]}());var d;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),a=l(le,"Opal").$coerce_to(a,l(le,"Integer"),"to_int"),t<0&&(d=t,t+=o,t<0&&i.$raise(l(le,"IndexError"),"index "+d+" too small for array; minimum "+-i.length)),a<0&&i.$raise(l(le,"IndexError"),"negative length ("+a+")"),t>o)for(n=o;n<t;n++)i[n]=s;return void 0===r?i[t]=e:i.splice.apply(i,[t,a].concat($)),e},z.$$arity=-3),t.def(se,"$any?",B=function(e){var r=this,n=B.$$p,i=s,$=s,a=s;for(n&&(B.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return 0!==r.length&&d(r,t.find_super_dispatcher(r,"any?",B,!1),i,n)},B.$$arity=-1),t.def(se,"$assoc",D=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&e[0]["$=="](t))return e;return s},D.$$arity=1),t.def(se,"$at",F=function(t){var e=this;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length?s:e[t]},F.$$arity=1),t.def(se,"$bsearch_index",L=function(){var e=this,r=L.$$p,n=r||s;if(r&&(L.$$p=null),n===s)return e.$enum_for("bsearch_index");for(var i,$,a,o=0,u=e.length,c=!1,h=s;o<u;){if(i=o+Math.floor((u-o)/2),$=e[i],a=t.yield1(n,$),a===!0)h=i,c=!0;else if(a===!1||a===s)c=!1;else if(a.$$is_number){if(0===a)return i;c=a<0}else e.$raise(l(le,"TypeError"),"wrong argument type "+a.$class()+" (must be numeric, true, false or nil)");c?u=i:o=i+1}return h},L.$$arity=0),t.def(se,"$bsearch",P=function(){var t=this,e=P.$$p,r=e||s,n=s;return e&&(P.$$p=null),r===s?t.$enum_for("bsearch"):(n=d(t,"bsearch_index",[],r.$to_proc()),null!=n&&n.$$is_number?t[n]:n)},P.$$arity=0),t.def(se,"$cycle",q=function(n){var i,$,a=this,o=q.$$p,c=o||s;if(null==n&&(n=s),o&&(q.$$p=null),c===s)return d(a,"enum_for",["cycle",n],(i=function(){var t=i.$$s||this;return h(n["$nil?"]())?u(l(le,"Float"),"INFINITY"):(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),h(e(n,0))?r(t.$enumerator_size(),n):0)},i.$$s=a,i.$$arity=0,i));if(h(h($=a["$empty?"]())?$:n["$=="](0)))return s;var f,_,p;if(n===s)for(;;)for(f=0,_=a.length;f<_;f++)p=t.yield1(c,a[f]);else{if(n=l(le,"Opal")["$coerce_to!"](n,l(le,"Integer"),"to_int"),n<=0)return a;for(;n>0;){for(f=0,_=a.length;f<_;f++)p=t.yield1(c,a[f]);n--}}return a},q.$$arity=-1),t.def(se,"$clear",j=function(){var t=this;return t.splice(0,t.length),t},j.$$arity=0),t.def(se,"$count",U=function(e){var r,n=this,i=U.$$p,$=i||s,a=s,o=s,u=s;for(null==e&&(e=s),i&&(U.$$p=null),o=0,u=arguments.length,a=new Array(u);o<u;o++)a[o]=arguments[o];return h(h(r=e)?r:$)?d(n,t.find_super_dispatcher(n,"count",U,!1),a,i):n.$size()},U.$$arity=-1),t.def(se,"$initialize_copy",H=function(t){var e=this;return e.$replace(t)},H.$$arity=1),t.def(se,"$collect",G=function(){var e,r=this,n=G.$$p,i=n||s;if(n&&(G.$$p=null),i===s)return d(r,"enum_for",["collect"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=[],a=0,o=r.length;a<o;a++){var u=t.yield1(i,r[a]);$.push(u)}return $},G.$$arity=0),t.def(se,"$collect!",Y=function(){var e,r=this,n=Y.$$p,i=n||s;if(n&&(Y.$$p=null),i===s)return d(r,"enum_for",["collect!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){var o=t.yield1(i,r[$]);r[$]=o}return r},Y.$$arity=0),t.def(se,"$combination",W=function(e){var r,n=this,i=W.$$p,$=i||s,a=s;if(i&&(W.$$p=null),a=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),$===s)return d(n,"enum_for",["combination",a],(r=function(){var t=r.$$s||this;return b(t.length,a)},r.$$s=n,r.$$arity=0,r));var o,u,c,h,f,_,p;if(0===a)t.yield1($,[]);else if(1===a)for(o=0,u=n.length;o<u;o++)t.yield1($,[n[o]]);else if(a===n.length)t.yield1($,n.slice());else if(a>=0&&a<n.length){for(c=[],o=0;o<=a+1;o++)c.push(0);for(h=[],f=0,_=!1,c[0]=-1;!_;){for(h[f]=n[c[f+1]];f<a-1;)f++,p=c[f+1]=c[f]+1,h[f]=n[p];t.yield1($,h.slice()),f++;do _=0===f,c[f]++,f--;while(c[f+1]+a===n.length+f+1)}}return n},W.$$arity=1),t.def(se,"$repeated_combination",X=function(e){function r(e,n,i,$){if(i.length==e){var o=i.slice();return void t.yield1(a,o)}for(var s=n;s<$.length;s++)i.push($[s]),r(e,s,i,$),i.pop()}var n,i=this,$=X.$$p,a=$||s,o=s;return $&&(X.$$p=null),o=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),a===s?d(i,"enum_for",["repeated_combination",o],(n=function(){var t=n.$$s||this;return b(t.length+o-1,o)},n.$$s=i,n.$$arity=0,n)):(o>=0&&r(o,0,[],i),i)},X.$$arity=1),t.def(se,"$compact",K=function(){for(var t,e=this,r=[],n=0,i=e.length;n<i;n++)(t=e[n])!==s&&r.push(t);return r},K.$$arity=0),t.def(se,"$compact!",V=function(){for(var t=this,e=t.length,r=0,n=t.length;r<n;r++)t[r]===s&&(t.splice(r,1),n--,r--);return t.length===e?s:t},V.$$arity=0),t.def(se,"$concat",J=function(t){var e,r,n,i=this,$=arguments.length,a=$-0;a<0&&(a=0),n=new Array(a);for(var o=0;o<$;o++)n[o-0]=arguments[o];return n=d(n,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),t=function(){return h(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),h(t["$equal?"](r))&&(t=t.$dup()),t},e.$$s=i,e.$$arity=1,e)),d(n,"each",[],(r=function(t){var e=r.$$s||this;null==t&&(t=s);for(var n=0,i=t.length;n<i;n++)e.push(t[n])},r.$$s=i,r.$$arity=1,r)),i},J.$$arity=-1),t.def(se,"$delete",Z=function(e){var r=this,n=Z.$$p,i=n||s;n&&(Z.$$p=null);for(var $=r.length,a=0,o=$;a<o;a++)r[a]["$=="](e)&&(r.splice(a,1),o--,a--);return r.length===$?i!==s?t.yieldX(i,[]):s:e},Z.$$arity=1),t.def(se,"$delete_at",Q=function(t){var e=this;if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=e.length),t<0||t>=e.length)return s;var r=e[t];return e.splice(t,1),r},Q.$$arity=1),t.def(se,"$delete_if",tt=function(){var t,e=this,r=tt.$$p,n=r||s;if(r&&(tt.$$p=null),n===s)return d(e,"enum_for",["delete_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,a=e.length;$<a;$++)i=n(e[$]),i!==!1&&i!==s&&(e.splice($,1),a--,$--);return e},tt.$$arity=0),t.def(se,"$dig",et=function(e,r){var n,i=this,$=s,a=arguments.length,o=a-1;o<0&&(o=0),n=new Array(o);for(var u=1;u<a;u++)n[u-1]=arguments[u];return $=i["$[]"](e),$===s||0===n.length?$:(h($["$respond_to?"]("dig"))||i.$raise(l(le,"TypeError"),""+$.$class()+" does not have #dig method"),d($,"dig",t.to_a(n)))},et.$$arity=-2),t.def(se,"$drop",rt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(t)},rt.$$arity=1),t.def(se,"$dup",nt=function(){var e=this,r=nt.$$p,n=s,i=s,$=s;for(r&&(nt.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return e.$$class===t.Array&&e.$$class.$allocate.$$pristine&&e.$copy_instance_variables.$$pristine&&e.$initialize_dup.$$pristine?e.slice(0):d(e,t.find_super_dispatcher(e,"dup",nt,!1),n,r)},nt.$$arity=0),t.def(se,"$each",it=function(){var e,r=this,n=it.$$p,i=n||s;if(n&&(it.$$p=null),i===s)return d(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){t.yield1(i,r[$])}return r},it.$$arity=0),t.def(se,"$each_index",$t=function(){var e,r=this,n=$t.$$p,i=n||s;if(n&&($t.$$p=null),i===s)return d(r,"enum_for",["each_index"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $=0,a=r.length;$<a;$++){t.yield1(i,$)}return r},$t.$$arity=0),t.def(se,"$empty?",at=function(){var t=this;return 0===t.length},at.$$arity=0),t.def(se,"$eql?",ot=function(t){function e(t,r){var i,$,a,o;if(!r.$$is_array)return!1;if(r=r.$to_a(),t.length!==r.length)return!1;for(n[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(a=t[i],o=r[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length)return!1;if(!n.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$eql?"](o))return!1;return!0}var r=this,n={};return e(r,t)},ot.$$arity=1),t.def(se,"$fetch",st=function(t,e){var r=this,n=st.$$p,i=n||s;n&&(st.$$p=null);var $=t;return t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&(t+=r.length),t>=0&&t<r.length?r[t]:(i!==s&&null!=e&&r.$warn("warning: block supersedes default value argument"),i!==s?i($):null!=e?e:void(0===r.length?r.$raise(l(le,"IndexError"),"index "+$+" outside of array bounds: 0...0"):r.$raise(l(le,"IndexError"),"index "+$+" outside of array bounds: -"+r.length+"..."+r.length)))},st.$$arity=-2),t.def(se,"$fill",ut=function(e){var r,n,i,$=this,a=ut.$$p,o=a||s,u=s,c=s,f=s,d=s,_=s,p=arguments.length,y=p-0;y<0&&(y=0),i=new Array(y);for(var m=0;m<p;m++)i[m-0]=arguments[m];a&&(ut.$$p=null);var g,v,b;if(h(o)?(h(i.length>2)&&$.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 0..2)"),n=i,r=t.to_ary(n),u=null==r[0]?s:r[0],c=null==r[1]?s:r[1],n):(h(0==i.length)?$.$raise(l(le,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):h(i.length>3)&&$.$raise(l(le,"ArgumentError"),"wrong number of arguments ("+i.$length()+" for 1..3)"),n=i,r=t.to_ary(n),f=null==r[0]?s:r[0],u=null==r[1]?s:r[1],c=null==r[2]?s:r[2],n),h(l(le,"Range")["$==="](u))){if(h(c)&&$.$raise(l(le,"TypeError"),"length invalid with range"),d=l(le,"Opal").$coerce_to(u.$begin(),l(le,"Integer"),"to_int"),h(d<0)&&(d+=this.length),h(d<0)&&$.$raise(l(le,"RangeError"),""+u.$inspect()+" out of range"),_=l(le,"Opal").$coerce_to(u.$end(),l(le,"Integer"),"to_int"),h(_<0)&&(_+=this.length),h(u["$exclude_end?"]())||(_+=1),h(_<=d))return $}else if(h(u))if(d=l(le,"Opal").$coerce_to(u,l(le,"Integer"),"to_int"),h(d<0)&&(d+=this.length),h(d<0)&&(d=0),h(c)){if(_=l(le,"Opal").$coerce_to(c,l(le,"Integer"),"to_int"),h(0==_))return $;_+=d}else _=this.length;else d=0,_=this.length;if(h(d>this.length))for(g=this.length;g<_;g++)$[g]=s;if(h(_>this.length)&&(this.length=_),h(o))for(v=this.length;d<_;d++)b=o(d),$[d]=b;else for(v=this.length;d<_;d++)$[d]=f;return $},ut.$$arity=-1),t.def(se,"$first",lt=function(t){var e=this;return null==t?0===e.length?s:e[0]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),e.slice(0,t))},lt.$$arity=-1),t.def(se,"$flatten",ct=function(t){function e(t,n){var i,$,a,o,u=[];for(t=t.$to_a(),i=0,$=t.length;i<$;i++)if(a=t[i],l(le,"Opal")["$respond_to?"](a,"to_ary",!0))if(o=a.$to_ary(),o!==s)switch(o.$$is_array||r.$raise(l(le,"TypeError")),o===r&&r.$raise(l(le,"ArgumentError")),n){case void 0:u=u.concat(e(o));break;case 0:u.push(o);break;default:u.push.apply(u,e(o,n-1))}else u.push(a);else u.push(a);return u}var r=this;return void 0!==t&&(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")),m(e(r,t),r.$class())},ct.$$arity=-1),t.def(se,"$flatten!",ht=function(t){var e=this,r=e.$flatten(t);if(e.length==r.length){for(var n=0,i=e.length;n<i&&e[n]===r[n];n++);if(n==i)return s}return e.$replace(r),e},ht.$$arity=-1),t.def(se,"$hash",ft=function(){var e,r,n,i=this,$=void 0===t.hash_ids,a=["A"],o=i.$object_id();try{if($&&(t.hash_ids=Object.create(null)),t.hash_ids[o])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],i["$eql?"](e))return"self";for(t.hash_ids[o]=i,r=0;r<i.length;r++)e=i[r],a.push(e.$hash());return a.join(",")}finally{$&&(t.hash_ids=void 0)}},ft.$$arity=0),t.def(se,"$include?",dt=function(t){for(var e=this,r=0,n=e.length;r<n;r++)if(e[r]["$=="](t))return!0;return!1},dt.$$arity=1),t.def(se,"$index",_t=function(t){var e=this,r=_t.$$p,n=r||s;r&&(_t.$$p=null);var i,$,a;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=0,$=e.length;i<$;i++)if(e[i]["$=="](t))return i}else{if(n===s)return e.$enum_for("index");for(i=0,$=e.length;i<$;i++)if(a=n(e[i]),a!==!1&&a!==s)return i}return s},_t.$$arity=-1),t.def(se,"$insert",pt=function(t,e){var r,n=this,i=arguments.length,$=i-1;$<0&&($=0),r=new Array($);for(var a=1;a<i;a++)r[a-1]=arguments[a];if(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r.length>0){if(t<0&&(t+=n.length+1,t<0&&n.$raise(l(le,"IndexError"),""+t+" is out of bounds")),t>n.length)for(var o=n.length;o<t;o++)n.push(s);n.splice.apply(n,[t,0].concat(r))}return n},pt.$$arity=-2),t.def(se,"$inspect",yt=function(){for(var t=this,e=[],r=t.$__id__(),n=0,i=t.length;n<i;n++){var $=t["$[]"](n);$.$__id__()===r?e.push("[...]"):e.push($.$inspect())}return"["+e.join(", ")+"]"},yt.$$arity=0),t.def(se,"$join",mt=function(e){var r=this;if(null==_[","]&&(_[","]=s),null==e&&(e=s),h(0===r.length))return"";h(e===s)&&(e=_[","]);var n,i,$,a,o=[];for(n=0,i=r.length;n<i;n++)$=r[n],l(le,"Opal")["$respond_to?"]($,"to_str")&&(a=$.$to_str(),a!==s)?o.push(a.$to_s()):l(le,"Opal")["$respond_to?"]($,"to_ary")&&(a=$.$to_ary(),a===r&&r.$raise(l(le,"ArgumentError")),a!==s)?o.push(a.$join(e)):l(le,"Opal")["$respond_to?"]($,"to_s")&&(a=$.$to_s(),a!==s)?o.push(a):r.$raise(l(le,"NoMethodError").$new(""+t.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===s?o.join(""):o.join(l(le,"Opal")["$coerce_to!"](e,l(le,"String"),"to_str").$to_s())},mt.$$arity=-1),t.def(se,"$keep_if",gt=function(){var t,e=this,r=gt.$$p,n=r||s;if(r&&(gt.$$p=null),n===s)return d(e,"enum_for",["keep_if"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,a=e.length;$<a;$++)i=n(e[$]),i!==!1&&i!==s||(e.splice($,1),a--,$--);return e},gt.$$arity=0),t.def(se,"$last",vt=function(t){var e=this;return null==t?0===e.length?s:e[e.length-1]:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),t<0&&e.$raise(l(le,"ArgumentError"),"negative array size"),t>e.length&&(t=e.length),e.slice(e.length-t,e.length))},vt.$$arity=-1),t.def(se,"$length",bt=function(){var t=this;return t.length},bt.$$arity=0),t.alias(se,"map","collect"),t.alias(se,"map!","collect!"),t.def(se,"$max",wt=function(t){var e=this,r=wt.$$p,n=r||s;return r&&(wt.$$p=null),d(e.$each(),"max",[t],n.$to_proc())},wt.$$arity=-1),t.def(se,"$min",Et=function(){var t=this,e=Et.$$p,r=e||s;return e&&(Et.$$p=null),d(t.$each(),"min",[],r.$to_proc())},Et.$$arity=0),t.def(se,"$permutation",kt=function(e){var r,n=this,i=kt.$$p,$=i||s,a=s,o=s;if(i&&(kt.$$p=null),$===s)return d(n,"enum_for",["permutation",e],(r=function(){var t=r.$$s||this;return w(t.length,void 0===e?t.length:e)},r.$$s=n,r.$$arity=0,r));var u,c,h;if(e=void 0===e?n.length:l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0||n.length<e);else if(0===e)t.yield1($,[]);else if(1===e)for(var f=0;f<n.length;f++)t.yield1($,[n[f]]);else a=l(le,"Array").$new(e),o=l(le,"Array").$new(n.length,!1),u=function(e,r,i,$,a){n=this;for(var o=0;o<n.length;o++)if($["$[]"](o)["$!"]())if(r[i]=o,i<e-1)$[o]=!0,u.call(n,e,r,i+1,$,a),$[o]=!1;else{h=[];for(var s=0;s<r.length;s++)h.push(n[r[s]]);t.yield1(a,h)}},$!==s?(c=n.slice(),u.call(c,e,a,0,o,$)):u.call(n,e,a,0,o,$);return n},kt.$$arity=-1),t.def(se,"$repeated_permutation",xt=function(e){function r(e,n,i){if(n.length==e){var $=n.slice();return void t.yield1(o,$)}for(var a=0;a<i.length;a++)n.push(i[a]),r(e,n,i),n.pop()}var i,$=this,a=xt.$$p,o=a||s,u=s;return a&&(xt.$$p=null),u=l(le,"Opal")["$coerce_to!"](e,l(le,"Integer"),"to_int"),o===s?d($,"enum_for",["repeated_permutation",u],(i=function(){var t=i.$$s||this;return h(n(u,0))?t.$size()["$**"](u):0},i.$$s=$,i.$$arity=0,i)):(r(u,[],$.slice()),$)},xt.$$arity=1),t.def(se,"$pop",At=function(t){var e=this;return h(void 0===t)?h(0===e.length)?s:e.pop():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),h(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),h(0===e.length)?[]:h(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},At.$$arity=-1),t.def(se,"$product",Ot=function(e){var r,n=this,i=Ot.$$p,$=i||s,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<a;u++)r[u-0]=arguments[u];i&&(Ot.$$p=null);var c,h,f,d,_=$!==s?null:[],p=r.length+1,y=new Array(p),m=new Array(p),g=new Array(p),v=1;for(g[0]=n,c=1;c<p;c++)g[c]=l(le,"Opal").$coerce_to(r[c-1],l(le,"Array"),"to_ary");for(c=0;c<p;c++){if(d=g[c].length,0===d)return _||n;v*=d,v>2147483647&&n.$raise(l(le,"RangeError"),"too big to product"),m[c]=d,y[c]=0}t:for(;;){for(f=[],c=0;c<p;c++)f.push(g[c][y[c]]);for(_?_.push(f):t.yield1($,f),h=p-1,y[h]++;y[h]===m[h];){if(y[h]=0,--h<0)break t;y[h]++}}return _||n},Ot.$$arity=-1),t.def(se,"$push",St=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=0,o=e.length;a<o;a++)r.push(e[a]);return r},St.$$arity=-1),t.alias(se,"append","push"),t.def(se,"$rassoc",Rt=function(t){for(var e,r=this,n=0,i=r.length;n<i;n++)if(e=r[n],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return s},Rt.$$arity=1),t.def(se,"$reject",It=function(){var t,e=this,r=It.$$p,n=r||s;if(r&&(It.$$p=null),n===s)return d(e,"enum_for",["reject"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=[],a=0,o=e.length;a<o;a++)i=n(e[a]),i!==!1&&i!==s||$.push(e[a]);return $},It.$$arity=0),t.def(se,"$reject!",Tt=function(){var t,e=this,r=Tt.$$p,n=r||s,i=s;return r&&(Tt.$$p=null),n===s?d(e,"enum_for",["reject!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):(i=e.$length(),d(e,"delete_if",[],n.$to_proc()),e.$length()["$=="](i)?s:e)},Tt.$$arity=0),t.def(se,"$replace",Mt=function(t){var e=this;return t=function(){return h(l(le,"Array")["$==="](t))?t.$to_a():l(le,"Opal").$coerce_to(t,l(le,"Array"),"to_ary").$to_a()}(),e.splice(0,e.length),e.push.apply(e,t),e},Mt.$$arity=1),t.def(se,"$reverse",Ct=function(){var t=this;return t.slice(0).reverse()},Ct.$$arity=0),t.def(se,"$reverse!",Nt=function(){var t=this;return t.reverse()},Nt.$$arity=0),t.def(se,"$reverse_each",zt=function(){var t,e=this,r=zt.$$p,n=r||s;return r&&(zt.$$p=null),n===s?d(e,"enum_for",["reverse_each"],(t=function(){var e=t.$$s||this;
return e.$size()},t.$$s=e,t.$$arity=0,t)):(d(e.$reverse(),"each",[],n.$to_proc()),e)},zt.$$arity=0),t.def(se,"$rindex",Bt=function(t){var e=this,r=Bt.$$p,n=r||s;r&&(Bt.$$p=null);var i,$;if(null!=t&&n!==s&&e.$warn("warning: given block not used"),null!=t){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if(e[i]["$=="](t))return i}else if(n!==s){for(i=e.length-1;i>=0&&!(i>=e.length);i--)if($=n(e[i]),$!==!1&&$!==s)return i}else if(null==t)return e.$enum_for("rindex");return s},Bt.$$arity=-1),t.def(se,"$rotate",Dt=function(t){var e=this;null==t&&(t=1),t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int");var r,n,i,$;return 1===e.length?e.slice():0===e.length?[]:(r=e.slice(),n=t%r.length,i=r.slice(n),$=r.slice(0,n),i.concat($))},Dt.$$arity=-1),t.def(se,"$rotate!",Ft=function(t){var e=this,r=s;return null==t&&(t=1),0===e.length||1===e.length?e:(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),r=e.$rotate(t),e.$replace(r))},Ft.$$arity=-1),function(e,r,n){function i(){}var $,a,o=i=c(e,r,"SampleRandom",i),u=o.$$proto,f=[o].concat(n);return u.rng=s,t.def(o,"$initialize",$=function(t){var e=this;return e.rng=t},$.$$arity=1),t.def(o,"$rand",a=function(t){var e=this,r=s;return r=l(f,"Opal").$coerce_to(e.rng.$rand(t),l(f,"Integer"),"to_int"),h(r<0)&&e.$raise(l(f,"RangeError"),"random value must be >= 0"),h(r<t)||e.$raise(l(f,"RangeError"),"random value must be less than Array size"),r},a.$$arity=1),s&&"rand"}(le[0],null,le),t.def(se,"$sample",Lt=function(t,e){var r,n=this,i=s,$=s;if(h(void 0===t))return n.$at(l(le,"Kernel").$rand(n.length));if(h(void 0===e)?h(i=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"))?(e=i,t=s):(e=s,t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int")):(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Hash"),"to_hash")),h(h(r=t)?t<0:r)&&n.$raise(l(le,"ArgumentError"),"count must be greater than 0"),h(e)&&($=e["$[]"]("random")),$=function(){return h(h(r=$)?$["$respond_to?"]("rand"):r)?l(le,"SampleRandom").$new($):l(le,"Kernel")}(),!h(t))return n[$.$rand(n.length)];var a,o,u,c,f,d,_,p;switch(t>n.length&&(t=n.length),t){case 0:return[];case 1:return[n[$.$rand(n.length)]];case 2:return c=$.$rand(n.length),f=$.$rand(n.length),c===f&&(f=0===c?c+1:c-1),[n[c],n[f]];default:if(n.length/t>3){for(a=!1,o=0,u=l(le,"Array").$new(t),c=1,u[0]=$.$rand(n.length);c<t;){for(d=$.$rand(n.length),f=0;f<c;){for(;d===u[f];){if(o++,o>100){a=!0;break}d=$.$rand(n.length)}if(a)break;f++}if(a)break;u[c]=d,c++}if(!a){for(c=0;c<t;)u[c]=n[u[c]],c++;return u}}u=n.slice();for(var y=0;y<t;y++)_=$.$rand(n.length),p=u[y],u[y]=u[_],u[_]=p;return t===n.length?u:u["$[]"](0,t)}},Lt.$$arity=-1),t.def(se,"$select",Pt=function(){var e,r=this,n=Pt.$$p,i=n||s;if(n&&(Pt.$$p=null),i===s)return d(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,a,o=[],u=0,l=r.length;u<l;u++)$=r[u],a=t.yield1(i,$),a!==!1&&a!==s&&o.push($);return o},Pt.$$arity=0),t.def(se,"$select!",qt=function(){var t,e=this,r=qt.$$p,n=r||s;if(r&&(qt.$$p=null),n===s)return d(e,"enum_for",["select!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));var i=e.length;return d(e,"keep_if",[],n.$to_proc()),e.length===i?s:e},qt.$$arity=0),t.def(se,"$shift",jt=function(t){var e=this;return h(void 0===t)?h(0===e.length)?s:e.shift():(t=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),h(t<0)&&e.$raise(l(le,"ArgumentError"),"negative array size"),h(0===e.length)?[]:e.splice(0,t))},jt.$$arity=-1),t.alias(se,"size","length"),t.def(se,"$shuffle",Ut=function(t){var e=this;return e.$dup().$to_a()["$shuffle!"](t)},Ut.$$arity=-1),t.def(se,"$shuffle!",Ht=function(t){var e,r,n,i=this,$=i.length;for(void 0!==t&&(t=l(le,"Opal")["$coerce_to?"](t,l(le,"Hash"),"to_hash"),t!==s&&(t=t["$[]"]("random"),t!==s&&t["$respond_to?"]("rand")&&(e=t)));$;)e?(r=e.$rand($).$to_int(),r<0&&i.$raise(l(le,"RangeError"),"random number too small "+r),r>=$&&i.$raise(l(le,"RangeError"),"random number too big "+r)):r=i.$rand($),n=i[--$],i[$]=i[r],i[r]=n;return i},Ht.$$arity=-1),t.alias(se,"slice","[]"),t.def(se,"$slice!",Gt=function(t,e){var r=this,n=s,i=s,$=s,a=s,o=s;if(n=s,h(void 0===e))if(h(l(le,"Range")["$==="](t))){i=t,n=r["$[]"](i),$=l(le,"Opal").$coerce_to(i.$begin(),l(le,"Integer"),"to_int"),a=l(le,"Opal").$coerce_to(i.$end(),l(le,"Integer"),"to_int"),$<0&&($+=r.length),a<0?a+=r.length:a>=r.length&&(a=r.length-1,i.excl&&(a+=1));var u=a-$;i.excl?a-=1:u+=1,$<r.length&&$>=0&&a<r.length&&a>=0&&u>0&&r.splice($,u)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),o<0&&(o+=r.length),o<0||o>=r.length)return s;n=r[o],0===o?r.shift():r.splice(o,1)}else{if(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),e=l(le,"Opal").$coerce_to(e,l(le,"Integer"),"to_int"),e<0)return s;n=r["$[]"](o,e),o<0&&(o+=r.length),o+e>r.length&&(e=r.length-o),o<r.length&&o>=0&&r.splice(o,e)}return n},Gt.$$arity=-2),t.def(se,"$sort",Yt=function(){var t=this,r=Yt.$$p,n=r||s;return r&&(Yt.$$p=null),h(t.length>1)?(n===s&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,$){var a=n(r,$);return a===s&&t.$raise(l(le,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(a,0)?1:i(a,0)?-1:0})):t},Yt.$$arity=0),t.def(se,"$sort!",Wt=function(){var t=this,e=Wt.$$p,r=e||s;e&&(Wt.$$p=null);var n;n=r!==s?d(t.slice(),"sort",[],r.$to_proc()):t.slice().$sort(),t.length=0;for(var i=0,$=n.length;i<$;i++)t.push(n[i]);return t},Wt.$$arity=0),t.def(se,"$sort_by!",Xt=function(){var t,e=this,r=Xt.$$p,n=r||s;return r&&(Xt.$$p=null),n===s?d(e,"enum_for",["sort_by!"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t)):e.$replace(d(e,"sort_by",[],n.$to_proc()))},Xt.$$arity=0),t.def(se,"$take",Kt=function(t){var e=this;return t<0&&e.$raise(l(le,"ArgumentError")),e.slice(0,t)},Kt.$$arity=1),t.def(se,"$take_while",Vt=function(){var t=this,e=Vt.$$p,r=e||s;e&&(Vt.$$p=null);for(var n,i,$=[],a=0,o=t.length;a<o;a++){if(n=t[a],i=r(n),i===!1||i===s)return $;$.push(n)}return $},Vt.$$arity=0),t.def(se,"$to_a",Jt=function(){var t=this;return t},Jt.$$arity=0),t.alias(se,"to_ary","to_a"),t.def(se,"$to_h",Zt=function(){var e,r,n,i,$=this,a=$.length,o=f([],{});for(e=0;e<a;e++)r=l(le,"Opal")["$coerce_to?"]($[e],l(le,"Array"),"to_ary"),r.$$is_array||$.$raise(l(le,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&$.$raise(l(le,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},Zt.$$arity=0),t.alias(se,"to_s","inspect"),t.def(se,"$transpose",Qt=function(){var e,r=this,n=s,i=s;return h(r["$empty?"]())?[]:(n=[],i=s,d(r,"each",[],(e=function(r){var a,o,u=e.$$s||this;return null==r&&(r=s),r=function(){return h(l(le,"Array")["$==="](r))?r.$to_a():l(le,"Opal").$coerce_to(r,l(le,"Array"),"to_ary").$to_a()}(),i=h(a=i)?a:r.length,h(r.length["$!="](i))&&u.$raise(l(le,"IndexError"),"element size differs ("+r.length+" should be "+i+")"),d(r.length,"times",[],(o=function(e){var i,a=(o.$$s||this,s),u=s;return null==e&&(e=s),a=h(i=n["$[]"](e))?i:(u=[e,[]],d(n,"[]=",t.to_a(u)),u[$(u.length,1)]),a["$<<"](r.$at(e))},o.$$s=u,o.$$arity=1,o))},e.$$s=r,e.$$arity=1,e)),n)},Qt.$$arity=0),t.def(se,"$uniq",te=function(){var e=this,r=te.$$p,n=r||s;r&&(te.$$p=null);var i,$,a,o,u=f([],{});if(n===s)for(i=0,$=e.length;i<$;i++)a=e[i],void 0===t.hash_get(u,a)&&t.hash_put(u,a,a);else for(i=0,$=e.length;i<$;i++)a=e[i],o=t.yield1(n,a),void 0===t.hash_get(u,o)&&t.hash_put(u,o,a);return m(u.$values(),e.$class())},te.$$arity=0),t.def(se,"$uniq!",ee=function(){var e=this,r=ee.$$p,n=r||s;r&&(ee.$$p=null);var i,$,a,o,u=e.length,l=f([],{});for(i=0,$=u;i<$;i++)a=e[i],o=n===s?a:t.yield1(n,a),void 0!==t.hash_get(l,o)?(e.splice(i,1),$--,i--):t.hash_put(l,o,a);return e.length===u?s:e},ee.$$arity=0),t.def(se,"$unshift",re=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];for(var a=e.length-1;a>=0;a--)r.unshift(e[a]);return r},re.$$arity=-1),t.alias(se,"prepend","unshift"),t.def(se,"$values_at",ne=function(t){var e,r,n=this,i=s,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i=[],d(r,"each",[],(e=function(t){var r,n=e.$$s||this,$=s,a=s,o=s;return null==t&&(t=s),h(t["$is_a?"](l(le,"Range")))?($=l(le,"Opal").$coerce_to(t.$last(),l(le,"Integer"),"to_int"),a=l(le,"Opal").$coerce_to(t.$first(),l(le,"Integer"),"to_int"),a<0?(a+=n.length,s):($<0&&($+=n.length),t["$exclude_end?"]()&&$--,$<a?s:d(a,"upto",[$],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),i["$<<"](e.$at(t))},r.$$s=n,r.$$arity=1,r)))):(o=l(le,"Opal").$coerce_to(t,l(le,"Integer"),"to_int"),i["$<<"](n.$at(o)))},e.$$s=n,e.$$arity=1,e)),i},ne.$$arity=-1),t.def(se,"$zip",ie=function(t){var e,r,n=this,i=ie.$$p,$=i||s,a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var u=0;u<a;u++)r[u-0]=arguments[u];i&&(ie.$$p=null);var c,f,d,_,p,y=[],m=n.length;for(_=0,p=r.length;_<p;_++)f=r[_],f.$$is_array||(f.$$is_enumerator?f.$size()===1/0?r[_]=f.$take(m):r[_]=f.$to_a():r[_]=(h(e=l(le,"Opal")["$coerce_to?"](f,l(le,"Array"),"to_ary"))?e:l(le,"Opal")["$coerce_to!"](f,l(le,"Enumerator"),"each")).$to_a());for(d=0;d<m;d++){for(c=[n[d]],_=0,p=r.length;_<p;_++)f=r[_][d],null==f&&(f=s),c[_+1]=f;y[d]=c}if($!==s){for(d=0;d<m;d++)$(y[d]);return s}return y},ie.$$arity=-1),t.defs(se,"$inherited",$e=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},$e.$$arity=1),t.def(se,"$instance_variables",ae=function(){var e,r=this,n=ae.$$p,i=s,$=s,a=s;for(n&&(ae.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return d(d(r,t.find_super_dispatcher(r,"instance_variables",ae,!1),i,n),"reject",[],(e=function(t){var r;e.$$s||this;return null==t&&(t=s),h(r=/^@\d+$/.test(t))?r:t["$=="]("@length")},e.$$s=r,e.$$arity=1,e))},ae.$$arity=0),l(le,"Opal").$pristine(se.$singleton_class(),"allocate"),l(le,"Opal").$pristine(se,"copy_instance_variables","initialize_dup"),t.def(se,"$pack",oe=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},oe.$$arity=-1),s&&"pack"}(o[0],Array,o)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,$=[],a=t.nil,o=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.klass),u=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),i.$require("corelib/enumerable"),function(i,$,h){function f(){}var d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt=f=s(i,$,"Hash",f),Et=wt.$$proto,kt=[wt].concat(h);wt.$include(o(kt,"Enumerable")),Et.$$is_hash=!0,t.defs(wt,"$[]",d=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];var s,u,l=e.length;if(1===l){if(s=o(kt,"Opal")["$coerce_to?"](e["$[]"](0),o(kt,"Hash"),"to_hash"),s!==a)return r.$allocate()["$merge!"](s);for(e=o(kt,"Opal")["$coerce_to?"](e["$[]"](0),o(kt,"Array"),"to_ary"),e===a&&r.$raise(o(kt,"ArgumentError"),"odd number of arguments for Hash"),l=e.length,s=r.$allocate(),u=0;u<l;u++)if(e[u].$$is_array)switch(e[u].length){case 1:s.$store(e[u][0],a);break;case 2:s.$store(e[u][0],e[u][1]);break;default:r.$raise(o(kt,"ArgumentError"),"invalid number of elements ("+e[u].length+" for 1..2)")}return s}for(l%2!==0&&r.$raise(o(kt,"ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),u=0;u<l;u+=2)s.$store(e[u],e[u+1]);return s},d.$$arity=-1),t.defs(wt,"$allocate",_=function(){var e=this,r=new e.$$alloc;return t.hash_init(r),r.$$none=a,r.$$proc=a,r},_.$$arity=0),t.defs(wt,"$try_convert",p=function(t){return o(kt,"Opal")["$coerce_to?"](t,o(kt,"Hash"),"to_hash")},p.$$arity=1),t.def(wt,"$initialize",y=function(t){var e=this,r=y.$$p,n=r||a;return r&&(y.$$p=null),void 0!==t&&n!==a&&e.$raise(o(kt,"ArgumentError"),"wrong number of arguments (1 for 0)"),e.$$none=void 0===t?a:t,e.$$proc=n,e},y.$$arity=-1),t.def(wt,"$==",m=function(e){var r=this;if(r===e)return!0;if(!e.$$is_hash)return!1;if(r.$$keys.length!==e.$$keys.length)return!1;for(var n,i,$,a=0,o=r.$$keys,s=o.length;a<s;a++)if(n=o[a],n.$$is_string?(i=r.$$smap[n],$=e.$$smap[n]):(i=n.value,$=t.hash_get(e,n.key)),void 0===$||!i["$eql?"]($))return!1;return!0},m.$$arity=1),t.def(wt,"$>=",g=function(t){var e,r=this,n=a;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),!(r.$$keys.length<t.$$keys.length)&&(n=!0,u(t,"each",[],(e=function(t,r){var i=e.$$s||this,$=a;if(null==t&&(t=a),null==r&&(r=a),$=i.$fetch(t,null),null==$||$!==r)return void(n=!1)},e.$$s=r,e.$$arity=2,e)),n)},g.$$arity=1),t.def(wt,"$>",v=function(t){var r=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),!(r.$$keys.length<=t.$$keys.length)&&e(r,t)},v.$$arity=1),t.def(wt,"$<",b=function(t){var e=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),r(t,e)},b.$$arity=1),t.def(wt,"$<=",w=function(t){var r=this;return t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Hash"),"to_hash"),e(t,r)},w.$$arity=1),t.def(wt,"$[]",E=function(e){var r=this,n=t.hash_get(r,e);return void 0!==n?n:r.$default(e)},E.$$arity=1),t.def(wt,"$[]=",k=function(e,r){var n=this;return t.hash_put(n,e,r),r},k.$$arity=2),t.def(wt,"$assoc",x=function(t){for(var e,r=this,n=0,i=r.$$keys,$=i.length;n<$;n++)if(e=i[n],e.$$is_string){if(e["$=="](t))return[e,r.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return a},x.$$arity=1),t.def(wt,"$clear",A=function(){var e=this;return t.hash_init(e),e},A.$$arity=0),t.def(wt,"$clone",O=function(){var e=this,r=new e.$$class.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},O.$$arity=0),t.def(wt,"$compact",S=function(){for(var e,r,n=this,i=t.hash(),$=0,o=n.$$keys,s=o.length;$<s;$++)e=o[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r!==a&&t.hash_put(i,e,r);return i},S.$$arity=0),t.def(wt,"$compact!",R=function(){for(var e,r,n=this,i=!1,$=0,o=n.$$keys,s=o.length;$<s;$++)e=o[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r===a&&void 0!==t.hash_delete(n,e)&&(i=!0,s--,$--);return i?n:a},R.$$arity=0),t.def(wt,"$compare_by_identity",I=function(){var e,r,n,i,$=this,a=$.$$keys;if($.$$by_identity)return $;if(0===$.$$keys.length)return $.$$by_identity=!0,$;for(i=l([],{}).$compare_by_identity(),e=0,r=a.length;e<r;e++)n=a[e],n.$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get($,n));return $.$$by_identity=!0,$.$$map=i.$$map,$.$$smap=i.$$smap,$},I.$$arity=0),t.def(wt,"$compare_by_identity?",T=function(){var t=this;return t.$$by_identity===!0},T.$$arity=0),t.def(wt,"$default",M=function(t){var e=this;return void 0!==t&&e.$$proc!==a&&void 0!==e.$$proc?e.$$proc.$call(e,t):void 0===e.$$none?a:e.$$none},M.$$arity=-1),t.def(wt,"$default=",C=function(t){var e=this;return e.$$proc=a,e.$$none=t,t},C.$$arity=1),t.def(wt,"$default_proc",N=function(){var t=this;return void 0!==t.$$proc?t.$$proc:a},N.$$arity=0),t.def(wt,"$default_proc=",z=function(t){var e=this,r=t;return r!==a&&(r=o(kt,"Opal")["$coerce_to!"](r,o(kt,"Proc"),"to_proc"),r["$lambda?"]()&&2!==r.$arity().$abs()&&e.$raise(o(kt,"TypeError"),"default_proc takes two arguments")),e.$$none=a,e.$$proc=r,t},z.$$arity=1),t.def(wt,"$delete",B=function(e){var r=this,n=B.$$p,i=n||a;n&&(B.$$p=null);var $=t.hash_delete(r,e);return void 0!==$?$:i!==a?t.yield1(i,e):a},B.$$arity=1),t.def(wt,"$delete_if",D=function(){var e,r=this,n=D.$$p,i=n||a;if(n&&(D.$$p=null),!c(i))return u(r,"enum_for",["delete_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=0,h=r.$$keys,f=h.length;l<f;l++)$=h[l],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&void 0!==t.hash_delete(r,$)&&(f--,l--);return r},D.$$arity=0),t.alias(wt,"dup","clone"),t.def(wt,"$dig",F=function(e,r){var n,i=this,$=a,s=arguments.length,l=s-1;l<0&&(l=0),n=new Array(l);for(var h=1;h<s;h++)n[h-1]=arguments[h];return $=i["$[]"](e),$===a||0===n.length?$:(c($["$respond_to?"]("dig"))||i.$raise(o(kt,"TypeError"),""+$.$class()+" does not have #dig method"),u($,"dig",t.to_a(n)))},F.$$arity=-2),t.def(wt,"$each",L=function(){var e,r=this,n=L.$$p,i=n||a;if(n&&(L.$$p=null),!c(i))return u(r,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=0,l=r.$$keys,h=l.length;s<h;s++)$=l[s],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),t.yield1(i,[$,o]);return r},L.$$arity=0),t.def(wt,"$each_key",P=function(){var t,e=this,r=P.$$p,n=r||a;if(r&&(P.$$p=null),!c(n))return u(e,"enum_for",["each_key"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,o=e.$$keys,s=o.length;$<s;$++)i=o[$],n(i.$$is_string?i:i.key);return e},P.$$arity=0),t.alias(wt,"each_pair","each"),t.def(wt,"$each_value",q=function(){var t,e=this,r=q.$$p,n=r||a;if(r&&(q.$$p=null),!c(n))return u(e,"enum_for",["each_value"],(t=function(){var e=t.$$s||this;return e.$size()},t.$$s=e,t.$$arity=0,t));for(var i,$=0,o=e.$$keys,s=o.length;$<s;$++)i=o[$],n(i.$$is_string?e.$$smap[i]:i.value);return e},q.$$arity=0),t.def(wt,"$empty?",j=function(){var t=this;return 0===t.$$keys.length},j.$$arity=0),t.alias(wt,"eql?","=="),t.def(wt,"$fetch",U=function(e,r){var n=this,i=U.$$p,$=i||a;i&&(U.$$p=null);var s=t.hash_get(n,e);return void 0!==s?s:$!==a?$(e):void 0!==r?r:n.$raise(o(kt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:n})))},U.$$arity=-2),t.def(wt,"$fetch_values",H=function(t){var e,r,n=this,i=H.$$p,$=i||a,o=arguments.length,s=o-0;s<0&&(s=0),r=new Array(s);for(var l=0;l<o;l++)r[l-0]=arguments[l];return i&&(H.$$p=null),u(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=a),u(r,"fetch",[t],$.$to_proc())},e.$$s=n,e.$$arity=1,e))},H.$$arity=-1),t.def(wt,"$flatten",G=function(t){var e=this;null==t&&(t=1),t=o(kt,"Opal")["$coerce_to!"](t,o(kt,"Integer"),"to_int");for(var r,n,i=[],$=0,a=e.$$keys,s=a.length;$<s;$++)if(r=a[$],r.$$is_string?n=e.$$smap[r]:(n=r.value,r=r.key),i.push(r),n.$$is_array){if(1===t){i.push(n);continue}i=i.concat(n.$flatten(t-2))}else i.push(n);return i},G.$$arity=-1),t.def(wt,"$has_key?",Y=function(e){var r=this;return void 0!==t.hash_get(r,e)},Y.$$arity=1),t.def(wt,"$has_value?",W=function(t){for(var e,r=this,n=0,i=r.$$keys,$=i.length;n<$;n++)if(e=i[n],(e.$$is_string?r.$$smap[e]:e.value)["$=="](t))return!0;return!1},W.$$arity=1),t.def(wt,"$hash",X=function(){var e,r,n=this,i=void 0===t.hash_ids,$=n.$object_id(),a=["Hash"];try{if(i&&(t.hash_ids=Object.create(null)),t[$])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],n["$eql?"](r))return"self";t.hash_ids[$]=n;for(var o=0,s=n.$$keys,u=s.length;o<u;o++)e=s[o],e.$$is_string?a.push([e,n.$$smap[e].$hash()]):a.push([e.key_hash,e.value.$hash()]);return a.sort().join()}finally{i&&(t.hash_ids=void 0)}},X.$$arity=0),t.alias(wt,"include?","has_key?"),t.def(wt,"$index",K=function(t){for(var e,r,n=this,i=0,$=n.$$keys,o=$.length;i<o;i++)if(e=$[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return a},K.$$arity=1),t.def(wt,"$indexes",V=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];for(var o,s,u=[],l=0,c=r.length;l<c;l++)o=r[l],s=t.hash_get(n,o),void 0!==s?u.push(s):u.push(n.$default());return u},V.$$arity=-1),t.alias(wt,"indices","indexes");var xt;return t.def(wt,"$inspect",J=function(){var t=this,e=void 0===xt,r=t.$object_id(),n=[];try{if(e&&(xt={}),xt.hasOwnProperty(r))return"{...}";xt[r]=!0;for(var i,$,a=0,o=t.$$keys,s=o.length;a<s;a++)i=o[a],i.$$is_string?$=t.$$smap[i]:($=i.value,i=i.key),n.push(i.$inspect()+"=>"+$.$inspect());return"{"+n.join(", ")+"}"}finally{e&&(xt=void 0)}},J.$$arity=0),t.def(wt,"$invert",Z=function(){for(var e,r,n=this,i=t.hash(),$=0,a=n.$$keys,o=a.length;$<o;$++)e=a[$],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),t.hash_put(i,r,e);return i},Z.$$arity=0),t.def(wt,"$keep_if",Q=function(){var e,r=this,n=Q.$$p,i=n||a;if(n&&(Q.$$p=null),!c(i))return u(r,"enum_for",["keep_if"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=0,h=r.$$keys,f=h.length;l<f;l++)$=h[l],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||void 0!==t.hash_delete(r,$)&&(f--,l--);return r},Q.$$arity=0),t.alias(wt,"key","index"),t.alias(wt,"key?","has_key?"),t.def(wt,"$keys",tt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,$=i.length;n<$;n++)t=i[n],t.$$is_string?r.push(t):r.push(t.key);return r},tt.$$arity=0),t.def(wt,"$length",et=function(){var t=this;return t.$$keys.length},et.$$arity=0),t.alias(wt,"member?","has_key?"),t.def(wt,"$merge",rt=function(t){var e=this,r=rt.$$p,n=r||a;return r&&(rt.$$p=null),u(e.$dup(),"merge!",[t],n.$to_proc())},rt.$$arity=1),t.def(wt,"$merge!",nt=function(e){var r=this,n=nt.$$p,i=n||a;n&&(nt.$$p=null),e.$$is_hash||(e=o(kt,"Opal")["$coerce_to!"](e,o(kt,"Hash"),"to_hash"));var $,s,u,l,c=e.$$keys,h=c.length;if(i===a){for($=0;$<h;$++)s=c[$],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),t.hash_put(r,s,l);return r}for($=0;$<h;$++)s=c[$],s.$$is_string?l=e.$$smap[s]:(l=s.value,s=s.key),u=t.hash_get(r,s),void 0!==u?t.hash_put(r,s,i(s,u,l)):t.hash_put(r,s,l);return r},nt.$$arity=1),t.def(wt,"$rassoc",it=function(t){for(var e,r,n=this,i=0,$=n.$$keys,o=$.length;i<o;i++)if(e=$[i],e.$$is_string?r=n.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return a},it.$$arity=1),t.def(wt,"$rehash",$t=function(){var e=this;return t.hash_rehash(e),e},$t.$$arity=0),t.def(wt,"$reject",at=function(){var e,r=this,n=at.$$p,i=n||a;if(n&&(at.$$p=null),!c(i))return u(r,"enum_for",["reject"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=t.hash(),h=0,f=r.$$keys,d=f.length;h<d;h++)$=f[h],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||t.hash_put(l,$,o);return l},at.$$arity=0),t.def(wt,"$reject!",ot=function(){var e,r=this,n=ot.$$p,i=n||a;if(n&&(ot.$$p=null),!c(i))return u(r,"enum_for",["reject!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=!1,h=0,f=r.$$keys,d=f.length;h<d;h++)$=f[h],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&void 0!==t.hash_delete(r,$)&&(l=!0,d--,h--);return l?r:a},ot.$$arity=0),t.def(wt,"$replace",st=function(e){var r=this,i=a;e=o(kt,"Opal")["$coerce_to!"](e,o(kt,"Hash"),"to_hash"),t.hash_init(r);for(var $,s,l=0,h=e.$$keys,f=h.length;l<f;l++)$=h[l],$.$$is_string?s=e.$$smap[$]:(s=$.value,$=$.key),t.hash_put(r,$,s);return c(e.$default_proc())?(i=[e.$default_proc()],u(r,"default_proc=",t.to_a(i)),i[n(i.length,1)]):(i=[e.$default()],u(r,"default=",t.to_a(i)),i[n(i.length,1)]),r},st.$$arity=1),t.def(wt,"$select",ut=function(){var e,r=this,n=ut.$$p,i=n||a;if(n&&(ut.$$p=null),!c(i))return u(r,"enum_for",["select"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=t.hash(),h=0,f=r.$$keys,d=f.length;h<d;h++)$=f[h],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a&&t.hash_put(l,$,o);return l},ut.$$arity=0),t.def(wt,"$select!",lt=function(){var e,r=this,n=lt.$$p,i=n||a;if(n&&(lt.$$p=null),!c(i))return u(r,"enum_for",["select!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s,l=a,h=0,f=r.$$keys,d=f.length;h<d;h++)$=f[h],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),s=i($,o),s!==!1&&s!==a||(void 0!==t.hash_delete(r,$)&&(d--,h--),l=r);return l},lt.$$arity=0),t.def(wt,"$shift",ct=function(){var e,r=this,n=r.$$keys;return n.length>0?(e=n[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(r,e)]):r.$default(a)},ct.$$arity=0),t.alias(wt,"size","length"),t.def(wt,"$slice",ht=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];for(var o=t.hash(),s=0,u=r.length;s<u;s++){var l=r[s],c=t.hash_get(n,l);void 0!==c&&t.hash_put(o,l,c)}return o},ht.$$arity=-1),t.alias(wt,"store","[]="),t.def(wt,"$to_a",ft=function(){for(var t,e,r=this,n=[],i=0,$=r.$$keys,a=$.length;i<a;i++)t=$[i],t.$$is_string?e=r.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},ft.$$arity=0),t.def(wt,"$to_h",dt=function(){var e=this;if(e.$$class===t.Hash)return e;var r=new t.Hash.$$alloc;return t.hash_init(r),t.hash_clone(e,r),r},dt.$$arity=0),t.def(wt,"$to_hash",_t=function(){var t=this;return t},_t.$$arity=0),t.def(wt,"$to_proc",pt=function(){var t,e=this;return u(e,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise(o(kt,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=e,t.$$arity=-1,t))},pt.$$arity=0),t.alias(wt,"to_s","inspect"),t.def(wt,"$transform_keys",yt=function(){var e,r=this,n=yt.$$p,i=n||a;if(n&&(yt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=t.hash(),l=0,h=r.$$keys,f=h.length;l<f;l++)$=h[l],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),$=t.yield1(i,$),t.hash_put(s,$,o);return s},yt.$$arity=0),t.def(wt,"$transform_keys!",mt=function(){var e,r=this,n=mt.$$p,i=n||a;if(n&&(mt.$$p=null),!c(i))return u(r,"enum_for",["transform_keys!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));var $,o,s,l,h=t.slice.call(r.$$keys),f=h.length;for($=0;$<f;$++)o=h[$],o.$$is_string?s=r.$$smap[o]:(s=o.value,o=o.key),l=t.yield1(i,o),t.hash_delete(r,o),t.hash_put(r,l,s);return r},mt.$$arity=0),t.def(wt,"$transform_values",gt=function(){var e,r=this,n=gt.$$p,i=n||a;if(n&&(gt.$$p=null),!c(i))return u(r,"enum_for",["transform_values"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=t.hash(),l=0,h=r.$$keys,f=h.length;l<f;l++)$=h[l],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),o=t.yield1(i,o),t.hash_put(s,$,o);return s},gt.$$arity=0),t.def(wt,"$transform_values!",vt=function(){var e,r=this,n=vt.$$p,i=n||a;if(n&&(vt.$$p=null),!c(i))return u(r,"enum_for",["transform_values!"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=r,e.$$arity=0,e));for(var $,o,s=0,l=r.$$keys,h=l.length;s<h;s++)$=l[s],$.$$is_string?o=r.$$smap[$]:(o=$.value,$=$.key),o=t.yield1(i,o),t.hash_put(r,$,o);return r},vt.$$arity=0),t.alias(wt,"update","merge!"),t.alias(wt,"value?","has_value?"),t.alias(wt,"values_at","indexes"),t.def(wt,"$values",bt=function(){for(var t,e=this,r=[],n=0,i=e.$$keys,$=i.length;n<$;n++)t=i[n],t.$$is_string?r.push(e.$$smap[t]):r.push(t.value);return r},bt.$$arity=0),a&&"values"}($[0],null,$)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,h=t.const_get_qualified,f=t.const_get_relative,d=(t.breaker,t.slice,t.klass),_=t.truthy,p=t.send,y=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),u.$require("corelib/numeric"),function(u,l,m){function g(){}var v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct,Nt,zt,Bt,Dt,Ft=g=d(u,l,"Number",g),Lt=(Ft.$$proto,[Ft].concat(m));f(Lt,"Opal").$bridge(Ft,Number),Number.prototype.$$is_number=!0,Ft.$$is_number_class=!0,function(e,r){var n,i=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(f(i,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),c}(t.get_singleton_class(Ft),Lt),t.def(Ft,"$coerce",v=function(t){var e=this;if(t===c)e.$raise(f(Lt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[e.$Float(t),e];if(t["$respond_to?"]("to_f"))return[f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Float"),"to_f"),e];if(t.$$is_number)return[t,e];e.$raise(f(Lt,"TypeError"),"can't convert "+t.$class()+" into Float")}},v.$$arity=1),t.def(Ft,"$__id__",b=function(){var t=this;return 2*t+1},b.$$arity=0),t.alias(Ft,"object_id","__id__"),t.def(Ft,"$+",w=function(t){var e=this;return t.$$is_number?e+t:e.$__coerced__("+",t)},w.$$arity=1),t.def(Ft,"$-",E=function(t){var e=this;return t.$$is_number?e-t:e.$__coerced__("-",t)},E.$$arity=1),t.def(Ft,"$*",k=function(t){var e=this;return t.$$is_number?e*t:e.$__coerced__("*",t)},k.$$arity=1),t.def(Ft,"$/",x=function(t){var e=this;return t.$$is_number?e/t:e.$__coerced__("/",t)},x.$$arity=1),t.alias(Ft,"fdiv","/"),t.def(Ft,"$%",A=function(t){var e=this;return t.$$is_number?t==-(1/0)?t:0!=t?t<0||e<0?(e%t+t)%t:e%t:void e.$raise(f(Lt,"ZeroDivisionError"),"divided by 0"):e.$__coerced__("%",t)},A.$$arity=1),t.def(Ft,"$&",O=function(t){var e=this;return t.$$is_number?e&t:e.$__coerced__("&",t)},O.$$arity=1),t.def(Ft,"$|",S=function(t){var e=this;return t.$$is_number?e|t:e.$__coerced__("|",t)},S.$$arity=1),t.def(Ft,"$^",R=function(t){var e=this;return t.$$is_number?e^t:e.$__coerced__("^",t)},R.$$arity=1),t.def(Ft,"$<",I=function(t){var e=this;return t.$$is_number?e<t:e.$__coerced__("<",t)},I.$$arity=1),t.def(Ft,"$<=",T=function(t){var e=this;return t.$$is_number?e<=t:e.$__coerced__("<=",t)},T.$$arity=1),t.def(Ft,"$>",M=function(t){var e=this;return t.$$is_number?e>t:e.$__coerced__(">",t)},M.$$arity=1),t.def(Ft,"$>=",C=function(t){var e=this;return t.$$is_number?e>=t:e.$__coerced__(">=",t)},C.$$arity=1);var Pt=function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?c:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)};return t.def(Ft,"$<=>",N=function(e){var r=this;try{return Pt(r,e)}catch(e){if(!t.rescue(e,[f(Lt,"ArgumentError")]))throw e;try{return c}finally{t.pop_exception()}}},N.$$arity=1),t.def(Ft,"$<<",z=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),t>0?e<<t:e>>-t},z.$$arity=1),t.def(Ft,"$>>",B=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),t>0?e>>t:e<<-t},B.$$arity=1),t.def(Ft,"$[]",D=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),t<0?0:t>=32?e<0?1:0:e>>t&1},D.$$arity=1),t.def(Ft,"$+@",F=function(){var t=this;return+t},F.$$arity=0),t.def(Ft,"$-@",L=function(){var t=this;return-t},L.$$arity=0),t.def(Ft,"$~",P=function(){var t=this;return~t},P.$$arity=0),t.def(Ft,"$**",q=function(t){var n,i,$=this;return _(f(Lt,"Integer")["$==="](t))?_(_(n=f(Lt,"Integer")["$==="]($)["$!"]())?n:e(t,0))?Math.pow($,t):f(Lt,"Rational").$new($,1)["$**"](t):_((n=r($,0))?_(i=f(Lt,"Float")["$==="](t))?i:f(Lt,"Rational")["$==="](t):r($,0))?f(Lt,"Complex").$new($,0)["$**"](t.$to_f()):_(null!=t.$$is_number)?Math.pow($,t):$.$__coerced__("**",t)},q.$$arity=1),t.def(Ft,"$===",j=function(t){var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},j.$$arity=1),t.def(Ft,"$==",U=function(t){
var e=this;return t.$$is_number?e.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](e)},U.$$arity=1),t.def(Ft,"$abs",H=function(){var t=this;return Math.abs(t)},H.$$arity=0),t.def(Ft,"$abs2",G=function(){var t=this;return Math.abs(t*t)},G.$$arity=0),t.def(Ft,"$allbits?",Y=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),(e&t)==t},Y.$$arity=1),t.def(Ft,"$anybits?",W=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),0!==(e&t)},W.$$arity=1),t.def(Ft,"$angle",X=function(){var t=this;return _(t["$nan?"]())?t:0==t?1/t>0?0:Math.PI:t<0?Math.PI:0},X.$$arity=0),t.alias(Ft,"arg","angle"),t.alias(Ft,"phase","angle"),t.def(Ft,"$bit_length",K=function(){var t=this;if(_(f(Lt,"Integer")["$==="](t))||t.$raise(f(Lt,"NoMethodError").$new("undefined method `bit_length` for "+t+":Float","bit_length")),0===t||t===-1)return 0;for(var e=0,r=t<0?~t:t;0!=r;)e+=1,r>>>=1;return e},K.$$arity=0),t.def(Ft,"$ceil",V=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.ceil(r*n)/n;return r%1===0&&(i=Math.round(i)),i},V.$$arity=-1),t.def(Ft,"$chr",J=function(t){var e=this;return String.fromCharCode(e)},J.$$arity=-1),t.def(Ft,"$denominator",Z=function(){var e,r=this,n=Z.$$p,i=c,$=c,a=c;for(n&&(Z.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return _(_(e=r["$nan?"]())?e:r["$infinite?"]())?1:p(r,t.find_super_dispatcher(r,"denominator",Z,!1),i,n)},Z.$$arity=0),t.def(Ft,"$downto",Q=function(t){var r,$=this,a=Q.$$p,o=a||c;if(a&&(Q.$$p=null),o===c)return p($,"enum_for",["downto",t],(r=function(){var $=r.$$s||this;return _(f(Lt,"Numeric")["$==="](t))||$.$raise(f(Lt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(e(t,$))?0:n(i($,t),1)},r.$$s=$,r.$$arity=0,r));t.$$is_number||$.$raise(f(Lt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed");for(var s=$;s>=t;s--)o(s);return $},Q.$$arity=1),t.alias(Ft,"eql?","=="),t.def(Ft,"$equal?",tt=function(t){var e,r=this;return _(e=r["$=="](t))?e:isNaN(r)&&isNaN(t)},tt.$$arity=1),t.def(Ft,"$even?",et=function(){var t=this;return t%2===0},et.$$arity=0),t.def(Ft,"$floor",rt=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=Math.floor(r*n)/n;return r%1===0&&(i=Math.round(i)),i},rt.$$arity=-1),t.def(Ft,"$gcd",nt=function(t){var e=this;_(f(Lt,"Integer")["$==="](t))||e.$raise(f(Lt,"TypeError"),"not an integer");for(var r=Math.abs(e),n=Math.abs(t);r>0;){var i=r;r=n%r,n=i}return n},nt.$$arity=1),t.def(Ft,"$gcdlcm",it=function(t){var e=this;return[e.$gcd(),e.$lcm()]},it.$$arity=1),t.def(Ft,"$integer?",$t=function(){var t=this;return t%1===0},$t.$$arity=0),t.def(Ft,"$is_a?",at=function(e){var r,n=this,i=at.$$p,$=c,a=c,o=c;for(i&&(at.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return!!_((r=e["$=="](f(Lt,"Integer")))?f(Lt,"Integer")["$==="](n):e["$=="](f(Lt,"Integer")))||(!!_((r=e["$=="](f(Lt,"Integer")))?f(Lt,"Integer")["$==="](n):e["$=="](f(Lt,"Integer")))||(!!_((r=e["$=="](f(Lt,"Float")))?f(Lt,"Float")["$==="](n):e["$=="](f(Lt,"Float")))||p(n,t.find_super_dispatcher(n,"is_a?",at,!1),$,i)))},at.$$arity=1),t.alias(Ft,"kind_of?","is_a?"),t.def(Ft,"$instance_of?",ot=function(e){var r,n=this,i=ot.$$p,$=c,a=c,o=c;for(i&&(ot.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return!!_((r=e["$=="](f(Lt,"Integer")))?f(Lt,"Integer")["$==="](n):e["$=="](f(Lt,"Integer")))||(!!_((r=e["$=="](f(Lt,"Integer")))?f(Lt,"Integer")["$==="](n):e["$=="](f(Lt,"Integer")))||(!!_((r=e["$=="](f(Lt,"Float")))?f(Lt,"Float")["$==="](n):e["$=="](f(Lt,"Float")))||p(n,t.find_super_dispatcher(n,"instance_of?",ot,!1),$,i)))},ot.$$arity=1),t.def(Ft,"$lcm",st=function(t){var e=this;return _(f(Lt,"Integer")["$==="](t))||e.$raise(f(Lt,"TypeError"),"not an integer"),0==e||0==t?0:Math.abs(e*t/e.$gcd(t))},st.$$arity=1),t.alias(Ft,"magnitude","abs"),t.alias(Ft,"modulo","%"),t.def(Ft,"$next",ut=function(){var t=this;return t+1},ut.$$arity=0),t.def(Ft,"$nobits?",lt=function(t){var e=this;return t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),0==(e&t)},lt.$$arity=1),t.def(Ft,"$nonzero?",ct=function(){var t=this;return 0==t?c:t},ct.$$arity=0),t.def(Ft,"$numerator",ht=function(){var e,r=this,n=ht.$$p,i=c,$=c,a=c;for(n&&(ht.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return _(_(e=r["$nan?"]())?e:r["$infinite?"]())?r:p(r,t.find_super_dispatcher(r,"numerator",ht,!1),i,n)},ht.$$arity=0),t.def(Ft,"$odd?",ft=function(){var t=this;return t%2!==0},ft.$$arity=0),t.def(Ft,"$ord",dt=function(){var t=this;return t},dt.$$arity=0),t.def(Ft,"$pow",_t=function(t,e){var r=this;return 0==r&&r.$raise(f(Lt,"ZeroDivisionError"),"divided by 0"),void 0===e?r["$**"](t):(f(Lt,"Integer")["$==="](t)||r.$raise(f(Lt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&r.$raise(f(Lt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),f(Lt,"Integer")["$==="](e)||r.$raise(f(Lt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&r.$raise(f(Lt,"ZeroDivisionError"),"divided by 0"),r["$**"](t)["$%"](e))},_t.$$arity=-2),t.def(Ft,"$pred",pt=function(){var t=this;return t-1},pt.$$arity=0),t.def(Ft,"$quo",yt=function(e){var r=this,n=yt.$$p,i=c,a=c,o=c;for(n&&(yt.$$p=null),a=0,o=arguments.length,i=new Array(o);a<o;a++)i[a]=arguments[a];return _(f(Lt,"Integer")["$==="](r))?p(r,t.find_super_dispatcher(r,"quo",yt,!1),i,n):$(r,e)},yt.$$arity=1),t.def(Ft,"$rationalize",mt=function(e){var r,n,$=this,o=c,s=c;return arguments.length>1&&$.$raise(f(Lt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(f(Lt,"Integer")["$==="]($))?f(Lt,"Rational").$new($,1):_($["$infinite?"]())?$.$raise(f(Lt,"FloatDomainError"),"Infinity"):_($["$nan?"]())?$.$raise(f(Lt,"FloatDomainError"),"NaN"):_(null==e)?(n=f(Lt,"Math").$frexp($),r=t.to_ary(n),o=null==r[0]?c:r[0],s=null==r[1]?c:r[1],n,o=f(Lt,"Math").$ldexp(o,h(f(Lt,"Float"),"MANT_DIG")).$to_i(),s=i(s,h(f(Lt,"Float"),"MANT_DIG")),f(Lt,"Rational").$new(a(2,o),1["$<<"](i(1,s))).$rationalize(f(Lt,"Rational").$new(1,1["$<<"](i(1,s))))):$.$to_r().$rationalize(e)},mt.$$arity=-1),t.def(Ft,"$remainder",gt=function(t){var e=this;return i(e,a(t,$(e,t).$truncate()))},gt.$$arity=1),t.def(Ft,"$round",vt=function(a){var u,l,d=this,p=c,y=c;if(_(f(Lt,"Integer")["$==="](d))){if(_(null==a))return d;if(_(_(u=f(Lt,"Float")["$==="](a))?a["$infinite?"]():u)&&d.$raise(f(Lt,"RangeError"),"Infinity"),a=f(Lt,"Opal")["$coerce_to!"](a,f(Lt,"Integer"),"to_int"),_(r(a,h(f(Lt,"Integer"),"MIN")))&&d.$raise(f(Lt,"RangeError"),"out of bounds"),_(a>=0))return d;if(a=a["$-@"](),.415241*a-.125>d.$size())return 0;var m=Math.pow(10,a),g=Math.floor((Math.abs(g)+m/2)/m)*m;return d<0?-g:g}if(_(_(u=d["$nan?"]())?null==a:u)&&d.$raise(f(Lt,"FloatDomainError"),"NaN"),a=f(Lt,"Opal")["$coerce_to!"](a||0,f(Lt,"Integer"),"to_int"),_(o(a,0)))_(d["$nan?"]())?d.$raise(f(Lt,"RangeError"),"NaN"):_(d["$infinite?"]())&&d.$raise(f(Lt,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(d);if(_(_(u=d["$nan?"]())?u:d["$infinite?"]()))return d}return l=f(Lt,"Math").$frexp(d),u=t.to_ary(l),p=null==u[0]?c:u[0],y=null==u[1]?c:u[1],l,_(s(a,i(n(h(f(Lt,"Float"),"DIG"),2),function(){return _(e(y,0))?$(y,4):i($(y,3),1)}())))?d:_(r(a,function(){return _(e(y,0))?n($(y,3),1):$(y,4)}()["$-@"]()))?0:Math.round(d*Math.pow(10,a))/Math.pow(10,a)},vt.$$arity=-1),t.def(Ft,"$step",bt=function(e,r,n){function i(){void 0!==u&&(d=u),void 0===d&&(d=c),_===c&&m.$raise(f(Lt,"TypeError"),"step must be numeric"),0===_&&m.$raise(f(Lt,"ArgumentError"),"step can't be 0"),void 0!==l&&(_=l),_!==c&&null!=_||(_=1);var t=_["$<=>"](0);t===c&&m.$raise(f(Lt,"ArgumentError"),"0 can't be coerced into "+_.$class()),d!==c&&null!=d||(d=t>0?h(f(Lt,"Float"),"INFINITY"):h(f(Lt,"Float"),"INFINITY")["$-@"]()),f(Lt,"Opal").$compare(m,d)}function $(){if(_>0&&m>d||_<0&&m<d)return 0;if(_===1/0||_===-(1/0))return 1;var t=Math.abs,e=Math.floor,r=(t(m)+t(d)+t(d-m))/t(_)*h(f(Lt,"Float"),"EPSILON");return r===1/0||r===-(1/0)?0:(r>.5&&(r=.5),e((d-m)/_+r)+1)}function a(){if(i(),0===_)return 1/0;if(_%1!==0)return $();if(_>0&&m>d||_<0&&m<d)return 0;var t=Math.ceil,e=Math.abs,r=e(m-d)+1,n=e(_);return t(r/n)}var o,s,u,l,d,_,m=this,g=bt.$$p,v=g||c,b=c,w=c;if(s=t.slice.call(arguments,0,arguments.length),n=t.extract_kwargs(s),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=y([],{})}if(u=n.$$smap.to,l=n.$$smap.by,0<s.length&&(d=s.splice(0,1)[0]),0<s.length&&(_=s.splice(0,1)[0]),g&&(bt.$$p=null),void 0!==d&&void 0!==u&&m.$raise(f(Lt,"ArgumentError"),"to is given twice"),void 0!==_&&void 0!==l&&m.$raise(f(Lt,"ArgumentError"),"step is given twice"),v===c)return b=[],w=y([],{}),void 0!==d&&b.push(d),void 0!==_&&b.push(_),void 0!==u&&t.hash_put(w,"to",u),void 0!==l&&t.hash_put(w,"by",l),w["$any?"]()&&b.push(w),p(m,"enum_for",["step"].concat(t.to_a(b)),(o=function(){o.$$s||this;return a()},o.$$s=m,o.$$arity=0,o));if(i(),0===_)for(;;)v(m);if(m%1!==0||d%1!==0||_%1!==0){var E=$();if(E>0)if(_===1/0||_===-(1/0))v(m);else{var k,x=0;if(_>0)for(;x<E;)k=x*_+m,d<k&&(k=d),v(k),x+=1;else for(;x<E;)k=x*_+m,d>k&&(k=d),v(k),x+=1}}else{var A=m;if(_>0)for(;A<=d;)v(A),A+=_;else for(;A>=d;)v(A),A+=_}return m},bt.$$arity=-1),t.alias(Ft,"succ","next"),t.def(Ft,"$times",wt=function(){var t,e=this,r=wt.$$p,n=r||c;if(r&&(wt.$$p=null),!_(n))return p(e,"enum_for",["times"],(t=function(){var e=t.$$s||this;return e},t.$$s=e,t.$$arity=0,t));for(var i=0;i<e;i++)n(i);return e},wt.$$arity=0),t.def(Ft,"$to_f",Et=function(){var t=this;return t},Et.$$arity=0),t.def(Ft,"$to_i",kt=function(){var t=this;return parseInt(t,10)},kt.$$arity=0),t.alias(Ft,"to_int","to_i"),t.def(Ft,"$to_r",xt=function(){var e,r,n=this,$=c,o=c;return _(f(Lt,"Integer")["$==="](n))?f(Lt,"Rational").$new(n,1):(r=f(Lt,"Math").$frexp(n),e=t.to_ary(r),$=null==e[0]?c:e[0],o=null==e[1]?c:e[1],r,$=f(Lt,"Math").$ldexp($,h(f(Lt,"Float"),"MANT_DIG")).$to_i(),o=i(o,h(f(Lt,"Float"),"MANT_DIG")),a($,h(f(Lt,"Float"),"RADIX")["$**"](o)).$to_r())},xt.$$arity=0),t.def(Ft,"$to_s",At=function(t){var n,i=this;return null==t&&(t=10),t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),_(_(n=r(t,2))?n:e(t,36))&&i.$raise(f(Lt,"ArgumentError"),"invalid radix "+t),i.toString(t)},At.$$arity=-1),t.def(Ft,"$truncate",Ot=function(t){var e=this;null==t&&(t=0);var r=e.$to_f();if(r%1===0&&t>=0)return r;var n=Math.pow(10,t),i=parseInt(r*n,10)/n;return r%1===0&&(i=Math.round(i)),i},Ot.$$arity=-1),t.alias(Ft,"inspect","to_s"),t.def(Ft,"$digits",St=function(t){var e=this;null==t&&(t=10),r(e,0)&&e.$raise(h(f(Lt,"Math"),"DomainError"),"out of domain"),t=f(Lt,"Opal")["$coerce_to!"](t,f(Lt,"Integer"),"to_int"),_(r(t,2))&&e.$raise(f(Lt,"ArgumentError"),"invalid radix "+t);for(var n=e,i=[];0!==n;)i.push(n%t),n=parseInt(n/t,10);return i},St.$$arity=-1),t.def(Ft,"$divmod",Rt=function(e){var r,n=this,i=Rt.$$p,$=c,a=c,o=c;for(i&&(Rt.$$p=null),a=0,o=arguments.length,$=new Array(o);a<o;a++)$[a]=arguments[a];return _(_(r=n["$nan?"]())?r:e["$nan?"]())?n.$raise(f(Lt,"FloatDomainError"),"NaN"):_(n["$infinite?"]())?n.$raise(f(Lt,"FloatDomainError"),"Infinity"):p(n,t.find_super_dispatcher(n,"divmod",Rt,!1),$,i)},Rt.$$arity=1),t.def(Ft,"$upto",It=function(t){var e,$=this,a=It.$$p,o=a||c;if(a&&(It.$$p=null),o===c)return p($,"enum_for",["upto",t],(e=function(){var $=e.$$s||this;return _(f(Lt,"Numeric")["$==="](t))||$.$raise(f(Lt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(r(t,$))?0:n(i(t,$),1)},e.$$s=$,e.$$arity=0,e));t.$$is_number||$.$raise(f(Lt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed");for(var s=$;s<=t;s++)o(s);return $},It.$$arity=1),t.def(Ft,"$zero?",Tt=function(){var t=this;return 0==t},Tt.$$arity=0),t.def(Ft,"$size",Mt=function(){return 4},Mt.$$arity=0),t.def(Ft,"$nan?",Ct=function(){var t=this;return isNaN(t)},Ct.$$arity=0),t.def(Ft,"$finite?",Nt=function(){var t=this;return t!=1/0&&t!=-(1/0)&&!isNaN(t)},Nt.$$arity=0),t.def(Ft,"$infinite?",zt=function(){var t=this;return t==1/0?1:t==-(1/0)?-1:c},zt.$$arity=0),t.def(Ft,"$positive?",Bt=function(){var t=this;return 0!=t&&(t==1/0||1/t>0)},Bt.$$arity=0),t.def(Ft,"$negative?",Dt=function(){var t=this;return t==-(1/0)||1/t<0},Dt.$$arity=0),c&&"negative?"}(l[0],f(l,"Numeric"),l),t.const_set(l[0],"Fixnum",f(l,"Number")),function(e,r,n){function i(){}var $=i=d(e,r,"Integer",i),a=($.$$proto,[$].concat(n));return $.$$is_number_class=!0,function(e,r){var n,i,$,a=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(f(a,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1===0},i.$$arity=1),t.def(e,"$sqrt",$=function(t){var e=this;return t=f(a,"Opal")["$coerce_to!"](t,f(a,"Integer"),"to_int"),t<0&&e.$raise(h(f(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},$.$$arity=1),c&&"sqrt"}(t.get_singleton_class($),a),t.const_set(a[0],"MAX",Math.pow(2,30)-1),t.const_set(a[0],"MIN",-Math.pow(2,30))}(l[0],f(l,"Numeric"),l),function(e,r,n){function i(){}var $=i=d(e,r,"Float",i),a=($.$$proto,[$].concat(n));return $.$$is_number_class=!0,function(e,r){var n,i,$=(e.$$proto,[e].concat(r));return t.def(e,"$allocate",n=function(){var t=this;return t.$raise(f($,"TypeError"),"allocator undefined for "+t.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1),c&&"==="}(t.get_singleton_class($),a),t.const_set(a[0],"INFINITY",1/0),t.const_set(a[0],"MAX",Number.MAX_VALUE),t.const_set(a[0],"MIN",Number.MIN_VALUE),t.const_set(a[0],"NAN",NaN),t.const_set(a[0],"DIG",15),t.const_set(a[0],"MANT_DIG",53),t.const_set(a[0],"RADIX",2),t.const_set(a[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(l[0],f(l,"Numeric"),l)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u=t.top,l=[],c=t.nil,h=t.const_get_qualified,f=t.const_get_relative,d=(t.breaker,t.slice,t.klass),_=t.truthy,p=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),u.$require("corelib/enumerable"),function(u,l,y){function m(){}var g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D=m=d(u,l,"Range",m),F=D.$$proto,L=[D].concat(y);return F.begin=F.end=F.excl=c,D.$include(f(L,"Enumerable")),F.$$is_range=!0,D.$attr_reader("begin","end"),t.def(D,"$initialize",g=function(t,e,r){var n=this;return null==r&&(r=!1),_(n.begin)&&n.$raise(f(L,"NameError"),"'initialize' called twice"),_(t["$<=>"](e))||n.$raise(f(L,"ArgumentError"),"bad value for range"),n.begin=t,n.end=e,n.excl=r},g.$$arity=-3),t.def(D,"$==",v=function(t){var e=this;return!!t.$$is_range&&(e.excl===t.excl&&e.begin==t.begin&&e.end==t.end)},v.$$arity=1),t.def(D,"$===",b=function(t){var e=this;return e["$include?"](t)},b.$$arity=1),t.def(D,"$cover?",w=function(t){var n,i=this,$=c,a=c;return $=i.begin["$<=>"](t),!!_(_(n=$)?e($,0):n)&&(a=t["$<=>"](i.end),_(i.excl)?_(n=a)?r(a,0):n:_(n=a)?e(a,0):n)},w.$$arity=1),t.def(D,"$each",E=function(){var e,n=this,i=E.$$p,$=i||c,a=c,o=c;if(i&&(E.$$p=null),$===c)return n.$enum_for("each");var s,u;if(n.begin.$$is_number&&n.end.$$is_number){for(n.begin%1===0&&n.end%1===0||n.$raise(f(L,"TypeError"),"can't iterate from Float"),s=n.begin,u=n.end+function(){return _(n.excl)?0:1}();s<u;s++)$(s);return n}if(n.begin.$$is_string&&n.end.$$is_string)return p(n.begin,"upto",[n.end,n.excl],$.$to_proc()),n;for(a=n.begin,o=n.end,_(a["$respond_to?"]("succ"))||n.$raise(f(L,"TypeError"),"can't iterate from "+a.$class());_(r(a["$<=>"](o),0));)t.yield1($,a),a=a.$succ();return _(_(e=n.excl["$!"]())?a["$=="](o):e)&&t.yield1($,a),n},E.$$arity=0),t.def(D,"$eql?",k=function(t){var e,r,n=this;return!!_(f(L,"Range")["$==="](t))&&(_(e=_(r=n.excl["$==="](t["$exclude_end?"]()))?n.begin["$eql?"](t.$begin()):r)?n.end["$eql?"](t.$end()):e)},k.$$arity=1),t.def(D,"$exclude_end?",x=function(){var t=this;return t.excl},x.$$arity=0),t.def(D,"$first",A=function(e){var r=this,n=A.$$p,i=c,$=c,a=c;for(n&&(A.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return _(null==e)?r.begin:p(r,t.find_super_dispatcher(r,"first",A,!1),i,n)},A.$$arity=-1),t.alias(D,"include?","cover?"),t.def(D,"$last",O=function(t){var e=this;return _(null==t)?e.end:e.$to_a().$last(t)},O.$$arity=-1),t.def(D,"$max",S=function(){var e,r=this,i=S.$$p,$=i||c,a=c,o=c,s=c;for(i&&(S.$$p=null),o=0,s=arguments.length,a=new Array(s);o<s;o++)a[o]=arguments[o];return $!==c?p(r,t.find_super_dispatcher(r,"max",S,!1),a,i):_(n(r.begin,r.end))?c:_(_(e=r.excl)?r.begin["$=="](r.end):e)?c:r.excl?r.end-1:r.end},S.$$arity=0),t.alias(D,"member?","cover?"),t.def(D,"$min",R=function(){var e,r=this,i=R.$$p,$=i||c,a=c,o=c,s=c;for(i&&(R.$$p=null),o=0,s=arguments.length,a=new Array(s);o<s;o++)a[o]=arguments[o];return $!==c?p(r,t.find_super_dispatcher(r,"min",R,!1),a,i):_(n(r.begin,r.end))?c:_(_(e=r.excl)?r.begin["$=="](r.end):e)?c:r.begin},R.$$arity=0),t.def(D,"$size",I=function(){var t,e=this,n=c,$=c,a=c;return n=e.begin,$=e.end,_(e.excl)&&($=i($,1)),_(_(t=f(L,"Numeric")["$==="](n))?f(L,"Numeric")["$==="]($):t)?_(r($,n))?0:(a=h(f(L,"Float"),"INFINITY"),_([n.$abs(),$.$abs()]["$include?"](a))?a:(Math.abs($-n)+1).$to_i()):c},I.$$arity=0),t.def(D,"$step",T=function(e){function r(){e.$$is_number||(e=f(L,"Opal")["$coerce_to!"](e,f(L,"Integer"),"to_int")),e<0?y.$raise(f(L,"ArgumentError"),"step can't be negative"):0===e&&y.$raise(f(L,"ArgumentError"),"step can't be 0")}function i(){if(!y.begin["$respond_to?"]("succ"))return c;if(y.begin.$$is_string&&y.end.$$is_string)return c;if(e%1===0)return $(y.$size(),e).$ceil();var t,r=y.begin,n=y.end,i=Math.abs,a=Math.floor,o=(i(r)+i(n)+i(n-r))/i(e)*h(f(L,"Float"),"EPSILON");return o>.5&&(o=.5),y.excl?(t=a((n-r)/e-o),t*e+r<n&&t++):t=a((n-r)/e+o)+1,t}var u,l,d,y=this,m=T.$$p,g=m||c,v=c;return null==e&&(e=1),m&&(T.$$p=null),g===c?p(y,"enum_for",["step",e],(u=function(){u.$$s||this;return r(),i()},u.$$s=y,u.$$arity=0,u)):(r(),_(y.begin.$$is_number&&y.end.$$is_number)?(v=0,function(){var r=t.new_brk();try{return p(y,"loop",[],(l=function(){var i=l.$$s||this,$=c;return null==i.begin&&(i.begin=c),null==i.excl&&(i.excl=c),null==i.end&&(i.end=c),$=a(i.begin,o(v,e)),_(i.excl)?_(s($,i.end))&&t.brk(c,r):_(n($,i.end))&&t.brk(c,r),t.yield1(g,$),v=a(v,1)},l.$$s=y,l.$$brk=r,l.$$arity=0,l))}catch(t){if(t===r)return t.$v;throw t}}()):(y.begin.$$is_string&&y.end.$$is_string&&e%1!==0&&y.$raise(f(L,"TypeError"),"no implicit conversion to float from string"),p(y,"each_with_index",[],(d=function(r,n){d.$$s||this;return null==r&&(r=c),null==n&&(n=c),n["$%"](e)["$=="](0)?t.yield1(g,r):c},d.$$s=y,d.$$arity=2,d))),y)},T.$$arity=-1),t.def(D,"$bsearch",M=function(){var t=this,e=M.$$p,r=e||c;return e&&(M.$$p=null),r===c?t.$enum_for("bsearch"):(_(t.begin.$$is_number&&t.end.$$is_number)||t.$raise(f(L,"TypeError"),"can't do binary search for "+t.begin.$class()),p(t.$to_a(),"bsearch",[],r.$to_proc()))},M.$$arity=0),t.def(D,"$to_s",C=function(){var t=this;return""+t.begin+function(){return _(t.excl)?"...":".."}()+t.end},C.$$arity=0),t.def(D,"$inspect",N=function(){var t=this;return""+t.begin.$inspect()+function(){return _(t.excl)?"...":".."}()+t.end.$inspect()},N.$$arity=0),t.def(D,"$marshal_load",z=function(t){var e=this;return e.begin=t["$[]"]("begin"),e.end=t["$[]"]("end"),e.excl=t["$[]"]("excl")},z.$$arity=1),t.def(D,"$hash",B=function(){var t=this;return[t.begin,t.end,t.excl].$hash()},B.$$arity=0),c&&"hash"}(l[0],null,l)},Opal.modules["corelib/proc"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),$=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,s){function u(){}var l,c,h,f,d,_,p,y,m,g,v=u=$(e,o,"Proc",u),b=v.$$proto,w=[v].concat(s);return b.$$is_proc=!0,b.$$is_lambda=!1,t.defs(v,"$new",l=function(){var t=this,e=l.$$p,i=e||r;return e&&(l.$$p=null),a(i)||t.$raise(n(w,"ArgumentError"),"tried to create a Proc object without a block"),i},l.$$arity=0),t.def(v,"$call",c=function(e){var n,i=this,$=c.$$p,a=$||r,o=arguments.length,s=o-0;s<0&&(s=0),n=new Array(s);for(var u=0;u<o;u++)n[u-0]=arguments[u];$&&(c.$$p=null),a!==r&&(i.$$p=a);var l,h=i.$$brk;if(h)try{l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n)}catch(t){if(t===h)return h.$v;throw t}else l=i.$$is_lambda?i.apply(null,n):t.yieldX(i,n);return l},c.$$arity=-1),t.alias(v,"[]","call"),t.alias(v,"===","call"),t.alias(v,"yield","call"),t.def(v,"$to_proc",h=function(){var t=this;return t},h.$$arity=0),t.def(v,"$lambda?",f=function(){var t=this;return!!t.$$is_lambda},f.$$arity=0),t.def(v,"$arity",d=function(){var t=this;return t.$$is_curried?-1:t.$$arity},d.$$arity=0),t.def(v,"$source_location",_=function(){var t=this;return t.$$is_curried?r:r},_.$$arity=0),t.def(v,"$binding",p=function(){var t=this;return t.$$is_curried&&t.$raise(n(w,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(v,"$parameters",y=function(){var t=this;if(t.$$is_curried)return[["rest"]];if(t.$$parameters){if(t.$$is_lambda)return t.$$parameters;var e,r,n=[];for(e=0,r=t.$$parameters.length;e<r;e++){var i=t.$$parameters[e];"req"===i[0]&&(i=["opt",i[1]]),n.push(i)}return n}return[]},y.$$arity=0),t.def(v,"$curry",m=function(t){function e(){var $,a=i.call(arguments),o=a.length;return o>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?r.$call.apply(r,a):($=function(){return e.apply(null,a.concat(i.call(arguments)))},$.$$is_lambda=r.$$is_lambda,$.$$is_curried=!0,$)}var r=this;return void 0===t?t=r.length:(t=n(w,"Opal")["$coerce_to!"](t,n(w,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(w,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},m.$$arity=-1),t.def(v,"$dup",g=function(){var t=this,e=t.$$original_proc||t,r=function(){return e.apply(this,arguments)};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},g.$$arity=0),t.alias(v,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,a,o){function s(){}var u,l,c,h,f,d,_,p,y,m=s=i(e,a,"Method",s),g=m.$$proto,v=[m].concat(o);return g.method=g.receiver=g.owner=g.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",u=function(t,e,r,n){var i=this;return i.receiver=t,i.owner=e,i.name=n,i.method=r},u.$$arity=4),t.def(m,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(m,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",h=function(){var t,e=this;return $(t=e.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(m,"$comments",f=function(){var t,e=this;return $(t=e.method.$$comments)?t:[]},f.$$arity=0),t.def(m,"$call",d=function(t){var e,n=this,i=d.$$p,$=i||r,a=arguments.length,o=a-0;o<0&&(o=0),e=new Array(o);for(var s=0;s<a;s++)e[s-0]=arguments[s];return i&&(d.$$p=null),n.method.$$p=$,n.method.apply(n.receiver,e)},d.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",_=function(){var t=this;return n(v,"UnboundMethod").$new(t.receiver.$class(),t.owner,t.method,t.name)},_.$$arity=0),t.def(m,"$to_proc",p=function(){var t=this,e=t.$call.bind(t);return e.$$unbound=t.method,e.$$is_lambda=!0,e},p.$$arity=0),t.def(m,"$inspect",y=function(){var t=this;return"#<"+t.$class()+": "+t.receiver.$class()+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},y.$$arity=0),r&&"inspect"}(e[0],null,e),function(e,a,o){function s(){}var u,l,c,h,f,d,_,p=s=i(e,a,"UnboundMethod",s),y=p.$$proto,m=[p].concat(o);return y.method=y.owner=y.name=y.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",u=function(t,e,r,n){var i=this;return i.source=t,i.owner=e,i.method=r,i.name=n},u.$$arity=4),t.def(p,"$arity",l=function(){var t=this;return t.method.$arity()},l.$$arity=0),t.def(p,"$parameters",c=function(){var t=this;return t.method.$$parameters},c.$$arity=0),t.def(p,"$source_location",h=function(){var t,e=this;return $(t=e.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(p,"$comments",f=function(){var t,e=this;return $(t=e.method.$$comments)?t:[]},f.$$arity=0),t.def(p,"$bind",d=function(e){var r=this;return r.owner.$$is_module||t.is_a(e,r.owner)?n(m,"Method").$new(e,r.owner,r.method,r.name):void r.$raise(n(m,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+r.owner+" to be true)")},d.$$arity=1),t.def(p,"$inspect",_=function(){var t=this;return"#<"+t.$class()+": "+t.source+"#"+t.name+" (defined in "+t.owner+" in "+t.$source_location().$join(":")+")>"},_.$$arity=0),r&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,$){var a,o=a=i(e,"Opal"),s=(o.$$proto,[o].concat($));t.const_set(s[0],"REGEXP_START",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"^":r}()),t.const_set(s[0],"REGEXP_END",function(){return n(s,"RUBY_ENGINE")["$=="]("opal")?"$":r}()),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",n(s,"Regexp").$new("[^"+n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",n(s,"Regexp").$new(""+n(s,"REGEXP_START")+"(::)?[A-Z][^"+n(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.send,c=t.truthy,h=t.gvars;return t.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),i.$require("corelib/string"),function(e,r,n){function i(){}var $,l=i=u(e,r,"String",i),c=(l.$$proto,[l].concat(n));return t.defs(l,"$inherited",$=function(t){var e=a;e=s(c,"Class").$new(o(s(c,"String"),"Wrapper")),t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=o(s(c,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},$.$$arity=1),a&&"inherited"}($[0],null,$),function(i,$,o){function s(){}var f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T=s=u(i,$,"Wrapper",s),M=T.$$proto;[T].concat(o);return M.literal=a,M.$$is_string=!0,t.defs(T,"$allocate",f=function(e){var r=this,n=f.$$p,i=a;return null==e&&(e=""),n&&(f.$$p=null),i=l(r,t.find_super_dispatcher(r,"allocate",f,!1,s),[],null),i.literal=e,i},f.$$arity=-1),t.defs(T,"$new",d=function(e){var r,n=this,i=d.$$p,$=i||a,o=a,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var c=0;c<s;c++)r[c-0]=arguments[c];return i&&(d.$$p=null),o=n.$allocate(),l(o,"initialize",t.to_a(r),$.$to_proc()),o},d.$$arity=-1),t.defs(T,"$[]",_=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return r.$allocate(e)},_.$$arity=-1),t.def(T,"$initialize",p=function(t){var e=this;return null==t&&(t=""),e.literal=t},p.$$arity=-1),t.def(T,"$method_missing",y=function(e){var r,n=this,i=y.$$p,$=i||a,o=a,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var h=0;h<s;h++)r[h-0]=arguments[h];return i&&(y.$$p=null),o=l(n.literal,"__send__",t.to_a(r),$.$to_proc()),c(null!=o.$$is_string)?c(o==n.literal)?n:n.$class().$allocate(o):o},y.$$arity=-1),t.def(T,"$initialize_copy",m=function(t){var e=this;return e.literal=t.literal.$clone()},m.$$arity=1),t.def(T,"$respond_to?",g=function(e,r){var n,i=this,$=g.$$p,o=a,s=a,u=a;for($&&(g.$$p=null),s=0,u=arguments.length,o=new Array(u);s<u;s++)o[s]=arguments[s];return c(n=l(i,t.find_super_dispatcher(i,"respond_to?",g,!1),o,$))?n:i.literal["$respond_to?"](e)},g.$$arity=-2),t.def(T,"$==",v=function(t){var e=this;return e.literal["$=="](t)},v.$$arity=1),t.alias(T,"eql?","=="),t.alias(T,"===","=="),t.def(T,"$to_s",b=function(){var t=this;return t.literal.$to_s()},b.$$arity=0),t.alias(T,"to_str","to_s"),t.def(T,"$inspect",w=function(){var t=this;return t.literal.$inspect()},w.$$arity=0),t.def(T,"$+",E=function(t){var r=this;return e(r.literal,t)},E.$$arity=1),t.def(T,"$*",k=function(t){var e=this,n=r(e.literal,t);return n.$$is_string?e.$class().$allocate(n):n},k.$$arity=1),t.def(T,"$split",x=function(t,e){var r,n=this;return l(n.literal.$split(t,e),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=a),e.$class().$allocate(t)},r.$$s=n,r.$$arity=1,r))},x.$$arity=-1),t.def(T,"$replace",A=function(t){var e=this;return e.literal=t},A.$$arity=1),t.def(T,"$each_line",O=function(e){var r,n=this,i=O.$$p,$=i||a;return null==h["/"]&&(h["/"]=a),null==e&&(e=h["/"]),i&&(O.$$p=null),$===a?n.$enum_for("each_line",e):l(n.literal,"each_line",[e],(r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1($,n.$class().$allocate(e))},r.$$s=n,r.$$arity=1,r))},O.$$arity=-1),t.def(T,"$lines",S=function(t){var e=this,r=S.$$p,n=r||a,i=a;return null==h["/"]&&(h["/"]=a),null==t&&(t=h["/"]),r&&(S.$$p=null),i=l(e,"each_line",[t],n.$to_proc()),
c(n)?e:i.$to_a()},S.$$arity=-1),t.def(T,"$%",R=function(t){var e=this;return e.literal["$%"](t)},R.$$arity=1),t.def(T,"$instance_variables",I=function(){var e=this,r=I.$$p,i=a,$=a,o=a;for(r&&(I.$$p=null),$=0,o=arguments.length,i=new Array(o);$<o;$++)i[$]=arguments[$];return n(l(e,t.find_super_dispatcher(e,"instance_variables",I,!1),i,r),["@literal"])},I.$$arity=0),a&&"instance_variables"}(s($,"String"),null,$)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,n,i,$,a,o=t.top,s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,h=(t.breaker,t.slice,t.klass),f=t.truthy,d=t.send,_=t.hash2;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),o.$require("corelib/string"),function(r,n,i){function $(){}var a,o,s,l,p,y,m,g,v,b,w=$=h(r,n,"Encoding",$),E=w.$$proto,k=[w].concat(i);return E.ascii=E.dummy=E.name=u,w.$$register={},t.defs(w,"$register",a=function(t,r){var n,i,$=this,o=a.$$p,s=o||u,l=u,h=u,p=u;return null==r&&(r=_([],{})),o&&(a.$$p=null),l=e([t],f(n=r["$[]"]("aliases"))?n:[]),h=d(c(k,"Class"),"new",[$],s.$to_proc()).$new(t,l,!!f(n=r["$[]"]("ascii"))&&n,!!f(n=r["$[]"]("dummy"))&&n),p=$.$$register,d(l,"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=u),e.$const_set(t.$sub("-","_"),h),p["$$"+t]=h},i.$$s=$,i.$$arity=1,i))},a.$$arity=-2),t.defs(w,"$find",o=function(t){var e,r=this,n=u,i=u;return t["$=="]("default_external")?r.$default_external():(n=r.$$register,i=f(e=n["$$"+t])?e:n["$$"+t.$upcase()],f(i)||r.$raise(c(k,"ArgumentError"),"unknown encoding name - "+t),i)},o.$$arity=1),function(t,e){t.$$proto,[t].concat(e);return t.$attr_accessor("default_external")}(t.get_singleton_class(w),k),w.$attr_reader("name","names"),t.def(w,"$initialize",s=function(t,e,r,n){var i=this;return i.name=t,i.names=e,i.ascii=r,i.dummy=n},s.$$arity=4),t.def(w,"$ascii_compatible?",l=function(){var t=this;return t.ascii},l.$$arity=0),t.def(w,"$dummy?",p=function(){var t=this;return t.dummy},p.$$arity=0),t.def(w,"$to_s",y=function(){var t=this;return t.name},y.$$arity=0),t.def(w,"$inspect",m=function(){var t=this;return"#<Encoding:"+t.name+function(){return f(t.dummy)?" (dummy)":u}()+">"},m.$$arity=0),t.def(w,"$each_byte",g=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},g.$$arity=-1),t.def(w,"$getbyte",v=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},v.$$arity=-1),t.def(w,"$bytesize",b=function(t){var e=this;return e.$raise(c(k,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}var i=n=h(t,e,"EncodingError",n);i.$$proto,[i].concat(r);return u}(k[0],c(k,"StandardError"),k),function(t,e,r){function n(){}var i=n=h(t,e,"CompatibilityError",n);i.$$proto,[i].concat(r);return u}(k[0],c(k,"EncodingError"),k)}(s[0],null,s),d(c(s,"Encoding"),"register",["UTF-8",_(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);if(o<=127)t.yield1(i,o);else for(var s=encodeURIComponent(r.charAt($)).substr(1).split("%"),l=0,c=s.length;l<c;l++)t.yield1(i,parseInt(s[l],16))}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),u&&"bytesize"},r.$$s=o,r.$$arity=0,r)),d(c(s,"Encoding"),"register",["UTF-16LE"],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},n.$$s=o,n.$$arity=0,n)),d(c(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},i.$$s=o,i.$$arity=0,i)),d(c(s,"Encoding"),"register",["UTF-32LE"],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},$.$$s=o,$.$$arity=0,$)),d(c(s,"Encoding"),"register",["ASCII-8BIT",_(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(a=function(){var e,r,n=a.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var $=0,a=r.length;$<a;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},a.$$s=o,a.$$arity=0,a)),function(e,r,n){function i(){}var $,a,o,s,f,_,p,y=i=h(e,r,"String",i),m=y.$$proto,g=[y].concat(n);return m.encoding=u,y.$attr_reader("encoding"),String.prototype.encoding=l(c(g,"Encoding"),"UTF_16LE"),t.def(y,"$bytes",$=function(){var t=this;return t.$each_byte().$to_a()},$.$$arity=0),t.def(y,"$bytesize",a=function(){var t=this;return t.encoding.$bytesize(t)},a.$$arity=0),t.def(y,"$each_byte",o=function(){var t=this,e=o.$$p,r=e||u;return e&&(o.$$p=null),r===u?t.$enum_for("each_byte"):(d(t.encoding,"each_byte",[t],r.$to_proc()),t)},o.$$arity=0),t.def(y,"$encode",s=function(t){var e=this;return e.$dup().$force_encoding(t)},s.$$arity=1),t.def(y,"$force_encoding",f=function(t){var e=this;return t===e.encoding?e:(t=c(g,"Opal")["$coerce_to!"](t,c(g,"String"),"to_s"),t=c(g,"Encoding").$find(t),t===e.encoding?e:(e.encoding=t,e))},f.$$arity=1),t.def(y,"$getbyte",_=function(t){var e=this;return e.encoding.$getbyte(e,t)},_.$$arity=1),t.def(y,"$valid_encoding?",p=function(){return!0},p.$$arity=0),u&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var n=(t.top,[]),i=(t.nil,t.const_get_qualified),$=t.const_get_relative,a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(n,s){var u,l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L=u=a(n,"Math"),P=(L.$$proto,[L].concat(s));t.const_set(P[0],"E",Math.E),t.const_set(P[0],"PI",Math.PI),t.const_set(P[0],"DomainError",$(P,"Class").$new($(P,"StandardError"))),t.defs(L,"$checked",l=function(t,e){var r,n=this,i=arguments.length,a=i-1;a<0&&(a=0),r=new Array(a);for(var o=1;o<i;o++)r[o-1]=arguments[o];if(isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var s=Math[t].apply(null,r);return isNaN(s)&&n.$raise($(P,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),s},l.$$arity=-2),t.defs(L,"$float!",c=function(e){var r=this;try{return r.$Float(e)}catch(n){if(!t.rescue(n,[$(P,"ArgumentError")]))throw n;try{return r.$raise($(P,"Opal").$type_error(e,$(P,"Float")))}finally{t.pop_exception()}}},c.$$arity=1),t.defs(L,"$integer!",h=function(e){var r=this;try{return r.$Integer(e)}catch(n){if(!t.rescue(n,[$(P,"ArgumentError")]))throw n;try{return r.$raise($(P,"Opal").$type_error(e,$(P,"Integer")))}finally{t.pop_exception()}}},h.$$arity=1),L.$module_function(),t.def(L,"$acos",f=function(t){return $(P,"Math").$checked("acos",$(P,"Math")["$float!"](t))},f.$$arity=1),o("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(L,"$acosh",d=function(t){return $(P,"Math").$checked("acosh",$(P,"Math")["$float!"](t))},d.$$arity=1),t.def(L,"$asin",_=function(t){return $(P,"Math").$checked("asin",$(P,"Math")["$float!"](t))},_.$$arity=1),o("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(L,"$asinh",p=function(t){return $(P,"Math").$checked("asinh",$(P,"Math")["$float!"](t))},p.$$arity=1),t.def(L,"$atan",y=function(t){return $(P,"Math").$checked("atan",$(P,"Math")["$float!"](t))},y.$$arity=1),t.def(L,"$atan2",m=function(t,e){return $(P,"Math").$checked("atan2",$(P,"Math")["$float!"](t),$(P,"Math")["$float!"](e))},m.$$arity=2),o("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(L,"$atanh",g=function(t){return $(P,"Math").$checked("atanh",$(P,"Math")["$float!"](t))},g.$$arity=1),o("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;e>1;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;r>0;)e*=2,r--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e)}),t.def(L,"$cbrt",v=function(t){return $(P,"Math").$checked("cbrt",$(P,"Math")["$float!"](t))},v.$$arity=1),t.def(L,"$cos",b=function(t){return $(P,"Math").$checked("cos",$(P,"Math")["$float!"](t))},b.$$arity=1),o("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(L,"$cosh",w=function(t){return $(P,"Math").$checked("cosh",$(P,"Math")["$float!"](t))},w.$$arity=1),o("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=.254829592,r=-.284496736,n=1.421413741,i=-1.453152027,$=1.061405429,a=.3275911,o=1;t<0&&(o=-1),t=Math.abs(t);var s=1/(1+a*t),u=1-(((($*s+i)*s+n)*s+r)*s+e)*s*Math.exp(-t*t);return o*u}),t.def(L,"$erf",E=function(t){return $(P,"Math").$checked("erf",$(P,"Math")["$float!"](t))},E.$$arity=1),o("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),n=.17087277*r+-.82215223,i=r*n+1.48851587,$=r*i+-1.13520398,a=r*$+.27886807,o=r*a+-.18628806,s=r*o+.09678418,u=r*s+.37409196,l=r*u+1.00002368,c=r*l,h=-e*e-1.26551223+c,f=r*Math.exp(h);return t<0?2-f:f}),t.def(L,"$erfc",k=function(t){return $(P,"Math").$checked("erfc",$(P,"Math")["$float!"](t))},k.$$arity=1),t.def(L,"$exp",x=function(t){return $(P,"Math").$checked("exp",$(P,"Math")["$float!"](t))},x.$$arity=1),t.def(L,"$frexp",A=function(t){if(t=$(P,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1,r=t/Math.pow(2,e);return[r,e]},A.$$arity=1),t.def(L,"$gamma",O=function(t){var r=this;t=$(P,"Math")["$float!"](t);var n,i,a,o,s,u,l,c,h,f=4.7421875,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-(1/0);if(t!==-1&&t!==-(1/0)||r.$raise($(P,"DomainError"),'Numerical argument is out of domain - "gamma"'),$(P,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(o=t-2,s=t-1;o>1;)s*=o,o--;return 0==s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*$(P,"Math").$gamma(e(1,t)));if(t>=171.35)return 1/0;if(t>85)return u=t*t,l=u*t,c=l*t,h=c*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*l)-571/(2488320*c)+163879/(209018880*h)+5246819/(75246796800*h*t));for(t-=1,a=d[0],n=1;n<d.length;++n)a+=d[n]/(t+n);return i=t+f+.5,Math.sqrt(2*Math.PI)*Math.pow(i,t+.5)*Math.exp(-i)*a},O.$$arity=1),o("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(L,"$hypot",S=function(t,e){return $(P,"Math").$checked("hypot",$(P,"Math")["$float!"](t),$(P,"Math")["$float!"](e))},S.$$arity=2),t.def(L,"$ldexp",R=function(t,e){var r=this;return t=$(P,"Math")["$float!"](t),e=$(P,"Math")["$integer!"](e),isNaN(e)&&r.$raise($(P,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},R.$$arity=2),t.def(L,"$lgamma",I=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs($(P,"Math").$gamma(t))),$(P,"Math").$gamma(t)<0?-1:1]},I.$$arity=1),t.def(L,"$log",T=function(t,e){var n=this;return o($(P,"String")["$==="](t))&&n.$raise($(P,"Opal").$type_error(t,$(P,"Float"))),o(null==e)?$(P,"Math").$checked("log",$(P,"Math")["$float!"](t)):(o($(P,"String")["$==="](e))&&n.$raise($(P,"Opal").$type_error(e,$(P,"Float"))),r($(P,"Math").$checked("log",$(P,"Math")["$float!"](t)),$(P,"Math").$checked("log",$(P,"Math")["$float!"](e))))},T.$$arity=-2),o("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(L,"$log10",M=function(t){var e=this;return o($(P,"String")["$==="](t))&&e.$raise($(P,"Opal").$type_error(t,$(P,"Float"))),$(P,"Math").$checked("log10",$(P,"Math")["$float!"](t))},M.$$arity=1),o("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(L,"$log2",C=function(t){var e=this;return o($(P,"String")["$==="](t))&&e.$raise($(P,"Opal").$type_error(t,$(P,"Float"))),$(P,"Math").$checked("log2",$(P,"Math")["$float!"](t))},C.$$arity=1),t.def(L,"$sin",N=function(t){return $(P,"Math").$checked("sin",$(P,"Math")["$float!"](t))},N.$$arity=1),o("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(L,"$sinh",z=function(t){return $(P,"Math").$checked("sinh",$(P,"Math")["$float!"](t))},z.$$arity=1),t.def(L,"$sqrt",B=function(t){return $(P,"Math").$checked("sqrt",$(P,"Math")["$float!"](t))},B.$$arity=1),t.def(L,"$tan",D=function(t){return t=$(P,"Math")["$float!"](t),o(t["$infinite?"]())?i($(P,"Float"),"NAN"):$(P,"Math").$checked("tan",$(P,"Math")["$float!"](t))},D.$$arity=1),o("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-(1/0)?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(L,"$tanh",F=function(t){return $(P,"Math").$checked("tanh",$(P,"Math")["$float!"](t))},F.$$arity=1)}(n[0],n)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),h=t.truthy,f=t.module;return t.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?"]),a.$require("corelib/numeric"),function(a,o,f){function d(){}var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y=d=c(a,o,"Complex",d),W=Y.$$proto,X=[Y].concat(f);return W.real=W.imag=s,t.defs(Y,"$rect",_=function(t,e){var r,n,i,$=this;return null==e&&(e=0),h(h(r=h(n=h(i=l(X,"Numeric")["$==="](t))?t["$real?"]():i)?l(X,"Numeric")["$==="](e):n)?e["$real?"]():r)||$.$raise(l(X,"TypeError"),"not a real"),$.$new(t,e)},_.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"rectangular","rect")}(t.get_singleton_class(Y),X),t.defs(Y,"$polar",p=function(t,r){var n,i,$,a=this;return null==r&&(r=0),h(h(n=h(i=h($=l(X,"Numeric")["$==="](t))?t["$real?"]():$)?l(X,"Numeric")["$==="](r):i)?r["$real?"]():n)||a.$raise(l(X,"TypeError"),"not a real"),a.$new(e(t,l(X,"Math").$cos(r)),e(t,l(X,"Math").$sin(r)))},p.$$arity=-2),Y.$attr_reader("real","imag"),t.def(Y,"$initialize",y=function(t,e){var r=this;return null==e&&(e=0),r.real=t,r.imag=e},y.$$arity=-2),t.def(Y,"$coerce",m=function(t){var e,r=this;return h(l(X,"Complex")["$==="](t))?[t,r]:h(h(e=l(X,"Numeric")["$==="](t))?t["$real?"]():e)?[l(X,"Complex").$new(t,0),r]:r.$raise(l(X,"TypeError"),""+t.$class()+" can't be coerced into Complex")},m.$$arity=1),t.def(Y,"$==",g=function(t){var e,r=this;return h(l(X,"Complex")["$==="](t))?(e=r.real["$=="](t.$real()))?r.imag["$=="](t.$imag()):r.real["$=="](t.$real()):h(h(e=l(X,"Numeric")["$==="](t))?t["$real?"]():e)?(e=r.real["$=="](t))?r.imag["$=="](0):r.real["$=="](t):t["$=="](r)},g.$$arity=1),t.def(Y,"$-@",v=function(){var t=this;return t.$Complex(t.real["$-@"](),t.imag["$-@"]())},v.$$arity=0),t.def(Y,"$+",b=function(t){var e,n=this;return h(l(X,"Complex")["$==="](t))?n.$Complex(r(n.real,t.$real()),r(n.imag,t.$imag())):h(h(e=l(X,"Numeric")["$==="](t))?t["$real?"]():e)?n.$Complex(r(n.real,t),n.imag):n.$__coerced__("+",t)},b.$$arity=1),t.def(Y,"$-",w=function(t){var e,r=this;return h(l(X,"Complex")["$==="](t))?r.$Complex(n(r.real,t.$real()),n(r.imag,t.$imag())):h(h(e=l(X,"Numeric")["$==="](t))?t["$real?"]():e)?r.$Complex(n(r.real,t),r.imag):r.$__coerced__("-",t)},w.$$arity=1),t.def(Y,"$*",E=function(t){var i,$=this;return h(l(X,"Complex")["$==="](t))?$.$Complex(n(e($.real,t.$real()),e($.imag,t.$imag())),r(e($.real,t.$imag()),e($.imag,t.$real()))):h(h(i=l(X,"Numeric")["$==="](t))?t["$real?"]():i)?$.$Complex(e($.real,t),e($.imag,t)):$.$__coerced__("*",t)},E.$$arity=1),t.def(Y,"$/",k=function(t){var r,n,$,a,o=this;return h(l(X,"Complex")["$==="](t))?h(h(r=h(n=h($=h(a=l(X,"Number")["$==="](o.real))?o.real["$nan?"]():a)?$:h(a=l(X,"Number")["$==="](o.imag))?o.imag["$nan?"]():a)?n:h($=l(X,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():$)?r:h(n=l(X,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?l(X,"Complex").$new(u(l(X,"Float"),"NAN"),u(l(X,"Float"),"NAN")):i(e(o,t.$conj()),t.$abs2()):h(h(r=l(X,"Numeric")["$==="](t))?t["$real?"]():r)?o.$Complex(o.real.$quo(t),o.imag.$quo(t)):o.$__coerced__("/",t)},k.$$arity=1),t.def(Y,"$**",x=function(a){var o,u,c,f,d=this,_=s,p=s,y=s,m=s,g=s,v=s,b=s,w=s,E=s,k=s,x=s;if(a["$=="](0))return l(X,"Complex").$new(1,0);if(h(l(X,"Complex")["$==="](a)))return u=d.$polar(),o=t.to_ary(u),_=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,y=a.$real(),m=a.$imag(),g=l(X,"Math").$exp(n(e(y,l(X,"Math").$log(_)),e(m,p))),v=r(e(p,y),e(m,l(X,"Math").$log(_))),l(X,"Complex").$polar(g,v);if(h(l(X,"Integer")["$==="](a))){if(h($(a,0))){for(b=d,w=b,E=n(a,1);h(E["$!="](0));){for(c=E.$divmod(2),u=t.to_ary(c),k=null==u[0]?s:u[0],x=null==u[1]?s:u[1],c;x["$=="](0);)b=d.$Complex(n(e(b.$real(),b.$real()),e(b.$imag(),b.$imag())),e(e(2,b.$real()),b.$imag())),E=k,f=E.$divmod(2),c=t.to_ary(f),k=null==c[0]?s:c[0],x=null==c[1]?s:c[1],f;w=e(w,b),E=n(E,1)}return w}return i(l(X,"Rational").$new(1,1),d)["$**"](a["$-@"]())}return h(h(o=l(X,"Float")["$==="](a))?o:l(X,"Rational")["$==="](a))?(u=d.$polar(),o=t.to_ary(u),_=null==o[0]?s:o[0],p=null==o[1]?s:o[1],u,l(X,"Complex").$polar(_["$**"](a),e(p,a))):d.$__coerced__("**",a)},x.$$arity=1),t.def(Y,"$abs",A=function(){var t=this;return l(X,"Math").$hypot(t.real,t.imag)},A.$$arity=0),t.def(Y,"$abs2",O=function(){var t=this;return r(e(t.real,t.real),e(t.imag,t.imag))},O.$$arity=0),t.def(Y,"$angle",S=function(){var t=this;return l(X,"Math").$atan2(t.imag,t.real)},S.$$arity=0),t.alias(Y,"arg","angle"),t.def(Y,"$conj",R=function(){var t=this;return t.$Complex(t.real,t.imag["$-@"]())},R.$$arity=0),t.alias(Y,"conjugate","conj"),t.def(Y,"$denominator",I=function(){var t=this;return t.real.$denominator().$lcm(t.imag.$denominator())},I.$$arity=0),t.alias(Y,"divide","/"),t.def(Y,"$eql?",T=function(t){var e,r,n=this;return h(e=h(r=l(X,"Complex")["$==="](t))?n.real.$class()["$=="](n.imag.$class()):r)?n["$=="](t):e},T.$$arity=1),t.def(Y,"$fdiv",M=function(t){var e=this;return h(l(X,"Numeric")["$==="](t))||e.$raise(l(X,"TypeError"),""+t.$class()+" can't be coerced into Complex"),i(e,t)},M.$$arity=1),t.def(Y,"$finite?",C=function(){var t,e=this;return h(t=e.real["$finite?"]())?e.imag["$finite?"]():t},C.$$arity=0),t.def(Y,"$hash",N=function(){var t=this;return"Complex:"+t.real+":"+t.imag},N.$$arity=0),t.alias(Y,"imaginary","imag"),t.def(Y,"$infinite?",z=function(){var t,e=this;return h(t=e.real["$infinite?"]())?t:e.imag["$infinite?"]()},z.$$arity=0),t.def(Y,"$inspect",B=function(){var t=this;return"("+t+")"},B.$$arity=0),t.alias(Y,"magnitude","abs"),t.udef(Y,"$negative?"),t.def(Y,"$numerator",D=function(){var t=this,r=s;return r=t.$denominator(),t.$Complex(e(t.real.$numerator(),i(r,t.real.$denominator())),e(t.imag.$numerator(),i(r,t.imag.$denominator())))},D.$$arity=0),t.alias(Y,"phase","arg"),t.def(Y,"$polar",F=function(){var t=this;return[t.$abs(),t.$arg()]},F.$$arity=0),t.udef(Y,"$positive?"),t.alias(Y,"quo","/"),t.def(Y,"$rationalize",L=function(t){var e=this;return arguments.length>1&&e.$raise(l(X,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),h(e.imag["$!="](0))&&e.$raise(l(X,"RangeError"),"can't' convert "+e+" into Rational"),e.$real().$rationalize(t)},L.$$arity=-1),t.def(Y,"$real?",P=function(){return!1},P.$$arity=0),t.def(Y,"$rect",q=function(){var t=this;return[t.real,t.imag]},q.$$arity=0),t.alias(Y,"rectangular","rect"),t.def(Y,"$to_f",j=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(X,"RangeError"),"can't convert "+t+" into Float"),t.real.$to_f()},j.$$arity=0),t.def(Y,"$to_i",U=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(X,"RangeError"),"can't convert "+t+" into Integer"),t.real.$to_i()},U.$$arity=0),t.def(Y,"$to_r",H=function(){var t=this;return t.imag["$=="](0)||t.$raise(l(X,"RangeError"),"can't convert "+t+" into Rational"),t.real.$to_r()},H.$$arity=0),t.def(Y,"$to_s",G=function(){var t,e,n,i=this,$=s;return $=i.real.$inspect(),$=r($,function(){return h(h(t=h(e=h(n=l(X,"Number")["$==="](i.imag))?i.imag["$nan?"]():n)?e:i.imag["$positive?"]())?t:i.imag["$zero?"]())?"+":"-"}()),$=r($,i.imag.$abs().$inspect()),h(h(t=l(X,"Number")["$==="](i.imag))?h(e=i.imag["$nan?"]())?e:i.imag["$infinite?"]():t)&&($=r($,"*")),r($,"i")},G.$$arity=0),t.const_set(X[0],"I",Y.$new(0,1))}(o[0],l(o,"Numeric"),o),function(e,r){var n,i,$=n=f(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$Complex",i=function(t,e){return null==e&&(e=s),h(e)?l(a,"Complex").$new(t,e):l(a,"Complex").$new(t,0)},i.$$arity=-2)}(o[0],o)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var s=t.top,u=[],l=t.nil,c=t.const_get_qualified,h=t.const_get_relative,f=(t.breaker,t.slice,t.klass),d=t.truthy,_=t.module;return t.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),s.$require("corelib/numeric"),function(s,u,_){function p(){}var y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U=p=f(s,u,"Rational",p),H=U.$$proto,G=[U].concat(_);return H.num=H.den=l,t.defs(U,"$reduce",y=function(t,n){var i=this,$=l;if(t=t.$to_i(),n=n.$to_i(),n["$=="](0))i.$raise(h(G,"ZeroDivisionError"),"divided by 0");else if(d(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return i.$new(t,n);return $=t.$gcd(n),i.$new(r(t,$),r(n,$))},y.$$arity=2),t.defs(U,"$convert",m=function(t,e){var n,i,$=this;return d(d(n=t["$nil?"]())?n:e["$nil?"]())&&$.$raise(h(G,"TypeError"),"cannot convert nil into Rational"),d(d(n=h(G,"Integer")["$==="](t))?h(G,"Integer")["$==="](e):n)?$.$reduce(t,e):(d(d(n=d(i=h(G,"Float")["$==="](t))?i:h(G,"String")["$==="](t))?n:h(G,"Complex")["$==="](t))&&(t=t.$to_r()),d(d(n=d(i=h(G,"Float")["$==="](e))?i:h(G,"String")["$==="](e))?n:h(G,"Complex")["$==="](e))&&(e=e.$to_r()),d(d(n=e["$equal?"](1))?h(G,"Integer")["$==="](t)["$!"]():n)?h(G,"Opal")["$coerce_to!"](t,h(G,"Rational"),"to_r"):d(d(n=h(G,"Numeric")["$==="](t))?h(G,"Numeric")["$==="](e):n)?r(t,e):$.$reduce(t,e))},m.$$arity=2),t.def(U,"$initialize",g=function(t,e){var r=this;return r.num=t,r.den=e},g.$$arity=2),t.def(U,"$numerator",v=function(){var t=this;return t.num},v.$$arity=0),t.def(U,"$denominator",b=function(){var t=this;return t.den},b.$$arity=0),t.def(U,"$coerce",w=function(t){var e=this,r=l;return function(){return r=t,h(G,"Rational")["$==="](r)?[t,e]:h(G,"Integer")["$==="](r)?[t.$to_r(),e]:h(G,"Float")["$==="](r)?[t,e.$to_f()]:l}()},w.$$arity=1),t.def(U,"$==",E=function(t){var e,r=this,n=l;return function(){return n=t,h(G,"Rational")["$==="](n)?(e=r.num["$=="](t.$numerator()))?r.den["$=="](t.$denominator()):r.num["$=="](t.$numerator()):h(G,"Integer")["$==="](n)?(e=r.num["$=="](t))?r.den["$=="](1):r.num["$=="](t):h(G,"Float")["$==="](n)?r.$to_f()["$=="](t):t["$=="](r)}()},E.$$arity=1),t.def(U,"$<=>",k=function(t){var e=this,r=l;return function(){return r=t,h(G,"Rational")["$==="](r)?n(i(e.num,t.$denominator()),i(e.den,t.$numerator()))["$<=>"](0):h(G,"Integer")["$==="](r)?n(e.num,i(e.den,t))["$<=>"](0):h(G,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)}()},k.$$arity=1),t.def(U,"$+",x=function(t){var e=this,r=l,n=l,a=l;return function(){return r=t,h(G,"Rational")["$==="](r)?(n=$(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational(n,a)):h(G,"Integer")["$==="](r)?e.$Rational($(e.num,i(t,e.den)),e.den):h(G,"Float")["$==="](r)?$(e.$to_f(),t):e.$__coerced__("+",t)}()},x.$$arity=1),t.def(U,"$-",A=function(t){var e=this,r=l,$=l,a=l;return function(){return r=t,h(G,"Rational")["$==="](r)?($=n(i(e.num,t.$denominator()),i(e.den,t.$numerator())),a=i(e.den,t.$denominator()),e.$Rational($,a)):h(G,"Integer")["$==="](r)?e.$Rational(n(e.num,i(t,e.den)),e.den):h(G,"Float")["$==="](r)?n(e.$to_f(),t):e.$__coerced__("-",t)}()},A.$$arity=1),t.def(U,"$*",O=function(t){var e=this,r=l,n=l,$=l;return function(){return r=t,h(G,"Rational")["$==="](r)?(n=i(e.num,t.$numerator()),$=i(e.den,t.$denominator()),e.$Rational(n,$)):h(G,"Integer")["$==="](r)?e.$Rational(i(e.num,t),e.den):h(G,"Float")["$==="](r)?i(e.$to_f(),t):e.$__coerced__("*",t)}()},O.$$arity=1),t.def(U,"$/",S=function(t){var e=this,n=l,$=l,a=l;return function(){return n=t,h(G,"Rational")["$==="](n)?($=i(e.num,t.$denominator()),a=i(e.den,t.$numerator()),e.$Rational($,a)):h(G,"Integer")["$==="](n)?t["$=="](0)?r(e.$to_f(),0):e.$Rational(e.num,i(e.den,t)):h(G,"Float")["$==="](n)?r(e.$to_f(),t):e.$__coerced__("/",t)}()},S.$$arity=1),t.def(U,"$**",R=function(t){var r,n=this,i=l;return function(){return i=t,h(G,"Integer")["$==="](i)?d((r=n["$=="](0))?e(t,0):n["$=="](0))?c(h(G,"Float"),"INFINITY"):d(a(t,0))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):d(e(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):h(G,"Float")["$==="](i)?n.$to_f()["$**"](t):h(G,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?d(e(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):d((r=n["$=="](0))?e(t,0):n["$=="](0))?n.$raise(h(G,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)}()},R.$$arity=1),t.def(U,"$abs",I=function(){var t=this;return t.$Rational(t.num.$abs(),t.den.$abs())},I.$$arity=0),t.def(U,"$ceil",T=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$ceil():e.$with_precision("ceil",t)},T.$$arity=-1),t.alias(U,"divide","/"),t.def(U,"$floor",M=function(t){var e=this;return null==t&&(t=0),t["$=="](0)?r(e.num["$-@"](),e.den)["$-@"]().$floor():e.$with_precision("floor",t)},M.$$arity=-1),t.def(U,"$hash",C=function(){var t=this;return"Rational:"+t.num+":"+t.den},C.$$arity=0),t.def(U,"$inspect",N=function(){var t=this;return"("+t+")"},N.$$arity=0),t.alias(U,"quo","/"),t.def(U,"$rationalize",z=function(t){var e=this;if(arguments.length>1&&e.$raise(h(G,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return e;for(var i,a,s,u,l,c=t.$abs(),f=n(e,c),d=$(e,c),_=0,p=1,y=1,m=0;;){if(s=f.$ceil(),o(s,d))break;u=s-1,i=u*p+_,a=u*m+y,l=r(1,n(d,u)),d=r(1,n(f,u)),f=l,_=p,y=m,p=i,m=a}return e.$Rational(s*p+_,s*m+y)},z.$$arity=-1),t.def(U,"$round",B=function(t){var n=this,a=l,o=l,s=l;return null==t&&(t=0),t["$=="](0)?n.num["$=="](0)?0:n.den["$=="](1)?n.num:(a=$(i(n.num.$abs(),2),n.den),o=i(n.den,2),s=r(a,o).$truncate(),d(e(n.num,0))?s["$-@"]():s):n.$with_precision("round",t)},B.$$arity=-1),t.def(U,"$to_f",D=function(){var t=this;return r(t.num,t.den)},D.$$arity=0),t.def(U,"$to_i",F=function(){var t=this;return t.$truncate()},F.$$arity=0),t.def(U,"$to_r",L=function(){var t=this;return t},L.$$arity=0),t.def(U,"$to_s",P=function(){var t=this;return""+t.num+"/"+t.den},P.$$arity=0),t.def(U,"$truncate",q=function(t){var r=this;return null==t&&(t=0),t["$=="](0)?d(e(r.num,0))?r.$ceil():r.$floor():r.$with_precision("truncate",t)},q.$$arity=-1),t.def(U,"$with_precision",j=function(t,n){var $=this,a=l,o=l;return d(h(G,"Integer")["$==="](n))||$.$raise(h(G,"TypeError"),"not an Integer"),a=10["$**"](n),o=i($,a),d(e(n,1))?r(o.$send(t),a).$to_i():$.$Rational(o.$send(t),a)},j.$$arity=2),l&&"with_precision"}(u[0],h(u,"Numeric"),u),function(e,r){var n,i,$=n=_(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$Rational",i=function(t,e){return null==e&&(e=1),h(a,"Rational").$convert(t,e)},i.$$arity=-2)}(u[0],u)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o=t.top,s=[],u=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice),h=t.klass,f=t.truthy,d=t.range;return t.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),o.$require("corelib/comparable"),function(o,s,_){function p(){}function y(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"),e===u)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int");return(e<1||e>12)&&at.$raise(l(ot,"ArgumentError"),"month out of range: "+e),e-=1,r=r===u?1:r.$$is_string?parseInt(r,10):l(ot,"Opal")["$coerce_to!"](r,l(ot,"Integer"),"to_int"),(r<1||r>31)&&at.$raise(l(ot,"ArgumentError"),"day out of range: "+r),n=n===u?0:n.$$is_string?parseInt(n,10):l(ot,"Opal")["$coerce_to!"](n,l(ot,"Integer"),"to_int"),(n<0||n>24)&&at.$raise(l(ot,"ArgumentError"),"hour out of range: "+n),i=i===u?0:i.$$is_string?parseInt(i,10):l(ot,"Opal")["$coerce_to!"](i,l(ot,"Integer"),"to_int"),
(i<0||i>59)&&at.$raise(l(ot,"ArgumentError"),"min out of range: "+i),$===u?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):l(ot,"Opal")["$coerce_to!"]($,l(ot,"Integer"),"to_int")),($<0||$>60)&&at.$raise(l(ot,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}var m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at=p=h(o,s,"Time",p),ot=(at.$$proto,[at].concat(_));at.$include(l(ot,"Comparable"));var st=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ut=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.defs(at,"$at",m=function(t,e){var r,n=this;return l(ot,"Time")["$==="](t)?(void 0!==e&&n.$raise(l(ot,"TypeError"),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=l(ot,"Opal")["$coerce_to!"](e,l(ot,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},m.$$arity=-2),t.defs(at,"$new",g=function(t,e,r,n,i,$,a){var o=this;null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==$&&($=u),null==a&&(a=u);var s,c;return void 0===t?new Date:(a!==u&&o.$raise(l(ot,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),s=y(t,e,r,n,i,$),t=s[0],e=s[1],r=s[2],n=s[3],i=s[4],$=s[5],c=new Date(t,e,r,n,i,0,1e3*$),t<100&&c.setFullYear(t),c)},g.$$arity=-1),t.defs(at,"$local",v=function(t,e,r,n,i,$,a,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==$&&($=u),null==a&&(a=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var h,f;return 10===arguments.length&&(h=c.call(arguments),t=h[5],e=h[4],r=h[3],n=h[2],i=h[1],$=h[0]),h=y(t,e,r,n,i,$),t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],$=h[5],f=new Date(t,e,r,n,i,0,1e3*$),t<100&&f.setFullYear(t),f},v.$$arity=-2),t.defs(at,"$gm",b=function(t,e,r,n,i,$,a,o,s,l){null==e&&(e=u),null==r&&(r=u),null==n&&(n=u),null==i&&(i=u),null==$&&($=u),null==a&&(a=u),null==o&&(o=u),null==s&&(s=u),null==l&&(l=u);var h,f;return 10===arguments.length&&(h=c.call(arguments),t=h[5],e=h[4],r=h[3],n=h[2],i=h[1],$=h[0]),h=y(t,e,r,n,i,$),t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],$=h[5],f=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),t<100&&f.setUTCFullYear(t),f.is_utc=!0,f},b.$$arity=-2),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(at),ot),t.defs(at,"$now",w=function(){var t=this;return t.$new()},w.$$arity=0),t.def(at,"$+",E=function(t){var e=this;f(l(ot,"Time")["$==="](t))&&e.$raise(l(ot,"TypeError"),"time + time?"),t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()+1e3*t);return r.is_utc=e.is_utc,r},E.$$arity=1),t.def(at,"$-",k=function(t){var e=this;if(f(l(ot,"Time")["$==="](t)))return(e.getTime()-t.getTime())/1e3;t.$$is_number||(t=l(ot,"Opal")["$coerce_to!"](t,l(ot,"Integer"),"to_int"));var r=new Date(e.getTime()-1e3*t);return r.is_utc=e.is_utc,r},k.$$arity=1),t.def(at,"$<=>",x=function(t){var n=this,i=u;return f(l(ot,"Time")["$==="](t))?n.$to_f()["$<=>"](t.$to_f()):(i=t["$<=>"](n),f(i["$nil?"]())?u:f(e(i,0))?-1:f(r(i,0))?1:0)},x.$$arity=1),t.def(at,"$==",A=function(t){var e,r=this;return f(e=l(ot,"Time")["$==="](t))?r.$to_f()===t.$to_f():e},A.$$arity=1),t.def(at,"$asctime",O=function(){var t=this;return t.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),t.alias(at,"ctime","asctime"),t.def(at,"$day",S=function(){var t=this;return t.is_utc?t.getUTCDate():t.getDate()},S.$$arity=0),t.def(at,"$yday",R=function(){var t=this,e=u,r=u,a=u;return e=l(ot,"Time").$new(t.$year()).$to_i(),r=l(ot,"Time").$new(t.$year(),t.$month(),t.$day()).$to_i(),a=86400,n(i($(r,e),a).$round(),1)},R.$$arity=0),t.def(at,"$isdst",I=function(){var t=this,e=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),6,1);return t.getTimezoneOffset()<Math.max(e.getTimezoneOffset(),r.getTimezoneOffset())},I.$$arity=0),t.alias(at,"dst?","isdst"),t.def(at,"$dup",T=function(){var t=this,e=u;return e=new Date(t.getTime()),e.$copy_instance_variables(t),e.$initialize_dup(t),e},T.$$arity=0),t.def(at,"$eql?",M=function(t){var e,r=this;return f(e=t["$is_a?"](l(ot,"Time")))?r["$<=>"](t)["$zero?"]():e},M.$$arity=1),t.def(at,"$friday?",C=function(){var t=this;return 5==t.$wday()},C.$$arity=0),t.def(at,"$hash",N=function(){var t=this;return"Time:"+t.getTime()},N.$$arity=0),t.def(at,"$hour",z=function(){var t=this;return t.is_utc?t.getUTCHours():t.getHours()},z.$$arity=0),t.def(at,"$inspect",B=function(){var t=this;return f(t["$utc?"]())?t.$strftime("%Y-%m-%d %H:%M:%S UTC"):t.$strftime("%Y-%m-%d %H:%M:%S %z")},B.$$arity=0),t.alias(at,"mday","day"),t.def(at,"$min",D=function(){var t=this;return t.is_utc?t.getUTCMinutes():t.getMinutes()},D.$$arity=0),t.def(at,"$mon",F=function(){var t=this;return(t.is_utc?t.getUTCMonth():t.getMonth())+1},F.$$arity=0),t.def(at,"$monday?",L=function(){var t=this;return 1==t.$wday()},L.$$arity=0),t.alias(at,"month","mon"),t.def(at,"$saturday?",P=function(){var t=this;return 6==t.$wday()},P.$$arity=0),t.def(at,"$sec",q=function(){var t=this;return t.is_utc?t.getUTCSeconds():t.getSeconds()},q.$$arity=0),t.def(at,"$succ",j=function(){var t=this,e=new Date(t.getTime()+1e3);return e.is_utc=t.is_utc,e},j.$$arity=0),t.def(at,"$usec",U=function(){var t=this;return 1e3*t.getMilliseconds()},U.$$arity=0),t.def(at,"$zone",H=function(){var t,e=this,r=e.toString();return t=r.indexOf("(")==-1?r.match(/[A-Z]{3,4}/)[0]:r.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==t&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:t},H.$$arity=0),t.def(at,"$getgm",G=function(){var t=this,e=new Date(t.getTime());return e.is_utc=!0,e},G.$$arity=0),t.alias(at,"getutc","getgm"),t.def(at,"$gmtime",Y=function(){var t=this;return t.is_utc=!0,t},Y.$$arity=0),t.alias(at,"utc","gmtime"),t.def(at,"$gmt?",W=function(){var t=this;return t.is_utc===!0},W.$$arity=0),t.def(at,"$gmt_offset",X=function(){var t=this;return 60*-t.getTimezoneOffset()},X.$$arity=0),t.def(at,"$strftime",K=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,$){var a="",o=r.indexOf("0")!==-1,s=r.indexOf("-")===-1,u=r.indexOf("_")!==-1,l=r.indexOf("^")!==-1,c=r.indexOf("#")!==-1,h=(r.match(":")||[]).length;switch(n=parseInt(n,10),o&&u&&(r.indexOf("0")<r.indexOf("_")?o=!1:u=!1),$){case"Y":a+=e.$year();break;case"C":o=!u,a+=Math.round(e.$year()/100);break;case"y":o=!u,a+=e.$year()%100;break;case"m":o=!u,a+=e.$mon();break;case"B":a+=ct[e.$mon()-1];break;case"b":case"h":u=!o,a+=lt[e.$mon()-1];break;case"d":o=!u,a+=e.$day();break;case"e":u=!o,a+=e.$day();break;case"j":a+=e.$yday();break;case"H":o=!u,a+=e.$hour();break;case"k":u=!o,a+=e.$hour();break;case"I":o=!u,a+=e.$hour()%12||12;break;case"l":u=!o,a+=e.$hour()%12||12;break;case"P":a+=e.$hour()>=12?"pm":"am";break;case"p":a+=e.$hour()>=12?"PM":"AM";break;case"M":o=!u,a+=e.$min();break;case"S":o=!u,a+=e.$sec();break;case"L":o=!u,n=isNaN(n)?3:n,a+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,a+=e.getMilliseconds().toString().$rjust(3,"0"),a=a.$ljust(n,"0");break;case"z":var f=e.getTimezoneOffset(),_=Math.floor(Math.abs(f)/60),p=Math.abs(f)%60;a+=f<0?"+":"-",a+=_<10?"0":"",a+=_,h>0&&(a+=":"),a+=p<10?"0":"",a+=p,h>1&&(a+=":00");break;case"Z":a+=e.$zone();break;case"A":a+=st[e.$wday()];break;case"a":a+=ut[e.$wday()];break;case"u":a+=e.$wday()+1;break;case"w":a+=e.$wday();break;case"V":a+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":a+=e.$cweek_cyear()["$[]"](1);break;case"g":a+=e.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":a+=e.$to_i();break;case"n":a+="\n";break;case"t":a+="\t";break;case"%":a+="%";break;case"c":a+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":a+=e.$strftime("%m/%d/%y");break;case"F":a+=e.$strftime("%Y-%m-%d");break;case"v":a+=e.$strftime("%e-%^b-%4Y");break;case"r":a+=e.$strftime("%I:%M:%S %p");break;case"R":a+=e.$strftime("%H:%M");break;case"T":case"X":a+=e.$strftime("%H:%M:%S");break;default:return t}return l&&(a=a.toUpperCase()),c&&(a=a.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(o||u)&&(a=a.$rjust(isNaN(n)?2:n,u?" ":"0")),a})},K.$$arity=1),t.def(at,"$sunday?",V=function(){var t=this;return 0==t.$wday()},V.$$arity=0),t.def(at,"$thursday?",J=function(){var t=this;return 4==t.$wday()},J.$$arity=0),t.def(at,"$to_a",Z=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},Z.$$arity=0),t.def(at,"$to_f",Q=function(){var t=this;return t.getTime()/1e3},Q.$$arity=0),t.def(at,"$to_i",tt=function(){var t=this;return parseInt(t.getTime()/1e3,10)},tt.$$arity=0),t.alias(at,"to_s","inspect"),t.def(at,"$tuesday?",et=function(){var t=this;return 2==t.$wday()},et.$$arity=0),t.alias(at,"tv_sec","to_i"),t.alias(at,"tv_usec","usec"),t.alias(at,"utc?","gmt?"),t.alias(at,"gmtoff","gmt_offset"),t.alias(at,"utc_offset","gmt_offset"),t.def(at,"$wday",rt=function(){var t=this;return t.is_utc?t.getUTCDay():t.getDay()},rt.$$arity=0),t.def(at,"$wednesday?",nt=function(){var t=this;return 3==t.$wday()},nt.$$arity=0),t.def(at,"$year",it=function(){var t=this;return t.is_utc?t.getUTCFullYear():t.getFullYear()},it.$$arity=0),t.def(at,"$cweek_cyear",$t=function(){var t,e=this,r=u,o=u,s=u,c=u,h=u,d=u,_=u,p=u;return r=l(ot,"Time").$new(e.$year(),1,1),o=r.$wday(),s=0,c=e.$year(),f(f(t=a(o,4))?o["$!="](0):t)?h=$(o,1):(h=$($(o,7),1),h["$=="](-8)&&(h=-1)),d=i(n(e.$yday(),h),7).$ceil(),f(a(d,0))?l(ot,"Time").$new($(e.$year(),1),12,31).$cweek_cyear():(d["$=="](53)&&(_=l(ot,"Time").$new(e.$year(),12,31),p=_.$wday(),f(f(t=a(p,3))?p["$!="](0):t)&&(d=1,c=n(c,1))),[d,c])},$t.$$arity=0),u&&"cweek_cyear"}(s[0],Date,s)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,o=[],s=t.nil,u=(t.const_get_qualified,t.const_get_relative),l=(t.breaker,t.slice,t.klass),c=t.truthy,h=t.send,f=t.hash2;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),a.$require("corelib/enumerable"),function(a,o,d){function _(){}var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z=_=l(a,o,"Struct",_),B=(z.$$proto,[z].concat(d));return z.$include(u(B,"Enumerable")),t.defs(z,"$new",p=function(e,r,n){var i,$,a,o,l,d=this,_=p.$$p,y=_||s,m=s;if(a=t.slice.call(arguments,1,arguments.length),n=t.extract_kwargs(a),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=f([],{})}if(o=n.$$smap.keyword_init,null==o&&(o=!1),l=0<a.length?a.splice(0,a.length-0):[],_&&(p.$$p=null),c(e))try{e=u(B,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[u(B,"TypeError"),u(B,"NameError")]))throw r;try{l.$unshift(e),e=s}finally{t.pop_exception()}}return h(l,"map",[],(i=function(t){i.$$s||this;return null==t&&(t=s),u(B,"Opal")["$coerce_to!"](t,u(B,"String"),"to_str")},i.$$s=d,i.$$arity=1,i)),m=h(u(B,"Class"),"new",[d],($=function(){var e,r=$.$$s||this;return h(l,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){var n;e.$$proto,[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=this,i=s,$=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i=n.$allocate(),i.$$data={},h(i,"initialize",t.to_a(r)),i},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),B)},$.$$s=d,$.$$arity=0,$)),c(y)&&h(m,"module_eval",[],y.$to_proc()),m.$$keyword_init=o,c(e)&&u(B,"Struct").$const_set(e,m),m},p.$$arity=-2),t.defs(z,"$define_struct_attribute",y=function(t){var e,r,n=this;return n["$=="](u(B,"Struct"))&&n.$raise(u(B,"ArgumentError"),"you cannot define attributes to the Struct class"),n.$members()["$<<"](t),h(n,"define_method",[t],(e=function(){var r=e.$$s||this;return r.$$data[t]},e.$$s=n,e.$$arity=0,e)),h(n,"define_method",[""+t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=n,r.$$arity=1,r))},y.$$arity=1),t.defs(z,"$members",m=function(){var t,e=this;return null==e.members&&(e.members=s),e["$=="](u(B,"Struct"))&&e.$raise(u(B,"ArgumentError"),"the Struct class has no members"),e.members=c(t=e.members)?t:[]},m.$$arity=0),t.defs(z,"$inherited",g=function(t){var e,r=this,n=s;return null==r.members&&(r.members=s),n=r.members,h(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return t.members=n},e.$$s=r,e.$$arity=0,e))},g.$$arity=1),t.def(z,"$initialize",v=function(n){var i,$,a,o,l=this,d=s,_=s,p=arguments.length,y=p-0;y<0&&(y=0),o=new Array(y);for(var m=0;m<p;m++)o[m-0]=arguments[m];return c(l.$class().$$keyword_init)?(d=c(i=o.$last())?i:f([],{}),c(c(i=e(o.$length(),1))?i:1===o.length&&!d.$$is_hash)&&l.$raise(u(B,"ArgumentError"),"wrong number of arguments (given "+o.$length()+", expected 0)"),_=r(d.$keys(),l.$class().$members()),c(_["$any?"]())&&l.$raise(u(B,"ArgumentError"),"unknown keywords: "+_.$join(", ")),h(l.$class().$members(),"each",[],($=function(e){var n=$.$$s||this,i=s;return null==e&&(e=s),i=[e,d["$[]"](e)],h(n,"[]=",t.to_a(i)),i[r(i.length,1)]},$.$$s=l,$.$$arity=1,$))):(c(e(o.$length(),l.$class().$members().$length()))&&l.$raise(u(B,"ArgumentError"),"struct size differs"),h(l.$class().$members(),"each_with_index",[],(a=function(e,n){var i=a.$$s||this,$=s;return null==e&&(e=s),null==n&&(n=s),$=[e,o["$[]"](n)],h(i,"[]=",t.to_a($)),$[r($.length,1)]},a.$$s=l,a.$$arity=2,a)))},v.$$arity=-1),t.def(z,"$members",b=function(){var t=this;return t.$class().$members()},b.$$arity=0),t.def(z,"$hash",w=function(){var t=this;return u(B,"Hash").$new(t.$$data).$hash()},w.$$arity=0),t.def(z,"$[]",E=function(t){var e=this;return c(u(B,"Integer")["$==="](t))?(c(n(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(u(B,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),c(i(t,e.$class().$members().$size()))&&e.$raise(u(B,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):c(u(B,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(u(B,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(u(B,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(B,"Opal")["$coerce_to!"](t,u(B,"String"),"to_str"),e.$$data[t]},E.$$arity=1),t.def(z,"$[]=",k=function(t,e){var r=this;return c(u(B,"Integer")["$==="](t))?(c(n(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(u(B,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),c(i(t,r.$class().$members().$size()))&&r.$raise(u(B,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):c(u(B,"String")["$==="](t))?c(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(u(B,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(u(B,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(B,"Opal")["$coerce_to!"](t,u(B,"String"),"to_str"),r.$$data[t]=e},k.$$arity=2),t.def(z,"$==",x=function(t){function e(t,r){var $,a,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=r.$$data[$],u(B,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&i.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$=="](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},x.$$arity=1),t.def(z,"$eql?",A=function(t){function e(t,r){var $,a,o;n[t.$__id__()]=!0,i[r.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=r.$$data[$],u(B,"Struct")["$==="](a)){if(!(n.hasOwnProperty(a.$__id__())&&i.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$eql?"](o))return!1;return!0}var r=this;if(!c(t["$instance_of?"](r.$class())))return!1;var n={},i={};return e(r,t)},A.$$arity=1),t.def(z,"$each",O=function(){var e,r,n=this,i=O.$$p,$=i||s;return i&&(O.$$p=null),$===s?h(n,"enum_for",["each"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(h(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,n["$[]"](e))},r.$$s=n,r.$$arity=1,r)),n)},O.$$arity=0),t.def(z,"$each_pair",S=function(){var e,r,n=this,i=S.$$p,$=i||s;return i&&(S.$$p=null),$===s?h(n,"enum_for",["each_pair"],(e=function(){var t=e.$$s||this;return t.$size()},e.$$s=n,e.$$arity=0,e)):(h(n.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1($,[e,n["$[]"](e)])},r.$$s=n,r.$$arity=1,r)),n)},S.$$arity=0),t.def(z,"$length",R=function(){var t=this;return t.$class().$members().$length()},R.$$arity=0),t.alias(z,"size","length"),t.def(z,"$to_a",I=function(){var t,e=this;return h(e.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=e,t.$$arity=1,t))},I.$$arity=0),t.alias(z,"values","to_a"),t.def(z,"$inspect",T=function(){var t,e,r=this,n=s;return n="#<struct ",c(c(t=u(B,"Struct")["$==="](r))?r.$class().$name():t)&&(n=$(n,""+r.$class()+" ")),n=$(n,h(r.$each_pair(),"map",[],(e=function(t,r){e.$$s||this;return null==t&&(t=s),null==r&&(r=s),""+t+"="+r.$inspect()},e.$$s=r,e.$$arity=2,e)).$join(", ")),n=$(n,">")},T.$$arity=0),t.alias(z,"to_s","inspect"),t.def(z,"$to_h",M=function(){var e,n=this;return h(n.$class().$members(),"each_with_object",[f([],{})],(e=function(n,i){var $=e.$$s||this,a=s;return null==n&&(n=s),null==i&&(i=s),a=[n,$["$[]"](n)],h(i,"[]=",t.to_a(a)),a[r(a.length,1)]},e.$$s=n,e.$$arity=2,e))},M.$$arity=0),t.def(z,"$values_at",C=function(t){var e,r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var a=0;a<i;a++)r[a-0]=arguments[a];r=h(r,"map",[],(e=function(t){e.$$s||this;return null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=n,e.$$arity=1,e)).$flatten();for(var o=[],l=0,c=r.length;l<c;l++)r[l].$$is_number||n.$raise(u(B,"TypeError"),"no implicit conversion of "+r[l].$class()+" into Integer"),o.push(n["$[]"](r[l]));return o},C.$$arity=-1),t.def(z,"$dig",N=function(e,r){var n,i=this,$=s,a=arguments.length,o=a-1;o<0&&(o=0),n=new Array(o);for(var l=1;l<a;l++)n[l-1]=arguments[l];return $=function(){return c(e.$$is_string&&i.$$data.hasOwnProperty(e))?i.$$data[e]||s:s}(),$===s||0===n.length?$:(c($["$respond_to?"]("dig"))||i.$raise(u(B,"TypeError"),""+$.$class()+" does not have #dig method"),h($,"dig",t.to_a(n)))},N.$$arity=-2),s&&"dig"}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=(t.top,[]),n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=(t.breaker,t.slice,t.klass),o=t.module,s=t.send,u=t.gvars,l=t.truthy,c=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){function c(){}var h,f,d,_,p=c=a(e,r,"IO",c),y=p.$$proto,m=[p].concat(i);return y.tty=y.closed=n,t.const_set(m[0],"SEEK_SET",0),t.const_set(m[0],"SEEK_CUR",1),t.const_set(m[0],"SEEK_END",2),t.def(p,"$tty?",h=function(){var t=this;return t.tty},h.$$arity=0),t.def(p,"$closed?",f=function(){var t=this;return t.closed},f.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",d=function(t){var e=this;return e.write_proc(t),t.$size()},d.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",_=function(){return n},_.$$arity=0),function(e,r){var i,$,a,c,h=i=o(e,"Writable");h.$$proto,[h].concat(r);t.def(h,"$<<",$=function(t){var e=this;return e.$write(t),e},$.$$arity=1),t.def(h,"$print",a=function(t){var e,r,i=this;null==u[","]&&(u[","]=n);var $=arguments.length,a=$-0;a<0&&(a=0),r=new Array(a);for(var o=0;o<$;o++)r[o-0]=arguments[o];return i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t)},e.$$s=i,e.$$arity=1,e)).$join(u[","])),n},a.$$arity=-1),t.def(h,"$puts",c=function(t){var e,r,i=this,$=n;null==u["/"]&&(u["/"]=n);var a=arguments.length,o=a-0;o<0&&(o=0),r=new Array(o);for(var c=0;c<a;c++)r[c-0]=arguments[c];return $=u["/"],l(r["$empty?"]())?i.$write(u["/"]):i.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t).$chomp()},e.$$s=i,e.$$arity=1,e)).$concat([n]).$join($)),n},c.$$arity=-1)}(m[0],m),function(e,r){var i,a,s,l,c,h=i=o(e,"Readable"),f=(h.$$proto,[h].concat(r));t.def(h,"$readbyte",a=function(){var t=this;return t.$getbyte()},a.$$arity=0),t.def(h,"$readchar",s=function(){var t=this;return t.$getc()},s.$$arity=0),t.def(h,"$readline",l=function(t){var e=this;return null==u["/"]&&(u["/"]=n),null==t&&(t=u["/"]),e.$raise($(f,"NotImplementedError"))},l.$$arity=-1),t.def(h,"$readpartial",c=function(t,e){var r=this;return null==e&&(e=n),r.$raise($(f,"NotImplementedError"))},c.$$arity=-2)}(m[0],m)}(r[0],null,r),t.const_set(r[0],"STDERR",u.stderr=$(r,"IO").$new()),t.const_set(r[0],"STDIN",u.stdin=$(r,"IO").$new()),t.const_set(r[0],"STDOUT",u.stdout=$(r,"IO").$new());var h=t.global.console;return c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){h.log(t)}],s($(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){h.warn(t)}],s($(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],$(r,"STDOUT").$extend(i($(r,"IO"),"Writable")),$(r,"STDERR").$extend(i($(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return a(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(t){var e=(t.top,[]),r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$[]"]),function(e,a,o){function s(){}var u=s=i(e,a,"Dir",s),l=(u.$$proto,[u].concat(o));return function(e,i){var a,o,s,u=(e.$$proto,[e].concat(i));return t.def(e,"$chdir",a=function(e){var n=a.$$p,i=n||r,$=r;return n&&(a.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},a.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return $(t=n(u,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(u),l)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.range,u=t.send;return t.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(n,l,c){function h(){}var f=h=a(n,l,"File",h),d=(f.$$proto,[f].concat(c)),_=i;return t.const_set(d[0],"Separator",t.const_set(d[0],"SEPARATOR","/")),t.const_set(d[0],"ALT_SEPARATOR",i),t.const_set(d[0],"PATH_SEPARATOR",":"),t.const_set(d[0],"FNM_SYSCASE",0),_=/^[a-zA-Z]:(?:\\|\/)/,function(n,a){function l(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"String"),"to_str")}function c(){return $(b,"ALT_SEPARATOR")===i?t.escape_regexp($(b,"SEPARATOR")):t.escape_regexp(e($(b,"SEPARATOR"),$(b,"ALT_SEPARATOR")))}var h,f,d,p,y,m,g,v,b=(n.$$proto,[n].concat(a));return t.def(n,"$expand_path",h=function(t,r){var n,a=this,s=i,u=i,l=i,h=i,f=i,d=i,p=i,y=i,m=i,g=i,v=i;null==r&&(r=i),s=$(b,"SEPARATOR"),u=c(),l=[],o("~"===t[0]||r&&"~"===r[0])&&(h=$(b,"Dir").$home(),o(h)||a.$raise($(b,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),o(h["$start_with?"](s))||a.$raise($(b,"ArgumentError"),"non-absolute home"),h=e(h,s),f=new RegExp("^\\~(?:"+s+"|$)"),t=t.$sub(f,h),o(r)&&(r=r.$sub(f,h))),r=o(n=r)?n:$(b,"Dir").$pwd(),d=t.substr(0,s.length)===s||_.test(t),p=r.substr(0,s.length)===s||_.test(r),o(d)?(y=t.$split(new RegExp("["+u+"]")),m=_.test(t)?"":t.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=!0):(y=e(r.$split(new RegExp("["+u+"]")),t.$split(new RegExp("["+u+"]"))),m=_.test(r)?"":r.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),g=p);for(var w,E=0,k=y.length;E<k;E++)w=y[E],w===i||""===w&&(0===l.length||g)||"."===w&&(0===l.length||g)||(".."===w?l.pop():l.push(w));return g||"."===y[0]||l.$unshift("."),v=l.$join(s),o(g)&&(v=e(m,v)),v},h.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",f=function(t){var e=i;e=c(),t=l(t);var r=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?r?"/":".":t},f.$$arity=1),t.def(n,"$basename",d=function(e,r){var n=i;return null==r&&(r=i),n=c(),e=l(e),0==e.length?e:(r=r!==i?$(b,"Opal")["$coerce_to!"](r,$(b,"String"),"to_str"):null,e=e.replace(new RegExp("(.)["+n+"]*$"),"$1"),e=e.replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(""+r+"$"),"")),e)},d.$$arity=-2),t.def(n,"$extname",p=function(n){var $,a=this,u=i,c=i;return n=l(n),u=a.$basename(n),o(u["$empty?"]())?"":(c=u["$[]"](s(1,-1,!1)).$rindex("."),o(o($=c["$nil?"]())?$:e(c,1)["$=="](r(u.$length(),1)))?"":u["$[]"](t.Range.$new(e(c,1),-1,!1)))},p.$$arity=1),t.def(n,"$exist?",y=function(e){return null!=t.modules[e]},y.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",m=function(e){var r,n=this,a=i,o=i;a=[];for(var s in t.modules)a.push(s);return e=e.$gsub(new RegExp("(^."+$(b,"SEPARATOR")+"+|"+$(b,"SEPARATOR")+"+$)")),o=u(a,"find",[],(r=function(t){r.$$s||this;return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},r.$$s=n,r.$$arity=1,r))},m.$$arity=1),t.def(n,"$join",g=function(t){var r,n,a,s=this,l=i,c=arguments.length,h=c-0;h<0&&(h=0),a=new Array(h);for(var f=0;f<c;f++)a[f-0]=arguments[f];return o(a["$empty?"]())?"":(l="",a=u(a.$flatten().$each_with_index(),"map",[],(r=function(t,n){var s;r.$$s||this;return null==t&&(t=i),null==n&&(n=i),o((s=n["$=="](0))?t["$empty?"]():n["$=="](0))?$(b,"SEPARATOR"):o((s=a.$length()["$=="](e(n,1)))?t["$empty?"]():a.$length()["$=="](e(n,1)))?$(b,"SEPARATOR"):t},r.$$s=s,r.$$arity=2,r)),a=u(a,"reject",[],"empty?".$to_proc()),u(a,"each_with_index",[],(n=function(t,r){var s,u=(n.$$s||this,i);return null==t&&(t=i),null==r&&(r=i),u=a["$[]"](e(r,1)),o(u["$nil?"]())?l=""+l+t:(o(o(s=t["$end_with?"]($(b,"SEPARATOR")))?u["$start_with?"]($(b,"SEPARATOR")):s)&&(t=t.$sub(new RegExp(""+$(b,"SEPARATOR")+"+$"),"")),l=function(){return o(o(s=t["$end_with?"]($(b,"SEPARATOR")))?s:u["$start_with?"]($(b,"SEPARATOR")))?""+l+t:""+l+t+$(b,"SEPARATOR")}())},n.$$s=s,n.$$arity=2,n)),l)},g.$$arity=-1),t.def(n,"$split",v=function(t){return t.$split($(b,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(f),d)}(n[0],$(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){var e=(t.top,[]),r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.klass),a=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,s){function u(){}var l,c,h,f,d=u=$(e,o,"Process",u),_=(d.$$proto,[d].concat(s)),p=r;if(d.__clocks__=[],t.defs(d,"$__register_clock__",l=function(t,e){var n=this;return null==n.__clocks__&&(n.__clocks__=r),n.$const_set(t,n.__clocks__.$size()),n.__clocks__["$<<"](e)},l.$$arity=2),d.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var y=process.hrtime();p=function(){var t=process.hrtime(y),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}return a(p)&&d.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(d,"$pid",c=function(){return 0},c.$$arity=0),t.defs(d,"$times",h=function(){var t=r;return t=i(_,"Time").$now().$to_f(),n(i(_,"Benchmark"),"Tms").$new(t,t,t,t,t)},h.$$arity=0),t.defs(d,"$clock_gettime",f=function(t,e){var $,o=this,s=r;null==o.__clocks__&&(o.__clocks__=r),null==e&&(e="float_second"),a($=s=o.__clocks__["$[]"](t))?$:o.$raise(n(i(_,"Errno"),"EINVAL"),"clock_gettime("+t+") "+o.__clocks__["$[]"](t));var u=s();switch(e){case"float_second":return u/1e3;case"float_millisecond":return u/1;case"float_microsecond":return 1e3*u;case"second":return u/1e3|0;case"millisecond":return u/1|0;case"microsecond":return 1e3*u|0;case"nanosecond":return 1e6*u|0;default:o.$raise(i(_,"ArgumentError"),"unexpected unit: "+e)}},f.$$arity=-2),r&&"clock_gettime"}(e[0],null,e),function(e,n,i){function a(){}var o,s=a=$(e,n,"Signal",a);s.$$proto,[s].concat(i);return t.defs(s,"$trap",o=function(t){return r},o.$$arity=-1),r&&"trap"}(e[0],null,e),function(e,n,i){function a(){}var o,s=a=$(e,n,"GC",a);s.$$proto,[s].concat(i);return t.defs(s,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=(t.top,[]),r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass);return function(t,e,n){function i(){}var $=i=r(t,e,"Random",i);$.$$proto,[$].concat(n);!function(t,e){function r(r,u,l){var f=[];u=1==u?{entropy:!0}:u||{};var m=a($(u.entropy?[r,s(t)]:null==r?o():r,3),f),g=new n(f),v=function(){for(var t=g.g(h),e=_,r=0;t<p;)t=(t+r)*c,e*=c,r=g.g(1);for(;t>=y;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|g.g(4)},v.quick=function(){return g.g(4)/4294967296},v.double=v,a(s(g.S),t),(u.pass||l||function(t,r,n,$){return $&&($.S&&i($,g),t.state=function(){return i(g,{})}),n?(e[d]=t,r):t})(v,m,"global"in u?u.global:this==e,u.state)}function n(t){var e,r=t.length,n=this,i=0,$=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[$=m&$+t[i%r]+(e=a[i])],a[$]=e;(n.g=function(t){for(var e,r=0,i=n.i,$=n.j,a=n.S;t--;)e=a[i=m&i+1],r=r*c+a[m&(a[i]=a[$=m&$+e])+(a[$]=e)];return n.i=i,n.j=$,r})(c)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function $(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)if(t.hasOwnProperty(r))try{n.push($(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function a(t,e){for(var r,n=t+"",i=0;i<n.length;)e[m&i]=m&(r^=19*e[m&i])+n.charCodeAt(i++);return s(e)}function o(){try{if(u)return s(u.randomBytes(c));var e=new Uint8Array(c);return(l.crypto||l.msCrypto).getRandomValues(e),s(e)}catch(e){var r=l.navigator,n=r&&r.plugins;return[+new Date,l,n,l.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var u,l=this,c=256,h=6,f=52,d="random",_=e.pow(c,h),p=e.pow(2,f),y=2*p,m=c-1;if(e["seed"+d]=r,a(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{u=__webpack_require__(230)}catch(t){}}else __webpack_require__(220)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)));
}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r=t.top,n=[],i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.klass),o=t.truthy,s=t.send;return t.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state"]),r.$require("corelib/random/seedrandom.js"),function(r,n,u){function l(){}var c,h,f,d,_,p,y,m,g,v=l=a(r,n,"Random",l),b=(v.$$proto,[v].concat(u));v.$attr_reader("seed","state"),t.def(v,"$initialize",c=function(t){var e=this;return null==t&&(t=$(b,"Random").$new_seed()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),e.state=t,e.$reseed(t)},c.$$arity=-1),t.def(v,"$reseed",h=function(t){var e=this;return e.seed=t,e.$rng=new Math.seedrandom(t)},h.$$arity=1);var w=new Math.seedrandom("opal",{entropy:!0});return t.defs(v,"$new_seed",f=function(){return Math.abs(w.int32())},f.$$arity=0),t.defs(v,"$rand",d=function(t){return $(b,"DEFAULT").$rand(t)},d.$$arity=-1),t.defs(v,"$srand",_=function(t){var e=i;return null==t&&(t=$(b,"Random").$new_seed()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),e=$(b,"DEFAULT").$seed(),$(b,"DEFAULT").$reseed(t),e},_.$$arity=-1),t.defs(v,"$urandom",p=function(t){var r,n=this;return t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),o(e(t,0))&&n.$raise($(b,"ArgumentError"),"negative string size (or size too big)"),s($(b,"Array"),"new",[t],(r=function(){var t=r.$$s||this;return t.$rand(255).$chr()},r.$$s=n,r.$$arity=0,r)).$join().$encode("ASCII-8BIT")},p.$$arity=1),t.const_set(b[0],"DEFAULT",v.$new(v.$new_seed())),t.def(v,"$==",y=function(t){var e,r=this;return!!o($(b,"Random")["$==="](t))&&((e=r.$seed()["$=="](t.$seed()))?r.$state()["$=="](t.$state()):r.$seed()["$=="](t.$seed()))},y.$$arity=1),t.def(v,"$bytes",m=function(t){var e,r=this;return t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),s($(b,"Array"),"new",[t],(e=function(){var t=e.$$s||this;return t.$rand(255).$chr()},e.$$s=r,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},m.$$arity=1),t.def(v,"$rand",g=function(t){function e(){return a.state++,a.$rng.quick()}function r(){return Math.floor(e()*t)}function n(){var e=t.begin,r=t.end;if(e===i||r===i)return i;var n=r-e;return n<0?i:0===n?e:(r%1!==0||e%1!==0||t.excl||n++,a.$rand(n)+e)}var a=this;return null==t?e():t.$$is_range?n():t.$$is_number?(t<=0&&a.$raise($(b,"ArgumentError"),"invalid argument - "+t),t%1===0?r():e()*t):(t=$(b,"Opal")["$coerce_to!"](t,$(b,"Integer"),"to_int"),t<=0&&a.$raise($(b,"ArgumentError"),"invalid argument - "+t),r())},g.$$arity=-1),i&&"rand"}(n[0],null,n)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":s(a,"Kernel").$raise(s(a,"NotImplementedError"),e);break;case"warning":r(e)}}function r(t){c[t]||(c[t]=!0,$.$warn(t))}var n,i,$=t.top,a=[],o=t.nil,s=(t.const_get_qualified,t.const_get_relative),u=(t.breaker,t.slice,t.klass),l=t.module;t.add_stubs(["$raise","$warn","$%"]);var c={};return function(e,r,n){function i(){}var $,a,l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O=i=u(e,r,"String",i),S=(O.$$proto,[O].concat(n)),R="String#%s not supported. Mutable String methods are not supported in Opal.";return t.def(O,"$<<",$=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("<<"))},$.$$arity=-1),t.def(O,"$capitalize!",a=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("capitalize!"))},a.$$arity=-1),t.def(O,"$chomp!",l=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("chomp!"))},l.$$arity=-1),t.def(O,"$chop!",c=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("chop!"))},c.$$arity=-1),t.def(O,"$downcase!",h=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("downcase!"))},h.$$arity=-1),t.def(O,"$gsub!",f=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("gsub!"))},f.$$arity=-1),t.def(O,"$lstrip!",d=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("lstrip!"))},d.$$arity=-1),t.def(O,"$next!",_=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("next!"))},_.$$arity=-1),t.def(O,"$reverse!",p=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("reverse!"))},p.$$arity=-1),t.def(O,"$slice!",y=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("slice!"))},y.$$arity=-1),t.def(O,"$squeeze!",m=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("squeeze!"))},m.$$arity=-1),t.def(O,"$strip!",g=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("strip!"))},g.$$arity=-1),t.def(O,"$sub!",v=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("sub!"))},v.$$arity=-1),t.def(O,"$succ!",b=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("succ!"))},b.$$arity=-1),t.def(O,"$swapcase!",w=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("swapcase!"))},w.$$arity=-1),t.def(O,"$tr!",E=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("tr!"))},E.$$arity=-1),t.def(O,"$tr_s!",k=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("tr_s!"))},k.$$arity=-1),t.def(O,"$upcase!",x=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("upcase!"))},x.$$arity=-1),t.def(O,"$prepend",A=function(t){var e=this;return e.$raise(s(S,"NotImplementedError"),R["$%"]("prepend"))},A.$$arity=-1),o&&"prepend"}(a[0],null,a),function(r,n){var i,$,a,o=i=l(r,"Kernel"),s=(o.$$proto,[o].concat(n),"Object freezing is not supported by Opal");t.def(o,"$freeze",$=function(){var t=this;return e(s),t},$.$$arity=0),t.def(o,"$frozen?",a=function(){return e(s),!1},a.$$arity=0)}(a[0],a),function(r,n){var i,$,a,o,s=i=l(r,"Kernel"),u=(s.$$proto,[s].concat(n),"Object tainting is not supported by Opal");t.def(s,"$taint",$=function(){var t=this;return e(u),t},$.$$arity=0),t.def(s,"$untaint",a=function(){var t=this;return e(u),t},a.$$arity=0),t.def(s,"$tainted?",o=function(){return e(u),!1},o.$$arity=0)}(a[0],a),function(e,r,n){function i(){}var $,a,s,l,c=i=u(e,r,"Module",i);c.$$proto,[c].concat(n);return t.def(c,"$public",$=function(t){var e,r=this,n=arguments.length,i=n-0;i<0&&(i=0),e=new Array(i);for(var $=0;$<n;$++)e[$-0]=arguments[$];return 0===e.length&&(r.$$module_function=!1),o},$.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",a=function(t){var e=this;return e},a.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",s=function(t){return!1},s.$$arity=1),t.def(c,"$private_constant",l=function(t){return o},l.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_method_defined?","method_defined?")}(a[0],null,a),function(e,r){var n,i,$=n=l(e,"Kernel");$.$$proto,[$].concat(r);t.def($,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias($,"private_instance_methods","private_methods")}(a[0],a),function(e,r){var n,i,$=n=l(e,"Kernel"),a=($.$$proto,[$].concat(r));t.def($,"$eval",i=function(t){var e=this;return e.$raise(s(a,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+s(a,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},i.$$arity=-1)}(a[0],a),t.defs($,"$public",n=function(t){return o},n.$$arity=-1),t.defs($,"$private",i=function(t){return o},i.$$arity=-1),o&&"private"},Opal.modules.opal=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")}}).call(exports,function(){return this}(),__webpack_require__(15))},119:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=(t.top,[]),a=t.nil,o=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function($,u,l){function c(){}var h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I=c=o($,u,"StringIO",c),T=I.$$proto,M=[I].concat(l);return T.position=T.string=T.closed=a,I.$include(t.const_get_qualified(t.const_get_relative(M,"IO"),"Readable")),I.$include(t.const_get_qualified(t.const_get_relative(M,"IO"),"Writable")),t.defs(I,"$open",h=function(t,e){var r=this,n=h.$$p,i=n||a,$=a,o=a;return null==t&&(t=""),null==e&&(e=a),n&&(h.$$p=null),$=r.$new(t,e),o=i.$call($),$.$close(),o},h.$$arity=-1),I.$attr_accessor("string"),t.defn(I,"$initialize",f=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),s(s(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":s(s(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":a},f.$$arity=-1),t.defn(I,"$eof?",d=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},d.$$arity=0),t.alias(I,"eof","eof?"),t.defn(I,"$seek",_=function($,o){var u=this,l=a;return null==o&&(o=t.const_get_qualified(t.const_get_relative(M,"IO"),"SEEK_SET")),l=o,t.const_get_qualified(t.const_get_relative(M,"IO"),"SEEK_SET")["$==="](l)?(s(e($,0))||u.$raise(t.const_get_qualified(t.const_get_relative(M,"Errno"),"EINVAL")),u.position=$):t.const_get_qualified(t.const_get_relative(M,"IO"),"SEEK_CUR")["$==="](l)?s(r(n(u.position,$),u.string.$length()))?u.position=u.string.$length():u.position=n(u.position,$):t.const_get_qualified(t.const_get_relative(M,"IO"),"SEEK_END")["$==="](l)&&(s(r($,u.string.$length()))?u.position=0:u.position=i(u.position,$)),0},_.$$arity=-2),t.defn(I,"$tell",p=function(){var t=this;return t.position},p.$$arity=0),t.alias(I,"pos","tell"),t.alias(I,"pos=","seek"),t.defn(I,"$rewind",y=function(){var t=this;return t.$seek(0)},y.$$arity=0),t.defn(I,"$each_byte",m=function(){var t=this,e=m.$$p,r=e||a,i=a;if(e&&(m.$$p=null),!s(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),i=n(i,1);return t},m.$$arity=0),t.defn(I,"$each_char",g=function(){var t=this,e=g.$$p,r=e||a,i=a;if(e&&(g.$$p=null),!s(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!s(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},g.$$arity=0),t.defn(I,"$write",v=function(e){var r=this,$=a,o=a;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):($=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n($,e),o),r.position=n(r.position,e.$length()))},v.$$arity=1),t.defn(I,"$read",b=function(e,r){var i=this,$=a,o=a;return null==e&&(e=a),null==r&&(r=a),i.$check_readable(),s(i["$eof?"]())?a:($=function(){return s(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),s(r)?r.$write($):$)},b.$$arity=-1),t.defn(I,"$close",w=function(){var t=this;return t.closed="both"},w.$$arity=0),t.defn(I,"$close_read",E=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},E.$$arity=0),t.defn(I,"$close_write",k=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},k.$$arity=0),t.defn(I,"$closed?",x=function(){var t=this;return t.closed["$=="]("both")},x.$$arity=0),t.defn(I,"$closed_read?",A=function(){var t,e=this;return s(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},A.$$arity=0),t.defn(I,"$closed_write?",O=function(){var t,e=this;return s(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},O.$$arity=0),t.defn(I,"$check_writable",S=function(){var e=this;return s(e["$closed_write?"]())?e.$raise(t.const_get_relative(M,"IOError"),"not opened for writing"):a},S.$$arity=0),t.defn(I,"$check_readable",R=function(){var e=this;return s(e["$closed_read?"]())?e.$raise(t.const_get_relative(M,"IOError"),"not opened for reading"):a},R.$$arity=0),a&&"check_readable"}($[0],t.const_get_relative($,"IO"),$)},Opal.modules["open-uri"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=(t.breaker,t.slice,t.module),o=t.truthy,s=t.send,u=t.hash2,l=t.klass;return t.add_stubs(["$require","$private","$respond_to?","$=~","$open_uri","$to_proc","$open_uri_original_open","$module_function","$open_loop","$rewind","$close_io","$close!","$closed?","$close","$request","$==","$build_response","$raise","$new","$<<","$io","$status=","$-","$meta_add_field","$attr_reader","$+","$length","$===","$init","$extend","$instance_eval","$status","$base_uri","$base_uri=","$each","$metas","$meta_add_field2","$attr_accessor","$charset","$find_encoding","$set_encoding","$force_encoding","$string","$find","$downcase","$[]=","$join","$meta_setup_encoding","$[]","$utc","$at","$content_type_parse","$scheme","$open","$read"]),n.$require("stringio"),function(e,r){var n,i,u=n=a(e,"Kernel"),l=(u.$$proto,[u].concat(r));u.$private(),t.alias(u,"open_uri_original_open","open"),function(e,r){e.$$proto,[e].concat(r);return t.alias(e,"open_uri_original_open","open")}(t.get_singleton_class(u),l),t.defn(u,"$open",i=function(e,r){var n,a,u=this,c=i.$$p,h=c||$,f=arguments.length,d=f-1;d<0&&(d=0),a=new Array(d);for(var _=1;_<f;_++)a[_-1]=arguments[_];return c&&(i.$$p=null),o(o(n=e["$respond_to?"]("to_str"))?/^[A-Za-z][A-Za-z0-9+\-\.]*:\/\//["$=~"](e):n)?s(t.const_get_relative(l,"OpenURI"),"open_uri",[e].concat(t.to_a(a)),h.$to_proc()):s(u,"open_uri_original_open",[e].concat(t.to_a(a)),h.$to_proc())},i.$$arity=-2),u.$module_function("open")}(i[0],i),function(n,i){var c,h,f,d,_,p,y=c=a(n,"OpenURI"),m=(y.$$proto,[y].concat(i));t.defs(y,"$open_uri",h=function(e,r){var n,i=this,a=h.$$p,o=a||$,s=$,l=arguments.length,c=l-1;c<0&&(c=0),n=new Array(c);for(var f=1;f<l;f++)n[f-1]=arguments[f];return a&&(h.$$p=null),s=i.$open_loop(e,u([],{})),s.$rewind(),o!==$?function(){try{return t.yield1(o,s)}finally{i.$close_io(s)}}():s},h.$$arity=-2),t.defs(y,"$close_io",f=function(t){return o(t["$respond_to?"]("close!"))?t["$close!"]():o(t["$closed?"]())?$:t.$close()},f.$$arity=1),t.defs(y,"$open_loop",d=function(e,r){var n,i,a=this,s=$,u=$,l=$,c=$;return s=a.$request(e),u=s.responseText,l=s.status,c=s.statusText&&s.statusText.errno?s.statusText.errno:s.statusText,o(o(n=l["$=="](200))?n:(i=l["$=="](0))?u:l["$=="](0))?a.$build_response(s,u,l,c):a.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(""+l+" "+c,""))},d.$$arity=2),t.defs(y,"$build_response",_=function(r,n,i,a){var u=$,l=$,c=$,h=$;return u=t.const_get_relative(m,"Buffer").$new(),u["$<<"](n),l=u.$io(),c=[""+i+" "+a],s(l,"status=",t.to_a(c)),c[e(c.length,1)],l.$meta_add_field("content-type",r.getResponseHeader("Content-Type")),h=r.getResponseHeader("Last-Modified"),o(h)&&l.$meta_add_field("last-modified",h),l},_.$$arity=4),t.defs(y,"$request",p=function(e){var r=this;try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n}catch(e){r.$raise(t.const_get_qualified(t.const_get_relative(m,"OpenURI"),"HTTPError").$new(e.message,""))}},p.$$arity=1),function(e,r,n){function i(){}var $,a=i=l(e,r,"HTTPError",i);a.$$proto,[a].concat(n);return t.defn(a,"$initialize",$=function(e,r){var n=this,i=$.$$p;return i&&($.$$p=null),s(n,t.find_super_dispatcher(n,"initialize",$,!1),[e,r],null),n.io=r},$.$$arity=2),a.$attr_reader("io")}(m[0],t.const_get_relative(m,"StandardError"),m),function(e,n,i){function a(){}var s,u,c,h=a=l(e,n,"Buffer",a),f=h.$$proto,d=[h].concat(i);return f.io=f.size=$,t.defn(h,"$initialize",s=function(){var e=this;return e.io=t.const_get_relative(d,"StringIO").$new(),e.size=0},s.$$arity=0),h.$attr_reader("size"),t.defn(h,"$<<",u=function(t){var e=this;return e.io["$<<"](t),e.size=r(e.size,t.$length())},u.$$arity=1),t.defn(h,"$io",c=function(){var e=this;return o(t.const_get_relative(d,"Meta")["$==="](e.io))||t.const_get_relative(d,"Meta").$init(e.io),e.io},c.$$arity=0),$&&"io"}(m[0],null,m),function(r,n){var i,l,c,h,f,d,_,p,y,m,g,v=i=a(r,"Meta"),b=(v.$$proto,[v].concat(n));t.defs(t.const_get_relative(b,"Meta"),"$init",l=function(r,n){var i,a,l=this,c=$;return null==n&&(n=$),r.$extend(t.const_get_relative(b,"Meta")),s(r,"instance_eval",[],(i=function(){var t=i.$$s||this;return t.base_uri=$,t.meta=u([],{}),t.metas=u([],{})},i.$$s=l,i.$$arity=0,i)),o(n)?(c=[n.$status()],s(r,"status=",t.to_a(c)),c[e(c.length,1)],c=[n.$base_uri()],s(r,"base_uri=",t.to_a(c)),c[e(c.length,1)],s(n.$metas(),"each",[],(a=function(t,e){a.$$s||this;return null==t&&(t=$),null==e&&(e=$),r.$meta_add_field2(t,e)},a.$$s=l,a.$$arity=2,a))):$},l.$$arity=-2),v.$attr_accessor("status"),v.$attr_accessor("base_uri"),v.$attr_reader("meta"),v.$attr_reader("metas"),t.defn(v,"$meta_setup_encoding",c=function(){var t=this,e=$,r=$;return e=t.$charset(),r=t.$find_encoding(e),t.$set_encoding(r)},c.$$arity=0),t.defn(v,"$set_encoding",h=function(t){var e=this;return o(e["$respond_to?"]("force_encoding"))?e.$force_encoding(t):o(e["$respond_to?"]("string"))?e.$string().$force_encoding(t):e.$set_encoding(t)},h.$$arity=1),t.defn(v,"$find_encoding",f=function(e){var r=$;if(r=$,o(e))try{r=t.const_get_relative(b,"Encoding").$find(e)}catch(e){if(!t.rescue(e,[t.const_get_relative(b,"ArgumentError")]))throw e;try{}finally{t.pop_exception()}}return o(r)||(r=t.const_get_qualified(t.const_get_relative(b,"Encoding"),"ASCII_8BIT")),r},f.$$arity=1),t.defn(v,"$meta_add_field2",d=function(r,n){var i=this,a=$;return null==i.metas&&(i.metas=$),null==i.meta&&(i.meta=$),r=r.$downcase(),a=[r,n],s(i.metas,"[]=",t.to_a(a)),a[e(a.length,1)],a=[r,n.$join(", ")],s(i.meta,"[]=",t.to_a(a)),a[e(a.length,1)],r["$=="]("content-type")?i.$meta_setup_encoding():$},d.$$arity=2),t.defn(v,"$meta_add_field",_=function(t,e){var r=this;return r.$meta_add_field2(t,[e])},_.$$arity=2),t.defn(v,"$last_modified",p=function(){var e=this,r=$;return null==e.metas&&(e.metas=$),o(r=e.metas["$[]"]("last-modified"))?t.const_get_relative(b,"Time").$at(Date.parse(r.$join(", "))/1e3).$utc():$},p.$$arity=0),t.defn(v,"$content_type_parse",y=function(){var t=this,e=$;return null==t.metas&&(t.metas=$),e=t.metas["$[]"]("content-type"),e.$join(", ")},y.$$arity=0),t.defn(v,"$charset",m=function(){var t,e,r,n=this,i=$;return null==n.base_uri&&(n.base_uri=$),i=n.$content_type_parse(),o(o(t=o(e=o(r=i)?/^text\//["$=~"](i):r)?n.base_uri:e)?/^http$/i["$=~"](n.base_uri.$scheme()):t)?"iso-8859-1":$},m.$$arity=0),t.defn(v,"$content_type",g=function(){var t,e=this,r=$;return r=e.$content_type_parse(),o(t=r)?t:"application/octet-stream"},g.$$arity=0)}(m[0],m),function(e,r){var n,i,o,l=n=a(e,"OpenRead"),c=(l.$$proto,[l].concat(r));t.defn(l,"$open",i=function(e){var r,n=this,a=i.$$p,o=a||$,u=arguments.length,l=u-0;l<0&&(l=0),r=new Array(l);for(var h=0;h<u;h++)r[h-0]=arguments[h];return a&&(i.$$p=null),s(t.const_get_relative(c,"OpenURI"),"open_uri",[n].concat(t.to_a(r)),o.$to_proc())},i.$$arity=-1),t.defn(l,"$read",o=function(e){var r,n=this;return null==e&&(e=u([],{})),s(n,"open",[e],(r=function(e){var n=(r.$$s||this,$);return null==e&&(e=$),n=e.$read(),t.const_get_relative(c,"Meta").$init(n,e),n},r.$$s=n,r.$$arity=1,r))},o.$$arity=-1)}(m[0],m)}(i[0],i)}},120:function(t,e){Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=(t.top,[]),i=t.nil,$=(t.const_get_qualified,t.const_get_relative),a=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,s){var u,l,c,h,f,d,_,p,y,m=u=a(n,"Comparable"),g=(m.$$proto,[m].concat(s));t.defs(m,"$normalize",l=function(t){return o($(g,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=this,n=i;try{return!!o(r["$equal?"](e))||r["$<=>"]!=t.Kernel["$<=>"]&&(r.$$comparable?(delete r.$$comparable,!1):!!o(n=r["$<=>"](e))&&0==$(g,"Comparable").$normalize(n))}catch(e){if(!t.rescue(e,[$(g,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",h=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>0},h.$$arity=1),t.def(m,"$>=",f=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)>=0},f.$$arity=1),t.def(m,"$<",d=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<0},d.$$arity=1),t.def(m,"$<=",_=function(t){var e=this,r=i;return o(r=e["$<=>"](t))||e.$raise($(g,"ArgumentError"),"comparison of "+e.$class()+" with "+t.$class()+" failed"),$(g,"Comparable").$normalize(r)<=0},_.$$arity=1),t.def(m,"$between?",p=function(t,n){var i=this;return!r(i,t)&&!e(i,n)},p.$$arity=2),t.def(m,"$clamp",y=function(t,n){var a=this,s=i;return s=t["$<=>"](n),o(s)||a.$raise($(g,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(g,"Comparable").$normalize(s),0))&&a.$raise($(g,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(g,"Comparable").$normalize(a["$<=>"](t)),0))?t:o(e($(g,"Comparable").$normalize(a["$<=>"](n)),0))?n:a},y.$$arity=2)}(n[0],n)},Opal.modules.pathname=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=(t.breaker,t.slice,t.klass),s=t.truthy,u=t.send,l=t.module;return t.add_stubs(["$require","$include","$quote","$===","$to_s","$path","$respond_to?","$to_path","$is_a?","$nil?","$raise","$class","$==","$attr_reader","$!","$relative?","$chop_basename","$basename","$=~","$new","$source","$[]","$rindex","$sub","$absolute?","$expand_path","$plus","$unshift","$length","$!=","$empty?","$first","$shift","$+","$join","$dirname","$pop","$reverse_each","$directory?","$extname","$<=>","$nonzero?","$proc","$casecmp","$cleanpath","$inspect","$include?","$fill","$map","$entries"]),r.$require("corelib/comparable"),function(r,n,l){function c(){}var h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D=c=o(r,n,"Pathname",c),F=D.$$proto,L=[D].concat(l);return F.path=i,D.$include(a(L,"Comparable")),t.const_set(L[0],"SEPARATOR_PAT",new RegExp(a(L,"Regexp").$quote($(a(L,"File"),"SEPARATOR")))),t.def(D,"$initialize",h=function(t){var e=this;return s(a(L,"Pathname")["$==="](t))?e.path=t.$path().$to_s():s(t["$respond_to?"]("to_path"))?e.path=t.$to_path():s(t["$is_a?"](a(L,"String")))?e.path=t:s(t["$nil?"]())?e.$raise(a(L,"TypeError"),"no implicit conversion of nil into String"):e.$raise(a(L,"TypeError"),"no implicit conversion of "+t.$class()+" into String"),e.path["$=="]("\0")?e.$raise(a(L,"ArgumentError")):i},h.$$arity=1),D.$attr_reader("path"),t.def(D,"$==",f=function(t){var e=this;return t.$path()["$=="](e.path)},f.$$arity=1),t.def(D,"$absolute?",d=function(){var t=this;return t["$relative?"]()["$!"]()},d.$$arity=0),t.def(D,"$relative?",_=function(){var e,r,n=this,$=i,a=i;for($=n.path;s(a=n.$chop_basename($));)r=a,e=t.to_ary(r),$=null==e[0]?i:e[0],r;return $["$=="]("")},_.$$arity=0),t.def(D,"$chop_basename",p=function(t){var e=i;return e=a(L,"File").$basename(t),s(a(L,"Regexp").$new("^"+$(a(L,"Pathname"),"SEPARATOR_PAT").$source()+"?$")["$=~"](e))?i:[t["$[]"](0,t.$rindex(e)),e]},p.$$arity=1),t.def(D,"$root?",y=function(){var t=this;return t.path["$=="]("/")},y.$$arity=0),t.def(D,"$parent",m=function(){var t=this,e=i;return e=t.path.$sub(/\/([^\/]+\/?$)/,""),e["$=="]("")&&(e=function(){return s(t["$absolute?"]())?"/":"."}()),a(L,"Pathname").$new(e)},m.$$arity=0),t.def(D,"$sub",g=function(e){var r,n=this,i=arguments.length,$=i-0;$<0&&($=0),r=new Array($);for(var o=0;o<i;o++)r[o-0]=arguments[o];return a(L,"Pathname").$new(u(n.path,"sub",t.to_a(r)))},g.$$arity=-1),t.def(D,"$cleanpath",v=function(){var e=this;return t.normalize(e.path)},v.$$arity=0),t.def(D,"$to_path",b=function(){var t=this;return t.path},b.$$arity=0),t.def(D,"$hash",w=function(){var t=this;return t.path},w.$$arity=0),t.def(D,"$expand_path",E=function(){var t=this;return a(L,"File").$expand_path(t.path)},E.$$arity=0),t.def(D,"$+",k=function(t){var e=this;return s(a(L,"Pathname")["$==="](t))||(t=a(L,"Pathname").$new(t)),a(L,"Pathname").$new(e.$plus(e.path,t.$to_s()))},k.$$arity=1),t.def(D,"$plus",x=function(r,n){var $,o,u,l=this,c=i,h=i,f=i,d=i,_=i,p=i,y=i,m=i,g=i;for(c=n,h=[],f=[];s(d=l.$chop_basename(c));)u=d,o=t.to_ary(u),c=null==o[0]?i:o[0],_=null==o[1]?i:o[1],u,h.$unshift(c.$length()),f.$unshift(_);if(s(c["$!="]("")))return n;for(p=r;s(!0);){for(;s(s(u=f["$empty?"]()["$!"]())?f.$first()["$=="]("."):u);)h.$shift(),f.$shift();if(!s(y=l.$chop_basename(p)))break;if(u=y,o=t.to_ary(u),p=null==o[0]?i:o[0],m=null==o[1]?i:o[1],u,!m["$=="](".")){if(s(s(o=s(u=m["$=="](".."))?u:f["$empty?"]())?o:f.$first()["$!="](".."))){p=e(p,m);break}h.$shift(),f.$shift()}}if(y=l.$chop_basename(p),s(s($=y["$!"]())?new RegExp(a(L,"SEPARATOR_PAT"))["$=~"](a(L,"File").$basename(p)):$))for(;s(s(o=f["$empty?"]()["$!"]())?f.$first()["$=="](".."):o);)h.$shift(),f.$shift();return s(f["$empty?"]()["$!"]())?(g=n["$[]"](t.Range.$new(h.$first(),-1,!1)),s(y)?a(L,"File").$join(p,g):e(p,g)):s(y)?p:a(L,"File").$dirname(p)},x.$$arity=2),t.def(D,"$join",A=function(r){try{var n,$,o=this,l=i,c=arguments.length,h=c-0;h<0&&(h=0),$=new Array(h);for(var f=0;f<c;f++)$[f-0]=arguments[f];return s($["$empty?"]())?o:(l=$.$pop(),s(a(L,"Pathname")["$==="](l))||(l=a(L,"Pathname").$new(l)),s(l["$absolute?"]())?l:(u($,"reverse_each",[],(n=function(r){n.$$s||this;return null==r&&(r=i),s(a(L,"Pathname")["$==="](r))||(r=a(L,"Pathname").$new(r)),l=e(r,l),s(l["$absolute?"]())?void t.ret(l):i},n.$$s=o,n.$$arity=1,n)),e(o,l)))}catch(e){if(e===t.returner)return e.$v;throw e}},A.$$arity=-1),t.def(D,"$split",O=function(){var t=this;return[t.$dirname(),t.$basename()]},O.$$arity=0),t.def(D,"$dirname",S=function(){var t=this;return a(L,"Pathname").$new(a(L,"File").$dirname(t.path))},S.$$arity=0),t.def(D,"$basename",R=function(){var t=this;return a(L,"Pathname").$new(a(L,"File").$basename(t.path))},R.$$arity=0),t.def(D,"$directory?",I=function(){var t=this;return a(L,"File")["$directory?"](t.path)},I.$$arity=0),t.def(D,"$extname",T=function(){var t=this;return a(L,"File").$extname(t.path)},T.$$arity=0),t.def(D,"$<=>",M=function(t){var e=this;return e.$path()["$<=>"](t.$path())},M.$$arity=1),t.alias(D,"eql?","=="),t.alias(D,"===","=="),t.alias(D,"to_str","to_path"),t.alias(D,"to_s","to_path"),t.const_set(L[0],"SAME_PATHS",function(){return s($(a(L,"File"),"FNM_SYSCASE")["$nonzero?"]())?u(D,"proc",[],(C=function(t,e){C.$$s||this;return null==t&&(t=i),null==e&&(e=i),t.$casecmp(e)["$=="](0)},C.$$s=D,C.$$arity=2,C)):u(D,"proc",[],(N=function(t,e){N.$$s||this;return null==t&&(t=i),null==e&&(e=i),t["$=="](e)},N.$$s=D,N.$$arity=2,N))}()),t.def(D,"$relative_path_from",z=function(r){var n,$,o=this,l=i,c=i,h=i,f=i,d=i,_=i,p=i,y=i;for(l=o.$cleanpath().$to_s(),r=r.$cleanpath().$to_s(),c=l,h=[];s(f=o.$chop_basename(c));)$=f,n=t.to_ary($),c=null==n[0]?i:n[0],d=null==n[1]?i:n[1],$,s(d["$!="]("."))&&h.$unshift(d);for(_=r,p=[];s(f=o.$chop_basename(_));)$=f,n=t.to_ary($),_=null==n[0]?i:n[0],d=null==n[1]?i:n[1],$,s(d["$!="]("."))&&p.$unshift(d);for(s(a(L,"SAME_PATHS")["$[]"](c,_))||o.$raise(a(L,"ArgumentError"),"different prefix: "+c.$inspect()+" and "+r.$inspect());s(s(n=s($=h["$empty?"]()["$!"]())?p["$empty?"]()["$!"]():$)?a(L,"SAME_PATHS")["$[]"](h.$first(),p.$first()):n);)h.$shift(),p.$shift();return s(p["$include?"](".."))&&o.$raise(a(L,"ArgumentError"),"base_directory has ..: "+r.$inspect()),p.$fill(".."),y=e(p,h),s(y["$empty?"]())?a(L,"Pathname").$new("."):a(L,"Pathname").$new(u(a(L,"File"),"join",t.to_a(y)))},z.$$arity=1),t.def(D,"$entries",B=function(){var t,e=this;return u(a(L,"Dir").$entries(e.path),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=i),r.$class().$new(e)},t.$$s=e,t.$$arity=1,t))},B.$$arity=0),i&&"entries"}(n[0],null,n),function(e,r){var n,i,$=n=l(e,"Kernel"),o=($.$$proto,[$].concat(r));t.def($,"$Pathname",i=function(t){return a(o,"Pathname").$new(t)},i.$$arity=1)}(n[0],n)}},121:function(t,e){Opal.modules.stringio=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $=(t.top,[]),a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=(t.breaker,t.slice,t.klass),l=t.truthy,c=t.gvars;return t.add_stubs(["$include","$new","$call","$close","$attr_accessor","$length","$include?","$!","$check_readable","$==","$===","$>=","$raise","$>","$+","$-","$seek","$enum_for","$eof?","$ord","$[]","$to_str","$chomp","$check_writable","$String","$write","$closed_write?","$closed_read?"]),function($,h,f){function d(){}var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N=d=u($,h,"StringIO",d),z=N.$$proto,B=[N].concat(f);return z.position=z.string=z.closed=a,N.$include(o(s(B,"IO"),"Readable")),N.$include(o(s(B,"IO"),"Writable")),t.defs(N,"$open",_=function(t,e){var r=this,n=_.$$p,i=n||a,$=a,o=a;return null==t&&(t=""),null==e&&(e=a),n&&(_.$$p=null),$=r.$new(t,e),o=i.$call($),$.$close(),o},_.$$arity=-1),N.$attr_accessor("string"),t.def(N,"$initialize",p=function(t,e){var r,n=this;return null==t&&(t=""),null==e&&(e="rw"),n.string=t,n.position=t.$length(),l(l(r=e["$include?"]("r"))?e["$include?"]("w")["$!"]():r)?n.closed="write":l(l(r=e["$include?"]("w"))?e["$include?"]("r")["$!"]():r)?n.closed="read":a},p.$$arity=-1),t.def(N,"$eof?",y=function(){var t=this;return t.$check_readable(),t.position["$=="](t.string.$length())},y.$$arity=0),t.alias(N,"eof","eof?"),t.def(N,"$seek",m=function(t,$){var u=this,c=a;return null==$&&($=o(s(B,"IO"),"SEEK_SET")),c=$,o(s(B,"IO"),"SEEK_SET")["$==="](c)?(l(e(t,0))||u.$raise(o(s(B,"Errno"),"EINVAL")),u.position=t):o(s(B,"IO"),"SEEK_CUR")["$==="](c)?l(r(n(u.position,t),u.string.$length()))?u.position=u.string.$length():u.position=n(u.position,t):o(s(B,"IO"),"SEEK_END")["$==="](c)&&(l(r(t,u.string.$length()))?u.position=0:u.position=i(u.position,t)),0},m.$$arity=-2),t.def(N,"$tell",g=function(){var t=this;return t.position},g.$$arity=0),t.alias(N,"pos","tell"),t.alias(N,"pos=","seek"),t.def(N,"$rewind",v=function(){var t=this;return t.$seek(0)},v.$$arity=0),t.def(N,"$each_byte",b=function(){var t=this,e=b.$$p,r=e||a,i=a;if(e&&(b.$$p=null),!l(r))return t.$enum_for("each_byte");for(t.$check_readable(),i=t.position;!l(t["$eof?"]());)r.$call(t.string["$[]"](i).$ord()),
i=n(i,1);return t},b.$$arity=0),t.def(N,"$each_char",w=function(){var t=this,e=w.$$p,r=e||a,i=a;if(e&&(w.$$p=null),!l(r))return t.$enum_for("each_char");for(t.$check_readable(),i=t.position;!l(t["$eof?"]());)r.$call(t.string["$[]"](i)),i=n(i,1);return t},w.$$arity=0),t.def(N,"$each",E=function(e){var r=this,n=E.$$p,i=n||a,$=a;if(null==c["/"]&&(c["/"]=a),null==e&&(e=c["/"]),n&&(E.$$p=null),i===a)return r.$enum_for("each_line");r.$check_readable(),$=!1,e=l(o("::","Hash")["$==="](e))?function(){return l($=e["$[]"]("chomp"))?/\r?\n/:c["/"]}():l(e)?e.$to_str():void 0;var s=r.string,u=s.length;if(r.position<u&&(s=s.substr(r.position)),e)for(var h=s.$chomp(),f=s.length!==h.length,d=h.split(e),_=0,p=d.length;_<p;_++){var y=$?d[_]:_<p-1||f?d[_]+e:d[_];t.yield1(i,y)}else if(void 0===e)t.yield1(i,s);else for(var m,g=/(.+(?:\n\n|$))\n*/g;m=g.exec(s);)t.yield1(i,m[1]);return r.position=u,r},E.$$arity=-1),t.alias(N,"each_line","each"),t.def(N,"$write",k=function(e){var r=this,$=a,o=a;return r.$check_writable(),e=r.$String(e),r.string.$length()["$=="](r.position)?(r.string=n(r.string,e),r.position=n(r.position,e.$length())):($=r.string["$[]"](t.Range.$new(0,i(r.position,1),!1)),o=r.string["$[]"](t.Range.$new(n(r.position,e.$length()),-1,!1)),r.string=n(n($,e),o),r.position=n(r.position,e.$length()))},k.$$arity=1),t.def(N,"$read",x=function(e,r){var i=this,$=a,o=a;return null==e&&(e=a),null==r&&(r=a),i.$check_readable(),l(i["$eof?"]())?a:($=function(){return l(e)?(o=i.string["$[]"](i.position,e),i.position=n(i.position,e),o):(o=i.string["$[]"](t.Range.$new(i.position,-1,!1)),i.position=i.string.$length(),o)}(),l(r)?r.$write($):$)},x.$$arity=-1),t.def(N,"$close",A=function(){var t=this;return t.closed="both"},A.$$arity=0),t.def(N,"$close_read",O=function(){var t=this;return t.closed["$=="]("write")?t.closed="both":t.closed="read"},O.$$arity=0),t.def(N,"$close_write",S=function(){var t=this;return t.closed["$=="]("read")?t.closed="both":t.closed="write"},S.$$arity=0),t.def(N,"$closed?",R=function(){var t=this;return t.closed["$=="]("both")},R.$$arity=0),t.def(N,"$closed_read?",I=function(){var t,e=this;return l(t=e.closed["$=="]("read"))?t:e.closed["$=="]("both")},I.$$arity=0),t.def(N,"$closed_write?",T=function(){var t,e=this;return l(t=e.closed["$=="]("write"))?t:e.closed["$=="]("both")},T.$$arity=0),t.def(N,"$check_writable",M=function(){var t=this;return l(t["$closed_write?"]())?t.$raise(s(B,"IOError"),"not opened for writing"):a},M.$$arity=0),t.def(N,"$check_readable",C=function(){var t=this;return l(t["$closed_read?"]())?t.$raise(s(B,"IOError"),"not opened for reading"):a},C.$$arity=0),a&&"check_readable"}($[0],s($,"IO"),$)}},141:function(t,e,r){(function(e,n,i){"use strict";function $(t){var e=this;this.next=null,this.entry=null,this.finish=function(){O(e,t)}}function a(t){return N.from(t)}function o(t){return N.isBuffer(t)||t instanceof z}function s(){}function u(t,e){R=R||r(28),t=t||{};var n=e instanceof R;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark,o=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&(a||0===a)?this.highWaterMark=a:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){m(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new $(this)}function l(t){return R=R||r(28),D.call(l,this)||this instanceof R?(this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void C.call(this)):new l(t)}function c(t,e){var r=new Error("write after end");t.emit("error",r),S.nextTick(e,r)}function h(t,e,r,n){var i=!0,$=!1;return null===r?$=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||($=new TypeError("Invalid non-string/buffer chunk")),$&&(t.emit("error",$),S.nextTick(n,$),i=!1),i}function f(t,e,r){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=N.from(e,r)),e}function d(t,e,r,n,i,$){if(!r){var a=f(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:$,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _(t,e,!1,o,n,i,$);return s}function _(t,e,r,n,i,$,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,$,e.onwrite),e.sync=!1}function p(t,e,r,n,i){--e.pendingcb,r?(S.nextTick(i,n),S.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),x(t,e))}function y(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function m(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(y(r),e)p(t,r,n,e,i);else{var $=w(r);$||r.corked||r.bufferProcessing||!r.bufferedRequest||b(t,r),n?I(g,t,r,$,i):g(t,r,$,i)}}function g(t,e,r,n){r||v(t,e),e.pendingcb--,n(),x(t,e)}function v(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,_(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new $(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback,h=e.objectMode?1:u.length;if(_(t,e,!1,h,u,l,c),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function k(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,S.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function x(t,e){var r=w(e);return r&&(k(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}function A(t,e,r){e.ending=!0,x(t,e),r&&(e.finished?S.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function O(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var S=r(71);t.exports=l;var R,I=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:S.nextTick;l.WritableState=u;var T=r(52);T.inherits=r(8);var M={deprecate:r(494)},C=r(215),N=r(17).Buffer,z=i.Uint8Array||function(){},B=r(214);T.inherits(l,C),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var D;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(t){return!!D.call(this,t)||this===l&&(t&&t._writableState instanceof u)}})):D=function(t){return t instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(t,e,r){var n=this._writableState,i=!1,$=!n.objectMode&&o(t);return $&&!N.isBuffer(t)&&(t=a(t)),"function"==typeof e&&(r=e,e=null),$?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=s),n.ended?c(this,r):($||h(this,n,t,r))&&(n.pendingcb++,i=d(this,n,$,t,e,r)),i},l.prototype.cork=function(){var t=this._writableState;t.corked++},l.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},l.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||A(this,n,r)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),l.prototype.destroy=B.destroy,l.prototype._undestroy=B.undestroy,l.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,r(15),r(493).setImmediate,function(){return this}())},142:function(t,e,r){e=t.exports=r(212),e.Stream=e,e.Readable=e,e.Writable=r(141),e.Duplex=r(28),e.Transform=r(213),e.PassThrough=r(476)},143:function(t,e,r){(function(t){function r(t){var e,r;return e=t>o||t<0?(r=Math.abs(t)%o,t<0?o-r:r):t}function n(t){var e,r,n;for(e=r=0,n=t.length;0<=n?r<n:r>n;e=0<=n?++r:--r)t[e]=0;return!1}function i(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.INV_SUB_MIX=function(){var e,r;for(r=[],t=e=0;e<4;t=++e)r.push([]);return r}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function $(t){for(var e=t.length/4,r=new Array(e),n=-1;++n<e;)r[n]=t.readUInt32BE(4*n);return r}function a(t){this._key=$(t),this._doReset()}var o=Math.pow(2,32);i.prototype.init=function(){var t,e,r,n,i,$,a,o,s,u;for(t=function(){var t,r;for(r=[],e=t=0;t<256;e=++t)e<128?r.push(e<<1):r.push(e<<1^283);return r}(),i=0,s=0,e=u=0;u<256;e=++u)r=s^s<<1^s<<2^s<<3^s<<4,r=r>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,$=t[i],a=t[$],o=t[a],n=257*t[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*o^65537*a^257*$^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=s=1:(i=$^t[t[t[o^$]]],s^=t[t[s]]);return!0};var s=new i;a.blockSize=16,a.prototype.blockSize=a.blockSize,a.keySize=32,a.prototype.keySize=a.keySize,a.ivSize=a.blockSize,a.prototype.ivSize=a.ivSize,a.prototype._doReset=function(){var t,e,r,n,i,$,a,o;for(r=this._key,e=r.length,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)this._keySchedule[n]=n<e?r[n]:($=this._keySchedule[n-1],n%e===0?($=$<<8|$>>>24,$=s.SBOX[$>>>24]<<24|s.SBOX[$>>>16&255]<<16|s.SBOX[$>>>8&255]<<8|s.SBOX[255&$],$^=s.RCON[n/e|0]<<24):e>6&&n%e===4?$=s.SBOX[$>>>24]<<24|s.SBOX[$>>>16&255]<<16|s.SBOX[$>>>8&255]<<8|s.SBOX[255&$]:void 0,this._keySchedule[n-e]^$);for(this._invKeySchedule=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)n=i-t,$=this._keySchedule[n-(t%4?0:4)],this._invKeySchedule[t]=t<4||n<=4?$:s.INV_SUB_MIX[0][s.SBOX[$>>>24]]^s.INV_SUB_MIX[1][s.SBOX[$>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[$>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&$]];return!0},a.prototype.encryptBlock=function(e){e=$(new t(e));var r=this._doCryptBlock(e,this._keySchedule,s.SUB_MIX,s.SBOX),n=new t(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},a.prototype.decryptBlock=function(e){e=$(new t(e));var r=[e[3],e[1]];e[1]=r[0],e[3]=r[1];var n=this._doCryptBlock(e,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX),i=new t(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},a.prototype._doCryptBlock=function(t,e,n,i){var $,a,o,s,u,l,c,h,f,d,_,p;for(o=t[0]^e[0],s=t[1]^e[1],u=t[2]^e[2],l=t[3]^e[3],$=4,a=_=1,p=this._nRounds;1<=p?_<p:_>p;a=1<=p?++_:--_)c=n[0][o>>>24]^n[1][s>>>16&255]^n[2][u>>>8&255]^n[3][255&l]^e[$++],h=n[0][s>>>24]^n[1][u>>>16&255]^n[2][l>>>8&255]^n[3][255&o]^e[$++],f=n[0][u>>>24]^n[1][l>>>16&255]^n[2][o>>>8&255]^n[3][255&s]^e[$++],d=n[0][l>>>24]^n[1][o>>>16&255]^n[2][s>>>8&255]^n[3][255&u]^e[$++],o=c,s=h,u=f,l=d;return c=(i[o>>>24]<<24|i[s>>>16&255]<<16|i[u>>>8&255]<<8|i[255&l])^e[$++],h=(i[s>>>24]<<24|i[u>>>16&255]<<16|i[l>>>8&255]<<8|i[255&o])^e[$++],f=(i[u>>>24]<<24|i[l>>>16&255]<<16|i[o>>>8&255]<<8|i[255&s])^e[$++],d=(i[l>>>24]<<24|i[o>>>16&255]<<16|i[s>>>8&255]<<8|i[255&u])^e[$++],[r(c),r(h),r(f),r(d)]},e.AES=a}).call(e,r(7).Buffer)},144:function(t,e,r){(function(e){function n(){i.call(this)}var i=r(218).Transform,$=r(8);t.exports=n,$(n,i),n.prototype.update=function(t,r,n){this.write(t,r);for(var i,$=new e("");i=this.read();)$=e.concat([$,i]);return n&&($=$.toString(n)),$},n.prototype.final=function(t){this.end();for(var r,n=new e("");r=this.read();)n=e.concat([n,r]);return t&&(n=n.toString(t)),n}}).call(e,r(7).Buffer)},145:function(t,e){e["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},e["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},e["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},e["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},e["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},e["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},e.aes128=e["aes-128-cbc"],e.aes192=e["aes-192-cbc"],e.aes256=e["aes-256-cbc"],e["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},e["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},e["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},e["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},e["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},e["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},e["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},e["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},e["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},212:function(t,e,r){(function(e,n){"use strict";function i(t){return D.from(t)}function $(t){return D.isBuffer(t)||t instanceof F}function a(t,e,r){return"function"==typeof t.prependListener?t.prependListener(e,r):void(t._events&&t._events[e]?N(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r))}function o(t,e){C=C||r(28),t=t||{};var n=e instanceof C;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,$=t.readableHighWaterMark,a=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:n&&($||0===$)?this.highWaterMark=$:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new U,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(j||(j=r(219).StringDecoder),this.decoder=new j(t.encoding),this.encoding=t.encoding)}function s(t){return C=C||r(28),this instanceof s?(this._readableState=new o(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void B.call(this)):new s(t)}function u(t,e,r,n,$){var a=t._readableState;if(null===e)a.reading=!1,_(t,a);else{var o;$||(o=c(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===D.prototype||(e=i(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):l(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?l(t,a,e,!1):m(t,a)):l(t,a,e,!1))):n||(a.reading=!1)}return h(a)}function l(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&p(t)),m(t,e)}function c(t,e){var r;return $(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function h(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function f(t){return t>=Y?t=Y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function d(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=f(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,p(t)}}function p(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(q("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?M.nextTick(y,t):y(t))}function y(t){q("emit readable"),t.emit("readable"),k(t)}function m(t,e){e.readingMore||(e.readingMore=!0,M.nextTick(g,t,e))}function g(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(q("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;q("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&z(t,"data")&&(e.flowing=!0,k(t))}}function b(t){q("readable nexttick read 0"),t.read(0)}function w(t,e){e.resumeScheduled||(e.resumeScheduled=!0,M.nextTick(E,t,e))}function E(t,e){e.reading||(q("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;for(q("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){if(0===e.length)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=A(t,e.buffer,e.decoder),r}function A(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?O(t,e):S(t,e),n}function O(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var $=r.data,a=t>$.length?$.length:t;if(i+=a===$.length?$:$.slice(0,t),t-=a,0===t){a===$.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=$.slice(a));break}++n}return e.length-=n,i}function S(t,e){var r=D.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var $=n.data,a=t>$.length?$.length:t;if($.copy(r,r.length-t,0,a),t-=a,0===t){a===$.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=$.slice(a));break}++i}return e.length-=i,r}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,M.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var M=r(71);t.exports=s;var C,N=r(113);s.ReadableState=o;var z=(r(106).EventEmitter,function(t,e){return t.listeners(e).length}),B=r(215),D=r(17).Buffer,F=e.Uint8Array||function(){},L=r(52);L.inherits=r(8);var P=r(504),q=void 0;q=P&&P.debuglog?P.debuglog("stream"):function(){};var j,U=r(477),H=r(214);L.inherits(s,B);var G=["error","close","destroy","pause","resume"];Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),s.prototype.destroy=H.destroy,s.prototype._undestroy=H.undestroy,s.prototype._destroy=function(t,e){this.push(null),e(t)},s.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=D.from(t,e),e=""),r=!0),u(this,t,e,!1,r)},s.prototype.unshift=function(t){return u(this,t,null,!0,!1)},s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(t){return j||(j=r(219).StringDecoder),this._readableState.decoder=new j(t),this._readableState.encoding=t,this};var Y=8388608;s.prototype.read=function(t){q("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return q("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):p(this),null;if(t=d(t,e),0===t&&e.ended)return 0===e.length&&R(this),null;var n=e.needReadable;q("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,q("length less than watermark",n)),e.ended||e.reading?(n=!1,q("reading or ended",n)):n&&(q("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=d(r,e)));var i;return i=t>0?x(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&R(this)),null!==i&&this.emit("data",i),i},s.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},s.prototype.pipe=function(t,e){function r(t,e){q("onunpipe"),t===h&&e&&e.hasUnpiped===!1&&(e.hasUnpiped=!0,$())}function i(){q("onend"),t.end()}function $(){q("cleanup"),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",c),h.removeListener("data",o),y=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||p()}function o(e){q("ondata"),m=!1;var r=t.write(e);!1!==r||m||((1===f.pipesCount&&f.pipes===t||f.pipesCount>1&&T(f.pipes,t)!==-1)&&!y&&(q("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,m=!0),h.pause())}function s(e){q("onerror",e),c(),t.removeListener("error",s),0===z(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",l),c()}function l(){q("onfinish"),t.removeListener("close",u),c()}function c(){q("unpipe"),h.unpipe(t)}var h=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,q("pipe count=%d opts=%j",f.pipesCount,e);var d=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,_=d?i:c;f.endEmitted?M.nextTick(_):h.once("end",_),t.on("unpipe",r);var p=v(h);t.on("drain",p);var y=!1,m=!1;return h.on("data",o),a(t,"error",s),t.once("close",u),t.once("finish",l),t.emit("pipe",h),f.flowing||(q("pipe resume"),h.resume()),t},s.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var $=0;$<i;$++)n[$].emit("unpipe",this,r);return this}var a=T(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},s.prototype.on=function(t,e){var r=B.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&p(this):M.nextTick(b,this))}return r},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var t=this._readableState;return t.flowing||(q("resume"),t.flowing=!0,w(this,t)),this},s.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(q("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(q("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var $=e.push(i);$||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var $=0;$<G.length;$++)t.on(G[$],this.emit.bind(this,G[$]));return this._read=function(e){q("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),s._fromList=x}).call(e,function(){return this}(),r(15))},213:function(t,e,r){"use strict";function n(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){return this instanceof i?(o.call(this,t),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",$)):new i(t)}function $(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var o=r(28),s=r(52);s.inherits=r(8),s.inherits(i,o),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var r=this;o.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},214:function(t,e,r){"use strict";function n(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a.nextTick($,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(a.nextTick($,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $(t,e){t.emit("error",e)}var a=r(71);t.exports={destroy:n,undestroy:i}},215:function(t,e,r){t.exports=r(106).EventEmitter},216:function(t,e,r){function n(){this.init(),this._w=d,c.call(this,64,56)}function i(t,e,r){return r^t&(e^r)}function $(t,e,r){return t&e|r&(t|e)}function a(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function o(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function s(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function u(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var l=r(8),c=r(45),h=r(17).Buffer,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);l(n,c),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,l=0|this._c,c=0|this._d,h=0|this._e,d=0|this._f,_=0|this._g,p=0|this._h,y=0;y<16;++y)e[y]=t.readInt32BE(4*y);for(;y<64;++y)e[y]=u(e[y-2])+e[y-7]+s(e[y-15])+e[y-16]|0;for(var m=0;m<64;++m){var g=p+o(h)+i(h,d,_)+f[m]+e[m]|0,v=a(r)+$(r,n,l)|0;p=_,_=d,d=h,h=c+g|0,c=l,l=n,n=r,r=g+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=h+this._e|0,this._f=d+this._f|0,this._g=_+this._g|0,this._h=p+this._h|0},n.prototype._hash=function(){var t=h.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=n},217:function(t,e,r){function n(){this.init(),this._w=y,d.call(this,128,112)}function i(t,e,r){return r^t&(e^r)}function $(t,e,r){return t&e|r&(t|e)}function a(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function o(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function s(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function u(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function l(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function c(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function h(t,e){return t>>>0<e>>>0?1:0}var f=r(8),d=r(45),_=r(17).Buffer,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);
f(n,d),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,f=0|this._ch,d=0|this._dh,_=0|this._eh,y=0|this._fh,m=0|this._gh,g=0|this._hh,v=0|this._al,b=0|this._bl,w=0|this._cl,E=0|this._dl,k=0|this._el,x=0|this._fl,A=0|this._gl,O=0|this._hl,S=0;S<32;S+=2)e[S]=t.readInt32BE(4*S),e[S+1]=t.readInt32BE(4*S+4);for(;S<160;S+=2){var R=e[S-30],I=e[S-30+1],T=s(R,I),M=u(I,R);R=e[S-4],I=e[S-4+1];var C=l(R,I),N=c(I,R),z=e[S-14],B=e[S-14+1],D=e[S-32],F=e[S-32+1],L=M+B|0,P=T+z+h(L,M)|0;L=L+N|0,P=P+C+h(L,N)|0,L=L+F|0,P=P+D+h(L,F)|0,e[S]=P,e[S+1]=L}for(var q=0;q<160;q+=2){P=e[q],L=e[q+1];var j=$(r,n,f),U=$(v,b,w),H=a(r,v),G=a(v,r),Y=o(_,k),W=o(k,_),X=p[q],K=p[q+1],V=i(_,y,m),J=i(k,x,A),Z=O+W|0,Q=g+Y+h(Z,O)|0;Z=Z+J|0,Q=Q+V+h(Z,J)|0,Z=Z+K|0,Q=Q+X+h(Z,K)|0,Z=Z+L|0,Q=Q+P+h(Z,L)|0;var tt=G+U|0,et=H+j+h(tt,G)|0;g=m,O=A,m=y,A=x,y=_,x=k,k=E+Z|0,_=d+Q+h(k,E)|0,d=f,E=w,f=n,w=b,n=r,b=v,v=Z+tt|0,r=Q+et+h(v,Z)|0}this._al=this._al+v|0,this._bl=this._bl+b|0,this._cl=this._cl+w|0,this._dl=this._dl+E|0,this._el=this._el+k|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+O|0,this._ah=this._ah+r+h(this._al,v)|0,this._bh=this._bh+n+h(this._bl,b)|0,this._ch=this._ch+f+h(this._cl,w)|0,this._dh=this._dh+d+h(this._dl,E)|0,this._eh=this._eh+_+h(this._el,k)|0,this._fh=this._fh+y+h(this._fl,x)|0,this._gh=this._gh+m+h(this._gl,A)|0,this._hh=this._hh+g+h(this._hl,O)|0},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=_.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=n},218:function(t,e,r){function n(){i.call(this)}t.exports=n;var i=r(106).EventEmitter,$=r(8);$(n,i),n.Readable=r(142),n.Writable=r(480),n.Duplex=r(475),n.Transform=r(479),n.PassThrough=r(478),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function $(){l||(l=!0,t.end())}function a(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function o(t){if(s(),0===i.listenerCount(this,"error"))throw t}function s(){u.removeListener("data",r),t.removeListener("drain",n),u.removeListener("end",$),u.removeListener("close",a),u.removeListener("error",o),t.removeListener("error",o),u.removeListener("end",s),u.removeListener("close",s),t.removeListener("close",s)}var u=this;u.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(u.on("end",$),u.on("close",a));var l=!1;return u.on("error",o),t.on("error",o),u.on("end",s),u.on("close",s),t.on("close",s),t.emit("pipe",u),t}},219:function(t,e,r){"use strict";function n(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=n(t);if("string"!=typeof e&&(m.isEncoding===g||!g(t)))throw new Error("Unknown encoding: "+t);return e||t}function $(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=h,this.end=f,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=d,this.end=_,e=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function o(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=a(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=a(e[n]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function s(t,e,r){if(128!==(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�"}}function u(t){var e=this.lastTotal-this.lastNeed,r=s(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){var r=o(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function h(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function d(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function _(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}var m=r(17).Buffer,g=m.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=$,$.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},$.prototype.end=c,$.prototype.text=l,$.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},220:function(t,e){(function(e){t.exports=e}).call(e,{})},221:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},222:function(t,e,r){(function(e){t.exports=function(t,r,n,i){n/=8,i=i||0;for(var $,a,o,s=0,u=0,l=new e(n),c=new e(i),h=0;;){if($=t.createHash("md5"),h++>0&&$.update(a),$.update(r),a=$.digest(),o=0,n>0)for(;;){if(0===n)break;if(o===a.length)break;l[s++]=a[o],n--,o++}if(i>0&&o!==a.length)for(;;){if(0===i)break;if(o===a.length)break;c[u++]=a[o],i--,o++}if(0===n&&0===i)break}for(o=0;o<a.length;o++)a[o]=0;return{key:l,iv:c}}}).call(e,r(7).Buffer)},223:function(t,e,r){var n=r(78);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},224:function(t,e,r){(function(t){function n(e,r,n){var $=r.length,a=i(r,e._cache);return e._cache=e._cache.slice($),e._prev=t.concat([e._prev,n?r:a]),a}var i=r(78);e.encrypt=function(e,r,i){for(var $,a=new t("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=r.length)){a=t.concat([a,n(e,r,i)]);break}$=e._cache.length,a=t.concat([a,n(e,r.slice(0,$),i)]),r=r.slice($)}return a}}).call(e,r(7).Buffer)},225:function(t,e,r){(function(t){function n(t){var e=t._cipher.encryptBlock(t._prev);return i(t._prev),e}function i(t){for(var e,r=t.length;r--;){if(e=t.readUInt8(r),255!==e){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}var $=r(78);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),$(r,i)}}).call(e,r(7).Buffer)},226:function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},227:function(t,e,r){(function(t){function n(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=r(78);e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var $=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),i(r,$)}}).call(e,r(7).Buffer)},228:function(t,e,r){(function(e){function n(t,r,a,o){return this instanceof n?($.call(this),this._cipher=new i.AES(r),this._prev=new e(a.length),this._cache=new e(""),this._secCache=new e(""),this._decrypt=o,a.copy(this._prev),void(this._mode=t)):new n(t,r,a)}var i=r(143),$=r(144),a=r(8);a(n,$),t.exports=n,n.prototype._transform=function(t,e,r){r(null,this._mode.encrypt(this,t,this._decrypt))},n.prototype._flush=function(t){this._cipher.scrub(),t()}}).call(e,r(7).Buffer)},229:function(t,e,r){(function(e){function n(t){return function(){var r=[],n={update:function(t,n){return e.isBuffer(t)||(t=new e(t,n)),r.push(t),this},digest:function(n){var i=e.concat(r),$=t(i);return r=null,n?$.toString(n):$}};return n}}var i=r(486),$=n(r(501)),a=n(r(482));t.exports=function(t){return"md5"===t?new $:"rmd160"===t?new a:i(t)}}).call(e,r(7).Buffer)},8:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},238:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){for(var e=t.length,r=t,n=0,i=e;i>=0;i--){var $=r[i];if(c.indexOf($)!==-1){n=i+1;break}}return[n,e,r.substr(n,e-n)]}e.__esModule=!0;var s=r(4),u=n(s),l=r(245),c=" \n\t",h=function(t){function e(r){i(this,e);var n=$(this,t.call(this,r));return n.state={value:""},n.setTextInputRef=function(t){n.textInput=t},n.handleChange=n.handleChange.bind(n),n}return a(e,t),e.prototype.handleChange=function(t){if(t&&(t.keyCode>=48&&t.keyCode<=90||219===t.keyCode||221===t.keyCode)){var e=t.target.value,r=o(e),n=(0,l.doEvaluate)(r[2],{shift:t.getModifierState("Shift"),capslock:t.getModifierState("CapsLock")}),i=e.substring(0,r[0])+n+e.substring(r[1]);t.target.value=i}},e.prototype.render=function(){return u.default.createElement("div",null,u.default.createElement("textarea",{ref:this.setTextInputRef,onKeyUp:this.handleChange,className:"form-control",rows:"10"}))},e}(u.default.Component);e.default=h,t.exports=e.default},240:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global,process,__dirname){"use strict";"undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=__webpack_require__(116).Opal),"undefined"==typeof Opal&&(function(t){function e(){}function r(){}function n(){}function i(){}function $(){}function a(t,e){if(t)return t.$$const[e]}function o(t,e){var r,n,i;if(null!=t)for(i=y.ancestors(t),r=0,n=i.length;r<n;r++)if(i[r].$$const&&g.call(i[r].$$const,e))return i[r].$$const[e]}function s(t,e,r){if(!r)return(t||d).$const_missing(e)}function u(t,e){var r,n,i=e.$instance_methods();for(r=i.length-1;0<=r;r--)n="$"+i[r],y.bridge_method(t,e,n,e.$$proto[n])}var l,c=this;if("undefined"!=typeof global&&(c=global),"undefined"!=typeof window&&(c=window),l="object"==typeof c.console?c.console:null==c.console?c.console={}:{},"log"in l||(l.log=function(){}),"warn"in l||(l.warn=l.log),"undefined"!=typeof this.Opal)return l.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var h,f,d,_,p,y=this.Opal={},m={};y.global=c,c.Opal=y,y.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var g=Object.hasOwnProperty;y.slice=Array.prototype.slice;var v=4;y.uid=function(){return v+=2},y.id=function(t){return t.$$is_number?2*t+1:t.$$id||(t.$$id=y.uid())},y.gvars={},y.exit=function(t){y.gvars.DEBUG&&l.log("Exited with status "+t)},y.exceptions=[],y.pop_exception=function(){y.gvars["!"]=y.exceptions.pop()||h},y.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},y.truthy=function(t){return t!==h&&null!=t&&(!t.$$is_boolean||1==t)},y.falsy=function(t){return t===h||null==t||t.$$is_boolean&&0==t},y.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=d),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");if(n=a(t,e),null!=n)return n;if(n=s(t,e,r),null!=n)return n}},y.const_get_qualified=function(t,e,r){var n,i,$=y.const_cache_version;if(null!=t){if("::"===t&&(t=d),!t.$$is_a_module)throw new y.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),n=i[e],null==n||n[0]!==$?(null!=(n=a(t,e))||null!=(n=o(t,e)),i[e]=[$,n]):n=n[1],null!=n?n:s(t,e,r)}},y.const_cache_version=1,y.const_get_relative=function(t,e,r){var n,i,$=t[0],u=y.const_cache_version;if(null==(i=t.$$const_cache)&&(i=t.$$const_cache=Object.create(null)),n=i[e],null==n||n[0]!==u){var l;if(!(l=null!=(n=a($,e)))){t:{var c;if(0!==t.length)for(n=0,l=t.length;n<l;n++)if(c=t[n].$$const[e],null!=c){t=c;break t}t=void 0}l=null!=(n=t)}l||null!=(n=o($,e))||(t=null==$||$.$$is_module?o(d,e):void 0,null!=(n=t)),i[e]=[u,n]}else n=n[1];return null!=n?n:s($,e,r)},y.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=d),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==h||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,y.const_cache_version++,t===d&&(y[e]=r),r},y.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],o={};for(e&&(a=a.concat(y.ancestors(t))),e&&t.$$is_module&&(a=a.concat([y.Object]).concat(y.ancestors(y.Object))),n=0,i=a.length;n<i&&(r=a[n],t===d||r!=d);n++)for($ in r.$$const)o[$]=!0;return Object.keys(o)},y.const_remove=function(t,e){if(y.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],h;throw y.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},y.klass=function(t,e,r,n){var i,$;if(null==t&&(t=d),t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&($=e,e=d),i=a(t,r)){if(!i.$$is_class)throw y.TypeError.$new(r+" is not a class");if(e&&i.$$super!==e)throw y.TypeError.$new("superclass mismatch for class "+r);return i}return null==e&&(e=d),n=$||y.boot_class_alloc(r,n,e),i=y.setup_class_object(r,n,e.$$name,e.constructor),i.$$super=e,i.$$parent=e,y.const_set(t,r,i),t[r]=i,$?y.bridge(i,n):e.$inherited&&e.$inherited(i),i},y.boot_class_alloc=function(t,e,r){if(r){var n=function(){};n.prototype=r.$$proto||r.prototype,e.prototype=new n}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e},y.setup_module_or_class=function(t){t.$$id=y.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=h,t.$$const=Object.create(null),t.$$cvars=Object.create(null)},y.setup_class_object=function(t,e,r,n){var i=function(){};return i.prototype=n.prototype,i.displayName=r,r=function(){},r.prototype=new i,i=new r,y.setup_module_or_class(i),i.$$alloc=e,i.$$name=t||h,r.displayName="#<Class:"+(t||"#<Class:"+i.$$id+">")+">",i.$$proto=e.prototype,i.$$proto.$$class=i,i.constructor=r,i.$$is_class=!0,i.$$class=p,i},y.module=function(t,e){var r;if(null==t&&(t=d),t.$$is_class||t.$$is_module||(t=t.$$class),r=a(t,e),null==r&&t===d&&(r=o(d,e)),r){if(!r.$$is_module&&r!==d)throw y.TypeError.$new(e+" is not a module")}else r=y.module_allocate(_),y.const_set(t,e,r);return r},y.module_initialize=function(t,e){if(e!==h){var r=e.$$s;e.$$s=null,e.call(t),e.$$s=r}return h},y.module_allocate=function(t){var e=function(){};e.prototype=t.$$alloc.prototype;var r=function(){};return r.prototype=new e,e=new r,y.setup_module_or_class(e),e.$$included_in=[],r.displayName="#<Class:#<Module:"+e.$$id+">>",e.$$proto={},e.constructor=r,e.$$is_module=!0,e.$$class=_,e.$$super=t,e.$$parent=t,e},y.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?y.build_class_singleton_class(t):y.build_object_singleton_class(t)},y.build_class_singleton_class=function(t){var e,r;return t.$$meta?t.$$meta:(e=t.constructor,r=t===f?p:y.build_class_singleton_class(t.$$super),e=y.setup_class_object(null,e,r.$$name,r.constructor),e.$$super=r,e.$$parent=r,e.$$is_singleton=!0,e.$$singleton_of=t,t.$$meta=e)},y.build_object_singleton_class=function(t){var e=t.$$class,r="#<Class:#<"+e.$$name+":"+e.$$id+">>",n=y.boot_class_alloc(r,function(){},e),r=y.setup_class_object(r,n,e.$$name,e.constructor);return r.$$super=e,r.$$parent=e,r.$$class=e.$$class,r.$$proto=t,r.$$is_singleton=!0,r.$$singleton_of=t,t.$$meta=r},y.class_variables=function(t){t=y.ancestors(t);var e,r={};for(e=t.length-1;0<=e;e--){var n,i=t[e];for(n in i.$$cvars)r[n]=i.$$cvars[n]}return r},y.class_variable_set=function(t,e,r){var n,i=y.ancestors(t);for(n=i.length-2;0<=n;n--){var $=i[n];if(g.call($.$$cvars,e))return $.$$cvars[e]=r}return t.$$cvars[e]=r},y.bridge_method=function(t,e,r,n){var i,$,a,o;for(i=t.$$bridge.$ancestors(),$=0,o=i.length;$<o&&(a=i[$],!g.call(a.$$proto,r)||!a.$$proto[r]||a.$$proto[r].$$donated||a.$$proto[r].$$stub||a===e);$++)if(a===e){t.prototype[r]=n;break}},y.bridge_methods=function(t,e){var r,n=m[t.$__id__()];if(r=e.$__id__(),n)for(m[r]=n.slice(),r=n.length-1;0<=r;r--)u(n[r],e)},y.has_cyclic_dep=function t(e,r,n,i){var $,a,o;for($=r.length-1;0<=$;$--)if(o=r[$],a=o.$$id,!i[a]&&(i[a]=!0,a===e||t(e,o[n],n,i)))return!0;return!1},y.append_features=function(t,e){var r,n;for(n=e.$$inc.length-1;0<=n;n--)if(e.$$inc[n]===t)return;if(!e.$$is_class&&y.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw y.ArgumentError.$new("cyclic include detected");for(y.const_cache_version++,e.$$inc.push(t),t.$$included_in.push(e),y.bridge_methods(e,t),e.$$parent={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},r=t.$instance_methods(),n=r.length-1;0<=n;n--)y.update_includer(t,e,"$"+r[n])},y.stubs={},y.bridge=function(t,r){if(r.$$bridge)throw y.ArgumentError.$new("already bridged");y.stub_subscribers.push(r.prototype);for(var n in y.stubs)n in r.prototype||(r.prototype[n]=y.stub_for(n));r.prototype.$$class=t,r.$$bridge=t,n=t.$ancestors();for(var i=n.length-1;0<=i;i--){var $=r,a=n[i].$__id__();m[a]||(m[a]=[]),m[a].push($),u(r,n[i])}for(var o in e.prototype){var s=e.prototype[s];!s||!s.$$stub||o in r.prototype||(r.prototype[o]=s)}return t},y.update_includer=function(t,e,r){var n,i,$,a,o,s,u,l;if($=t.$$proto[r],n=e.$$proto,i=n[r],!n.hasOwnProperty(r)||i.$$donated||i.$$stub)if(n.hasOwnProperty(r)&&!i.$$stub){for(a=e.$$inc,o=0,s=a.length;o<s;o++)a[o]===i.$$donated&&(u=o),a[o]===t&&(l=o);u<=l&&(n[r]=$,n[r].$$donated=t)}else n[r]=$,n[r].$$donated=t;e.$$included_in&&y.update_includers(e,r)},y.update_includers=function(t,e){var r,n,i,$;if($=t.$$included_in)for(r=0,n=$.length;r<n;r++)i=$[r],y.update_includer(t,i,e)},y.ancestors=function(t){for(var e,r,n,i,$=[];t;){for($.push(t),r=t.$$inc.length-1;0<=r;r--)for(e=y.ancestors(t.$$inc[r]),n=0,i=e.length;n<i;n++)$.push(e[n]);t=t.$$is_singleton&&t.$$singleton_of.$$is_module?t.$$singleton_of.$$super:t.$$is_class?t.$$super:null}return $},y.add_stubs=function(t){var e,r,n,i,$,a=y.stub_subscribers,o=t.length,s=a.length,u=y.stubs;for(r=0;r<o;r++)if(i=t[r],!u.hasOwnProperty(i))for(u[i]=!0,$=y.stub_for(i),n=0;n<s;n++)e=a[n],i in e||(e[i]=$)},y.stub_subscribers=[e.prototype],y.add_stub_for=function(t,e){var r=y.stub_for(e);t[e]=r},y.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},y.ac=function(t,e,r,n){var i="",i=r.$$is_class||r.$$is_module?i+(r.$$name+"."):i+(r.$$class.$$name+"#");throw y.ArgumentError.$new("["+(i+n)+"] wrong number of arguments("+t+" for "+e+")")},y.block_ac=function(t,e,r){throw y.ArgumentError.$new("`block in "+r+"': wrong number of arguments ("+t+" for "+e+")")},y.find_super_dispatcher=function(t,e,r,n,i){if(r=(i?t.$$is_class||t.$$is_module?i.$$super:t.$$class.$$proto:y.find_obj_super_dispatcher(t,e,r))["$"+e],!n&&r.$$stub&&y.Kernel.$method_missing===t.$method_missing)throw y.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return r},y.find_iter_super_dispatcher=function(t,e,r,n,i){if(!r)throw y.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw y.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&(e=r.$$jsid),y.find_super_dispatcher(t,e,r,n)},y.find_obj_super_dispatcher=function(t,e,r){if(t=t.$$meta||t.$$class,t=y.find_owning_class(t,r),!t)throw Error("could not find current class for super()");return y.find_super_func(t,"$"+e,r)},y.find_owning_class=function(t,e){for(var r=e.$$owner;!(!t||t.$$iclass&&t.$$module===e.$$donated||t.$$iclass&&t.$$module===r||r.$$is_singleton&&t===r.$$singleton_of.$$class)&&t!==r;)t=t.$$parent;return t},y.find_super_func=function(t,e,r){for(t=t.$$parent;t;){var n=t.$$proto[e];if(n&&n!==r)break;t=t.$$parent}return t.$$proto},y.ret=function(t){throw y.returner.$v=t,y.returner},y.brk=function(t,e){throw e.$v=t,e},y.new_brk=function(){return Error("unexpected break")},y.yield1=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(1<t.length||(r||n)&&1===t.length)&&(e=y.to_ary(e)),(1<t.length||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},y.yieldX=function(t,e){if("function"!=typeof t)throw y.LocalJumpError.$new("no block given");if(1<t.length&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},y.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){if(n=y.rescue(t,n))return n}else if(n===y.JS.Error||n["$==="](t))return n}return null},y.is_a=function(t,e){if(t.$$meta===e||t.$$class===e||t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=y.ancestors(t.$$is_class?y.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},y.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw y.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},y.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===h)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},y.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===h)return[t];if(e.$$is_array)return e;throw y.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},y.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):y.hash2([],{})},y.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return y.hash2(r,n)},y.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?(i.$$p=n,i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},y.lambda=function(t){return t.$$is_lambda=!0,t},y.def=function(t,e,r){t===y.top?y.defn(y.Object,e,r):t.$$eval||!t.$$is_class&&!t.$$is_module?y.defs(t,e,r):y.defn(t,e,r)},y.defn=function(t,e,r){t.$$proto[e]=r,r.$$owner=t,null==r.displayName&&(r.displayName=e.substr(1)),t.$$is_module&&(y.update_includers(t,e),t.$$module_function&&y.defs(t,e,r));var n=t.$__id__&&!t.$__id__.$$stub&&m[t.$__id__()];if(n)for(var i=n.length-1;0<=i;i--)y.bridge_method(n[i],t,e,r);return r=t.$$singleton_of,!t.$method_added||t.$method_added.$$stub||r?r&&r.$singleton_method_added&&!r.$singleton_method_added.$$stub&&r.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),h},y.defs=function(t,e,r){y.defn(y.get_singleton_class(t),e,r)},y.rdef=function(t,e){if(!g.call(t.$$proto,e))throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},y.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw y.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());y.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},y.alias=function(t,e,r){var n,i="$"+e,$="$"+r,a=t.$$proto["$"+r];if(t.$$eval)return y.alias(y.get_singleton_class(t),e,r);if("function"!=typeof a||a.$$stub){for(var o=t.$$super;"function"!=typeof a&&o;)a=o[$],o=o.$$super;if("function"!=typeof a||a.$$stub)throw y.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),n=function(){var t,e,r,i=n.$$p;for(t=Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),y.send(this,a,t,i)},n.displayName=e,n.length=a.length,n.$$arity=a.$$arity,n.$$parameters=a.$$parameters,n.$$source_location=a.$$source_location,n.$$alias_of=a,n.$$alias_name=e,y.defn(t,i,n),t},y.alias_native=function(t,e,r){e="$"+e;var n=t.$$proto[r];if("function"!=typeof n||n.$$stub)throw y.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return y.defn(t,e,n),t},y.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},y.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,o=$.length;i<o;i++)r=$[i],r.$$is_string?n=a[r]:(n=r.value,r=r.key),y.hash_put(e,r,n)},y.hash_put=function(e,r,n){if(r.$$is_string)g.call(e.$$smap,r)||e.$$keys.push(r),e.$$smap[r]=n;else{var i,$,a;if(i=e.$$by_identity?y.id(r):r.$hash(),g.call(e.$$map,i)){for($=e.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){a=t,$.value=n;break}a=$,$=$.next}a&&($={key:r,key_hash:i,value:n},e.$$keys.push($),a.next=$)}else $={key:r,key_hash:i,value:n},e.$$keys.push($),e.$$map[i]=$}},y.hash_get=function(t,e){if(e.$$is_string){if(g.call(t.$$smap,e))return t.$$smap[e]}else{var r;if(r=t.$$by_identity?y.id(e):e.$hash(),g.call(t.$$map,r))for(r=t.$$map[r];r;){if(e===r.key||e["$eql?"](r.key))return r.value;r=r.next}}},y.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!g.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(g.call(t.$$map,a))for(var o,s=t.$$map[a];s;){if(e===s.key||e["$eql?"](s.key)){for(n=s.value,r=0;r<$;r++)if(i[r]===s){i.splice(r,1);break}return o&&s.next?o.next=s.next:o?delete o.next:s.next?t.$$map[a]=s.next:delete t.$$map[a],n}o=s,s=s.next}},y.hash_rehash=function(e){for(var r,n,i,$=0,a=e.$$keys.length;$<a;$++)if(!e.$$keys[$].$$is_string&&(r=e.$$keys[$].key.$hash(),r!==e.$$keys[$].key_hash)){for(n=e.$$map[e.$$keys[$].key_hash],i=t;n;){if(n===e.$$keys[$]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[$].key_hash]=n.next:delete e.$$map[e.$$keys[$].key_hash];break}i=n,n=n.next}if(e.$$keys[$].key_hash=r,g.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[$]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[$])}else e.$$map[r]=e.$$keys[$]}},y.hash=function(){var t,e,r,n,i,$=arguments.length;if(1===$&&arguments[0].$$is_hash)return arguments[0];if(t=new y.Hash.$$alloc,y.hash_init(t),1===$&&arguments[0].$$is_array){for($=arguments[0],r=$.length,e=0;e<r;e++){if(2!==$[e].length)throw y.ArgumentError.$new("value not of length 2: "+$[e].$inspect());n=$[e][0],i=$[e][1],y.hash_put(t,n,i)}return t}if(1===$){$=arguments[0];for(n in $)g.call($,n)&&(i=$[n],y.hash_put(t,n,i));return t}if(0!==$%2)throw y.ArgumentError.$new("odd number of arguments for Hash");for(e=0;e<$;e+=2)n=arguments[e],i=arguments[e+1],y.hash_put(t,n,i);return t},y.hash2=function(t,e){var r=new y.Hash.$$alloc;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},y.range=function(t,e,r){var n=new y.Range.$$alloc;return n.begin=t,n.end=e,n.excl=r,n},y.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},y.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},y.modules={},y.loaded_features=["corelib/runtime"],y.current_dir=".",y.require_table={"corelib/runtime":!0},y.normalize=function(t){var e,r=[];"."!==y.current_dir&&(t=y.current_dir.replace(/\/*$/,"/")+t),t=t.replace(/^\.\//,""),t=t.replace(/\.(rb|opal|js)$/,""),t=t.split("/");for(var n=0,i=t.length;n<i;n++)e=t[n],""!==e&&(".."===e?r.pop():r.push(e));return r.join("/")},y.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r&&(n=y.normalize(t[e]),!y.require_table[n]);e++)y.loaded_features.push(n),y.require_table[n]=!0},y.load=function(t){t=y.normalize(t),y.loaded([t]);var e=y.modules[t];if(e)e(y);else{if(e=y.config.missing_require_severity,t="cannot load such file -- "+t,"error"===e){if(y.LoadError)throw y.LoadError.$new(t);throw t}"warning"===e&&l.warn("WARNING: LoadError: "+t)}return!0},y.require=function(t){return t=y.normalize(t),!y.require_table[t]&&y.load(t)},y.boot_class_alloc("BasicObject",e),y.boot_class_alloc("Object",r,e),y.boot_class_alloc("Module",i,r),y.boot_class_alloc("Class",n,i),y.BasicObject=f=y.setup_class_object("BasicObject",e,"Class",n),y.Object=d=y.setup_class_object("Object",r,"BasicObject",f.constructor),y.Module=_=y.setup_class_object("Module",i,"Object",d.constructor),y.Class=p=y.setup_class_object("Class",n,"Module",_.constructor),f.$$const.BasicObject=f,y.const_set(d,"BasicObject",f),y.const_set(d,"Object",d),y.const_set(d,"Module",_),y.const_set(d,"Class",p),f.$$class=p,d.$$class=p,_.$$class=p,p.$$class=p,f.$$super=null,d.$$super=f,_.$$super=d,p.$$super=_,f.$$parent=null,d.$$parent=f,_.$$parent=d,p.$$parent=_,d.$$proto.toString=function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t},d.$$proto.$require=y.require,y.$$=d.$$,y.top=new d.$$alloc,y.top.$to_s=y.top.$inspect=function(){return"main"},y.klass(d,d,"NilClass",$),h=y.nil=new $,h.$$id=4,h.call=h.apply=function(){throw y.LocalJumpError.$new("no block given");
},y.breaker=Error("unexpected break (old)"),y.returner=Error("unexpected return"),TypeError.$$super=Error}.call(void 0),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.truthy;return t.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" ")),function(e,a){var o,s,u,l,c,h,f,d,_,p,y,m,g,v,b=i(e,"Opal"),w=[b].concat(a);t.defs(b,"$bridge",o=function(e,r){return t.bridge(e,r)},o.$$arity=2),t.defs(b,"$type_error",s=function t(e,i,a,o){var t;return null==a&&(a=r),null==o&&(o=r),$($(t=a)?o:t)?n(w,"TypeError").$new("can't convert "+e.$class()+" into "+i+" ("+e.$class()+"#"+a+" gives "+o.$class()+")"):n(w,"TypeError").$new("no implicit conversion of "+e.$class()+" into "+i)},s.$$arity=-3),t.defs(b,"$coerce_to",u=function(t,e,r){return $(e["$==="](t))?t:($(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},u.$$arity=3),t.defs(b,"$coerce_to!",l=function(t,e,n){var i=r,i=this.$coerce_to(t,e,n);return $(e["$==="](i))||this.$raise(this.$type_error(t,e,n,i)),i},l.$$arity=3),t.defs(b,"$coerce_to?",c=function(t,e,n){var i=r;return $(t["$respond_to?"](n))?(i=this.$coerce_to(t,e,n),$(i["$nil?"]())?r:($(e["$==="](i))||this.$raise(this.$type_error(t,e,n,i)),i)):r},c.$$arity=3),t.defs(b,"$try_convert",h=function(t,e,n){return $(e["$==="](t))?t:$(t["$respond_to?"](n))?t.$__send__(n):r},h.$$arity=3),t.defs(b,"$compare",f=function(t,e){var i=r,i=t["$<=>"](e);return $(i===r)&&this.$raise(n(w,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),i},f.$$arity=2),t.defs(b,"$destructure",d=function t(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var r=Array(e.length),t=0,n=r.length;t<n;t++)r[t]=e[t];return r},d.$$arity=1),t.defs(b,"$respond_to?",_=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},_.$$arity=-3),t.defs(b,"$inspect_obj",p=function(e){return t.inspect(e)},p.$$arity=1),t.defs(b,"$instance_variable_name!",y=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),$(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(n(w,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},y.$$arity=1),t.defs(b,"$class_variable_name!",m=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),$(3>t.length||"@@"!==t.slice(0,2))&&this.$raise(n(w,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},m.$$arity=1),t.defs(b,"$const_name!",g=function(t){return t=n(w,"Opal")["$coerce_to!"](t,n(w,"String"),"to_str"),$(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(n(w,"NameError"),"wrong constant name "+t),t},g.$$arity=1),t.defs(b,"$pristine",v=function(t,e){var n,i=arguments.length;n=i-1,0>n&&(n=0),n=Array(n);for(var $=1;$<i;$++)n[$-1]=arguments[$];for(i=n.length-1;0<=i;i--)$=n[i],($=t.$$proto["$"+$])&&!$.$$stub&&($.$$pristine=!0);return r},v.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(b){function B(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var F=[],r=b.nil,x=b.const_get_qualified,n=b.const_get_relative,h=b.klass,A=b.truthy,p=b.send,w=b.lambda,a=b.range,f=b.hash2;return b.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $to_proc $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" ")),function(E,$super,m){function C(){}E=C=h(E,$super,"Module",C);var e=[E].concat(m),c,_l,d,y,v,g,k,q,sa,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,_N,ea,pa,ga,P,U,F,V,ha,Z,qa,ma,fa,ka,_Ba,_Y,la,na,wa,ta,Ca,ya,Aa,_xa,Da,Fa;return b.defs(E,"$allocate",c=function(){return b.module_allocate(this)},c.$$arity=0),b.def(E,"$initialize",_l=function(){var t=_l.$$p,e=t||r;return t&&(_l.$$p=null),b.module_initialize(this,e)},_l.$$arity=0),b.def(E,"$===",d=function(t){return!A(null==t)&&b.is_a(t,this)},d.$$arity=1),b.def(E,"$<",y=function(t){A(n(e,"Module")["$==="](t))||this.$raise(n(e,"TypeError"),"compared with non class/module");var i,$,a;if(this===t)return!1;for($=0,i=b.ancestors(this),a=i.length;$<a;$++)if(i[$]===t)return!0;for($=0,i=b.ancestors(t),a=i.length;$<a;$++)if(i[$]===this)return!1;return r},y.$$arity=1),b.def(E,"$<=",v=function(t){var e;return A(e=this["$equal?"](t))?e:B(this,t)},v.$$arity=1),b.def(E,"$>",g=function(t){return A(n(e,"Module")["$==="](t))||this.$raise(n(e,"TypeError"),"compared with non class/module"),B(t,this)},g.$$arity=1),b.def(E,"$>=",k=function(t){var e;return A(e=this["$equal?"](t))?e:"number"==typeof this&&"number"==typeof t?this>t:this["$>"](t)},k.$$arity=1),b.def(E,"$<=>",q=function(t){var i=r;return this===t?0:A(n(e,"Module")["$==="](t))?(i=B(this,t),A(i["$nil?"]())?r:A(i)?-1:1):r},q.$$arity=1),b.def(E,"$alias_method",sa=function(t,e){return b.alias(this,t,e),this},sa.$$arity=2),b.def(E,"$alias_native",u=function(t,e){return null==e&&(e=t),b.alias_native(this,t,e),this},u.$$arity=-2),b.def(E,"$ancestors",Ea=function(){return b.ancestors(this)},Ea.$$arity=0),b.def(E,"$append_features",D=function(t){return b.append_features(this,t),this},D.$$arity=1),b.def(E,"$attr_accessor",aa=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return p(this,"attr_reader",b.to_a(e)),p(this,"attr_writer",b.to_a(e))},aa.$$arity=-1),b.alias(E,"attr","attr_accessor"),b.def(E,"$attr_reader",da=function(t){var e,n=arguments.length;e=n-0,0>e&&(e=0),e=Array(e);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(n=this.$$proto,i=e.length-1;0<=i;i--){var $=e[i],a="$"+$,$=b.ivar($),o=function(t){return function(){return null==this[t]?r:this[t]}}($);n[$]=r,o.$$parameters=[],o.$$arity=0,this.$$is_singleton?n.constructor.prototype[a]=o:b.defn(this,a,o)}return r},da.$$arity=-1),b.def(E,"$attr_writer",J=function(t){var e,n=arguments.length;e=n-0,0>e&&(e=0),e=Array(e);for(var i=0;i<n;i++)e[i-0]=arguments[i];for(n=this.$$proto,i=e.length-1;0<=i;i--){var $=e[i],a="$"+$+"=",$=b.ivar($),o=function(t){return function(e){return this[t]=e}}($);o.$$parameters=[["req"]],o.$$arity=1,n[$]=r,this.$$is_singleton?n.constructor.prototype[a]=o:b.defn(this,a,o)}return r},J.$$arity=-1),b.def(E,"$autoload",ja=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),b.const_cache_version++,this.$$autoload[t]=e,r},ja.$$arity=2),b.def(E,"$class_variables",va=function(){return Object.keys(b.class_variables(this))},va.$$arity=0),b.def(E,"$class_variable_get",z=function(t){t=n(e,"Opal")["$class_variable_name!"](t);var r=b.class_variables(this)[t];return null==r&&this.$raise(n(e,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),r},z.$$arity=1),b.def(E,"$class_variable_set",T=function(t,r){return t=n(e,"Opal")["$class_variable_name!"](t),b.class_variable_set(this,t,r)},T.$$arity=2),b.def(E,"$class_variable_defined?",oa=function(t){return t=n(e,"Opal")["$class_variable_name!"](t),b.class_variables(this).hasOwnProperty(t)},oa.$$arity=1),b.def(E,"$remove_class_variable",ba=function(t){if(t=n(e,"Opal")["$class_variable_name!"](t),b.hasOwnProperty.call(this.$$cvars,t)){var r=this.$$cvars[t];return delete this.$$cvars[t],r}this.$raise(n(e,"NameError"),"cannot remove "+t+" for "+this)},ba.$$arity=1),b.def(E,"$constants",G=function(t){return null==t&&(t=!0),b.constants(this,t)},G.$$arity=-1),b.defs(E,"$constants",Q=function(t){if(null==t){t=(this.$$nesting||[]).concat(b.Object);var e,r,n,i={};for(r=0,n=t.length;r<n;r++)for(e in t[r].$$const)i[e]=!0;return Object.keys(i)}return b.constants(this,t)},Q.$$arity=-1),b.defs(E,"$nesting",R=function(){return this.$$nesting||[]},R.$$arity=0),b.def(E,"$const_defined?",L=function(t,r){null==r&&(r=!0),t=n(e,"Opal")["$const_name!"](t),A(t["$=~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(e,"NameError").$new("wrong constant name "+t,t));var i,$,a,o=[this];for(r&&(o=o.concat(b.ancestors(this)),this.$$is_module&&(o=o.concat([b.Object]).concat(b.ancestors(b.Object)))),$=0,a=o.length;$<a;$++)if(i=o[$],null!=i.$$const[t])return!0;return!1},L.$$arity=-2),b.def(E,"$const_get",S=function(t,i){var $;return null==i&&(i=!0),t=n(e,"Opal")["$const_name!"](t),0===t.indexOf("::")&&"::"!==t&&(t=t.slice(2)),A(-1!=t.indexOf("::")&&"::"!=t)?p(t.$split("::"),"inject",[this],($=function(t,e){return null==t&&(t=r),null==e&&(e=r),t.$const_get(e)},$.$$s=this,$.$$arity=2,$)):(A(t["$=~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(e,"NameError").$new("wrong constant name "+t,t)),i?n([this],t):b.const_get_local(this,t))},S.$$arity=-2),b.def(E,"$const_missing",W=function(t){var i=r;return this.$$autoload&&(i=this.$$autoload[t])?(this.$require(i),this.$const_get(t)):(i=this["$=="](n(e,"Object"))?t:""+this+"::"+t,this.$raise(n(e,"NameError").$new("uninitialized constant "+i,t)))},W.$$arity=1),b.def(E,"$const_set",O=function(t,r){var i;return t=n(e,"Opal")["$const_name!"](t),A(A(i=t["$!~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))?i:t["$start_with?"]("::"))&&this.$raise(n(e,"NameError").$new("wrong constant name "+t,t)),b.const_set(this,t,r),r},O.$$arity=2),b.def(E,"$public_constant",X=function(t){return r},X.$$arity=1),b.def(E,"$define_method",_N=function(t,i){var $,a,o=this,s=_N.$$p,u=s||r,l=r;return s&&(_N.$$p=null),A(void 0===i&&u===r)&&o.$raise(n(e,"ArgumentError"),"tried to create a Proc object without a block"),u=A($=u)?$:function(){return l=i,n(e,"Proc")["$==="](l)?i:n(e,"Method")["$==="](l)?i.$to_proc().$$unbound:n(e,"UnboundMethod")["$==="](l)?w((a=function(t){var e,n=a.$$s||this,$=r,$=arguments.length;e=$-0,0>e&&(e=0),e=Array(e);for(var o=0;o<$;o++)e[o-0]=arguments[o];return $=i.$bind(n),p($,"call",b.to_a(e))},a.$$s=o,a.$$arity=-1,a)):o.$raise(n(e,"TypeError"),"wrong argument type "+u.$class()+" (expected Proc/Method)")}(),u.$$jsid=t,u.$$s=null,u.$$def=u,u.$$define_meth=!0,b.defn(o,"$"+t,u),t},_N.$$arity=-2),b.def(E,"$remove_method",ea=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=0,n=e.length;r<n;r++)b.rdef(this,"$"+e[r]);return this},ea.$$arity=-1),b.def(E,"$singleton_class?",pa=function(){return!!this.$$is_singleton},pa.$$arity=0),b.def(E,"$include",ga=function(t){var r,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];for(i=r.length-1;0<=i;i--)$=r[i],$.$$is_module||this.$raise(n(e,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(this),$.$included(this);return this},ga.$$arity=-1),b.def(E,"$included_modules",P=function(){var t,e=function t(e){for(var r=[],n=0,i=e.$$inc.length;n<i;n++){var $=e.$$inc[n];r.push($),r=r.concat(t($))}return r};if(t=e(this),this.$$is_class)for(var r=this;r;r=r.$$super)t=t.concat(e(r));return t},P.$$arity=0),b.def(E,"$include?",U=function(t){t.$$is_module||this.$raise(n(e,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var r,i,$,a=b.ancestors(this);for(r=0,i=a.length;r<i;r++)if($=a[r],$===t&&$!==this)return!0;return!1},U.$$arity=1),b.def(E,"$instance_method",F=function(t){var r=this.$$proto["$"+t];return r&&!r.$$stub||this.$raise(n(e,"NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),n(e,"UnboundMethod").$new(this,r.$$owner||this,r,t)},F.$$arity=1),b.def(E,"$instance_methods",V=function(t){null==t&&(t=!0);var e,r,n=[],i=this.$$proto;for(r in i)if("$"===r.charAt(0)&&"$"!==r.charAt(1)&&(e=i[r],"function"==typeof e&&!e.$$stub)){if(!this.$$is_module){if(this!==b.BasicObject&&e===b.BasicObject.$$proto[r])continue;if(!t&&!i.hasOwnProperty(r))continue;if(!t&&e.$$donated)continue}n.push(r.substr(1))}return n},V.$$arity=-1),b.def(E,"$included",ha=function(t){return r},ha.$$arity=1),b.def(E,"$extended",Z=function(t){return r},Z.$$arity=1),b.def(E,"$extend_object",qa=function(t){return r},qa.$$arity=1),b.def(E,"$method_added",ma=function(t){return r},ma.$$arity=-1),b.def(E,"$method_removed",fa=function(t){return r},fa.$$arity=-1),b.def(E,"$method_undefined",ka=function(t){return r},ka.$$arity=-1),b.def(E,"$module_eval",_Ba=function Ba(c){var d,_g,k,l=_Ba.$$p,u=l||r,m=r,q=k=k=k=r,m=arguments.length;k=m-0,0>k&&(k=0),k=Array(k);for(var C=0;C<m;C++)k[C-0]=arguments[C];return l&&(_Ba.$$p=null),A(A(d=u["$nil?"]())?!!b.compile:d)?(A(a(1,3,!1)["$cover?"](k.$size()))||n(e,"Kernel").$raise(n(e,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(k)),m=null==d[0]?r:d[0],k=null==d[1]?r:d[1],k=f(["file","eval"],{file:A(d=k)?d:"(eval)",eval:!0}),k=b.hash({arity_check:!1}).$merge(k),q=n(e,"Opal").$compile(m,k),u=p(n(e,"Kernel"),"proc",[],(_g=function g(){return function(a){return eval(q)}(_g.$$s||this)},_g.$$s=this,_g.$$arity=0,_g))):A(k["$any?"]())&&n(e,"Kernel").$raise(n(e,"ArgumentError"),""+("wrong number of arguments ("+k.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"),d=u.$$s,u.$$s=null,l=u.apply(this,[this]),u.$$s=d,l},_Ba.$$arity=-1),b.alias(E,"class_eval","module_eval"),b.def(E,"$module_exec",_Y=function(t){var i,$=_Y.$$p,a=$||r,o=arguments.length;i=o-0,0>i&&(i=0),i=Array(i);for(var s=0;s<o;s++)i[s-0]=arguments[s];return $&&(_Y.$$p=null),a===r&&this.$raise(n(e,"LocalJumpError"),"no block given"),$=a.$$s,a.$$s=null,i=a.apply(this,i),a.$$s=$,i},_Y.$$arity=-1),b.alias(E,"class_exec","module_exec"),b.def(E,"$method_defined?",la=function(t){return t=this.$$proto["$"+t],!!t&&!t.$$stub},la.$$arity=1),b.def(E,"$module_function",na=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];if(0===e.length)this.$$module_function=!0;else for(r=0,n=e.length;r<n;r++){var i="$"+e[r];b.defs(this,i,this.$$proto[i])}return this},na.$$arity=-1),b.def(E,"$name",wa=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===r||null==e.$$name)return r;if(t.unshift(e.$$name),e=e.$$base_module,e===b.Object)break}return 0===t.length?r:this.$$full_name=t.join("::")},wa.$$arity=0),b.def(E,"$remove_const",ta=function(t){return b.const_remove(this,t)},ta.$$arity=1),b.def(E,"$to_s",Ca=function(){var t;return A(t=b.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ca.$$arity=0),b.def(E,"$undef_method",ya=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=0,n=e.length;r<n;r++)b.udef(this,"$"+e[r]);return this},ya.$$arity=-1),b.def(E,"$instance_variables",Aa=function(){var t,n=r,n=(b.Module.$$nesting=e,this.$constants()),i=[];for(t in this)this.hasOwnProperty(t)&&"$"!==t.charAt(0)&&"constructor"!==t&&!n["$include?"](t)&&i.push("@"+t);return i},Aa.$$arity=0),b.def(E,"$dup",_xa=function(){var t=_xa.$$p,e=r,n=e=r,i=r;for(t&&(_xa.$$p=null),n=0,i=arguments.length,e=Array(i);n<i;n++)e[n]=arguments[n];return e=p(this,b.find_super_dispatcher(this,"dup",_xa,!1),e,t),e.$copy_class_variables(this),e.$copy_constants(this),e},_xa.$$arity=0),b.def(E,"$copy_class_variables",Da=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},Da.$$arity=1),b.def(E,"$copy_constants",Fa=function(t){var e;t=t.$$const;for(e in t)b.const_set(this,e,t[e])},Fa.$$arity=1),r&&"copy_constants"}(F[0],null,F)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_relative,$=t.klass,a=t.send;return t.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){function s(){}e=s=$(e,r,"Class",s);var u,l,c,h,f,d,_,p=[e].concat(o);return t.defs(e,"$new",u=function(e){var r=u.$$p,$=r||n;if(null==e&&(e=i(p,"Object")),r&&(u.$$p=null),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");return r=t.boot_class_alloc(null,function(){},e),r=t.setup_class_object(null,r,e.$$name,e.constructor),r.$$super=e,r.$$parent=e,e.$inherited(r),t.module_initialize(r,$),r},u.$$arity=-1),t.def(e,"$allocate",l=function(){var e=new this.$$alloc;return e.$$id=t.uid(),e},l.$$arity=0),t.def(e,"$inherited",c=function(t){return n},c.$$arity=1),t.def(e,"$initialize_dup",h=function(t){this.$initialize_copy(t),this.$$full_name=this.$$name=null},h.$$arity=1),t.def(e,"$new",f=function(e){var r,i=f.$$p,$=i||n,a=arguments.length;r=a-0,0>r&&(r=0),r=Array(r);for(var o=0;o<a;o++)r[o-0]=arguments[o];return i&&(f.$$p=null),i=this.$allocate(),t.send(i,i.$initialize,r,$),i},f.$$arity=-1),t.def(e,"$superclass",d=function(){return this.$$super||n},d.$$arity=0),t.def(e,"$to_s",_=function(){_.$$p&&(_.$$p=null);var e=this.$$singleton_of;return e&&(e.$$is_class||e.$$is_module)?"#<Class:"+e.$name()+">":e?"#<Class:#<"+e.$$class.$name()+":0x"+t.id(e).$to_s(16)+">>":a(this,t.find_super_dispatcher(this,"to_s",_,!1),[],null)},_.$$arity=0),n&&"to_s"}(r[0],null,r)},Opal.modules["corelib/basic_object"]=function(b){var B=[],F=b.nil,r=b.const_get_qualified,x=b.klass,n=b.truthy,h=b.range,A=b.hash2,p=b.send;return b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" ")),function(w,$super,f){function E(){}w=E=x(w,$super,"BasicObject",E),[w].concat(f);var t,m,C,e,_c,l,d,_y,_v,g,k,q,_sa;return b.def(w,"$initialize",t=function(t){return F},t.$$arity=-1),b.def(w,"$==",m=function(t){return this===t},m.$$arity=1),b.def(w,"$eql?",C=function(t){return this["$=="](t)},C.$$arity=1),b.alias(w,"equal?","=="),b.def(w,"$__id__",e=function(){return this.$$id||(this.$$id=b.uid())},e.$$arity=0),b.def(w,"$__send__",_c=function(t,e){var r,n=_c.$$p,i=n||F,$=arguments.length;r=$-1,0>r&&(r=0),r=Array(r);for(var a=1;a<$;a++)r[a-1]=arguments[a];return n&&(_c.$$p=null),(n=this["$"+t])?(i!==F&&(n.$$p=i),n.apply(this,r)):(i!==F&&(this.$method_missing.$$p=i),this.$method_missing.apply(this,[t].concat(r)))},_c.$$arity=-2),b.def(w,"$!",l=function(){return!1},l.$$arity=0),b.def(w,"$!=",d=function(t){return this["$=="](t)["$!"]()},d.$$arity=1),b.def(w,"$instance_eval",_y=function y(c){var d,_f2,e,g=_y.$$p,k=g||F,l=F,m=e=e=e=F,l=arguments.length;e=l-0,0>e&&(e=0),e=Array(e);for(var q=0;q<l;q++)e[q-0]=arguments[q];g&&(_y.$$p=null),n(n(d=k["$nil?"]())?!!b.compile:d)?(n(h(1,3,!1)["$cover?"](e.$size()))||r("::","Kernel").$raise(r("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(e)),l=null==d[0]?F:d[0],e=null==d[1]?F:d[1],e=A(["file","eval"],{file:n(d=e)?d:"(eval)",eval:!0}),e=b.hash({arity_check:!1}).$merge(e),m=r("::","Opal").$compile(l,e),k=p(r("::","Kernel"),"proc",[],(_f2=function f(){return function(b){return eval(m)}(_f2.$$s||this)},_f2.$$s=this,_f2.$$arity=0,_f2))):n(e["$any?"]())&&r("::","Kernel").$raise(r("::","ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)"),d=k.$$s;var t;if(k.$$s=null,this.$$is_class||this.$$is_module){this.$$eval=!0;try{t=k.call(this,this)}finally{this.$$eval=!1}}else t=k.call(this,this);return k.$$s=d,t},_y.$$arity=-1),b.def(w,"$instance_exec",_v=function(t){var e,i=_v.$$p,$=i||F,a=arguments.length;e=a-0,0>e&&(e=0),e=Array(e);for(var o=0;o<a;o++)e[o-0]=arguments[o];i&&(_v.$$p=null),n($)||r("::","Kernel").$raise(r("::","ArgumentError"),"no block given");var s,i=$.$$s;if($.$$s=null,this.$$is_class||this.$$is_module){this.$$eval=!0;try{s=$.apply(this,e)}finally{this.$$eval=!1}}else s=$.apply(this,e);return $.$$s=i,s},_v.$$arity=-1),b.def(w,"$singleton_method_added",g=function(t){return F},g.$$arity=-1),b.def(w,"$singleton_method_removed",k=function(t){return F},k.$$arity=-1),b.def(w,"$singleton_method_undefined",q=function(t){return F},q.$$arity=-1),b.def(w,"$method_missing",_sa=function(t,e){var i,$=_sa.$$p,a=F,a=arguments.length;i=a-1,0>i&&(i=0),i=Array(i);for(var o=1;o<a;o++)i[o-1]=arguments[o];return $&&(_sa.$$p=null),a=n(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+t+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+t+"' for "+this.$$class,r("::","Kernel").$raise(r("::","NoMethodError").$new(a,t))},_sa.$$arity=-2),F&&"method_missing"}(B[0],null,B)},Opal.modules["corelib/kernel"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=t.module,o=t.truthy,s=t.gvars,u=t.hash2,l=t.send,c=t.klass;return t.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" ")),function(r,c){var h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et=a(r,"Kernel"),kt=[Et].concat(c);t.def(Et,"$method_missing",h=function(t,e){var r,n=h.$$p,i=arguments.length;r=i-1,0>r&&(r=0),r=Array(r);for(var a=1;a<i;a++)r[a-1]=arguments[a];return n&&(h.$$p=null),this.$raise($(kt,"NoMethodError").$new("undefined method `"+t+"' for "+this.$inspect(),t,r))},h.$$arity=-2),t.def(Et,"$=~",f=function(t){return!1},f.$$arity=1),t.def(Et,"$!~",d=function(t){return this["$=~"](t)["$!"]()},d.$$arity=1),t.def(Et,"$===",_=function(t){var e;return o(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},_.$$arity=1),t.def(Et,"$<=>",p=function(t){return this.$$comparable=!0,(t=this["$=="](t))&&t!==n?0:n},p.$$arity=1),t.def(Et,"$method",y=function(t){var e=this["$"+t];return e&&!e.$$stub||this.$raise($(kt,"NameError").$new("undefined method `"+t+"' for class `"+this.$class()+"'",t)),$(kt,"Method").$new(this,e.$$owner||this.$class(),e,t)},y.$$arity=1),t.def(Et,"$methods",m=function(e){null==e&&(e=!0);var r,i=[];for(r in this)"$"==r[0]&&"function"==typeof this[r]&&(0!=e&&e!==n||t.hasOwnProperty.call(this,r))&&void 0===this[r].$$stub&&i.push(r.substr(1));return i},m.$$arity=-1),t.alias(Et,"public_methods","methods"),t.def(Et,"$Array",g=function(t){var e;return t===n?[]:t.$$is_array?t:(e=$(kt,"Opal")["$coerce_to?"](t,$(kt,"Array"),"to_ary"),e!==n?e:(e=$(kt,"Opal")["$coerce_to?"](t,$(kt,"Array"),"to_a"),e!==n?e:[t]))},g.$$arity=1),t.def(Et,"$at_exit",v=function(){var t,e=v.$$p,r=e||n;return null==s.__at_exit__&&(s.__at_exit__=n),e&&(v.$$p=null),s.__at_exit__=o(t=s.__at_exit__)?t:[],s.__at_exit__["$<<"](r)},v.$$arity=0),t.def(Et,"$caller",b=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return[]},b.$$arity=-1),t.def(Et,"$class",w=function(){return this.$$class},w.$$arity=0),t.def(Et,"$copy_instance_variables",E=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)n=i[e],"$"!==n.charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},E.$$arity=1),t.def(Et,"$copy_singleton_methods",k=function(e){var r;if(e.hasOwnProperty("$$meta")){var n=t.get_singleton_class(e).$$proto,i=t.get_singleton_class(this).$$proto;for(r in n)"$"===r.charAt(0)&&n.hasOwnProperty(r)&&(i[r]=n[r])}for(r in e)"$"===r.charAt(0)&&"$"!==r.charAt(1)&&e.hasOwnProperty(r)&&(this[r]=e[r])},k.$$arity=1),t.def(Et,"$clone",x=function(e){var r=n;if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");u([],{})}return r=this.$class().$allocate(),r.$copy_instance_variables(this),r.$copy_singleton_methods(this),r.$initialize_clone(this),r},x.$$arity=-1),t.def(Et,"$initialize_clone",A=function(t){return this.$initialize_copy(t)},A.$$arity=1),t.def(Et,"$define_singleton_method",O=function(t,e){var r=O.$$p,i=r||n;return r&&(O.$$p=null),l(this.$singleton_class(),"define_method",[t,e],i.$to_proc())},O.$$arity=-2),t.def(Et,"$dup",S=function(){var t=n,t=this.$class().$allocate();return t.$copy_instance_variables(this),t.$initialize_dup(this),t},S.$$arity=0),t.def(Et,"$initialize_dup",R=function(t){return this.$initialize_copy(t)},R.$$arity=1),t.def(Et,"$enum_for",I=function(e,r){var i,a=I.$$p,o=a||n;null==e&&(e="each");var s=arguments.length;i=s-1,0>i&&(i=0),i=Array(i);for(var u=1;u<s;u++)i[u-1]=arguments[u];return a&&(I.$$p=null),l($(kt,"Enumerator"),"for",[this,e].concat(t.to_a(i)),o.$to_proc())},I.$$arity=-1),t.alias(Et,"to_enum","enum_for"),t.def(Et,"$equal?",T=function(t){return this===t},T.$$arity=1),t.def(Et,"$exit",M=function(e){var r,i=n;for(null==s.__at_exit__&&(s.__at_exit__=n),null==e&&(e=!0),s.__at_exit__=o(r=s.__at_exit__)?r:[];!o(s.__at_exit__["$empty?"]());)i=s.__at_exit__.$pop(),i.$call();return e=null==e?0:e.$$is_boolean?e?0:1:e.$$is_numeric?e.$to_i():0,t.exit(e),n},M.$$arity=-1),t.def(Et,"$extend",C=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=this.$singleton_class(),n=e.length-1;0<=n;n--){var i=e[n];i.$$is_module||this.$raise($(kt,"TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(r),i.$extend_object(this),i.$extended(this)}return this},C.$$arity=-1),t.def(Et,"$format",N=function t(e,r){function i(){32&t&&p.$raise($(kt,"ArgumentError"),"flag after width"),128&t&&p.$raise($(kt,"ArgumentError"),"flag after precision")}function a(){32&t&&p.$raise($(kt,"ArgumentError"),"width given twice"),128&t&&p.$raise($(kt,"ArgumentError"),"width after precision")}function u(t){return t>=_.length&&p.$raise($(kt,"ArgumentError"),"too few arguments"),_[t]}function l(){switch(C){case-1:p.$raise($(kt,"ArgumentError"),"unnumbered("+M+") mixed with numbered");case-2:p.$raise($(kt,"ArgumentError"),"unnumbered("+M+") mixed with named")}return C=M++,u(C-1)}function c(t){return 0<C&&p.$raise($(kt,"ArgumentError"),"numbered("+t+") after unnumbered("+C+")"),-2===C&&p.$raise($(kt,"ArgumentError"),"numbered("+t+") after named"),1>t&&p.$raise($(kt,"ArgumentError"),"invalid index - "+t+"$"),C=-1,u(t-1)}function h(){return void 0===I?l():I}function f(t){var r;for(r="";;v++){if(v===T&&p.$raise($(kt,"ArgumentError"),"malformed format string - %*[0-9]"),48>e.charCodeAt(v)||57<e.charCodeAt(v))return v--,r=parseInt(r,10)||0,2147483647<r&&p.$raise($(kt,"ArgumentError"),""+t+" too big"),r;r+=e.charAt(v)}}function d(t){return t=f(t),"$"===e.charAt(v+1)?(v++,t=c(t)):t=l(),t.$to_int()}var _,p=this,y=n;null==s.DEBUG&&(s.DEBUG=n);var y=arguments.length,m=y-1;for(0>m&&(m=0),_=Array(m),m=1;m<y;m++)_[m-1]=arguments[m];o(_.$length()["$=="](1)?_["$[]"](0)["$respond_to?"]("to_ary"):_.$length()["$=="](1))&&(y=$(kt,"Opal")["$coerce_to?"](_["$[]"](0),$(kt,"Array"),"to_ary"),o(y["$nil?"]())||(_=y.$to_a()));var g,v,b,w,E,k,x,A,O,S,R,I,t,y="",m=0,T=e.length,M=1,C=0;for(v=e.indexOf("%");-1!==v;v=e.indexOf("%",v)){switch(w=void 0,t=0,x=k=-1,I=void 0,g=v,v++,e.charAt(v)){case"%":m=v;case"":case"\n":case"\0":v++;continue}t:for(;v<T;v++)switch(e.charAt(v)){case" ":i(),t|=16;continue t;case"#":i(),t|=1;continue t;case"+":i(),t|=4;continue t;case"-":i(),t|=2;continue t;case"0":i(),t|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(b=f("width"),"$"===e.charAt(v+1)){if(v+2===T){w="%",v++;break t}void 0!==I&&p.$raise($(kt,"ArgumentError"),"value given twice - %"+b+"$"),I=c(b),v++}else a(),t|=32,k=b;continue t;case"<":case"{":for(E="<"===e.charAt(v)?">":"}",b="",v++;;v++){if(v===T&&p.$raise($(kt,"ArgumentError"),"malformed name - unmatched parenthesis"),e.charAt(v)===E){if(0<C&&p.$raise($(kt,"ArgumentError"),"named "+b+" after unnumbered("+C+")"),-1===C&&p.$raise($(kt,"ArgumentError"),"named "+b+" after numbered"),C=-2,void 0!==_[0]&&_[0].$$is_hash||p.$raise($(kt,"ArgumentError"),"one hash required"),I=_[0].$fetch(b),">"===E)continue t;if(w=I.toString(),-1!==x&&(w=w.slice(0,x)),2&t)for(;w.length<k;)w+=" ";else for(;w.length<k;)w=" "+w;break t}b+=e.charAt(v)}case"*":v++,a(),t|=32,k=d("width"),0>k&&(t|=2,k=-k);continue t;case".":if(128&t&&p.$raise($(kt,"ArgumentError"),"precision given twice"),t|=192,x=0,v++,"*"===e.charAt(v)){v++,x=d("precision"),0>x&&(t&=-65);continue t}x=f("precision");continue t;case"d":case"i":case"u":if(b=p.$Integer(h()),0<=b){for(w=b.toString();w.length<x;)w="0"+w;if(2&t)for((4&t||16&t)&&(w=(4&t?"+":" ")+w);w.length<k;)w+=" ";else if(8&t&&-1===x){for(;w.length<k-(4&t||16&t?1:0);)w="0"+w;(4&t||16&t)&&(w=(4&t?"+":" ")+w)}else for((4&t||16&t)&&(w=(4&t?"+":" ")+w);w.length<k;)w=" "+w}else{for(w=(-b).toString();w.length<x;)w="0"+w;if(2&t)for(w="-"+w;w.length<k;)w+=" ";else if(8&t&&-1===x){for(;w.length<k-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<k;)w=" "+w}break t;case"b":case"B":case"o":case"x":case"X":switch(e.charAt(v)){case"b":case"B":A=2,O="0b",S=/^1+/,R="1";break;case"o":A=8,O="0",S=/^3?7+/,R="7";break;case"x":case"X":A=16,O="0x",S=/^f+/,R="f"}if(b=p.$Integer(h()),0<=b){for(w=b.toString(A);w.length<x;)w="0"+w;if(2&t)for((4&t||16&t)&&(w=(4&t?"+":" ")+w),1&t&&0!==b&&(w=O+w);w.length<k;)w+=" ";else if(8&t&&-1===x){for(;w.length<k-(4&t||16&t?1:0)-(1&t&&0!==b?O.length:0);)w="0"+w;1&t&&0!==b&&(w=O+w),(4&t||16&t)&&(w=(4&t?"+":" ")+w)}else for(1&t&&0!==b&&(w=O+w),(4&t||16&t)&&(w=(4&t?"+":" ")+w);w.length<k;)w=" "+w}else if(4&t||16&t){for(w=(-b).toString(A);w.length<x;)w="0"+w;if(2&t)for(1&t&&(w=O+w),w="-"+w;w.length<k;)w+=" ";else if(8&t&&-1===x){for(;w.length<k-1-(1&t?2:0);)w="0"+w;1&t&&(w=O+w),w="-"+w}else for(1&t&&(w=O+w),w="-"+w;w.length<k;)w=" "+w}else{for(w=(b>>>0).toString(A).replace(S,R);w.length<x-2;)w=R+w;if(2&t)for(w=".."+w,1&t&&(w=O+w);w.length<k;)w+=" ";else if(8&t&&-1===x){for(;w.length<k-2-(1&t?O.length:0);)w=R+w;w=".."+w,1&t&&(w=O+w)}else for(w=".."+w,1&t&&(w=O+w);w.length<k;)w=" "+w}e.charAt(v)===e.charAt(v).toUpperCase()&&(w=w.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(b=p.$Float(h()),0<=b||isNaN(b)){if(1/0===b)w="Inf";else switch(e.charAt(v)){case"f":w=b.toFixed(-1===x?6:x);break;case"e":case"E":w=b.toExponential(-1===x?6:x);break;case"g":case"G":w=b.toExponential(),E=parseInt(w.split("e")[1],10),-4>E||E>=(-1===x?6:x)||(w=b.toPrecision(-1===x?1&t?6:void 0:x))}if(2&t)for((4&t||16&t)&&(w=(4&t?"+":" ")+w);w.length<k;)w+=" ";else if(8&t&&1/0!==b&&!isNaN(b)){for(;w.length<k-(4&t||16&t?1:0);)w="0"+w;(4&t||16&t)&&(w=(4&t?"+":" ")+w)}else for((4&t||16&t)&&(w=(4&t?"+":" ")+w);w.length<k;)w=" "+w}else{if(-(1/0)===b)w="Inf";else switch(e.charAt(v)){case"f":w=(-b).toFixed(-1===x?6:x);break;case"e":case"E":w=(-b).toExponential(-1===x?6:x);break;case"g":case"G":w=(-b).toExponential(),E=parseInt(w.split("e")[1],10),-4>E||E>=(-1===x?6:x)||(w=(-b).toPrecision(-1===x?1&t?6:void 0:x))}if(2&t)for(w="-"+w;w.length<k;)w+=" ";else if(8&t&&-(1/0)!==b){for(;w.length<k-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<k;)w=" "+w}e.charAt(v)!==e.charAt(v).toUpperCase()||1/0===b||-(1/0)===b||isNaN(b)||(w=w.toUpperCase()),w=w.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":p.$raise($(kt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(b=h(),b["$respond_to?"]("to_ary")&&(b=b.$to_ary()[0]),w=b["$respond_to?"]("to_str")?b.$to_str():String.fromCharCode($(kt,"Opal").$coerce_to(b,$(kt,"Integer"),"to_int")),1!==w.length&&p.$raise($(kt,"ArgumentError"),"%c requires a character"),2&t)for(;w.length<k;)w+=" ";else for(;w.length<k;)w=" "+w;break t;case"p":if(w=h().$inspect(),-1!==x&&(w=w.slice(0,x)),2&t)for(;w.length<k;)w+=" ";else for(;w.length<k;)w=" "+w;break t;case"s":if(w=h().$to_s(),-1!==x&&(w=w.slice(0,x)),2&t)for(;w.length<k;)w+=" ";else for(;w.length<k;)w=" "+w;break t;default:p.$raise($(kt,"ArgumentError"),"malformed format string - %"+e.charAt(v))}void 0===w&&p.$raise($(kt,"ArgumentError"),"malformed format string - %"),y+=e.slice(m,g)+w,m=v+1}return s.DEBUG&&0<=C&&M<_.length&&p.$raise($(kt,"ArgumentError"),"too many arguments for format string"),y+e.slice(m)},N.$$arity=-2),t.def(Et,"$hash",z=function(){return this.$__id__()},z.$$arity=0),t.def(Et,"$initialize_copy",B=function(t){
return n},B.$$arity=1),t.def(Et,"$inspect",D=function(){return this.$to_s()},D.$$arity=0),t.def(Et,"$instance_of?",F=function(t){return t.$$is_class||t.$$is_module||this.$raise($(kt,"TypeError"),"class or module required"),this.$$class===t},F.$$arity=1),t.def(Et,"$instance_variable_defined?",L=function(e){return e=$(kt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},L.$$arity=1),t.def(Et,"$instance_variable_get",P=function(e){return e=$(kt,"Opal")["$instance_variable_name!"](e),e=this[t.ivar(e.substr(1))],null==e?n:e},P.$$arity=1),t.def(Et,"$instance_variable_set",q=function(e,r){return e=$(kt,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=r},q.$$arity=2),t.def(Et,"$remove_instance_variable",j=function(e){e=$(kt,"Opal")["$instance_variable_name!"](e);var r=t.ivar(e.substr(1));return this.hasOwnProperty(r)?(e=this[r],delete this[r],e):this.$raise($(kt,"NameError"),"instance variable "+e+" not defined")},j.$$arity=1),t.def(Et,"$instance_variables",U=function(){var t,e,r=[];for(e in this)this.hasOwnProperty(e)&&"$"!==e.charAt(0)&&(t="$"===e.substr(-1)?e.slice(0,e.length-1):e,r.push("@"+t));return r},U.$$arity=0),t.def(Et,"$Integer",H=function(t,e){var r,i,a=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(e=$(kt,"Opal").$coerce_to(e,$(kt,"Integer"),"to_int"),(1===e||0>e||36<e)&&a.$raise($(kt,"ArgumentError"),"invalid radix "+e)),r=t.toLowerCase(),r=r.replace(/(\d)_(?=\d)/g,"$1"),r=r.replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,i){switch(i){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}a.$raise($(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),e=0===e?10:e,i="0-"+(10>=e?e-1:"9a-"+String.fromCharCode(97+(e-11))),new RegExp("^\\s*[+-]?["+i+"]+\\s*$").test(r)||a.$raise($(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r=parseInt(r,e),isNaN(r)&&a.$raise($(kt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),r):(void 0!==e&&a.$raise($(kt,"ArgumentError"),"base specified for non string value"),t===n&&a.$raise($(kt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((1/0===t||-(1/0)===t||isNaN(t))&&a.$raise($(kt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(r=t.$to_int(),r!==n)?r:$(kt,"Opal")["$coerce_to!"](t,$(kt,"Integer"),"to_i"))},H.$$arity=-2),t.def(Et,"$Float",G=function(t){var e;return t===n&&this.$raise($(kt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=t.toString(),e=e.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise($(kt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):$(kt,"Opal")["$coerce_to!"](t,$(kt,"Float"),"to_f")},G.$$arity=1),t.def(Et,"$Hash",Y=function(t){var e;return o(o(e=t["$nil?"]())?e:t["$=="]([]))?u([],{}):o($(kt,"Hash")["$==="](t))?t:$(kt,"Opal")["$coerce_to!"](t,$(kt,"Hash"),"to_hash")},Y.$$arity=1),t.def(Et,"$is_a?",W=function(e){return e.$$is_class||e.$$is_module||this.$raise($(kt,"TypeError"),"class or module required"),t.is_a(this,e)},W.$$arity=1),t.def(Et,"$itself",X=function(){return this},X.$$arity=0),t.alias(Et,"kind_of?","is_a?"),t.def(Et,"$lambda",K=function(){var e=K.$$p,r=e||n;return e&&(K.$$p=null),t.lambda(r)},K.$$arity=0),t.def(Et,"$load",V=function(e){return e=$(kt,"Opal")["$coerce_to!"](e,$(kt,"String"),"to_str"),t.load(e)},V.$$arity=1),t.def(Et,"$loop",J=function(){var e,r=J.$$p,a=r||n,s=n;if(r&&(J.$$p=null),a===n)return l(this,"enum_for",["loop"],(e=function(){return i($(kt,"Float"),"INFINITY")},e.$$s=this,e.$$arity=0,e));for(;o(!0);)try{t.yieldX(a,[])}catch(e){if(!t.rescue(e,[$(kt,"StopIteration")]))throw e;s=e;try{return s.$result()}finally{t.pop_exception()}}return this},J.$$arity=0),t.def(Et,"$nil?",Z=function(){return!1},Z.$$arity=0),t.alias(Et,"object_id","__id__"),t.def(Et,"$printf",Q=function(e){var r,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return o(r["$any?"]())&&this.$print(l(this,"format",t.to_a(r))),n},Q.$$arity=-1),t.def(Et,"$proc",tt=function(){var t=tt.$$p,e=t||n;return t&&(tt.$$p=null),o(e)||this.$raise($(kt,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},tt.$$arity=0),t.def(Et,"$puts",et=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"puts",t.to_a(r))},et.$$arity=-1),t.def(Et,"$p",rt=function(t){var r,i,$=arguments.length;i=$-0,0>i&&(i=0),i=Array(i);for(var a=0;a<$;a++)i[a-0]=arguments[a];return l(i,"each",[],(r=function(t){return null==s.stdout&&(s.stdout=n),null==t&&(t=n),s.stdout.$puts(t.$inspect())},r.$$s=this,r.$$arity=1,r)),o(e(i.$length(),1))?i["$[]"](0):i},rt.$$arity=-1),t.def(Et,"$print",nt=function(e){var r;null==s.stdout&&(s.stdout=n);var i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return l(s.stdout,"print",t.to_a(r))},nt.$$arity=-1),t.def(Et,"$warn",it=function(e){var r,i;null==s.VERBOSE&&(s.VERBOSE=n),null==s.stderr&&(s.stderr=n);var $=arguments.length;i=$-0,0>i&&(i=0),i=Array(i);for(var a=0;a<$;a++)i[a-0]=arguments[a];return o(o(r=s.VERBOSE["$nil?"]())?r:i["$empty?"]())?n:l(s.stderr,"puts",t.to_a(i))},it.$$arity=-1),t.def(Et,"$raise",$t=function(e,r,i){if(null==s["!"]&&(s["!"]=n),null==r&&(r=n),null==e&&s["!"]!==n)throw s["!"];throw null==e?e=$(kt,"RuntimeError").$new():e.$$is_string?e=$(kt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(r):e["$is_a?"]($(kt,"Exception"))||(e=$(kt,"TypeError").$new("exception class/object expected")),s["!"]!==n&&t.exceptions.push(s["!"]),s["!"]=e,e},$t.$$arity=-1),t.alias(Et,"fail","raise"),t.def(Et,"$rand",at=function(t){return void 0===t?i($(kt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(0>t&&(t=Math.abs(t)),0!==t%1&&(t=t.$to_i()),0===t&&(t=void 0)),i($(kt,"Random"),"DEFAULT").$rand(t))},at.$$arity=-1),t.def(Et,"$respond_to?",ot=function(t,e){if(null==e&&(e=!1),o(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},ot.$$arity=-2),t.def(Et,"$respond_to_missing?",st=function(t,e){return!1},st.$$arity=-2),t.def(Et,"$require",ut=function(e){return e=$(kt,"Opal")["$coerce_to!"](e,$(kt,"String"),"to_str"),t.require(e)},ut.$$arity=1),t.def(Et,"$require_relative",lt=function(e){return $(kt,"Opal")["$try_convert!"](e,$(kt,"String"),"to_str"),e=$(kt,"File").$expand_path($(kt,"File").$join(t.current_file,"..",e)),t.require(e)},lt.$$arity=1),t.def(Et,"$require_tree",ct=function(e){var r=[];e=$(kt,"File").$expand_path(e),e=t.normalize(e),"."===e&&(e="");for(var n in t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ct.$$arity=1),t.alias(Et,"send","__send__"),t.alias(Et,"public_send","__send__"),t.def(Et,"$singleton_class",ht=function(){return t.get_singleton_class(this)},ht.$$arity=0),t.def(Et,"$sleep",ft=function(e){null==e&&(e=n),e===n&&this.$raise($(kt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise($(kt,"TypeError"),"can't convert "+e.$class()+" into time interval"),0>e&&this.$raise($(kt,"ArgumentError"),"time interval must be positive");for(var r=t.global.performance?function(){return performance.now()}:function(){return new Date},i=r();r()-i<=1e3*e;);return e},ft.$$arity=-1),t.alias(Et,"sprintf","format"),t.def(Et,"$srand",dt=function(t){return null==t&&(t=$(kt,"Random").$new_seed()),$(kt,"Random").$srand(t)},dt.$$arity=-1),t.def(Et,"$String",_t=function(t){var e;return o(e=$(kt,"Opal")["$coerce_to?"](t,$(kt,"String"),"to_str"))?e:$(kt,"Opal")["$coerce_to!"](t,$(kt,"String"),"to_s")},_t.$$arity=1),t.def(Et,"$tap",pt=function(){var e=pt.$$p,r=e||n;return e&&(pt.$$p=null),t.yield1(r,this),this},pt.$$arity=0),t.def(Et,"$to_proc",yt=function(){return this},yt.$$arity=0),t.def(Et,"$to_s",mt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},mt.$$arity=0),t.def(Et,"$catch",gt=function(e){var r=gt.$$p,i=r||n,a=n;r&&(gt.$$p=null);try{return t.yieldX(i,[])}catch(r){if(!t.rescue(r,[$(kt,"UncaughtThrowError")]))throw r;a=r;try{return a.$sym()["$=="](e)?a.$arg():this.$raise()}finally{t.pop_exception()}}},gt.$$arity=1),t.def(Et,"$throw",vt=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$raise($(kt,"UncaughtThrowError"),e)},vt.$$arity=-1),t.def(Et,"$open",bt=function(e){var r,i=bt.$$p,a=i||n,o=arguments.length;r=o-0,0>r&&(r=0),r=Array(r);for(var s=0;s<o;s++)r[s-0]=arguments[s];return i&&(bt.$$p=null),l($(kt,"File"),"open",t.to_a(r),a.$to_proc())},bt.$$arity=-1),t.def(Et,"$yield_self",wt=function(){var e,r=wt.$$p,i=r||n;return r&&(wt.$$p=null),i===n?l(this,"enum_for",["yield_self"],(e=function(){return 1},e.$$s=this,e.$$arity=0,e)):t.yield1(i,this)},wt.$$arity=0)}(r[0],r),function(t,e,r){function n(){}return t=n=c(t,e,"Object",n),r=[t].concat(r),t.$include($(r,"Kernel"))}(r[0],null,r)},Opal.modules["corelib/error"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.send,a=t.truthy,o=t.module,s=t.hash2;return t.add_stubs("$new $clone $to_s $empty? $class $+ $attr_reader $[] $> $length $inspect $raise".split(" ")),function(e,n,o){function s(){}e=s=i(e,n,"Exception",s);var u=e.$$proto;[e].concat(o);var l,c,h,f,d,_,p,y;u.message=r;var m;return t.defs(e,"$new",l=function(e){var n,i=arguments.length;n=i-0,0>n&&(n=0),n=Array(n);for(var $=0;$<i;$++)n[$-0]=arguments[$];return i=0<n.length?n[0]:r,$=new this.$$alloc(i),$.name=this.$$name,$.message=i,t.send($,$.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,m),$},l.$$arity=-1),m=e.$new,t.defs(e,"$exception",c=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return $(this,"new",t.to_a(r))},c.$$arity=-1),t.def(e,"$initialize",h=function(t){var e,n=arguments.length;e=n-0,0>e&&(e=0),e=Array(e);for(var i=0;i<n;i++)e[i-0]=arguments[i];return this.message=0<e.length?e[0]:r},h.$$arity=-1),t.def(e,"$backtrace",f=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},f.$$arity=0),t.def(e,"$exception",d=function(t){if(null==t&&(t=r),t===r||this===t)return this;var e=this.$clone();return e.message=t,e},d.$$arity=-1),t.def(e,"$message",_=function(){return this.$to_s()},_.$$arity=0),t.def(e,"$inspect",p=function(){var t=r,t=this.$to_s();return a(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.def(e,"$to_s",y=function(){var t,e;return a(t=a(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},y.$$arity=0),r&&"to_s"}(e[0],Error,e),function(t,e,n){function $(){}return[$=i(t,e,"ScriptError",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"SyntaxError",$)].concat(n),r}(e[0],n(e,"ScriptError"),e),function(t,e,n){function $(){}return[$=i(t,e,"LoadError",$)].concat(n),r}(e[0],n(e,"ScriptError"),e),function(t,e,n){function $(){}return[$=i(t,e,"NotImplementedError",$)].concat(n),r}(e[0],n(e,"ScriptError"),e),function(t,e,n){function $(){}return[$=i(t,e,"SystemExit",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"NoMemoryError",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"SignalException",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"Interrupt",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"SecurityError",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"StandardError",$)].concat(n),r}(e[0],n(e,"Exception"),e),function(t,e,n){function $(){}return[$=i(t,e,"EncodingError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"ZeroDivisionError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"NameError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"NoMethodError",$)].concat(n),r}(e[0],n(e,"NameError"),e),function(t,e,n){function $(){}return[$=i(t,e,"RuntimeError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"FrozenError",$)].concat(n),r}(e[0],n(e,"RuntimeError"),e),function(t,e,n){function $(){}return[$=i(t,e,"LocalJumpError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"TypeError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"ArgumentError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"IndexError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"StopIteration",$)].concat(n),r}(e[0],n(e,"IndexError"),e),function(t,e,n){function $(){}return[$=i(t,e,"KeyError",$)].concat(n),r}(e[0],n(e,"IndexError"),e),function(t,e,n){function $(){}return[$=i(t,e,"RangeError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"FloatDomainError",$)].concat(n),r}(e[0],n(e,"RangeError"),e),function(t,e,n){function $(){}return[$=i(t,e,"IOError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(t,e,n){function $(){}return[$=i(t,e,"SystemCallError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(e,s){var u=[o(e,"Errno")].concat(s);!function(e,n,o){function s(){}e=s=i(e,n,"EINVAL",s),[e].concat(o);var u;return t.defs(e,"$new",u=function(e){var n=u.$$p,i=r;return null==e&&(e=r),n&&(u.$$p=null),i="Invalid argument",a(e)&&(e=" - "+e,i="number"==typeof i&&"number"==typeof e?i+e:i["$+"](e)),$(this,t.find_super_dispatcher(this,"new",u,!1,s),[i],null)},u.$$arity=-1),r&&"new"}(u[0],n(u,"SystemCallError"),u)}(e[0],e),function(e,n,o){function s(){}e=s=i(e,n,"UncaughtThrowError",s);var u=e.$$proto;[e].concat(o);var l;return u.sym=r,e.$attr_reader("sym","arg"),t.def(e,"$initialize",l=function(e){l.$$p&&(l.$$p=null),this.sym=e["$[]"](0);var r;return r=e.$length(),r="number"==typeof r?1<r:r["$>"](1),a(r)&&(this.arg=e["$[]"](1)),$(this,t.find_super_dispatcher(this,"initialize",l,!1),["uncaught throw "+this.sym.$inspect()],null)},l.$$arity=1),r&&"initialize"}(e[0],n(e,"ArgumentError"),e),function(e,n,a){function o(){}e=o=i(e,n,"NameError",o),[e].concat(a);var s;return e.$attr_reader("name"),t.def(e,"$initialize",s=function(e,n){var i=s.$$p;return null==n&&(n=r),i&&(s.$$p=null),$(this,t.find_super_dispatcher(this,"initialize",s,!1),[e],null),this.name=n},s.$$arity=-2),r&&"initialize"}(e[0],null,e),function(e,n,a){function o(){}e=o=i(e,n,"NoMethodError",o),[e].concat(a);var s;return e.$attr_reader("args"),t.def(e,"$initialize",s=function(e,n,i){var a=s.$$p;return null==n&&(n=r),null==i&&(i=[]),a&&(s.$$p=null),$(this,t.find_super_dispatcher(this,"initialize",s,!1),[e,n],null),this.args=i},s.$$arity=-2),r&&"initialize"}(e[0],null,e),function(t,e,r){function n(){}return t=n=i(t,e,"StopIteration",n),[t].concat(r),t.$attr_reader("result")}(e[0],null,e),function(e,o,u){function l(){}e=l=i(e,o,"KeyError",l);var c,h,f,d=e.$$proto,_=[e].concat(u);return d.receiver=d.key=r,t.def(e,"$initialize",c=function(e,n){var i,a,o=c.$$p;if(null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=s([],{})}return i=n.$$smap.receiver,null==i&&(i=r),a=n.$$smap.key,null==a&&(a=r),o&&(c.$$p=null),$(this,t.find_super_dispatcher(this,"initialize",c,!1),[e],null),this.receiver=i,this.key=a},c.$$arity=-2),t.def(e,"$receiver",h=function(){var t;return a(t=this.receiver)?t:this.$raise(n(_,"ArgumentError"),"no receiver is available")},h.$$arity=0),t.def(e,"$key",f=function(){var t;return a(t=this.key)?t:this.$raise(n(_,"ArgumentError"),"no key is available")},f.$$arity=0),r&&"key"}(e[0],null,e),function(t,e){var n=[o(t,"JS")].concat(e);!function(t,e,n){function $(){}return[$=i(t,e,"Error",$)].concat(n),r}(n[0],null,n)}(e[0],e)},Opal.modules["corelib/constants"]=function(t){var e=[],r=t.const_get_relative;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.0"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.1.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-03-06"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.hash2,a=t.truthy;return t.add_stubs("$raise $name $new $> $length $Rational".split(" ")),function(e,o,s){function u(){}e=u=i(e,o,"NilClass",u);var l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S=e.$$proto,R=[e].concat(s);return S.$$meta=e,function(e,i){var $,a=[e].concat(i);return t.def(e,"$allocate",$=function(){return this.$raise(n(a,"TypeError"),"allocator undefined for "+this.$name())},$.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(e),R),t.def(e,"$!",l=function(){return!0},l.$$arity=0),t.def(e,"$&",c=function(t){return!1},c.$$arity=1),t.def(e,"$|",h=function(t){return!1!==t&&t!==r},h.$$arity=1),t.def(e,"$^",f=function(t){return!1!==t&&t!==r},f.$$arity=1),t.def(e,"$==",d=function(t){return t===r},d.$$arity=1),t.def(e,"$dup",_=function(){return r},_.$$arity=0),t.def(e,"$clone",p=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");$([],{})}return r},p.$$arity=-1),t.def(e,"$inspect",y=function(){return"nil"},y.$$arity=0),t.def(e,"$nil?",m=function(){return!0},m.$$arity=0),t.def(e,"$singleton_class",g=function(){return n(R,"NilClass")},g.$$arity=0),t.def(e,"$to_a",v=function(){return[]},v.$$arity=0),t.def(e,"$to_h",b=function(){return t.hash()},b.$$arity=0),t.def(e,"$to_i",w=function(){return 0},w.$$arity=0),t.alias(e,"to_f","to_i"),t.def(e,"$to_s",E=function(){return""},E.$$arity=0),t.def(e,"$to_c",k=function(){return n(R,"Complex").$new(0,0)},k.$$arity=0),t.def(e,"$rationalize",x=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var i=0;i<r;i++)e[i-0]=arguments[i];return r=e.$length(),r="number"==typeof r?1<r:r["$>"](1),a(r)&&this.$raise(n(R,"ArgumentError")),this.$Rational(0,1)},x.$$arity=-1),t.def(e,"$to_r",A=function(){return this.$Rational(0,1)},A.$$arity=0),t.def(e,"$instance_variables",O=function(){return[]},O.$$arity=0),r&&"instance_variables"}(e[0],null,e),t.const_set(e[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,a,o){function s(){}e=s=i(e,a,"Boolean",s);var u,l,c,h,f,d,_,p,y,m,g=e.$$proto,v=[e].concat(o);return g.$$is_boolean=!0,g.$$meta=e,function(e,i){var $,a=[e].concat(i);return t.def(e,"$allocate",$=function(){return this.$raise(n(a,"TypeError"),"allocator undefined for "+this.$name())},$.$$arity=0),t.udef(e,"$new"),r}(t.get_singleton_class(e),v),t.def(e,"$__id__",u=function(){return this.valueOf()?2:0},u.$$arity=0),t.alias(e,"object_id","__id__"),t.def(e,"$!",l=function(){return 1!=this},l.$$arity=0),t.def(e,"$&",c=function(t){return 1==this&&(!1!==t&&t!==r)},c.$$arity=1),t.def(e,"$|",h=function(t){return 1==this||!1!==t&&t!==r},h.$$arity=1),t.def(e,"$^",f=function(t){return 1==this?!1===t||t===r:!1!==t&&t!==r},f.$$arity=1),t.def(e,"$==",d=function(t){return 1==this===t.valueOf()},d.$$arity=1),t.alias(e,"equal?","=="),t.alias(e,"eql?","=="),t.def(e,"$singleton_class",_=function(){return n(v,"Boolean")},_.$$arity=0),t.def(e,"$to_s",p=function(){return 1==this?"true":"false"},p.$$arity=0),t.def(e,"$dup",y=function(){return this},y.$$arity=0),t.def(e,"$clone",m=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");$([],{})}return this},m.$$arity=-1),r&&"clone"}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=[],i=t.nil,$=t.const_get_relative,a=t.module,o=t.truthy;return t.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" ")),function(n,s){var u,l,c,h,f,d,_,p,y=a(n,"Comparable"),m=[y].concat(s);t.defs(y,"$normalize",u=function(t){return o($(m,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},u.$$arity=1),t.def(y,"$==",l=function(e){var r=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(r=this["$<=>"](e))&&0==$(m,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[$(m,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},l.$$arity=1),t.def(y,"$>",c=function(t){var e=i;return o(e=this["$<=>"](t))||this.$raise($(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<$(m,"Comparable").$normalize(e)},c.$$arity=1),t.def(y,"$>=",h=function(t){var e=i;return o(e=this["$<=>"](t))||this.$raise($(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<=$(m,"Comparable").$normalize(e)},h.$$arity=1),t.def(y,"$<",f=function(t){var e=i;return o(e=this["$<=>"](t))||this.$raise($(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0>$(m,"Comparable").$normalize(e)},f.$$arity=1),t.def(y,"$<=",d=function(t){var e=i;return o(e=this["$<=>"](t))||this.$raise($(m,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0>=$(m,"Comparable").$normalize(e)},d.$$arity=1),t.def(y,"$between?",_=function(t,n){return!r(this,t)&&!e(this,n)},_.$$arity=2),t.def(y,"$clamp",p=function(t,n){var a=i,a=t["$<=>"](n);return o(a)||this.$raise($(m,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(m,"Comparable").$normalize(a),0))&&this.$raise($(m,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(m,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e($(m,"Comparable").$normalize(this["$<=>"](n)),0))?n:this},p.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.send,a=t.truthy,o=t.gvars;return t.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" ")),function(t,e,n){function $(){}return[$=i(t,e,"RegexpError",$)].concat(n),r}(e[0],n(e,"StandardError"),e),function(e,s,u){function l(){}e=l=i(e,s,"Regexp",l);var c,h,f,d,_,p,y,m,g,v,b=e.$$proto,w=[e].concat(u);return t.const_set(w[0],"IGNORECASE",1),t.const_set(w[0],"EXTENDED",2),t.const_set(w[0],"MULTILINE",4),b.$$is_regexp=!0,function(e,i){var s,u,l,c,h,f=[e].concat(i);return t.def(e,"$allocate",s=function(){var e=s.$$p,n=r,i=n=r,a=r;for(e&&(s.$$p=null),i=0,a=arguments.length,n=Array(a);i<a;i++)n[i]=arguments[i];return n=$(this,t.find_super_dispatcher(this,"allocate",s,!1),n,e),n.uninitialized=!0,n},s.$$arity=0),t.def(e,"$escape",u=function(e){return t.escape_regexp(e)},u.$$arity=1),t.def(e,"$last_match",l=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),a(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},l.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",c=function t(e){var r,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];var a,o;if(0==r.length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];i=r[0].$$is_array,1<r.length&&i&&this.$raise(n(f,"TypeError"),"no implicit conversion of Array into String"),i&&(r=r[0]),a=void 0;for(var i=[],t=0;t<r.length;t++)$=r[t],$.$$is_string?i.push(this.$escape($)):$.$$is_regexp?(o=$.$options(),void 0!=a&&a!=o&&this.$raise(n(f,"TypeError"),"All expressions must use the same options"),a=o,i.push("("+$.source+")")):i.push(this.$escape($.$to_str()));return this.$new(i.$join("|"),a)},c.$$arity=-1),t.def(e,"$new",h=function(t,e){if(t.$$is_regexp)return new RegExp(t);if(t=n(f,"Opal")["$coerce_to!"](t,n(f,"String"),"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(n(f,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";n(f,"IGNORECASE")&e&&(r+="i"),n(f,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},h.$$arity=-2),r&&"new"}(t.get_singleton_class(e),w),t.def(e,"$==",c=function(t){return t.constructor==RegExp&&this.toString()===t.toString()},c.$$arity=1),t.def(e,"$===",h=function(t){return this.$match(n(w,"Opal")["$coerce_to?"](t,n(w,"String"),"to_str"))!==r},h.$$arity=1),t.def(e,"$=~",f=function(t){var e;return null==o["~"]&&(o["~"]=r),a(e=this.$match(t))?o["~"].$begin(0):e},f.$$arity=1),t.alias(e,"eql?","=="),t.def(e,"$inspect",d=function t(){var e=this.toString(),r=/^\/(.*)\/([^\/]*)$/.exec(e);if(r){for(var e=r[2],r=r[1].split(""),t=r.length,n=!1,i="",$=0;$<t;$++){var a=r[$];n||"/"!=a||(i=i.concat("\\")),i=i.concat(a),n="\\"==a&&!n}return"/"+i+"/"+e}return e},d.$$arity=0),t.def(e,"$match",_=function(e,i){var $=_.$$p,a=$||r;if(null==o["~"]&&(o["~"]=r),$&&(_.$$p=null),this.uninitialized&&this.$raise(n(w,"TypeError"),"uninitialized Regexp"),void 0===i)return e===r?o["~"]=r:($=this.exec(n(w,"Opal").$coerce_to(e,n(w,"String"),"to_str")))?(o["~"]=n(w,"MatchData").$new(this,$),a===r?o["~"]:t.yield1(a,o["~"])):o["~"]=r;if(i=n(w,"Opal").$coerce_to(i,n(w,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(w,"Opal").$coerce_to(e,n(w,"String"),"to_str"),0>i&&(i+=e.length,0>i))return o["~"]=r;for(var s=new RegExp(this.source,(this.multiline?"gm":"g")+(this.ignoreCase?"i":""));;){if($=s.exec(e),null===$)return o["~"]=r;if($.index>=i)return o["~"]=n(w,"MatchData").$new(s,$),a===r?o["~"]:t.yield1(a,o["~"]);s.lastIndex=$.index+1}},_.$$arity=-2),t.def(e,"$match?",p=function(t,e){if(this.uninitialized&&this.$raise(n(w,"TypeError"),"uninitialized Regexp"),void 0===e)return t!==r&&this.test(n(w,"Opal").$coerce_to(t,n(w,"String"),"to_str"));if(e=n(w,"Opal").$coerce_to(e,n(w,"Integer"),"to_int"),t===r)return!1;if(t=n(w,"Opal").$coerce_to(t,n(w,"String"),"to_str"),0>e&&(e+=t.length,0>e))return!1;var i;return i=new RegExp(this.source,(this.multiline?"gm":"g")+(this.ignoreCase?"i":"")).exec(t),!(null===i||i.index<e)},p.$$arity=-2),t.def(e,"$~",y=function(){return null==o._&&(o._=r),this["$=~"](o._)},y.$$arity=0),t.def(e,"$source",m=function(){return this.source},m.$$arity=0),t.def(e,"$options",g=function(){this.uninitialized&&this.$raise(n(w,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=n(w,"MULTILINE")),this.ignoreCase&&(t|=n(w,"IGNORECASE")),t},g.$$arity=0),t.def(e,"$casefold?",v=function(){return this.ignoreCase},v.$$arity=0),t.alias(e,"to_s","source")}(e[0],RegExp,e),function(e,s,u){function l(){}e=l=i(e,s,"MatchData",l);var c,h,f,d,_,p,y,m,g,v,b,w,E=e.$$proto,k=[e].concat(u);return E.matches=r,e.$attr_reader("post_match","pre_match","regexp","string"),t.def(e,"$initialize",c=function(t,e){o["~"]=this,this.regexp=t,this.begin=e.index,this.string=e.input,this.pre_match=e.input.slice(0,e.index),this.post_match=e.input.slice(e.index+e[0].length),this.matches=[];for(var n=0,i=e.length;n<i;n++){var $=e[n];null==$?this.matches.push(r):this.matches.push($)}},c.$$arity=2),t.def(e,"$[]",h=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return $(this.matches,"[]",t.to_a(r))},h.$$arity=-1),t.def(e,"$offset",f=function(t){return 0!==t&&this.$raise(n(k,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},f.$$arity=1),t.def(e,"$==",d=function t(e){var r,t,i,$;return!!a(n(k,"MatchData")["$==="](e))&&(a(r=a(t=a(i=a($=this.string==e.string)?this.regexp.toString()==e.regexp.toString():$)?this.pre_match==e.pre_match:i)?this.post_match==e.post_match:t)?this.begin==e.begin:r)},d.$$arity=1),t.alias(e,"eql?","=="),t.def(e,"$begin",_=function(t){return 0!==t&&this.$raise(n(k,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},_.$$arity=1),t.def(e,"$end",p=function(t){return 0!==t&&this.$raise(n(k,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},p.$$arity=1),t.def(e,"$captures",y=function(){return this.matches.slice(1)},y.$$arity=0),t.def(e,"$inspect",m=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},m.$$arity=0),t.def(e,"$length",g=function(){return this.matches.length},g.$$arity=0),t.alias(e,"size","length"),t.def(e,"$to_a",v=function(){return this.matches},v.$$arity=0),t.def(e,"$to_s",b=function(){return this.matches[0]},b.$$arity=0),t.def(e,"$values_at",w=function(t){var e,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];for(var a,$=[],i=0;i<e.length;i++)e[i].$$is_range&&(a=e[i].$to_a(),a.unshift(i,1),Array.prototype.splice.apply(e,a)),a=n(k,"Opal")["$coerce_to!"](e[i],n(k,"Integer"),"to_int"),0>a&&(a+=this.matches.length,0>a)?$.push(r):$.push(this.matches[a]);return $},w.$$arity=-1),r&&"values_at"}(e[0],null,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,a=t.const_get_relative,o=t.klass,s=t.truthy,u=t.send,l=t.gvars;return t.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" ")),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,c){function h(){}function f(t){function e(t){var e,r,n,i="",$=t.length;for(e=0;e<$;e++)if(r=t.charAt(e),"-"===r&&0<e&&e<$-1&&!n){for(n=t.charCodeAt(e-1),r=t.charCodeAt(e+1),n>r&&d.$raise(a(Nt,"ArgumentError"),'invalid range "'+n+"-"+r+'" in string transliteration'),n+=1;n<r+1;n++)i+=String.fromCharCode(n);n=!0,e++}else n="\\"===r,i+=r;return i}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,$,o,s="",u="";for(n=0,i=t.length;n<i;n++)$=a(Nt,"Opal").$coerce_to(t[n],a(Nt,"String"),"to_str"),o="^"===$.charAt(0)&&1<$.length,$=e(o?$.slice(1):$),o?u=r(u,$):s=r(s,$);if(0<s.length&&0<u.length){for($="",n=0,i=s.length;n<i;n++)t=s.charAt(n),-1===u.indexOf(t)&&($+=t);s=$,u=""}return 0<s.length?"["+a(Nt,"Regexp").$escape(s)+"]":0<u.length?"[^"+a(Nt,"Regexp").$escape(u)+"]":null}var d=h=o(n,i,"String",h);n=d.$$proto;var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct,Nt=[d].concat(c);return n.length=$,d.$include(a(Nt,"Comparable")),n.$$is_string=!0,t.def(d,"$__id__",_=function(){return this.toString()},_.$$arity=0),t.alias(d,"object_id","__id__"),t.defs(d,"$try_convert",p=function(t){return a(Nt,"Opal")["$coerce_to?"](t,a(Nt,"String"),"to_str")},p.$$arity=1),t.defs(d,"$new",y=function(t){return null==t&&(t=""),t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),new String(t)},y.$$arity=-1),t.def(d,"$initialize",m=function(t){
return void 0===t?this:this.$raise(a(Nt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},m.$$arity=-1),t.def(d,"$%",g=function(e){return s(a(Nt,"Array")["$==="](e))?u(this,"format",[this].concat(t.to_a(e))):this.$format(this,e)},g.$$arity=1),t.def(d,"$*",v=function(t){if(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int"),0>t&&this.$raise(a(Nt,"ArgumentError"),"negative argument"),0===t)return"";var e="",r=this.toString();for(268435456<=r.length*t&&this.$raise(a(Nt,"RangeError"),"multiply count must not overflow maximum string size");1===(1&t)&&(e+=r),t>>>=1,0!==t;)r+=r;return e},v.$$arity=1),t.def(d,"$+",b=function(t){return t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),this+t.$to_s()},b.$$arity=1),t.def(d,"$<=>",w=function(t){return s(t["$respond_to?"]("to_str"))?(t=t.$to_str().$to_s(),this>t?1:this<t?-1:0):(t=t["$<=>"](this),t===$?$:0<t?-1:0>t?1:0)},w.$$arity=1),t.def(d,"$==",E=function(t){return t.$$is_string?this.toString()===t.toString():!!a(Nt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},E.$$arity=1),t.alias(d,"eql?","=="),t.alias(d,"===","=="),t.def(d,"$=~",k=function(t){return t.$$is_string&&this.$raise(a(Nt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},k.$$arity=1),t.def(d,"$[]",x=function(t,e){var r,n=this.length;return t.$$is_range?(r=t.excl,e=a(Nt,"Opal").$coerce_to(t.end,a(Nt,"Integer"),"to_int"),t=a(Nt,"Opal").$coerce_to(t.begin,a(Nt,"Integer"),"to_int"),Math.abs(t)>n?$:(0>t&&(t+=n),0>e&&(e+=n),r||(e+=1),e-=t,0>e&&(e=0),this.substr(t,e))):t.$$is_string?(null!=e&&this.$raise(a(Nt,"TypeError")),-1!==this.indexOf(t)?t:$):t.$$is_regexp?(n=this.match(t),null===n?l["~"]=$:(l["~"]=a(Nt,"MatchData").$new(t,n),null==e?n[0]:(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"Integer"),"to_int"),0>e&&-e<n.length?n[e+n.length]:0<=e&&e<n.length?n[e]:$))):(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int"),0>t&&(t+=n),null==e?t>=n||0>t?$:this.substr(t,1):(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"Integer"),"to_int"),0>e||t>n||0>t?$:this.substr(t,e)))},x.$$arity=-2),t.alias(d,"byteslice","[]"),t.def(d,"$b",A=function(){return this.$force_encoding("binary")},A.$$arity=0),t.def(d,"$capitalize",O=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},O.$$arity=0),t.def(d,"$casecmp",S=function(t){var e=this;if(!s(t["$respond_to?"]("to_str")))return $;t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},S.$$arity=1),t.def(d,"$casecmp?",R=function(t){return t=this.$casecmp(t),t===$?$:0===t},R.$$arity=1),t.def(d,"$center",I=function(t,n){if(null==n&&(n=" "),t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int"),n=a(Nt,"Opal").$coerce_to(n,a(Nt,"String"),"to_str").$to_s(),s(n["$empty?"]())&&this.$raise(a(Nt,"ArgumentError"),"zero width padding"),s(t<=this.length))return this;var i=this.$ljust(e(r(t,this.length),2).$ceil(),n);return this.$rjust(e(r(t,this.length),2).$floor(),n)+i.slice(this.length)},I.$$arity=-2),t.def(d,"$chars",T=function(){var t=T.$$p,e=t||$;return t&&(T.$$p=null),s(e)?u(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},T.$$arity=0),t.def(d,"$chomp",M=function(t){return null==l["/"]&&(l["/"]=$),null==t&&(t=l["/"]),s(t===$||0===this.length)?this:(t=a(Nt,"Opal")["$coerce_to!"](t,a(Nt,"String"),"to_str").$to_s(),"\n"===t?this.replace(/\r?\n?$/,""):""===t?this.replace(/(\r?\n)+$/,""):this.length>t.length&&this.substr(this.length-t.length,t.length)===t?this.substr(0,this.length-t.length):this)},M.$$arity=-1),t.def(d,"$chop",C=function(){var t=this.length;return 1>=t?"":"\n"===this.charAt(t-1)&&"\r"===this.charAt(t-2)?this.substr(0,t-2):this.substr(0,t-1)},C.$$arity=0),t.def(d,"$chr",N=function(){return this.charAt(0)},N.$$arity=0),t.def(d,"$clone",z=function(){var t=$,t=this.slice();return t.$copy_singleton_methods(this),t.$initialize_clone(this),t},z.$$arity=0),t.def(d,"$dup",B=function(){var t=$,t=this.slice();return t.$initialize_dup(this),t},B.$$arity=0),t.def(d,"$count",D=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length&&this.$raise(a(Nt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)"),r=f(e),null===r?0:this.length-this.replace(new RegExp(r,"g"),"").length},D.$$arity=-1),t.def(d,"$delete",F=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length&&this.$raise(a(Nt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)"),r=f(e),null===r?this:this.replace(new RegExp(r,"g"),"")},F.$$arity=-1),t.def(d,"$delete_prefix",L=function(t){return t.$$is_string||(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str")),this.slice(0,t.length)===t?this.slice(t.length):this},L.$$arity=1),t.def(d,"$delete_suffix",P=function(t){return t.$$is_string||(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str")),this.slice(this.length-t.length)===t?this.slice(0,this.length-t.length):this},P.$$arity=1),t.def(d,"$downcase",q=function(){return this.toLowerCase()},q.$$arity=0),t.def(d,"$each_char",j=function(){var e,r=j.$$p,n=r||$;if(r&&(j.$$p=null),n===$)return u(this,"enum_for",["each_char"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var r=0,i=this.length;r<i;r++)t.yield1(n,this.charAt(r));return this},j.$$arity=0),t.def(d,"$each_line",U=function(e){var r=U.$$p,n=r||$;if(null==l["/"]&&(l["/"]=$),null==e&&(e=l["/"]),r&&(U.$$p=null),n===$)return this.$enum_for("each_line",e);if(e===$)return t.yield1(n,this),this;e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str");var i,o,s;if(0===e.length){for(e=this.split(/(\n{2,})/),r=0,i=e.length;r<i;r+=2)(e[r]||e[r+1])&&t.yield1(n,(e[r]||"")+(e[r+1]||""));return this}for(r=this.$chomp(e),i=this.length!=r.length,s=r.split(e),r=0,o=s.length;r<o;r++)r<o-1||i?t.yield1(n,s[r]+e):t.yield1(n,s[r]);return this},U.$$arity=-1),t.def(d,"$empty?",H=function(){return 0===this.length},H.$$arity=0),t.def(d,"$end_with?",G=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=0,n=e.length;r<n;r++){var i=a(Nt,"Opal").$coerce_to(e[r],a(Nt,"String"),"to_str").$to_s();if(this.length>=i.length&&this.substr(this.length-i.length,i.length)==i)return!0}return!1},G.$$arity=-1),t.alias(d,"equal?","==="),t.def(d,"$gsub",Y=function(t,e){var r=this,n=Y.$$p,i=n||$;if(n&&(Y.$$p=null),void 0===e&&i===$)return r.$enum_for("gsub",t);var o,s,n="",u=$,c=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(o=t.exec(r),null===o){l["~"]=$,n+=r.slice(c);break}u=a(Nt,"MatchData").$new(t,o),void 0===e?s=i(o[0]):e.$$is_hash?s=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str")),s=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(0===e.length%2)return t;switch(n){case"+":for(t=o.length-1;0<t;t--)if(void 0!==o[t])return e.slice(1)+o[t];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(n+=s+r.slice(c,o.index+1),t.lastIndex+=1):n+=r.slice(c,o.index)+s,c=t.lastIndex}return l["~"]=u,n},Y.$$arity=-2),t.def(d,"$hash",W=function(){return this.toString()},W.$$arity=0),t.def(d,"$hex",X=function(){return this.$to_i(16)},X.$$arity=0),t.def(d,"$include?",K=function(t){return t.$$is_string||(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str")),-1!==this.indexOf(t)},K.$$arity=1),t.def(d,"$index",V=function(t,e){var r,n;if(void 0===e)e=0;else if(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"Integer"),"to_int"),0>e&&(e+=this.length,0>e))return $;if(t.$$is_regexp)for(n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(r=n.exec(this),null===r){l["~"]=$,r=-1;break}if(r.index>=e){l["~"]=a(Nt,"MatchData").$new(n,r),r=r.index;break}n.lastIndex=r.index+1}else t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),r=0===t.length&&e>this.length?-1:this.indexOf(t,e);return-1===r?$:r},V.$$arity=-2),t.def(d,"$inspect",J=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},J.$$arity=0),t.def(d,"$intern",Z=function(){return this},Z.$$arity=0),t.def(d,"$lines",Q=function(t){var e=Q.$$p,r=e||$,n=$;return null==l["/"]&&(l["/"]=$),null==t&&(t=l["/"]),e&&(Q.$$p=null),n=u(this,"each_line",[t],r.$to_proc()),s(r)?this:n.$to_a()},Q.$$arity=-1),t.def(d,"$length",tt=function(){return this.length},tt.$$arity=0),t.def(d,"$ljust",et=function(t,e){if(null==e&&(e=" "),t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int"),e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&this.$raise(a(Nt,"ArgumentError"),"zero width padding"),s(t<=this.length))return this;var r=-1,n="";for(t-=this.length;++r<t;)n+=e;return this+n.slice(0,t)},et.$$arity=-2),t.def(d,"$lstrip",rt=function(){return this.replace(/^\s*/,"")},rt.$$arity=0),t.def(d,"$ascii_only?",nt=function(){return this.match(/[ -~\n]*/)[0]===this},nt.$$arity=0),t.def(d,"$match",it=function(t,e){var r,n=it.$$p,i=n||$;return n&&(it.$$p=null),s(s(r=a(Nt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=a(Nt,"Regexp").$new(t.$to_str())),s(a(Nt,"Regexp")["$==="](t))||this.$raise(a(Nt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),u(t,"match",[this,e],i.$to_proc())},it.$$arity=-2),t.def(d,"$next",$t=function(){var t=this.length;if(0===t)return"";for(var e,r=this,n=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if(e=this.charCodeAt(t),48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===n?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(r=r.slice(0,t)+String.fromCharCode(e)+r.slice(t+1),i&&(0===t||t===n)){switch(e){case 65:break;case 97:break;default:e+=1}r=0===t?String.fromCharCode(e)+r:r.slice(0,t)+String.fromCharCode(e)+r.slice(t),i=!1}if(!i)break}return r},$t.$$arity=0),t.def(d,"$oct",at=function(){var t;t=this;var e=8;return/^\s*_/.test(t)?0:(t=t.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,r,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n)return t}switch(n){case"0b":e=2;break;case"0":case"0o":e=8;break;case"0d":e=10;break;case"0x":e=16}return r+i}),t=parseInt(t.replace(/_(?!_)/g,""),e),isNaN(t)?0:t)},at.$$arity=0),t.def(d,"$ord",ot=function(){return this.charCodeAt(0)},ot.$$arity=0),t.def(d,"$partition",st=function(t){var e;return t.$$is_regexp?(e=t.exec(this),null===e?e=-1:(a(Nt,"MatchData").$new(t,e),t=e[0],e=e.index)):(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),e=this.indexOf(t)),-1===e?[this,"",""]:[this.slice(0,e),this.slice(e,e+t.length),this.slice(e+t.length)]},st.$$arity=1),t.def(d,"$reverse",ut=function(){return this.split("").reverse().join("")},ut.$$arity=0),t.def(d,"$rindex",lt=function(t,e){var r,n,i;if(void 0===e)e=this.length;else if(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"Integer"),"to_int"),0>e&&(e+=this.length,0>e))return $;if(t.$$is_regexp){for(r=null,n=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));i=n.exec(this),!(null===i||i.index>e);)r=i,n.lastIndex=r.index+1;null===r?(l["~"]=$,r=-1):(a(Nt,"MatchData").$new(n,r),r=r.index)}else t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),r=this.lastIndexOf(t,e);return-1===r?$:r},lt.$$arity=-2),t.def(d,"$rjust",ct=function(t,e){if(null==e&&(e=" "),t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int"),e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str").$to_s(),s(e["$empty?"]())&&this.$raise(a(Nt,"ArgumentError"),"zero width padding"),s(t<=this.length))return this;var r=Math.floor(t-this.length),n=Array(Math.floor(r/e.length)+1).join(e);return n+e.slice(0,r-n.length)+this},ct.$$arity=-2),t.def(d,"$rpartition",ht=function(t){var e,r,n;if(t.$$is_regexp){for(e=null,r=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));n=r.exec(this),null!==n;)e=n,r.lastIndex=e.index+1;null===e?e=-1:(a(Nt,"MatchData").$new(r,e),t=e[0],e=e.index)}else t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),e=this.lastIndexOf(t);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+t.length),this.slice(e+t.length)]},ht.$$arity=1),t.def(d,"$rstrip",ft=function(){return this.replace(/[\s\u0000]*$/,"")},ft.$$arity=0),t.def(d,"$scan",dt=function(t){var e=dt.$$p,r=e||$;e&&(dt.$$p=null);var n,e=[],i=$;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(n=t.exec(this));)i=a(Nt,"MatchData").$new(t,n),r===$?1==n.length?e.push(n[0]):e.push(i.$captures()):1==n.length?r(n[0]):r.call(this,i.$captures()),t.lastIndex===n.index&&(t.lastIndex+=1);return l["~"]=i,r!==$?this:e},dt.$$arity=1),t.alias(d,"size","length"),t.alias(d,"slice","[]"),t.def(d,"$split",_t=function(t,e){var r;if(null==l[";"]&&(l[";"]=$),0===this.length)return[];if(void 0===e)e=0;else if(e=a(Nt,"Opal")["$coerce_to!"](e,a(Nt,"Integer"),"to_int"),1===e)return[this];void 0!==t&&t!==$||(t=s(r=l[";"])?r:" "),r=[];var n,i,o=this.toString(),u=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str").$to_s()," "===t?(t=/\s+/gm,o=o.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),r=o.split(t),1===r.length&&r[0]===o)return r;for(;-1!==(i=r.indexOf(void 0));)r.splice(i,1);if(0===e){for(;""===r[r.length-1];)--r.length;return r}if(n=t.exec(o),0>e){if(null!==n&&""===n[0]&&-1===t.source.indexOf("(?="))for(i=0,o=n.length;i<o;i++)r.push("");return r}if(null!==n&&""===n[0])return r.splice(e-1,r.length-1,r.slice(e-1).join("")),r;if(e>=r.length)return r;for(i=0;null!==n&&(i++,u=t.lastIndex,i+1!==e);)n=t.exec(o);return r.splice(e-1,r.length-1,o.slice(u)),r},_t.$$arity=-1),t.def(d,"$squeeze",pt=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length?this.replace(/(.)\1+/g,"$1"):(r=f(e),null===r?this:this.replace(new RegExp("("+r+")\\1+","g"),"$1"))},pt.$$arity=-1),t.def(d,"$start_with?",yt=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=0,n=e.length;r<n;r++){var i=a(Nt,"Opal").$coerce_to(e[r],a(Nt,"String"),"to_str").$to_s();if(0===this.indexOf(i))return!0}return!1},yt.$$arity=-1),t.def(d,"$strip",mt=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},mt.$$arity=0),t.def(d,"$sub",gt=function(t,e){var r=this,n=gt.$$p,i=n||$;n&&(gt.$$p=null),t.$$is_regexp||(t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(l["~"]=$,r.toString()):(a(Nt,"MatchData").$new(t,o),void 0===e?(i===$&&r.$raise(a(Nt,"ArgumentError"),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+i(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str"),e=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(0===e.length%2)return t;switch(n){case"+":for(t=o.length-1;0<t;t--)if(void 0!==o[t])return e.slice(1)+o[t];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},gt.$$arity=-2),t.alias(d,"succ","next"),t.def(d,"$sum",vt=function(t){null==t&&(t=16),t=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return 0>=t?e:e&Math.pow(2,t)-1},vt.$$arity=-1),t.def(d,"$swapcase",bt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},bt.$$arity=0),t.def(d,"$to_f",wt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||1/0==t||-(1/0)==t?0:t},wt.$$arity=0),t.def(d,"$to_i",Et=function(t){null==t&&(t=10);var e=this.toLowerCase(),r=a(Nt,"Opal").$coerce_to(t,a(Nt,"Integer"),"to_int");return(1===r||0>r||36<r)&&this.$raise(a(Nt,"ArgumentError"),"invalid radix "+r),/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n&&(0===r||16===r))return t}switch(n){case"0b":if(0===r||2===r)return r=2,e+i;break;case"0":case"0o":if(0===r||8===r)return r=8,e+i;break;case"0d":if(0===r||10===r)return r=10,e+i;break;case"0x":if(0===r||16===r)return r=16,e+i}return t}),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},Et.$$arity=-1),t.def(d,"$to_proc",kt=function(){var e,r=$,r=this.valueOf();return u(this,"proc",[],(e=function(n){var i,o,s=e.$$s||this;(i=e.$$p||$)&&(e.$$p=null);var u=arguments.length;o=u-0,0>o&&(o=0),o=Array(o);for(var l=0;l<u;l++)o[l-0]=arguments[l];return 0===o.length&&s.$raise(a(Nt,"ArgumentError"),"no receiver given"),s=o.shift(),null==s&&(s=$),t.send(s,r,o,i)},e.$$s=this,e.$$arity=-1,e))},kt.$$arity=0),t.def(d,"$to_s",xt=function(){return this.toString()},xt.$$arity=0),t.alias(d,"to_str","to_s"),t.alias(d,"to_sym","intern"),t.def(d,"$tr",At=function t(e,r){if(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str").$to_s(),r=a(Nt,"Opal").$coerce_to(r,a(Nt,"String"),"to_str").$to_s(),0==e.length||e===r)return this;var n,i,$,o,s,u={};s=e.split("");var l=s.length,c=r.split(""),t=c.length,h=!1,f=null;"^"===s[0]&&1<s.length&&(h=!0,s.shift(),f=c[t-1],--l);var d=[];for($=null,i=!1,n=0;n<l;n++)if(o=s[n],null==$)$=o,d.push(o);else if("-"===o)"-"===$?(d.push("-"),d.push("-")):n==l-1?d.push("-"):i=!0;else if(i){for($=$.charCodeAt(0),i=o.charCodeAt(0),$>i&&this.$raise(a(Nt,"ArgumentError"),'invalid range "'+String.fromCharCode($)+"-"+String.fromCharCode(i)+'" in string transliteration'),$+=1;$<i;$++)d.push(String.fromCharCode($));d.push(o),$=i=null}else d.push(o);if(s=d,l=s.length,h)for(n=0;n<l;n++)u[s[n]]=!0;else{if(0<t){for(d=[],$=null,i=!1,n=0;n<t;n++)if(o=c[n],null==$)$=o,d.push(o);else if("-"===o)"-"===$?(d.push("-"),d.push("-")):n==t-1?d.push("-"):i=!0;else if(i){for($=$.charCodeAt(0),i=o.charCodeAt(0),$>i&&this.$raise(a(Nt,"ArgumentError"),'invalid range "'+String.fromCharCode($)+"-"+String.fromCharCode(i)+'" in string transliteration'),$+=1;$<i;$++)d.push(String.fromCharCode($));d.push(o),$=i=null}else d.push(o);c=d,t=c.length}if(o=l-t,0<o)for(t=0<t?c[t-1]:"",n=0;n<o;n++)c.push(t);for(n=0;n<l;n++)u[s[n]]=c[n]}for(l="",n=0,s=this.length;n<s;n++)o=this.charAt(n),c=u[o],l=h?l+(null==c?f:o):l+(null!=c?c:o);return l},At.$$arity=2),t.def(d,"$tr_s",Ot=function t(e,r){if(e=a(Nt,"Opal").$coerce_to(e,a(Nt,"String"),"to_str").$to_s(),r=a(Nt,"Opal").$coerce_to(r,a(Nt,"String"),"to_str").$to_s(),0==e.length)return this;var n,i,$,o,s,u={};s=e.split("");var l=s.length,c=r.split(""),h=c.length,f=!1,t=null;"^"===s[0]&&1<s.length&&(f=!0,s.shift(),t=c[h-1],--l);var d=[];for($=null,i=!1,n=0;n<l;n++)if(o=s[n],null==$)$=o,d.push(o);else if("-"===o)"-"===$?(d.push("-"),d.push("-")):n==l-1?d.push("-"):i=!0;else if(i){for($=$.charCodeAt(0),i=o.charCodeAt(0),$>i&&this.$raise(a(Nt,"ArgumentError"),'invalid range "'+String.fromCharCode($)+"-"+String.fromCharCode(i)+'" in string transliteration'),$+=1;$<i;$++)d.push(String.fromCharCode($));d.push(o),$=i=null}else d.push(o);if(s=d,l=s.length,f)for(n=0;n<l;n++)u[s[n]]=!0;else{if(0<h){for(d=[],i=!1,n=0;n<h;n++)if(o=c[n],null==$)$=o,d.push(o);else if("-"===o)n==h-1?d.push("-"):i=!0;else if(i){for($=$.charCodeAt(0),i=o.charCodeAt(0),$>i&&this.$raise(a(Nt,"ArgumentError"),'invalid range "'+String.fromCharCode($)+"-"+String.fromCharCode(i)+'" in string transliteration'),$+=1;$<i;$++)d.push(String.fromCharCode($));d.push(o),$=i=null}else d.push(o);c=d,h=c.length}if(o=l-h,0<o)for(h=0<h?c[h-1]:"",n=0;n<o;n++)c.push(h);for(n=0;n<l;n++)u[s[n]]=c[n]}for(l="",c=null,n=0,s=this.length;n<s;n++)o=this.charAt(n),h=u[o],f?null==h?null==c&&(l+=t,c=!0):(l+=o,c=null):null!=h?null!=c&&c===h||(l+=h,c=h):(l+=o,c=null);return l},Ot.$$arity=2),t.def(d,"$upcase",St=function(){return this.toUpperCase()},St.$$arity=0),t.def(d,"$upto",Rt=function(t,e){var r=Rt.$$p,n=r||$;if(null==e&&(e=!1),r&&(Rt.$$p=null),n===$)return this.$enum_for("upto",t,e);t=a(Nt,"Opal").$coerce_to(t,a(Nt,"String"),"to_str");var i,r=this.toString();if(1===r.length&&1===t.length)for(r=r.charCodeAt(0),i=t.charCodeAt(0);r<=i&&(!e||r!==i);)n(String.fromCharCode(r)),r+=1;else if(parseInt(r,10).toString()===r&&parseInt(t,10).toString()===t)for(r=parseInt(r,10),i=parseInt(t,10);r<=i&&(!e||r!==i);)n(r.toString()),r+=1;else for(;r.length<=t.length&&r<=t&&(!e||r!==t);)n(r),r=r.$succ();return this},Rt.$$arity=-2),t.def(d,"$instance_variables",It=function(){return[]},It.$$arity=0),t.defs(d,"$_load",Tt=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return u(this,"new",t.to_a(r))},Tt.$$arity=-1),t.def(d,"$unpack",Mt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Mt.$$arity=1),t.def(d,"$unpack1",Ct=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Ct.$$arity=1),$&&"unpack1"}(i[0],String,i),t.const_set(i[0],"Symbol",a(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=t.module,l=t.truthy,c=t.send,h=t.falsy,f=t.hash2,d=t.lambda;return t.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" ")),function($,_){function p(t){return 0===t.length&&(t=[a]),1<t.length&&(t=[t]),t}var y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct=u($,"Enumerable"),ht=[ct].concat(_);t.def(ct,"$all?",y=function(e){try{var r,n,i,$=y.$$p,o=$||a;return $&&(y.$$p=null),l(void 0!==e)?c(this,"each",[],(r=function r(n){var r,i=a,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return i=p(r),l(c(e,"public_send",["==="].concat(t.to_a(i))))?a:void t.ret(!1)},r.$$s=this,r.$$arity=-1,r)):o!==a?c(this,"each",[],(n=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(t.yieldX(o,t.to_a(r)))?a:void t.ret(!1)},n.$$s=this,n.$$arity=-1,n)):c(this,"each",[],(i=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(s(ht,"Opal").$destructure(r))?a:void t.ret(!1)},i.$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},y.$$arity=-1),t.def(ct,"$any?",m=function(e){try{var r,n,i,$=m.$$p,o=$||a;return $&&(m.$$p=null),l(void 0!==e)?c(this,"each",[],(r=function r(n){var r,i=a,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return i=p(r),l(c(e,"public_send",["==="].concat(t.to_a(i))))?void t.ret(!0):a},r.$$s=this,r.$$arity=-1,r)):o!==a?c(this,"each",[],(n=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(t.yieldX(o,t.to_a(r)))?void t.ret(!0):a},n.$$s=this,n.$$arity=-1,n)):c(this,"each",[],(i=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(s(ht,"Opal").$destructure(r))?void t.ret(!0):a},i.$$s=this,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ct,"$chunk",g=function(){var e,r,n=g.$$p,i=n||a;return n&&(g.$$p=null),i===a?c(this,"to_enum",["chunk"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):c(o("::","Enumerator"),"new",[],(r=function(e){function n(){0<s.length&&e.$yield(o,s)}var $=r.$$s||this;null==e&&(e=a);var o=a,s=[];$.$each.$$p=function(e){var r=t.yield1(i,e);r===a?(n(),s=[],o=a):(o===a||o===r?s.push(e):(n(),s=[e]),o=r)},$.$each(),n()},r.$$s=this,r.$$arity=1,r))},g.$$arity=0),t.def(ct,"$chunk_while",v=function(){var e,r=v.$$p,n=r||a;return r&&(v.$$p=null),n===a&&this.$raise(s(ht,"ArgumentError"),"no block given"),c(this,"slice_when",[],(e=function(e,r){return null==e&&(e=a),null==r&&(r=a),t.yieldX(n,[e,r])["$!"]()},e.$$s=this,e.$$arity=2,e))},v.$$arity=0),t.def(ct,"$collect",b=function(){var e,r=b.$$p,n=r||a;if(r&&(b.$$p=null),n===a)return c(this,"enum_for",["collect"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(n,arguments);i.push(e)},this.$each(),i},b.$$arity=0),t.def(ct,"$collect_concat",w=function(){var e,r,n=w.$$p,i=n||a;return n&&(w.$$p=null),i===a?c(this,"enum_for",["collect_concat"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):c(this,"map",[],(r=function(e){return null==e&&(e=a),t.yield1(i,e)},r.$$s=this,r.$$arity=1,r)).$flatten(1)},w.$$arity=0),t.def(ct,"$count",E=function(e){var r,n,i,$=E.$$p,o=$||a,u=a;return $&&(E.$$p=null),u=0,null!=e&&o!==a&&this.$warn("warning: given block not used"),l(null!=e)?o=c(this,"proc",[],(r=function t(r){var n,i=arguments.length;n=i-0,0>n&&(n=0),n=Array(n);for(var t=0;t<i;t++)n[t-0]=arguments[t];return s(ht,"Opal").$destructure(n)["$=="](e)},r.$$s=this,r.$$arity=-1,r)):l(o["$nil?"]())&&(o=c(this,"proc",[],(n=function(){return!0},n.$$s=this,n.$$arity=0,n))),c(this,"each",[],(i=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(t.yieldX(o,r))?u++:a},i.$$s=this,i.$$arity=-1,i)),u},E.$$arity=-1),t.def(ct,"$cycle",k=function(r){var n,i=k.$$p,$=i||a;if(null==r&&(r=a),i&&(k.$$p=null),$===a)return c(this,"enum_for",["cycle",r],(n=function(){var t=n.$$s||this;return l(r["$nil?"]())?l(t["$respond_to?"]("size"))?o(s(ht,"Float"),"INFINITY"):a:(r=s(ht,"Opal")["$coerce_to!"](r,s(ht,"Integer"),"to_int"),l(e(r,0))?(t=t.$enumerator_size(),"number"==typeof t&&"number"==typeof r?t*r:t["$*"](r)):0)},n.$$s=this,n.$$arity=0,n));if(!l(r["$nil?"]())&&(r=s(ht,"Opal")["$coerce_to!"](r,s(ht,"Integer"),"to_int"),l(0>=r)))return a;var u,h=[];if(this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);t.yield1($,e),h.push(e)},this.$each(),0===h.length)return a;if(r===a)for(;;)for(i=0,u=h.length;i<u;i++)t.yield1($,h[i]);else for(;1<r;){for(i=0,u=h.length;i<u;i++)t.yield1($,h[i]);r--}},k.$$arity=-1),t.def(ct,"$detect",x=function(e){try{var r,n=x.$$p,i=n||a;return n&&(x.$$p=null),i===a?this.$enum_for("detect",e):(c(this,"each",[],(r=function e(r){var n,e=a,e=arguments.length;n=e-0,0>n&&(n=0),n=Array(n);for(var $=0;$<e;$++)n[$-0]=arguments[$];return e=s(ht,"Opal").$destructure(n),l(t.yield1(i,e))?void t.ret(e):a},r.$$s=this,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:a)}catch(e){if(e===t.returner)return e.$v;throw e}},x.$$arity=-1),t.def(ct,"$drop",A=function(t){t=s(ht,"Opal").$coerce_to(t,s(ht,"Integer"),"to_int"),l(0>t)&&this.$raise(s(ht,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(s(ht,"Opal").$destructure(arguments)),r++},this.$each(),e},A.$$arity=1),t.def(ct,"$drop_while",O=function(){var e=O.$$p,r=e||a;if(e&&(O.$$p=null),r===a)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);if(i){var $=t.yield1(r,e);h($)&&(i=!1,n.push(e))}else n.push(e)},this.$each(),n},O.$$arity=0),t.def(ct,"$each_cons",S=function(e){var i,$=S.$$p,o=$||a;if($&&(S.$$p=null),l(1!=arguments.length)&&this.$raise(s(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=s(ht,"Opal").$try_convert(e,s(ht,"Integer"),"to_int"),l(0>=e)&&this.$raise(s(ht,"ArgumentError"),"invalid size"),o===a)return c(this,"enum_for",["each_cons",e],(i=function(){var t,$=a,$=(i.$$s||this).$enumerator_size();return l($["$nil?"]())?a:l(l(t=$["$=="](0))?t:"number"==typeof $&&"number"==typeof e?$<e:$["$<"](e))?0:r(n($,e),1)},i.$$s=this,i.$$arity=0,i));var u=[];return this.$each.$$p=function(){var r=s(ht,"Opal").$destructure(arguments);u.push(r),u.length>e&&u.shift(),u.length==e&&t.yield1(o,u.slice(0,e))},this.$each(),a},S.$$arity=1),t.def(ct,"$each_entry",R=function(e){var r,n,i=R.$$p,$=i||a,o=arguments.length;n=o-0,0>n&&(n=0),n=Array(n);for(var u=0;u<o;u++)n[u-0]=arguments[u];return i&&(R.$$p=null),$===a?c(this,"to_enum",["each_entry"].concat(t.to_a(n)),(r=function(){return(r.$$s||this).$enumerator_size()},r.$$s=this,r.$$arity=0,r)):(this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);t.yield1($,e)},this.$each.apply(this,n),this)},R.$$arity=-1),t.def(ct,"$each_slice",I=function(e){var r,n=I.$$p,i=n||a;if(n&&(I.$$p=null),e=s(ht,"Opal").$coerce_to(e,s(ht,"Integer"),"to_int"),l(0>=e)&&this.$raise(s(ht,"ArgumentError"),"invalid slice size"),i===a)return c(this,"enum_for",["each_slice",e],(r=function(){var t=r.$$s||this;return l(t["$respond_to?"]("size"))?(t=t.$size(),("number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)).$ceil()):a},r.$$s=this,r.$$arity=0,r));var $=[];return this.$each.$$p=function(){var r=s(ht,"Opal").$destructure(arguments);$.push(r),$.length===e&&(t.yield1(i,$),$=[])},this.$each(),0<$.length&&t.yield1(i,$),a},I.$$arity=1),t.def(ct,"$each_with_index",T=function(e){var r,n,i=T.$$p,$=i||a,o=arguments.length;n=o-0,0>n&&(n=0),n=Array(n);for(var u=0;u<o;u++)n[u-0]=arguments[u];if(i&&(T.$$p=null),$===a)return c(this,"enum_for",["each_with_index"].concat(t.to_a(n)),(r=function(){return(r.$$s||this).$enumerator_size()},r.$$s=this,r.$$arity=0,r));var l=0;return this.$each.$$p=function(){var t=s(ht,"Opal").$destructure(arguments);$(t,l),l++},this.$each.apply(this,n),this},T.$$arity=-1),t.def(ct,"$each_with_object",M=function(t){var e,r=M.$$p,n=r||a;return r&&(M.$$p=null),n===a?c(this,"enum_for",["each_with_object",t],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):(this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);n(e,t)},this.$each(),t)},M.$$arity=1),t.def(ct,"$entries",C=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];var i=[];return this.$each.$$p=function(){i.push(s(ht,"Opal").$destructure(arguments))},this.$each.apply(this,e),i},C.$$arity=-1),t.alias(ct,"find","detect"),t.def(ct,"$find_all",N=function(){var e,r=N.$$p,n=r||a;if(r&&(N.$$p=null),n===a)return c(this,"enum_for",["find_all"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);l(r)&&i.push(e)},this.$each(),i},N.$$arity=0),t.def(ct,"$find_index",z=function(e){try{var r,n,i=z.$$p,$=i||a,o=a;return i&&(z.$$p=null),l(void 0===e&&$===a)?this.$enum_for("find_index"):(null!=e&&$!==a&&this.$warn("warning: given block not used"),o=0,l(null!=e)?c(this,"each",[],(r=function r(n){var i,r=arguments.length;i=r-0,0>i&&(i=0),i=Array(i);for(var $=0;$<r;$++)i[$-0]=arguments[$];return s(ht,"Opal").$destructure(i)["$=="](e)&&t.ret(o),
o+=1},r.$$s=this,r.$$arity=-1,r)):c(this,"each",[],(n=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(t.yieldX($,t.to_a(r)))&&t.ret(o),o+=1},n.$$s=this,n.$$arity=-1,n)),a)}catch(e){if(e===t.returner)return e.$v;throw e}},z.$$arity=-1),t.def(ct,"$first",B=function(e){try{var r,n,i=a,$=a;return l(void 0===e)?c(this,"each",[],(r=function(e){null==e&&(e=a),t.ret(e)},r.$$s=this,r.$$arity=1,r)):(i=[],e=s(ht,"Opal").$coerce_to(e,s(ht,"Integer"),"to_int"),l(0>e)&&this.$raise(s(ht,"ArgumentError"),"attempt to take negative size"),l(0==e)?[]:($=0,c(this,"each",[],(n=function r(n){var o,r=arguments.length;o=r-0,0>o&&(o=0),o=Array(o);for(var u=0;u<r;u++)o[u-0]=arguments[u];return i.push(s(ht,"Opal").$destructure(o)),l(e<=++$)?void t.ret(i):a},n.$$s=this,n.$$arity=-1,n)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},B.$$arity=-1),t.alias(ct,"flat_map","collect_concat"),t.def(ct,"$grep",D=function(r){var n,$=D.$$p,o=$||a,s=a;return $&&(D.$$p=null),s=[],c(this,"each",[],(n=function(n){var $,u=a,u=arguments.length;$=u-0,0>$&&($=0),$=Array($);for(var h=0;h<u;h++)$[h-0]=arguments[h];return u=p($),l(c(r,"__send__",["==="].concat(t.to_a(u))))?(o!==a?(l(e($.$length(),1))&&($=[$]),$=t.yieldX(o,t.to_a($))):l(i($.$length(),1))&&($=$["$[]"](0)),s.$push($)):a},n.$$s=this,n.$$arity=-1,n)),s},D.$$arity=1),t.def(ct,"$grep_v",F=function(r){var n,$=F.$$p,o=$||a,s=a;return $&&(F.$$p=null),s=[],c(this,"each",[],(n=function(n){var $,u=a,u=arguments.length;$=u-0,0>$&&($=0),$=Array($);for(var h=0;h<u;h++)$[h-0]=arguments[h];return u=p($),l(c(r,"__send__",["==="].concat(t.to_a(u))))?a:(o!==a?(l(e($.$length(),1))&&($=[$]),$=t.yieldX(o,t.to_a($))):l(i($.$length(),1))&&($=$["$[]"](0)),s.$push($))},n.$$s=this,n.$$arity=-1,n)),s},F.$$arity=1),t.def(ct,"$group_by",L=function(){var e,r,i=L.$$p,$=i||a,o=a,u=a;return i&&(L.$$p=null),$===a?c(this,"enum_for",["group_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):(o=f([],{}),this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),i=t.yield1($,e);(l(r=o["$[]"](i))?r:(u=[i,[]],c(o,"[]=",t.to_a(u)),u[n(u.length,1)]))["$<<"](e)},this.$each(),o)},L.$$arity=0),t.def(ct,"$include?",P=function(e){try{var r;return c(this,"each",[],(r=function(r){var n,i=arguments.length;n=i-0,0>n&&(n=0),n=Array(n);for(var $=0;$<i;$++)n[$-0]=arguments[$];return s(ht,"Opal").$destructure(n)["$=="](e)?void t.ret(!0):a},r.$$s=this,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},P.$$arity=1),t.def(ct,"$inject",q=function(e,r){var n=q.$$p,i=n||a;n&&(q.$$p=null);var $=e;return i!==a&&void 0===r?this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);void 0!==$&&(e=t.yieldX(i,[$,e])),$=e}:(void 0===r&&(s(ht,"Symbol")["$==="](e)||this.$raise(s(ht,"TypeError"),""+e.$inspect()+" is not a Symbol"),r=e,$=void 0),this.$each.$$p=function(){var t=s(ht,"Opal").$destructure(arguments);$=void 0===$?t:$.$__send__(r,t)}),this.$each(),void 0==$?a:$},q.$$arity=-1),t.def(ct,"$lazy",j=function(){var e;return c(o(s(ht,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(e=function(e,r){var n,i=arguments.length;n=i-1,0>n&&(n=0),n=Array(n);for(var $=1;$<i;$++)n[$-1]=arguments[$];return null==e&&(e=a),c(e,"yield",t.to_a(n))},e.$$s=this,e.$$arity=-2,e))},j.$$arity=0),t.def(ct,"$enumerator_size",U=function(){return l(this["$respond_to?"]("size"))?this.$size():a},U.$$arity=0),t.alias(ct,"map","collect"),t.def(ct,"$max",H=function(e){var r=this,n=H.$$p,i=n||a;if(n&&(H.$$p=null),void 0===e||e===a){var $,o;return r.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments);void 0===$?$=e:(o=i!==a?t.yieldX(i,[e,$]):e["$<=>"]($),o===a&&r.$raise(s(ht,"ArgumentError"),"comparison failed"),0<o&&($=e))},r.$each(),void 0===$?a:$}return e=s(ht,"Opal").$coerce_to(e,s(ht,"Integer"),"to_int"),c(r,"sort",[],i.$to_proc()).$reverse().$first(e)},H.$$arity=-1),t.def(ct,"$max_by",G=function(){var e,r=G.$$p,n=r||a;if(r&&(G.$$p=null),!l(n))return c(this,"enum_for",["max_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i,$;return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);void 0===i?(i=e,$=r):0<r["$<=>"]($)&&(i=e,$=r)},this.$each(),void 0===i?a:i},G.$$arity=0),t.alias(ct,"member?","include?"),t.def(ct,"$min",Y=function(){var t=this,e=Y.$$p,r=e||a;e&&(Y.$$p=null);var n;return t.$each.$$p=r!==a?function(){var e=s(ht,"Opal").$destructure(arguments);if(void 0===n)n=e;else{var i=r(e,n);i===a&&t.$raise(s(ht,"ArgumentError"),"comparison failed"),0>i&&(n=e)}}:function(){var t=s(ht,"Opal").$destructure(arguments);void 0===n?n=t:0>s(ht,"Opal").$compare(t,n)&&(n=t)},t.$each(),void 0===n?a:n},Y.$$arity=0),t.def(ct,"$min_by",W=function(){var e,r=W.$$p,n=r||a;if(r&&(W.$$p=null),!l(n))return c(this,"enum_for",["min_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i,$;return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);void 0===i?(i=e,$=r):0>r["$<=>"]($)&&(i=e,$=r)},this.$each(),void 0===i?a:i},W.$$arity=0),t.def(ct,"$minmax",X=function(){var t,e,r=this,n=X.$$p,i=n||a;n&&(X.$$p=null);var i=l(t=i)?t:c(r,"proc",[],(e=function(t,e){return null==t&&(t=a),null==e&&(e=a),t["$<=>"](e)},e.$$s=r,e.$$arity=2,e)),$=a,o=a,u=!0;return r.$each.$$p=function(){var t=s(ht,"Opal").$destructure(arguments);if(u)$=o=t,u=!1;else{var e=i.$call($,t);e===a?r.$raise(s(ht,"ArgumentError"),"comparison failed"):0<e&&($=t),e=i.$call(o,t),e===a?r.$raise(s(ht,"ArgumentError"),"comparison failed"):0>e&&(o=t)}},r.$each(),[$,o]},X.$$arity=0),t.def(ct,"$minmax_by",K=function(){return K.$$p&&(K.$$p=null),this.$raise(s(ht,"NotImplementedError"))},K.$$arity=0),t.def(ct,"$none?",V=function(e){try{var r,n,i,$=V.$$p,o=$||a;return $&&(V.$$p=null),l(void 0!==e)?c(this,"each",[],(r=function r(n){var r,i=a,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return i=p(r),l(c(e,"public_send",["==="].concat(t.to_a(i))))?void t.ret(!1):a},r.$$s=this,r.$$arity=-1,r)):o!==a?c(this,"each",[],(n=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return l(t.yieldX(o,t.to_a(r)))?void t.ret(!1):a},n.$$s=this,n.$$arity=-1,n)):c(this,"each",[],(i=function(e){var r,n=a,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return n=s(ht,"Opal").$destructure(r),l(n)?void t.ret(!1):a},i.$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},V.$$arity=-1),t.def(ct,"$one?",J=function(n){try{var i,$,o,u=J.$$p,h=u||a,f=a;return u&&(J.$$p=null),f=0,l(void 0!==n)?c(this,"each",[],(i=function i($){var i,o=a,o=arguments.length;i=o-0,0>i&&(i=0),i=Array(i);for(var s=0;s<o;s++)i[s-0]=arguments[s];return o=p(i),l(c(n,"public_send",["==="].concat(t.to_a(o))))?(f=r(f,1),l(e(f,1))?void t.ret(!1):a):a},i.$$s=this,i.$$arity=-1,i)):h!==a?c(this,"each",[],($=function(n){var i,$=arguments.length;i=$-0,0>i&&(i=0),i=Array(i);for(var o=0;o<$;o++)i[o-0]=arguments[o];return l(t.yieldX(h,t.to_a(i)))?(f=r(f,1),l(e(f,1))?void t.ret(!1):a):a},$.$$s=this,$.$$arity=-1,$)):c(this,"each",[],(o=function(n){var i,$=arguments.length;i=$-0,0>i&&(i=0),i=Array(i);for(var o=0;o<$;o++)i[o-0]=arguments[o];return l(s(ht,"Opal").$destructure(i))?(f=r(f,1),l(e(f,1))?void t.ret(!1):a):a},o.$$s=this,o.$$arity=-1,o)),f["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},J.$$arity=-1),t.def(ct,"$partition",Z=function(){var e,r=Z.$$p,n=r||a;if(r&&(Z.$$p=null),n===a)return c(this,"enum_for",["partition"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i=[],$=[];return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);l(r)?i.push(e):$.push(e)},this.$each(),[i,$]},Z.$$arity=0),t.alias(ct,"reduce","inject"),t.def(ct,"$reject",Q=function(){var e,r=Q.$$p,n=r||a;if(r&&(Q.$$p=null),n===a)return c(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(n,e);h(r)&&i.push(e)},this.$each(),i},Q.$$arity=0),t.def(ct,"$reverse_each",tt=function(){var e,r=tt.$$p,n=r||a;if(r&&(tt.$$p=null),n===a)return c(this,"enum_for",["reverse_each"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e));var i=[];for(this.$each.$$p=function(){i.push(arguments)},this.$each(),r=i.length-1;0<=r;r--)t.yieldX(n,i[r]);return i},tt.$$arity=0),t.alias(ct,"select","find_all"),t.def(ct,"$slice_before",et=function(e){var r,n=et.$$p,i=n||a;return n&&(et.$$p=null),l(void 0===e&&i===a)&&this.$raise(s(ht,"ArgumentError"),"both pattern and block are given"),l(void 0!==e&&i!==a||1<arguments.length)&&this.$raise(s(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(s(ht,"Enumerator"),"new",[],(r=function(n){var $=r.$$s||this;null==n&&(n=a);var o=[];$.$each.$$p=i!==a?void 0===e?function(){var e=s(ht,"Opal").$destructure(arguments),r=t.yield1(i,e);l(r)&&0<o.length&&(n["$<<"](o),o=[]),o.push(e)}:function(){var t=s(ht,"Opal").$destructure(arguments),r=i(t,e.$dup());l(r)&&0<o.length&&(n["$<<"](o),o=[]),o.push(t)}:function(){var t=s(ht,"Opal").$destructure(arguments),r=e["$==="](t);l(r)&&0<o.length&&(n["$<<"](o),o=[]),o.push(t)},$.$each(),0<o.length&&n["$<<"](o)},r.$$s=this,r.$$arity=1,r))},et.$$arity=-1),t.def(ct,"$slice_after",rt=function(e){var r,n,i=rt.$$p,$=i||a;return i&&(rt.$$p=null),l(void 0===e&&$===a)&&this.$raise(s(ht,"ArgumentError"),"both pattern and block are given"),l(void 0!==e&&$!==a||1<arguments.length)&&this.$raise(s(ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),l(void 0!==e)&&($=c(this,"proc",[],(r=function(t){return null==t&&(t=a),e["$==="](t)},r.$$s=this,r.$$arity=1,r))),c(s(ht,"Enumerator"),"new",[],(n=function(e){var r=n.$$s||this;null==e&&(e=a);var i;r.$each.$$p=function(){var r=s(ht,"Opal").$destructure(arguments),n=t.yield1($,r);null==i&&(i=[]),l(n)?(i.push(r),e.$yield(i),i=null):i.push(r)},r.$each(),null!=i&&e.$yield(i)},n.$$s=this,n.$$arity=1,n))},rt.$$arity=-1),t.def(ct,"$slice_when",nt=function(){var e,r=nt.$$p,n=r||a;return r&&(nt.$$p=null),n===a&&this.$raise(s(ht,"ArgumentError"),"wrong number of arguments (0 for 1)"),c(s(ht,"Enumerator"),"new",[],(e=function(r){var i=e.$$s||this;null==r&&(r=a);var $=a,o=a;i.$each_cons.$$p=function(){var e=s(ht,"Opal").$destructure(arguments),i=e[0],e=e[1],u=t.yieldX(n,[i,e]);o=e,$===a&&($=[]),l(u)?($.push(i),r.$yield($),$=[]):$.push(i)},i.$each_cons(2),$!==a&&($.push(o),r.$yield($))},e.$$s=this,e.$$arity=1,e))},nt.$$arity=0),t.def(ct,"$sort",it=function(){var t,e=it.$$p,r=e||a,n=a;return e&&(it.$$p=null),n=this.$to_a(),r===a&&(r=d((t=function(t,e){return null==t&&(t=a),null==e&&(e=a),t["$<=>"](e)},t.$$s=this,t.$$arity=2,t))),c(n,"sort",[],r.$to_proc())},it.$$arity=0),t.def(ct,"$sort_by",$t=function(){var e,r,n,i,$=$t.$$p,o=$||a,u=a;return $&&($t.$$p=null),o===a?c(this,"enum_for",["sort_by"],(e=function(){return(e.$$s||this).$enumerator_size()},e.$$s=this,e.$$arity=0,e)):(u=c(this,"map",[],(r=function(){var e=a,e=s(ht,"Opal").$destructure(arguments);return[t.yield1(o,e),e]},r.$$s=this,r.$$arity=0,r)),c(u,"sort!",[],(n=function(t,e){return null==t&&(t=a),null==e&&(e=a),t[0]["$<=>"](e[0])},n.$$s=this,n.$$arity=2,n)),c(u,"map!",[],(i=function(t){return null==t&&(t=a),t[1]},i.$$s=this,i.$$arity=1,i)))},$t.$$arity=0),t.def(ct,"$sum",at=function(e){var n,i=at.$$p,$=i||a,o=a;return null==e&&(e=0),i&&(at.$$p=null),o=e,c(this,"each",[],(n=function e(n){var e,i=a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var u=0;u<i;u++)e[u-0]=arguments[u];return i=$!==a?t.yieldX($,t.to_a(e)):s(ht,"Opal").$destructure(e),o=r(o,i)},n.$$s=this,n.$$arity=-1,n)),o},at.$$arity=-1),t.def(ct,"$take",ot=function(t){return this.$first(t)},ot.$$arity=1),t.def(ct,"$take_while",st=function(){try{var e,r=st.$$p,n=r||a,i=a;return r&&(st.$$p=null),l(n)?(i=[],c(this,"each",[],(e=function(e){var r,$=a,$=arguments.length;r=$-0,0>r&&(r=0),r=Array(r);for(var o=0;o<$;o++)r[o-0]=arguments[o];return $=s(ht,"Opal").$destructure(r),l(t.yield1(n,$))||t.ret(i),i.push($)},e.$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},st.$$arity=0),t.def(ct,"$uniq",ut=function(){var e,r=ut.$$p,i=r||a,$=a;return r&&(ut.$$p=null),$=f([],{}),c(this,"each",[],(e=function(e){var r,o=a,o=r=a,o=arguments.length;r=o-0,0>r&&(r=0),r=Array(r);for(var u=0;u<o;u++)r[u-0]=arguments[u];return o=s(ht,"Opal").$destructure(r),r=i!==a?t.yield1(i,o):o,l($["$key?"](r))?a:(o=[r,o],c($,"[]=",t.to_a(o)),o[n(o.length,1)])},e.$$s=this,e.$$arity=-1,e)),$.$values()},ut.$$arity=0),t.alias(ct,"to_a","entries"),t.def(ct,"$zip",lt=function(e){var r,n=lt.$$p,i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return n&&(lt.$$p=null),c(this.$to_a(),"zip",t.to_a(r))},lt.$$arity=-1)}($[0],$)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],$=t.nil,a=t.const_get_relative,o=t.breaker,s=t.slice,u=t.klass,l=t.truthy,c=t.send,h=t.falsy;return t.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" ")),n.$require("corelib/enumerable"),function(n,i,f){function d(){}n=d=u(n,i,"Enumerator",d);var _,p,y,m,g,v,b=n.$$proto,w=[n].concat(f);return b.size=b.args=b.object=b.method=$,n.$include(a(w,"Enumerable")),b.$$is_enumerator=!0,t.defs(n,"$for",_=function(t,e,r){var n,i=_.$$p,a=i||$;null==e&&(e="each");var o=arguments.length;n=o-2,0>n&&(n=0),n=Array(n);for(var s=2;s<o;s++)n[s-2]=arguments[s];return i&&(_.$$p=null),i=this.$allocate(),i.object=t,i.size=a,i.method=e,i.args=n,i},_.$$arity=-2),t.def(n,"$initialize",p=function(t){var e=p.$$p,r=e||$;return e&&(p.$$p=null),l(r)?(this.object=c(a(w,"Generator"),"new",[],r.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||$,l(this.size)?this.size=a(w,"Opal").$coerce_to(this.size,a(w,"Integer"),"to_int"):$):(this.object=arguments[0],this.method=arguments[1]||"each",this.args=s.call(arguments,2),this.size=$)},p.$$arity=-1),t.def(n,"$each",y=function(r){var n,i,a=y.$$p,o=a||$,s=arguments.length;i=s-0,0>i&&(i=0),i=Array(i);for(var u=0;u<s;u++)i[u-0]=arguments[u];return a&&(y.$$p=null),l(l(n=o["$nil?"]())?i["$empty?"]():n)?this:(i=e(this.args,i),l(o["$nil?"]())?c(this.$class(),"new",[this.object,this.method].concat(t.to_a(i))):c(this.object,"__send__",[this.method].concat(t.to_a(i)),o.$to_proc()))},y.$$arity=-1),t.def(n,"$size",m=function(){return l(a(w,"Proc")["$==="](this.size))?c(this.size,"call",t.to_a(this.args)):this.size},m.$$arity=0),t.def(n,"$with_index",g=function(t){var e,r=g.$$p,n=r||$;if(null==t&&(t=0),r&&(g.$$p=null),t=l(t)?a(w,"Opal").$coerce_to(t,a(w,"Integer"),"to_int"):0,!l(n))return c(this,"enum_for",["with_index",t],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=a(w,"Opal").$destructure(arguments),t=n(t,i);return i++,t},this.$each()},g.$$arity=-1),t.alias(n,"with_object","each_with_object"),t.def(n,"$inspect",v=function(){var t=$,t="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;return l(this.args["$any?"]())&&(t=e(t,"("+this.args.$inspect()["$[]"](a(w,"Range").$new(1,-2))+")")),e(t,">")},v.$$arity=0),function(e,r,n){function i(){}e=i=u(e,r,"Generator",i);var s,h,f=e.$$proto,d=[e].concat(n);return f.block=$,e.$include(a(d,"Enumerable")),t.def(e,"$initialize",s=function(){var t=s.$$p,e=t||$;return t&&(s.$$p=null),l(e)||this.$raise(a(d,"LocalJumpError"),"no block given"),this.block=e},s.$$arity=0),t.def(e,"$each",h=function(e){var r,n=h.$$p,i=n||$,s=$,s=arguments.length;r=s-0,0>r&&(r=0),r=Array(r);for(var u=0;u<s;u++)r[u-0]=arguments[u];n&&(h.$$p=null),s=c(a(d,"Yielder"),"new",[],i.$to_proc());try{r.unshift(s),t.yieldX(this.block,r)}catch(t){if(t===o)return o.$v;throw t}return this},h.$$arity=-1),$&&"each"}(w[0],null,w),function(e,r,n){function i(){}e=i=u(e,r,"Yielder",i);var a=e.$$proto;[e].concat(n);var s,l,h;return a.block=$,t.def(e,"$initialize",s=function(){var t=s.$$p,e=t||$;return t&&(s.$$p=null),this.block=e},s.$$arity=0),t.def(e,"$yield",l=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];if(n=t.yieldX(this.block,r),n===o)throw o;return n},l.$$arity=-1),t.def(e,"$<<",h=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return c(this,"yield",t.to_a(r)),this},h.$$arity=-1),$&&"<<"}(w[0],null,w),function(n,i,o){function s(){}n=s=u(n,i,"Lazy",s);var f,d,_,p,y,m,g,v,b,w,E,k,x,A=n.$$proto,O=[n].concat(o);return A.enumerator=$,function(t,e,r){function n(){}return[n=u(t,e,"StopLazyError",n)].concat(r),$}(O[0],a(O,"Exception"),O),t.def(n,"$initialize",f=function(e,r){var n,i=f.$$p,o=i||$;return null==r&&(r=$),i&&(f.$$p=null),o===$&&this.$raise(a(O,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=e,c(this,t.find_super_dispatcher(this,"initialize",f,!1),[r],(n=function(r,i){var s,u,l=n.$$s||this,h=arguments.length;s=h-1,0>s&&(s=0),s=Array(s);for(var f=1;f<h;f++)s[f-1]=arguments[f];null==r&&(r=$);try{return c(e,"each",t.to_a(s),(u=function(e){var n,i=arguments.length;n=i-0,0>n&&(n=0),n=Array(n);for(var $=0;$<i;$++)n[$-0]=arguments[$];n.unshift(r),t.yieldX(o,n)},u.$$s=l,u.$$arity=-1,u))}catch(e){if(!t.rescue(e,[a(O,"Exception")]))throw e;try{return $}finally{t.pop_exception()}}},n.$$s=this,n.$$arity=-2,n))},f.$$arity=-2),t.alias(n,"force","to_a"),t.def(n,"$lazy",d=function(){return this},d.$$arity=0),t.def(n,"$collect",_=function(){var e,r=_.$$p,n=r||$;return r&&(_.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy map without a block"),c(a(O,"Lazy"),"new",[this,this.$enumerator_size()],(e=function(e,r){var i,a=arguments.length;i=a-1,0>i&&(i=0),i=Array(i);for(var o=1;o<a;o++)i[o-1]=arguments[o];null==e&&(e=$),a=t.yieldX(n,i),e.$yield(a)},e.$$s=this,e.$$arity=-2,e))},_.$$arity=0),t.def(n,"$collect_concat",p=function(){var e,r=p.$$p,n=r||$;return r&&(p.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy map without a block"),c(a(O,"Lazy"),"new",[this,$],(e=function(r,i){var o,s,u,l=e.$$s||this,h=arguments.length;o=h-1,0>o&&(o=0),o=Array(o);for(var f=1;f<h;f++)o[f-1]=arguments[f];null==r&&(r=$),h=t.yieldX(n,o),h["$respond_to?"]("force")&&h["$respond_to?"]("each")?c(h,"each",[],(s=function(t){return null==t&&(t=$),r.$yield(t)},s.$$s=l,s.$$arity=1,s)):a(O,"Opal").$try_convert(h,a(O,"Array"),"to_ary")===$?r.$yield(h):c(h,"each",[],(u=function(t){return null==t&&(t=$),r.$yield(t)},u.$$s=l,u.$$arity=1,u))},e.$$s=this,e.$$arity=-2,e))},p.$$arity=0),t.def(n,"$drop",y=function(n){var i,o=$,s=o=$;return n=a(O,"Opal").$coerce_to(n,a(O,"Integer"),"to_int"),l(r(n,0))&&this.$raise(a(O,"ArgumentError"),"attempt to drop negative size"),o=this.$enumerator_size(),o=l(a(O,"Integer")["$==="](o))&&l(r(n,o))?n:o,s=0,c(a(O,"Lazy"),"new",[this,o],(i=function(i,a){var o,u=arguments.length;o=u-1,0>o&&(o=0),o=Array(o);for(var h=1;h<u;h++)o[h-1]=arguments[h];return null==i&&(i=$),l(r(s,n))?s=e(s,1):c(i,"yield",t.to_a(o))},i.$$s=this,i.$$arity=-2,i))},y.$$arity=1),t.def(n,"$drop_while",m=function(){var e,r=m.$$p,n=r||$,i=$;return r&&(m.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,c(a(O,"Lazy"),"new",[this,$],(e=function(e,r){var a,o=arguments.length;a=o-1,0>a&&(a=0),a=Array(a);for(var s=1;s<o;s++)a[s-1]=arguments[s];return null==e&&(e=$),l(i)?(o=t.yieldX(n,a),void(h(o)&&(i=!1,c(e,"yield",t.to_a(a))))):c(e,"yield",t.to_a(a))},e.$$s=this,e.$$arity=-2,e))},m.$$arity=0),t.def(n,"$enum_for",g=function(e,r){var n,i=g.$$p,a=i||$;null==e&&(e="each");var o=arguments.length;n=o-1,0>n&&(n=0),n=Array(n);for(var s=1;s<o;s++)n[s-1]=arguments[s];return i&&(g.$$p=null),c(this.$class(),"for",[this,e].concat(t.to_a(n)),a.$to_proc())},g.$$arity=-1),t.def(n,"$find_all",v=function(){var e,r=v.$$p,n=r||$;return r&&(v.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy select without a block"),c(a(O,"Lazy"),"new",[this,$],(e=function(e,r){var i,a=arguments.length;i=a-1,0>i&&(i=0),i=Array(i);for(var o=1;o<a;o++)i[o-1]=arguments[o];null==e&&(e=$),a=t.yieldX(n,i),l(a)&&c(e,"yield",t.to_a(i))},e.$$s=this,e.$$arity=-2,e))},v.$$arity=0),t.alias(n,"flat_map","collect_concat"),t.def(n,"$grep",b=function(e){var r,n,i=b.$$p,o=i||$;return i&&(b.$$p=null),l(o)?c(a(O,"Lazy"),"new",[this,$],(r=function(r,n){var i,s=arguments.length;i=s-1,0>i&&(i=0),i=Array(i);for(var u=1;u<s;u++)i[u-1]=arguments[u];null==r&&(r=$),s=a(O,"Opal").$destructure(i),i=e["$==="](s),l(i)&&(t.yield1(o,s),r.$yield(t.yield1(o,s)))},r.$$s=this,r.$$arity=-2,r)):c(a(O,"Lazy"),"new",[this,$],(n=function t(r,n){var i,t=arguments.length;i=t-1,0>i&&(i=0),i=Array(i);for(var o=1;o<t;o++)i[o-1]=arguments[o];null==r&&(r=$),t=a(O,"Opal").$destructure(i),i=e["$==="](t),l(i)&&r.$yield(t)},n.$$s=this,n.$$arity=-2,n))},b.$$arity=1),t.alias(n,"map","collect"),t.alias(n,"select","find_all"),t.def(n,"$reject",w=function(){var e,r=w.$$p,n=r||$;return r&&(w.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy reject without a block"),c(a(O,"Lazy"),"new",[this,$],(e=function(e,r){var i,a=arguments.length;i=a-1,0>i&&(i=0),i=Array(i);for(var o=1;o<a;o++)i[o-1]=arguments[o];null==e&&(e=$),a=t.yieldX(n,i),h(a)&&c(e,"yield",t.to_a(i))},e.$$s=this,e.$$arity=-2,e))},w.$$arity=0),t.def(n,"$take",E=function(n){var i,o=$,s=o=$;return n=a(O,"Opal").$coerce_to(n,a(O,"Integer"),"to_int"),l(r(n,0))&&this.$raise(a(O,"ArgumentError"),"attempt to take negative size"),o=this.$enumerator_size(),o=l(a(O,"Integer")["$==="](o))&&l(r(n,o))?n:o,s=0,c(a(O,"Lazy"),"new",[this,o],(i=function(o,u){var h,f=i.$$s||this,d=arguments.length;h=d-1,0>h&&(h=0),h=Array(h);for(var _=1;_<d;_++)h[_-1]=arguments[_];return null==o&&(o=$),l(r(s,n))?(c(o,"yield",t.to_a(h)),s=e(s,1)):f.$raise(a(O,"StopLazyError"))},i.$$s=this,i.$$arity=-2,i))},E.$$arity=1),t.def(n,"$take_while",k=function(){var e,r=k.$$p,n=r||$;return r&&(k.$$p=null),l(n)||this.$raise(a(O,"ArgumentError"),"tried to call lazy take_while without a block"),c(a(O,"Lazy"),"new",[this,$],(e=function(r,i){var o,s=e.$$s||this,u=arguments.length;o=u-1,0>o&&(o=0),o=Array(o);for(var h=1;h<u;h++)o[h-1]=arguments[h];null==r&&(r=$),u=t.yieldX(n,o),l(u)?c(r,"yield",t.to_a(o)):s.$raise(a(O,"StopLazyError"))},e.$$s=this,e.$$arity=-2,e))},k.$$arity=0),t.alias(n,"to_enum","enum_for"),t.def(n,"$inspect",x=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},x.$$arity=0),$&&"inspect"}(w[0],n,w)}(i[0],null,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.klass,c=t.truthy,h=t.hash2;return t.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" ")),$.$require("corelib/comparable"),function($,a,f){function d(){}$=d=l($,a,"Numeric",d);var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z=[$].concat(f);return $.$include(u(Z,"Comparable")),t.def($,"$coerce",_=function(t){return c(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},_.$$arity=1),t.def($,"$__coerced__",p=function(e,r){var n,i,$=o;return i=n=o,c(r["$respond_to?"]("coerce"))?(i=r.$coerce(this),n=t.to_ary(i),$=null==n[0]?o:n[0],n=null==n[1]?o:n[1],$.$__send__(e,n)):(i=e,"+"["$==="](i)||"-"["$==="](i)||"*"["$==="](i)||"/"["$==="](i)||"%"["$==="](i)||"&"["$==="](i)||"|"["$==="](i)||"^"["$==="](i)||"**"["$==="](i)?this.$raise(u(Z,"TypeError"),""+r.$class()+" can't be coerced into Numeric"):">"["$==="](i)||">="["$==="](i)||"<"["$==="](i)||"<="["$==="](i)||"<=>"["$==="](i)?this.$raise(u(Z,"ArgumentError"),"comparison of "+this.$class()+" with "+r.$class()+" failed"):o)},p.$$arity=2),t.def($,"$<=>",y=function(t){return c(this["$equal?"](t))?0:o},y.$$arity=1),t.def($,"$+@",m=function(){return this},m.$$arity=0),t.def($,"$-@",g=function(){return e(0,this)},g.$$arity=0),t.def($,"$%",v=function(t){return e(this,r(t,this.$div(t)))},v.$$arity=1),t.def($,"$abs",b=function(){return n(this,0)?this["$-@"]():this},b.$$arity=0),t.def($,"$abs2",w=function(){return r(this,this)},w.$$arity=0),t.def($,"$angle",E=function(){return n(this,0)?s(u(Z,"Math"),"PI"):0},E.$$arity=0),t.alias($,"arg","angle"),t.def($,"$ceil",k=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},k.$$arity=-1),t.def($,"$conj",x=function(){return this},x.$$arity=0),t.alias($,"conjugate","conj"),t.def($,"$denominator",A=function(){return this.$to_r().$denominator()},A.$$arity=0),t.def($,"$div",O=function(t){return t["$=="](0)&&this.$raise(u(Z,"ZeroDivisionError"),"divided by o"),i(this,t).$floor()},O.$$arity=1),t.def($,"$divmod",S=function(t){return[this.$div(t),this["$%"](t)]},S.$$arity=1),t.def($,"$fdiv",R=function(t){return i(this.$to_f(),t)},R.$$arity=1),t.def($,"$floor",I=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},I.$$arity=-1),t.def($,"$i",T=function(){return this.$Complex(0,this)},T.$$arity=0),t.def($,"$imag",M=function(){return 0},M.$$arity=0),t.alias($,"imaginary","imag"),t.def($,"$integer?",C=function(){return!1},C.$$arity=0),t.alias($,"magnitude","abs"),t.alias($,"modulo","%"),t.def($,"$nonzero?",N=function(){return c(this["$zero?"]())?o:this},N.$$arity=0),t.def($,"$numerator",z=function(){return this.$to_r().$numerator()},z.$$arity=0),t.alias($,"phase","arg"),t.def($,"$polar",B=function(){return[this.$abs(),this.$arg()]},B.$$arity=0),t.def($,"$quo",D=function(t){return i(u(Z,"Opal")["$coerce_to!"](this,u(Z,"Rational"),"to_r"),t)},D.$$arity=1),t.def($,"$real",F=function(){return this},F.$$arity=0),t.def($,"$real?",L=function(){return!0},L.$$arity=0),t.def($,"$rect",P=function(){return[this,0]},P.$$arity=0),t.alias($,"rectangular","rect"),t.def($,"$round",q=function(t){return this.$to_f().$round(t)},q.$$arity=-1),t.def($,"$to_c",j=function(){return this.$Complex(this,0)},j.$$arity=0),t.def($,"$to_int",U=function(){return this.$to_i()},U.$$arity=0),t.def($,"$truncate",H=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},H.$$arity=-1),t.def($,"$zero?",G=function(){return this["$=="](0)},G.$$arity=0),t.def($,"$positive?",Y=function(){return"number"==typeof this?0<this:this["$>"](0)},Y.$$arity=0),t.def($,"$negative?",W=function(){return n(this,0)},W.$$arity=0),t.def($,"$dup",X=function(){return this},X.$$arity=0),t.def($,"$clone",K=function(e){if(null==e||!e.$$is_hash){if(null!=e)throw t.ArgumentError.$new("expected kwargs");h([],{})}return this},K.$$arity=-1),t.def($,"$finite?",V=function(){return!0},V.$$arity=0),t.def($,"$infinite?",J=function(){return o},J.$$arity=0),o&&"infinite?"}(a[0],null,a)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=t.klass,s=t.truthy,u=t.hash2,l=t.send,c=t.gvars;return t.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" ")),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,n,h){function f(){}function d(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function _(e,r){var n,$,a,o=e.length;return n=r.excl,$=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),a=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),0>$&&($+=o,0>$)||$>o?i:0>a&&(a+=o,0>a)?[]:(n||(a+=1),o=e.slice($,a),d(o,e.$class()))}function p(e,r,n){var $=e.length;return r=t.Opal.$coerce_to(r,t.Integer,"to_int"),0>r&&(r+=$,0>r)?i:void 0===n?r>=$||0>r?i:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"),0>n||r>$||0>r?i:(r=e.slice(r,r+n),d(r,e.$class())))}function y(t,e){return t===e||0===e?1:0<e&&t>e?y(t-1,e-1)+y(t-1,e):0}var m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct,Nt,zt,Bt,Dt,Ft,Lt,Pt,qt,jt,Ut,Ht,Gt,Yt,Wt,Xt,Kt,Vt,Jt,Zt,Qt,te,ee,re,ne=f=o(r,n,"Array",f),ie=ne.$$proto,$e=[ne].concat(h);return ne.$include(a($e,"Enumerable")),ie.$$is_array=!0,t.defs(ne,"$[]",m=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return d(e,this)},m.$$arity=-1),t.def(ne,"$initialize",g=function(t,e){var r=g.$$p,n=r||i;if(null==t&&(t=i),null==e&&(e=i),r&&(g.$$p=null),e!==i&&n!==i&&this.$warn("warning: block supersedes default value argument"),t>$(a($e,"Integer"),"MAX")&&this.$raise(a($e,"ArgumentError"),"array size too big"),2<arguments.length&&this.$raise(a($e,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(t.$$is_array)return this.$replace(t.$to_a()),this;if(t["$respond_to?"]("to_ary"))return this.$replace(t.$to_ary()),this}t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&this.$raise(a($e,"ArgumentError"),"negative array size"),this.splice(0,this.length);var o;if(n===i)for(r=0;r<t;r++)this.push(e);else for(r=0,o;r<t;r++)o=n(r),this[r]=o;return this},g.$$arity=-1),t.defs(ne,"$try_convert",v=function(t){return a($e,"Opal")["$coerce_to?"](t,a($e,"Array"),"to_ary")},v.$$arity=1),t.def(ne,"$&",b=function(e){e=s(a($e,"Array")["$==="](e))?e.$to_a():a($e,"Opal").$coerce_to(e,a($e,"Array"),"to_ary").$to_a();var r,n,i=[],$=u([],{});for(r=0,n=e.length;r<n;r++)t.hash_put($,e[r],!0);for(r=0,n=this.length;r<n;r++)e=this[r],void 0!==t.hash_delete($,e)&&i.push(e);return i},b.$$arity=1),t.def(ne,"$|",w=function(e){e=s(a($e,"Array")["$==="](e))?e.$to_a():a($e,"Opal").$coerce_to(e,a($e,"Array"),"to_ary").$to_a();var r,n,i=u([],{});for(r=0,n=this.length;r<n;r++)t.hash_put(i,this[r],!0);for(r=0,n=e.length;r<n;r++)t.hash_put(i,e[r],!0);return i.$keys()},w.$$arity=1),t.def(ne,"$*",E=function(t){if(s(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),s(0>t)&&this.$raise(a($e,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return d(e,this.$class())},E.$$arity=1),t.def(ne,"$+",k=function(t){return t=s(a($e,"Array")["$==="](t))?t.$to_a():a($e,"Opal").$coerce_to(t,a($e,"Array"),"to_ary").$to_a(),this.concat(t)},k.$$arity=1),t.def(ne,"$-",x=function(e){if(e=s(a($e,"Array")["$==="](e))?e.$to_a():a($e,"Opal").$coerce_to(e,a($e,"Array"),"to_ary").$to_a(),s(0===this.length))return[];if(s(0===e.length))return this.slice();var r,n,i=[],$=u([],{});for(r=0,n=e.length;r<n;r++)t.hash_put($,e[r],!0);for(r=0,n=this.length;r<n;r++)e=this[r],void 0===t.hash_get($,e)&&i.push(e);return i},x.$$arity=1),t.def(ne,"$<<",A=function(t){return this.push(t),this},A.$$arity=1),t.def(ne,"$<=>",O=function(t){
if(s(a($e,"Array")["$==="](t)))t=t.$to_a();else{if(!s(t["$respond_to?"]("to_ary")))return i;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},O.$$arity=1),t.def(ne,"$==",S=function(t){function e(t,n){var i,$,o,s;if(t===n)return!0;if(!n.$$is_array)return!!a($e,"Opal")["$respond_to?"](n,"to_ary")&&n["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),n.constructor!==Array&&(n=n.$to_a()),t.length!==n.length)return!1;for(r[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(o=t[i],s=n[i],o.$$is_array){if(s.$$is_array&&s.length!==o.length||!r.hasOwnProperty(o.$object_id())&&!e(o,s))return!1}else if(!o["$=="](s))return!1;return!0}var r={};return e(this,t)},S.$$arity=1),t.def(ne,"$[]",R=function(t,e){return t.$$is_range?_(this,t):p(this,t,e)},R.$$arity=-2),t.def(ne,"$[]=",I=function(t,e,r){var n,$=i,o=i;if(n=this.length,s(a($e,"Range")["$==="](t))){var $=s(a($e,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e],u=t.excl;if(r=a($e,"Opal").$coerce_to(t.begin,a($e,"Integer"),"to_int"),o=a($e,"Opal").$coerce_to(t.end,a($e,"Integer"),"to_int"),0>r&&(r+=n,0>r&&this.$raise(a($e,"RangeError"),""+t.$inspect()+" out of range")),0>o&&(o+=n),u||(o+=1),r>n)for(;n<r;n++)this[n]=i;0>o?this.splice.apply(this,[r,0].concat($)):this.splice.apply(this,[r,o-r].concat($))}else{if(s(void 0===r)?o=1:(o=e,e=r,$=s(a($e,"Array")["$==="](e))?e.$to_a():s(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),o=a($e,"Opal").$coerce_to(o,a($e,"Integer"),"to_int"),0>t&&(u=t,t+=n,0>t&&this.$raise(a($e,"IndexError"),"index "+u+" too small for array; minimum "+-this.length)),0>o&&this.$raise(a($e,"IndexError"),"negative length ("+o+")"),t>n)for(;n<t;n++)this[n]=i;void 0===r?this[t]=e:this.splice.apply(this,[t,o].concat($))}return e},I.$$arity=-3),t.def(ne,"$any?",T=function(e){var r=T.$$p,n=i,$=i,a=i;for(r&&(T.$$p=null),$=0,a=arguments.length,n=Array(a);$<a;$++)n[$]=arguments[$];return 0!==this.length&&l(this,t.find_super_dispatcher(this,"any?",T,!1),n,r)},T.$$arity=-1),t.def(ne,"$assoc",M=function(t){for(var e,r=0,n=this.length;r<n;r++)if(e=this[r],e.length&&e[0]["$=="](t))return e;return i},M.$$arity=1),t.def(ne,"$at",C=function(t){return t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&(t+=this.length),0>t||t>=this.length?i:this[t]},C.$$arity=1),t.def(ne,"$bsearch_index",N=function(){var e=N.$$p,r=e||i;if(e&&(N.$$p=null),r===i)return this.$enum_for("bsearch_index");for(var n,$,e=0,o=this.length,s=!1,u=i;e<o;){if(n=e+Math.floor((o-e)/2),$=this[n],$=t.yield1(r,$),!0===$)u=n,s=!0;else if(!1===$||$===i)s=!1;else if($.$$is_number){if(0===$)return n;s=0>$}else this.$raise(a($e,"TypeError"),"wrong argument type "+$.$class()+" (must be numeric, true, false or nil)");s?o=n:e=n+1}return u},N.$$arity=0),t.def(ne,"$bsearch",z=function(){var t=z.$$p,e=t||i,r=i;return t&&(z.$$p=null),e===i?this.$enum_for("bsearch"):(r=l(this,"bsearch_index",[],e.$to_proc()),null!=r&&r.$$is_number?this[r]:r)},z.$$arity=0),t.def(ne,"$cycle",B=function(r){var n,o,u=B.$$p,c=u||i;if(null==r&&(r=i),u&&(B.$$p=null),c===i)return l(this,"enum_for",["cycle",r],(n=function(){var t=n.$$s||this;return s(r["$nil?"]())?$(a($e,"Float"),"INFINITY"):(r=a($e,"Opal")["$coerce_to!"](r,a($e,"Integer"),"to_int"),s(e(r,0))?(t=t.$enumerator_size(),"number"==typeof t&&"number"==typeof r?t*r:t["$*"](r)):0)},n.$$s=this,n.$$arity=0,n));if(s(s(o=this["$empty?"]())?o:r["$=="](0)))return i;if(r===i)for(;;)for(o=0,u=this.length;o<u;o++)t.yield1(c,this[o]);else{if(r=a($e,"Opal")["$coerce_to!"](r,a($e,"Integer"),"to_int"),0>=r)return this;for(;0<r;){for(o=0,u=this.length;o<u;o++)t.yield1(c,this[o]);r--}}return this},B.$$arity=-1),t.def(ne,"$clear",D=function(){return this.splice(0,this.length),this},D.$$arity=0),t.def(ne,"$count",F=function(e){var r,n=F.$$p,$=n||i,a=i,o=i,u=i;for(null==e&&(e=i),n&&(F.$$p=null),o=0,u=arguments.length,a=Array(u);o<u;o++)a[o]=arguments[o];return s(s(r=e)?r:$)?l(this,t.find_super_dispatcher(this,"count",F,!1),a,n):this.$size()},F.$$arity=-1),t.def(ne,"$initialize_copy",L=function(t){return this.$replace(t)},L.$$arity=1),t.def(ne,"$collect",P=function(){var e,r=P.$$p,n=r||i;if(r&&(P.$$p=null),n===i)return l(this,"enum_for",["collect"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var r=[],$=0,a=this.length;$<a;$++){var o=t.yield1(n,this[$]);r.push(o)}return r},P.$$arity=0),t.def(ne,"$collect!",q=function(){var e,r=q.$$p,n=r||i;if(r&&(q.$$p=null),n===i)return l(this,"enum_for",["collect!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var r=0,$=this.length;r<$;r++){var a=t.yield1(n,this[r]);this[r]=a}return this},q.$$arity=0),t.def(ne,"$combination",j=function(e){var r,n=j.$$p,$=n||i,o=i;if(n&&(j.$$p=null),o=a($e,"Opal")["$coerce_to!"](e,a($e,"Integer"),"to_int"),$===i)return l(this,"enum_for",["combination",o],(r=function(){return y((r.$$s||this).length,o)},r.$$s=this,r.$$arity=0,r));var s,u;if(0===o)t.yield1($,[]);else if(1===o)for(n=0,e=this.length;n<e;n++)t.yield1($,[this[n]]);else if(o===this.length)t.yield1($,this.slice());else if(0<=o&&o<this.length){for(e=[],n=0;n<=o+1;n++)e.push(0);for(n=[],s=0,u=!1,e[0]=-1;!u;){for(n[s]=this[e[s+1]];s<o-1;)s++,u=e[s+1]=e[s]+1,n[s]=this[u];t.yield1($,n.slice()),s++;do u=0===s,e[s]++,s--;while(e[s+1]+o===this.length+s+1)}}return this},j.$$arity=1),t.def(ne,"$repeated_combination",U=function(e){function r(e,n,i,$){if(i.length==e)e=i.slice(),t.yield1(o,e);else for(;n<$.length;n++)i.push($[n]),r(e,n,i,$),i.pop()}var n,$=U.$$p,o=$||i,s=i;return $&&(U.$$p=null),s=a($e,"Opal")["$coerce_to!"](e,a($e,"Integer"),"to_int"),o===i?l(this,"enum_for",["repeated_combination",s],(n=function(){return y((n.$$s||this).length+s-1,s)},n.$$s=this,n.$$arity=0,n)):(0<=s&&r(s,0,[],this),this)},U.$$arity=1),t.def(ne,"$compact",H=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==i&&e.push(t);return e},H.$$arity=0),t.def(ne,"$compact!",G=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===i&&(this.splice(e,1),r--,e--);return this.length===t?i:this},G.$$arity=0),t.def(ne,"$concat",Y=function(t){var e,r,n,$=arguments.length;n=$-0,0>n&&(n=0),n=Array(n);for(var o=0;o<$;o++)n[o-0]=arguments[o];return n=l(n,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),t=s(a($e,"Array")["$==="](t))?t.$to_a():a($e,"Opal").$coerce_to(t,a($e,"Array"),"to_ary").$to_a(),s(t["$equal?"](r))&&(t=t.$dup()),t},e.$$s=this,e.$$arity=1,e)),l(n,"each",[],(r=function(t){var e=r.$$s||this;null==t&&(t=i);for(var n=0,$=t.length;n<$;n++)e.push(t[n])},r.$$s=this,r.$$arity=1,r)),this},Y.$$arity=-1),t.def(ne,"$delete",W=function(e){var r=W.$$p,n=r||i;r&&(W.$$p=null);for(var r=this.length,$=0,a=r;$<a;$++)this[$]["$=="](e)&&(this.splice($,1),a--,$--);return this.length===r?n!==i?t.yieldX(n,[]):i:e},W.$$arity=1),t.def(ne,"$delete_at",X=function(t){if(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&(t+=this.length),0>t||t>=this.length)return i;var e=this[t];return this.splice(t,1),e},X.$$arity=1),t.def(ne,"$delete_if",K=function(){var t,e=K.$$p,r=e||i;if(e&&(K.$$p=null),r===i)return l(this,"enum_for",["delete_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t));for(var n,e=0,$=this.length;e<$;e++)n=r(this[e]),!1!==n&&n!==i&&(this.splice(e,1),$--,e--);return this},K.$$arity=0),t.def(ne,"$dig",V=function(e,r){var n,$=i,$=arguments.length;n=$-1,0>n&&(n=0),n=Array(n);for(var o=1;o<$;o++)n[o-1]=arguments[o];return $=this["$[]"](e),$===i||0===n.length?$:(s($["$respond_to?"]("dig"))||this.$raise(a($e,"TypeError"),""+$.$class()+" does not have #dig method"),l($,"dig",t.to_a(n)))},V.$$arity=-2),t.def(ne,"$drop",J=function(t){return 0>t&&this.$raise(a($e,"ArgumentError")),this.slice(t)},J.$$arity=1),t.def(ne,"$dup",Z=function(){var e=Z.$$p,r=i,n=i,$=i;for(e&&(Z.$$p=null),n=0,$=arguments.length,r=Array($);n<$;n++)r[n]=arguments[n];return this.$$class===t.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):l(this,t.find_super_dispatcher(this,"dup",Z,!1),r,e)},Z.$$arity=0),t.def(ne,"$each",Q=function(){var e,r=Q.$$p,n=r||i;if(r&&(Q.$$p=null),n===i)return l(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var r=0,$=this.length;r<$;r++)t.yield1(n,this[r]);return this},Q.$$arity=0),t.def(ne,"$each_index",tt=function(){var e,r=tt.$$p,n=r||i;if(r&&(tt.$$p=null),n===i)return l(this,"enum_for",["each_index"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var r=0,$=this.length;r<$;r++)t.yield1(n,r);return this},tt.$$arity=0),t.def(ne,"$empty?",et=function(){return 0===this.length},et.$$arity=0),t.def(ne,"$eql?",rt=function(t){function e(t,n){var i,$,a,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),t.length!==n.length)return!1;for(r[t.$object_id()]=!0,i=0,$=t.length;i<$;i++)if(a=t[i],o=n[i],a.$$is_array){if(o.$$is_array&&o.length!==a.length||!r.hasOwnProperty(a.$object_id())&&!e(a,o))return!1}else if(!a["$eql?"](o))return!1;return!0}var r={};return e(this,t)},rt.$$arity=1),t.def(ne,"$fetch",nt=function(t,e){var r=nt.$$p,n=r||i;return r&&(nt.$$p=null),r=t,t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&(t+=this.length),0<=t&&t<this.length?this[t]:(n!==i&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==i?n(r):null!=e?e:void(0===this.length?this.$raise(a($e,"IndexError"),"index "+r+" outside of array bounds: 0...0"):this.$raise(a($e,"IndexError"),"index "+r+" outside of array bounds: -"+this.length+"..."+this.length)))},nt.$$arity=-2),t.def(ne,"$fill",it=function(e){var r,n,$=(n=it.$$p)||i,o=i,u=i,l=i,u=r=i,o=arguments.length;for(r=o-0,0>r&&(r=0),r=Array(r),u=0;u<o;u++)r[u-0]=arguments[u];if(n&&(it.$$p=null),s($)?(s(2<r.length)&&this.$raise(a($e,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),n=r,r=t.to_ary(n),o=null==r[0]?i:r[0],u=null==r[1]?i:r[1]):(s(0==r.length)?this.$raise(a($e,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):s(3<r.length)&&this.$raise(a($e,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),n=r,r=t.to_ary(n),l=null==r[0]?i:r[0],o=null==r[1]?i:r[1],u=null==r[2]?i:r[2]),s(a($e,"Range")["$==="](o))){if(s(u)&&this.$raise(a($e,"TypeError"),"length invalid with range"),r=a($e,"Opal").$coerce_to(o.$begin(),a($e,"Integer"),"to_int"),s(0>r)&&(r+=this.length),s(0>r)&&this.$raise(a($e,"RangeError"),""+o.$inspect()+" out of range"),u=a($e,"Opal").$coerce_to(o.$end(),a($e,"Integer"),"to_int"),s(0>u)&&(u+=this.length),s(o["$exclude_end?"]())||(u+=1),s(u<=r))return this}else if(s(o))if(r=a($e,"Opal").$coerce_to(o,a($e,"Integer"),"to_int"),s(0>r)&&(r+=this.length),s(0>r)&&(r=0),s(u)){if(u=a($e,"Opal").$coerce_to(u,a($e,"Integer"),"to_int"),s(0==u))return this;u+=r}else u=this.length;else r=0,u=this.length;if(s(r>this.length))for(n=this.length;n<u;n++)this[n]=i;if(s(u>this.length)&&(this.length=u),s($))for(;r<u;r++)l=$(r),this[r]=l;else for(;r<u;r++)this[r]=l;return this},it.$$arity=-1),t.def(ne,"$first",$t=function(t){return null==t?0===this.length?i:this[0]:(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&this.$raise(a($e,"ArgumentError"),"negative array size"),this.slice(0,t))},$t.$$arity=-1),t.def(ne,"$flatten",at=function(t){function e(t,n){var $,o,s,u,l=[];for(t=t.$to_a(),$=0,o=t.length;$<o;$++)if(s=t[$],a($e,"Opal")["$respond_to?"](s,"to_ary",!0))if(u=s.$to_ary(),u===i)l.push(s);else switch(u.$$is_array||r.$raise(a($e,"TypeError")),u===r&&r.$raise(a($e,"ArgumentError")),n){case void 0:l=l.concat(e(u));break;case 0:l.push(u);break;default:l.push.apply(l,e(u,n-1))}else l.push(s);return l}var r=this;return void 0!==t&&(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int")),d(e(r,t),r.$class())},at.$$arity=-1),t.def(ne,"$flatten!",ot=function(t){if(t=this.$flatten(t),this.length==t.length){for(var e=0,r=this.length;e<r&&this[e]===t[e];e++);if(e==r)return i}return this.$replace(t),this},ot.$$arity=-1),t.def(ne,"$hash",st=function(){var e,r,n,i=void 0===t.hash_ids,$=["A"],a=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[a])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],this["$eql?"](e))return"self";for(t.hash_ids[a]=this,r=0;r<this.length;r++)e=this[r],$.push(e.$hash());return $.join(",")}finally{i&&(t.hash_ids=void 0)}},st.$$arity=0),t.def(ne,"$include?",ut=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},ut.$$arity=1),t.def(ne,"$index",lt=function(t){var e=lt.$$p,r=e||i;e&&(lt.$$p=null);var n;if(null!=t&&r!==i&&this.$warn("warning: given block not used"),null!=t){for(e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return e}else{if(r===i)return this.$enum_for("index");for(e=0,n=this.length;e<n;e++)if(t=r(this[e]),!1!==t&&t!==i)return e}return i},lt.$$arity=-1),t.def(ne,"$insert",ct=function(t,e){var r,n=arguments.length;r=n-1,0>r&&(r=0),r=Array(r);for(var $=1;$<n;$++)r[$-1]=arguments[$];if(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0<r.length){if(0>t&&(t+=this.length+1,0>t&&this.$raise(a($e,"IndexError"),""+t+" is out of bounds")),t>this.length)for(n=this.length;n<t;n++)this.push(i);this.splice.apply(this,[t,0].concat(r))}return this},ct.$$arity=-2),t.def(ne,"$inspect",ht=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},ht.$$arity=0),t.def(ne,"$join",ft=function(e){if(null==c[","]&&(c[","]=i),null==e&&(e=i),s(0===this.length))return"";s(e===i)&&(e=c[","]);var r,n,$,o,u=[];for(r=0,n=this.length;r<n;r++)$=this[r],a($e,"Opal")["$respond_to?"]($,"to_str")&&(o=$.$to_str(),o!==i)?u.push(o.$to_s()):a($e,"Opal")["$respond_to?"]($,"to_ary")&&(o=$.$to_ary(),o===this&&this.$raise(a($e,"ArgumentError")),o!==i)?u.push(o.$join(e)):a($e,"Opal")["$respond_to?"]($,"to_s")&&(o=$.$to_s(),o!==i)?u.push(o):this.$raise(a($e,"NoMethodError").$new(""+t.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?u.join(""):u.join(a($e,"Opal")["$coerce_to!"](e,a($e,"String"),"to_str").$to_s())},ft.$$arity=-1),t.def(ne,"$keep_if",dt=function(){var t,e=dt.$$p,r=e||i;if(e&&(dt.$$p=null),r===i)return l(this,"enum_for",["keep_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t));for(var n,e=0,$=this.length;e<$;e++)n=r(this[e]),(!1===n||n===i)&&(this.splice(e,1),$--,e--);return this},dt.$$arity=0),t.def(ne,"$last",_t=function(t){return null==t?0===this.length?i:this[this.length-1]:(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>t&&this.$raise(a($e,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},_t.$$arity=-1),t.def(ne,"$length",pt=function(){return this.length},pt.$$arity=0),t.alias(ne,"map","collect"),t.alias(ne,"map!","collect!"),t.def(ne,"$max",yt=function(t){var e=yt.$$p,r=e||i;return e&&(yt.$$p=null),l(this.$each(),"max",[t],r.$to_proc())},yt.$$arity=-1),t.def(ne,"$min",mt=function(){var t=mt.$$p,e=t||i;return t&&(mt.$$p=null),l(this.$each(),"min",[],e.$to_proc())},mt.$$arity=0),t.def(ne,"$permutation",gt=function(e){var r,n=this,$=gt.$$p,o=$||i,s=i,u=i;if($&&(gt.$$p=null),o===i)return l(n,"enum_for",["permutation",e],(r=function(){for(var t=r.$$s||this,n=t.length,t=void 0===e?t.length:e,i=0<=t?1:0;t;)i*=n,n--,t--;return i},r.$$s=n,r.$$arity=0,r));var c,h;if(e=void 0===e?n.length:a($e,"Opal").$coerce_to(e,a($e,"Integer"),"to_int"),!(0>e||n.length<e))if(0===e)t.yield1(o,[]);else if(1===e)for(s=0;s<n.length;s++)t.yield1(o,[n[s]]);else s=a($e,"Array").$new(e),u=a($e,"Array").$new(n.length,!1),c=function(e,r,i,$,a){n=this;for(var o=0;o<n.length;o++)if($["$[]"](o)["$!"]())if(r[i]=o,i<e-1)$[o]=!0,c.call(n,e,r,i+1,$,a),$[o]=!1;else{h=[];for(var s=0;s<r.length;s++)h.push(n[r[s]]);t.yield1(a,h)}},o!==i?($=n.slice(),c.call($,e,s,0,u,o)):c.call(n,e,s,0,u,o);return n},gt.$$arity=-1),t.def(ne,"$repeated_permutation",vt=function(e){function r(e,n,i){if(n.length==e)e=n.slice(),t.yield1(o,e);else for(var $=0;$<i.length;$++)n.push(i[$]),r(e,n,i),n.pop()}var n,$=vt.$$p,o=$||i,u=i;return $&&(vt.$$p=null),u=a($e,"Opal")["$coerce_to!"](e,a($e,"Integer"),"to_int"),o===i?l(this,"enum_for",["repeated_permutation",u],(n=function(){var t=n.$$s||this;return s("number"==typeof u?0<=u:u["$>="](0))?t.$size()["$**"](u):0},n.$$s=this,n.$$arity=0,n)):(r(u,[],this.slice()),this)},vt.$$arity=1),t.def(ne,"$pop",bt=function(t){return s(void 0===t)?s(0===this.length)?i:this.pop():(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),s(0>t)&&this.$raise(a($e,"ArgumentError"),"negative array size"),s(0===this.length)?[]:s(t>this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length))},bt.$$arity=-1),t.def(ne,"$product",wt=function(e){var r,n=wt.$$p,$=n||i,o=arguments.length;r=o-0,0>r&&(r=0),r=Array(r);for(var s=0;s<o;s++)r[s-0]=arguments[s];n&&(wt.$$p=null);var u,n=$!==i?null:[],o=r.length+1,s=Array(o),l=Array(o),c=Array(o),h=1;for(c[0]=this,u=1;u<o;u++)c[u]=a($e,"Opal").$coerce_to(r[u-1],a($e,"Array"),"to_ary");for(u=0;u<o;u++){if(r=c[u].length,0===r)return n||this;h*=r,2147483647<h&&this.$raise(a($e,"RangeError"),"too big to product"),l[u]=r,s[u]=0}t:for(;;){for(r=[],u=0;u<o;u++)r.push(c[u][s[u]]);for(n?n.push(r):t.yield1($,r),r=o-1,s[r]++;s[r]===l[r];){if(s[r]=0,0>--r)break t;s[r]++}}return n||this},wt.$$arity=-1),t.def(ne,"$push",Et=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=0,n=e.length;r<n;r++)this.push(e[r]);return this},Et.$$arity=-1),t.alias(ne,"append","push"),t.def(ne,"$rassoc",kt=function(t){for(var e,r=0,n=this.length;r<n;r++)if(e=this[r],e.length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},kt.$$arity=1),t.def(ne,"$reject",xt=function(){var t,e=xt.$$p,r=e||i;if(e&&(xt.$$p=null),r===i)return l(this,"enum_for",["reject"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t));for(var n,e=[],$=0,a=this.length;$<a;$++)n=r(this[$]),!1!==n&&n!==i||e.push(this[$]);return e},xt.$$arity=0),t.def(ne,"$reject!",At=function(){var t,e=At.$$p,r=e||i,n=i;return e&&(At.$$p=null),r===i?l(this,"enum_for",["reject!"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t)):(n=this.$length(),l(this,"delete_if",[],r.$to_proc()),this.$length()["$=="](n)?i:this)},At.$$arity=0),t.def(ne,"$replace",Ot=function(t){return t=s(a($e,"Array")["$==="](t))?t.$to_a():a($e,"Opal").$coerce_to(t,a($e,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},Ot.$$arity=1),t.def(ne,"$reverse",St=function(){return this.slice(0).reverse()},St.$$arity=0),t.def(ne,"$reverse!",Rt=function(){return this.reverse()},Rt.$$arity=0),t.def(ne,"$reverse_each",It=function(){var t,e=It.$$p,r=e||i;return e&&(It.$$p=null),r===i?l(this,"enum_for",["reverse_each"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t)):(l(this.$reverse(),"each",[],r.$to_proc()),this)},It.$$arity=0),t.def(ne,"$rindex",Tt=function(t){var e=Tt.$$p,r=e||i;if(e&&(Tt.$$p=null),null!=t&&r!==i&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(r!==i){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(t=r(this[e]),!1!==t&&t!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},Tt.$$arity=-1),t.def(ne,"$rotate",Mt=function(t){null==t&&(t=1),t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int");var e,r;return 1===this.length?this.slice():0===this.length?[]:(e=this.slice(),r=t%e.length,t=e.slice(r),e=e.slice(0,r),t.concat(e))},Mt.$$arity=-1),t.def(ne,"$rotate!",Ct=function(t){var e=i;return null==t&&(t=1),0===this.length||1===this.length?this:(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},Ct.$$arity=-1),function(e,r,n){function $(){}e=$=o(e,r,"SampleRandom",$);var u,l,c=e.$$proto,h=[e].concat(n);return c.rng=i,t.def(e,"$initialize",u=function(t){return this.rng=t},u.$$arity=1),t.def(e,"$rand",l=function(t){var e=i,e=a(h,"Opal").$coerce_to(this.rng.$rand(t),a(h,"Integer"),"to_int");return s(0>e)&&this.$raise(a(h,"RangeError"),"random value must be >= 0"),s(e<t)||this.$raise(a(h,"RangeError"),"random value must be less than Array size"),e},l.$$arity=1),i&&"rand"}($e[0],null,$e),t.def(ne,"$sample",Nt=function(t,e){var r,n=i,$=i;if(s(void 0===t))return this.$at(a($e,"Kernel").$rand(this.length));if(s(void 0===e)?s(n=a($e,"Opal")["$coerce_to?"](t,a($e,"Hash"),"to_hash"))?(e=n,t=i):(e=i,t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int")):(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),e=a($e,"Opal").$coerce_to(e,a($e,"Hash"),"to_hash")),s(s(r=t)?0>t:r)&&this.$raise(a($e,"ArgumentError"),"count must be greater than 0"),s(e)&&($=e["$[]"]("random")),$=s(s(r=$)?$["$respond_to?"]("rand"):r)?a($e,"SampleRandom").$new($):a($e,"Kernel"),!s(t))return this[$.$rand(this.length)];var o,u,l,c;switch(t>this.length&&(t=this.length),t){case 0:return[];case 1:return[this[$.$rand(this.length)]];case 2:return u=$.$rand(this.length),l=$.$rand(this.length),u===l&&(l=0===u?u+1:u-1),[this[u],this[l]];default:if(3<this.length/t){for(n=!1,o=0,r=a($e,"Array").$new(t),u=1,r[0]=$.$rand(this.length);u<t;){for(c=$.$rand(this.length),l=0;l<u;){for(;c===r[l];){if(o++,100<o){n=!0;break}c=$.$rand(this.length)}if(n)break;l++}if(n)break;r[u]=c,u++}if(!n){for(u=0;u<t;)r[u]=this[r[u]],u++;return r}}for(r=this.slice(),u=0;u<t;u++)n=$.$rand(this.length),o=r[u],r[u]=r[n],r[n]=o;return t===this.length?r:r["$[]"](0,t)}},Nt.$$arity=-1),t.def(ne,"$select",zt=function(){var e,r=zt.$$p,n=r||i;if(r&&(zt.$$p=null),n===i)return l(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=[],o=0,s=this.length;o<s;o++)$=this[o],a=t.yield1(n,$),!1!==a&&a!==i&&r.push($);return r},zt.$$arity=0),t.def(ne,"$select!",Bt=function(){var t,e=Bt.$$p,r=e||i;return e&&(Bt.$$p=null),r===i?l(this,"enum_for",["select!"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t)):(e=this.length,l(this,"keep_if",[],r.$to_proc()),this.length===e?i:this)},Bt.$$arity=0),t.def(ne,"$shift",Dt=function(t){return s(void 0===t)?s(0===this.length)?i:this.shift():(t=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),s(0>t)&&this.$raise(a($e,"ArgumentError"),"negative array size"),s(0===this.length)?[]:this.splice(0,t))},Dt.$$arity=-1),t.alias(ne,"size","length"),t.def(ne,"$shuffle",Ft=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Ft.$$arity=-1),t.def(ne,"$shuffle!",Lt=function(t){var e,r,n=this.length;for(void 0!==t&&(t=a($e,"Opal")["$coerce_to?"](t,a($e,"Hash"),"to_hash"),t!==i&&(t=t["$[]"]("random"),t!==i&&t["$respond_to?"]("rand")&&(e=t)));n;)e?(t=e.$rand(n).$to_int(),0>t&&this.$raise(a($e,"RangeError"),"random number too small "+t),t>=n&&this.$raise(a($e,"RangeError"),"random number too big "+t)):t=this.$rand(n),r=this[--n],this[n]=this[t],this[t]=r;return this},Lt.$$arity=-1),t.alias(ne,"slice","[]"),t.def(ne,"$slice!",Pt=function(t,e){var r=i,n=i,$=i,o=i,n=i;if(s(void 0===e))if(s(a($e,"Range")["$==="](t))){n=t,r=this["$[]"](n),$=a($e,"Opal").$coerce_to(n.$begin(),a($e,"Integer"),"to_int"),o=a($e,"Opal").$coerce_to(n.$end(),a($e,"Integer"),"to_int"),0>$&&($+=this.length),0>o?o+=this.length:o>=this.length&&(o=this.length-1,n.excl&&(o+=1));var u=o-$;n.excl?--o:u+=1,$<this.length&&0<=$&&o<this.length&&0<=o&&0<u&&this.splice($,u)}else{if(n=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),0>n&&(n+=this.length),0>n||n>=this.length)return i;r=this[n],0===n?this.shift():this.splice(n,1)}else{if(n=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),e=a($e,"Opal").$coerce_to(e,a($e,"Integer"),"to_int"),0>e)return i;r=this["$[]"](n,e),0>n&&(n+=this.length),n+e>this.length&&(e=this.length-n),n<this.length&&0<=n&&this.splice(n,e)}return r},Pt.$$arity=-2),t.def(ne,"$sort",qt=function(){var t=this,r=qt.$$p,n=r||i;return r&&(qt.$$p=null),s(1<t.length)?(n===i&&(n=function(t,e){return t["$<=>"](e)}),t.slice().sort(function(r,$){var o=n(r,$);return o===i&&t.$raise(a($e,"ArgumentError"),"comparison of "+r.$inspect()+" with "+$.$inspect()+" failed"),e(o,0)?1:("number"==typeof o?0>o:o["$<"](0))?-1:0})):t},qt.$$arity=0),t.def(ne,"$sort!",jt=function(){var t=jt.$$p,e=t||i;t&&(jt.$$p=null);for(var t=e!==i?l(this.slice(),"sort",[],e.$to_proc()):this.slice().$sort(),e=this.length=0,r=t.length;e<r;e++)this.push(t[e]);return this},jt.$$arity=0),t.def(ne,"$sort_by!",Ut=function(){var t,e=Ut.$$p,r=e||i;return e&&(Ut.$$p=null),r===i?l(this,"enum_for",["sort_by!"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t)):this.$replace(l(this,"sort_by",[],r.$to_proc()))},Ut.$$arity=0),t.def(ne,"$take",Ht=function(t){return 0>t&&this.$raise(a($e,"ArgumentError")),this.slice(0,t)},Ht.$$arity=1),t.def(ne,"$take_while",Gt=function(){var t=Gt.$$p,e=t||i;t&&(Gt.$$p=null);for(var r,n,t=[],$=0,a=this.length;$<a&&(r=this[$],n=e(r),!1!==n&&n!==i);$++)t.push(r);return t},Gt.$$arity=0),t.def(ne,"$to_a",Yt=function(){return this},Yt.$$arity=0),t.alias(ne,"to_ary","to_a"),t.def(ne,"$to_h",Wt=function(){var e,r,n,i=this.length,$=u([],{});for(e=0;e<i;e++)r=a($e,"Opal")["$coerce_to?"](this[e],a($e,"Array"),"to_ary"),r.$$is_array||this.$raise(a($e,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&this.$raise(a($e,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],r=r[1],t.hash_put($,n,r);return $},Wt.$$arity=0),t.alias(ne,"to_s","inspect"),t.def(ne,"$transpose",Xt=function(){var e,r=i,n=i;return s(this["$empty?"]())?[]:(r=[],n=i,l(this,"each",[],(e=function($){var o,u,c=e.$$s||this;return null==$&&($=i),$=s(a($e,"Array")["$==="]($))?$.$to_a():a($e,"Opal").$coerce_to($,a($e,"Array"),"to_ary").$to_a(),n=s(o=n)?o:$.length,s($.length["$!="](n))&&c.$raise(a($e,"IndexError"),"element size differs ("+$.length+" should be "+n+")"),l($.length,"times",[],(u=function(e){var n,a=i;return null==e&&(e=i),s(n=r["$[]"](e))||(a=[e,[]],l(r,"[]=",t.to_a(a)),n=a,a=a.length,a="number"==typeof a?a-1:a["$-"](1),n=n[a]),n["$<<"]($.$at(e))},u.$$s=c,u.$$arity=1,u))},e.$$s=this,e.$$arity=1,e)),r)},Xt.$$arity=0),t.def(ne,"$uniq",Kt=function(){var e=Kt.$$p,r=e||i;e&&(Kt.$$p=null);var n,$,a,o,e=u([],{});if(r===i)for(n=0,$=this.length;n<$;n++)a=this[n],void 0===t.hash_get(e,a)&&t.hash_put(e,a,a);else for(n=0,$=this.length;n<$;n++)a=this[n],o=t.yield1(r,a),void 0===t.hash_get(e,o)&&t.hash_put(e,o,a);return d(e.$values(),this.$class())},Kt.$$arity=0),t.def(ne,"$uniq!",Vt=function(){var e=Vt.$$p,r=e||i;e&&(Vt.$$p=null);var n,$,a,o,e=this.length,s=u([],{});for(n=0,$=e;n<$;n++)a=this[n],o=r===i?a:t.yield1(r,a),void 0===t.hash_get(s,o)?t.hash_put(s,o,a):(this.splice(n,1),$--,n--);return this.length===e?i:this},Vt.$$arity=0),t.def(ne,"$unshift",Jt=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];for(r=e.length-1;0<=r;r--)this.unshift(e[r]);return this},Jt.$$arity=-1),t.alias(ne,"prepend","unshift"),t.def(ne,"$values_at",Zt=function(t){var e,r,n=i,$=arguments.length;r=$-0,0>r&&(r=0),r=Array(r);for(var o=0;o<$;o++)r[o-0]=arguments[o];return n=[],l(r,"each",[],(e=function(t){var r,$=e.$$s||this,o=i,u=i,o=i;return null==t&&(t=i),s(t["$is_a?"](a($e,"Range")))?(o=a($e,"Opal").$coerce_to(t.$last(),a($e,"Integer"),"to_int"),u=a($e,"Opal").$coerce_to(t.$first(),a($e,"Integer"),"to_int"),0>u?(u+=$.length,i):(0>o&&(o+=$.length),t["$exclude_end?"]()&&o--,o<u?i:l(u,"upto",[o],(r=function(t){var e=r.$$s||this;return null==t&&(t=i),n["$<<"](e.$at(t))},r.$$s=$,r.$$arity=1,r)))):(o=a($e,"Opal").$coerce_to(t,a($e,"Integer"),"to_int"),n["$<<"]($.$at(o)))},e.$$s=this,e.$$arity=1,e)),n},Zt.$$arity=-1),t.def(ne,"$zip",Qt=function(t){var e,r,n=Qt.$$p,$=n||i,o=arguments.length;r=o-0,0>r&&(r=0),r=Array(r);for(var u=0;u<o;u++)r[u-0]=arguments[u];n&&(Qt.$$p=null);var l,c,h,n=[],o=this.length;for(c=0,h=r.length;c<h;c++)u=r[c],u.$$is_array||(u.$$is_enumerator?1/0===u.$size()?r[c]=u.$take(o):r[c]=u.$to_a():r[c]=(s(e=a($e,"Opal")["$coerce_to?"](u,a($e,"Array"),"to_ary"))?e:a($e,"Opal")["$coerce_to!"](u,a($e,"Enumerator"),"each")).$to_a());for(l=0;l<o;l++){for(e=[this[l]],c=0,h=r.length;c<h;c++)u=r[c][l],null==u&&(u=i),e[c+1]=u;n[l]=e}if($!==i){for(l=0;l<o;l++)$(n[l]);return i}return n},Qt.$$arity=-1),t.defs(ne,"$inherited",te=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},te.$$arity=1),t.def(ne,"$instance_variables",ee=function(){var e,r=ee.$$p,n=i,$=i,a=i;for(r&&(ee.$$p=null),$=0,a=arguments.length,n=Array(a);$<a;$++)n[$]=arguments[$];return l(l(this,t.find_super_dispatcher(this,"instance_variables",ee,!1),n,r),"reject",[],(e=function t(e){var t;return null==e&&(e=i),s(t=/^@\d+$/.test(e))?t:e["$=="]("@length")},e.$$s=this,e.$$arity=1,e))},ee.$$arity=0),a($e,"Opal").$pristine(ne.$singleton_class(),"allocate"),a($e,"Opal").$pristine(ne,"copy_instance_variables","initialize_dup"),t.def(ne,"$pack",re=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},re.$$arity=-1),i&&"pack"}(n[0],Array,n)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_relative,a=t.klass,o=t.send,s=t.hash2,u=t.truthy;return t.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" ")),r.$require("corelib/enumerable"),function(r,n,l){function c(){}r=c=a(r,n,"Hash",c);var h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt=r.$$proto,bt=[r].concat(l);r.$include($(bt,"Enumerable")),vt.$$is_hash=!0,t.defs(r,"$[]",h=function t(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var a=0;a<n;a++)r[a-0]=arguments[a];var t,a=r.length;if(1===a){if(n=$(bt,"Opal")["$coerce_to?"](r["$[]"](0),$(bt,"Hash"),"to_hash"),n!==i)return this.$allocate()["$merge!"](n);for(r=$(bt,"Opal")["$coerce_to?"](r["$[]"](0),$(bt,"Array"),"to_ary"),r===i&&this.$raise($(bt,"ArgumentError"),"odd number of arguments for Hash"),a=r.length,n=this.$allocate(),t=0;t<a;t++)if(r[t].$$is_array)switch(r[t].length){case 1:n.$store(r[t][0],i);break;case 2:n.$store(r[t][0],r[t][1]);break;default:this.$raise($(bt,"ArgumentError"),"invalid number of elements ("+r[t].length+" for 1..2)")}return n}for(0!==a%2&&this.$raise($(bt,"ArgumentError"),"odd number of arguments for Hash"),n=this.$allocate(),t=0;t<a;t+=2)n.$store(r[t],r[t+1]);return n},h.$$arity=-1),t.defs(r,"$allocate",f=function(){var e=new this.$$alloc;return t.hash_init(e),e.$$none=i,e.$$proc=i,e},f.$$arity=0),t.defs(r,"$try_convert",d=function(t){return $(bt,"Opal")["$coerce_to?"](t,$(bt,"Hash"),"to_hash")},d.$$arity=1),t.def(r,"$initialize",_=function(t){var e=_.$$p,r=e||i;return e&&(_.$$p=null),void 0!==t&&r!==i&&this.$raise($(bt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?i:t,this.$$proc=r,this},_.$$arity=-1),t.def(r,"$==",p=function(e){if(this===e)return!0;if(!e.$$is_hash||this.$$keys.length!==e.$$keys.length)return!1;for(var r,n,i=0,$=this.$$keys,a=$.length;i<a;i++)if(r=$[i],r.$$is_string?(n=this.$$smap[r],r=e.$$smap[r]):(n=r.value,r=t.hash_get(e,r.key)),void 0===r||!n["$eql?"](r))return!1;return!0},p.$$arity=1),t.def(r,"$>=",y=function(t){var e,r=i;return t=$(bt,"Opal")["$coerce_to!"](t,$(bt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,o(t,"each",[],(e=function(t,n){var $=e.$$s||this,a=i;null==t&&(t=i),null==n&&(n=i),a=$.$fetch(t,null),
null!=a&&a===n||(r=!1)},e.$$s=this,e.$$arity=2,e)),r)},y.$$arity=1),t.def(r,"$>",m=function(t){return t=$(bt,"Opal")["$coerce_to!"](t,$(bt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},m.$$arity=1),t.def(r,"$<",g=function(t){return t=$(bt,"Opal")["$coerce_to!"](t,$(bt,"Hash"),"to_hash"),"number"==typeof t&&"number"==typeof this?t>this:t["$>"](this)},g.$$arity=1),t.def(r,"$<=",v=function(t){return t=$(bt,"Opal")["$coerce_to!"](t,$(bt,"Hash"),"to_hash"),e(t,this)},v.$$arity=1),t.def(r,"$[]",b=function(e){var r=t.hash_get(this,e);return void 0!==r?r:this.$default(e)},b.$$arity=1),t.def(r,"$[]=",w=function(e,r){return t.hash_put(this,e,r),r},w.$$arity=2),t.def(r,"$assoc",E=function(t){for(var e,r=0,n=this.$$keys,$=n.length;r<$;r++)if(e=n[r],e.$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return i},E.$$arity=1),t.def(r,"$clear",k=function(){return t.hash_init(this),this},k.$$arity=0),t.def(r,"$clone",x=function(){var e=new this.$$class.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},x.$$arity=0),t.def(r,"$compact",A=function(){for(var e,r,n=t.hash(),$=0,a=this.$$keys,o=a.length;$<o;$++)e=a[$],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r!==i&&t.hash_put(n,e,r);return n},A.$$arity=0),t.def(r,"$compact!",O=function(){for(var e,r,n=!1,$=0,a=this.$$keys,o=a.length;$<o;$++)e=a[$],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r===i&&void 0!==t.hash_delete(this,e)&&(n=!0,o--,$--);return n?this:i},O.$$arity=0),t.def(r,"$compare_by_identity",S=function(){var e,r,n,i,$=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(i=s([],{}).$compare_by_identity(),e=0,r=$.length;e<r;e++)n=$[e],n.$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get(this,n));return this.$$by_identity=!0,this.$$map=i.$$map,this.$$smap=i.$$smap,this},S.$$arity=0),t.def(r,"$compare_by_identity?",R=function(){return!0===this.$$by_identity},R.$$arity=0),t.def(r,"$default",I=function(t){return void 0!==t&&this.$$proc!==i&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?i:this.$$none},I.$$arity=-1),t.def(r,"$default=",T=function(t){return this.$$proc=i,this.$$none=t},T.$$arity=1),t.def(r,"$default_proc",M=function(){return void 0!==this.$$proc?this.$$proc:i},M.$$arity=0),t.def(r,"$default_proc=",C=function(t){var e=t;return e!==i&&(e=$(bt,"Opal")["$coerce_to!"](e,$(bt,"Proc"),"to_proc"),e["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise($(bt,"TypeError"),"default_proc takes two arguments")),this.$$none=i,this.$$proc=e,t},C.$$arity=1),t.def(r,"$delete",N=function(e){var r=N.$$p,n=r||i;return r&&(N.$$p=null),r=t.hash_delete(this,e),void 0!==r?r:n!==i?t.yield1(n,e):i},N.$$arity=1),t.def(r,"$delete_if",z=function(){var e,r=z.$$p,n=r||i;if(r&&(z.$$p=null),!u(n))return o(this,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=0,s=this.$$keys,l=s.length;r<l;r++)$=s[r],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=n($,a),!1!==a&&a!==i&&void 0!==t.hash_delete(this,$)&&(l--,r--);return this},z.$$arity=0),t.alias(r,"dup","clone"),t.def(r,"$dig",B=function(e,r){var n,a=i,a=arguments.length;n=a-1,0>n&&(n=0),n=Array(n);for(var s=1;s<a;s++)n[s-1]=arguments[s];return a=this["$[]"](e),a===i||0===n.length?a:(u(a["$respond_to?"]("dig"))||this.$raise($(bt,"TypeError"),""+a.$class()+" does not have #dig method"),o(a,"dig",t.to_a(n)))},B.$$arity=-2),t.def(r,"$each",D=function(){var e,r=D.$$p,n=r||i;if(r&&(D.$$p=null),!u(n))return o(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=0,s=this.$$keys,l=s.length;r<l;r++)$=s[r],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),t.yield1(n,[$,a]);return this},D.$$arity=0),t.def(r,"$each_key",F=function(){var t,e=F.$$p,r=e||i;if(e&&(F.$$p=null),!u(r))return o(this,"enum_for",["each_key"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t));for(var n,e=0,$=this.$$keys,a=$.length;e<a;e++)n=$[e],r(n.$$is_string?n:n.key);return this},F.$$arity=0),t.alias(r,"each_pair","each"),t.def(r,"$each_value",L=function(){var t,e=L.$$p,r=e||i;if(e&&(L.$$p=null),!u(r))return o(this,"enum_for",["each_value"],(t=function(){return(t.$$s||this).$size()},t.$$s=this,t.$$arity=0,t));for(var n,e=0,$=this.$$keys,a=$.length;e<a;e++)n=$[e],r(n.$$is_string?this.$$smap[n]:n.value);return this},L.$$arity=0),t.def(r,"$empty?",P=function(){return 0===this.$$keys.length},P.$$arity=0),t.alias(r,"eql?","=="),t.def(r,"$fetch",q=function(e,r){var n=q.$$p,a=n||i;return n&&(q.$$p=null),n=t.hash_get(this,e),void 0!==n?n:a!==i?a(e):void 0!==r?r:this.$raise($(bt,"KeyError").$new("key not found: "+e.$inspect(),s(["key","receiver"],{key:e,receiver:this})))},q.$$arity=-2),t.def(r,"$fetch_values",j=function(t){var e,r,n=j.$$p,$=n||i,a=arguments.length;r=a-0,0>r&&(r=0),r=Array(r);for(var s=0;s<a;s++)r[s-0]=arguments[s];return n&&(j.$$p=null),o(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=i),o(r,"fetch",[t],$.$to_proc())},e.$$s=this,e.$$arity=1,e))},j.$$arity=-1),t.def(r,"$flatten",U=function(t){null==t&&(t=1),t=$(bt,"Opal")["$coerce_to!"](t,$(bt,"Integer"),"to_int");for(var e,r,n=[],i=0,a=this.$$keys,o=a.length;i<o;i++)e=a[i],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array?1===t?n.push(r):n=n.concat(r.$flatten(t-2)):n.push(r);return n},U.$$arity=-1),t.def(r,"$has_key?",H=function(e){return void 0!==t.hash_get(this,e)},H.$$arity=1),t.def(r,"$has_value?",G=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(e=n[r],(e.$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},G.$$arity=1),t.def(r,"$hash",Y=function(){var e,r,n=void 0===t.hash_ids,i=this.$object_id(),$=["Hash"];try{if(n&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],this["$eql?"](r))return"self";t.hash_ids[i]=this;for(var i=0,a=this.$$keys,o=a.length;i<o;i++)e=a[i],e.$$is_string?$.push([e,this.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{n&&(t.hash_ids=void 0)}},Y.$$arity=0),t.alias(r,"include?","has_key?"),t.def(r,"$index",W=function(t){for(var e,r,n=0,$=this.$$keys,a=$.length;n<a;n++)if(e=$[n],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return i},W.$$arity=1),t.def(r,"$indexes",X=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];for(var $,n=[],i=0,a=r.length;i<a;i++)$=r[i],$=t.hash_get(this,$),void 0===$?n.push(this.$default()):n.push($);return n},X.$$arity=-1),t.alias(r,"indices","indexes");var wt;return t.def(r,"$inspect",K=function(){var t=void 0===wt,e=this.$object_id(),r=[];try{if(t&&(wt={}),wt.hasOwnProperty(e))return"{...}";wt[e]=!0;for(var n,i,e=0,$=this.$$keys,a=$.length;e<a;e++)n=$[e],n.$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(wt=void 0)}},K.$$arity=0),t.def(r,"$invert",V=function(){for(var e,r,n=t.hash(),i=0,$=this.$$keys,a=$.length;i<a;i++)e=$[i],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),t.hash_put(n,r,e);return n},V.$$arity=0),t.def(r,"$keep_if",J=function(){var e,r=J.$$p,n=r||i;if(r&&(J.$$p=null),!u(n))return o(this,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=0,s=this.$$keys,l=s.length;r<l;r++)$=s[r],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=n($,a),!1!==a&&a!==i||void 0===t.hash_delete(this,$)||(l--,r--);return this},J.$$arity=0),t.alias(r,"key","index"),t.alias(r,"key?","has_key?"),t.def(r,"$keys",Z=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)t=n[r],t.$$is_string?e.push(t):e.push(t.key);return e},Z.$$arity=0),t.def(r,"$length",Q=function(){return this.$$keys.length},Q.$$arity=0),t.alias(r,"member?","has_key?"),t.def(r,"$merge",tt=function(t){var e=tt.$$p,r=e||i;return e&&(tt.$$p=null),o(this.$dup(),"merge!",[t],r.$to_proc())},tt.$$arity=1),t.def(r,"$merge!",et=function(e){var r=et.$$p,n=r||i;r&&(et.$$p=null),e.$$is_hash||(e=$(bt,"Opal")["$coerce_to!"](e,$(bt,"Hash"),"to_hash"));var a,o,s,u=e.$$keys,l=u.length;if(n===i){for(r=0;r<l;r++)a=u[r],a.$$is_string?s=e.$$smap[a]:(s=a.value,a=a.key),t.hash_put(this,a,s);return this}for(r=0;r<l;r++)a=u[r],a.$$is_string?s=e.$$smap[a]:(s=a.value,a=a.key),o=t.hash_get(this,a),void 0===o?t.hash_put(this,a,s):t.hash_put(this,a,n(a,o,s));return this},et.$$arity=1),t.def(r,"$rassoc",rt=function(t){for(var e,r,n=0,$=this.$$keys,a=$.length;n<a;n++)if(e=$[n],e.$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return i},rt.$$arity=1),t.def(r,"$rehash",nt=function(){return t.hash_rehash(this),this},nt.$$arity=0),t.def(r,"$reject",it=function(){var e,r=it.$$p,n=r||i;if(r&&(it.$$p=null),!u(n))return o(this,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,s,r=t.hash(),l=0,c=this.$$keys,h=c.length;l<h;l++)$=c[l],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),s=n($,a),!1!==s&&s!==i||t.hash_put(r,$,a);return r},it.$$arity=0),t.def(r,"$reject!",$t=function(){var e,r=$t.$$p,n=r||i;if(r&&($t.$$p=null),!u(n))return o(this,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=!1,s=0,l=this.$$keys,c=l.length;s<c;s++)$=l[s],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=n($,a),!1!==a&&a!==i&&void 0!==t.hash_delete(this,$)&&(r=!0,c--,s--);return r?this:i},$t.$$arity=0),t.def(r,"$replace",at=function(e){var r=i;e=$(bt,"Opal")["$coerce_to!"](e,$(bt,"Hash"),"to_hash"),t.hash_init(this);for(var n,a,r=0,s=e.$$keys,l=s.length;r<l;r++)n=s[r],n.$$is_string?a=e.$$smap[n]:(a=n.value,n=n.key),t.hash_put(this,n,a);return u(e.$default_proc())?(r=[e.$default_proc()],o(this,"default_proc=",t.to_a(r))):(r=[e.$default()],o(this,"default=",t.to_a(r))),e=r,r=r.length,r="number"==typeof r?r-1:r["$-"](1),e[r],this},at.$$arity=1),t.def(r,"$select",ot=function(){var e,r=ot.$$p,n=r||i;if(r&&(ot.$$p=null),!u(n))return o(this,"enum_for",["select"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,s,r=t.hash(),l=0,c=this.$$keys,h=c.length;l<h;l++)$=c[l],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),s=n($,a),!1!==s&&s!==i&&t.hash_put(r,$,a);return r},ot.$$arity=0),t.def(r,"$select!",st=function(){var e,r=st.$$p,n=r||i;if(r&&(st.$$p=null),!u(n))return o(this,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=i,s=0,l=this.$$keys,c=l.length;s<c;s++)$=l[s],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=n($,a),(!1===a||a===i)&&(void 0!==t.hash_delete(this,$)&&(c--,s--),r=this);return r},st.$$arity=0),t.def(r,"$shift",ut=function(){var e=this.$$keys;return 0<e.length?(e=e[0],e=e.$$is_string?e:e.key,[e,t.hash_delete(this,e)]):this.$default(i)},ut.$$arity=0),t.alias(r,"size","length"),t.def(r,"$slice",lt=function(e){var r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];for(var n=t.hash(),i=0,$=r.length;i<$;i++){var a=r[i],o=t.hash_get(this,a);void 0!==o&&t.hash_put(n,a,o)}return n},lt.$$arity=-1),t.alias(r,"store","[]="),t.def(r,"$to_a",ct=function(){for(var t,e,r=[],n=0,i=this.$$keys,$=i.length;n<$;n++)t=i[n],t.$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},ct.$$arity=0),t.def(r,"$to_h",ht=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash.$$alloc;return t.hash_init(e),t.hash_clone(this,e),e},ht.$$arity=0),t.def(r,"$to_hash",ft=function(){return this},ft.$$arity=0),t.def(r,"$to_proc",dt=function(){var t;return o(this,"proc",[],(t=function(e){var r=t.$$s||this;return null==e&&r.$raise($(bt,"ArgumentError"),"no key given"),r["$[]"](e)},t.$$s=this,t.$$arity=-1,t))},dt.$$arity=0),t.alias(r,"to_s","inspect"),t.def(r,"$transform_keys",_t=function(){var e,r=_t.$$p,n=r||i;if(r&&(_t.$$p=null),!u(n))return o(this,"enum_for",["transform_keys"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=t.hash(),s=0,l=this.$$keys,c=l.length;s<c;s++)$=l[s],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),$=t.yield1(n,$),t.hash_put(r,$,a);return r},_t.$$arity=0),t.def(r,"$transform_keys!",pt=function(){var e,r=pt.$$p,n=r||i;if(r&&(pt.$$p=null),!u(n))return o(this,"enum_for",["transform_keys!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));var $,a,s,l,r=t.slice.call(this.$$keys),c=r.length;for($=0;$<c;$++)a=r[$],a.$$is_string?s=this.$$smap[a]:(s=a.value,a=a.key),l=t.yield1(n,a),t.hash_delete(this,a),t.hash_put(this,l,s);return this},pt.$$arity=0),t.def(r,"$transform_values",yt=function(){var e,r=yt.$$p,n=r||i;if(r&&(yt.$$p=null),!u(n))return o(this,"enum_for",["transform_values"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=t.hash(),s=0,l=this.$$keys,c=l.length;s<c;s++)$=l[s],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=t.yield1(n,a),t.hash_put(r,$,a);return r},yt.$$arity=0),t.def(r,"$transform_values!",mt=function(){var e,r=mt.$$p,n=r||i;if(r&&(mt.$$p=null),!u(n))return o(this,"enum_for",["transform_values!"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));for(var $,a,r=0,s=this.$$keys,l=s.length;r<l;r++)$=s[r],$.$$is_string?a=this.$$smap[$]:(a=$.value,$=$.key),a=t.yield1(n,a),t.hash_put(this,$,a);return this},mt.$$arity=0),t.alias(r,"update","merge!"),t.alias(r,"value?","has_value?"),t.alias(r,"values_at","indexes"),t.def(r,"$values",gt=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)t=n[r],t.$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},gt.$$arity=0),i&&"values"}(n[0],null,n)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var o=t.top,s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,h=t.klass,f=t.truthy,d=t.send,_=t.hash2;return t.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" ")),o.$require("corelib/numeric"),function(o,s,p){function y(){}o=y=h(o,s,"Number",y);var m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht,ft,dt,_t,pt,yt,mt,gt,vt,bt,wt,Et,kt,xt,At,Ot,St,Rt,It,Tt,Mt,Ct,Nt,zt,Bt=[o].concat(p);return c(Bt,"Opal").$bridge(o,Number),Number.prototype.$$is_number=!0,o.$$is_number_class=!0,function(e,r){var n,i=[e].concat(r);return t.def(e,"$allocate",n=function(){return this.$raise(c(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),u}(t.get_singleton_class(o),Bt),t.def(o,"$coerce",m=function(t){if(t!==u){if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this]}this.$raise(c(Bt,"TypeError"),"can't convert "+t.$class()+" into Float")},m.$$arity=1),t.def(o,"$__id__",g=function(){return 2*this+1},g.$$arity=0),t.alias(o,"object_id","__id__"),t.def(o,"$+",v=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},v.$$arity=1),t.def(o,"$-",b=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},b.$$arity=1),t.def(o,"$*",w=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},w.$$arity=1),t.def(o,"$/",E=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},E.$$arity=1),t.alias(o,"fdiv","/"),t.def(o,"$%",k=function(t){return t.$$is_number?-(1/0)==t?t:0!=t?0>t||0>this?(this%t+t)%t:this%t:void this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},k.$$arity=1),t.def(o,"$&",x=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},x.$$arity=1),t.def(o,"$|",A=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},A.$$arity=1),t.def(o,"$^",O=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},O.$$arity=1),t.def(o,"$<",S=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},S.$$arity=1),t.def(o,"$<=",R=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},R.$$arity=1),t.def(o,"$>",I=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},I.$$arity=1),t.def(o,"$>=",T=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},T.$$arity=1),t.def(o,"$<=>",M=function(e){try{return e.$$is_number?isNaN(this)||isNaN(e)?u:this>e?1:this<e?-1:0:this.$__coerced__("<=>",e)}catch(e){if(!t.rescue(e,[c(Bt,"ArgumentError")]))throw e;try{return u}finally{t.pop_exception()}}},M.$$arity=1),t.def(o,"$<<",C=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),0<t?this<<t:this>>-t},C.$$arity=1),t.def(o,"$>>",N=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),0<t?this>>t:this<<-t},N.$$arity=1),t.def(o,"$[]",z=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),0>t?0:32<=t?0>this?1:0:this>>t&1},z.$$arity=1),t.def(o,"$+@",B=function(){return+this},B.$$arity=0),t.def(o,"$-@",D=function(){return-this},D.$$arity=0),t.def(o,"$~",F=function(){return~this},F.$$arity=0),t.def(o,"$**",L=function(t){var n,i;return f(c(Bt,"Integer")["$==="](t))?f(f(n=c(Bt,"Integer")["$==="](this)["$!"]())?n:e(t,0))?Math.pow(this,t):c(Bt,"Rational").$new(this,1)["$**"](t):f(r(this,0)?f(i=c(Bt,"Float")["$==="](t))?i:c(Bt,"Rational")["$==="](t):r(this,0))?c(Bt,"Complex").$new(this,0)["$**"](t.$to_f()):f(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},L.$$arity=1),t.def(o,"$===",P=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},P.$$arity=1),t.def(o,"$==",q=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},q.$$arity=1),t.def(o,"$abs",j=function(){return Math.abs(this)},j.$$arity=0),t.def(o,"$abs2",U=function(){return Math.abs(this*this)},U.$$arity=0),t.def(o,"$allbits?",H=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),(this&t)==t},H.$$arity=1),t.def(o,"$anybits?",G=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),0!==(this&t)},G.$$arity=1),t.def(o,"$angle",Y=function(){return f(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},Y.$$arity=0),t.alias(o,"arg","angle"),t.alias(o,"phase","angle"),t.def(o,"$bit_length",W=function(){if(f(c(Bt,"Integer")["$==="](this))||this.$raise(c(Bt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=0>this?~this:this;0!=e;)t+=1,e>>>=1;return t},W.$$arity=0),t.def(o,"$ceil",X=function(t){null==t&&(t=0);var e=this.$to_f();return 0===e%1&&0<=t?e:(t=Math.pow(10,t),t=Math.ceil(e*t)/t,0===e%1&&(t=Math.round(t)),t)},X.$$arity=-1),t.def(o,"$chr",K=function(t){return String.fromCharCode(this)},K.$$arity=-1),t.def(o,"$denominator",V=function(){var e,r=V.$$p,n=u,i=u,$=u;for(r&&(V.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return f(f(e=this["$nan?"]())?e:this["$infinite?"]())?1:d(this,t.find_super_dispatcher(this,"denominator",V,!1),n,r)},V.$$arity=0),t.def(o,"$downto",J=function(t){var r,$=J.$$p,a=$||u;if($&&(J.$$p=null),a===u)return d(this,"enum_for",["downto",t],(r=function(){var $=r.$$s||this;return f(c(Bt,"Numeric")["$==="](t))||$.$raise(c(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),f(e(t,$))?0:n(i($,t),1)},r.$$s=this,r.$$arity=0,r));for(t.$$is_number||this.$raise(c(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$=this;$>=t;$--)a($);return this},J.$$arity=1),t.alias(o,"eql?","=="),t.def(o,"$equal?",Z=function(t){var e;return f(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},Z.$$arity=1),t.def(o,"$even?",Q=function(){return 0===this%2},Q.$$arity=0),t.def(o,"$floor",tt=function(t){null==t&&(t=0);var e=this.$to_f();return 0===e%1&&0<=t?e:(t=Math.pow(10,t),t=Math.floor(e*t)/t,0===e%1&&(t=Math.round(t)),t)},tt.$$arity=-1),t.def(o,"$gcd",et=function(t){f(c(Bt,"Integer")["$==="](t))||this.$raise(c(Bt,"TypeError"),"not an integer");var e=Math.abs(this);for(t=Math.abs(t);0<e;){var r=e,e=t%e;t=r}return t},et.$$arity=1),t.def(o,"$gcdlcm",rt=function(t){return[this.$gcd(),this.$lcm()]},rt.$$arity=1),t.def(o,"$integer?",nt=function(){return 0===this%1},nt.$$arity=0),t.def(o,"$is_a?",it=function(e){var r=it.$$p,n=u,i=u,$=u;for(r&&(it.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return!!(f(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||f(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||f(e["$=="](c(Bt,"Float"))?c(Bt,"Float")["$==="](this):e["$=="](c(Bt,"Float"))))||d(this,t.find_super_dispatcher(this,"is_a?",it,!1),n,r)},it.$$arity=1),t.alias(o,"kind_of?","is_a?"),t.def(o,"$instance_of?",$t=function(e){var r=$t.$$p,n=u,i=u,$=u;for(r&&($t.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return!!(f(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||f(e["$=="](c(Bt,"Integer"))?c(Bt,"Integer")["$==="](this):e["$=="](c(Bt,"Integer")))||f(e["$=="](c(Bt,"Float"))?c(Bt,"Float")["$==="](this):e["$=="](c(Bt,"Float"))))||d(this,t.find_super_dispatcher(this,"instance_of?",$t,!1),n,r)},$t.$$arity=1),t.def(o,"$lcm",at=function(t){return f(c(Bt,"Integer")["$==="](t))||this.$raise(c(Bt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},at.$$arity=1),t.alias(o,"magnitude","abs"),t.alias(o,"modulo","%"),t.def(o,"$next",ot=function(){return this+1},ot.$$arity=0),t.def(o,"$nobits?",st=function(t){return t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),0==(this&t)},st.$$arity=1),t.def(o,"$nonzero?",ut=function(){return 0==this?u:this},ut.$$arity=0),t.def(o,"$numerator",lt=function(){var e,r=lt.$$p,n=u,i=u,$=u;for(r&&(lt.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return f(f(e=this["$nan?"]())?e:this["$infinite?"]())?this:d(this,t.find_super_dispatcher(this,"numerator",lt,!1),n,r)},lt.$$arity=0),t.def(o,"$odd?",ct=function(){return 0!==this%2},ct.$$arity=0),t.def(o,"$ord",ht=function(){return this},ht.$$arity=0),t.def(o,"$pow",ft=function(t,e){return 0==this&&this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(c(Bt,"Integer")["$==="](t)||this.$raise(c(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),0>t&&this.$raise(c(Bt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),c(Bt,"Integer")["$==="](e)||this.$raise(c(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(c(Bt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},ft.$$arity=-2),t.def(o,"$pred",dt=function(){return this-1},dt.$$arity=0),t.def(o,"$quo",_t=function(e){var r=_t.$$p,n=u,i=u,a=u;for(r&&(_t.$$p=null),i=0,a=arguments.length,n=Array(a);i<a;i++)n[i]=arguments[i];return f(c(Bt,"Integer")["$==="](this))?d(this,t.find_super_dispatcher(this,"quo",_t,!1),n,r):$(this,e)},_t.$$arity=1),t.def(o,"$rationalize",pt=function(e){var r,n,$=u;return r=u,1<arguments.length&&this.$raise(c(Bt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),f(c(Bt,"Integer")["$==="](this))?c(Bt,"Rational").$new(this,1):f(this["$infinite?"]())?this.$raise(c(Bt,"FloatDomainError"),"Infinity"):f(this["$nan?"]())?this.$raise(c(Bt,"FloatDomainError"),"NaN"):f(null==e)?(n=c(Bt,"Math").$frexp(this),r=t.to_ary(n),$=null==r[0]?u:r[0],r=null==r[1]?u:r[1],$=c(Bt,"Math").$ldexp($,l(c(Bt,"Float"),"MANT_DIG")).$to_i(),r=i(r,l(c(Bt,"Float"),"MANT_DIG")),c(Bt,"Rational").$new(a(2,$),1["$<<"](i(1,r))).$rationalize(c(Bt,"Rational").$new(1,1["$<<"](i(1,r))))):this.$to_r().$rationalize(e)},pt.$$arity=-1),t.def(o,"$remainder",yt=function(t){return i(this,a(t,$(this,t).$truncate()))},yt.$$arity=1),t.def(o,"$round",mt=function(a){var o,s,h=u;if(f(c(Bt,"Integer")["$==="](this)))return f(null==a)?this:(f(f(o=c(Bt,"Float")["$==="](a))?a["$infinite?"]():o)&&this.$raise(c(Bt,"RangeError"),"Infinity"),a=c(Bt,"Opal")["$coerce_to!"](a,c(Bt,"Integer"),"to_int"),f(r(a,l(c(Bt,"Integer"),"MIN")))&&this.$raise(c(Bt,"RangeError"),"out of bounds"),f(0<=a)?this:(a=a["$-@"](),.415241*a-.125>this.$size()?0:(a=Math.pow(10,a),s=Math.floor((Math.abs(s)+a/2)/a)*a,0>this?-s:s)));if(f(f(o=this["$nan?"]())?null==a:o)&&this.$raise(c(Bt,"FloatDomainError"),"NaN"),a=c(Bt,"Opal")["$coerce_to!"](a||0,c(Bt,"Integer"),"to_int"),f("number"==typeof a?0>=a:a["$<="](0)))f(this["$nan?"]())?this.$raise(c(Bt,"RangeError"),"NaN"):f(this["$infinite?"]())&&this.$raise(c(Bt,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(f(f(o=this["$nan?"]())?o:this["$infinite?"]()))return this}return s=c(Bt,"Math").$frexp(this),o=t.to_ary(s),h=null==o[1]?u:o[1],o=i(n(l(c(Bt,"Float"),"DIG"),2),f(e(h,0))?$(h,4):i($(h,3),1)),o="number"==typeof a&&"number"==typeof o?a>=o:a["$>="](o),f(o)?this:f(r(a,(f(e(h,0))?n($(h,3),1):$(h,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},mt.$$arity=-1),t.def(o,"$step",gt=function(e,r,n){function i(){void 0!==h&&(p=h),void 0===p&&(p=u),y===u&&m.$raise(c(Bt,"TypeError"),"step must be numeric"),0===y&&m.$raise(c(Bt,"ArgumentError"),"step can't be 0"),void 0!==f&&(y=f),y!==u&&null!=y||(y=1);var t=y["$<=>"](0);t===u&&m.$raise(c(Bt,"ArgumentError"),"0 can't be coerced into "+y.$class()),p!==u&&null!=p||(p=0<t?l(c(Bt,"Float"),"INFINITY"):l(c(Bt,"Float"),"INFINITY")["$-@"]()),c(Bt,"Opal").$compare(m,p)}function $(){if(0<y&&m>p||0>y&&m<p)return 0;if(1/0===y||-(1/0)===y)return 1;var t=Math.abs,e=Math.floor,t=(t(m)+t(p)+t(p-m))/t(y)*l(c(Bt,"Float"),"EPSILON");return 1/0===t||-(1/0)===t?0:(.5<t&&(t=.5),e((p-m)/y+t)+1)}function a(){if(i(),0===y)return 1/0;if(0!==y%1)return $();if(0<y&&m>p||0>y&&m<p)return 0;var t=Math.ceil,e=Math.abs,r=e(m-p)+1,e=e(y);return t(r/e)}var o,s,h,f,p,y,m=this,g=gt.$$p,v=g||u,b=s=u;if(s=t.slice.call(arguments,0,arguments.length),n=t.extract_kwargs(s),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=_([],{})}if(h=n.$$smap.to,f=n.$$smap.by,0<s.length&&(p=s.splice(0,1)[0]),0<s.length&&(y=s.splice(0,1)[0]),g&&(gt.$$p=null),void 0!==p&&void 0!==h&&m.$raise(c(Bt,"ArgumentError"),"to is given twice"),void 0!==y&&void 0!==f&&m.$raise(c(Bt,"ArgumentError"),"step is given twice"),v===u)return s=[],b=_([],{}),void 0!==p&&s.push(p),void 0!==y&&s.push(y),void 0!==h&&t.hash_put(b,"to",h),void 0!==f&&t.hash_put(b,"by",f),b["$any?"]()&&s.push(b),d(m,"enum_for",["step"].concat(t.to_a(s)),(o=function(){return a()},o.$$s=m,o.$$arity=0,o));if(i(),0===y)for(;;)v(m);if(0!==m%1||0!==p%1||0!==y%1){if(o=$(),0<o)if(1/0===y||-(1/0)===y)v(m);else if(g=0,0<y)for(;g<o;)s=g*y+m,p<s&&(s=p),v(s),g+=1;else for(;g<o;)s=g*y+m,p>s&&(s=p),v(s),g+=1}else if(o=m,0<y)for(;o<=p;)v(o),o+=y;else for(;o>=p;)v(o),o+=y;return m},gt.$$arity=-1),t.alias(o,"succ","next"),t.def(o,"$times",vt=function(){var t,e=vt.$$p,r=e||u;if(e&&(vt.$$p=null),!f(r))return d(this,"enum_for",["times"],(t=function(){return t.$$s||this},t.$$s=this,t.$$arity=0,t));for(e=0;e<this;e++)r(e);return this},vt.$$arity=0),t.def(o,"$to_f",bt=function(){return this},bt.$$arity=0),t.def(o,"$to_i",wt=function(){return parseInt(this,10)},wt.$$arity=0),t.alias(o,"to_int","to_i"),t.def(o,"$to_r",Et=function(){var e,r,n=u;return e=u,f(c(Bt,"Integer")["$==="](this))?c(Bt,"Rational").$new(this,1):(r=c(Bt,"Math").$frexp(this),e=t.to_ary(r),n=null==e[0]?u:e[0],e=null==e[1]?u:e[1],n=c(Bt,"Math").$ldexp(n,l(c(Bt,"Float"),"MANT_DIG")).$to_i(),e=i(e,l(c(Bt,"Float"),"MANT_DIG")),a(n,l(c(Bt,"Float"),"RADIX")["$**"](e)).$to_r())},Et.$$arity=0),t.def(o,"$to_s",kt=function(t){var n;return null==t&&(t=10),t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),f(f(n=r(t,2))?n:e(t,36))&&this.$raise(c(Bt,"ArgumentError"),"invalid radix "+t),this.toString(t)},kt.$$arity=-1),t.def(o,"$truncate",xt=function(t){null==t&&(t=0);var e=this.$to_f();return 0===e%1&&0<=t?e:(t=Math.pow(10,t),t=parseInt(e*t,10)/t,0===e%1&&(t=Math.round(t)),t)},xt.$$arity=-1),t.alias(o,"inspect","to_s"),t.def(o,"$digits",At=function(t){null==t&&(t=10),r(this,0)&&this.$raise(l(c(Bt,"Math"),"DomainError"),"out of domain"),t=c(Bt,"Opal")["$coerce_to!"](t,c(Bt,"Integer"),"to_int"),f(r(t,2))&&this.$raise(c(Bt,"ArgumentError"),"invalid radix "+t);for(var e=this,n=[];0!==e;)n.push(e%t),e=parseInt(e/t,10);return n},At.$$arity=-1),t.def(o,"$divmod",Ot=function(e){var r,n=Ot.$$p,i=u,$=u,a=u;for(n&&(Ot.$$p=null),$=0,a=arguments.length,i=Array(a);$<a;$++)i[$]=arguments[$];return f(f(r=this["$nan?"]())?r:e["$nan?"]())?this.$raise(c(Bt,"FloatDomainError"),"NaN"):f(this["$infinite?"]())?this.$raise(c(Bt,"FloatDomainError"),"Infinity"):d(this,t.find_super_dispatcher(this,"divmod",Ot,!1),i,n)},Ot.$$arity=1),t.def(o,"$upto",St=function(t){var e,$=St.$$p,a=$||u;if($&&(St.$$p=null),a===u)return d(this,"enum_for",["upto",t],(e=function(){var $=e.$$s||this;return f(c(Bt,"Numeric")["$==="](t))||$.$raise(c(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),f(r(t,$))?0:n(i(t,$),1)},e.$$s=this,e.$$arity=0,e));for(t.$$is_number||this.$raise(c(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$=this;$<=t;$++)a($);return this},St.$$arity=1),t.def(o,"$zero?",Rt=function(){return 0==this},Rt.$$arity=0),t.def(o,"$size",It=function(){return 4},It.$$arity=0),t.def(o,"$nan?",Tt=function(){return isNaN(this)},Tt.$$arity=0),t.def(o,"$finite?",Mt=function(){return 1/0!=this&&-(1/0)!=this&&!isNaN(this)},Mt.$$arity=0),t.def(o,"$infinite?",Ct=function(){return 1/0==this?1:-(1/0)==this?-1:u},Ct.$$arity=0),t.def(o,"$positive?",Nt=function(){return 0!=this&&(1/0==this||0<1/this)},Nt.$$arity=0),t.def(o,"$negative?",zt=function(){return-(1/0)==this||0>1/this},zt.$$arity=0),u&&"negative?"}(s[0],c(s,"Numeric"),s),t.const_set(s[0],"Fixnum",c(s,"Number")),function(e,r,n){function i(){}return e=i=h(e,r,"Integer",i),n=[e].concat(n),e.$$is_number_class=!0,function(e,r){var n,i,$,a=[e].concat(r);return t.def(e,"$allocate",n=function(){return this.$raise(c(a,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&0===t%1},i.$$arity=1),t.def(e,"$sqrt",$=function(t){return t=c(a,"Opal")["$coerce_to!"](t,c(a,"Integer"),"to_int"),0>t&&this.$raise(l(c(a,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},$.$$arity=1),u&&"sqrt"}(t.get_singleton_class(e),n),t.const_set(n[0],"MAX",Math.pow(2,30)-1),t.const_set(n[0],"MIN",-Math.pow(2,30))}(s[0],c(s,"Numeric"),s),function(e,r,n){function i(){}return e=i=h(e,r,"Float",i),n=[e].concat(n),e.$$is_number_class=!0,function(e,r){var n,i,$=[e].concat(r);return t.def(e,"$allocate",n=function(){return this.$raise(c($,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1),u&&"==="}(t.get_singleton_class(e),n),t.const_set(n[0],"INFINITY",1/0),t.const_set(n[0],"MAX",Number.MAX_VALUE),t.const_set(n[0],"MIN",Number.MIN_VALUE),t.const_set(n[0],"NAN",NaN),t.const_set(n[0],"DIG",15),t.const_set(n[0],"MANT_DIG",53),t.const_set(n[0],"RADIX",2),t.const_set(n[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(s[0],c(s,"Numeric"),s)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e);
}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.klass,c=t.truthy,h=t.send;return t.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" ")),$.$require("corelib/enumerable"),function($,a,f){function d(){}$=d=l($,a,"Range",d);var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C=$.$$proto,N=[$].concat(f);return C.begin=C.end=C.excl=o,$.$include(u(N,"Enumerable")),C.$$is_range=!0,$.$attr_reader("begin","end"),t.def($,"$initialize",_=function(t,e,r){return null==r&&(r=!1),c(this.begin)&&this.$raise(u(N,"NameError"),"'initialize' called twice"),c(t["$<=>"](e))||this.$raise(u(N,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},_.$$arity=-3),t.def($,"$==",p=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},p.$$arity=1),t.def($,"$===",y=function(t){return this["$include?"](t)},y.$$arity=1),t.def($,"$cover?",m=function(t){var n,i=o,i=o,i=this.begin["$<=>"](t);return!!c(c(n=i)?e(i,0):n)&&(i=t["$<=>"](this.end),c(this.excl)?c(n=i)?r(i,0):n:c(n=i)?e(i,0):n)},m.$$arity=1),t.def($,"$each",g=function(){var e,n=g.$$p,i=n||o,$=o,a=o;if(n&&(g.$$p=null),i===o)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){for(0===this.begin%1&&0===this.end%1||this.$raise(u(N,"TypeError"),"can't iterate from Float"),e=this.begin,n=this.end+(c(this.excl)?0:1);e<n;e++)i(e);return this}if(this.begin.$$is_string&&this.end.$$is_string)return h(this.begin,"upto",[this.end,this.excl],i.$to_proc()),this;for($=this.begin,a=this.end,c($["$respond_to?"]("succ"))||this.$raise(u(N,"TypeError"),"can't iterate from "+$.$class());c(r($["$<=>"](a),0));)t.yield1(i,$),$=$.$succ();return c(c(e=this.excl["$!"]())?$["$=="](a):e)&&t.yield1(i,$),this},g.$$arity=0),t.def($,"$eql?",v=function(t){var e,r;return!!c(u(N,"Range")["$==="](t))&&(c(e=c(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},v.$$arity=1),t.def($,"$exclude_end?",b=function(){return this.excl},b.$$arity=0),t.def($,"$first",w=function(e){var r=w.$$p,n=o,i=o,$=o;for(r&&(w.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return c(null==e)?this.begin:h(this,t.find_super_dispatcher(this,"first",w,!1),n,r)},w.$$arity=-1),t.alias($,"include?","cover?"),t.def($,"$last",E=function(t){return c(null==t)?this.end:this.$to_a().$last(t)},E.$$arity=-1),t.def($,"$max",k=function(){var e,r=k.$$p,i=r||o,$=o,a=o,s=o;for(r&&(k.$$p=null),a=0,s=arguments.length,$=Array(s);a<s;a++)$[a]=arguments[a];return i!==o?h(this,t.find_super_dispatcher(this,"max",k,!1),$,r):c(n(this.begin,this.end))?o:c(c(e=this.excl)?this.begin["$=="](this.end):e)?o:this.excl?this.end-1:this.end},k.$$arity=0),t.alias($,"member?","cover?"),t.def($,"$min",x=function(){var e,r=x.$$p,i=r||o,$=o,a=o,s=o;for(r&&(x.$$p=null),a=0,s=arguments.length,$=Array(s);a<s;a++)$[a]=arguments[a];return i!==o?h(this,t.find_super_dispatcher(this,"min",x,!1),$,r):c(n(this.begin,this.end))?o:c(c(e=this.excl)?this.begin["$=="](this.end):e)?o:this.begin},x.$$arity=0),t.def($,"$size",A=function(){var t,e=o,n=o,i=o,e=this.begin,n=this.end;return c(this.excl)&&(n="number"==typeof n?n-1:n["$-"](1)),c(c(t=u(N,"Numeric")["$==="](e))?u(N,"Numeric")["$==="](n):t)?c(r(n,e))?0:(i=s(u(N,"Float"),"INFINITY"),c([e.$abs(),n.$abs()]["$include?"](i))?i:(Math.abs(n-e)+1).$to_i()):o},A.$$arity=0),t.def($,"$step",O=function(e){function r(){e.$$is_number||(e=u(N,"Opal")["$coerce_to!"](e,u(N,"Integer"),"to_int")),0>e?d.$raise(u(N,"ArgumentError"),"step can't be negative"):0===e&&d.$raise(u(N,"ArgumentError"),"step can't be 0")}function $(){if(!d.begin["$respond_to?"]("succ")||d.begin.$$is_string&&d.end.$$is_string)return o;if(0===e%1){var t=d.$size();return("number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)).$ceil()}var t=d.begin,r=d.end,n=Math.abs,i=Math.floor,n=(n(t)+n(r)+n(r-t))/n(e)*s(u(N,"Float"),"EPSILON");return.5<n&&(n=.5),d.excl?(i=i((r-t)/e-n),i*e+t<r&&i++):i=i((r-t)/e+n)+1,i}var a,l,f,d=this,_=O.$$p,p=_||o,y=o;return null==e&&(e=1),_&&(O.$$p=null),p===o?h(d,"enum_for",["step",e],(a=function(){return r(),$()},a.$$s=d,a.$$arity=0,a)):(r(),c(d.begin.$$is_number&&d.end.$$is_number)?(y=0,function(){var r=t.new_brk();try{return h(d,"loop",[],(l=function(){var $=l.$$s||this,a=o;return null==$.begin&&($.begin=o),null==$.excl&&($.excl=o),null==$.end&&($.end=o),a=i($.begin,"number"==typeof y&&"number"==typeof e?y*e:y["$*"](e)),c($.excl)?($=$.end,$="number"==typeof a&&"number"==typeof $?a>=$:a["$>="]($),c($)&&t.brk(o,r)):c(n(a,$.end))&&t.brk(o,r),t.yield1(p,a),y=i(y,1)},l.$$s=d,l.$$brk=r,l.$$arity=0,l))}catch(t){if(t===r)return t.$v;throw t}}()):(d.begin.$$is_string&&d.end.$$is_string&&0!==e%1&&d.$raise(u(N,"TypeError"),"no implicit conversion to float from string"),h(d,"each_with_index",[],(f=function(r,n){return null==r&&(r=o),null==n&&(n=o),n["$%"](e)["$=="](0)?t.yield1(p,r):o},f.$$s=d,f.$$arity=2,f))),d)},O.$$arity=-1),t.def($,"$bsearch",S=function(){var t=S.$$p,e=t||o;return t&&(S.$$p=null),e===o?this.$enum_for("bsearch"):(c(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(u(N,"TypeError"),"can't do binary search for "+this.begin.$class()),h(this.$to_a(),"bsearch",[],e.$to_proc()))},S.$$arity=0),t.def($,"$to_s",R=function(){return""+this.begin+(c(this.excl)?"...":"..")+this.end},R.$$arity=0),t.def($,"$inspect",I=function(){return""+this.begin.$inspect()+(c(this.excl)?"...":"..")+this.end.$inspect()},I.$$arity=0),t.def($,"$marshal_load",T=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},T.$$arity=1),t.def($,"$hash",M=function(){return[this.begin,this.end,this.excl].$hash()},M.$$arity=0),o&&"hash"}(a[0],null,a)},Opal.modules["corelib/proc"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.slice,$=t.klass,a=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,s){function u(){}e=u=$(e,o,"Proc",u);var l,c,h,f,d,_,p,y,m,g,v=e.$$proto,b=[e].concat(s);return v.$$is_proc=!0,v.$$is_lambda=!1,t.defs(e,"$new",l=function(){var t=l.$$p,e=t||r;return t&&(l.$$p=null),a(e)||this.$raise(n(b,"ArgumentError"),"tried to create a Proc object without a block"),e},l.$$arity=0),t.def(e,"$call",c=function(e){var n,i=c.$$p,$=i||r,a=arguments.length;n=a-0,0>n&&(n=0),n=Array(n);for(var o=0;o<a;o++)n[o-0]=arguments[o];i&&(c.$$p=null),$!==r&&(this.$$p=$);var s;if(i=this.$$brk)try{s=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n)}catch(t){if(t===i)return i.$v;throw t}else s=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n);return s},c.$$arity=-1),t.alias(e,"[]","call"),t.alias(e,"===","call"),t.alias(e,"yield","call"),t.def(e,"$to_proc",h=function(){return this},h.$$arity=0),t.def(e,"$lambda?",f=function(){return!!this.$$is_lambda},f.$$arity=0),t.def(e,"$arity",d=function(){return this.$$is_curried?-1:this.$$arity},d.$$arity=0),t.def(e,"$source_location",_=function(){return r},_.$$arity=0),t.def(e,"$binding",p=function(){return this.$$is_curried&&this.$raise(n(b,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(e,"$parameters",y=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},y.$$arity=0),t.def(e,"$curry",m=function(t){function e(){var $=i.call(arguments),a=$.length;return a>t&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(n(b,"ArgumentError"),"wrong number of arguments ("+a+" for "+t+")"),a>=t?r.$call.apply(r,$):(a=function(){return e.apply(null,$.concat(i.call(arguments)))},a.$$is_lambda=r.$$is_lambda,a.$$is_curried=!0,a)}var r=this;return void 0===t?t=r.length:(t=n(b,"Opal")["$coerce_to!"](t,n(b,"Integer"),"to_int"),r.$$is_lambda&&t!==r.length&&r.$raise(n(b,"ArgumentError"),"wrong number of arguments ("+t+" for "+r.length+")")),e.$$is_lambda=r.$$is_lambda,e.$$is_curried=!0,e},m.$$arity=-1),t.def(e,"$dup",g=function(){var t,e=this.$$original_proc||this,r=function(){return e.apply(this,arguments)};for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r},g.$$arity=0),t.alias(e,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.truthy;return t.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" ")),function(e,a,o){function s(){}e=s=i(e,a,"Method",s);var u,l,c,h,f,d,_,p,y,m=e.$$proto,g=[e].concat(o);return m.method=m.receiver=m.owner=m.name=r,e.$attr_reader("owner","receiver","name"),t.def(e,"$initialize",u=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},u.$$arity=4),t.def(e,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(e,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(e,"$source_location",h=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(e,"$comments",f=function(){var t;return $(t=this.method.$$comments)?t:[]},f.$$arity=0),t.def(e,"$call",d=function(t){var e,n=d.$$p,i=n||r,$=arguments.length;e=$-0,0>e&&(e=0),e=Array(e);for(var a=0;a<$;a++)e[a-0]=arguments[a];return n&&(d.$$p=null),this.method.$$p=i,this.method.apply(this.receiver,e)},d.$$arity=-1),t.alias(e,"[]","call"),t.def(e,"$unbind",_=function(){return n(g,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},_.$$arity=0),t.def(e,"$to_proc",p=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},p.$$arity=0),t.def(e,"$inspect",y=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},y.$$arity=0),r&&"inspect"}(e[0],null,e),function(e,a,o){function s(){}e=s=i(e,a,"UnboundMethod",s);var u,l,c,h,f,d,_,p=e.$$proto,y=[e].concat(o);return p.method=p.owner=p.name=p.source=r,e.$attr_reader("source","owner","name"),t.def(e,"$initialize",u=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},u.$$arity=4),t.def(e,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(e,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(e,"$source_location",h=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},h.$$arity=0),t.def(e,"$comments",f=function(){var t;return $(t=this.method.$$comments)?t:[]},f.$$arity=0),t.def(e,"$bind",d=function(e){return this.owner.$$is_module||t.is_a(e,this.owner)?n(y,"Method").$new(e,this.owner,this.method,this.name):void this.$raise(n(y,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},d.$$arity=1),t.def(e,"$inspect",_=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},_.$$arity=0),r&&"inspect"}(e[0],null,e)},Opal.modules["corelib/variables"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.gvars,$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module;t.add_stubs(["$==","$new"]),e=[i(e[0],"Opal")].concat(e),t.const_set(e[0],"REGEXP_START",n(e,"RUBY_ENGINE")["$=="]("opal")?"^":r),t.const_set(e[0],"REGEXP_END",n(e,"RUBY_ENGINE")["$=="]("opal")?"$":r),t.const_set(e[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(e[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(e[0],"INLINE_IDENTIFIER_REGEXP",n(e,"Regexp").$new("[^"+n(e,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(e,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(e[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(e[0],"CONST_NAME_REGEXP",n(e,"Regexp").$new(""+n(e,"REGEXP_START")+"(::)?[A-Z][^"+n(e,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(e,"REGEXP_END")))},Opal.modules["opal/mini"]=function(t){var e=t.top;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=t.klass,o=t.send,s=t.truthy,u=t.gvars;return t.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $to_s $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" ")),e.$require("corelib/string"),function(e,r,o){function s(){}e=s=a(e,r,"String",s);var u,l=[e].concat(o);return t.defs(e,"$inherited",u=function(t){var e=n,e=$(l,"Class").$new(i($(l,"String"),"Wrapper"));t.$$proto=e.$$proto,t.$$proto.$$class=t,t.$$alloc=e.$$alloc,t.$$parent=i($(l,"String"),"Wrapper"),t.$allocate=e.$allocate,t.$new=e.$new},u.$$arity=1),n&&"inherited"}(r[0],null,r),function(e,r,i){function $(){}e=$=a(e,r,"Wrapper",$);var l=e.$$proto;[e].concat(i);var c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S;return l.literal=n,l.$$is_string=!0,t.defs(e,"$allocate",c=function(e){var r=c.$$p,i=n;return null==e&&(e=""),r&&(c.$$p=null),i=o(this,t.find_super_dispatcher(this,"allocate",c,!1,$),[],null),i.literal=e,i},c.$$arity=-1),t.defs(e,"$new",h=function(e){var r,i=h.$$p,$=i||n,a=n,a=arguments.length;r=a-0,0>r&&(r=0),r=Array(r);for(var s=0;s<a;s++)r[s-0]=arguments[s];return i&&(h.$$p=null),a=this.$allocate(),o(a,"initialize",t.to_a(r),$.$to_proc()),a},h.$$arity=-1),t.defs(e,"$[]",f=function t(e){var t,r=arguments.length;t=r-0,0>t&&(t=0),t=Array(t);for(var n=0;n<r;n++)t[n-0]=arguments[n];return this.$allocate(t)},f.$$arity=-1),t.def(e,"$initialize",d=function(t){return null==t&&(t=""),this.literal=t},d.$$arity=-1),t.def(e,"$method_missing",_=function(e){var r,i=_.$$p,$=i||n,a=n,a=arguments.length;r=a-0,0>r&&(r=0),r=Array(r);for(var u=0;u<a;u++)r[u-0]=arguments[u];return i&&(_.$$p=null),a=o(this.literal,"__send__",t.to_a(r),$.$to_proc()),s(null!=a.$$is_string)?s(a==this.literal)?this:this.$class().$allocate(a):a},_.$$arity=-1),t.def(e,"$initialize_copy",p=function(t){return this.literal=t.literal.$clone()},p.$$arity=1),t.def(e,"$respond_to?",y=function(e,r){var i,$=y.$$p,a=n,u=n,l=n;for($&&(y.$$p=null),u=0,l=arguments.length,a=Array(l);u<l;u++)a[u]=arguments[u];return s(i=o(this,t.find_super_dispatcher(this,"respond_to?",y,!1),a,$))?i:this.literal["$respond_to?"](e)},y.$$arity=-2),t.def(e,"$==",m=function(t){return this.literal["$=="](t)},m.$$arity=1),t.alias(e,"eql?","=="),t.alias(e,"===","=="),t.def(e,"$to_s",g=function(){return this.literal.$to_s()},g.$$arity=0),t.alias(e,"to_str","to_s"),t.def(e,"$inspect",v=function(){return this.literal.$inspect()},v.$$arity=0),t.def(e,"$+",b=function(t){var e=this.literal;return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)},b.$$arity=1),t.def(e,"$*",w=function(t){var e=this.literal;return t="number"==typeof e&&"number"==typeof t?e*t:e["$*"](t),t.$$is_string?this.$class().$allocate(t):t},w.$$arity=1),t.def(e,"$split",E=function(t,e){var r;return o(this.literal.$split(t,e),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$class().$allocate(t)},r.$$s=this,r.$$arity=1,r))},E.$$arity=-1),t.def(e,"$replace",k=function(t){return this.literal=t},k.$$arity=1),t.def(e,"$each_line",x=function(e){var r,i=x.$$p,$=i||n;return null==u["/"]&&(u["/"]=n),null==e&&(e=u["/"]),i&&(x.$$p=null),$===n?this.$enum_for("each_line",e):o(this.literal,"each_line",[e],(r=function(e){var i=r.$$s||this;return null==e&&(e=n),t.yield1($,i.$class().$allocate(e))},r.$$s=this,r.$$arity=1,r))},x.$$arity=-1),t.def(e,"$lines",A=function(t){var e=A.$$p,r=e||n,i=n;return null==u["/"]&&(u["/"]=n),null==t&&(t=u["/"]),e&&(A.$$p=null),i=o(this,"each_line",[t],r.$to_proc()),s(r)?this:i.$to_a()},A.$$arity=-1),t.def(e,"$%",O=function(t){return this.literal["$%"](t)},O.$$arity=1),t.def(e,"$instance_variables",S=function(){var e=S.$$p,r=n,i=n,$=n;for(e&&(S.$$p=null),i=0,$=arguments.length,r=Array($);i<$;i++)r[i]=arguments[i];return e=o(this,t.find_super_dispatcher(this,"instance_variables",S,!1),r,e),r=["@literal"],"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)},S.$$arity=0),n&&"instance_variables"}($(r,"String"),null,r)},Opal.modules["corelib/string/encoding"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,n,i,$,a,o=t.top,s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,h=t.klass,f=t.truthy,d=t.send,_=t.hash2;return t.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" ")),o.$require("corelib/string"),function(r,n,i){function $(){}r=$=h(r,n,"Encoding",$);var a,o,s,l,p,y,m,g,v,b,w=r.$$proto,E=[r].concat(i);return w.ascii=w.dummy=w.name=u,r.$$register={},t.defs(r,"$register",a=function(t,r){var n,i,$=a.$$p,o=$||u,s=u,l=u,h=u;return null==r&&(r=_([],{})),$&&(a.$$p=null),s=e([t],f(n=r["$[]"]("aliases"))?n:[]),l=d(c(E,"Class"),"new",[this],o.$to_proc()).$new(t,s,!!f(n=r["$[]"]("ascii"))&&n,!!f(n=r["$[]"]("dummy"))&&n),h=this.$$register,d(s,"each",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=u),e.$const_set(t.$sub("-","_"),l),h["$$"+t]=l},i.$$s=this,i.$$arity=1,i))},a.$$arity=-2),t.defs(r,"$find",o=function(t){var e,r=u,r=u;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,r=f(e=r["$$"+t])?e:r["$$"+t.$upcase()],f(r)||this.$raise(c(E,"ArgumentError"),"unknown encoding name - "+t),r)},o.$$arity=1),function(t,e){return[t].concat(e),t.$attr_accessor("default_external")}(t.get_singleton_class(r),E),r.$attr_reader("name","names"),t.def(r,"$initialize",s=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},s.$$arity=4),t.def(r,"$ascii_compatible?",l=function(){return this.ascii},l.$$arity=0),t.def(r,"$dummy?",p=function(){return this.dummy},p.$$arity=0),t.def(r,"$to_s",y=function(){return this.name},y.$$arity=0),t.def(r,"$inspect",m=function(){return"#<Encoding:"+this.name+(f(this.dummy)?" (dummy)":u)+">"},m.$$arity=0),t.def(r,"$each_byte",g=function(t){return this.$raise(c(E,"NotImplementedError"))},g.$$arity=-1),t.def(r,"$getbyte",v=function(t){return this.$raise(c(E,"NotImplementedError"))},v.$$arity=-1),t.def(r,"$bytesize",b=function(t){return this.$raise(c(E,"NotImplementedError"))},b.$$arity=-1),function(t,e,r){function n(){}return[n=h(t,e,"EncodingError",n)].concat(r),u}(E[0],c(E,"StandardError"),E),function(t,e,r){function n(){}return[n=h(t,e,"CompatibilityError",n)].concat(r),u}(E[0],c(E,"EncodingError"),E)}(s[0],null,s),d(c(s,"Encoding"),"register",["UTF-8",_(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var n=0,$=r.length;n<$;n++){var a=r.charCodeAt(n);if(127>=a)t.yield1(i,a);else for(var a=encodeURIComponent(r.charAt(n)).substr(1).split("%"),o=0,s=a.length;o<s;o++)t.yield1(i,parseInt(a[o],16))}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),u&&"bytesize"},r.$$s=o,r.$$arity=0,r)),d(c(s,"Encoding"),"register",["UTF-16LE"],(n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var n=0,$=r.length;n<$;n++){var a=r.charCodeAt(n);t.yield1(i,255&a),t.yield1(i,a>>8)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},n.$$s=o,n.$$arity=0,n)),d(c(s,"Encoding"),"register",["UTF-16BE"],(i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var n=0,$=r.length;n<$;n++){var a=r.charCodeAt(n);t.yield1(i,a>>8),t.yield1(i,255&a)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},i.$$s=o,i.$$arity=0,i)),d(c(s,"Encoding"),"register",["UTF-32LE"],($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var n=0,$=r.length;n<$;n++){var a=r.charCodeAt(n);t.yield1(i,255&a),t.yield1(i,a>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},$.$$s=o,$.$$arity=0,$)),d(c(s,"Encoding"),"register",["ASCII-8BIT",_(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(a=function(){var e,r,n=a.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||u;n&&(e.$$p=null);for(var n=0,$=r.length;n<$;n++){var a=r.charCodeAt(n);t.yield1(i,255&a),t.yield1(i,a>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),u&&"bytesize"},a.$$s=o,a.$$arity=0,a)),function(e,r,n){function i(){}e=i=h(e,r,"String",i);var $,a,o,s,f,_,p,y=e.$$proto,m=[e].concat(n);return y.encoding=u,e.$attr_reader("encoding"),String.prototype.encoding=l(c(m,"Encoding"),"UTF_16LE"),t.def(e,"$bytes",$=function(){return this.$each_byte().$to_a()},$.$$arity=0),t.def(e,"$bytesize",a=function(){return this.encoding.$bytesize(this)},a.$$arity=0),t.def(e,"$each_byte",o=function(){var t=o.$$p,e=t||u;return t&&(o.$$p=null),e===u?this.$enum_for("each_byte"):(d(this.encoding,"each_byte",[this],e.$to_proc()),this)},o.$$arity=0),t.def(e,"$encode",s=function(t){return this.$dup().$force_encoding(t)},s.$$arity=1),t.def(e,"$force_encoding",f=function(t){return t===this.encoding?this:(t=c(m,"Opal")["$coerce_to!"](t,c(m,"String"),"to_s"),t=c(m,"Encoding").$find(t),t===this.encoding?this:(this.encoding=t,this))},f.$$arity=1),t.def(e,"$getbyte",_=function(t){return this.encoding.$getbyte(this,t)},_.$$arity=1),t.def(e,"$valid_encoding?",p=function(){return!0},p.$$arity=0),u&&"valid_encoding?"}(s[0],null,s)},Opal.modules["corelib/math"]=function(t){var e=[],r=t.const_get_qualified,n=t.const_get_relative,i=t.module,$=t.truthy;return t.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" ")),function(e,a){var o,s,u,l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B=i(e,"Math"),D=[B].concat(a);t.const_set(D[0],"E",Math.E),t.const_set(D[0],"PI",Math.PI),t.const_set(D[0],"DomainError",n(D,"Class").$new(n(D,"StandardError"))),t.defs(B,"$checked",o=function(t,e){var r,i=arguments.length;r=i-1,0>r&&(r=0),r=Array(r);for(var $=1;$<i;$++)r[$-1]=arguments[$];return isNaN(r[0])||2==r.length&&isNaN(r[1])?NaN:(i=Math[t].apply(null,r),isNaN(i)&&this.$raise(n(D,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),i)},o.$$arity=-2),t.defs(B,"$float!",s=function(e){try{return this.$Float(e)}catch(r){if(!t.rescue(r,[n(D,"ArgumentError")]))throw r;try{return this.$raise(n(D,"Opal").$type_error(e,n(D,"Float")))}finally{t.pop_exception()}}},s.$$arity=1),t.defs(B,"$integer!",u=function(e){try{return this.$Integer(e)}catch(r){if(!t.rescue(r,[n(D,"ArgumentError")]))throw r;try{return this.$raise(n(D,"Opal").$type_error(e,n(D,"Integer")))}finally{t.pop_exception()}}},u.$$arity=1),B.$module_function(),t.def(B,"$acos",l=function(t){return n(D,"Math").$checked("acos",n(D,"Math")["$float!"](t))},l.$$arity=1),$("undefined"!=typeof Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),t.def(B,"$acosh",c=function(t){return n(D,"Math").$checked("acosh",n(D,"Math")["$float!"](t))},c.$$arity=1),t.def(B,"$asin",h=function(t){return n(D,"Math").$checked("asin",n(D,"Math")["$float!"](t))},h.$$arity=1),$("undefined"!=typeof Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),t.def(B,"$asinh",f=function(t){return n(D,"Math").$checked("asinh",n(D,"Math")["$float!"](t))},f.$$arity=1),t.def(B,"$atan",d=function(t){return n(D,"Math").$checked("atan",n(D,"Math")["$float!"](t))},d.$$arity=1),t.def(B,"$atan2",_=function(t,e){return n(D,"Math").$checked("atan2",n(D,"Math")["$float!"](t),n(D,"Math")["$float!"](e))},_.$$arity=2),$("undefined"!=typeof Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),t.def(B,"$atanh",p=function(t){return n(D,"Math").$checked("atanh",n(D,"Math")["$float!"](t))},p.$$arity=1),$("undefined"!=typeof Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(0>t)return-Math.cbrt(-t);for(var e=t,r=0;.125>e;)e*=8,r--;for(;1<e;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;0>r;)e*=.5,r++;for(;0<r;)e*=2,r--;return e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),e=2/3*e+1/3*t/(e*e),2/3*e+1/3*t/(e*e)}),t.def(B,"$cbrt",y=function(t){return n(D,"Math").$checked("cbrt",n(D,"Math")["$float!"](t))},y.$$arity=1),t.def(B,"$cos",m=function(t){return n(D,"Math").$checked("cos",n(D,"Math")["$float!"](t))},m.$$arity=1),$("undefined"!=typeof Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),t.def(B,"$cosh",g=function(t){return n(D,"Math").$checked("cosh",n(D,"Math")["$float!"](t))},g.$$arity=1),$("undefined"!=typeof Math.erf)||(Math.erf=function(t){var e=1;0>t&&(e=-1),t=Math.abs(t);var r=1/(1+.3275911*t);return e*(1-((((1.061405429*r+-1.453152027)*r+1.421413741)*r+-.284496736)*r+.254829592)*r*Math.exp(-t*t))}),t.def(B,"$erf",v=function(t){return n(D,"Math").$checked("erf",n(D,"Math")["$float!"](t))},v.$$arity=1),$("undefined"!=typeof Math.erfc)||(Math.erfc=function(t){var e=Math.abs(t),r=1/(.5*e+1),e=r*Math.exp(-e*e-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>t?2-e:e}),t.def(B,"$erfc",b=function(t){return n(D,"Math").$checked("erfc",n(D,"Math")["$float!"](t))},b.$$arity=1),t.def(B,"$exp",w=function(t){return n(D,"Math").$checked("exp",n(D,"Math")["$float!"](t))},w.$$arity=1),t.def(B,"$frexp",E=function(t){if(t=n(D,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},E.$$arity=1),t.def(B,"$gamma",k=function(t){t=n(D,"Math")["$float!"](t);var e,r,i,$;if(i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],isNaN(t))return NaN;if(0===t&&0>1/t)return-(1/0);if(-1!==t&&-(1/0)!==t||this.$raise(n(D,"DomainError"),'Numerical argument is out of domain - "gamma"'),n(D,"Integer")["$==="](t)){if(0>=t)return isFinite(t)?1/0:NaN;if(171<t)return 1/0;for(r=t-2,--t;1<r;)t*=r,r--;return 0==t&&(t=1),t}if(.5>t)return Math.PI/(Math.sin(Math.PI*t)*n(D,"Math").$gamma("number"==typeof t?1-t:1["$-"](t)));if(171.35<=t)return 1/0;if(85<t)return r=t*t,e=r*t,i=e*t,$=i*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*e)-571/(2488320*i)+163879/(209018880*$)+5246819/(75246796800*$*t));for(--t,r=i[0],e=1;e<i.length;++e)r+=i[e]/(t+e);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r},k.$$arity=1),$("undefined"!=typeof Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),t.def(B,"$hypot",x=function(t,e){return n(D,"Math").$checked("hypot",n(D,"Math")["$float!"](t),n(D,"Math")["$float!"](e))},x.$$arity=2),t.def(B,"$ldexp",A=function(t,e){return t=n(D,"Math")["$float!"](t),e=n(D,"Math")["$integer!"](e),isNaN(e)&&this.$raise(n(D,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},A.$$arity=2),t.def(B,"$lgamma",O=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(n(D,"Math").$gamma(t))),0>n(D,"Math").$gamma(t)?-1:1]},O.$$arity=1),t.def(B,"$log",S=function(t,e){if($(n(D,"String")["$==="](t))&&this.$raise(n(D,"Opal").$type_error(t,n(D,"Float"))),$(null==e))return n(D,"Math").$checked("log",n(D,"Math")["$float!"](t));$(n(D,"String")["$==="](e))&&this.$raise(n(D,"Opal").$type_error(e,n(D,"Float")));var r=n(D,"Math").$checked("log",n(D,"Math")["$float!"](t)),i=n(D,"Math").$checked("log",n(D,"Math")["$float!"](e));return"number"==typeof r&&"number"==typeof i?r/i:r["$/"](i)},S.$$arity=-2),$("undefined"!=typeof Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),t.def(B,"$log10",R=function(t){return $(n(D,"String")["$==="](t))&&this.$raise(n(D,"Opal").$type_error(t,n(D,"Float"))),n(D,"Math").$checked("log10",n(D,"Math")["$float!"](t))},R.$$arity=1),$("undefined"!=typeof Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),t.def(B,"$log2",I=function(t){return $(n(D,"String")["$==="](t))&&this.$raise(n(D,"Opal").$type_error(t,n(D,"Float"))),n(D,"Math").$checked("log2",n(D,"Math")["$float!"](t))},I.$$arity=1),t.def(B,"$sin",T=function(t){return n(D,"Math").$checked("sin",n(D,"Math")["$float!"](t))},T.$$arity=1),$("undefined"!=typeof Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),t.def(B,"$sinh",M=function(t){return n(D,"Math").$checked("sinh",n(D,"Math")["$float!"](t))},M.$$arity=1),t.def(B,"$sqrt",C=function(t){return n(D,"Math").$checked("sqrt",n(D,"Math")["$float!"](t))},C.$$arity=1),t.def(B,"$tan",N=function(t){return t=n(D,"Math")["$float!"](t),$(t["$infinite?"]())?r(n(D,"Float"),"NAN"):n(D,"Math").$checked("tan",n(D,"Math")["$float!"](t))},N.$$arity=1),$("undefined"!=typeof Math.tanh)||(Math.tanh=function(t){return 1/0==t?1:-(1/0)==t?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),t.def(B,"$tanh",z=function(t){return n(D,"Math").$checked("tanh",n(D,"Math")["$float!"](t))},z.$$arity=1)}(e[0],e)},Opal.modules["corelib/complex"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.klass,c=t.truthy,h=t.module;return t.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero?".split(" ")),$.$require("corelib/numeric"),function($,a,h){function f(){}$=f=l($,a,"Complex",f);var d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G=$.$$proto,Y=[$].concat(h);return G.real=G.imag=o,t.defs($,"$rect",d=function t(e,r){var n,t,i;return null==r&&(r=0),c(c(n=c(t=c(i=u(Y,"Numeric")["$==="](e))?e["$real?"]():i)?u(Y,"Numeric")["$==="](r):t)?r["$real?"]():n)||this.$raise(u(Y,"TypeError"),"not a real"),this.$new(e,r)},d.$$arity=-2),function(e,r){return[e].concat(r),t.alias(e,"rectangular","rect")}(t.get_singleton_class($),Y),t.defs($,"$polar",_=function(t,r){var n,i,$;return null==r&&(r=0),
c(c(n=c(i=c($=u(Y,"Numeric")["$==="](t))?t["$real?"]():$)?u(Y,"Numeric")["$==="](r):i)?r["$real?"]():n)||this.$raise(u(Y,"TypeError"),"not a real"),this.$new(e(t,u(Y,"Math").$cos(r)),e(t,u(Y,"Math").$sin(r)))},_.$$arity=-2),$.$attr_reader("real","imag"),t.def($,"$initialize",p=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},p.$$arity=-2),t.def($,"$coerce",y=function(t){var e;return c(u(Y,"Complex")["$==="](t))?[t,this]:c(c(e=u(Y,"Numeric")["$==="](t))?t["$real?"]():e)?[u(Y,"Complex").$new(t,0),this]:this.$raise(u(Y,"TypeError"),""+t.$class()+" can't be coerced into Complex")},y.$$arity=1),t.def($,"$==",m=function(t){var e;return c(u(Y,"Complex")["$==="](t))?this.real["$=="](t.$real())?this.imag["$=="](t.$imag()):this.real["$=="](t.$real()):c(c(e=u(Y,"Numeric")["$==="](t))?t["$real?"]():e)?this.real["$=="](t)?this.imag["$=="](0):this.real["$=="](t):t["$=="](this)},m.$$arity=1),t.def($,"$-@",g=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},g.$$arity=0),t.def($,"$+",v=function(t){var e;return c(u(Y,"Complex")["$==="](t))?this.$Complex(r(this.real,t.$real()),r(this.imag,t.$imag())):c(c(e=u(Y,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(r(this.real,t),this.imag):this.$__coerced__("+",t)},v.$$arity=1),t.def($,"$-",b=function(t){var e;return c(u(Y,"Complex")["$==="](t))?this.$Complex(n(this.real,t.$real()),n(this.imag,t.$imag())):c(c(e=u(Y,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(n(this.real,t),this.imag):this.$__coerced__("-",t)},b.$$arity=1),t.def($,"$*",w=function(t){var i;return c(u(Y,"Complex")["$==="](t))?this.$Complex(n(e(this.real,t.$real()),e(this.imag,t.$imag())),r(e(this.real,t.$imag()),e(this.imag,t.$real()))):c(c(i=u(Y,"Numeric")["$==="](t))?t["$real?"]():i)?this.$Complex(e(this.real,t),e(this.imag,t)):this.$__coerced__("*",t)},w.$$arity=1),t.def($,"$/",E=function(t){var r,n,$,a;return c(u(Y,"Complex")["$==="](t))?c(c(r=c(n=c($=c(a=u(Y,"Number")["$==="](this.real))?this.real["$nan?"]():a)?$:c(a=u(Y,"Number")["$==="](this.imag))?this.imag["$nan?"]():a)?n:c($=u(Y,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():$)?r:c(n=u(Y,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():n)?u(Y,"Complex").$new(s(u(Y,"Float"),"NAN"),s(u(Y,"Float"),"NAN")):i(e(this,t.$conj()),t.$abs2()):c(c(r=u(Y,"Numeric")["$==="](t))?t["$real?"]():r)?this.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)},E.$$arity=1),t.def($,"$**",k=function($){var a,s,l=o,h=o,f=o,d=o;if(s=d=f=h=l=l=s=o,$["$=="](0))return u(Y,"Complex").$new(1,0);if(c(u(Y,"Complex")["$==="]($)))return s=this.$polar(),a=t.to_ary(s),l=null==a[0]?o:a[0],h=null==a[1]?o:a[1],f=$.$real(),d=$.$imag(),s=u(Y,"Math").$exp(n(e(f,u(Y,"Math").$log(l)),e(d,h))),l=r(e(h,f),e(d,u(Y,"Math").$log(l))),u(Y,"Complex").$polar(s,l);if(c(u(Y,"Integer")["$==="]($))){if(c("number"==typeof $?0<$:$["$>"](0))){for(h=l=this,f=n($,1);c(f["$!="](0));){for($=f.$divmod(2),s=t.to_ary($),d=null==s[0]?o:s[0],s=null==s[1]?o:s[1],$;s["$=="](0);)l=this.$Complex(n(e(l.$real(),l.$real()),e(l.$imag(),l.$imag())),e(e(2,l.$real()),l.$imag())),f=d,a=f.$divmod(2),$=t.to_ary(a),d=null==$[0]?o:$[0],s=null==$[1]?o:$[1],a;h=e(h,l),f=n(f,1)}return h}return i(u(Y,"Rational").$new(1,1),this)["$**"]($["$-@"]())}return c(c(a=u(Y,"Float")["$==="]($))?a:u(Y,"Rational")["$==="]($))?(s=this.$polar(),a=t.to_ary(s),l=null==a[0]?o:a[0],h=null==a[1]?o:a[1],u(Y,"Complex").$polar(l["$**"]($),e(h,$))):this.$__coerced__("**",$)},k.$$arity=1),t.def($,"$abs",x=function(){return u(Y,"Math").$hypot(this.real,this.imag)},x.$$arity=0),t.def($,"$abs2",A=function(){return r(e(this.real,this.real),e(this.imag,this.imag))},A.$$arity=0),t.def($,"$angle",O=function(){return u(Y,"Math").$atan2(this.imag,this.real)},O.$$arity=0),t.alias($,"arg","angle"),t.def($,"$conj",S=function(){return this.$Complex(this.real,this.imag["$-@"]())},S.$$arity=0),t.alias($,"conjugate","conj"),t.def($,"$denominator",R=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},R.$$arity=0),t.alias($,"divide","/"),t.def($,"$eql?",I=function(t){var e,r;return c(e=c(r=u(Y,"Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](t):e},I.$$arity=1),t.def($,"$fdiv",T=function(t){return c(u(Y,"Numeric")["$==="](t))||this.$raise(u(Y,"TypeError"),""+t.$class()+" can't be coerced into Complex"),i(this,t)},T.$$arity=1),t.def($,"$finite?",M=function(){var t;return c(t=this.real["$finite?"]())?this.imag["$finite?"]():t},M.$$arity=0),t.def($,"$hash",C=function(){return"Complex:"+this.real+":"+this.imag},C.$$arity=0),t.alias($,"imaginary","imag"),t.def($,"$infinite?",N=function(){var t;return c(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()},N.$$arity=0),t.def($,"$inspect",z=function(){return"("+this+")"},z.$$arity=0),t.alias($,"magnitude","abs"),t.udef($,"$negative?"),t.def($,"$numerator",B=function(){var t=o,t=this.$denominator();return this.$Complex(e(this.real.$numerator(),i(t,this.real.$denominator())),e(this.imag.$numerator(),i(t,this.imag.$denominator())))},B.$$arity=0),t.alias($,"phase","arg"),t.def($,"$polar",D=function(){return[this.$abs(),this.$arg()]},D.$$arity=0),t.udef($,"$positive?"),t.alias($,"quo","/"),t.def($,"$rationalize",F=function(t){return 1<arguments.length&&this.$raise(u(Y,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),c(this.imag["$!="](0))&&this.$raise(u(Y,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},F.$$arity=-1),t.def($,"$real?",L=function(){return!1},L.$$arity=0),t.def($,"$rect",P=function(){return[this.real,this.imag]},P.$$arity=0),t.alias($,"rectangular","rect"),t.def($,"$to_f",q=function(){return this.imag["$=="](0)||this.$raise(u(Y,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},q.$$arity=0),t.def($,"$to_i",j=function(){return this.imag["$=="](0)||this.$raise(u(Y,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},j.$$arity=0),t.def($,"$to_r",U=function(){return this.imag["$=="](0)||this.$raise(u(Y,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},U.$$arity=0),t.def($,"$to_s",H=function(){var t,e,n,i=o,i=this.real.$inspect(),i=r(i,c(c(t=c(e=c(n=u(Y,"Number")["$==="](this.imag))?this.imag["$nan?"]():n)?e:this.imag["$positive?"]())?t:this.imag["$zero?"]())?"+":"-"),i=r(i,this.imag.$abs().$inspect());return c(c(t=u(Y,"Number")["$==="](this.imag))?c(e=this.imag["$nan?"]())?e:this.imag["$infinite?"]():t)&&(i=r(i,"*")),r(i,"i")},H.$$arity=0),t.const_set(Y[0],"I",$.$new(0,1))}(a[0],u(a,"Numeric"),a),function(e,r){var n,i=h(e,"Kernel"),$=[i].concat(r);t.def(i,"$Complex",n=function(t,e){return null==e&&(e=o),c(e)?u($,"Complex").$new(t,e):u($,"Complex").$new(t,0)},n.$$arity=-2)}(a[0],a)},Opal.modules["corelib/rational"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=t.klass,h=t.truthy,f=t.module;return t.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" ")),a.$require("corelib/numeric"),function(a,o,f){function d(){}a=d=c(a,o,"Rational",d);var _,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q=a.$$proto,j=[a].concat(f);return q.num=q.den=s,t.defs(a,"$reduce",_=function(t,n){var i=s;if(t=t.$to_i(),n=n.$to_i(),n["$=="](0))this.$raise(l(j,"ZeroDivisionError"),"divided by 0");else if(h(e(n,0)))t=t["$-@"](),n=n["$-@"]();else if(n["$=="](1))return this.$new(t,n);return i=t.$gcd(n),this.$new(r(t,i),r(n,i))},_.$$arity=2),t.defs(a,"$convert",p=function(t,e){var n,i;return h(h(n=t["$nil?"]())?n:e["$nil?"]())&&this.$raise(l(j,"TypeError"),"cannot convert nil into Rational"),h(h(n=l(j,"Integer")["$==="](t))?l(j,"Integer")["$==="](e):n)?this.$reduce(t,e):(h(h(n=h(i=l(j,"Float")["$==="](t))?i:l(j,"String")["$==="](t))?n:l(j,"Complex")["$==="](t))&&(t=t.$to_r()),h(h(n=h(i=l(j,"Float")["$==="](e))?i:l(j,"String")["$==="](e))?n:l(j,"Complex")["$==="](e))&&(e=e.$to_r()),h(h(n=e["$equal?"](1))?l(j,"Integer")["$==="](t)["$!"]():n)?l(j,"Opal")["$coerce_to!"](t,l(j,"Rational"),"to_r"):h(h(n=l(j,"Numeric")["$==="](t))?l(j,"Numeric")["$==="](e):n)?r(t,e):this.$reduce(t,e))},p.$$arity=2),t.def(a,"$initialize",y=function(t,e){return this.num=t,this.den=e},y.$$arity=2),t.def(a,"$numerator",m=function(){return this.num},m.$$arity=0),t.def(a,"$denominator",g=function(){return this.den},g.$$arity=0),t.def(a,"$coerce",v=function(t){var e=s,e=t;return l(j,"Rational")["$==="](e)?[t,this]:l(j,"Integer")["$==="](e)?[t.$to_r(),this]:l(j,"Float")["$==="](e)?[t,this.$to_f()]:s},v.$$arity=1),t.def(a,"$==",b=function(t){var e=s,e=t;return l(j,"Rational")["$==="](e)?this.num["$=="](t.$numerator())?this.den["$=="](t.$denominator()):this.num["$=="](t.$numerator()):l(j,"Integer")["$==="](e)?this.num["$=="](t)?this.den["$=="](1):this.num["$=="](t):l(j,"Float")["$==="](e)?this.$to_f()["$=="](t):t["$=="](this)},b.$$arity=1),t.def(a,"$<=>",w=function(t){var e=s,e=t;return l(j,"Rational")["$==="](e)?n(i(this.num,t.$denominator()),i(this.den,t.$numerator()))["$<=>"](0):l(j,"Integer")["$==="](e)?n(this.num,i(this.den,t))["$<=>"](0):l(j,"Float")["$==="](e)?this.$to_f()["$<=>"](t):this.$__coerced__("<=>",t)},w.$$arity=1),t.def(a,"$+",E=function(t){var e=s,r=e=s;return e=t,l(j,"Rational")["$==="](e)?(e=$(i(this.num,t.$denominator()),i(this.den,t.$numerator())),r=i(this.den,t.$denominator()),t=this.$Rational(e,r)):t=l(j,"Integer")["$==="](e)?this.$Rational($(this.num,i(t,this.den)),this.den):l(j,"Float")["$==="](e)?$(this.$to_f(),t):this.$__coerced__("+",t),t},E.$$arity=1),t.def(a,"$-",k=function(t){var e=s,r=e=s;return e=t,l(j,"Rational")["$==="](e)?(e=n(i(this.num,t.$denominator()),i(this.den,t.$numerator())),r=i(this.den,t.$denominator()),t=this.$Rational(e,r)):t=l(j,"Integer")["$==="](e)?this.$Rational(n(this.num,i(t,this.den)),this.den):l(j,"Float")["$==="](e)?n(this.$to_f(),t):this.$__coerced__("-",t),t},k.$$arity=1),t.def(a,"$*",x=function(t){var e=s,r=e=s;return e=t,l(j,"Rational")["$==="](e)?(e=i(this.num,t.$numerator()),r=i(this.den,t.$denominator()),t=this.$Rational(e,r)):t=l(j,"Integer")["$==="](e)?this.$Rational(i(this.num,t),this.den):l(j,"Float")["$==="](e)?i(this.$to_f(),t):this.$__coerced__("*",t),t},x.$$arity=1),t.def(a,"$/",A=function(t){var e=s,n=e=s;return e=t,l(j,"Rational")["$==="](e)?(e=i(this.num,t.$denominator()),n=i(this.den,t.$numerator()),t=this.$Rational(e,n)):t=l(j,"Integer")["$==="](e)?t["$=="](0)?r(this.$to_f(),0):this.$Rational(this.num,i(this.den,t)):l(j,"Float")["$==="](e)?r(this.$to_f(),t):this.$__coerced__("/",t),t},A.$$arity=1),t.def(a,"$**",O=function(t){var r=s,r=t;return l(j,"Integer")["$==="](r)?h(this["$=="](0)?e(t,0):this["$=="](0))?u(l(j,"Float"),"INFINITY"):h("number"==typeof t?0<t:t["$>"](0))?this.$Rational(this.num["$**"](t),this.den["$**"](t)):h(e(t,0))?this.$Rational(this.den["$**"](t["$-@"]()),this.num["$**"](t["$-@"]())):this.$Rational(1,1):l(j,"Float")["$==="](r)?this.$to_f()["$**"](t):l(j,"Rational")["$==="](r)?t["$=="](0)?this.$Rational(1,1):t.$denominator()["$=="](1)?h(e(t,0))?this.$Rational(this.den["$**"](t.$numerator().$abs()),this.num["$**"](t.$numerator().$abs())):this.$Rational(this.num["$**"](t.$numerator()),this.den["$**"](t.$numerator())):h(this["$=="](0)?e(t,0):this["$=="](0))?this.$raise(l(j,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](t):this.$__coerced__("**",t)},O.$$arity=1),t.def(a,"$abs",S=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},S.$$arity=0),t.def(a,"$ceil",R=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},R.$$arity=-1),t.alias(a,"divide","/"),t.def(a,"$floor",I=function(t){return null==t&&(t=0),t["$=="](0)?r(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},I.$$arity=-1),t.def(a,"$hash",T=function(){return"Rational:"+this.num+":"+this.den},T.$$arity=0),t.def(a,"$inspect",M=function(){return"("+this+")"},M.$$arity=0),t.alias(a,"quo","/"),t.def(a,"$rationalize",C=function(t){if(1<arguments.length&&this.$raise(l(j,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,i,a,o=t.$abs(),s=n(this,o),o=$(this,o),u=0,c=1,h=1,f=0;e=s.$ceil(),!("number"==typeof e&&"number"==typeof o?e<=o:e["$<="](o));)a=e-1,e=a*c+u,i=a*f+h,u=r(1,n(o,a)),o=r(1,n(s,a)),s=u,u=c,h=f,c=e,f=i;return this.$Rational(e*c+u,e*f+h)},C.$$arity=-1),t.def(a,"$round",N=function(t){var n=s,a=s,n=s;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(n=$(i(this.num.$abs(),2),this.den),a=i(this.den,2),n=r(n,a).$truncate(),h(e(this.num,0))?n["$-@"]():n):this.$with_precision("round",t)},N.$$arity=-1),t.def(a,"$to_f",z=function(){return r(this.num,this.den)},z.$$arity=0),t.def(a,"$to_i",B=function(){return this.$truncate()},B.$$arity=0),t.def(a,"$to_r",D=function(){return this},D.$$arity=0),t.def(a,"$to_s",F=function(){return""+this.num+"/"+this.den},F.$$arity=0),t.def(a,"$truncate",L=function(t){return null==t&&(t=0),t["$=="](0)?h(e(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},L.$$arity=-1),t.def(a,"$with_precision",P=function(t,n){var $=s,a=s;return h(l(j,"Integer")["$==="](n))||this.$raise(l(j,"TypeError"),"not an Integer"),$=10["$**"](n),a=i(this,$),h(e(n,1))?r(a.$send(t),$).$to_i():this.$Rational(a.$send(t),$)},P.$$arity=2),s&&"with_precision"}(o[0],l(o,"Numeric"),o),function(e,r){var n,i=f(e,"Kernel"),$=[i].concat(r);t.def(i,"$Rational",n=function(t,e){return null==e&&(e=1),l($,"Rational").$convert(t,e)},n.$$arity=-2)}(o[0],o)},Opal.modules["corelib/time"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $=t.top,a=[],o=t.nil,s=t.const_get_relative,u=t.slice,l=t.klass,c=t.truthy,h=t.range;return t.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" ")),$.$require("corelib/comparable"),function($,a,f){function d(){}function _(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):s($t,"Opal")["$coerce_to!"](t,s($t,"Integer"),"to_int"),e===o)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=s($t,"Opal")["$coerce_to!"](e,s($t,"Integer"),"to_int");return(1>e||12<e)&&it.$raise(s($t,"ArgumentError"),"month out of range: "+e),--e,r=r===o?1:r.$$is_string?parseInt(r,10):s($t,"Opal")["$coerce_to!"](r,s($t,"Integer"),"to_int"),(1>r||31<r)&&it.$raise(s($t,"ArgumentError"),"day out of range: "+r),n=n===o?0:n.$$is_string?parseInt(n,10):s($t,"Opal")["$coerce_to!"](n,s($t,"Integer"),"to_int"),(0>n||24<n)&&it.$raise(s($t,"ArgumentError"),"hour out of range: "+n),i=i===o?0:i.$$is_string?parseInt(i,10):s($t,"Opal")["$coerce_to!"](i,s($t,"Integer"),"to_int"),(0>i||59<i)&&it.$raise(s($t,"ArgumentError"),"min out of range: "+i),$===o?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):s($t,"Opal")["$coerce_to!"]($,s($t,"Integer"),"to_int")),(0>$||60<$)&&it.$raise(s($t,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it=d=l($,a,"Time",d),$t=[it].concat(f);it.$include(s($t,"Comparable"));var at="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ot="Sun Mon Tue Wed Thu Fri Sat".split(" "),st="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ut="January February March April May June July August September October November December".split(" ");return t.defs(it,"$at",p=function(t,e){var r;return s($t,"Time")["$==="](t)?(void 0!==e&&this.$raise(s($t,"TypeError"),"can't convert Time into an exact number"),r=new Date(t.getTime()),r.is_utc=t.is_utc,r):(t.$$is_number||(t=s($t,"Opal")["$coerce_to!"](t,s($t,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=s($t,"Opal")["$coerce_to!"](e,s($t,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},p.$$arity=-2),t.defs(it,"$new",y=function(t,e,r,n,i,$,a){return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),void 0===t?new Date:(a!==o&&this.$raise(s($t,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),$=_(t,e,r,n,i,$),t=$[0],e=$[1],r=$[2],n=$[3],i=$[4],$=$[5],e=new Date(t,e,r,n,i,0,1e3*$),100>t&&e.setFullYear(t),e)},y.$$arity=-1),t.defs(it,"$local",m=function(t,e,r,n,i,$,a,s,l,c){null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),null==s&&(s=o),null==l&&(l=o),null==c&&(c=o);var h;return 10===arguments.length&&(h=u.call(arguments),t=h[5],e=h[4],r=h[3],n=h[2],i=h[1],$=h[0]),h=_(t,e,r,n,i,$),t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],$=h[5],h=new Date(t,e,r,n,i,0,1e3*$),100>t&&h.setFullYear(t),h},m.$$arity=-2),t.defs(it,"$gm",g=function(t,e,r,n,i,$,a,s,l,c){null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),null==$&&($=o),null==a&&(a=o),null==s&&(s=o),null==l&&(l=o),null==c&&(c=o);var h;return 10===arguments.length&&(h=u.call(arguments),t=h[5],e=h[4],r=h[3],n=h[2],i=h[1],$=h[0]),h=_(t,e,r,n,i,$),t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],$=h[5],h=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),100>t&&h.setUTCFullYear(t),h.is_utc=!0,h},g.$$arity=-2),function(e,r){return[e].concat(r),t.alias(e,"mktime","local"),t.alias(e,"utc","gm")}(t.get_singleton_class(it),$t),t.defs(it,"$now",v=function(){return this.$new()},v.$$arity=0),t.def(it,"$+",b=function(t){return c(s($t,"Time")["$==="](t))&&this.$raise(s($t,"TypeError"),"time + time?"),t.$$is_number||(t=s($t,"Opal")["$coerce_to!"](t,s($t,"Integer"),"to_int")),t=new Date(this.getTime()+1e3*t),t.is_utc=this.is_utc,t},b.$$arity=1),t.def(it,"$-",w=function(t){return c(s($t,"Time")["$==="](t))?(this.getTime()-t.getTime())/1e3:(t.$$is_number||(t=s($t,"Opal")["$coerce_to!"](t,s($t,"Integer"),"to_int")),t=new Date(this.getTime()-1e3*t),t.is_utc=this.is_utc,t)},w.$$arity=1),t.def(it,"$<=>",E=function(t){var e=o;return c(s($t,"Time")["$==="](t))?this.$to_f()["$<=>"](t.$to_f()):(e=t["$<=>"](this),c(e["$nil?"]())?o:c("number"==typeof e?0<e:e["$>"](0))?-1:c("number"==typeof e?0>e:e["$<"](0))?1:0)},E.$$arity=1),t.def(it,"$==",k=function(t){var e;return c(e=s($t,"Time")["$==="](t))?this.$to_f()===t.$to_f():e},k.$$arity=1),t.def(it,"$asctime",x=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},x.$$arity=0),t.alias(it,"ctime","asctime"),t.def(it,"$day",A=function(){return this.is_utc?this.getUTCDate():this.getDate()},A.$$arity=0),t.def(it,"$yday",O=function(){var t=o,i=o,$=o,t=s($t,"Time").$new(this.$year()).$to_i(),i=s($t,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),$=86400;return e(r(n(i,t),$).$round(),1)},O.$$arity=0),t.def(it,"$isdst",S=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},S.$$arity=0),t.alias(it,"dst?","isdst"),t.def(it,"$dup",R=function(){var t=o,t=new Date(this.getTime());return t.$copy_instance_variables(this),t.$initialize_dup(this),t},R.$$arity=0),t.def(it,"$eql?",I=function(t){var e;return c(e=t["$is_a?"](s($t,"Time")))?this["$<=>"](t)["$zero?"]():e},I.$$arity=1),t.def(it,"$friday?",T=function(){return 5==this.$wday()},T.$$arity=0),t.def(it,"$hash",M=function(){return"Time:"+this.getTime()},M.$$arity=0),t.def(it,"$hour",C=function(){return this.is_utc?this.getUTCHours():this.getHours()},C.$$arity=0),t.def(it,"$inspect",N=function(){return c(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},N.$$arity=0),t.alias(it,"mday","day"),t.def(it,"$min",z=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},z.$$arity=0),t.def(it,"$mon",B=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},B.$$arity=0),t.def(it,"$monday?",D=function(){return 1==this.$wday()},D.$$arity=0),t.alias(it,"month","mon"),t.def(it,"$saturday?",F=function(){return 6==this.$wday()},F.$$arity=0),t.def(it,"$sec",L=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},L.$$arity=0),t.def(it,"$succ",P=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},P.$$arity=0),t.def(it,"$usec",q=function(){return 1e3*this.getMilliseconds()},q.$$arity=0),t.def(it,"$zone",j=function(){var t,e=this.toString();return t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1],"GMT"==t&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},j.$$arity=0),t.def(it,"$getgm",U=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},U.$$arity=0),t.alias(it,"getutc","getgm"),t.def(it,"$gmtime",H=function(){return this.is_utc=!0,this},H.$$arity=0),t.alias(it,"utc","gmtime"),t.def(it,"$gmt?",G=function(){return!0===this.is_utc},G.$$arity=0),t.def(it,"$gmt_offset",Y=function(){return 60*-this.getTimezoneOffset()},Y.$$arity=0),t.def(it,"$strftime",W=function(t){var e=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,r,n,i,$){i="";var a=-1!==r.indexOf("0"),o=-1===r.indexOf("-"),s=-1!==r.indexOf("_"),u=-1!==r.indexOf("^"),l=-1!==r.indexOf("#"),c=(r.match(":")||[]).length;switch(n=parseInt(n,10),a&&s&&(r.indexOf("0")<r.indexOf("_")?a=!1:s=!1),$){case"Y":i+=e.$year();break;case"C":a=!s,i+=Math.round(e.$year()/100);break;case"y":a=!s,i+=e.$year()%100;break;case"m":a=!s,i+=e.$mon();break;case"B":i+=ut[e.$mon()-1];break;case"b":case"h":s=!a,i+=st[e.$mon()-1];break;case"d":a=!s,i+=e.$day();break;case"e":s=!a,i+=e.$day();break;case"j":i+=e.$yday();break;case"H":a=!s,i+=e.$hour();break;case"k":s=!a,i+=e.$hour();break;case"I":a=!s,i+=e.$hour()%12||12;break;case"l":s=!a,i+=e.$hour()%12||12;break;case"P":i+=12<=e.$hour()?"pm":"am";break;case"p":i+=12<=e.$hour()?"PM":"AM";break;case"M":a=!s,i+=e.$min();break;case"S":a=!s,i+=e.$sec();break;case"L":a=!s,n=isNaN(n)?3:n,i+=e.getMilliseconds();break;case"N":n=isNaN(n)?9:n,i+=e.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust(n,"0");break;case"z":t=e.getTimezoneOffset(),r=Math.floor(Math.abs(t)/60),$=Math.abs(t)%60,i=i+(0>t?"+":"-")+(10>r?"0":""),i+=r,0<c&&(i+=":"),i+=10>$?"0":"",i+=$,1<c&&(i+=":00");break;case"Z":i+=e.$zone();break;case"A":i+=at[e.$wday()];break;case"a":i+=ot[e.$wday()];break;case"u":i+=e.$wday()+1;break;case"w":i+=e.$wday();break;case"V":i+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":i+=e.$cweek_cyear()["$[]"](1);break;case"g":i+=e.$cweek_cyear()["$[]"](1)["$[]"](h(-2,-1,!1));break;case"s":i+=e.$to_i();break;case"n":i+="\n";break;case"t":i+="\t";break;case"%":i+="%";break;case"c":i+=e.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=e.$strftime("%m/%d/%y");break;case"F":i+=e.$strftime("%Y-%m-%d");break;case"v":i+=e.$strftime("%e-%^b-%4Y");break;case"r":i+=e.$strftime("%I:%M:%S %p");break;case"R":i+=e.$strftime("%H:%M");break;case"T":case"X":i+=e.$strftime("%H:%M:%S");break;default:return t}return u&&(i=i.toUpperCase()),l&&(i=i.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),o&&(a||s)&&(i=i.$rjust(isNaN(n)?2:n,s?" ":"0")),i})},W.$$arity=1),t.def(it,"$sunday?",X=function(){return 0==this.$wday()},X.$$arity=0),t.def(it,"$thursday?",K=function(){return 4==this.$wday()},K.$$arity=0),t.def(it,"$to_a",V=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},V.$$arity=0),t.def(it,"$to_f",J=function(){return this.getTime()/1e3},J.$$arity=0),t.def(it,"$to_i",Z=function(){return parseInt(this.getTime()/1e3,10)},Z.$$arity=0),t.alias(it,"to_s","inspect"),t.def(it,"$tuesday?",Q=function(){return 2==this.$wday()},Q.$$arity=0),t.alias(it,"tv_sec","to_i"),t.alias(it,"tv_usec","usec"),t.alias(it,"utc?","gmt?"),t.alias(it,"gmtoff","gmt_offset"),t.alias(it,"utc_offset","gmt_offset"),t.def(it,"$wday",tt=function(){return this.is_utc?this.getUTCDay():this.getDay()},tt.$$arity=0),t.def(it,"$wednesday?",et=function(){return 3==this.$wday()},et.$$arity=0),t.def(it,"$year",rt=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},rt.$$arity=0),t.def(it,"$cweek_cyear",nt=function(){var t,$=o,a=o,u=a=a=$=o,u=o,$=s($t,"Time").$new(this.$year(),1,1),a=$.$wday(),$=this.$year();return c(c(t=i(a,4))?a["$!="](0):t)?a=n(a,1):(a=n(n(a,7),1),a["$=="](-8)&&(a=-1)),a=r(e(this.$yday(),a),7).$ceil(),c(i(a,0))?s($t,"Time").$new(n(this.$year(),1),12,31).$cweek_cyear():(a["$=="](53)&&(u=s($t,"Time").$new(this.$year(),12,31),u=u.$wday(),c(c(t=i(u,3))?u["$!="](0):t)&&(a=1,$=e($,1))),[a,$])},nt.$$arity=0),o&&"cweek_cyear"}(a[0],Date,a)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a=t.top,o=[],s=t.nil,u=t.const_get_relative,l=t.klass,c=t.truthy,h=t.send,f=t.hash2;return t.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" ")),a.$require("corelib/enumerable"),function(a,o,d){function _(){}a=_=l(a,o,"Struct",_);var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z=[a].concat(d);return a.$include(u(z,"Enumerable")),t.defs(a,"$new",p=function(e,r,n){var i,$,a,o,l,d=p.$$p,_=d||s;if(a=s,a=t.slice.call(arguments,1,arguments.length),n=t.extract_kwargs(a),null==n||!n.$$is_hash){if(null!=n)throw t.ArgumentError.$new("expected kwargs");n=f([],{})}if(o=n.$$smap.keyword_init,null==o&&(o=!1),l=0<a.length?a.splice(0,a.length-0):[],d&&(p.$$p=null),c(e))try{e=u(z,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[u(z,"TypeError"),u(z,"NameError")]))throw r;try{l.$unshift(e),e=s}finally{t.pop_exception()}}return h(l,"map",[],(i=function(t){return null==t&&(t=s),u(z,"Opal")["$coerce_to!"](t,u(z,"String"),"to_str")},i.$$s=this,i.$$arity=1,i)),a=h(u(z,"Class"),"new",[this],($=function(){var e,r=$.$$s||this;return h(l,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=s),r.$define_struct_attribute(t)},e.$$s=r,e.$$arity=1,e)),function(e,r){[e].concat(r);var n;return t.def(e,"$new",n=function e(r){var n,e=s,e=arguments.length;n=e-0,0>n&&(n=0),n=Array(n);for(var i=0;i<e;i++)n[i-0]=arguments[i];return e=this.$allocate(),e.$$data={},h(e,"initialize",t.to_a(n)),e},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),z)},$.$$s=this,$.$$arity=0,$)),c(_)&&h(a,"module_eval",[],_.$to_proc()),a.$$keyword_init=o,c(e)&&u(z,"Struct").$const_set(e,a),a},p.$$arity=-2),t.defs(a,"$define_struct_attribute",y=function(t){var e,r;return this["$=="](u(z,"Struct"))&&this.$raise(u(z,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),h(this,"define_method",[t],(e=function(){return(e.$$s||this).$$data[t]},e.$$s=this,e.$$arity=0,e)),h(this,"define_method",[""+t+"="],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),n.$$data[t]=e},r.$$s=this,r.$$arity=1,r))},y.$$arity=1),t.defs(a,"$members",m=function(){var t;return null==this.members&&(this.members=s),this["$=="](u(z,"Struct"))&&this.$raise(u(z,"ArgumentError"),"the Struct class has no members"),this.members=c(t=this.members)?t:[]},m.$$arity=0),t.defs(a,"$inherited",g=function(t){var e,r=s;return null==this.members&&(this.members=s),r=this.members,h(t,"instance_eval",[],(e=function(){return(e.$$s||this).members=r},e.$$s=this,e.$$arity=0,e))},g.$$arity=1),t.def(a,"$initialize",v=function n(i){var $,a,o,l,n=s,d=s,d=arguments.length,_=d-0;for(0>_&&(_=0),l=Array(_),_=0;_<d;_++)l[_-0]=arguments[_];return c(this.$class().$$keyword_init)?(n=c($=l.$last())?$:f([],{}),c(c($=e(l.$length(),1))?$:1===l.length&&!n.$$is_hash)&&this.$raise(u(z,"ArgumentError"),"wrong number of arguments (given "+l.$length()+", expected 0)"),d=r(n.$keys(),this.$class().$members()),c(d["$any?"]())&&this.$raise(u(z,"ArgumentError"),"unknown keywords: "+d.$join(", ")),h(this.$class().$members(),"each",[],(a=function(e){var i=a.$$s||this,$=s;return null==e&&(e=s),$=[e,n["$[]"](e)],h(i,"[]=",t.to_a($)),$[r($.length,1)]},a.$$s=this,a.$$arity=1,a))):(c(e(l.$length(),this.$class().$members().$length()))&&this.$raise(u(z,"ArgumentError"),"struct size differs"),h(this.$class().$members(),"each_with_index",[],(o=function(e,n){var i=o.$$s||this,$=s;return null==e&&(e=s),null==n&&(n=s),$=[e,l["$[]"](n)],h(i,"[]=",t.to_a($)),$[r($.length,1)]},o.$$s=this,o.$$arity=2,o)))},v.$$arity=-1),t.def(a,"$members",b=function(){return this.$class().$members()},b.$$arity=0),t.def(a,"$hash",w=function(){return u(z,"Hash").$new(this.$$data).$hash()},w.$$arity=0),t.def(a,"$[]",E=function(t){return c(u(z,"Integer")["$==="](t))?(c(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(u(z,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),c(i(t,this.$class().$members().$size()))&&this.$raise(u(z,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):c(u(z,"String")["$==="](t))?this.$$data.hasOwnProperty(t)||this.$raise(u(z,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(u(z,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(z,"Opal")["$coerce_to!"](t,u(z,"String"),"to_str"),this.$$data[t]},E.$$arity=1),t.def(a,"$[]=",k=function(t,e){return c(u(z,"Integer")["$==="](t))?(c(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(u(z,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),c(i(t,this.$class().$members().$size()))&&this.$raise(u(z,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):c(u(z,"String")["$==="](t))?c(this.$class().$members()["$include?"](t.$to_sym()))||this.$raise(u(z,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(u(z,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=u(z,"Opal")["$coerce_to!"](t,u(z,"String"),"to_str"),this.$$data[t]=e},k.$$arity=2),t.def(a,"$==",x=function(t){function e(t,i){var $,a,o;r[t.$__id__()]=!0,n[i.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=i.$$data[$],u(z,"Struct")["$==="](a)){if(!(r.hasOwnProperty(a.$__id__())&&n.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$=="](o))return!1;return!0}if(!c(t["$instance_of?"](this.$class())))return!1;var r={},n={};return e(this,t)},x.$$arity=1),t.def(a,"$eql?",A=function(t){
function e(t,i){var $,a,o;r[t.$__id__()]=!0,n[i.$__id__()]=!0;for($ in t.$$data)if(a=t.$$data[$],o=i.$$data[$],u(z,"Struct")["$==="](a)){if(!(r.hasOwnProperty(a.$__id__())&&n.hasOwnProperty(o.$__id__())||e(a,o)))return!1}else if(!a["$eql?"](o))return!1;return!0}if(!c(t["$instance_of?"](this.$class())))return!1;var r={},n={};return e(this,t)},A.$$arity=1),t.def(a,"$each",O=function(){var e,r,n=O.$$p,i=n||s;return n&&(O.$$p=null),i===s?h(this,"enum_for",["each"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e)):(h(this.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(i,n["$[]"](e))},r.$$s=this,r.$$arity=1,r)),this)},O.$$arity=0),t.def(a,"$each_pair",S=function(){var e,r,n=S.$$p,i=n||s;return n&&(S.$$p=null),i===s?h(this,"enum_for",["each_pair"],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e)):(h(this.$class().$members(),"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=s),t.yield1(i,[e,n["$[]"](e)])},r.$$s=this,r.$$arity=1,r)),this)},S.$$arity=0),t.def(a,"$length",R=function(){return this.$class().$members().$length()},R.$$arity=0),t.alias(a,"size","length"),t.def(a,"$to_a",I=function(){var t;return h(this.$class().$members(),"map",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=s),r["$[]"](e)},t.$$s=this,t.$$arity=1,t))},I.$$arity=0),t.alias(a,"values","to_a"),t.def(a,"$inspect",T=function(){var t,e,r=s,r="#<struct ";return c(c(t=u(z,"Struct")["$==="](this))?this.$class().$name():t)&&(r=$(r,""+this.$class()+" ")),r=$(r,h(this.$each_pair(),"map",[],(e=function(t,e){return null==t&&(t=s),null==e&&(e=s),""+t+"="+e.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", ")),r=$(r,">")},T.$$arity=0),t.alias(a,"to_s","inspect"),t.def(a,"$to_h",M=function(){var e;return h(this.$class().$members(),"each_with_object",[f([],{})],(e=function(n,i){var $=e.$$s||this,a=s;return null==n&&(n=s),null==i&&(i=s),a=[n,$["$[]"](n)],h(i,"[]=",t.to_a(a)),a[r(a.length,1)]},e.$$s=this,e.$$arity=2,e))},M.$$arity=0),t.def(a,"$values_at",C=function(t){var e,r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];for(r=h(r,"map",[],(e=function(t){return null==t&&(t=s),t.$$is_range?t.$to_a():t},e.$$s=this,e.$$arity=1,e)).$flatten(),e=[],n=0,i=r.length;n<i;n++)r[n].$$is_number||this.$raise(u(z,"TypeError"),"no implicit conversion of "+r[n].$class()+" into Integer"),e.push(this["$[]"](r[n]));return e},C.$$arity=-1),t.def(a,"$dig",N=function(e,r){var n,i=s,i=arguments.length;n=i-1,0>n&&(n=0),n=Array(n);for(var $=1;$<i;$++)n[$-1]=arguments[$];return i=c(e.$$is_string&&this.$$data.hasOwnProperty(e))?this.$$data[e]||s:s,i===s||0===n.length?i:(c(i["$respond_to?"]("dig"))||this.$raise(u(z,"TypeError"),""+i.$class()+" does not have #dig method"),h(i,"dig",t.to_a(n)))},N.$$arity=-2),s&&"dig"}(o[0],null,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=t.klass,o=t.module,s=t.send,u=t.gvars,l=t.truthy,c=n;t.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" ")),function(e,r,i){function c(){}e=c=a(e,r,"IO",c);var h=e.$$proto;i=[e].concat(i);var f,d,_,p;return h.tty=h.closed=n,t.const_set(i[0],"SEEK_SET",0),t.const_set(i[0],"SEEK_CUR",1),t.const_set(i[0],"SEEK_END",2),t.def(e,"$tty?",f=function(){return this.tty},f.$$arity=0),t.def(e,"$closed?",d=function(){return this.closed},d.$$arity=0),e.$attr_accessor("write_proc"),t.def(e,"$write",_=function(t){return this.write_proc(t),t.$size()},_.$$arity=1),e.$attr_accessor("sync","tty"),t.def(e,"$flush",p=function(){return n},p.$$arity=0),function(e,r){var i=o(e,"Writable");[i].concat(r);var $,a,c;t.def(i,"$<<",$=function(t){return this.$write(t),this},$.$$arity=1),t.def(i,"$print",a=function(t){var e,r;null==u[","]&&(u[","]=n);var i=arguments.length;r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return this.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t)},e.$$s=this,e.$$arity=1,e)).$join(u[","])),n},a.$$arity=-1),t.def(i,"$puts",c=function(t){var e,r,i=n;null==u["/"]&&(u["/"]=n),i=arguments.length,r=i-0,0>r&&(r=0),r=Array(r);for(var $=0;$<i;$++)r[$-0]=arguments[$];return i=u["/"],l(r["$empty?"]())?this.$write(u["/"]):this.$write(s(r,"map",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=n),r.$String(t).$chomp()},e.$$s=this,e.$$arity=1,e)).$concat([n]).$join(i)),n},c.$$arity=-1)}(i[0],i),function(e,r){var i,a,s,l,c=o(e,"Readable"),h=[c].concat(r);t.def(c,"$readbyte",i=function(){return this.$getbyte()},i.$$arity=0),t.def(c,"$readchar",a=function(){return this.$getc()},a.$$arity=0),t.def(c,"$readline",s=function(t){return null==u["/"]&&(u["/"]=n),this.$raise($(h,"NotImplementedError"))},s.$$arity=-1),t.def(c,"$readpartial",l=function(t,e){return this.$raise($(h,"NotImplementedError"))},l.$$arity=-2)}(i[0],i)}(r[0],null,r),t.const_set(r[0],"STDERR",u.stderr=$(r,"IO").$new()),t.const_set(r[0],"STDIN",u.stdin=$(r,"IO").$new()),t.const_set(r[0],"STDOUT",u.stdout=$(r,"IO").$new());var h=t.global.console,c=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){h.log(t)}];return s($(r,"STDOUT"),"write_proc=",t.to_a(c)),c[e(c.length,1)],c=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){h.warn(t)}],s($(r,"STDERR"),"write_proc=",t.to_a(c)),c[e(c.length,1)],$(r,"STDOUT").$extend(i($(r,"IO"),"Writable")),$(r,"STDERR").$extend(i($(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,a=t.const_get_relative;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return a(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass,$=t.truthy;return t.add_stubs(["$[]"]),function(e,a,o){function s(){}return e=s=i(e,a,"Dir",s),o=[e].concat(o),function(e,i){var a,o,s,u=[e].concat(i);return t.def(e,"$chdir",a=function(e){var n=a.$$p,i=n||r,$=r;n&&(a.$$p=null);var o;t:{try{$=t.current_dir,t.current_dir=e,o=t.yieldX(i,[]);break t}finally{t.current_dir=$}o=void 0}return o},a.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",s=function(){var t;return $(t=n(u,"ENV")["$[]"]("HOME"))?t:"."},s.$$arity=0),r&&"home"}(t.get_singleton_class(e),o)}(e[0],null,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=[],i=t.nil,$=t.const_get_relative,a=t.klass,o=t.truthy,s=t.range,u=t.send;return t.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" ")),function(n,l,c){function h(){}n=h=a(n,l,"File",h),c=[n].concat(c);var f=i;return t.const_set(c[0],"Separator",t.const_set(c[0],"SEPARATOR","/")),t.const_set(c[0],"ALT_SEPARATOR",i),t.const_set(c[0],"PATH_SEPARATOR",":"),t.const_set(c[0],"FNM_SYSCASE",0),f=/^[a-zA-Z]:(?:\\|\/)/,function(n,a){function l(t){return o(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=$(b,"Opal")["$coerce_to!"](t,$(b,"String"),"to_str")}function c(){return $(b,"ALT_SEPARATOR")===i?t.escape_regexp($(b,"SEPARATOR")):t.escape_regexp(e($(b,"SEPARATOR"),$(b,"ALT_SEPARATOR")))}var h,d,_,p,y,m,g,v,b=[n].concat(a);return t.def(n,"$expand_path",h=function t(r,n){var a,s=i,u=i,l=i,t=i,h=i,s=h=u=t=h=t=i;null==n&&(n=i),s=$(b,"SEPARATOR"),u=c(),l=[],o("~"===r[0]||n&&"~"===n[0])&&(t=$(b,"Dir").$home(),o(t)||this.$raise($(b,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),o(t["$start_with?"](s))||this.$raise($(b,"ArgumentError"),"non-absolute home"),t=e(t,s),h=new RegExp("^\\~(?:"+s+"|$)"),r=r.$sub(h,t),o(n)&&(n=n.$sub(h,t))),n=o(a=n)?a:$(b,"Dir").$pwd(),t=r.substr(0,s.length)===s||f.test(r),h=n.substr(0,s.length)===s||f.test(n),o(t)?(t=r.$split(new RegExp("["+u+"]")),u=f.test(r)?"":r.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"),h=!0):(t=e(n.$split(new RegExp("["+u+"]")),r.$split(new RegExp("["+u+"]"))),u=f.test(n)?"":n.$sub(new RegExp("^(["+u+"]+).*$"),"\\1"));for(var d=0,_=t.length;d<_;d++)a=t[d],a===i||""===a&&(0===l.length||h)||"."===a&&(0===l.length||h)||(".."===a?l.pop():l.push(a));return h||"."===t[0]||l.$unshift("."),s=l.$join(s),o(h)&&(s=e(u,s)),s},h.$$arity=-2),t.alias(n,"realpath","expand_path"),t.def(n,"$dirname",d=function(t){var e=i,e=c();t=l(t);var r=t.match(new RegExp("^["+e+"]"));return t=t.replace(new RegExp("["+e+"]+$"),""),t=t.replace(new RegExp("[^"+e+"]+$"),""),t=t.replace(new RegExp("["+e+"]+$"),""),""===t?r?"/":".":t},d.$$arity=1),t.def(n,"$basename",_=function e(r,n){var e=i;return null==n&&(n=i),e=c(),r=l(r),0==r.length?r:(n=n!==i?$(b,"Opal")["$coerce_to!"](n,$(b,"String"),"to_str"):null,r=r.replace(new RegExp("(.)["+e+"]*$"),"$1"),r=r.replace(new RegExp("^(?:.*["+e+"])?([^"+e+"]+)$"),"$1"),".*"===n?r=r.replace(/\.[^\.]+$/,""):null!==n&&(n=t.escape_regexp(n),r=r.replace(new RegExp(""+n+"$"),"")),r)},_.$$arity=-2),t.def(n,"$extname",p=function(n){var $,a=i,u=i;return n=l(n),a=this.$basename(n),o(a["$empty?"]())?"":(u=a["$[]"](s(1,-1,!1)).$rindex("."),o(o($=u["$nil?"]())?$:e(u,1)["$=="](r(a.$length(),1)))?"":a["$[]"](t.Range.$new(e(u,1),-1,!1)))},p.$$arity=1),t.def(n,"$exist?",y=function(e){return null!=t.modules[e]},y.$$arity=1),t.alias(n,"exists?","exist?"),t.def(n,"$directory?",m=function(e){var r,n,a=i,a=i,a=[];for(n in t.modules)a.push(n);return e=e.$gsub(new RegExp("(^."+$(b,"SEPARATOR")+"+|"+$(b,"SEPARATOR")+"+$)")),a=u(a,"find",[],(r=function(t){return null==t&&(t=i),t["$=~"](new RegExp("^"+e))},r.$$s=this,r.$$arity=1,r))},m.$$arity=1),t.def(n,"$join",g=function(t){var r,n,a,s=i,l=arguments.length,c=l-0;for(0>c&&(c=0),a=Array(c),c=0;c<l;c++)a[c-0]=arguments[c];return o(a["$empty?"]())?"":(s="",a=u(a.$flatten().$each_with_index(),"map",[],(r=function(t,r){return null==t&&(t=i),null==r&&(r=i),o(r["$=="](0)?t["$empty?"]():r["$=="](0))?$(b,"SEPARATOR"):o(a.$length()["$=="](e(r,1))?t["$empty?"]():a.$length()["$=="](e(r,1)))?$(b,"SEPARATOR"):t},r.$$s=this,r.$$arity=2,r)),a=u(a,"reject",[],"empty?".$to_proc()),u(a,"each_with_index",[],(n=function t(r,n){var t,u=i;return null==r&&(r=i),null==n&&(n=i),u=a["$[]"](e(n,1)),o(u["$nil?"]())?s=""+s+r:(o(o(t=r["$end_with?"]($(b,"SEPARATOR")))?u["$start_with?"]($(b,"SEPARATOR")):t)&&(r=r.$sub(new RegExp(""+$(b,"SEPARATOR")+"+$"),"")),s=o(o(t=r["$end_with?"]($(b,"SEPARATOR")))?t:u["$start_with?"]($(b,"SEPARATOR")))?""+s+r:""+s+r+$(b,"SEPARATOR"))},n.$$s=this,n.$$arity=2,n)),s)},g.$$arity=-1),t.def(n,"$split",v=function(t){return t.$split($(b,"SEPARATOR"))},v.$$arity=1),i&&"split"}(t.get_singleton_class(n),c)}(n[0],$(n,"IO"),n)},Opal.modules["corelib/process"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=t.klass,a=t.truthy;return t.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" ")),function(e,o,s){function u(){}e=u=$(e,o,"Process",u);var l,c,h,f,d=[e].concat(s);if(s=r,e.__clocks__=[],t.defs(e,"$__register_clock__",l=function(t,e){return null==this.__clocks__&&(this.__clocks__=r),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},l.$$arity=2),e.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),s=!1,t.global.performance)s=function(){return performance.now()};else if(t.global.process&&process.hrtime){var _=process.hrtime();s=function(){var t=process.hrtime(_);return 1e3*t[0]+(t[1]/1e3|0)/1e3}}return a(s)&&e.$__register_clock__("CLOCK_MONOTONIC",s),t.defs(e,"$pid",c=function(){return 0},c.$$arity=0),t.defs(e,"$times",h=function(){var t=r,t=i(d,"Time").$now().$to_f();return n(i(d,"Benchmark"),"Tms").$new(t,t,t,t,t)},h.$$arity=0),t.defs(e,"$clock_gettime",f=function(t,e){var $,o=r;switch(null==this.__clocks__&&(this.__clocks__=r),null==e&&(e="float_second"),a($=o=this.__clocks__["$[]"](t))?$:this.$raise(n(i(d,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t)),$=o(),e){case"float_second":return $/1e3;case"float_millisecond":return $/1;case"float_microsecond":return 1e3*$;case"second":return $/1e3|0;case"millisecond":return $/1|0;case"microsecond":return 1e3*$|0;case"nanosecond":return 1e6*$|0;default:this.$raise(i(d,"ArgumentError"),"unexpected unit: "+e)}},f.$$arity=-2),r&&"clock_gettime"}(e[0],null,e),function(e,n,i){function a(){}e=a=$(e,n,"Signal",a),[e].concat(i);var o;return t.defs(e,"$trap",o=function(t){return r},o.$$arity=-1),r&&"trap"}(e[0],null,e),function(e,n,i){function a(){}e=a=$(e,n,"GC",a),[e].concat(i);var o;return t.defs(e,"$start",o=function(){return r},o.$$arity=0),r&&"start"}(e[0],null,e)},Opal.modules["corelib/random/seedrandom"]=function(t){var e=[],r=t.klass;return function(t,e,n){function i(){}[i=r(t,e,"Random",i)].concat(n),!function(t,e){function r(r,u,l){var y=[];u=1==u?{entropy:!0}:u||{},r=a($(u.entropy?[r,s(t)]:null==r?o():r,3),y);var m=new n(y),y=function(){for(var t=m.g(h),e=d,r=0;t<_;)t=(t+r)*c,e*=c,r=m.g(1);for(;t>=p;)t/=2,e/=2,r>>>=1;return(t+r)/e};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,a(s(m.S),t),(u.pass||l||function(t,r,n,$){return $&&($.S&&i($,m),t.state=function(){return i(m,{})}),n?(e[f]=t,r):t})(y,r,"global"in u?u.global:this==e,u.state)}function n(t){var e,r=t.length,n=this,i=0,$=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[$=y&$+t[i%r]+(e=a[i])],a[$]=e;(n.g=function(t){for(var e,r=0,i=n.i,$=n.j,a=n.S;t--;)e=a[i=y&i+1],r=r*c+a[y&(a[i]=a[$=y&$+e])+(a[$]=e)];return n.i=i,n.j=$,r})(c)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function $(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)if(t.hasOwnProperty(r))try{n.push($(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function a(t,e){for(var r,n=t+"",i=0;i<n.length;)e[y&i]=y&(r^=19*e[y&i])+n.charCodeAt(i++);return s(e)}function o(){try{if(u)return s(u.randomBytes(c));var e=new Uint8Array(c);return(l.crypto||l.msCrypto).getRandomValues(e),s(e)}catch(r){return e=l.navigator,[+new Date,l,e&&e.plugins,l.screen,s(t)]}}function s(t){return String.fromCharCode.apply(0,t)}var u,l=this,c=256,h=6,f="random",d=e.pow(c,h),_=e.pow(2,52),p=2*_,y=c-1;if(e["seed"+f]=r,a(e.random(),t),"object"==typeof module&&module.exports){module.exports=r;try{u=__webpack_require__(230)}catch(t){}}else __webpack_require__(220)&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return r}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}([],Math)}(e[0],null,e)},Opal.modules["corelib/random"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_relative,$=t.klass,a=t.truthy,o=t.send;return t.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" ")),e.$require("corelib/random/seedrandom.js"),function(e,r,s){function u(){}e=u=$(e,r,"Random",u);var l,c,h,f,d,_,p,y,m,g=[e].concat(s);e.$attr_reader("seed","state"),t.def(e,"$initialize",l=function(t){return null==t&&(t=i(g,"Random").$new_seed()),this.state=t=i(g,"Opal")["$coerce_to!"](t,i(g,"Integer"),"to_int"),this.$reseed(t)},l.$$arity=-1),t.def(e,"$reseed",c=function(t){return this.seed=t,this.$rng=new Math.seedrandom(t)},c.$$arity=1);var v=new Math.seedrandom("opal",{entropy:!0});return t.defs(e,"$new_seed",h=function(){return Math.abs(v.int32())},h.$$arity=0),t.defs(e,"$rand",f=function(t){return i(g,"DEFAULT").$rand(t)},f.$$arity=-1),t.defs(e,"$srand",d=function t(e){var t=n;return null==e&&(e=i(g,"Random").$new_seed()),e=i(g,"Opal")["$coerce_to!"](e,i(g,"Integer"),"to_int"),t=i(g,"DEFAULT").$seed(),i(g,"DEFAULT").$reseed(e),t},d.$$arity=-1),t.defs(e,"$urandom",_=function(t){var e;return t=i(g,"Opal")["$coerce_to!"](t,i(g,"Integer"),"to_int"),a("number"==typeof t?0>t:t["$<"](0))&&this.$raise(i(g,"ArgumentError"),"negative string size (or size too big)"),o(i(g,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},_.$$arity=1),t.const_set(g[0],"DEFAULT",e.$new(e.$new_seed())),t.def(e,"$==",p=function(t){return!!a(i(g,"Random")["$==="](t))&&(this.$seed()["$=="](t.$seed())?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},p.$$arity=1),t.def(e,"$bytes",y=function(t){var e;return t=i(g,"Opal")["$coerce_to!"](t,i(g,"Integer"),"to_int"),o(i(g,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},y.$$arity=1),t.def(e,"$rand",m=function(t){function e(){return $.state++,$.$rng.quick()}function r(){var e=t.begin,r=t.end;if(e===n||r===n)return n;var i=r-e;return 0>i?n:0===i?e:(0!==r%1||0!==e%1||t.excl||i++,$.$rand(i)+e)}var $=this;return null==t?e():t.$$is_range?r():t.$$is_number?(0>=t&&$.$raise(i(g,"ArgumentError"),"invalid argument - "+t),0===t%1?Math.floor(e()*t):e()*t):(t=i(g,"Opal")["$coerce_to!"](t,i(g,"Integer"),"to_int"),0>=t&&$.$raise(i(g,"ArgumentError"),"invalid argument - "+t),Math.floor(e()*t))},m.$$arity=-1),n&&"rand"}(r[0],null,r)},Opal.modules["corelib/unsupported"]=function(t){function e(e){switch(t.config.unsupported_features_severity){case"error":o($,"Kernel").$raise(o($,"NotImplementedError"),e);break;case"warning":l[e]||(l[e]=!0,i.$warn(e))}}var r,n,i=t.top,$=[],a=t.nil,o=t.const_get_relative,s=t.klass,u=t.module;t.add_stubs(["$raise","$warn","$%"]);var l={};return function(e,r,n){function i(){}e=i=s(e,r,"String",i);var $,u,l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O=[e].concat(n);return t.def(e,"$<<",$=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},$.$$arity=-1),t.def(e,"$capitalize!",u=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},u.$$arity=-1),t.def(e,"$chomp!",l=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},l.$$arity=-1),t.def(e,"$chop!",c=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},c.$$arity=-1),t.def(e,"$downcase!",h=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},h.$$arity=-1),t.def(e,"$gsub!",f=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},f.$$arity=-1),t.def(e,"$lstrip!",d=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},d.$$arity=-1),t.def(e,"$next!",_=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},_.$$arity=-1),t.def(e,"$reverse!",p=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},p.$$arity=-1),t.def(e,"$slice!",y=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},y.$$arity=-1),t.def(e,"$squeeze!",m=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},m.$$arity=-1),t.def(e,"$strip!",g=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},g.$$arity=-1),t.def(e,"$sub!",v=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},v.$$arity=-1),t.def(e,"$succ!",b=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},b.$$arity=-1),t.def(e,"$swapcase!",w=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},w.$$arity=-1),t.def(e,"$tr!",E=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},E.$$arity=-1),t.def(e,"$tr_s!",k=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},k.$$arity=-1),t.def(e,"$upcase!",x=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},x.$$arity=-1),t.def(e,"$prepend",A=function(t){return this.$raise(o(O,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},A.$$arity=-1),a&&"prepend"}($[0],null,$),function(r,n){var i=u(r,"Kernel");[i].concat(n);var $,a;t.def(i,"$freeze",$=function(){return e("Object freezing is not supported by Opal"),this},$.$$arity=0),t.def(i,"$frozen?",a=function(){return e("Object freezing is not supported by Opal"),!1},a.$$arity=0)}($[0],$),function(r,n){var i=u(r,"Kernel");[i].concat(n);var $,a,o;t.def(i,"$taint",$=function(){return e("Object tainting is not supported by Opal"),this},$.$$arity=0),t.def(i,"$untaint",a=function(){return e("Object tainting is not supported by Opal"),this},a.$$arity=0),t.def(i,"$tainted?",o=function(){return e("Object tainting is not supported by Opal"),!1},o.$$arity=0)}($[0],$),function(e,r,n){function i(){}e=i=s(e,r,"Module",i),[e].concat(n);var $,o,u,l;return t.def(e,"$public",$=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return 0===e.length&&(this.$$module_function=!1),a},$.$$arity=-1),t.alias(e,"private","public"),t.alias(e,"protected","public"),t.alias(e,"nesting","public"),t.def(e,"$private_class_method",o=function(t){return this},o.$$arity=-1),t.alias(e,"public_class_method","private_class_method"),t.def(e,"$private_method_defined?",u=function(t){return!1},u.$$arity=1),t.def(e,"$private_constant",l=function(t){return a},l.$$arity=-1),t.alias(e,"protected_method_defined?","private_method_defined?"),t.alias(e,"public_instance_methods","instance_methods"),t.alias(e,"public_method_defined?","method_defined?")}($[0],null,$),function(e,r){var n=u(e,"Kernel");[n].concat(r);var i;t.def(n,"$private_methods",i=function(t){return[]},i.$$arity=-1),t.alias(n,"private_instance_methods","private_methods")}($[0],$),function(e,r){var n,i=u(e,"Kernel"),$=[i].concat(r);t.def(i,"$eval",n=function(t){return this.$raise(o($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+o($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},n.$$arity=-1)}($[0],$),t.defs(i,"$public",r=function(t){return a},r.$$arity=-1),t.defs(i,"$private",n=function(t){return a},n.$$arity=-1),a&&"private"},Opal.modules.opal=function(t){var e=t.top;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")),function(t,e){"object"==typeof module&&module.exports?module.exports=e:(__WEBPACK_AMD_DEFINE_ARRAY__=[module],__WEBPACK_AMD_DEFINE_RESULT__=function(t){return e(t.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(void 0,function(t){Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(t){var e=[],r=t.klass;return function(e,n,i){function $(){}return e=$=r(e,n,"Dir",$),i=[e].concat(i),function(e,r){[e].concat(r);var n;return t.def(e,"$pwd",n=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},n.$$arity=0),t.alias(e,"getwd","pwd")}(t.get_singleton_class(e),i)}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(t){var e=[],r=t.nil,n=t.klass;return function(e,i,$){function a(){}e=a=n(e,i,"File",a),[e].concat($);var o;return t.defs(e,"$read",o=function(t){var e=Java.type("java.nio.file.Paths"),r=[];return Java.type("java.nio.file.Files").readAllLines(e.get(t),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(t){r.push(t)}),r.join("\n")},o.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.nil,n=t.send,i=t.gvars,$=r;return null==i.stdout&&(i.stdout=r),null==i.stderr&&(i.stderr=r),t.add_stubs(["$write_proc=","$-"]),$=[function(t){print(t)}],n(i.stdout,"write_proc=",t.to_a($)),$[e($.length,1)],$=[function(t){print(t)}],n(i.stderr,"write_proc=",t.to_a($)),$[e($.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.nil,n=t.send,i=t.gvars,$=r;return null==i.stdout&&(i.stdout=r),null==i.stderr&&(i.stderr=r),t.add_stubs(["$write_proc=","$-"]),$=[function(t){console.log(t)}],n(i.stdout,"write_proc=",t.to_a($)),$[e($.length,1)],$=[function(t){console.error(t)}],n(i.stderr,"write_proc=",t.to_a($)),$[e($.length,1)]},Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(t){var e=[],r=t.nil,n=t.klass;return function(e,i,$){function a(){}e=a=n(e,i,"File",a),[e].concat($);var o;return t.defs(e,"$read",o=function(t){return __webpack_require__(!function(){var t=new Error('Cannot find module "fs"');throw t.code="MODULE_NOT_FOUND",t}()).read(t)},o.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=function(t){var e=[],r=t.nil,n=t.klass;return function(e,i,$){function a(){}e=a=n(e,i,"File",a),[e].concat($);var o;return t.defs(e,"$read",o=function(t){return read(t)},o.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.klass;return t.add_stubs(["$new"]),function(e,$,a){function o(){}e=o=i(e,$,"File",o);var s,u=[e].concat(a);return t.defs(e,"$read",s=function(t){var e="",r=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.addEventListener("load",function(){r=this.status,0!==r&&200!==r||(e=this.responseText)}),i.overrideMimeType("text/plain"),i.send()}catch(e){throw n(u,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===r||0===r&&!e)throw n(u,"IOError").$new("No such file or directory: "+t);return e},s.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/umd"]=function(e){var r,n=e.top,i=[],$=e.nil,a=e.const_get_relative,o=e.truthy;e.add_stubs(["$==","$require"]);var s,u,l,c,h="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,f="object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),d="object"==typeof window,_="object"==typeof Java&&Java.type,p="object"==typeof java,y="object"==typeof window&&"object"==typeof window.phantom,m="function"==typeof importScripts,g="object"==typeof JSRuntime;if("object"==typeof t&&"object"==typeof t.runtime&&(c=t.runtime,s=c.platform,u=c.engine,l=c.framework,c=c.ioModule),"undefined"==typeof s&&(h?(s=s||"node",u=u||"v8",f&&(l=l||"electron")):_?(s=s||"java",u=u||"nashorn"):p?(s=s||"java",u=u||"rhino"):g?(s=s||"standalone",l=l||"spidermonkey"):d&&(s=s||"browser",y&&(l=l||"phantomjs")),m&&(l=l||"webworker")),"undefined"==typeof s)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if("undefined"==typeof l&&(l=""),"undefined"==typeof u&&(u=""),"undefined"!=typeof c){if("spidermonkey"!==c&&"phantomjs"!==c&&"node"!==c&&"java_nio"!==c&&"xmlhttprequest"!==c)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===l)c="spidermonkey";else if("phantomjs"===l)c="phantomjs";else if("node"===s)c="node";else if("nashorn"===u)c="java_nio";else{if("browser"!==s&&"undefined"==typeof XmlHTTPRequest)throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");c="xmlhttprequest"}return e.const_set(i[0],"JAVASCRIPT_IO_MODULE",c),e.const_set(i[0],"JAVASCRIPT_PLATFORM",s),e.const_set(i[0],"JAVASCRIPT_ENGINE",u),e.const_set(i[0],"JAVASCRIPT_FRAMEWORK",l),o(o(r=a(i,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?r:a(i,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(n.$require("asciidoctor/js/opal_ext/nashorn/dir"),n.$require("asciidoctor/js/opal_ext/nashorn/file"),n.$require("asciidoctor/js/opal_ext/nashorn/io")),a(i,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),a(i,"JAVASCRIPT_PLATFORM")["$=="]("node")&&e.load("nodejs"),a(i,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&n.$require("asciidoctor/js/opal_ext/phantomjs/file"),a(i,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&n.$require("asciidoctor/js/opal_ext/spidermonkey/file"),a(i,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?n.$require("asciidoctor/js/opal_ext/browser/file"):$},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var i=[],$=t.nil,a=t.const_get_relative,o=t.klass,s=t.hash2,u=t.truthy,l=t.send,c=t.module;return t.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" ")),function(i,c,h){function f(){}i=f=o(i,c,"Set",f);var d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j=i.$$proto,U=[i].concat(h);return j.hash=$,i.$include(a(U,"Enumerable")),t.defs(i,"$[]",d=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$new(e)},d.$$arity=-1),t.def(i,"$initialize",_=function(e){var r,n=_.$$p,i=n||$;return null==e&&(e=$),n&&(_.$$p=null),this.hash=s([],{}),u(e["$nil?"]())?$:(u(a(U,"Enumerable")["$==="](e))||this.$raise(a(U,"ArgumentError"),"value must be enumerable"),u(i)?l(e,"each",[],(r=function(e){var n=r.$$s||this;return null==e&&(e=$),n.$add(t.yield1(i,e))},r.$$s=this,r.$$arity=1,r)):this.$merge(e))},_.$$arity=-1),t.def(i,"$dup",p=function(){var t=$,t=this.$class().$new();return t.$merge(this)},p.$$arity=0),t.def(i,"$-",y=function(t){return u(t["$respond_to?"]("each"))||this.$raise(a(U,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},y.$$arity=1),t.alias(i,"difference","-"),t.def(i,"$inspect",m=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>";
},m.$$arity=0),t.def(i,"$==",g=function(t){var e,r;return!!u(this["$equal?"](t))||(u(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!u(u(e=t["$is_a?"](a(U,"Set")))?this.$size()["$=="](t.$size()):e)&&l(t,"all?",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=$),null==t&&(t=$),e.hash["$include?"](t)},r.$$s=this,r.$$arity=1,r)))},g.$$arity=1),t.def(i,"$add",v=function(r){var n=$,n=[r,!0];return l(this.hash,"[]=",t.to_a(n)),n[e(n.length,1)],this},v.$$arity=1),t.alias(i,"<<","add"),t.def(i,"$classify",b=function(){var r,n,i=b.$$p,o=i||$,s=$;return i&&(b.$$p=null),o===$?this.$enum_for("classify"):(s=l(a(U,"Hash"),"new",[],(r=function(n,i){var a=r.$$s||this,o=$;return null==n&&(n=$),null==i&&(i=$),o=[i,a.$class().$new()],l(n,"[]=",t.to_a(o)),o[e(o.length,1)]},r.$$s=this,r.$$arity=2,r)),l(this,"each",[],(n=function(e){return null==e&&(e=$),s["$[]"](t.yield1(o,e)).$add(e)},n.$$s=this,n.$$arity=1,n)),s)},b.$$arity=0),t.def(i,"$collect!",w=function(){var e,r=w.$$p,n=r||$,i=$;return r&&(w.$$p=null),n===$?this.$enum_for("collect!"):(i=this.$class().$new(),l(this,"each",[],(e=function(e){return null==e&&(e=$),i["$<<"](t.yield1(n,e))},e.$$s=this,e.$$arity=1,e)),this.$replace(i))},w.$$arity=0),t.alias(i,"map!","collect!"),t.def(i,"$delete",E=function(t){return this.hash.$delete(t),this},E.$$arity=1),t.def(i,"$delete?",k=function(t){return u(this["$include?"](t))?(this.$delete(t),this):$},k.$$arity=1),t.def(i,"$delete_if",x=function(){var e,r,n=x.$$p,i=n||$;return n&&(x.$$p=null),i===$?this.$enum_for("delete_if"):(l(l(this,"select",[],(e=function(e){return null==e&&(e=$),t.yield1(i,e)},e.$$s=this,e.$$arity=1,e)),"each",[],(r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=$),null==t&&(t=$),e.hash.$delete(t)},r.$$s=this,r.$$arity=1,r)),this)},x.$$arity=0),t.def(i,"$add?",A=function(t){return u(this["$include?"](t))?$:this.$add(t)},A.$$arity=1),t.def(i,"$each",O=function(){var t=O.$$p,e=t||$;return t&&(O.$$p=null),e===$?this.$enum_for("each"):(l(this.hash,"each_key",[],e.$to_proc()),this)},O.$$arity=0),t.def(i,"$empty?",S=function(){return this.hash["$empty?"]()},S.$$arity=0),t.def(i,"$eql?",R=function(t){var e;return this.hash["$eql?"](l(t,"instance_eval",[],(e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=$),t.hash},e.$$s=this,e.$$arity=0,e)))},R.$$arity=1),t.def(i,"$clear",I=function(){return this.hash.$clear(),this},I.$$arity=0),t.def(i,"$include?",T=function(t){return this.hash["$include?"](t)},T.$$arity=1),t.alias(i,"member?","include?"),t.def(i,"$merge",M=function(t){var e;return l(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=$),r.$add(t)},e.$$s=this,e.$$arity=1,e)),this},M.$$arity=1),t.def(i,"$replace",C=function(t){return this.$clear(),this.$merge(t),this},C.$$arity=1),t.def(i,"$size",N=function(){return this.hash.$size()},N.$$arity=0),t.alias(i,"length","size"),t.def(i,"$subtract",z=function(t){var e;return l(t,"each",[],(e=function(t){var r=e.$$s||this;return null==t&&(t=$),r.$delete(t)},e.$$s=this,e.$$arity=1,e)),this},z.$$arity=1),t.def(i,"$|",B=function(t){return u(t["$respond_to?"]("each"))||this.$raise(a(U,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},B.$$arity=1),t.def(i,"$superset?",D=function(t){var e,n;return u(e=t["$is_a?"](a(U,"Set")))?e:this.$raise(a(U,"ArgumentError"),"value must be a set"),!u(r(this.$size(),t.$size()))&&l(t,"all?",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=$),e["$include?"](t)},n.$$s=this,n.$$arity=1,n))},D.$$arity=1),t.alias(i,">=","superset?"),t.def(i,"$proper_superset?",F=function(t){var e,r;return u(e=t["$is_a?"](a(U,"Set")))?e:this.$raise(a(U,"ArgumentError"),"value must be a set"),!u(n(this.$size(),t.$size()))&&l(t,"all?",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=$),e["$include?"](t)},r.$$s=this,r.$$arity=1,r))},F.$$arity=1),t.alias(i,">","proper_superset?"),t.def(i,"$subset?",L=function(t){var e,n;return u(e=t["$is_a?"](a(U,"Set")))?e:this.$raise(a(U,"ArgumentError"),"value must be a set"),!u(r(t.$size(),this.$size()))&&l(this,"all?",[],(n=function(e){return null==e&&(e=$),t["$include?"](e)},n.$$s=this,n.$$arity=1,n))},L.$$arity=1),t.alias(i,"<=","subset?"),t.def(i,"$proper_subset?",P=function(t){var e,r;return u(e=t["$is_a?"](a(U,"Set")))?e:this.$raise(a(U,"ArgumentError"),"value must be a set"),!u(n(t.$size(),this.$size()))&&l(this,"all?",[],(r=function(e){return null==e&&(e=$),t["$include?"](e)},r.$$s=this,r.$$arity=1,r))},P.$$arity=1),t.alias(i,"<","proper_subset?"),t.alias(i,"+","|"),t.alias(i,"union","|"),t.def(i,"$to_a",q=function(){return this.hash.$keys()},q.$$arity=0),$&&"to_a"}(i[0],null,i),function(e,r){var n,i=c(e,"Enumerable"),o=[i].concat(r);t.def(i,"$to_set",n=function(e,r){var i,s=n.$$p,u=s||$;null==e&&(e=a(o,"Set"));var c=arguments.length;i=c-1,0>i&&(i=0),i=Array(i);for(var h=1;h<c;h++)i[h-1]=arguments[h];return s&&(n.$$p=null),l(e,"new",[this].concat(t.to_a(i)),u.$to_proc())},n.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.send,a=t.klass,o=t.truthy,s=t.gvars;return t.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" ")),function(e,a){var o,s=i(e,"Kernel"),u=[s].concat(a);t.def(s,"$open",o=function(e,i){var a,s=o.$$p,l=s||r,c=r,c=arguments.length;a=c-1,0>a&&(a=0),a=Array(a);for(var h=1;h<c;h++)a[h-1]=arguments[h];return s&&(o.$$p=null),c=$(n(u,"File"),"new",[e].concat(t.to_a(a))),l!==r?t.yield1(l,c):c},o.$$arity=-2)}(e[0],e),function(e,i,$){function u(){}e=u=a(e,i,"File",u);var l,c,h,f,d=e.$$proto,_=[e].concat($);return d.eof=d.path=r,e.$attr_reader("eof"),e.$attr_reader("lineno"),e.$attr_reader("path"),t.def(e,"$initialize",l=function(t,e){var n=r;return null==e&&(e="r"),this.path=t,this.contents=r,this.eof=!1,this.lineno=0,e=e.$delete("b"),n=/:(.*)/,this.flags=e=e.$gsub(n,"")},l.$$arity=-2),t.def(e,"$read",c=function(){var t=r;return o(this.eof)?"":(t=n(_,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},c.$$arity=0),t.def(e,"$each_line",h=function(e){var i=h.$$p,$=i||r,a=r;if(null==s["/"]&&(s["/"]=r),null==e&&(e=s["/"]),i&&(h.$$p=null),o(this.eof))return $!==r?this:[].$to_enum();if($!==r){a=n(_,"File").$read(this.path),this.eof=!1,this.lineno=0;for(var i=a.$chomp(),a=a.length!=i.length,i=i.split(e),u=0,l=i.length;u<l;u++)this.lineno+=1,u<l-1||a?t.yield1($,i[u]+e):t.yield1($,i[u]);return this.eof=!0,this}return this.$read().$each_line()},h.$$arity=-1),t.def(e,"$readlines",f=function(){return n(_,"File").$readlines(this.path)},f.$$arity=0),function(e,i){var $,a,o,u,l=[e].concat(i);return t.def(e,"$readlines",$=function(t,e){var i=r;return null==s["/"]&&(s["/"]=r),null==e&&(e=s["/"]),i=n(l,"File").$read(t),i.$split(e)},$.$$arity=-2),t.def(e,"$file?",a=function(t){return!0},a.$$arity=1),t.def(e,"$readable?",o=function(t){return!0},o.$$arity=1),t.def(e,"$read",u=function(t){return""},u.$$arity=1),r&&"read"}(t.get_singleton_class(e),_)}(e[0],null,e),function(e,i,$){function o(){}e=o=a(e,i,"IO",o);var s,u=[e].concat($);return t.defs(e,"$read",s=function(t){return n(u,"File").$read(t)},s.$$arity=1),r&&"read"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){var e=[],r=t.nil,n=t.klass,i=t.send;return t.add_stubs(["$[]=","$-"]),function(e,$,a){function o(){}e=o=n(e,$,"MatchData",o);var s=e.$$proto;[e].concat(a);var u;return s.matches=r,t.def(e,"$[]=",u=function(e,n){var $=r,$=[e,n];i(this.matches,"[]=",t.to_a($));var a=$,$=$.length,$="number"==typeof $?$-1:$["$-"](1);return a[$]},u.$$arity=2),r&&"[]="}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){var e=[],r=t.module;return function(e,n){var i=r(e,"Kernel");[i].concat(n);var $;t.def(i,"$freeze",$=function(){return this},$.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.module,$=t.klass;return function(t,e){var a=[i(t,"ThreadSafe")].concat(e);!function(t,e,n){function i(){}return[i=$(t,e,"Cache",i)].concat(n),r}(a[0],n("::","Hash"),a)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){var e=[],r=t.nil,n=t.klass,i=t.truthy,$=t.send;return t.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" ")),function(e,a,o){function s(){}e=s=n(e,a,"String",s),[e].concat(o);var u,l;return i(e["$method_defined?"]("limit_bytesize"))||t.def(e,"$limit_bytesize",u=function(t){var e=r,e=this.$bytes().$length(),e="number"==typeof t&&"number"==typeof e?t<e:t["$<"](e);return i(e)?(e=this.$byteslice(0,t),e.$to_s()):this.$to_s()},u.$$arity=1),i(e["$method_defined?"]("limit"))||t.alias(e,"limit","limit_bytesize"),t.alias(e,"_original_unpack","unpack"),t.def(e,"$unpack",l=function(t){var e;return t["$=="]("C3")?$(this["$[]"](0,3).$bytes().$select(),"with_index",[],(e=function(t,e){return null==e&&(e=r),e["$even?"]()},e.$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},l.$$arity=1),r&&"unpack"}(e[0],null,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){var e=[],r=t.const_get_relative,n=t.module;return t.add_stubs(["$extend"]),function(e,i){var $,a,o=n(e,"URI"),s=[o].concat(i);t.defs(o,"$parse",$=function(t){return t.$extend(r(s,"URI"))},$.$$arity=1),t.def(o,"$path",a=function(){return this},a.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/umd")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=[],n=t.nil,i=t.const_get_relative,$=t.module,a=t.send,o=t.gvars,s=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(r,u){var l,c=$(r,"Asciidoctor"),h=[c].concat(u);t.const_set(h[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(c,"$unpack_hex_range",l=function(t){var e;return a(t,"gsub",[i(h,"HEX_RANGE_RX")],(e=function t(){var e,t;return"\\u"+((e=o["~"])===n?n:e["$[]"](1))+(s(e=(t=o["~"])===n?n:t["$[]"](2))?"-\\u"+((t=o["~"])===n?n:t["$[]"](2)):e)},e.$$s=this,e.$$arity=0,e))},l.$$arity=1),t.const_set(h[0],"P_L",e("A-Za-z",c.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(h[0],"P_Nl",c.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(h[0],"P_Nd",e("0-9",c.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(h[0],"P_Pc",c.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(h[0],"CC_ALPHA",""+i(h,"P_L")+i(h,"P_Nl")),t.const_set(h[0],"CG_ALPHA","["+i(h,"CC_ALPHA")+"]"),t.const_set(h[0],"CC_ALNUM",""+i(h,"CC_ALPHA")+i(h,"P_Nd")),t.const_set(h[0],"CG_ALNUM","["+i(h,"CC_ALNUM")+"]"),t.const_set(h[0],"CC_WORD",""+i(h,"CC_ALNUM")+i(h,"P_Pc")),t.const_set(h[0],"CG_WORD","["+i(h,"CC_WORD")+"]"),t.const_set(h[0],"CG_BLANK","[ \\t]"),t.const_set(h[0],"CC_EOL","(?=\\n|$)"),t.const_set(h[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(h[0],"CC_ALL","[\\s\\S]")}(r[0],r)},Opal.modules.strscan=function(t){var e=[],r=t.nil,n=t.klass,i=t.send;return t.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" ")),function(e,$,a){function o(){}e=o=n(e,$,"StringScanner",o);var s=e.$$proto;[e].concat(a);var u,l,c,h,f,d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C;return s.pos=s.string=s.working=s.matched=s.prev_pos=s.match=r,e.$attr_reader("pos"),e.$attr_reader("matched"),t.def(e,"$initialize",u=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},u.$$arity=1),e.$attr_reader("string"),t.def(e,"$beginning_of_line?",l=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},l.$$arity=0),t.alias(e,"bol?","beginning_of_line?"),t.def(e,"$scan",c=function(t){return t=this.$anchor(t),t=t.exec(this.working),null==t?this.matched=r:"object"==typeof t?(this.prev_pos=this.pos,this.pos+=t[0].length,this.working=this.working.substring(t[0].length),this.matched=t[0],this.match=t,t[0]):"string"==typeof t?(this.pos+=t.length,this.working=this.working.substring(t.length),t):r},c.$$arity=1),t.def(e,"$scan_until",h=function(t){t=this.$anchor(t);for(var e,n=this.pos,i=this.working;;){if(e=t.exec(i),n+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,n-this.pos-1+e[0].length),this.prev_pos=n-1,this.pos=n,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.matched=r}},h.$$arity=1),t.def(e,"$[]",f=function(t){var e=this.match;return 0>t&&(t+=e.length),0>t||t>=e.length||null==e[t]?r:e[t]},f.$$arity=1),t.def(e,"$check",d=function(t){return t=this.$anchor(t),t=t.exec(this.working),null==t?this.matched=r:this.matched=t[0]},d.$$arity=1),t.def(e,"$check_until",_=function(t){var e=this.prev_pos,n=this.pos;return t=this.$scan_until(t),t!==r&&(this.matched=t.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,t},_.$$arity=1),t.def(e,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.def(e,"$eos?",y=function(){return 0===this.working.length},y.$$arity=0),t.def(e,"$exist?",m=function(t){return t=t.exec(this.working),null==t?r:0==t.index?0:t.index+1},m.$$arity=1),t.def(e,"$skip",g=function(t){if(t=this.$anchor(t),t=t.exec(this.working),null==t)return this.matched=r;t=t[0];var e=t.length;return this.matched=t,this.prev_pos=this.pos,this.pos+=e,this.working=this.working.substring(e),e},g.$$arity=1),t.def(e,"$skip_until",v=function(t){return t=this.$scan_until(t),t===r?r:(this.matched=t.substr(-1),t.length)},v.$$arity=1),t.def(e,"$get_byte",b=function(){var t=r;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=r,t},b.$$arity=0),t.alias(e,"getch","get_byte"),t.def(e,"$match?",w=function(t){return t=this.$anchor(t),t=t.exec(this.working),null==t?r:(this.prev_pos=this.pos,t[0].length)},w.$$arity=1),t.def(e,"$pos=",E=function(t){return 0>t&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},E.$$arity=1),t.def(e,"$matched_size",k=function(){return this.matched===r?r:this.matched.length},k.$$arity=0),t.def(e,"$post_match",x=function(){return this.matched===r?r:this.string.substr(this.pos)},x.$$arity=0),t.def(e,"$pre_match",A=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},A.$$arity=0),t.def(e,"$reset",O=function(){return this.working=this.string,this.matched=r,this.pos=0},O.$$arity=0),t.def(e,"$rest",S=function(){return this.working},S.$$arity=0),t.def(e,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),t.def(e,"$rest_size",I=function(){return this.$rest().$size()},I.$$arity=0),t.def(e,"$terminate",T=function(){var e=r;this.match=r,e=[this.string.$length()],i(this,"pos=",t.to_a(e));var n=e,e=e.length,e="number"==typeof e?e-1:e["$-"](1);return n[e]},T.$$arity=0),t.def(e,"$unscan",M=function(){return this.pos=this.prev_pos,this.match=this.prev_pos=r,this},M.$$arity=0),e.$private(),t.def(e,"$anchor",C=function(t){var e=t.toString().match(/\/([^\/]+)$/),e=e?e[1]:void 0;return new RegExp("^(?:"+t.source+")",e)},C.$$arity=1),r&&"anchor"}(e[0],null,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i=[],$=t.nil,a=t.const_get_qualified,o=t.module,s=t.klass,u=t.hash2,l=t.send,c=t.truthy,h=t.gvars;return t.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" ")),function(i,f){var d=[o(i,"Asciidoctor")].concat(f);!function(i,o,f){function d(){}i=d=s(i,o,"Timings",d);var _=i.$$proto;[i].concat(f);var p,y,m,g,v,b,w,E;return _.timers=_.log=$,t.def(i,"$initialize",p=function(){return this.log=u([],{}),this.timers=u([],{})},p.$$arity=0),t.def(i,"$start",y=function(r){var n=$,n=[r,a("::","Time").$now()];return l(this.timers,"[]=",t.to_a(n)),n[e(n.length,1)]},y.$$arity=1),t.def(i,"$record",m=function(r){var n=$,n=[r,e(a("::","Time").$now(),this.timers.$delete(r))];return l(this.log,"[]=",t.to_a(n)),n[e(n.length,1)]},m.$$arity=1),t.def(i,"$read_parse",g=function(){var t,e=$;return c(r(e=n(c(t=this.log["$[]"]("read"))?t:0,c(t=this.log["$[]"]("parse"))?t:0),0))?e:$},g.$$arity=0),t.def(i,"$convert",v=function(){var t;return c(t=this.log["$[]"]("convert"))?t:0},v.$$arity=0),t.def(i,"$read_parse_convert",b=function(){var t,e=$;return c(r(e=n(n(c(t=this.log["$[]"]("read"))?t:0,c(t=this.log["$[]"]("parse"))?t:0),c(t=this.log["$[]"]("convert"))?t:0),0))?e:$},b.$$arity=0),t.def(i,"$total",w=function(){var t,e=$;return c(r(e=n(n(n(c(t=this.log["$[]"]("read"))?t:0,c(t=this.log["$[]"]("parse"))?t:0),c(t=this.log["$[]"]("convert"))?t:0),c(t=this.log["$[]"]("write"))?t:0),0))?e:$},w.$$arity=0),t.def(i,"$print_report",E=function(t,e){return null==h.stdout&&(h.stdout=$),null==t&&(t=h.stdout),null==e&&(e=$),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},E.$$arity=-1),$&&"print_report"}(d[0],null,d)}(i[0],i)},Opal.modules["asciidoctor/version"]=function(t){var e=[],r=t.module,e=[r(e[0],"Asciidoctor")].concat(e);t.const_set(e[0],"VERSION","1.5.6.2")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){var e=[],r=t.nil,n=t.klass,i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,$,a){function o(){}return e=o=n(e,$,"NilClass",o),[e].concat(a),i(e["$method_defined?"]("nil_or_empty?"))?r:t.alias(e,"nil_or_empty?","nil?")}(e[0],null,e),function(e,$,a){function o(){}return e=o=n(e,$,"String",o),[e].concat(a),i(e["$method_defined?"]("nil_or_empty?"))?r:t.alias(e,"nil_or_empty?","empty?")}(e[0],null,e),function(e,$,a){function o(){}return e=o=n(e,$,"Array",o),[e].concat(a),i(e["$method_defined?"]("nil_or_empty?"))?r:t.alias(e,"nil_or_empty?","empty?")}(e[0],null,e),function(e,$,a){function o(){}return e=o=n(e,$,"Hash",o),[e].concat(a),i(e["$method_defined?"]("nil_or_empty?"))?r:t.alias(e,"nil_or_empty?","empty?")}(e[0],null,e),function(e,$,a){function o(){}return e=o=n(e,$,"Numeric",o),[e].concat(a),i(e["$method_defined?"]("nil_or_empty?"))?r:t.alias(e,"nil_or_empty?","nil?")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(t){var e=[],r=t.nil,n=t.klass,i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,$,a){function o(){}return e=o=n(e,$,"Regexp",o),[e].concat(a),i(e["$method_defined?"]("match?"))?r:t.alias(e,"match?","===")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.klass,$=t.truthy;return t.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" ")),function(e,a,o){function s(){}e=s=i(e,a,"String",s),[e].concat(o);var u;return $(e["$method_defined?"]("limit_bytesize"))?r:(t.def(e,"$limit_bytesize",u=function(t){var e=r,e=this.$bytesize(),e="number"==typeof t&&"number"==typeof e?t<e:t["$<"](e);if(!$(e))return this;for(;!$((e=this.$byteslice(0,t)).$force_encoding(n(n("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)t="number"==typeof t?t-1:t["$-"](1);return e},u.$$arity=1),r&&"limit_bytesize")}(e[0],null,e)},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){var e,r=[],n=t.nil,i=t.const_get_relative,$=t.truthy,a=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),$(i(r,"IO")["$respond_to?"]("write"))?n:(t.defs(i(r,"IO"),"$write",e=function(t,e,$,o){var s;return null==$&&($=0),null==o&&(o=n),a(i(r,"File"),"open",[t,"w"],(s=function(t){return null==t&&(t=n),t.$write(e)},s.$$s=this,s.$$arity=1,s))},e.$$arity=-3),n&&"write")},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_relative,$=t.truthy;return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),$(i(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),i(r,"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext/1.8.7/io/write"):n):($(i(r,"RUBY_ENGINE")["$!="]("opal")),n)},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,a=t.module,o=t.truthy,s=t.send,u=t.range,l=t.gvars;return t.add_stubs("$require $== $=== $raise $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $include? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $! $!= $mkdir_p $mkdir".split(" ")),function(r,c){var h=[a(r,"Asciidoctor")].concat(c);!function(r,c){var h,f,d,_,p,y,m,g,v,b,w=a(r,"Helpers"),E=[w].concat(c);t.defs(w,"$require_library",h=function(e,r,$){var a=n,s=n;null==r&&(r=!0),null==$&&($="abort");try{return this.$require(e)}catch(u){if(!t.rescue(u,[i("::","LoadError")]))throw u;a=u;try{return o(r)?(r["$=="](!0)&&(r=e),s=$,"abort"["$==="](s)?this.$raise(i("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not installed. Processing aborted."):"warn"["$==="](s)?this.$warn("asciidoctor: WARNING: optional gem '"+r+"' is not installed. Functionality disabled."):n):(s=$,"abort"["$==="](s)?this.$raise(i("::","LoadError"),"asciidoctor: FAILED: "+a.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](s)?this.$warn("asciidoctor: WARNING: "+a.$message().$chomp(".")+". Functionality disabled."):n)}finally{t.pop_exception()}}},h.$$arity=-2),t.defs(w,"$normalize_lines",f=function(t){return t.$class()["$=="](i("::","String"))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},f.$$arity=1),t.defs(w,"$normalize_lines_array",d=function(r){var a,l,c,h,f=n,d=n,_=n,p=n,f=n;return o(r["$empty?"]())?r:(f=(d=r["$[]"](0)).$unpack("C3"),o($(E,"COERCE_ENCODING"))?(_=i(i("::","Encoding"),"UTF_8"),(p=f.$slice(0,2))["$=="]($(E,"BOM_BYTES_UTF_16LE"))?s(r.$join().$force_encoding(i(i("::","Encoding"),"UTF_16LE"))["$[]"](u(1,-1,!1)).$encode(_).$each_line(),"map",[],(a=function(t){return null==t&&(t=n),t.$rstrip()},a.$$s=this,a.$$arity=1,a)):p["$=="]($(E,"BOM_BYTES_UTF_16BE"))?(f=[0,d.$force_encoding(i(i("::","Encoding"),"UTF_16BE"))["$[]"](u(1,-1,!1))],s(r,"[]=",t.to_a(f)),f[e(f.length,1)],s(r,"map",[],(l=function(t){return null==t&&(t=n),""+t.$force_encoding(i(i("::","Encoding"),"UTF_16BE")).$encode(_).$rstrip()},l.$$s=this,l.$$arity=1,l))):(f["$=="]($(E,"BOM_BYTES_UTF_8"))&&(f=[0,d.$force_encoding(_)["$[]"](u(1,-1,!1))],s(r,"[]=",t.to_a(f)),f[e(f.length,1)]),s(r,"map",[],(c=function(t){return null==t&&(t=n),t.$encoding()["$=="](_)?t.$rstrip():t.$force_encoding(_).$rstrip()},c.$$s=this,c.$$arity=1,c)))):(f["$=="]($(E,"BOM_BYTES_UTF_8"))&&(f=[0,d["$[]"](u(3,-1,!1))],s(r,"[]=",t.to_a(f)),f[e(f.length,1)]),s(r,"map",[],(h=function(t){return null==t&&(t=n),t.$rstrip()},h.$$s=this,h.$$arity=1,h))))},d.$$arity=1),t.defs(w,"$normalize_lines_from_string",_=function(t){var e,r=n,a=n,l=n;return o(t["$nil_or_empty?"]())?[]:(r=t.$unpack("C3"),o($(E,"COERCE_ENCODING"))?(a=i(i("::","Encoding"),"UTF_8"),(l=r.$slice(0,2))["$=="]($(E,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16LE"))["$[]"](u(1,-1,!1)).$encode(a):l["$=="]($(E,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(i(i("::","Encoding"),"UTF_16BE"))["$[]"](u(1,-1,!1)).$encode(a):r["$=="]($(E,"BOM_BYTES_UTF_8"))?t=t.$encoding()["$=="](a)?t["$[]"](u(1,-1,!1)):t.$force_encoding(a)["$[]"](u(1,-1,!1)):t.$encoding()["$=="](a)||(t=t.$force_encoding(a))):r["$=="]($(E,"BOM_BYTES_UTF_8"))&&(t=t["$[]"](u(3,-1,!1))),s(t.$each_line(),"map",[],(e=function(t){return null==t&&(t=n),t.$rstrip()},e.$$s=this,e.$$arity=1,e)))},_.$$arity=1),t.defs(w,"$uriish?",p=function(t){var e;return o(e=t["$include?"](":"))?$(E,"UriSniffRx")["$match?"](t):e},p.$$arity=1),t.defs(w,"$uri_prefix",y=function(t){var e;return o(o(e=t["$include?"](":"))?$(E,"UriSniffRx")["$=~"](t):e)?(e=l["~"])===n?n:e["$[]"](0):n},y.$$arity=1),t.const_set(E[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),t.defs(w,"$uri_encode",m=function(t){var e;return s(t,"gsub",[$(E,"REGEXP_ENCODE_URI_CHARS")],(e=function(){var t,r,i=e.$$s||this;return s(((t=l["~"])===n?n:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=n),e.$sprintf("%%%02X",t)},r.$$s=i,r.$$arity=1,r)).$join()},e.$$s=this,e.$$arity=0,e))},m.$$arity=1),t.defs(w,"$rootname",g=function(t){var e;return t.$slice(0,o(e=t.$rindex("."))?e:t.$length())},g.$$arity=1),t.defs(w,"$basename",v=function(t,e){return null==e&&(e=n),o(e)?i("::","File").$basename(t,e["$=="](!0)?i("::","File").$extname(t):e):i("::","File").$basename(t)},v.$$arity=-2),t.defs(w,"$mkdir_p",b=function(t){var e,r=n;return o(i("::","File")["$directory?"](t))?n:(r=i("::","File").$dirname(t),o(o(e=i("::","File")["$directory?"](r=i("::","File").$dirname(t))["$!"]())?r["$!="]("."):e)&&this.$mkdir_p(r),i("::","Dir").$mkdir(t))},b.$$arity=1)}(h[0],h)}(r[0],r)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.slice,c=t.module,h=t.hash2,f=t.hash,d=t.truthy,_=t.send,p=t.gvars,y=t.range;return t.add_stubs("$freeze $+ $keys $attr_reader $empty? $! $=== $[] $each $<< $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $== $length $> $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $to_sym $nil_or_empty? $attributes $basebackend? $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $!= $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $delete $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $rindex $catalog $key $attr? $escape $attr $read_next_id $callouts $< $parse_quoted_text_attributes $shorthand_property_syntax $concat $parse_into $parse $each_char $join $chr $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $=~ $to_a $uniq $sort $resolve_block_subs".split(" ")),function(a,m){var g=[c(a,"Asciidoctor")].concat(m);!function(a,m){var g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V=c(a,"Substitutors"),J=[V].concat(m);t.const_set(J[0],"SpecialCharsRx",/[<&>]/),t.const_set(J[0],"SpecialCharsTr",h([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(J[0],"QuotedTextSniffRx",f(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(J[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(J[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(J[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze(),t.const_set(J[0],"NONE_SUBS",[]).$freeze(),t.const_set(J[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze(),t.const_set(J[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(J[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(J[0],"SUB_GROUPS",h(["none","normal","verbatim","specialchars"],{
none:u(J,"NONE_SUBS"),normal:u(J,"NORMAL_SUBS"),verbatim:u(J,"VERBATIM_SUBS"),specialchars:u(J,"BASIC_SUBS")})),t.const_set(J[0],"SUB_HINTS",h("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(J[0],"SUB_OPTIONS",h(["block","inline"],{block:e(e(u(J,"SUB_GROUPS").$keys(),u(J,"NORMAL_SUBS")),["callouts"]),inline:e(u(J,"SUB_GROUPS").$keys(),u(J,"NORMAL_SUBS"))})),t.const_set(J[0],"SUB_HIGHLIGHT",["coderay","pygments"]),t.const_set(J[0],"PASS_START",""),t.const_set(J[0],"PASS_END",""),t.const_set(J[0],"PassSlotRx",new RegExp(""+u(J,"PASS_START")+"(\\d+)"+u(J,"PASS_END"))),t.const_set(J[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+u(J,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+u(J,"PASS_END")+"</span>")),t.const_set(J[0],"RS","\\"),t.const_set(J[0],"R_SB","]"),t.const_set(J[0],"ESC_R_SB","\\]"),t.const_set(J[0],"PLUS","+"),t.const_set(J[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),t.const_set(J[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),V.$attr_reader("passthroughs"),t.def(V,"$apply_subs",g=function(t,n,i){var $,a,l,c=o,h=o,f=o,p=o;if(null==this.passthroughs&&(this.passthroughs=o),null==n&&(n=u(J,"NORMAL_SUBS")),null==i&&(i=o),d(d($=t["$empty?"]())?$:n["$!"]()))return t;if(d(i)){if(d(s("::","Symbol")["$==="](n)))n=d($=u(J,"SUB_GROUPS")["$[]"](n))?$:[n];else if(c=[],_(n,"each",[],(a=function(t){var r=o;return null==t&&(t=o),d(r=u(J,"SUB_GROUPS")["$[]"](t))?d(r["$empty?"]())?o:c=e(c,r):c["$<<"](t)},a.$$s=this,a.$$arity=1,a)),d((n=c)["$empty?"]()))return t}else if(d(n["$empty?"]()))return t;return h=d(f=s("::","Array")["$==="](t))?r(t,u(J,"LF")):t,d(p=n["$include?"]("macros"))&&(h=this.$extract_passthroughs(h),d(this.passthroughs["$empty?"]())&&(p=!1)),_(n,"each",[],(l=function(t){var e=l.$$s||this,i=o;return null==t&&(t=o),i=t,"specialcharacters"["$==="](i)?h=e.$sub_specialchars(h):"quotes"["$==="](i)?h=e.$sub_quotes(h):"attributes"["$==="](i)?d(h["$include?"](u(J,"ATTR_REF_HEAD")))?h=r(e.$sub_attributes(h.$split(u(J,"LF"),-1)),u(J,"LF")):o:"replacements"["$==="](i)?h=e.$sub_replacements(h):"macros"["$==="](i)?h=e.$sub_macros(h):"highlight"["$==="](i)?h=e.$highlight_source(h,n["$include?"]("callouts")):"callouts"["$==="](i)?d(n["$include?"]("highlight"))?o:h=e.$sub_callouts(h):"post_replacements"["$==="](i)?h=e.$sub_post_replacements(h):e.$warn("asciidoctor: WARNING: unknown substitution type "+t)},l.$$s=this,l.$$arity=1,l)),d(p)&&(h=this.$restore_passthroughs(h)),d(f)?h.$split(u(J,"LF"),-1):h},g.$$arity=-2),t.def(V,"$apply_normal_subs",v=function(t){return this.$apply_subs(t)},v.$$arity=1),t.def(V,"$apply_title_subs",b=function(t){return this.$apply_subs(t,u(J,"TITLE_SUBS"))},b.$$arity=1),t.def(V,"$apply_reftext_subs",w=function(t){return this.$apply_subs(t,u(J,"REFTEXT_SUBS"))},w.$$arity=1),t.def(V,"$apply_header_subs",E=function(t){return this.$apply_subs(t,u(J,"HEADER_SUBS"))},E.$$arity=1),t.def(V,"$extract_passthroughs",k=function(e){var $,a,s,l,c,f=o,m=o,g=o,v=o;return null==this.document&&(this.document=o),f=this.document.$compat_mode(),d(d($=d(a=e["$include?"]("++"))?a:e["$include?"]("$$"))?$:e["$include?"]("ss:"))&&(e=_(e,"gsub",[u(J,"InlinePassMacroRx")],(s=function(){var e,$=s.$$s||this,a=o,l=o,c=o,m=o,g=o,v=o,b=o,m=c=a=o;if(null==$.passthroughs&&($.passthroughs=o),null==p["~"]&&(p["~"]=o),a=p["~"],l=o,d(c=a["$[]"](4))){if(d(d(e=f)?c["$=="]("++"):e))return d(a["$[]"](2))?""+a["$[]"](1)+"["+a["$[]"](2)+"]"+a["$[]"](3)+"++"+$.$extract_passthroughs(a["$[]"](5))+"++":""+a["$[]"](1)+a["$[]"](3)+"++"+$.$extract_passthroughs(a["$[]"](5))+"++";if(m=a["$[]"](2),g=a["$[]"](3).$length(),v=a["$[]"](5),b=!1,d(m)){if(d(n(g,0)))return""+a["$[]"](1)+"["+m+"]"+r(u(J,"RS"),i(g,1))+c+a["$[]"](5)+c;a["$[]"](1)["$=="](u(J,"RS"))?(l="["+m+"]",m=o):(d(c["$=="]("++")?m["$end_with?"]("x-"):c["$=="]("++"))&&(b=!0,m=m["$[]"](y(0,-2,!0))),m=$.$parse_attributes(m))}else if(d(n(g,0)))return""+r(u(J,"RS"),i(g,1))+c+a["$[]"](5)+c;a=c["$=="]("+++")?[]:u(J,"BASIC_SUBS"),c=$.passthroughs.$size(),m=d(m)?d(b)?[c,h(["text","subs","type","attributes"],{text:v,subs:u(J,"NORMAL_SUBS"),type:"monospaced",attributes:m})]:[c,h(["text","subs","type","attributes"],{text:v,subs:a,type:"unquoted",attributes:m})]:[c,h(["text","subs"],{text:v,subs:a})]}else{if(a["$[]"](6)["$=="](u(J,"RS")))return a["$[]"](0)["$[]"](y(1,-1,!1));m=[c=$.passthroughs.$size(),h(["text","subs"],{text:$.$unescape_brackets(a["$[]"](8)),subs:d(a["$[]"](7))?$.$resolve_pass_subs(a["$[]"](7)):[]})]}return _($.passthroughs,"[]=",t.to_a(m)),m[i(m.length,1)],""+l+u(J,"PASS_START")+c+u(J,"PASS_END")},s.$$s=this,s.$$arity=0,s))),a=u(J,"PassInlineRx")["$[]"](f),$=t.to_ary(a),m=null==$[0]?o:$[0],g=null==$[1]?o:$[1],v=null==$[2]?o:$[2],d(d($=e["$include?"](m))?$:d(a=g)?e["$include?"](g):a)&&(e=_(e,"gsub",[v],(l=function(){var e,r=l.$$s||this,n=o,$=o,a=o,s=o,c=o,m=o,g=o,c=a=n=o;if(null==r.passthroughs&&(r.passthroughs=o),null==p["~"]&&(p["~"]=o),n=p["~"],$=n["$[]"](1),a=n["$[]"](2),d(n["$[]"](3)["$start_with?"](u(J,"RS")))&&(s=u(J,"RS")),c=n["$[]"](4),m=n["$[]"](5),d(f)?g=!0:d(g=d(e=a)?a["$end_with?"]("x-"):e)&&(a=a["$[]"](y(0,-2,!0))),d(a)){if(d(c["$=="]("`")?g["$!"]():c["$=="]("`")))return""+$+"["+a+"]"+s+"`"+r.$extract_passthroughs(m)+"`";if(d(s))return""+$+"["+a+"]"+n["$[]"](3)["$[]"](y(1,-1,!1));$["$=="](u(J,"RS"))?($="["+a+"]",a=o):a=r.$parse_attributes(a)}else{if(d(c["$=="]("`")?g["$!"]():c["$=="]("`")))return""+$+s+"`"+r.$extract_passthroughs(m)+"`";if(d(s))return""+$+n["$[]"](3)["$[]"](y(1,-1,!1))}return n=r.passthroughs.$size(),d(f)?a=[n,h(["text","subs","attributes","type"],{text:m,subs:u(J,"BASIC_SUBS"),attributes:a,type:"monospaced"})]:d(a)?d(g)?(c=c["$=="]("`")?u(J,"BASIC_SUBS"):u(J,"NORMAL_SUBS"),a=[n,h(["text","subs","attributes","type"],{text:m,subs:c,attributes:a,type:"monospaced"})]):a=[n,h(["text","subs","attributes","type"],{text:m,subs:u(J,"BASIC_SUBS"),attributes:a,type:"unquoted"})]:a=[n,h(["text","subs"],{text:m,subs:u(J,"BASIC_SUBS")})],_(r.passthroughs,"[]=",t.to_a(a)),a[i(a.length,1)],""+$+u(J,"PASS_START")+n+u(J,"PASS_END")},l.$$s=this,l.$$arity=0,l))),d(d($=e["$include?"](":"))?d(a=e["$include?"]("stem:"))?a:e["$include?"]("math:"):$)&&(e=_(e,"gsub",[u(J,"InlineStemMacroRx")],(c=function(){var e=c.$$s||this,r=o,n=o,$=o,a=o,s=o,r=n=o;return null==e.document&&(e.document=o),null==e.passthroughs&&(e.passthroughs=o),null==p["~"]&&(p["~"]=o),r=p["~"],d(r["$[]"](0)["$start_with?"](u(J,"RS")))?r["$[]"](0)["$[]"](y(1,-1,!1)):((n=r["$[]"](1).$to_sym())["$=="]("stem")&&(n=(d(($=e.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":$).$to_sym()),a=e.$unescape_brackets(r["$[]"](3)),s=d(r["$[]"](2))?e.$resolve_pass_subs(r["$[]"](2)):d(e.document["$basebackend?"]("html"))?u(J,"BASIC_SUBS"):[],n=[r=e.passthroughs.$size(),h(["text","subs","type"],{text:a,subs:s,type:n})],_(e.passthroughs,"[]=",t.to_a(n)),n[i(n.length,1)],""+u(J,"PASS_START")+r+u(J,"PASS_END"))},c.$$s=this,c.$$arity=0,c))),e},k.$$arity=1),t.def(V,"$restore_passthroughs",x=function(t,e){var r,n,i,$=this;return null==$.passthroughs&&($.passthroughs=o),null==e&&(e=!0),function(){try{return d(d(r=e)?d(n=$.passthroughs["$empty?"]())?n:t["$include?"](u(J,"PASS_START"))["$!"]():r)?t:_(t,"gsub",[u(J,"PassSlotRx")],(i=function(){var t,e=i.$$s||this,r=o,n=o,$=o;return null==e.passthroughs&&(e.passthroughs=o),r=e.passthroughs["$[]"](((t=p["~"])===o?o:t["$[]"](1)).$to_i()),n=e.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),d($=r["$[]"]("type"))&&(n=u(J,"Inline").$new(e,"quoted",n,h(["type","attributes"],{type:$,attributes:r["$[]"]("attributes")})).$convert()),d(n["$include?"](u(J,"PASS_START")))?e.$restore_passthroughs(n,!1):n},i.$$s=$,i.$$arity=0,i))}finally{d(e)&&$.passthroughs.$clear()}}()},x.$$arity=-2),u(J,"RUBY_ENGINE")["$=="]("opal")?(t.def(V,"$sub_quotes",A=function(t){var e,r=o;return null==this.document&&(this.document=o),d(u(J,"QuotedTextSniffRx")["$[]"](r=this.document.$compat_mode())["$match?"](t))&&_(u(J,"QUOTE_SUBS")["$[]"](r),"each",[],(e=function(r,n,i){var $,a=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=_(t,"gsub",[i],($=function(){var t=$.$$s||this;return null==p["~"]&&(p["~"]=o),t.$convert_quoted_text(p["~"],r,n)},$.$$s=a,$.$$arity=0,$))},e.$$s=this,e.$$arity=3,e)),t},A.$$arity=1),t.def(V,"$sub_replacements",O=function(t){var e;return d(u(J,"ReplaceableTextRx")["$match?"](t))&&_(u(J,"REPLACEMENTS"),"each",[],(e=function(r,n,i){var $,a=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=_(t,"gsub",[r],($=function(){var t=$.$$s||this;return null==p["~"]&&(p["~"]=o),t.$do_replacement(p["~"],n,i)},$.$$s=a,$.$$arity=0,$))},e.$$s=this,e.$$arity=3,e)),t},O.$$arity=1),t.def(V,"$sub_specialchars",S=function(t){var e,r;return d(d(e=d(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(u(J,"SpecialCharsRx"),u(J,"SpecialCharsTr")):t},S.$$arity=1)):o,t.alias(V,"sub_specialcharacters","sub_specialchars"),t.def(V,"$do_replacement",R=function(t,e,r){var n=o,n=o;return d((n=t["$[]"](0))["$include?"](u(J,"RS")))?t=n.$sub(u(J,"RS"),""):(n=r,t="none"["$==="](n)?e:"bounding"["$==="](n)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e),t},R.$$arity=3),t.def(V,"$sub_attributes",I=function(e,n){var i,$,a=this,l=o,c=o,f=o;return null==a.document&&(a.document=o),null==n&&(n=h([],{})),d(l=s("::","String")["$==="](e))&&(e=[e]),i=[a.document.$attributes(),[]],c=i[0],f=i[1],function(){var r=t.new_brk();try{return _(e,"each",[],($=function(e){var r,i,a,s=$.$$s||this,l=o,h=o;return null==e&&(e=o),l=h=!1,d(e["$include?"](u(J,"ATTR_REF_HEAD")))&&(e=function(){var i=t.new_brk();try{return _(e,"gsub",[u(J,"AttributeReferenceRx")],(r=function(){var e,$,a,s=r.$$s||this,f=o,y=o,m=o,g=o,v=o;return null==s.document&&(s.document=o),d(d(e=(($=p["~"])===o?o:$["$[]"](1))["$=="](u(J,"RS")))?e:(($=p["~"])===o?o:$["$[]"](4))["$=="](u(J,"RS")))?g="{"+((e=p["~"])===o?o:e["$[]"](2))+"}":d((e=p["~"])===o?o:e["$[]"](3))?g=function(){return f=(y=((e=p["~"])===o?o:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](f)?($=u(J,"Parser").$store_attribute(y["$[]"](0),d(a=y["$[]"](1))?a:"",s.document),e=t.to_ary($),m=null==e[1]?o:e[1],!d(m)&&c.$fetch("attribute-undefined",u(J,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(l=!0,t.brk("",i)),h=!0,""):"counter2"["$==="](f)?(_(s.document,"counter",t.to_a(y)),h=!0,""):_(s.document,"counter",t.to_a(y))}():d(c["$key?"](g=((e=p["~"])===o?o:e["$[]"](2)).$downcase()))?g=c["$[]"](g):d(u(J,"INTRINSIC_ATTRIBUTES")["$key?"](g))?g=u(J,"INTRINSIC_ATTRIBUTES")["$[]"](g):(f=v=d(e=v)?e:d($=n["$[]"]("attribute_missing"))?$:c.$fetch("attribute-missing",u(J,"Compliance").$attribute_missing()),"drop"["$==="](f)?(h=!0,g=""):"drop-line"["$==="](f)?(s.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+g),l=!0,t.brk("",i),g=void 0):("warn"["$==="](f)&&s.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+g),g=(e=p["~"])===o?o:e["$[]"](0))),g},r.$$s=s,r.$$brk=i,r.$$arity=0,r))}catch(t){if(t===i)return t.$v;throw t}}()),d(d(i=l)?i:d(a=h)?e["$empty?"]():a)?o:f["$<<"](e)},$.$$s=a,$.$$brk=r,$.$$arity=1,$))}catch(t){if(t===r)return t.$v;throw t}}(),d(l)?r(f,u(J,"LF")):f},I.$$arity=-2),t.def(V,"$sub_macros",T=function(e){var r,$,a,c,f,m,g,v,b,w,E,k,x=o,A=o,O=o,S=o,R=A=o,I=o,T=o,M=o,C=o;return null==this.document&&(this.document=o),x=h([],{}),O=["square_bracket",e["$include?"]("[")],_(x,"[]=",t.to_a(O)),A=O[i(O.length,1)],S=e["$include?"](":"),O=["macroish",d(r=A)?S:r],_(x,"[]=",t.to_a(O)),A=O[i(O.length,1)],R=d(r=A)?e["$include?"](":["):r,I=this.document.$attributes(),T=I["$key?"]("linkattrs"),M=e,d(I["$key?"]("experimental"))&&(d(d(r=R)?d($=M["$include?"]("kbd:"))?$:M["$include?"]("btn:"):r)&&(M=_(M,"gsub",[u(J,"InlineKbdBtnMacroRx")],(a=function(){var e,r,$,s=a.$$s||this,l=o,c=o,f=o;return d((e=p["~"])===o?o:e["$[]"](1))?((e=p["~"])===o?o:e["$[]"](0)).$slice(1,((e=p["~"])===o?o:e["$[]"](0)).$length()):((e=p["~"])===o?o:e["$[]"](2))["$=="]("kbd")?(d((l=((e=p["~"])===o?o:e["$[]"](3)).$strip())["$include?"](u(J,"R_SB")))&&(l=l.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),d(d(e=n(l.$length(),1))?c=d(c=l.$index(",",1))?[c,l.$index("+",1)].$compact().$min():l.$index("+",1):e)?(f=l.$slice(c,1),d(l["$end_with?"](f))?(l=_(l.$chop().$split(f,-1),"map",[],(r=function(t){return null==t&&(t=o),t.$strip()},r.$$s=s,r.$$arity=1,r)),O=[-1,""+l["$[]"](-1)+f],_(l,"[]=",t.to_a(O)),O[i(O.length,1)]):l=_(l.$split(f),"map",[],($=function(t){return null==t&&(t=o),t.$strip()},$.$$s=s,$.$$arity=1,$))):l=[l],u(J,"Inline").$new(s,"kbd",o,h(["attributes"],{attributes:h(["keys"],{keys:l})})).$convert()):u(J,"Inline").$new(s,"button",s.$unescape_bracketed_text((e=p["~"])===o?o:e["$[]"](3))).$convert()},a.$$s=this,a.$$arity=0,a))),d(d(r=A)?M["$include?"]("menu:"):r)&&(M=_(M,"gsub",[u(J,"InlineMenuMacroRx")],(c=function(){var t,e,r=c.$$s||this,n=o,i=n=t=o,$=i=t=o;return null==p["~"]&&(p["~"]=o),n=p["~"],d((t=n["$[]"](0))["$start_with?"](u(J,"RS")))?t["$[]"](y(1,-1,!1)):(t=[n["$[]"](1),n["$[]"](2)],n=t[0],i=t[1],d(i)?(d(i["$include?"](u(J,"R_SB")))&&(i=i.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),d(t=d(i["$include?"]("&gt;"))?"&gt;":d(i["$include?"](","))?",":o)?(i=_(i.$split(t),"map",[],(e=function(t){return null==t&&(t=o),t.$strip()},e.$$s=r,e.$$arity=1,e)),$=i.$pop()):(t=[[],i.$rstrip()],i=t[0],$=t[1],t)):(t=[[],o],i=t[0],$=t[1],t),u(J,"Inline").$new(r,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:n,submenus:i,menuitem:$})})).$convert())},c.$$s=this,c.$$arity=0,c))),d(d(r=M["$include?"]('"'))?M["$include?"]("&gt;"):r)&&(M=_(M,"gsub",[u(J,"MenuInlineRx")],(f=function(){var e,r,n=f.$$s||this,i=o,$=i=i=r=o;return r=o,null==p["~"]&&(p["~"]=o),i=p["~"],d((r=i["$[]"](0))["$start_with?"](u(J,"RS")))?r["$[]"](y(1,-1,!1)):(i=i["$[]"](1),r=_(i.$split("&gt;"),"map",[],(e=function(t){return null==t&&(t=o),t.$strip()},e.$$s=n,e.$$arity=1,e)),e=t.to_ary(r),i=null==e[0]?o:e[0],$=l.call(e,1),r=$.$pop(),u(J,"Inline").$new(n,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:i,submenus:$,menuitem:r})})).$convert())},f.$$s=this,f.$$arity=0,f)))),d(d(r=C=this.document.$extensions())?C["$inline_macros?"]():r)&&_(C.$inline_macros(),"each",[],(m=function(e){var r,n=m.$$s||this;return null==e&&(e=o),M=_(M,"gsub",[e.$instance().$regexp()],(r=function(){var n,$=r.$$s||this,a=o,s=a=o,l=o,c=o,a=o;if(null==p["~"]&&(p["~"]=o),a=p["~"],d(a["$[]"](0)["$start_with?"](u(J,"RS"))))return a["$[]"](0)["$[]"](y(1,-1,!1));var f;t:{try{f=a.$names();break t}catch(e){if(!t.rescue(e,[u(J,"StandardError")]))throw e;try{f=[];break t}finally{t.pop_exception()}}f=void 0}if(d(f["$empty?"]()))n=[a["$[]"](1),a["$[]"](2),e.$config()];else{var m;t:{try{m=a["$[]"]("target");break t}catch(e){if(!t.rescue(e,[u(J,"StandardError")]))throw e;try{m=o;break t}finally{t.pop_exception()}}m=void 0}f=m;t:{try{n=a["$[]"]("content");break t}catch(e){if(!t.rescue(e,[u(J,"StandardError")]))throw e;try{n=o;break t}finally{t.pop_exception()}}n=void 0}n=[f,n,e.$config()]}return a=n[0],s=n[1],l=n[2],c=d(c=l["$[]"]("default_attrs"))?c.$dup():h([],{}),d(s["$nil_or_empty?"]())?d(d(n=s)?l["$[]"]("content_model")["$!="]("attributes"):n)&&(O=["text",s],_(c,"[]=",t.to_a(O)),O[i(O.length,1)]):(s=$.$unescape_bracketed_text(s),l["$[]"]("content_model")["$=="]("attributes")?$.$parse_attributes(s,d(n=l["$[]"]("pos_attrs"))?n:[],h(["sub_result","into"],{sub_result:!1,into:c})):(O=["text",s],_(c,"[]=",t.to_a(O)),O[i(O.length,1)])),a=e.$process_method()["$[]"]($,d(n=a)?n:s,c),d(u(J,"Inline")["$==="](a))?a.$convert():a},r.$$s=n,r.$$arity=0,r))},m.$$s=this,m.$$arity=1,m)),d(d(r=A)?d($=M["$include?"]("image:"))?$:M["$include?"]("icon:"):r)&&(M=_(M,"gsub",[u(J,"InlineImageMacroRx")],(g=function(){var e,r=g.$$s||this,n=o,$=o,a=$=o,s=o,n=o;return null==r.document&&(r.document=o),null==p["~"]&&(p["~"]=o),n=p["~"],d(($=(e=p["~"])===o?o:e["$[]"](0))["$start_with?"](u(J,"RS")))?$["$[]"](y(1,-1,!1)):(e=d($["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]],$=e[0],a=e[1],d((s=n["$[]"](1))["$include?"](u(J,"ATTR_REF_HEAD")))&&(s=r.$sub_attributes(s)),$["$=="]("icon")||r.document.$register("images",s),n=r.$parse_attributes(n["$[]"](2),a,h(["unescape_input"],{unescape_input:!0})),d(e=n["$[]"]("alt"))?e:(O=["alt",(O=["default-alt",u(J,"Helpers").$basename(s,!0).$tr("_-"," ")],_(n,"[]=",t.to_a(O)),O[i(O.length,1)])],_(n,"[]=",t.to_a(O)),O[i(O.length,1)]),u(J,"Inline").$new(r,"image",o,h(["type","target","attributes"],{type:$,target:s,attributes:n})).$convert())},g.$$s=this,g.$$arity=0,g))),d(d(r=d($=M["$include?"]("(("))?M["$include?"]("))"):$)?r:d($=R)?M["$include?"]("indexterm"):$)&&(M=_(M,"gsub",[u(J,"InlineIndextermMacroRx")],(v=function(){var t,e=v.$$s||this,r=o,n=o,$=o,a=o,s=o,l=o,c=o,f=o;return null==e.document&&(e.document=o),null==p["~"]&&(p["~"]=o),r=p["~"],d(r["$[]"](0)["$start_with?"](u(J,"RS")))?r["$[]"](0)["$[]"](y(1,-1,!1)):function(){return n=r["$[]"](1),"indexterm"["$==="](n)?($=e.$split_simple_csv(e.$normalize_string(r["$[]"](2),!0)),e.document.$register("indexterms",$),u(J,"Inline").$new(e,"indexterm",o,h(["attributes"],{attributes:h(["terms"],{terms:$})})).$convert()):"indexterm2"["$==="](n)?(a=e.$normalize_string(r["$[]"](2),!0),e.document.$register("indexterms",[a]),u(J,"Inline").$new(e,"indexterm",a,h(["type"],{type:"visible"})).$convert()):(t=[r["$[]"](3),!0,o,o],s=t[0],l=t[1],c=t[2],f=t[3],d(s["$start_with?"]("("))?(d(s["$end_with?"](")"))?(t=[s.$slice(1,i(s.$length(),2)),!1],s=t[0],l=t[1]):(t=[s.$slice(1,i(s.$length(),1)),"(",""],s=t[0],c=t[1],f=t[2]),t):d(s["$end_with?"](")"))&&(d(s["$start_with?"]("("))?(t=[s.$slice(1,i(s.$length(),2)),!1],s=t[0],l=t[1]):(t=[s.$slice(0,i(s.$length(),1)),"",")"],s=t[0],c=t[1],f=t[2]),t),d(l)?(a=e.$normalize_string(s),e.document.$register("indexterms",[a]),M=u(J,"Inline").$new(e,"indexterm",a,h(["type"],{type:"visible"})).$convert()):($=e.$split_simple_csv(e.$normalize_string(s)),e.document.$register("indexterms",$),M=u(J,"Inline").$new(e,"indexterm",o,h(["attributes"],{attributes:h(["terms"],{terms:$})})).$convert()),d(c)?""+c+M+f:M)}()},v.$$s=this,v.$$arity=0,v))),d(d(r=S)?M["$include?"]("://"):r)&&(M=_(M,"gsub",[u(J,"LinkInlineRx")],(b=function(){var e,r,n,$=b.$$s||this,a=o,s=o,l=o,c=o,f=o,m=o,s=a=a=o;if(null==$.document&&($.document=o),null==p["~"]&&(p["~"]=o),a=p["~"],d(a["$[]"](2)["$start_with?"](u(J,"RS"))))return""+a["$[]"](1)+a["$[]"](2)["$[]"](y(1,-1,!1))+a["$[]"](3);if(e=[a["$[]"](1),a["$[]"](2),d(r=s=a["$[]"](3))?r:"",""],l=e[0],c=e[1],f=e[2],m=e[3],l["$=="]("link:")){if(!d(s))return a["$[]"](0);l=""}return d(d(e=s)?e:u(J,"UriTerminatorRx")["$!~"](c))||(a=(e=p["~"])===o?o:e["$[]"](0),")"["$==="](a)?(c=c.$chop(),m=")"):";"["$==="](a)?d(d(e=l["$start_with?"]("&lt;"))?c["$end_with?"]("&gt;"):e)?(l=l["$[]"](y(4,-1,!1)),c=c["$[]"](y(0,-4,!0))):d((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),m=");"):m=";":":"["$==="](a)&&(d((c=c.$chop())["$end_with?"](")"))?(c=c.$chop(),m="):"):m=":")),e=[o,h(["type"],{type:"link"})],a=e[0],s=e[1],d(f["$empty?"]())||(d(f["$include?"](u(J,"R_SB")))&&(f=f.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),d(d(e=T)?d(r=f["$start_with?"]('"'))?r:d(n=f["$include?"](","))?f["$include?"]("="):n:e)&&(a=$.$parse_attributes(f,[]),d(a["$key?"]("id"))&&(O=["id",a.$delete("id")],_(s,"[]=",t.to_a(O)),O[i(O.length,1)]),f=d(e=a["$[]"](1))?e:""),d(f["$end_with?"]("^"))&&(f=f.$chop(),d(a)?d(e=a["$[]"]("window"))?e:(O=["window","_blank"],_(a,"[]=",t.to_a(O)),O[i(O.length,1)]):a=h(["window"],{window:"_blank"}))),d(f["$empty?"]())&&(f=d(I["$key?"]("hide-uri-scheme"))?c.$sub(u(J,"UriSniffRx"),""):c,d(a)?(O=["role",d(a["$key?"]("role"))?"bare "+a["$[]"]("role"):"bare"],_(a,"[]=",t.to_a(O)),O[i(O.length,1)]):a=h(["role"],{role:"bare"})),$.document.$register("links",(O=["target",c],_(s,"[]=",t.to_a(O)),O[i(O.length,1)])),d(a)&&(O=["attributes",a],_(s,"[]=",t.to_a(O)),O[i(O.length,1)]),""+l+u(J,"Inline").$new($,"anchor",f,s).$convert()+m},b.$$s=this,b.$$arity=0,b))),d(d(r=A)?d($=M["$include?"]("link:"))?$:M["$include?"]("mailto:"):r)&&(M=_(M,"gsub",[u(J,"InlineLinkMacroRx")],(w=function(){var e,r,n,$,a=w.$$s||this,s=o,l=o,c=o,f=o,m=o,g=o;return null==a.document&&(a.document=o),null==p["~"]&&(p["~"]=o),s=p["~"],d(s["$[]"](0)["$start_with?"](u(J,"RS")))?s["$[]"](0)["$[]"](y(1,-1,!1)):(l=d(c=s["$[]"](1))?"mailto:"+s["$[]"](2):s["$[]"](2),e=[o,h(["type"],{type:"link"})],f=e[0],m=e[1],d((g=s["$[]"](3))["$empty?"]())||(d(g["$include?"](u(J,"R_SB")))&&(g=g.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),d(d(e=T)?d(r=g["$start_with?"]('"'))?r:d(n=g["$include?"](","))?d($=c)?$:g["$include?"]("="):n:e)&&(f=a.$parse_attributes(g,[]),d(f["$key?"]("id"))&&(O=["id",f.$delete("id")],_(m,"[]=",t.to_a(O)),O[i(O.length,1)]),d(c)&&d(f["$key?"](2))&&(l=d(f["$key?"](3))?""+l+"?subject="+u(J,"Helpers").$uri_encode(f["$[]"](2))+"&amp;body="+u(J,"Helpers").$uri_encode(f["$[]"](3)):""+l+"?subject="+u(J,"Helpers").$uri_encode(f["$[]"](2))),g=d(e=f["$[]"](1))?e:""),d(g["$end_with?"]("^"))&&(g=g.$chop(),d(f)?d(e=f["$[]"]("window"))?e:(O=["window","_blank"],_(f,"[]=",t.to_a(O)),O[i(O.length,1)]):f=h(["window"],{window:"_blank"}))),d(g["$empty?"]())&&(d(c)?g=s["$[]"](2):(g=d(I["$key?"]("hide-uri-scheme"))?l.$sub(u(J,"UriSniffRx"),""):l,d(f)?(O=["role",d(f["$key?"]("role"))?"bare "+f["$[]"]("role"):"bare"],_(f,"[]=",t.to_a(O)),O[i(O.length,1)]):f=h(["role"],{role:"bare"}))),a.document.$register("links",(O=["target",l],_(m,"[]=",t.to_a(O)),O[i(O.length,1)])),d(f)&&(O=["attributes",f],_(m,"[]=",t.to_a(O)),O[i(O.length,1)]),u(J,"Inline").$new(a,"anchor",g,m).$convert())},w.$$s=this,w.$$arity=0,w))),d(M["$include?"]("@"))&&(M=_(M,"gsub",[u(J,"EmailInlineRx")],(E=function(){var t,e,r=E.$$s||this,n=o,i=o;return t=o,null==r.document&&(r.document=o),t=[(e=p["~"])===o?o:e["$[]"](0),(e=p["~"])===o?o:e["$[]"](1)],n=t[0],i=t[1],d(i)?i["$=="](u(J,"RS"))?n["$[]"](y(1,-1,!1)):n:(t="mailto:"+n,r.document.$register("links",t),u(J,"Inline").$new(r,"anchor",n,h(["type","target"],{type:"link",target:t})).$convert())},E.$$s=this,E.$$arity=0,E))),d(d(r=R)?M["$include?"]("footnote"):r)&&(M=_(M,"gsub",[u(J,"InlineFootnoteMacroRx")],(k=function(){var e,r,n,i=k.$$s||this,$=e=o,a=r=e=o,l=o;return e=o,null==i.document&&(i.document=o),null==p["~"]&&(p["~"]=o),e=p["~"],d(e["$[]"](0)["$start_with?"](u(J,"RS")))?e["$[]"](0)["$[]"](y(1,-1,!1)):(e["$[]"](1)["$=="]("footnote")?($=o,e=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(e["$[]"](2),!0))),!1),r=i.document.$counter("footnote-number"),i.document.$register("footnotes",s(u(J,"Document"),"Footnote").$new(r,$,e)),l=a=o):(r=e["$[]"](2).$split(",",2),e=t.to_ary(r),$=null==e[0]?o:e[0],e=null==e[1]?o:e[1],$=$.$strip(),d(e)?(e=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(e,!0))),!1),r=i.document.$counter("footnote-number"),i.document.$register("footnotes",s(u(J,"Document"),"Footnote").$new(r,$,e)),a="ref",l=o):(d(e=_(i.document.$footnotes(),"find",[],(n=function(t){return null==t&&(t=o),t.$id()["$=="]($)},n.$$s=i,n.$$arity=1,n)))?(r=e.$index(),e=e.$text()):(r=o,e=$),l=$,$=o,a="xref")),u(J,"Inline").$new(i,"footnote",e,h(["attributes","id","target","type"],{attributes:h(["index"],{index:r}),id:$,target:l,type:a})).$convert())},k.$$s=this,k.$$arity=0,k))),this.$sub_inline_xrefs(this.$sub_inline_anchors(M,x),x)},T.$$arity=1),t.def(V,"$sub_inline_anchors",M=function(t,e){var r,n,i,$,a;return null==this.context&&(this.context=o),null==this.parent&&(this.parent=o),null==e&&(e=o),d((r=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(t=_(t,"sub",[u(J,"InlineBiblioAnchorRx")],(n=function(){var t,e,r=n.$$s||this;return u(J,"Inline").$new(r,"anchor","["+(d(t=(e=p["~"])===o?o:e["$[]"](2))?t:(e=p["~"])===o?o:e["$[]"](1))+"]",h(["type","id","target"],{type:"bibref",id:(t=p["~"])===o?o:t["$[]"](1),target:(t=p["~"])===o?o:t["$[]"](1)})).$convert()},n.$$s=this,n.$$arity=0,n))),d(d(r=d(i=d($=e["$!"]())?$:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:d(i=d($=e["$!"]())?$:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=_(t,"gsub",[u(J,"InlineAnchorRx")],(a=function(){var t,e,r=a.$$s||this,n=o,i=o;return d((t=p["~"])===o?o:t["$[]"](1))?((t=p["~"])===o?o:t["$[]"](0)).$slice(1,((t=p["~"])===o?o:t["$[]"](0)).$length()):(d(n=(t=p["~"])===o?o:t["$[]"](2))?i=(t=p["~"])===o?o:t["$[]"](3):(n=(t=p["~"])===o?o:t["$[]"](4),d(d(t=i=(e=p["~"])===o?o:e["$[]"](5))?i["$include?"](u(J,"R_SB")):t)&&(i=i.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB")))),u(J,"Inline").$new(r,"anchor",i,h(["type","id","target"],{type:"ref",id:n,target:n})).$convert())},a.$$s=this,a.$$arity=0,a))),t},M.$$arity=-2),t.def(V,"$sub_inline_xrefs",C=function(r,$){var a,s,l;return null==$&&($=o),d(d(a=d(s=d($)?$["$[]"]("macroish"):r["$include?"]("["))?r["$include?"]("xref:"):s)?a:d(s=r["$include?"]("&"))?r["$include?"]("&lt;&lt;"):s)&&(r=_(r,"gsub",[u(J,"InlineXrefMacroRx")],(l=function(){var r,$,a=l.$$s||this,s=o,c=o,f=o,_=s=o,m=s=c=o,g=o,v=g=o;return null==a.document&&(a.document=o),null==p["~"]&&(p["~"]=o),null==p.VERBOSE&&(p.VERBOSE=o),s=p["~"],d(s["$[]"](0)["$start_with?"](u(J,"RS")))?s["$[]"](0)["$[]"](y(1,-1,!1)):(d(c=s["$[]"](1))?($=c.$split(",",2),r=t.to_ary($),c=null==r[0]?o:r[0],f=null==r[1]?o:r[1],d(f)&&(f=f.$lstrip())):(c=s["$[]"](2),d(d(r=f=s["$[]"](3))?f["$include?"](u(J,"R_SB")):r)&&(f=f.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB")))),d(s=c.$index("#"))?d(n(s,0))?(r=d(n(_=i(i(c.$length(),s),1),0))?[c.$slice(0,s),c.$slice(e(s,1),_)]:[c.$slice(0,s),o],c=r[0],s=r[1]):(r=[c,o,c.$slice(1,c.$length())],m=r[0],c=r[1],s=r[2]):(r=[o,c],c=r[0],s=r[1]),d(m)?g=s:d(c)?(d(d(r=g=c.$rindex("."))?u(J,"ASCIIDOC_EXTENSIONS")["$[]"](c.$slice(g,c.$length())):r)&&(c=c.$slice(0,g)),d(d(r=a.document.$attributes()["$[]"]("docname")["$=="](c))?r:a.document.$catalog()["$[]"]("includes")["$include?"](c))?(r=[s,o,"#"+s],g=r[0],c=r[1],m=r[2],r):(g=d(s)?""+c+"#"+s:c,c=""+a.document.$attributes()["$[]"]("relfileprefix")+c+a.document.$attributes().$fetch("outfilesuffix",".html"),m=d(s)?""+c+"#"+s:c)):(d(a.document.$catalog()["$[]"]("ids")["$key?"](s))||(d(d(r=d($=s["$include?"](" "))?$:s.$downcase()["$!="](s))?v=a.document.$catalog()["$[]"]("ids").$key(s):r)?s=v:d(p.VERBOSE)&&a.$warn("asciidoctor: WARNING: invalid reference: "+s)),r=[s,"#"+s],g=r[0],m=r[1],r),u(J,"Inline").$new(a,"anchor",f,h(["type","target","attributes"],{type:"xref",target:m,attributes:h(["path","fragment","refid"],{path:c,fragment:s,refid:g})})).$convert())},l.$$s=this,l.$$arity=0,l))),r},C.$$arity=-2),t.def(V,"$sub_callouts",N=function(t){var e,r=o,r=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+s("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+u(J,"CalloutSourceRxt")):u(J,"CalloutSourceRx");return _(t,"gsub",[r],(e=function(){var t,r=e.$$s||this;return null==r.document&&(r.document=o),d((t=p["~"])===o?o:t["$[]"](1))?((t=p["~"])===o?o:t["$[]"](0)).$sub(u(J,"RS"),""):u(J,"Inline").$new(r,"callout",(t=p["~"])===o?o:t["$[]"](3),h(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e.$$arity=0,e))},N.$$arity=1),t.def(V,"$sub_post_replacements",z=function(t){var e,n,a,s=o,l=o;return null==this.document&&(this.document=o),null==this.attributes&&(this.attributes=o),d(d(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))?(s=t.$split(u(J,"LF"),-1),d($(s.$size(),2))?t:(l=s.$pop(),r(_(s,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=o),u(J,"Inline").$new(e,"break",d(t["$end_with?"](u(J,"HARD_LINE_BREAK")))?t.$slice(0,i(t.$length(),2)):t,h(["type"],{type:"line"})).$convert()},n.$$s=this,n.$$arity=1,n))["$<<"](l),u(J,"LF")))):d(d(e=t["$include?"](u(J,"PLUS")))?t["$include?"](u(J,"HARD_LINE_BREAK")):e)?_(t,"gsub",[u(J,"HardLineBreakRx")],(a=function(){var t,e=a.$$s||this;return u(J,"Inline").$new(e,"break",(t=p["~"])===o?o:t["$[]"](1),h(["type"],{type:"line"})).$convert()},a.$$s=this,a.$$arity=0,a)):t},z.$$arity=1),t.def(V,"$convert_quoted_text",B=function(t,e,r){var n=o,i=o,$=o,a=o,s=o;if(d(t["$[]"](0)["$start_with?"](u(J,"RS")))){if(!d(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0)["$[]"](y(1,-1,!1));i="["+n+"]"}return r["$=="]("constrained")?d(i)?""+i+u(J,"Inline").$new(this,"quoted",t["$[]"](3),h(["type"],{type:e})).$convert():(d($=t["$[]"](2))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+u(J,"Inline").$new(this,"quoted",t["$[]"](3),h(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert()):(d($=t["$[]"](1))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),u(J,"Inline").$new(this,"quoted",t["$[]"](2),h(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert())},B.$$arity=3),t.def(V,"$parse_quoted_text_attributes",D=function(e){var $,a=o,s=o,c=o,s=c=a=o;return d(e["$include?"](u(J,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),d(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),d((e=e.$strip())["$empty?"]())?h([],{}):d(d($=e["$start_with?"](".","#"))?u(J,"Compliance").$shorthand_property_syntax():$)?(a=e.$split("#",2),d(n(a.$size(),1))?(e=a["$[]"](1).$split("."),$=t.to_ary(e),s=null==$[0]?o:$[0],c=l.call($,1),e):(s=o,c=[]),a=d(a["$[]"](0)["$empty?"]())?[]:a["$[]"](0).$split("."),d(n(a.$size(),1))&&a.$shift(),d(n(c.$size(),0))&&a.$concat(c),c=h([],{}),d(s)&&(s=["id",s],_(c,"[]=",t.to_a(s)),s[i(s.length,1)]),d(a["$empty?"]())||(s=["role",r(a," ")],_(c,"[]=",t.to_a(s)),s[i(s.length,1)]),c):h(["role"],{role:e})},D.$$arity=1),t.def(V,"$parse_attributes",F=function(t,e,r){var n,i=o,$=o;return null==this.document&&(this.document=o),null==e&&(e=["role"]),null==r&&(r=h([],{})),d(t)?d(t["$empty?"]())?h([],{}):(d(d(n=r["$[]"]("sub_input"))?t["$include?"](u(J,"ATTR_REF_HEAD")):n)&&(t=this.document.$sub_attributes(t)),d(r["$[]"]("unescape_input"))&&(t=this.$unescape_bracketed_text(t)),i=d(r.$fetch("sub_result",!0))?this:o,d($=r["$[]"]("into"))?u(J,"AttributeList").$new(t,i).$parse_into($,e):u(J,"AttributeList").$new(t,i).$parse(e)):o},F.$$arity=-2),t.def(V,"$unescape_bracketed_text",L=function(t){return d(t["$empty?"]())||d((t=t.$strip().$tr(u(J,"LF")," "))["$include?"](u(J,"R_SB")))&&(t=t.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),t},L.$$arity=1),t.def(V,"$normalize_string",P=function(t,e){var r;return null==e&&(e=!1),d(t["$empty?"]())||(t=t.$strip().$tr(u(J,"LF")," "),d(d(r=e)?t["$include?"](u(J,"R_SB")):r)&&(t=t.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB")))),t},P.$$arity=-2),t.def(V,"$unescape_brackets",q=function(t){return d(t["$empty?"]())||d(t["$include?"](u(J,"RS")))&&(t=t.$gsub(u(J,"ESC_R_SB"),u(J,"R_SB"))),t},q.$$arity=1),t.def(V,"$split_simple_csv",j=function(t){var e,r,n=o,i=o,$=o;return d(t["$empty?"]())?n=[]:d(t["$include?"]('"'))?(n=[],i=[],$=!1,_(t,"each_char",[],(e=function t(e){var t=o;return null==e&&(e=o),function(){return t=e,","["$==="](t)?d($)?i["$<<"](e):(n["$<<"](i.$join().$strip()),i=[]):'"'["$==="](t)?$=$["$!"]():i["$<<"](e)}()},e.$$s=this,e.$$arity=1,e)),n["$<<"](i.$join().$strip())):n=_(t.$split(","),"map",[],(r=function(t){return null==t&&(t=o),t.$strip()},r.$$s=this,r.$$arity=1,r)),n},j.$$arity=1),t.def(V,"$resolve_subs",U=function(t,$,a,s){var l,c=o,h=o,f=o,p=o;return null==$&&($="block"),null==a&&(a=o),null==s&&(s=o),d(t["$nil_or_empty?"]())?[]:(c=o,d(t["$include?"](" "))&&(t=t.$delete(" ")),h=u(J,"SubModifierSniffRx")["$match?"](t),_(t.$split(","),"each",[],(l=function t(r){var n,t,s=o,l=n=o,f=l=o,s=o;return null==r&&(r=o),s=o,d(h)&&((n=r.$chr())["$=="]("+")?(s="append",r=r["$[]"](y(1,-1,!1))):n["$=="]("-")?(s="remove",r=r["$[]"](y(1,-1,!1))):d(r["$end_with?"]("+"))&&(s="prepend",r=r.$chop())),r=r.$to_sym(),d((n=$["$=="]("inline"))?d(t=r["$=="]("verbatim"))?t:r["$=="]("v"):$["$=="]("inline"))?l=u(J,"BASIC_SUBS"):d(u(J,"SUB_GROUPS")["$key?"](r))?l=u(J,"SUB_GROUPS")["$[]"](r):d(d(n=$["$=="]("inline")?r.$length()["$=="](1):$["$=="]("inline"))?u(J,"SUB_HINTS")["$key?"](r):n)?(l=u(J,"SUB_HINTS")["$[]"](r),
l=d(f=u(J,"SUB_GROUPS")["$[]"](l))?f:[l]):l=[r],d(s)?(c=d(n=c)?n:d(a)?a.$dup():[],"append"["$==="](s)?c=e(c,l):"prepend"["$==="](s)?c=e(l,c):"remove"["$==="](s)?c=i(c,l):o):(c=d(n=c)?n:[],c=e(c,l))},l.$$s=this,l.$$arity=1,l)),d(c)?(f=c["$&"](u(J,"SUB_OPTIONS")["$[]"]($)),d(i(c,f)["$empty?"]())||(p=i(c,f),this.$warn("asciidoctor: WARNING: invalid substitution type"+(d(n(p.$size(),1))?"s":"")+(d(s)?" for ":o)+s+": "+r(p,", "))),f):[])},U.$$arity=-2),t.def(V,"$resolve_block_subs",H=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},H.$$arity=3),t.def(V,"$resolve_pass_subs",G=function(t){return this.$resolve_subs(t,"inline",o,"passthrough macro")},G.$$arity=1),t.def(V,"$highlight_source",Y=function(n,$,a){var l,c,f,y,m=o,g=o,v=o,b=o,w=o,E=o,k=o,x=o,A=o,O=o,S=m=o,R=o,I=o;return null==this.document&&(this.document=o),null==this.passthroughs&&(this.passthroughs=o),null==a&&(a=o),m=a=d(l=a)?l:this.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](m)?d(d(l=g=s("::","CodeRay","skip_raise")?"constant":o)?l:this.document.$attributes()["$[]"]("coderay-unavailable"))||(d(u(J,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?this.document.$set_attr("coderay-unavailable"):g=!0):"pygments"["$==="](m)?d(d(l=g=s("::","Pygments","skip_raise")?"constant":o)?l:this.document.$attributes()["$[]"]("pygments-unavailable"))||(d(u(J,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?this.document.$set_attr("pygments-unavailable"):g=!0):g=!1,d(g)?(v=0,b=!1,d($)?(w=h([],{}),E=-1,k=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+s("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+u(J,"CalloutExtractRxt")):u(J,"CalloutExtractRx"),n=r(_(n.$split(u(J,"LF"),-1),"map",[],(c=function(r){var n,$=c.$$s||this;return null==r&&(r=o),v=e(v,1),_(r,"gsub",[k],(n=function(){var e,r=o,n=o;return null==p["~"]&&(p["~"]=o),r=p["~"],r["$[]"](1)["$=="](u(J,"RS"))?r["$[]"](0).$sub(u(J,"RS"),""):((d(e=w["$[]"](v))?e:(n=[v,[]],_(w,"[]=",t.to_a(n)),n[i(n.length,1)]))["$<<"](r["$[]"](3)),E=v,o)},n.$$s=$,n.$$arity=0,n))},c.$$s=this,c.$$arity=1,c)),u(J,"LF")),b=E["$=="](v),d(w["$empty?"]())&&(w=o)):w=o,A=x=o,m=a,"coderay"["$==="](m)?(d(x=d(this["$attr?"]("linenums",o,!1))?(d(l=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?l:"table").$to_sym():o)&&d(this["$attr?"]("highlight",o,!1))&&(A=this.$resolve_highlight_lines(this.$attr("highlight",o,!1))),O=s(s("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",h(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(d(l=this.document.$attributes()["$[]"]("coderay-css"))?l:"class").$to_sym(),line_numbers:x,line_number_anchors:!1,highlight_lines:A,bold_every:!1})).$highlight(n)):"pygments"["$==="](m)&&(m=d(l=s(s("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?l:s(s("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),S=h(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),m.$name()["$=="]("PHP")&&(R=["startinline",this["$option?"]("mixed")["$!"]()],_(S,"[]=",t.to_a(R)),R[i(R.length,1)]),(d(l=this.document.$attributes()["$[]"]("pygments-css"))?l:"class")["$=="]("class")||(R=["noclasses",!0],_(S,"[]=",t.to_a(R)),R[i(R.length,1)],R=["style",d(l=this.document.$attributes()["$[]"]("pygments-style"))?l:s(u(J,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],_(S,"[]=",t.to_a(R)),R[i(R.length,1)]),d(this["$attr?"]("highlight",o,!1))&&!d((A=this.$resolve_highlight_lines(this.$attr("highlight",o,!1)))["$empty?"]())&&(R=["hl_lines",r(A," ")],_(S,"[]=",t.to_a(R)),R[i(R.length,1)]),d(d(l=this["$attr?"]("linenums",o,!1))?(R=["linenos",d(f=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?f:"table"],_(S,"[]=",t.to_a(R)),R[i(R.length,1)])["$=="]("table"):l)?(x="table",O=m.$highlight(n,h(["options"],{options:S})).$sub(u(J,"PygmentsWrapperDivRx"),"\\1").$gsub(u(J,"PygmentsWrapperPreRx"),"\\1")):d(u(J,"PygmentsWrapperPreRx")["$=~"](O=m.$highlight(n,h(["options"],{options:S}))))&&(O=(l=p["~"])===o?o:l["$[]"](1))),d(this.passthroughs["$empty?"]())||(O=O.$gsub(u(J,"HighlightedPassSlotRx"),""+u(J,"PASS_START")+"\\1"+u(J,"PASS_END"))),d(d(l=$)?w:l)?(v=0,I=x["$!="]("table"),r(_(O.$split(u(J,"LF"),-1),"map",[],(y=function(t){var n,i,$,s=y.$$s||this,l=o,c=o,f=o,l=o;if(null==s.document&&(s.document=o),null==t&&(t=o),!d(I)){if(!d(t["$include?"]('<td class="code">')))return t;I=!0}return v=e(v,1),d(l=w.$delete(v))?(c=o,d(d(n=d(i=b)?w["$empty?"]():i)?x["$=="]("table"):n)&&(d((n=a["$=="]("coderay"))?f=t.$index("</pre>"):a["$=="]("coderay"))?(n=[t.$slice(0,f),t.$slice(f,t.$length())],t=n[0],c=n[1],n):d((n=a["$=="]("pygments"))?f=t["$start_with?"]("</td>"):a["$=="]("pygments"))&&(n=["",t],t=n[0],c=n[1],n)),l.$size()["$=="](1)?""+t+u(J,"Inline").$new(s,"callout",l["$[]"](0),h(["id"],{id:s.document.$callouts().$read_next_id()})).$convert()+c:(l=r(_(l,"map",[],($=function(t){var e=$.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),u(J,"Inline").$new(e,"callout",t,h(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},$.$$s=s,$.$$arity=1,$))," "),""+t+l+c)):t},y.$$s=this,y.$$arity=1,y)),u(J,"LF"))):O):this.$sub_source(n,$)},Y.$$arity=-3),t.def(V,"$resolve_highlight_lines",W=function(e){var r,n=o,n=[];return _((d(e["$include?"](" "))?e.$delete(" "):e).$split(u(J,"DataDelimiterRx")),"map",[],(r=function e(r){var $,e=o,a=o,a=$=o;return null==r&&(r=o),e=!1,d(r["$start_with?"]("!"))&&(r=r["$[]"](y(1,-1,!1)),e=!0),d(r["$include?"]("-"))?(r=r.$split("-",2),$=t.to_ary(r),a=null==$[0]?o:$[0],$=null==$[1]?o:$[1],a=t.Range.$new(a.$to_i(),$.$to_i(),!1).$to_a(),d(e)?n=i(n,a):n.$concat(a)):d(e)?n.$delete(r.$to_i()):n["$<<"](r.$to_i())},r.$$s=this,r.$$arity=1,r)),n.$sort().$uniq()},W.$$arity=1),t.def(V,"$sub_source",X=function(t,e){return d(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},X.$$arity=2),t.def(V,"$lock_in_subs",K=function(){var e,r,n,$,a=o,s=a=o,l=o,a=o;if(null==this.default_subs&&(this.default_subs=o),null==this.content_model&&(this.content_model=o),null==this.context&&(this.context=o),null==this.subs&&(this.subs=o),null==this.attributes&&(this.attributes=o),null==this.style&&(this.style=o),null==this.document&&(this.document=o),!d(a=this.default_subs))if(a=this.content_model,"simple"["$==="](a))a=u(J,"NORMAL_SUBS");else if("verbatim"["$==="](a))a=d(d(e=this.context["$=="]("listing"))?e:(r=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?u(J,"VERBATIM_SUBS"):this.context["$=="]("verse")?u(J,"NORMAL_SUBS"):u(J,"BASIC_SUBS");else{if(!"raw"["$==="](a))return this.subs;a=this.context["$=="]("stem")?u(J,"BASIC_SUBS"):u(J,"NONE_SUBS")}return this.subs=d(s=this.attributes["$[]"]("subs"))?this.$resolve_block_subs(s,a,this.context):a.$dup(),d(d(e=d(r=d(n=d($=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):$)?this.document["$basebackend?"]("html"):n)?u(J,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):r)?l=this.subs.$index("specialcharacters"):e)&&(a=[l,"highlight"],_(this.subs,"[]=",t.to_a(a)),a[i(a.length,1)]),this.subs},K.$$arity=0)}(g[0],g)}(a[0],a)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i=[],$=t.nil,a=t.const_get_qualified,o=t.const_get_relative,s=t.module,u=t.klass,l=t.truthy,c=t.hash2,h=t.send,f=t.range;return t.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $converter $raise $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $image_uri $attr $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $encode64 $binread $require_library $! $open $content_type $read $base_dir $new $root? $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" ")),function(i,d){var _=[s(i,"Asciidoctor")].concat(d);!function(i,s,d){function _(){}i=_=u(i,s,"AbstractNode",_);var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X=i.$$proto,K=[i].concat(d);return X.document=X.attributes=X.parent=X.path_resolver=$,i.$include(o(K,"Substitutors")),i.$attr_reader("parent"),i.$attr_reader("document"),i.$attr_reader("context"),i.$attr_reader("node_name"),i.$attr_accessor("id"),i.$attr_reader("attributes"),t.def(i,"$initialize",p=function(t,e,r){return null==r&&(r=c([],{})),e["$=="]("document")?(t=[this,$],this.document=t[0],this.parent=t[1],t):l(t)?(t=[t.$document(),t],this.document=t[0],this.parent=t[1],t):this.document=this.parent=$,this.node_name=(this.context=e).$to_s(),this.attributes=l(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():c([],{}),this.passthroughs=c([],{})},p.$$arity=-3),t.def(i,"$parent=",y=function(t){return t=[t,t.$document()],this.parent=t[0],this.document=t[1],$},y.$$arity=1),t.def(i,"$converter",m=function(){return this.document.$converter()},m.$$arity=0),t.def(i,"$block?",g=function(){return this.$raise(a("::","NotImplementedError"))},g.$$arity=0),t.def(i,"$inline?",v=function(){return this.$raise(a("::","NotImplementedError"))},v.$$arity=0),t.def(i,"$attr",b=function(t,e,r){var n,i;return null==e&&(e=$),null==r&&(r=!0),t=t.$to_s(),l(n=this.attributes["$[]"](t))?n:l(l(i=r)?this.parent:i)&&l(i=this.document.$attributes()["$[]"](t))?i:e},b.$$arity=-2),t.def(i,"$attr?",w=function(t,e,r){var n,i,a;return null==e&&(e=$),null==r&&(r=!0),t=t.$to_s(),l(e["$nil?"]())?l(n=this.attributes["$key?"](t))?n:l(i=l(a=r)?this.parent:a)?this.document.$attributes()["$key?"](t):i:e["$=="](l(n=this.attributes["$[]"](t))?n:l(l(i=r)?this.parent:i)?this.document.$attributes()["$[]"](t):$)},w.$$arity=-2),t.def(i,"$set_attr",E=function(r,n,i){var a=$;return null==n&&(n=""),null==i&&(i=!0),!l(i["$=="](!1)?this.attributes["$key?"](r):i["$=="](!1))&&(a=[r,n],h(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)],!0)},E.$$arity=-2),t.def(i,"$remove_attr",k=function(t){return this.attributes.$delete(t)},k.$$arity=1),t.def(i,"$option?",x=function(t){return this.attributes["$key?"](""+t+"-option")},x.$$arity=1),t.def(i,"$set_option",A=function(r){var n=$,n=l(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+r]:["options",r];return h(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)],n=[""+r+"-option",""],h(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)]},A.$$arity=1),t.def(i,"$update_attributes",O=function(t){return this.attributes.$update(t),$},O.$$arity=1),t.def(i,"$role",S=function(){var t;return l(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},S.$$arity=0),t.def(i,"$roles",R=function(){var t,e=$;return l((e=l(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},R.$$arity=0),t.def(i,"$role?",I=function(t){var e;return null==t&&(t=$),l(t)?t["$=="](l(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):l(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},I.$$arity=-1),t.def(i,"$has_role?",T=function(t){var e,r=$;return!l((r=l(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())&&(" "+r+" ")["$include?"](" "+t+" ")},T.$$arity=1),t.def(i,"$add_role",M=function(r){var n=$,n=$;return l((n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(n=["role",r],h(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)],!0):!l((" "+n+" ")["$include?"](" "+r+" "))&&(n=["role",""+n+" "+r],h(this.attributes,"[]=",t.to_a(n)),n[e(n.length,1)],!0)},M.$$arity=1),t.def(i,"$remove_role",C=function(n){var i=$,i=$;return!l((i=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&(!!l((i=i.$split()).$delete(n))&&(l(i["$empty?"]())?this.attributes.$delete("role"):(i=["role",r(i," ")],h(this.attributes,"[]=",t.to_a(i)),i[e(i.length,1)]),!0))},C.$$arity=1),t.def(i,"$reftext",N=function(){var t=$;return l(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):$},N.$$arity=0),t.def(i,"$reftext?",z=function(){return this.attributes["$key?"]("reftext")},z.$$arity=0),t.def(i,"$icon_uri",B=function(t){var e=$;return l(this["$attr?"]("icon"))?l(a("::","File").$extname(e=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?""+e+"."+this.document.$attr("icontype","png"):e:this.$image_uri(""+t+"."+this.document.$attr("icontype","png"),"iconsdir")},B.$$arity=1),t.def(i,"$image_uri",D=function(t,e){var r,i,s,u,c=$,h=$;return null==e&&(e="imagesdir"),l(l(r=n((c=this.document).$safe(),a(o(K,"SafeMode"),"SECURE")))?c["$attr?"]("data-uri"):r)?l(l(r=l(i=o(K,"Helpers")["$uriish?"](t))?t=this.$uri_encode_spaces(t):i)?r:l(i=l(s=l(u=e)?h=c.$attr(e):u)?o(K,"Helpers")["$uriish?"](h):s)?t=this.$normalize_web_path(t,h,!1):i)?l(c["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,c["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,l(e)?c.$attr(e):$)},D.$$arity=-2),t.def(i,"$media_uri",F=function(t,e){return null==e&&(e="imagesdir"),this.$normalize_web_path(t,l(e)?this.document.$attr(e):$)},F.$$arity=-2),t.def(i,"$generate_data_uri",L=function(t,e){var r=$,n=r=$;return null==e&&(e=$),r=a("::","File").$extname(t),r=r["$=="](".svg")?"image/svg+xml":"image/"+r["$[]"](f(1,-1,!1)),n=l(e)?this.$normalize_system_path(t,this.document.$attr(e),$,c(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),l(a("::","File")["$readable?"](n))?"data:"+r+";base64,"+a("::","Base64").$encode64(a("::","IO").$binread(n)).$delete(o(K,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+n),"data:"+r+";base64,")},L.$$arity=-2),t.def(i,"$generate_data_uri_from_uri",P=function(e,r){var n,i=$,s=$;null==r&&(r=!1),l(r)?o(K,"Helpers").$require_library("open-uri/cached","open-uri-cached"):l(a("::","RUBY_ENGINE_OPAL")["$!"]())&&a("::","OpenURI");try{return i=$,s=h(this,"open",[e,"rb"],(n=function(t){return null==t&&(t=$),i=t.$content_type(),t.$read()},n.$$s=this,n.$$arity=1,n)),"data:"+i+";base64,"+a("::","Base64").$encode64(s).$delete(o(K,"LF"))}catch(r){if(!t.rescue(r,[o(K,"StandardError")]))throw r;try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},P.$$arity=-2),t.def(i,"$normalize_asset_path",q=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),$,c(["target_name","recover"],{target_name:e,recover:r}))},q.$$arity=-2),t.def(i,"$normalize_system_path",j=function(t,e,r,i){var s,u=$,h=$;return null==e&&(e=$),null==r&&(r=$),null==i&&(i=c([],{})),u=this.path_resolver=l(s=this.path_resolver)?s:o(K,"PathResolver").$new(),l(n((h=this.document).$safe(),a(o(K,"SafeMode"),"SAFE")))?l(e)?l(u["$root?"](e))||(e=a("::","File").$join(h.$base_dir(),e)):e=h.$base_dir():(l(e)||(e=h.$base_dir()),l(r)||(r=h.$base_dir())),u.$system_path(t,e,r,i)},j.$$arity=-2),t.def(i,"$normalize_web_path",U=function(t,e,r){var n;return null==e&&(e=$),null==r&&(r=!0),l(l(n=r)?o(K,"Helpers")["$uriish?"](t):n)?this.$uri_encode_spaces(t):(this.path_resolver=l(n=this.path_resolver)?n:o(K,"PathResolver").$new()).$web_path(t,e)},U.$$arity=-2),t.def(i,"$read_asset",H=function(t,e){var n;return null==e&&(e=c([],{})),l(a("::","Hash")["$==="](e))||(e=c(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),l(a("::","File")["$readable?"](t))?l(e["$[]"]("normalize"))?r(o(K,"Helpers").$normalize_lines_from_string(a("::","IO").$read(t)),o(K,"LF")):a("::","IO").$read(t):l(e["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(l(n=this.$attr("docfile"))?n:"<stdin>")+": "+(l(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t):$},H.$$arity=-2),t.def(i,"$read_contents",G=function(e,n){var i,s,u,f,d=$,_=$,p=$;if(null==n&&(n=c([],{})),d=this.document,l(l(i=o(K,"Helpers")["$uriish?"](e))?i:l(s=l(u=_=n["$[]"]("start"))?o(K,"Helpers")["$uriish?"](_):u)?e=(this.path_resolver=l(u=this.path_resolver)?u:o(K,"PathResolver").$new()).$web_path(e,_):s))if(l(d["$attr?"]("allow-uri-read"))){l(d["$attr?"]("cache-uri"))&&o(K,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=h(a("::","OpenURI"),"open_uri",[e],(f=function(t){return null==t&&(t=$),t.$read()},f.$$s=this,f.$$arity=1,f)),l(n["$[]"]("normalize"))&&(p=r(o(K,"Helpers").$normalize_lines_from_string(p),o(K,"LF")))}catch(r){if(!t.rescue(r,[o(K,"StandardError")]))throw r;try{l(n.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(l(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e),p=$}finally{t.pop_exception()}}}else l(n.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(l(i=n["$[]"]("label"))?i:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),p=$;else e=this.$normalize_system_path(e,n["$[]"]("start"),$,c(["target_name"],{target_name:l(i=n["$[]"]("label"))?i:"asset"})),p=this.$read_asset(e,c(["normalize","warn_on_failure","label"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0),label:n["$[]"]("label")}));return p},G.$$arity=-2),t.def(i,"$uri_encode_spaces",Y=function(t){return l(t["$include?"](" "))?t.$gsub(" ","%20"):t},Y.$$arity=1),t.def(i,"$is_uri?",W=function(t){return o(K,"Helpers")["$uriish?"](t)},W.$$arity=1),$&&"is_uri?"}(_[0],null,_)}(i[0],i)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i=[],$=t.nil,a=t.const_get_relative,o=t.module,s=t.klass,u=t.send,l=t.truthy,c=t.hash2;return t.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $apply_title_subs $[] $title $sub_specialchars $match? $sub_replacements $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $<< $select $context $> $has_role? $header? $concat $find_by $to_proc $each $flatten $blocks $parent $+ $find_index $next_adjacent_block $delete $increment_and_store_counter $index= $- $numbered $sectname $counter $number= $number $caption= $enumerate_section $reindex_sections".split(" ")),function(i,h){var f=[o(i,"Asciidoctor")].concat(h);!function(i,o,h){function f(){}i=f=s(i,o,"AbstractBlock",f);var d,_,p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q=i.$$proto,j=[i].concat(h);return q.document=q.attributes=q.blocks=q.source_location=q.subs=q.title=q.title_converted=q.converted_title=q.context=q.caption=q.number=q.next_section_index=q.style=q.id=q.header=q.next_section_number=$,i.$attr_accessor("content_model"),i.$attr_reader("subs"),i.$attr_reader("blocks"),i.$attr_accessor("level"),i.$attr_accessor("style"),i.$attr_writer("caption"),i.$attr_accessor("number"),i.$attr_accessor("source_location"),t.def(i,"$initialize",d=function(e,r,n){var i=d.$$p,a=$,o=$,s=$;for(null==n&&(n=c([],{})),i&&(d.$$p=null),o=0,s=arguments.length,a=Array(s);o<s;o++)a[o]=arguments[o];return u(this,t.find_super_dispatcher(this,"initialize",d,!1),a,i),this.content_model="compound",this.blocks=[],this.subs=[],this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=this.source_location=$,r["$=="]("document")?this.level=0:l(l(e)?r["$!="]("section"):e)?this.level=e.$level():this.level=$,this.next_section_index=0,this.next_section_number=1},d.$$arity=-3),t.def(i,"$block?",_=function(){return!0},_.$$arity=0),t.def(i,"$inline?",p=function(){return!1},p.$$arity=0),t.def(i,"$context=",y=function(t){return this.context=t,this.node_name=t.$to_s()},y.$$arity=1),t.def(i,"$convert",m=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},m.$$arity=0),t.alias(i,"render","convert"),t.def(i,"$content",g=function(){var t;return e(u(this.blocks,"map",[],(t=function(t){return null==t&&(t=$),t.$convert()},t.$$s=this,t.$$arity=1,t)),a(j,"LF"))},g.$$arity=0),t.def(i,"$file",v=function(){return l(this.source_location)?this.source_location.$file():$},v.$$arity=0),t.def(i,"$lineno",b=function(){return l(this.source_location)?this.source_location.$lineno():$},b.$$arity=0),t.def(i,"$sub?",w=function(t){return this.subs["$include?"](t)},w.$$arity=1),t.def(i,"$title?",E=function(){return!!l(this.title)},E.$$arity=0),t.def(i,"$title",k=function(){var t,e;return l(this.title_converted)?this.converted_title:this.converted_title=l(t=l(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},k.$$arity=0),t.def(i,"$title=",x=function(t){var e;return e=[t,$],this.title=e[0],this.title_converted=e[1],e},x.$$arity=1),t.def(i,"$caption",A=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},A.$$arity=0),t.def(i,"$captioned_title",O=function(){return""+this.caption+this.$title()},O.$$arity=0),t.def(i,"$alt",S=function(){var t=$;return l(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),l(a(j,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):$},S.$$arity=0),t.def(i,"$xreftext",R=function(t){var e,r,n=$,i=$,a=i=$;return null==t&&(t=$),l(l(e=n=this.$reftext())?n["$empty?"]()["$!"]():e)?e=n:(l(l(e=l(r=t)?this.title:r)?this.caption:e)?(i=t,"full"["$==="](i)?(i=this.$sprintf(this.$sub_quotes(l(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),t=l(l(e=this.number)?a=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):e)?""+a+" "+this.number+", "+i:""+this.caption.$chomp(". ")+", "+i):t="short"["$==="](i)?l(l(e=this.number)?a=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):e)?""+a+" "+this.number:this.caption.$chomp(". "):this.$title()):t=this.$title(),e=t),e},R.$$arity=-1),t.def(i,"$blocks?",I=function(){return this.blocks["$empty?"]()["$!"]()},I.$$arity=0),t.def(i,"$<<",T=function(t){return this.blocks["$<<"](t),this},T.$$arity=1),t.alias(i,"append","<<"),t.def(i,"$sections",M=function(){var t;return u(this.blocks,"select",[],(t=function(t){return null==t&&(t=$),t.$context()["$=="]("section")},t.$$s=this,t.$$arity=1,t))},M.$$arity=0),t.def(i,"$sections?",C=function(){var t=this.next_section_index;return"number"==typeof t?0<t:t["$>"](0)},C.$$arity=0),t.def(i,"$find_by",N=function(e){var r,n,i,a,o,s,h=N.$$p,f=h||$,d=$,_=$,p=$,y=$,m=$,g=$;if(null==e&&(e=c([],{})),h&&(N.$$p=null),d=[],l(l(r=l(n=l(i=l(a=_=(p=e["$[]"]("context"))["$!"]())?a:p["$=="](this.context))?l(a=(y=e["$[]"]("style"))["$!"]())?a:y["$=="](this.style):i)?l(i=(m=e["$[]"]("role"))["$!"]())?i:this["$has_role?"](m):n)?l(n=(g=e["$[]"]("id"))["$!"]())?n:g["$=="](this.id):r)){if(l(g))return f!==$?l(t.yield1(f,this))?[this]:d:[this];f!==$?l(t.yield1(f,this))&&d["$<<"](this):d["$<<"](this)}return l(l(r=(n=this.context["$=="]("document"))?l(i=_)?i:p["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():r)&&d.$concat(u(this.header,"find_by",[e],f.$to_proc())),p["$=="]("document")||(this.context["$=="]("dlist")?l(l(r=_)?r:p["$!="]("section"))&&u(this.blocks.$flatten(),"each",[],(o=function(t){return null==t&&(t=$),l(t)?d.$concat(u(t,"find_by",[e],f.$to_proc())):$},o.$$s=this,o.$$arity=1,o)):l(u(this.blocks,"each",[],(s=function(t){return null==t&&(t=$),l(p["$=="]("section")?t.$context()["$!="]("section"):p["$=="]("section"))?$:d.$concat(u(t,"find_by",[e],f.$to_proc()))},s.$$s=this,s.$$arity=1,s)))),d},N.$$arity=-1),t.alias(i,"query","find_by"),t.def(i,"$next_adjacent_block",z=function(){var t=$,e=$;return this.context["$=="]("document")?$:l(t=(e=this.$parent()).$blocks()["$[]"](r(e.$blocks().$find_index(this),1)))?t:e.$next_adjacent_block()},z.$$arity=0),t.def(i,"$remove_sub",B=function(t){return this.subs.$delete(t),$},B.$$arity=1),t.def(i,"$assign_caption",D=function(t,e){var r,n,i=$;return null==t&&(t=$),null==e&&(e=$),!l(l(r=l(n=this.caption)?n:this.title["$!"]())?r:this.caption=l(n=t)?n:this.document.$attributes()["$[]"]("caption"))&&l(i=this.document.$attributes()["$[]"](""+(e=l(r=e)?r:this.context)+"-caption"))&&(this.caption=""+i+" "+(this.number=this.document.$increment_and_store_counter(""+e+"-number",this))+". "),$},D.$$arity=-1),t.def(i,"$enumerate_section",F=function(e){var i=$,a=$,o=$;return this.next_section_index=r((i=[this.next_section_index],u(e,"index=",t.to_a(i)),i[n(i.length,1)]),1),l(e.$numbered())&&((a=e.$sectname())["$=="]("appendix")?(i=[this.document.$counter("appendix-number","A")],u(e,"number=",t.to_a(i)),i[n(i.length,1)],i=l(o=this.document.$attributes()["$[]"]("appendix-caption"))?[""+o+" "+e.$number()+": "]:[""+e.$number()+". "],u(e,"caption=",t.to_a(i)),i[n(i.length,1)]):a["$=="]("chapter")?(i=[this.document.$counter("chapter-number",1)],u(e,"number=",t.to_a(i)),i[n(i.length,1)]):this.next_section_number=r((i=[this.next_section_number],u(e,"number=",t.to_a(i)),i[n(i.length,1)]),1)),$},F.$$arity=1),t.def(i,"$list_marker_keyword",L=function(t){var e;return null==t&&(t=$),a(j,"ORDERED_LIST_KEYWORDS")["$[]"](l(e=t)?e:this.style)},L.$$arity=-1),t.def(i,"$reindex_sections",P=function(){var t;return this.next_section_index=0,this.next_section_number=1,u(this.blocks,"each",[],(t=function(e){var r=t.$$s||this;return null==e&&(e=$),e.$context()["$=="]("section")?(r.$enumerate_section(e),e.$reindex_sections()):$},t.$$s=this,t.$$arity=1,t))},P.$$arity=0),$&&"reindex_sections"}(f[0],a(f,"AbstractNode"),f)}(i[0],i)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=t.module,s=t.klass,u=t.hash2,l=t.truthy,c=t.send;return t.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" ")),function(n,h){var f=[o(n,"Asciidoctor")].concat(h);!function(n,o,h){function f(){}n=f=s(n,o,"AttributeList",f);var d,_,p,y,m,g,v,b,w,E,k,x,A=n.$$proto,O=[n].concat(h);return A.attributes=A.scanner=A.delimiter=A.block=A.delimiter_skip_pattern=A.delimiter_boundary_pattern=i,t.const_set(O[0],"BACKSLASH","\\"),t.const_set(O[0],"BoundaryRxs",u(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),t.const_set(O[0],"EscapedQuotes",u(['"',"'"],{'"':'\\"',"'":"\\'"})),t.const_set(O[0],"NameRx",new RegExp(""+a(O,"CG_WORD")+"["+a(O,"CC_WORD")+"\\-.]*")),t.const_set(O[0],"BlankRx",/[ \t]+/),t.const_set(O[0],"SkipRxs",u(["blank",","],{blank:a(O,"BlankRx"),",":/[ \t]*(,|$)/})),t.def(n,"$initialize",d=function(t,e,r){return null==e&&(e=i),null==r&&(r=","),this.scanner=$("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=a(O,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=a(O,"BoundaryRxs")["$[]"](r),this.attributes=i},d.$$arity=-2),t.def(n,"$parse_into",_=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},_.$$arity=-2),t.def(n,"$parse",p=function(t){var r=i;if(null==t&&(t=[]),l(this.attributes))return this.attributes;for(this.attributes=u([],{}),r=0;l(this.$parse_attribute(r,t))&&!l(this.scanner["$eos?"]());)this.$skip_delimiter(),r=e(r,1);return this.attributes},p.$$arity=-1),t.def(n,"$rekey",y=function(t){return a(O,"AttributeList").$rekey(this.attributes,t)},y.$$arity=1),t.defs(n,"$rekey",m=function(n,$){var a;return c($,"each_with_index",[],(a=function($,a){var o=i,o=o=i;return null==$&&($=i),null==a&&(a=i),l($)?(o=e(a,1),l(o=n["$[]"](o))?(o=[$,o],c(n,"[]=",t.to_a(o)),o[r(o.length,1)]):i):i},a.$$s=this,a.$$arity=2,a)),n},m.$$arity=2),t.def(n,"$parse_attribute",g=function(n,$){var a,o,s=i,u=i,h=u=i,f=i,d=i,u=s=u=f=i;if(null==n&&(n=0),null==$&&($=[]),s=!1,this.$skip_blank(),(u=this.scanner.$peek(1))["$=="]('"'))u=this.$parse_attribute_value(this.scanner.$get_byte()),h=i;else if(u["$=="]("'"))u=this.$parse_attribute_value(this.scanner.$get_byte()),h=i,s=!0;else{if(u=this.$scan_name(),f=0,d=i,l(this.scanner["$eos?"]())){if(!l(u))return!1}else f=l(a=this.$skip_blank())?a:0,d=this.scanner.$get_byte();if(l(l(a=d["$!"]())?a:d["$=="](this.delimiter)))h=i;else if(l(l(a=d["$!="]("="))?a:u["$!"]()))u=""+u+" "["$*"](f)+d+this.$scan_to_delimiter(),h=i;else if(this.$skip_blank(),l(this.scanner.$peek(1)))if((d=this.scanner.$get_byte())["$=="]('"'))h=this.$parse_attribute_value(d);else if(d["$=="]("'"))h=this.$parse_attribute_value(d),s=!0;else if(d["$=="](this.delimiter))h=i;else if(h=""+d+this.$scan_to_delimiter(),h["$=="]("None"))return!0}return l(h)?(f=u,"options"["$==="](f)||"opts"["$==="](f)?(l(h["$include?"](","))?(l(h["$include?"](" "))&&(h=h.$delete(" ")),c(h.$split(","),"each",[],(o=function(e){var n=o.$$s||this,$=i;return null==n.attributes&&(n.attributes=i),null==e&&(e=i),l(e["$empty?"]())?i:($=[""+e+"-option",""],c(n.attributes,"[]=",t.to_a($)),$[r($.length,1)])},o.$$s=this,o.$$arity=1,o))):(u=[""+(h=h.$strip())+"-option",""],c(this.attributes,"[]=",t.to_a(u)),u[r(u.length,1)]),u=["options",h]):l(l(a=s)?this.block:a)?(f=u,u="title"["$==="](f)||"reftext"["$==="](f)?[u,h]:[u,this.block.$apply_subs(h)]):u=[u,h]):(s=l(l(a=s)?this.block:a)?this.block.$apply_subs(u):u,l(u=$["$[]"](n))&&(u=[u,s],c(this.attributes,"[]=",t.to_a(u)),u[r(u.length,1)]),u=[e(n,1),s]),c(this.attributes,"[]=",t.to_a(u)),u[r(u.length,1)],!0},g.$$arity=-1),t.def(n,"$parse_attribute_value",v=function(t){var e=i;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):l(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),l(e["$include?"](a(O,"BACKSLASH")))?e.$gsub(a(O,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},v.$$arity=1),t.def(n,"$skip_blank",b=function(){return this.scanner.$skip(a(O,"BlankRx"))},b.$$arity=0),t.def(n,"$skip_delimiter",w=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},w.$$arity=0),t.def(n,"$scan_name",E=function(){return this.scanner.$scan(a(O,"NameRx"))},E.$$arity=0),t.def(n,"$scan_to_delimiter",k=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},k.$$arity=0),t.def(n,"$scan_to_quote",x=function(t){return this.scanner.$scan(a(O,"BoundaryRxs")["$[]"](t))},x.$$arity=1),i&&"scan_to_quote"}(f[0],null,f)}(n[0],n)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=t.module,s=t.klass,u=t.send,l=t.hash2,c=t.truthy;return t.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" ")),function(n,h){var f=[o(n,"Asciidoctor")].concat(h);!function(n,o,h){function f(){}n=f=s(n,o,"Block",f);var d,_,p,y,m=n.$$proto,g=[n].concat(h);return h=i,m.attributes=m.content_model=m.lines=m.subs=m.blocks=m.context=m.style=i,h=["simple"],u(t.const_set(g[0],"DEFAULT_CONTENT_MODEL",l("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",
video:"empty"})),"default=",t.to_a(h)),h[e(h.length,1)],t.alias(n,"blockname","context"),n.$attr_accessor("lines"),t.def(n,"$initialize",d=function(r,n,o){var s,h=d.$$p,f=i,_=f=i,p=f=i,y=i;for(null==o&&(o=l([],{})),h&&(d.$$p=null),p=0,y=arguments.length,f=Array(y);p<y;p++)f[p]=arguments[p];return u(this,t.find_super_dispatcher(this,"initialize",d,!1),f,h),this.content_model=c(s=o["$[]"]("content_model"))?s:a(g,"DEFAULT_CONTENT_MODEL")["$[]"](n),c(o["$key?"]("subs"))?c(f=o["$[]"]("subs"))?(f["$=="]("default")?this.default_subs=o["$[]"]("default_subs"):c($("::","Array")["$==="](f))?(this.default_subs=f.$dup(),this.attributes.$delete("subs")):(this.default_subs=i,f=["subs",""+f],u(this.attributes,"[]=",t.to_a(f)),f[e(f.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=i,c((_=o["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:c($("::","String")["$==="](_))?this.lines=a(g,"Helpers").$normalize_lines_from_string(_):this.lines=_.$dup()},d.$$arity=-3),t.def(n,"$content",_=function(){var e,n=this,$=_.$$p,o=i,s=i,l=i,h=i,f=i,d=i,p=i;for($&&(_.$$p=null),d=0,p=arguments.length,f=Array(p);d<p;d++)f[d]=arguments[d];return function(){if(o=n.content_model,"compound"["$==="](o))return u(n,t.find_super_dispatcher(n,"content",_,!1),f,$);if("simple"["$==="](o))return n.$apply_subs(r(n.lines,a(g,"LF")),n.subs);if("verbatim"["$==="](o)||"raw"["$==="](o)){s=n.$apply_subs(n.lines,n.subs);var d;if(d=s.$size(),d="number"==typeof d?2>d:d["$<"](2),c(d))return s["$[]"](0);for(;c(c(e=l=s["$[]"](0))?l.$rstrip()["$empty?"]():e);)s.$shift();for(;c(c(e=h=s["$[]"](-1))?h.$rstrip()["$empty?"]():e);)s.$pop();return r(s,a(g,"LF"))}return n.content_model["$=="]("empty")||n.$warn("Unknown content model '"+n.content_model+"' for block: "+n.$to_s()),i}()},_.$$arity=0),t.def(n,"$source",p=function(){return r(this.lines,a(g,"LF"))},p.$$arity=0),t.def(n,"$to_s",y=function(){var t=i,t=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+t+"}>"},y.$$arity=0),i&&"to_s"}(f[0],a(f,"AbstractBlock"),f)}(n[0],n)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=[],i=t.nil,$=t.module,a=t.klass,o=t.hash2,s=t.truthy,u=t.send;return t.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" ")),function(n,l){var c=[$(n,"Asciidoctor")].concat(l);!function(n,$,l){function c(){}n=c=a(n,$,"Callouts",c);var h=n.$$proto;[n].concat(l);var f,d,_,p,y,m,g,v,b;return h.co_index=h.lists=h.list_index=i,t.def(n,"$initialize",f=function(){return this.lists=[],this.list_index=0,this.$next_list()},f.$$arity=0),t.def(n,"$register",d=function(t){var r=i;return this.$current_list()["$<<"](o(["ordinal","id"],{ordinal:t.$to_i(),id:r=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),r},d.$$arity=1),t.def(n,"$read_next_id",_=function(){var t,n=i,$=i,n=i,$=this.$current_list();t=this.co_index;var a=$.$size();return t="number"==typeof t&&"number"==typeof a?t<=a:t["$<="](a),s(t)&&(n=$["$[]"](r(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),n},_.$$arity=0),t.def(n,"$callout_ids",p=function(t){var e;return u(this.$current_list(),"map",[],(e=function(e){return null==e&&(e=i),e["$[]"]("ordinal")["$=="](t)?""+e["$[]"]("id")+" ":i},e.$$s=this,e.$$arity=1,e)).$join().$chop()},p.$$arity=1),t.def(n,"$current_list",y=function(){return this.lists["$[]"](r(this.list_index,1))},y.$$arity=0),t.def(n,"$next_list",m=function(){this.list_index=e(this.list_index,1);var t;t=this.lists.$size();var r=this.list_index;return t="number"==typeof t&&"number"==typeof r?t<r:t["$<"](r),s(t)&&this.lists["$<<"]([]),this.co_index=1,i},m.$$arity=0),t.def(n,"$rewind",g=function(){return this.co_index=this.list_index=1,i},g.$$arity=0),t.def(n,"$generate_next_callout_id",v=function(){return this.$generate_callout_id(this.list_index,this.co_index)},v.$$arity=0),t.def(n,"$generate_callout_id",b=function(t,e){return"CO"+t+"-"+e},b.$$arity=2),i&&"generate_callout_id"}(c[0],null,c)}(n[0],n)},Opal.modules["asciidoctor/converter/base"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.klass,a=t.hash2,o=t.truthy;return t.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(e,s){var u=[i(e,"Asciidoctor")].concat(s);!function(t,e){[i(t,"Converter")].concat(e)}(u[0],u),function(t,e,r){function i(){}return t=i=$(t,e,"Base",i),r=[t].concat(r),t.$include(n(r,"Converter"))}(n(u,"Converter"),null,u),function(e,n,i){function s(){}e=s=$(e,n,"BuiltIn",s),[e].concat(i);var u,l,c,h;return t.def(e,"$initialize",u=function(t,e){return null==e&&a([],{}),r},u.$$arity=-2),t.def(e,"$convert",l=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=a([],{})),e=o(i=e)?i:t.$node_name(),o(n["$empty?"]())?this.$send(e,t):this.$send(e,t,n)},l.$$arity=-2),t.alias(e,"handles?","respond_to?"),t.def(e,"$content",c=function(t){return t.$content()},c.$$arity=1),t.alias(e,"pass","content"),t.def(e,"$skip",h=function(t){return r},h.$$arity=1),r&&"skip"}(n(u,"Converter"),null,u)}(e[0],e)},Opal.modules["asciidoctor/converter/factory"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=t.module,a=t.klass,o=t.truthy,s=t.hash2,u=t.send;return t.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" ")),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,l){var c=[$(e,"Converter")].concat(l);!function(e,$,l){function c(){}e=c=a(e,$,"Factory",c);var h,f,d,_,p,y=e.$$proto,m=[e].concat(l);return y.converters=y.star_converter=r,e.__default__=r,function(e,i){[e].concat(i);var $,a,u,l,c,h;return t.def(e,"$default",$=function e(i){var $;if(null==this.__default__&&(this.__default__=r),null==i&&(i=!0),!o(i))return o($=this.__default__)?$:this.$new();var e;if(o($=this.__default__))e=$;else t:{try{o(n("::","ThreadSafe","skip_raise")?"constant":r)||this.$require("thread_safe".$to_s()),e=this.$new(n(n("::","ThreadSafe"),"Cache").$new());break t}catch(r){if(!t.rescue(r,[n("::","LoadError")]))throw r;try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),e=this.$new();break t}finally{t.pop_exception()}}e=void 0}return this.__default__=e},$.$$arity=-1),t.def(e,"$register",a=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},a.$$arity=-2),t.def(e,"$resolve",u=function(t){return this.$default().$resolve(t)},u.$$arity=1),t.def(e,"$create",l=function(t,e){return null==e&&(e=s([],{})),this.$default().$create(t,e)},l.$$arity=-2),t.def(e,"$converters",c=function(){return this.$default().$converters()},c.$$arity=0),t.def(e,"$unregister_all",h=function(){return this.$default().$unregister_all()},h.$$arity=0),r&&"unregister_all"}(t.get_singleton_class(e),m),e.$attr_reader("converters"),t.def(e,"$initialize",h=function(t){var e;return null==t&&(t=r),this.converters=o(e=t)?e:s([],{}),this.star_converter=r},h.$$arity=-1),t.def(e,"$register",f=function(e,n){var i;return null==n&&(n=["*"]),u(n,"each",[],(i=function(n){var $=i.$$s||this,a=r;null==$.converters&&($.converters=r),null==n&&(n=r),a=[n,e],u($.converters,"[]=",t.to_a(a));var o=a,a=a.length,a="number"==typeof a?a-1:a["$-"](1);return o[a],n["$=="]("*")?$.star_converter=e:r},i.$$s=this,i.$$arity=1,i)),r},f.$$arity=-2),t.def(e,"$resolve",d=function(t){var e,r;return o(e=this.converters)?o(r=this.converters["$[]"](t))?r:this.star_converter:e},d.$$arity=1),t.def(e,"$unregister_all",_=function(){return this.converters.$clear(),this.star_converter=r},_.$$arity=0),t.def(e,"$create",p=function t(e,$){var a,u,l,c,h,f,d,_,p,y,g,v,t=this,b=r,w=b=r,E=r;return null==$&&($=s([],{})),o(b=t.$resolve(e))?o(n("::","Class")["$==="](b))?b.$new(e,$):b:(b=function(){return w=e,"html5"["$==="](w)?(o((u=n("::","Asciidoctor","skip_raise"))&&(a=n(u,"Converter","skip_raise"))&&n(a,"Html5Converter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/html5".$to_s()),i(m,"Html5Converter").$new(e,$)):"docbook5"["$==="](w)?(o((c=n("::","Asciidoctor","skip_raise"))&&(l=n(c,"Converter","skip_raise"))&&n(l,"DocBook5Converter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/docbook5".$to_s()),i(m,"DocBook5Converter").$new(e,$)):"docbook45"["$==="](w)?(o((f=n("::","Asciidoctor","skip_raise"))&&(h=n(f,"Converter","skip_raise"))&&n(h,"DocBook45Converter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/docbook45".$to_s()),i(m,"DocBook45Converter").$new(e,$)):"manpage"["$==="](w)?(o((_=n("::","Asciidoctor","skip_raise"))&&(d=n(_,"Converter","skip_raise"))&&n(d,"ManPageConverter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/manpage".$to_s()),i(m,"ManPageConverter").$new(e,$)):r}(),o($["$key?"]("template_dirs"))?(o((y=n("::","Asciidoctor","skip_raise"))&&(p=n(y,"Converter","skip_raise"))&&n(p,"TemplateConverter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/template".$to_s()),o((v=n("::","Asciidoctor","skip_raise"))&&(g=n(v,"Converter","skip_raise"))&&n(g,"CompositeConverter","skip_raise")?"constant":r)||t.$require("asciidoctor/converter/composite".$to_s()),E=i(m,"TemplateConverter").$new(e,$["$[]"]("template_dirs"),$),i(m,"CompositeConverter").$new(e,E,b)):b)},p.$$arity=-2),r&&"create"}(c[0],null,c)}(c[0],c)}(e[0],e)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=t.module,s=t.send,u=t.truthy,l=t.range,c=t.hash2;return t.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" ")),function(r,n){var h=[o(r,"Asciidoctor")].concat(n);!function(r,n){var h,f,d=o(r,"Converter"),_=[d].concat(n);!function(e,r){var n,$=o(e,"Config"),u=[$].concat(r);t.def($,"$register_for",n=function e(r){var n,$,o,e=i,e=arguments.length,l=e-0;for(0>l&&(l=0),o=Array(l),l=0;l<e;l++)o[l-0]=arguments[l];return a(u,"Factory").$register(this,o),e=function(t,e){return[t].concat(e),t}(t.get_singleton_class(this),u),o["$=="](["*"])?s(e,"send",["define_method","converts?"],(n=function(t){return!0},n.$$s=this,n.$$arity=1,n)):s(e,"send",["define_method","converts?"],($=function(t){return null==t&&(t=i),o["$include?"](t)},$.$$s=this,$.$$arity=1,$)),i},n.$$arity=-1)}(_[0],_),function(r,n){var h,f,d,_,p,y,m=o(r,"BackendInfo"),g=[m].concat(n);t.def(m,"$backend_info",h=function(){var t;return null==this.backend_info&&(this.backend_info=i),this.backend_info=u(t=this.backend_info)?t:this.$setup_backend_info()},h.$$arity=0),t.def(m,"$setup_backend_info",f=function(){var t=i,e=i,r=i,n=i;return null==this.backend&&(this.backend=i),u(this.backend)||this.$raise($("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),t=this.backend.$sub(a(g,"TrailingDigitsRx"),""),u(e=a(g,"DEFAULT_EXTENSIONS")["$[]"](t))?r=e["$[]"](l(1,-1,!1)):(t="html",e=".html",n=r="html"),c(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:t,outfilesuffix:e,filetype:r,htmlsyntax:n})},f.$$arity=0),t.def(m,"$filetype",d=function(r){var n=i;return null==r&&(r=i),u(r)?(n=["filetype",r],s(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("filetype")},d.$$arity=-1),t.def(m,"$basebackend",_=function(r){var n=i;return null==r&&(r=i),u(r)?(n=["basebackend",r],s(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("basebackend")},_.$$arity=-1),t.def(m,"$outfilesuffix",p=function(r){var n=i;return null==r&&(r=i),u(r)?(n=["outfilesuffix",r],s(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},p.$$arity=-1),t.def(m,"$htmlsyntax",y=function(r){var n=i;return null==r&&(r=i),u(r)?(n=["htmlsyntax",r],s(this.$backend_info(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},y.$$arity=-1)}(_[0],_),function(e,r){var n,$=[e].concat(r);return t.def(e,"$included",n=function(t){return t.$extend(a($,"Config"))},n.$$arity=1),i&&"included"}(t.get_singleton_class(d),_),d.$include(a(_,"Config")),d.$include(a(_,"BackendInfo")),t.def(d,"$initialize",h=function(t,e){return null==e&&c([],{}),this.backend=t,this.$setup_backend_info()},h.$$arity=-2),t.def(d,"$convert",f=function(t,e,r){return null==r&&c([],{}),this.$raise($("::","NotImplementedError"))},f.$$arity=-2),t.alias(d,"convert_with_options","convert")}(h[0],h),function(e,r){var n,s=o(e,"Writer"),l=[s].concat(r);t.def(s,"$write",n=function(t,e){return u(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write(a(l,"LF"))):$("::","IO").$write(e,t),i},n.$$arity=2)}(h[0],h),function(e,r){var n,$=o(e,"VoidWriter"),s=[$].concat(r);$.$include(a(s,"Writer")),t.def($,"$write",n=function(t,e){return i},n.$$arity=2)}(h[0],h)}(n[0],n),r.$require("asciidoctor/converter/base"),r.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var $=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=t.module,l=t.klass,c=t.truthy,h=t.send,f=t.hash2,d=t.range,_=t.gvars;return t.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $inject $catalog $== $callouts $dup $attributes $safe $compat_mode $sourcemap $converter $extensions $each $start_with? $end_with? $chop $downcase $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $update_doctype_attributes $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $slice $strftime $year $join $create $to_proc $activate $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $sectname= $title= $title $first_section $merge $find $context $enumerate_section $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $rewind $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $backend $default $doctype $content_model $warn $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" ")),function($,p){var y=[u($,"Asciidoctor")].concat(p);!function($,u,p){function y(){}$=y=l($,u,"Document",y);var m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st=$.$$proto,ut=[$].concat(p);return st.attributes=st.safe=st.reader=st.base_dir=st.parsed=st.parent_document=st.extensions=st.options=st.counters=st.catalog=st.header=st.blocks=st.attributes_modified=st.id=st.callouts=st.header_attributes=st.max_attribute_value_size=st.attribute_overrides=st.backend=st.doctype=st.converter=st.outfilesuffix=st.docinfo_processor_extensions=st.document=a,t.const_set(ut[0],"Footnote",o("::","Struct").$new("index","id","text")),function(r,n,i){function $(){}r=$=l(r,n,"AttributeEntry",$),[r].concat(i);var o,s;return r.$attr_reader("name","value","negate"),t.def(r,"$initialize",o=function(t,e,r){return null==r&&(r=a),this.name=t,this.value=e,this.negate=c(r["$nil?"]())?e["$nil?"]():r},o.$$arity=-3),t.def(r,"$save_to",s=function(r){var n,i=a;return(c(n=r["$[]"]("attribute_entries"))?n:(i=["attribute_entries",[]],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},s.$$arity=1),a&&"save_to"}(ut[0],null,ut),function(e,r,n){function i(){}e=i=l(e,r,"Title",i);var $,o,u,h,d=e.$$proto,_=[e].concat(n);return d.sanitized=d.subtitle=d.combined=a,e.$attr_reader("main"),t.alias(e,"title","main"),e.$attr_reader("subtitle"),e.$attr_reader("combined"),t.def(e,"$initialize",$=function e(r,n){var i,$,e=a;return null==n&&(n=f([],{})),c(c(i=this.sanitized=n["$[]"]("sanitize"))?r["$include?"]("<"):i)&&(r=r.$gsub(s(_,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),c(c(i=(e=c($=n["$[]"]("separator"))?$:":")["$empty?"]())?i:r["$include?"](e=""+e+" ")["$!"]())?(this.main=r,this.subtitle=a):($=r.$rpartition(e),i=t.to_ary($),this.main=null==i[0]?a:i[0],this.subtitle=null==i[2]?a:i[2],$),this.combined=r},$.$$arity=-2),t.def(e,"$sanitized?",o=function(){return this.sanitized},o.$$arity=0),t.def(e,"$subtitle?",u=function(){return!!c(this.subtitle)},u.$$arity=0),t.def(e,"$to_s",h=function(){return this.combined},h.$$arity=0),a&&"to_s"}(ut[0],null,ut),$.$attr_reader("safe"),$.$attr_reader("compat_mode"),$.$attr_reader("backend"),$.$attr_reader("doctype"),$.$attr_accessor("sourcemap"),$.$attr_reader("catalog"),t.alias($,"references","catalog"),$.$attr_reader("counters"),$.$attr_reader("callouts"),$.$attr_reader("header"),$.$attr_reader("base_dir"),$.$attr_reader("options"),$.$attr_reader("outfilesuffix"),$.$attr_reader("parent_document"),$.$attr_reader("reader"),$.$attr_reader("converter"),$.$attr_reader("extensions"),t.def($,"$initialize",m=function(i,$){var u,l,_,p,y,g,v,b=m.$$p,w=a,E=a,k=a,x=a,A=a,O=A=a,S=a,R=O=a,I=O=O=a,T=a,M=T=O=w=a,C=a;if(null==i&&(i=a),null==$&&($=f([],{})),b&&(m.$$p=null),h(this,t.find_super_dispatcher(this,"initialize",m,!1),[this,"document"],null),c(w=$.$delete("parent")))this.parent_document=w,c(u=$["$[]"]("base_dir"))?u:(E=["base_dir",w.$base_dir()],h($,"[]=",t.to_a(E)),E[e(E.length,1)]),this.catalog=h(w.$catalog(),"inject",[f([],{})],(l=function(r,n){var i,$;return null==n&&(n=a),n=t.to_ary(n),i=t.slice.call(n,0,n.length),$=i.splice(0,1)[0],null==$&&($=a),i=i.splice(0,1)[0],null==i&&(i=a),null==r&&(r=a),E=[$,$["$=="]("footnotes")?[]:i],h(r,"[]=",t.to_a(E)),E[e(E.length,1)],r},l.$$s=this,l.$$arity=2,l.$$has_top_level_mlhs_arg=!0,l)),this.callouts=w.$callouts(),this.attribute_overrides=k=w.$attributes().$dup(),x=k.$delete("doctype"),k.$delete("compat-mode"),k.$delete("toc"),k.$delete("toc-placement"),k.$delete("toc-position"),this.safe=w.$safe(),c(this.compat_mode=w.$compat_mode())&&(E=["compat-mode",""],h(this.attributes,"[]=",t.to_a(E)),E[e(E.length,1)]),this.sourcemap=w.$sourcemap(),this.converter=w.$converter(),A=!1,this.extensions=w.$extensions();else{if(this.parent_document=a,this.catalog=f("ids refs footnotes links images indexterms includes".split(" "),{ids:f([],{}),refs:f([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:o("::","Set").$new()}),this.callouts=s(ut,"Callouts").$new(),k=f([],{}),h(c(u=$["$[]"]("attributes"))?u:f([],{}),"each",[],(_=function(r,n){return null==r&&(r=a),null==n&&(n=a),c(r["$start_with?"]("!"))?(r=r["$[]"](d(1,-1,!1)),n=a):c(r["$end_with?"]("!"))&&(r=r.$chop(),n=a),E=[r.$downcase(),n],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]},_.$$s=this,_.$$arity=2,_)),this.attribute_overrides=k,c((A=$["$[]"]("safe"))["$!"]()))this.safe=o(s(ut,"SafeMode"),"SECURE");else if(c(o("::","Integer")["$==="](A)))this.safe=A;else try{this.safe=s(ut,"SafeMode").$value_for_name(A.$to_s())}catch(e){if(!t.rescue(e,[s(ut,"StandardError")]))throw e;try{this.safe=o(s(ut,"SafeMode"),"SECURE")}finally{t.pop_exception()}}this.compat_mode=k["$key?"]("compat-mode"),this.sourcemap=$["$[]"]("sourcemap"),this.converter=a,A=(p=o("::","Asciidoctor","skip_raise"))&&(u=o(p,"Extensions","skip_raise"))?"constant":a,this.extensions=a}if(this.parsed=!1,this.header=a,this.counters=f([],{}),this.attributes_modified=o("::","Set").$new(),this.docinfo_processor_extensions=f([],{}),O=c(y=$["$[]"]("header_footer"))?y:(E=["header_footer",!1],h($,"[]=",t.to_a(E)),E[e(E.length,1)]),(this.options=$).$freeze(),S=this.attributes,E=["sectids",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["toc-placement","auto"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],c(O)?(E=["copycss",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["embedded",a]):(E=["notitle",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["embedded",""]),h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["stylesheet",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["webfonts",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["prewrap",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["attribute-undefined",s(ut,"Compliance").$attribute_undefined()],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["attribute-missing",s(ut,"Compliance").$attribute_missing()],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["iconfont-remote",""],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["caution-caption","Caution"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["important-caption","Important"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["note-caption","Note"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["tip-caption","Tip"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["warning-caption","Warning"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["example-caption","Example"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["figure-caption","Figure"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["table-caption","Table"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["toc-title","Table of Contents"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["manname-title","NAME"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["section-refsig","Section"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["chapter-refsig","Chapter"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["appendix-caption",(E=["appendix-refsig","Appendix"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)])],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["untitled-label","Untitled"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["version-label","Version"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["last-update-label","Last updated"],h(S,"[]=",t.to_a(E)),E[e(E.length,1)],E=["asciidoctor",""],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["asciidoctor-version",s(ut,"VERSION")],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-name",O=s(ut,"SafeMode").$name_for_value(this.safe)],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-"+O,""],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["safe-mode-level",this.safe],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],c(y=k["$[]"]("max-include-depth"))?y:(E=["max-include-depth",64],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=k["$[]"]("allow-uri-read"))?y:(E=["allow-uri-read",a],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),E=["user-home",s(ut,"USER_HOME")],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],c(k["$key?"]("numbered"))&&(E=["sectnums",k.$delete("numbered")],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(R=$["$[]"]("base_dir"))?this.base_dir=(E=["docdir",o("::","File").$expand_path(R)],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]):c(k["$[]"]("docdir"))?this.base_dir=k["$[]"]("docdir"):this.base_dir=(E=["docdir",o("::","Dir").$pwd()],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(O=$["$[]"]("backend"))&&(E=["backend",""+O],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(O=$["$[]"]("doctype"))&&(E=["doctype",""+O],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(r(this.safe,o(s(ut,"SafeMode"),"SERVER")))&&(c(y=k["$[]"]("copycss"))?y:(E=["copycss",a],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=k["$[]"]("source-highlighter"))?y:(E=["source-highlighter",a],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=k["$[]"]("backend"))?y:(E=["backend",s(ut,"DEFAULT_BACKEND")],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(c(y=w["$!"]())?k["$key?"]("docfile"):y)&&(E=["docfile",k["$[]"]("docfile")["$[]"](t.Range.$new(n(k["$[]"]("docdir").$length(),1),-1,!1))],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),E=["docdir",""],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],E=["user-home","."],h(k,"[]=",t.to_a(E)),E[e(E.length,1)],c(r(this.safe,o(s(ut,"SafeMode"),"SECURE")))&&(c(k["$key?"]("max-attribute-value-size"))||(E=["max-attribute-value-size",4096],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(k.$fetch("linkcss","")["$nil?"]())||(E=["linkcss",""],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=k["$[]"]("icons"))?y:(E=["icons",a],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]))),this.max_attribute_value_size=c(I=c(y=k["$[]"]("max-attribute-value-size"))?y:(E=["max-attribute-value-size",a],h(k,"[]=",t.to_a(E)),E[e(E.length,1)]))?I.$to_i().$abs():a,h(k,"delete_if",[],(g=function(r,n){var i,$=a;return null==r&&(r=a),null==n&&(n=a),$=!1,c(n["$nil?"]())?S.$delete(r):(c(c(i=o("::","String")["$==="](n))?n["$end_with?"]("@"):i)&&(n=n.$chop(),$=!0),E=[r,n],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),$},g.$$s=this,g.$$arity=2,g)),c(w))return this.backend=S["$[]"]("backend"),(this.doctype=(E=["doctype",x],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]))["$=="](s(ut,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(s(ut,"DEFAULT_DOCTYPE")),this.reader=s(ut,"Reader").$new(i,$["$[]"]("cursor")),s(ut,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if(this.backend=a,(c(y=S["$[]"]("backend"))?y:(E=["backend",s(ut,"DEFAULT_BACKEND")],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]))["$=="]("manpage")?this.doctype=(E=["doctype",(E=["doctype","manpage"],h(k,"[]=",t.to_a(E)),E[e(E.length,1)])],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]):this.doctype=c(y=S["$[]"]("doctype"))?y:(E=["doctype",s(ut,"DEFAULT_DOCTYPE")],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),this.$update_backend_attributes(S["$[]"]("backend"),!0),T=c(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?o("::","Time").$at(this.$Integer(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():o("::","Time").$now(),c(w=S["$[]"]("localdate"))?O=c(y=S["$[]"]("localyear"))?y:(E=["localyear",w.$index("-")["$=="](4)?w.$slice(0,4):a],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]):(E=["localdate",T.$strftime("%Y-%m-%d")],h(S,"[]=",t.to_a(E)),w=E[e(E.length,1)],O=c(y=S["$[]"]("localyear"))?y:(E=["localyear",T.$year().$to_s()],h(S,"[]=",t.to_a(E)),E[e(E.length,1)])),c(y=S["$[]"]("localtime")))u=y;else{var N;t:{try{N=T.$strftime("%H:%M:%S %Z");break t}catch(e){if(!t.rescue(e,[s(ut,"StandardError")]))throw e;try{N=T.$strftime("%H:%M:%S %z");break t}finally{t.pop_exception()}}N=void 0}E=["localtime",N],h(S,"[]=",t.to_a(E)),u=E[e(E.length,1)]}return T=u,c(y=S["$[]"]("localdatetime"))?y:(E=["localdatetime",""+w+" "+T],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("docdate"))?y:(E=["docdate",w],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("docyear"))?y:(E=["docyear",O],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("doctime"))?y:(E=["doctime",T],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("docdatetime"))?y:(E=["docdatetime",""+w+" "+T],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("stylesdir"))?y:(E=["stylesdir","."],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(y=S["$[]"]("iconsdir"))?y:(E=["iconsdir",o("::","File").$join(S.$fetch("imagesdir","./images"),"icons")],h(S,"[]=",t.to_a(E)),E[e(E.length,1)]),c(A)&&(c(M=$["$[]"]("extension_registry"))?c(c(y=o(s(ut,"Extensions"),"Registry")["$==="](M))?y:c(v=o("::","RUBY_ENGINE_JRUBY"))?o(o(o("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](M):v)||(M=o(s(ut,"Extensions"),"Registry").$new()):M=c(o("::","Proc")["$==="](C=$["$[]"]("extensions")))?h(s(ut,"Extensions"),"create",[],C.$to_proc()):o(s(ut,"Extensions"),"Registry").$new(),this.extensions=M.$activate(this)),this.reader=s(ut,"PreprocessorReader").$new(this,i,o(s(ut,"Reader"),"Cursor").$new(S["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}))},m.$$arity=-1),t.def($,"$parse",g=function(t){var e,r,n,i=a,$=a;return null==t&&(t=a),c(this.parsed)?this:(i=this,c(t)&&(this.reader=s(ut,"PreprocessorReader").$new(i,t,o(s(ut,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),f(["normalize"],{normalize:!0}))),c(c(e=$=c(this.parent_document)?a:this.extensions)?$["$preprocessors?"]():e)&&h($.$preprocessors(),"each",[],(r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=a),null==t&&(t=a),n.reader=c(e=t.$process_method()["$[]"](i,n.reader))?e:n.reader},r.$$s=this,r.$$arity=1,r)),s(ut,"Parser").$parse(this.reader,i,f(["header_only"],{header_only:this.options["$[]"]("parse_header_only")})),this.$restore_attributes(),c(c(e=$)?$["$tree_processors?"]():e)&&h($.$tree_processors(),"each",[],(n=function(t){var e,r,n=a;return null==t&&(t=a),c(c(e=c(r=n=t.$process_method()["$[]"](i))?s(ut,"Document")["$==="](n):r)?n["$!="](i):e)?i=n:a},n.$$s=this,n.$$arity=1,n)),this.parsed=!0,i)},g.$$arity=-1),t.def($,"$counter",v=function(r,n){var i,$=a,o=a,s=a;return null==n&&(n=a),c(this.parent_document)?this.parent_document.$counter(r,n):(s=c(c(i=$=(o=this.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](r):i)?[r,(s=[r,this.$nextval(o)],h(this.counters,"[]=",t.to_a(s)),s[e(s.length,1)])]:c(n)?[r,(s=[r,n["$=="](n.$to_i().$to_s())?n.$to_i():n],h(this.counters,"[]=",t.to_a(s)),s[e(s.length,1)])]:[r,(s=[r,this.$nextval(c($)?o:0)],h(this.counters,"[]=",t.to_a(s)),s[e(s.length,1)])],h(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)])},v.$$arity=-2),t.def($,"$increment_and_store_counter",b=function(t,e){return s(ut,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},b.$$arity=2),t.alias($,"counter_increment","increment_and_store_counter"),t.def($,"$nextval",w=function(t){var e=a;return c(o("::","Integer")["$==="](t))?n(t,1):(e=t.$to_i(),c(e.$to_s()["$!="](t.$to_s()))?n(t["$[]"](0).$ord(),1).$chr():n(e,1))},w.$$arity=1),t.def($,"$register",E=function(r,i){var $,o,s=this,u=a,l=a,f=a,d=a,_=a,p=a,y=a;return function(){return u=r,"ids"["$==="](u)?(o=i,$=t.to_ary(o),l=null==$[0]?a:$[0],f=null==$[1]?a:$[1],d=s.catalog["$[]"]("ids"),c($=d["$[]"](l))?$:(_=[l,c(o=f)?o:n(n("[",l),"]")],h(d,"[]=",t.to_a(_)),_[e(_.length,1)])):"refs"["$==="](u)?(o=i,$=t.to_ary(o),l=null==$[0]?a:$[0],p=null==$[1]?a:$[1],f=null==$[2]?a:$[2],c((y=s.catalog["$[]"]("refs"))["$key?"](l))?a:(_=[l,c($=f)?$:n(n("[",l),"]")],h(s.catalog["$[]"]("ids"),"[]=",t.to_a(_)),_[e(_.length,1)],_=[l,p],h(y,"[]=",t.to_a(_)),_[e(_.length,1)])):"footnotes"["$==="](u)||"indexterms"["$==="](u)?s.catalog["$[]"](r)["$<<"](i):c(s.options["$[]"]("catalog_assets"))?s.catalog["$[]"](r)["$<<"](i):a}()},E.$$arity=2),t.def($,"$footnotes?",k=function(){return!c(this.catalog["$[]"]("footnotes")["$empty?"]())},k.$$arity=0),t.def($,"$footnotes",x=function(){return this.catalog["$[]"]("footnotes")},x.$$arity=0),t.def($,"$nested?",A=function(){return!!c(this.parent_document)},A.$$arity=0),t.def($,"$embedded?",O=function(){return this.attributes["$key?"]("embedded")},O.$$arity=0),t.def($,"$extensions?",S=function(){return!!c(this.extensions)},S.$$arity=0),t.def($,"$source",R=function(){return c(this.reader)?this.reader.$source():a},R.$$arity=0),t.def($,"$source_lines",I=function(){return c(this.reader)?this.reader.$source_lines():a},I.$$arity=0),t.def($,"$basebackend?",T=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},T.$$arity=1),t.def($,"$title",M=function(){return this.attributes["$[]"]("title")},M.$$arity=0),t.def($,"$title=",C=function(r){var n=a,i=a;return c(n=this.header)||(i=["header"],h(n=this.header=s(ut,"Section").$new(this,0,!1),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[r],h(n,"title=",t.to_a(i)),i[e(i.length,1)]},C.$$arity=1),t.def($,"$doctitle",N=function(t){var e,r=a,n=a,i=a;if(null==t&&(t=f([],{})),c((r=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))r=this.$title();else if(c(n=this.$first_section()))r=n.$title();else if(!c(c(e=t["$[]"]("use_fallback"))?r=this.attributes["$[]"]("untitled-label"):e))return a;return c(i=t["$[]"]("partition"))?s(ut,"Title").$new(r,t.$merge(f(["separator"],{separator:i["$=="](!0)?this.attributes["$[]"]("title-separator"):i
}))):c(c(e=t["$[]"]("sanitize"))?r["$include?"]("<"):e)?r.$gsub(s(ut,"XmlSanitizeRx"),"").$squeeze(" ").$strip():r},N.$$arity=-1),t.alias($,"name","doctitle"),t.def($,"$author",z=function(){return this.attributes["$[]"]("author")},z.$$arity=0),t.def($,"$revdate",B=function(){return this.attributes["$[]"]("revdate")},B.$$arity=0),t.def($,"$notitle",D=function(){var t;return c(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},D.$$arity=0),t.def($,"$noheader",F=function(){return this.attributes["$key?"]("noheader")},F.$$arity=0),t.def($,"$nofooter",L=function(){return this.attributes["$key?"]("nofooter")},L.$$arity=0),t.def($,"$first_section",P=function(){var t,e;return c(t=this.header)?t:h(this.blocks,"find",[],(e=function(t){return null==t&&(t=a),t.$context()["$=="]("section")},e.$$s=this,e.$$arity=1,e))},P.$$arity=0),t.def($,"$has_header?",q=function(){return!!c(this.header)},q.$$arity=0),t.alias($,"header?","has_header?"),t.def($,"$<<",j=function(e){var r=j.$$p,n=a,i=a,$=a;for(r&&(j.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return e.$context()["$=="]("section")&&this.$enumerate_section(e),h(this,t.find_super_dispatcher(this,"<<",j,!1),n,r)},j.$$arity=1),t.def($,"$finalize_header",U=function(r,n){var i=a;return null==n&&(n=!0),this.$clear_playback_attributes(r),this.$save_attributes(),c(n)||(i=["invalid-header",!0],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]),r},U.$$arity=-2),t.def($,"$save_attributes",H=function(){var r,n,i,$=a,o=a,u=a,l=o=a,f=a,d=a,_=a,d=l=a;return($=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(c(c(r=this["$attribute_locked?"]("toc"))?r:this.attributes_modified["$include?"]("toc"))||(o=["toc",""],h($,"[]=",t.to_a(o)),o[e(o.length,1)]),c(c(r=this["$attribute_locked?"]("sectnums"))?r:this.attributes_modified["$include?"]("sectnums"))||(o=["sectnums",""],h($,"[]=",t.to_a(o)),o[e(o.length,1)])),c(c(r=$["$key?"]("doctitle"))?r:(u=this.$doctitle())["$!"]())||(o=["doctitle",u],h($,"[]=",t.to_a(o)),o[e(o.length,1)]),c(this.id)||(this.id=$["$[]"]("css-signature")),o=c(l=c($.$delete("toc2"))?"left":$["$[]"]("toc"))?c(c(r=f=$.$fetch("toc-placement","macro"))?f["$!="]("auto"):r)?f:$["$[]"]("toc-position"):a,c(c(r=l)?c(n=l["$empty?"]()["$!"]())?n:o["$nil_or_empty?"]()["$!"]():r)&&(d="left",_="toc2",l=c(o["$nil_or_empty?"]()["$!"]())?o:c(l["$empty?"]()["$!"]())?l:d,o=["toc",""],h($,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement","auto"],h($,"[]=",t.to_a(o)),o[e(o.length,1)],d=l,"left"["$==="](d)||"<"["$==="](d)||"&lt;"["$==="](d)?(o=["toc-position","left"],h($,"[]=",t.to_a(o)),o[e(o.length,1)]):"right"["$==="](d)||">"["$==="](d)||"&gt;"["$==="](d)?(o=["toc-position","right"],h($,"[]=",t.to_a(o)),o[e(o.length,1)]):"top"["$==="](d)||"^"["$==="](d)?(o=["toc-position","top"],h($,"[]=",t.to_a(o)),o[e(o.length,1)]):"bottom"["$==="](d)||"v"["$==="](d)?(o=["toc-position","bottom"],h($,"[]=",t.to_a(o)),o[e(o.length,1)]):("preamble"["$==="](d)||"macro"["$==="](d)?(o=["toc-position","content"],h($,"[]=",t.to_a(o)),o[e(o.length,1)],o=["toc-placement",l],h($,"[]=",t.to_a(o)),o[e(o.length,1)]):$.$delete("toc-position"),_=a),c(_)&&(c(r=$["$[]"]("toc-class"))?r:(o=["toc-class",_],h($,"[]=",t.to_a(o)),o[e(o.length,1)]))),c(this.compat_mode=$["$key?"]("compat-mode"))&&c($["$key?"]("language"))&&(o=["source-language",$["$[]"]("language")],h($,"[]=",t.to_a(o)),o[e(o.length,1)]),this.outfilesuffix=$["$[]"]("outfilesuffix"),this.header_attributes=$.$dup(),c(this.parent_document)?a:h(s(ut,"FLEXIBLE_ATTRIBUTES"),"each",[],(i=function(t){var e,r=i.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=a),null==t&&(t=a),c(c(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):a},i.$$s=this,i.$$arity=1,i))},H.$$arity=0),t.def($,"$restore_attributes",G=function(){return c(this.parent_document)||this.callouts.$rewind(),this.attributes=this.header_attributes},G.$$arity=0),t.def($,"$clear_playback_attributes",Y=function(t){return t.$delete("attribute_entries")},Y.$$arity=1),t.def($,"$playback_attributes",W=function(r){var n;return c(r["$key?"]("attribute_entries"))?h(r["$[]"]("attribute_entries"),"each",[],(n=function(r){var i=n.$$s||this,$=a,o=a;return null==i.attributes&&(i.attributes=a),null==r&&(r=a),$=r.$name(),c(r.$negate())?(i.attributes.$delete($),$["$=="]("compat-mode")?i.compat_mode=!1:a):(o=[$,r.$value()],h(i.attributes,"[]=",t.to_a(o)),o[e(o.length,1)],$["$=="]("compat-mode")?i.compat_mode=!0:a)},n.$$s=this,n.$$arity=1,n)):a},W.$$arity=1),t.def($,"$set_attribute",X=function(r,n){var i=a,$=a,$=a;return null==n&&(n=""),!c(this["$attribute_locked?"](r))&&(i=c(this.max_attribute_value_size)?this.$apply_attribute_value_subs(n).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(n),$=r,"backend"["$==="]($)?this.$update_backend_attributes(i,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="]($)?this.$update_doctype_attributes(i):($=[r,i],h(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]),this.attributes_modified["$<<"](r),i)},X.$$arity=-2),t.def($,"$delete_attribute",K=function(t){return!c(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},K.$$arity=1),t.def($,"$attribute_locked?",V=function(t){return this.attribute_overrides["$key?"](t)},V.$$arity=1),t.def($,"$apply_attribute_value_subs",J=function(t){var e;return c(s(ut,"AttributeEntryPassMacroRx")["$=~"](t))?c((e=_["~"])===a?a:e["$[]"](1))?this.$apply_subs((e=_["~"])===a?a:e["$[]"](2),this.$resolve_pass_subs((e=_["~"])===a?a:e["$[]"](1))):(e=_["~"])===a?a:e["$[]"](2):this.$apply_header_subs(t)},J.$$arity=1),t.def($,"$update_backend_attributes",Z=function(r,n){var i,$,u=a,l=a,f=a,_=a,p=a,y=a,m=a,g=a,v=l=a,l=a;return null==n&&(n=a),c(c(i=n)?i:c($=r)?r["$!="](this.backend):$)?(i=[this.backend,(u=this.attributes)["$[]"]("basebackend"),this.doctype],l=i[0],f=i[1],_=i[2],c(r["$start_with?"]("xhtml"))?(p=["htmlsyntax","xml"],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],r=r["$[]"](d(1,-1,!1))):c(r["$start_with?"]("html"))&&!u["$[]"]("htmlsyntax")["$=="]("xml")&&(p=["htmlsyntax","html"],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]),c(y=s(ut,"BACKEND_ALIASES")["$[]"](r))&&(r=y),c(_)?(c(l)&&(u.$delete("backend-"+l),u.$delete("backend-"+l+"-doctype-"+_)),p=["backend-"+r+"-doctype-"+_,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],p=["doctype-"+_,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]):c(l)&&u.$delete("backend-"+l),p=["backend-"+r,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],this.backend=(p=["backend",r],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]),c(o(s(ut,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(m=this.converter.$basebackend(),c(this["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",this.converter.$outfilesuffix()],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]),g=this.converter.$filetype()):c(this.converter)?(m=r.$sub(s(ut,"TrailingDigitsRx"),""),c(l=s(ut,"DEFAULT_EXTENSIONS")["$[]"](m))?g=l["$[]"](d(1,-1,!1)):(i=[".html","html","html"],l=i[0],m=i[1],g=i[2],i),c(this["$attribute_locked?"]("outfilesuffix"))||(p=["outfilesuffix",l],h(u,"[]=",t.to_a(p)),p[e(p.length,1)])):this.$raise(o("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),c(v=u["$[]"]("filetype"))&&u.$delete("filetype-"+v),p=["filetype",g],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],p=["filetype-"+g,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],c(l=s(ut,"DEFAULT_PAGE_WIDTHS")["$[]"](m))?(p=["pagewidth",l],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]):u.$delete("pagewidth"),c(m["$!="](f))&&(c(_)?(c(f)&&(u.$delete("basebackend-"+f),u.$delete("basebackend-"+f+"-doctype-"+_)),p=["basebackend-"+m+"-doctype-"+_,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]):c(f)&&u.$delete("basebackend-"+f),p=["basebackend-"+m,""],h(u,"[]=",t.to_a(p)),p[e(p.length,1)],p=["basebackend",m],h(u,"[]=",t.to_a(p)),p[e(p.length,1)]),r):a},Z.$$arity=-2),t.def($,"$update_doctype_attributes",Q=function(r){var n,i=a,$=a,o=a,s=a,$=a;return c(c(n=r)?r["$!="](this.doctype):n)?(n=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype],$=n[0],o=n[1],s=n[2],c(s)?(i.$delete("doctype-"+s),c($)&&(i.$delete("backend-"+$+"-doctype-"+s),$=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a($)),$[e($.length,1)]),c(o)&&(i.$delete("basebackend-"+o+"-doctype-"+s),$=["basebackend-"+o+"-doctype-"+r,""],h(i,"[]=",t.to_a($)),$[e($.length,1)])):(c($)&&($=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a($)),$[e($.length,1)]),c(o)&&($=["basebackend-"+o+"-doctype-"+r,""],h(i,"[]=",t.to_a($)),$[e($.length,1)])),$=["doctype-"+r,""],h(i,"[]=",t.to_a($)),$[e($.length,1)],this.doctype=($=["doctype",r],h(i,"[]=",t.to_a($)),$[e($.length,1)])):a},Q.$$arity=1),t.def($,"$create_converter",tt=function(){var r=this,n=a,i=a,$=a,u=a,l=a,d=a,n=f([],{}),i=["htmlsyntax",r.attributes["$[]"]("htmlsyntax")];return h(n,"[]=",t.to_a(i)),i[e(i.length,1)],$=function(){return c(u=r.options["$[]"]("template_dir"))?(i=["template_dirs",[u]],h(n,"[]=",t.to_a(i)),i[e(i.length,1)]):c($=r.options["$[]"]("template_dirs"))?(i=["template_dirs",$],h(n,"[]=",t.to_a(i)),i[e(i.length,1)]):a}(),c($)&&(i=["template_cache",r.options.$fetch("template_cache",!0)],h(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine",r.options["$[]"]("template_engine")],h(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["template_engine_options",r.options["$[]"]("template_engine_options")],h(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["eruby",r.options["$[]"]("eruby")],h(n,"[]=",t.to_a(i)),i[e(i.length,1)],i=["safe",r.safe],h(n,"[]=",t.to_a(i)),i[e(i.length,1)]),d=c(l=r.options["$[]"]("converter"))?o(s(ut,"Converter"),"Factory").$new(o("::","Hash")["$[]"](r.$backend(),l)):o(s(ut,"Converter"),"Factory").$default(!1),d.$create(r.$backend(),n)},tt.$$arity=0),t.def($,"$convert",et=function(n){var i,$,u=a,l=a,d=a,_=a,p=a;return null==n&&(n=f([],{})),c(this.parsed)||this.$parse(),c(c(i=r(this.safe,o(s(ut,"SafeMode"),"SERVER")))?i:n["$empty?"]())||(c((u=["outfile",n["$[]"]("outfile")],h(this.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]))||this.attributes.$delete("outfile"),c((u=["outdir",n["$[]"]("outdir")],h(this.attributes,"[]=",t.to_a(u)),u[e(u.length,1)]))||this.attributes.$delete("outdir")),this.$doctype()["$=="]("inline")?c(l=this.blocks["$[]"](0))&&(c(c(i=l.$content_model()["$=="]("compound"))?i:l.$content_model()["$=="]("empty"))?this.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):d=l.$content()):(_=c(c(n["$key?"]("header_footer"))?n["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",d=this.converter.$convert(this,_)),!c(this.parent_document)&&c(c(i=p=this.extensions)?p["$postprocessors?"]():i)&&h(p.$postprocessors(),"each",[],($=function(t){var e=$.$$s||this;return null==t&&(t=a),d=t.$process_method()["$[]"](e,d)},$.$$s=this,$.$$arity=1,$)),d},et.$$arity=-1),t.alias($,"render","convert"),t.def($,"$write",rt=function(t,e){return c(s(ut,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(c(e["$respond_to?"]("write"))?c(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(s(ut,"LF"))):o("::","IO").$write(e,t),a)},rt.$$arity=2),t.def($,"$content",nt=function(){var e=nt.$$p,r=a,n=a,i=a;for(e&&(nt.$$p=null),n=0,i=arguments.length,r=Array(i);n<i;n++)r[n]=arguments[n];return this.attributes.$delete("title"),h(this,t.find_super_dispatcher(this,"content",nt,!1),r,e)},nt.$$arity=0),t.def($,"$docinfo",it=function(t,e){var $,u,l,d=a,_=a,p=a,y=a,m=a,g=a,v=a,y=v=a;return null==t&&(t="head"),null==e&&(e=a),c(r(this.$safe(),o(s(ut,"SafeMode"),"SECURE")))?"":(d=[],t["$=="]("head")||(_="-"+t),c(e)||(e=this.outfilesuffix),p=c((p=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?c(this.attributes["$key?"]("docinfo2"))?["private","shared"]:c(this.attributes["$key?"]("docinfo1"))?["shared"]:c(p)?["private"]:a:h(p.$split(","),"map",[],($=function(t){return null==t&&(t=a),t.$strip()},$.$$s=this,$.$$arity=1,$)),c(p)&&(u=["docinfo"+_+e,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()],y=u[0],m=u[1],g=u[2],!c(p["$&"](["shared","shared-"+t])["$empty?"]())&&(v=this.$normalize_system_path(y,m),c(v=this.$read_asset(v,f(["normalize"],{normalize:!0}))))&&d["$<<"](this.$apply_subs(v,g)),!c(c(u=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?u:p["$&"](["private","private-"+t])["$empty?"]())&&(v=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+y,m),c(y=this.$read_asset(v,f(["normalize"],{normalize:!0}))))&&d["$<<"](this.$apply_subs(y,g))),c(c(u=this.extensions)?this["$docinfo_processors?"](t):u)&&(d=n(d,h(this.docinfo_processor_extensions["$[]"](t),"map",[],(l=function(t){var e=l.$$s||this;return null==t&&(t=a),t.$process_method()["$[]"](e)},l.$$s=this,l.$$arity=1,l)).$compact())),i(d,s(ut,"LF")))},it.$$arity=-1),t.def($,"$resolve_docinfo_subs",$t=function(){return c(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",a,"docinfo"):["attributes"]},$t.$$arity=0),t.def($,"$docinfo_processors?",at=function(r){var n,i=a;return null==r&&(r="head"),c(this.docinfo_processor_extensions["$key?"](r))?this.docinfo_processor_extensions["$[]"](r)["$!="](!1):c(c(n=this.extensions)?this.document.$extensions()["$docinfo_processors?"](r):n)?(i=[r,this.document.$extensions().$docinfo_processors(r)],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[r,!1],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},at.$$arity=-1),t.def($,"$to_s",ot=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(c(this.header["$!="](a))?this.header.$title():a).$inspect()+", blocks: "+this.blocks.$size()+"}>"},ot.$$arity=0),a&&"to_s"}(y[0],s(y,"AbstractBlock"),y)}($[0],$)},Opal.modules["asciidoctor/inline"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.klass,a=t.send,o=t.truthy,s=t.hash2;return t.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter $attr $== $apply_reftext_subs $reftext".split(" ")),function(e,u){var l=[i(e,"Asciidoctor")].concat(u);!function(e,n,i){function u(){}e=u=$(e,n,"Inline",u);var l=e.$$proto;[e].concat(i);var c,h,f,d,_,p,y,m;return l.text=l.type=r,e.$attr_reader("text"),e.$attr_reader("type"),e.$attr_accessor("target"),t.def(e,"$initialize",c=function(e,n,i,$){var u=c.$$p,l=r;return null==i&&(i=r),null==$&&($=s([],{})),u&&(c.$$p=null),a(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,n],null),this.node_name="inline_"+n,this.text=i,this.id=$["$[]"]("id"),this.type=$["$[]"]("type"),this.target=$["$[]"]("target"),o((l=$["$[]"]("attributes"))["$nil_or_empty?"]())?r:this.$update_attributes(l)},c.$$arity=-3),t.def(e,"$block?",h=function(){return!1},h.$$arity=0),t.def(e,"$inline?",f=function(){return!0},f.$$arity=0),t.def(e,"$convert",d=function(){return this.$converter().$convert(this)},d.$$arity=0),t.alias(e,"render","convert"),t.def(e,"$alt",_=function(){return this.$attr("alt")},_.$$arity=0),t.def(e,"$reftext?",p=function(){var t,e;return o(t=this.text)?o(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},p.$$arity=0),t.def(e,"$reftext",y=function(){var t=r;return o(t=this.text)?this.$apply_reftext_subs(t):r},y.$$arity=0),t.def(e,"$xreftext",m=function(t){return this.$reftext()},m.$$arity=-1),r&&"xreftext"}(l[0],n(l,"AbstractNode"),l)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.klass,a=t.send,o=t.truthy;return t.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" ")),function(e,s){var u=[i(e,"Asciidoctor")].concat(s);!function(e,n,i){function s(){}e=s=$(e,n,"List",s);var u=e.$$proto;[e].concat(i);var l,c,h,f;return u.context=u.document=u.style=r,t.alias(e,"items","blocks"),t.alias(e,"content","blocks"),t.alias(e,"items?","blocks?"),t.def(e,"$initialize",l=function(e,n){var i=l.$$p,$=r,o=r,s=r;for(i&&(l.$$p=null),o=0,s=arguments.length,$=Array(s);o<s;o++)$[o]=arguments[o];return a(this,t.find_super_dispatcher(this,"initialize",l,!1),$,i)},l.$$arity=2),t.def(e,"$outline?",c=function(){var t;return o(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},c.$$arity=0),t.def(e,"$convert",h=function(){var e=h.$$p,n=r,i=n=r,$=r;for(e&&(h.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return this.context["$=="]("colist")?(n=a(this,t.find_super_dispatcher(this,"convert",h,!1),n,e),this.document.$callouts().$next_list(),n):a(this,t.find_super_dispatcher(this,"convert",h,!1),n,e)},h.$$arity=0),t.alias(e,"render","convert"),t.def(e,"$to_s",f=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},f.$$arity=0),r&&"to_s"}(u[0],n(u,"AbstractBlock"),u),function(e,i,s){function u(){}e=u=$(e,i,"ListItem",u);var l,c,h,f,d,_,p,y,m=e.$$proto,g=[e].concat(s);return m.text=m.subs=m.blocks=r,t.alias(e,"list","parent"),e.$attr_accessor("marker"),t.def(e,"$initialize",l=function(e,i){var $=l.$$p;return null==i&&(i=r),$&&(l.$$p=null),a(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"list_item"],null),this.text=i,this.level=e.$level(),this.subs=n(g,"NORMAL_SUBS").$dup()},l.$$arity=-2),t.def(e,"$text?",c=function(){return this.text["$nil_or_empty?"]()["$!"]()},c.$$arity=0),t.def(e,"$text",h=function(){return this.$apply_subs(this.text,this.subs)},h.$$arity=0),t.def(e,"$text=",f=function(t){return this.text=t},f.$$arity=1),t.def(e,"$simple?",d=function(){var t,e,i=r;return o(t=this.blocks["$empty?"]())?t:o(e=this.blocks.$size()["$=="](1)?n(g,"List")["$==="](i=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?i["$outline?"]():e},d.$$arity=0),t.def(e,"$compound?",_=function(){return this["$simple?"]()["$!"]()},_.$$arity=0),t.def(e,"$fold_first",p=function(t,e){var i,$,a,s,u,l=r,c=r;return null==t&&(t=!1),null==e&&(e=!1),o(o(i=o($=l=this.blocks["$[]"](0))?n(g,"Block")["$==="](l):$)?o($=l.$context()["$=="]("paragraph")?t["$!"]():l.$context()["$=="]("paragraph"))?$:o(a=o(s=o(u=e)?u:t["$!"]())?l.$context()["$=="]("literal"):s)?l["$option?"]("listparagraph"):a:i)&&(c=this.$blocks().$shift(),o(this.text["$nil_or_empty?"]())||c.$lines().$unshift(this.text),this.text=c.$source()),r},p.$$arity=-1),t.def(e,"$to_s",y=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(o(t=this.blocks)?t:[]).$size()+"}>"},y.$$arity=0),r&&"to_s"}(u[0],n(u,"AbstractBlock"),u)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.module,c=t.klass,h=t.send,f=t.truthy,d=t.hash2,_=t.hash,p=t.gvars,y=t.range;return t.add_stubs("$new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_doctitle? $attributes $key? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $attribute_locked? $set_attr $delete $source_location= $header $[]= $id $parse_style_attribute $parse_header_metadata $== $doctype $parse_manpage_header $=~ $sub_attributes $downcase $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $match $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $sectname $+ $to_i $> $line_info $include? $size $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $path $lineno $read_line $=== $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $lstrip $keys $chr $length $end_with? $parse_attributes $attribute_missing $clear $register $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $peek_line $next_list_item $callout_ids $callouts $items $next_list $next_item_list $each $catalog_inline_biblio_anchor $instance_variable_get $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $title $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $split $pop $build_block $chop $catalog_inline_anchors $rekey $index $slice $strip $< $next_table $concat $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $special $numbered $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $map $compact $Array $squeeze $to_a $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $resolve_ordered_list_marker $ord $roman_numeral_to_int $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $post_match $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" ")),function(a,m){var g=[l(a,"Asciidoctor")].concat(m);!function(a,l,m){function g(){}a=g=c(a,l,"Parser",g);var v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot,st,ut,lt,ct,ht=[a].concat(m);return t.const_set(ht[0],"BlockMatchData",u(ht,"Struct").$new("context","masq","tip","terminator")),t.const_set(ht[0],"TabRx",/\t/),t.const_set(ht[0],"TabIndentRx",/^\t+/),t.const_set(ht[0],"StartOfBlockProc",h(a,"lambda",[],(v=function(t){var e,r,n=v.$$s||this;return null==t&&(t=o),f(e=f(r=t["$start_with?"]("["))?u(ht,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)},v.$$s=a,v.$$arity=1,v))),t.const_set(ht[0],"StartOfListProc",h(a,"lambda",[],(b=function(t){return null==t&&(t=o),u(ht,"AnyListRx")["$match?"](t)},b.$$s=a,b.$$arity=1,b))),t.const_set(ht[0],"StartOfBlockOrListProc",h(a,"lambda",[],(w=function(t){var e,r,n,i=w.$$s||this;return null==t&&(t=o),f(e=f(r=i["$is_delimited_block?"](t))?r:f(n=t["$start_with?"]("["))?u(ht,"BlockAttributeLineRx")["$match?"](t):n)?e:u(ht,"AnyListRx")["$match?"](t)},w.$$s=a,w.$$arity=1,w))),t.const_set(ht[0],"NoOp",o),t.const_set(ht[0],"TableCellHorzAlignments",d(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(ht[0],"TableCellVertAlignments",d(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(ht[0],"TableCellStyles",d("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),t.def(a,"$initialize",E=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},E.$$arity=0),t.defs(a,"$parse",k=function(e,r,n){var i,$=i=o;if(null==n&&(n=d([],{})),i=this.$parse_document_header(e,r),!f(n["$[]"]("header_only")))for(;f(e["$has_more_lines?"]());)n=this.$next_section(e,r,i),i=t.to_ary(n),$=null==i[0]?o:i[0],i=null==i[1]?o:i[1],f($)&&r["$<<"]($);return r},k.$$arity=-3),t.defs(a,"$parse_document_header",x=function(r,n){var i,$,a=o,s=o,u=o,l=o,c=$=o,d=o,p=s=c=o;return $=$=o,a=this.$parse_block_metadata_lines(r,n),f(f(i=s=this["$is_next_line_doctitle?"](r,a,n.$attributes()["$[]"]("leveloffset")))?a["$key?"]("title"):i)?n.$finalize_header(a,!1):(u=o,f((l=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||($=[u=l],h(n,"title=",t.to_a($)),$[e($.length,1)]),c=o,f(s)&&(f(n.$sourcemap())&&(d=r.$cursor()),$=this.$parse_section_title(r,n),i=t.to_ary($),n["$id="](null==i[0]?o:i[0]),c=null==i[2]?o:i[2],s=null==i[4]?o:i[4],f(u)||($=[u=c],h(n,"title=",t.to_a($)),$[e($.length,1)]),f(f(i=s)?i:n["$attribute_locked?"]("compat-mode"))||n.$set_attr("compat-mode"),f(p=a.$delete("separator"))&&!f(n["$attribute_locked?"]("title-separator"))&&n.$set_attr("title-separator",p),f(d)&&($=[d],h(n.$header(),"source_location=",t.to_a($)),$[e($.length,1)]),$=["doctitle",c],h(n.$attributes(),"[]=",t.to_a($)),$[e($.length,1)],f(n.$id())?(a.$delete(1),a.$delete("id")):(f($=a.$delete(1))&&($=_(1,$),this.$parse_style_attribute($,r),f($["$key?"]("id"))&&($=["id",$["$[]"]("id")],h(a,"[]=",t.to_a($)),$[e($.length,1)])),$=[a.$delete("id")],h(n,"id=",t.to_a($)),$[e($.length,1)]),this.$parse_header_metadata(r,n)),f(f(i=(l=n.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?i:l["$=="](c))||($=[u=l],h(n,"title=",t.to_a($)),$[e($.length,1)]),f(u)&&($=["doctitle",u],h(n.$attributes(),"[]=",t.to_a($)),$[e($.length,1)]),n.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(r,n),n.$finalize_header(a))},x.$$arity=2),t.defs(a,"$parse_manpage_header",A=function(n,i){var $,a=o,s=a=a=o;return f(u(ht,"ManpageTitleVolnumRx")["$=~"](i.$attributes()["$[]"]("doctitle")))?(a=["mantitle",i.$sub_attributes((($=p["~"])===o?o:$["$[]"](1)).$downcase())],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manvolnum",($=p["~"])===o?o:$["$[]"](2)]):(this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),a=["mantitle",i.$attributes()["$[]"]("doctitle")],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manvolnum","1"]),h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],n.$skip_blank_lines(),f(this["$is_next_line_section?"](n,d([],{})))?(a=this.$initialize_section(n,i,d([],{})),a.$level()["$=="](1)?(a=r(n.$read_lines_until(d(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),f(s=u(ht,"ManpageNamePurposeRx").$match(a))?(a=["manname",i.$sub_attributes(s["$[]"](1))],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["manpurpose",s["$[]"](2)],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],i.$backend()["$=="]("manpage")?(a=["docname",i.$attributes()["$[]"]("manname")],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)],a=["outfilesuffix","."+i.$attributes()["$[]"]("manvolnum")],h(i.$attributes(),"[]=",t.to_a(a)),a[e(a.length,1)]):o):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1")):this.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected")},A.$$arity=2),t.defs(a,"$next_section",O=function($,a,s){var l,c,_,p=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o,x=o,A=k=o,O=A=w=A=o,y=o;for(null==s&&(s=d([],{})),p=y=m=!1,f(f(l=(c=a.$context()["$=="]("document"))?a.$blocks()["$empty?"]():a.$context()["$=="]("document"))?f(c=f(_=g=a["$has_header?"]())?_:s.$delete("invalid-header"))?c:this["$is_next_line_section?"]($,s)["$!"]():l)?(v=(b=a).$doctype(),f(f(l=g)?l:(c=v["$=="]("book"))?s["$[]"](1)["$!="]("abstract"):v["$=="]("book"))&&(p=y=u(ht,"Block").$new(a,"preamble",d(["content_model"],{content_model:"compound"})),f((l=v["$=="]("book"))?a["$attr?"]("preface-title"):v["$=="]("book"))&&(w=[a.$attr("preface-title")],h(p,"title=",t.to_a(w)),w[e(w.length,1)]),a["$<<"](p)),E=a,k=0,x=f(a.$attributes()["$key?"]("fragment"))?o:v["$=="]("book")?[0,1]:[1]):(v=(b=a.$document()).$doctype(),E=this.$initialize_section($,a,s),s=f(k=s["$[]"]("title"))?d(["title"],{title:k}):d([],{}),m=E.$sectname()["$=="]("part"),x=[n(k=E.$level(),1)]),$.$skip_blank_lines();f($["$has_more_lines?"]());){if(this.$parse_block_metadata_lines($,b,s),f(A=this["$is_next_line_section?"]($,s))){if(f(b["$attr?"]("leveloffset"))&&(A=n(A,b.$attr("leveloffset").$to_i())),!f(f(c=i(A,k))?c:A["$=="](0)?E.$context()["$=="]("document"):A["$=="](0))){f((c=A["$=="](0))?v["$!="]("book"):A["$=="](0))&&this.$warn("asciidoctor: ERROR: "+$.$line_info()+": only book doctypes can contain level 0 sections");break}f(A["$=="](0)?v["$!="]("book"):A["$=="](0))?this.$warn("asciidoctor: ERROR: "+$.$line_info()+": only book doctypes can contain level 0 sections"):f(f(c=x)?x["$include?"](A)["$!"]():c)&&this.$warn("asciidoctor: WARNING: "+$.$line_info()+": section title out of sequence: expected "+(f(i(x.$size(),1))?"levels":"level")+" "+r(x," or ")+", got level "+A),_=this.$next_section($,E,s),c=t.to_ary(_),A=null==c[0]?o:c[0],s=null==c[1]?o:c[1],E["$<<"](A)}else w=$.$line_info(),f(A=this.$next_block($,f(c=y)?c:E,s,d(["parse_metadata"],{parse_metadata:!1})))&&(f(m)&&(f(E["$blocks?"]()["$!"]())?f(A.$style()["$!="]("partintro"))&&(A.$context()["$=="]("paragraph")?(w=["open"],h(A,"context=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(A,"style=",t.to_a(w)),w[e(w.length,1)]):(y=u(ht,"Block").$new(E,"open",d(["content_model"],{content_model:"compound"})),w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],w=[y],h(A,"parent=",t.to_a(w)),w[e(w.length,1)],E["$<<"](y))):E.$blocks().$size()["$=="](1)&&(O=E.$blocks()["$[]"](0),f(f(c=y["$!"]())?O.$content_model()["$=="]("compound"):c)?this.$warn("asciidoctor: ERROR: "+w+": illegal block content outside of partintro block"):f(O.$content_model()["$!="]("compound"))&&(y=u(ht,"Block").$new(E,"open",d(["content_model"],{content_model:"compound"})),w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],E.$blocks().$shift(),O.$style()["$=="]("partintro")&&(w=["paragraph"],h(O,"context=",t.to_a(w)),w[e(w.length,1)],w=[o],h(O,"style=",t.to_a(w)),w[e(w.length,1)]),w=[y],h(O,"parent=",t.to_a(w)),w[e(w.length,1)],y["$<<"](O),w=[y],h(A,"parent=",t.to_a(w)),w[e(w.length,1)],E["$<<"](y)))),(f(c=y)?c:E)["$<<"](A),s=d([],{}));if(!f(c=$.$skip_blank_lines()))break}if(f(m))f(f(l=E["$blocks?"]())?E.$blocks()["$[]"](-1).$context()["$=="]("section"):l)||this.$warn("asciidoctor: ERROR: "+$.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(f(p))if(f(p["$blocks?"]())){if(f(f(l=f(c=u(ht,"Compliance").$unwrap_standalone_preamble())?b.$blocks().$size()["$=="](1):c)?v["$!="]("book"):l))for(b.$blocks().$shift();f(y=p.$blocks().$shift());)w=[b],h(y,"parent=",t.to_a(w)),w[e(w.length,1)],b["$<<"](y)}else b.$blocks().$shift();return[f(E["$!="](a))?E:o,s.$dup()]},O.$$arity=-3),t.defs(a,"$next_block",S=function a(s,l,c,_){try{var m,g,v,b,w,E,k,x,A,O,S=o,R=o,a=o,I=o,T=o,M=o,C=o,N=o,z=o,B=o,D=o,F=o,L=o,P=o,q=o,j=o,U=o,H=o,G=o,Y=o,W=o,X=o,K=o,V=o,J=o,Z=o,Q=o,tt=o,et=o,rt=o,nt=o,it=o,$t=o,at=o,ot=o,st=o,ut=o,lt=o,ct=o,ft=o,dt=o,_t=o,pt=o,yt=o,mt=o,gt=o,vt=o,bt=o,wt=o,Et=o,kt=o,xt=o,At=o,Ot=o;if(null==c&&(c=d([],{})),null==_&&(_=d([],{})),!f(S=s.$skip_blank_lines()))return o;if(f(f(m=R=_["$[]"]("text"))?i(S,0):m)&&(_.$delete("text"),R=!1),a=l.$document(),f(_.$fetch("parse_metadata",!0)))for(;f(this.$parse_block_metadata_line(s,a,c,_));)s.$shift(),f(g=s.$skip_blank_lines())?g:t.ret(o);if(f(I=a.$extensions())&&(m=[I["$blocks?"](),I["$block_macros?"]()],T=m[0],M=m[1],m),f(a.$sourcemap())&&(C=s.$cursor()),m=[s.$path(),s.$lineno(),s.$read_line(),u(ht,"ListItem")["$==="](l)],N=m[0],z=m[1],B=m[2],D=m[3],F=L=P=q=o,j=f(c["$[]"](1))?this.$parse_style_attribute(c,s):o,f(U=this["$is_delimited_block?"](B,!0))&&(L=P=U.$context(),q=U.$terminator(),f(j["$!"]())?(H=["style",L.$to_s()],
h(c,"[]=",t.to_a(H)),j=H[e(H.length,1)]):f(j["$!="](L.$to_s()))&&(f(U.$masq()["$include?"](j))?L=j.$to_sym():f(f(m=U.$masq()["$include?"]("admonition"))?u(ht,"ADMONITION_STYLES")["$include?"](j):m)?L="admonition":f(f(m=T)?I["$registered_for_block?"](j,L):m)?L=j.$to_sym():(this.$warn("asciidoctor: WARNING: "+N+": line "+z+": invalid style for "+L+" block: "+j),j=L.$to_s()))),!f(U))for(;f(!0);){if(f(f(g=f(v=j)?u(ht,"Compliance").$strict_verbatim_paragraphs():v)?u(ht,"VERBATIM_STYLES")["$include?"](j):g)){L=j.$to_sym(),s.$unshift_line(B);break}if(f(R))G=B["$start_with?"](" ",u(ht,"TAB"));else if(Y=u(ht,"Compliance").$markdown_syntax(),f(B["$start_with?"](" "))){if(g=[!0," "],G=g[0],W=g[1],f(f(g=f(v=Y)?h(B.$lstrip(),"start_with?",t.to_a(u(ht,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):v)?u(ht,"MarkdownThematicBreakRx")["$match?"](B):g)){F=u(ht,"Block").$new(l,"thematic_break",d(["content_model"],{content_model:"empty"}));break}}else if(f(B["$start_with?"](u(ht,"TAB"))))g=[!0,u(ht,"TAB")],G=g[0],W=g[1],g;else{if(g=[!1,B.$chr()],G=g[0],W=g[1],X=f(Y)?u(ht,"HYBRID_LAYOUT_BREAK_CHARS"):u(ht,"LAYOUT_BREAK_CHARS"),f(f(g=X["$key?"](W))?f(Y)?u(ht,"ExtLayoutBreakRx")["$match?"](B):(v=B["$=="](r(W,K=B.$length())))?i(K,2):B["$=="](r(W,K=B.$length())):g)){F=u(ht,"Block").$new(l,X["$[]"](W),d(["content_model"],{content_model:"empty"}));break}if(f(f(g=B["$end_with?"]("]"))?B["$include?"]("::"):g)){if(f(f(g=f(v=W["$=="]("i"))?v:B["$start_with?"]("video:","audio:"))?V=u(ht,"BlockMediaMacroRx").$match(B):g)){if(g=[V["$[]"](1).$to_sym(),V["$[]"](2)],J=g[0],Z=g[1],F=u(ht,"Block").$new(l,J,d(["content_model"],{content_model:"empty"})),Q=J,tt="video"["$==="](Q)?["poster","width","height"]:"audio"["$==="](Q)?[]:["alt","width","height"],F.$parse_attributes(V["$[]"](3),tt,d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:c})),f(c["$key?"]("style"))&&c.$delete("style"),f(f(g=Z["$include?"](u(ht,"ATTR_REF_HEAD")))?(Z=F.$sub_attributes(Z,d(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():g))return a.$attributes().$fetch("attribute-missing",u(ht,"Compliance").$attribute_missing())["$=="]("skip")?u(ht,"Block").$new(l,"paragraph",d(["content_model","source"],{content_model:"simple",source:[B]})):(c.$clear(),o);J["$=="]("image")&&(F.$document().$register("images",Z),f(g=c["$[]"]("alt"))?g:(H=["alt",f(v=j)?v:(H=["default-alt",u(ht,"Helpers").$basename(Z,!0).$tr("_-"," ")],h(c,"[]=",t.to_a(H)),H[e(H.length,1)])],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),f((et=c.$delete("scaledwidth"))["$nil_or_empty?"]())||(H=["scaledwidth",f(u(ht,"TrailingDigitsRx")["$match?"](et))?""+et+"%":et],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),H=[c.$delete("title")],h(F,"title=",t.to_a(H)),H[e(H.length,1)],F.$assign_caption(c.$delete("caption"),"figure")),H=["target",Z],h(c,"[]=",t.to_a(H)),H[e(H.length,1)];break}if(f(f(g=(v=W["$=="]("t"))?B["$start_with?"]("toc:"):W["$=="]("t"))?V=u(ht,"BlockTocMacroRx").$match(B):g)){F=u(ht,"Block").$new(l,"toc",d(["content_model"],{content_model:"empty"})),F.$parse_attributes(V["$[]"](1),[],d(["sub_result","into"],{sub_result:!1,into:c}));break}if(f(f(g=f(v=M)?V=u(ht,"CustomBlockMacroRx").$match(B):v)?rt=I["$registered_for_block_macro?"](V["$[]"](1)):g)){if(Z=V["$[]"](2),nt=V["$[]"](3),rt.$config()["$[]"]("content_model")["$=="]("attributes")?f(nt["$empty?"]())||a.$parse_attributes(nt,f(g=rt.$config()["$[]"]("pos_attrs"))?g:[],d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:c})):(H=["text",nt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),f(it=rt.$config()["$[]"]("default_attrs"))&&h(c,"update",[it],(b=function(t,e){return null==e&&(e=o),e},b.$$s=this,b.$$arity=2,b)),f(F=rt.$process_method()["$[]"](l,Z,c))){c.$replace(F.$attributes());break}return c.$clear(),o}}}if(f(f(g=f(v=f(w=G["$!"]())?u(ht,"CALLOUT_LIST_HEADS")["$include?"](W=f(E=W)?E:B.$chr()):w)?u(ht,"CalloutListSniffRx")["$match?"](B):v)?V=u(ht,"CalloutListRx").$match(B):g)){for(F=u(ht,"List").$new(l,"colist"),H=["style","arabic"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],s.$unshift_line(B),$t=1;f(f(v=V)?v:f(w=s["$has_more_lines?"]())?V=u(ht,"CalloutListRx").$match(s.$peek_line()):w);)at=s.$lineno(),V["$[]"](1)["$=="]($t.$to_s())||this.$warn("asciidoctor: WARNING: "+s.$path()+": line "+at+": callout list item index: expected "+$t+" got "+V["$[]"](1)),f(ot=this.$next_list_item(s,F,V))&&(F["$<<"](ot),f((st=a.$callouts().$callout_ids(F.$items().$size()))["$empty?"]())?this.$warn("asciidoctor: WARNING: "+s.$path()+": line "+at+": no callouts refer to list item "+F.$items().$size()):(H=["coids",st],h(ot.$attributes(),"[]=",t.to_a(H)),H[e(H.length,1)])),$t=n($t,1),V=o;a.$callouts().$next_list();break}if(f(u(ht,"UnorderedListRx")["$match?"](B))){s.$unshift_line(B),F=this.$next_item_list(s,"ulist",l),(f(g=j)?g:f(v=u(ht,"Section")["$==="](l))?l.$sectname():v)["$=="]("bibliography")&&(f(j)||(H=["style","bibliography"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),h(F.$items(),"each",[],(k=function(t){var e=k.$$s||this;return null==t&&(t=o),e.$catalog_inline_biblio_anchor(t.$instance_variable_get("@text"),t,a)},k.$$s=this,k.$$arity=1,k)));break}if(f(V=u(ht,"OrderedListRx").$match(B))){s.$unshift_line(B),F=this.$next_item_list(s,"olist",l),f(j)||(ut=F.$items()["$[]"](0).$marker(),H=f(ut["$start_with?"]("."))?["style",(f(g=u(ht,"ORDERED_LIST_STYLES")["$[]"](e(ut.$length(),1)))?g:"arabic").$to_s()]:["style",(f(g=h(u(ht,"ORDERED_LIST_STYLES"),"find",[],(x=function(t){return null==t&&(t=o),u(ht,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](ut)},x.$$s=this,x.$$arity=1,x)))?g:"arabic").$to_s()],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]);break}if(f(V=u(ht,"DescriptionListRx").$match(B))){s.$unshift_line(B),F=this.$next_description_list(s,V,l);break}if(f(f(g=f(v=j["$=="]("float"))?v:j["$=="]("discrete"))?f(u(ht,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](B,s.$peek_line()):f(v=G["$!"]())?this["$atx_section_title?"](B):v:g)){s.$unshift_line(B),v=this.$parse_section_title(s,a),g=t.to_ary(v),lt=null==g[0]?o:g[0],ct=null==g[1]?o:g[1],ft=null==g[2]?o:g[2],dt=null==g[3]?o:g[3],f(ct)&&(H=["reftext",ct],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),F=u(ht,"Block").$new(l,"floating_title",d(["content_model"],{content_model:"empty"})),H=[ft],h(F,"title=",t.to_a(H)),H[e(H.length,1)],c.$delete("title"),H=[f(g=f(v=lt)?v:c["$[]"]("id"))?g:f(a.$attributes()["$key?"]("sectids"))?u(ht,"Section").$generate_id(F.$title(),a):o],h(F,"id=",t.to_a(H)),H[e(H.length,1)],H=[dt],h(F,"level=",t.to_a(H)),H[e(H.length,1)];break}if(f(f(g=j)?j["$!="]("normal"):g)){if(f(u(ht,"PARAGRAPH_STYLES")["$include?"](j))){L=j.$to_sym(),P="paragraph",s.$unshift_line(B);break}if(f(u(ht,"ADMONITION_STYLES")["$include?"](j))){L="admonition",P="paragraph",s.$unshift_line(B);break}if(f(f(g=T)?I["$registered_for_block?"](j,"paragraph"):g)){L=j.$to_sym(),P="paragraph",s.$unshift_line(B);break}this.$warn("asciidoctor: WARNING: "+N+": line "+z+": invalid style for paragraph: "+j),j=o}if(_t=(g=S["$=="](0))?D:S["$=="](0),s.$unshift_line(B),f(f(g=G)?j["$!"]():g))pt=this.$read_paragraph_lines(s,_t,d(["skip_line_comments"],{skip_line_comments:R})),this["$adjust_indentation!"](pt),F=u(ht,"Block").$new(l,"literal",d(["content_model","source","attributes"],{content_model:"verbatim",source:pt,attributes:c})),f(D)&&F.$set_option("listparagraph");else{if(pt=this.$read_paragraph_lines(s,_t,d(["skip_line_comments"],{skip_line_comments:!0})),f(R))f(f(g=G)?j["$=="]("normal"):g)&&this["$adjust_indentation!"](pt),F=u(ht,"Block").$new(l,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:pt,attributes:c}));else if(f(f(g=f(v=u(ht,"ADMONITION_STYLE_HEADS")["$include?"](W))?B["$include?"](":"):v)?u(ht,"AdmonitionParagraphRx")["$=~"](B):g))H=[0,(g=p["~"])===o?o:g.$post_match()],h(pt,"[]=",t.to_a(H)),H[e(H.length,1)],H=["name",yt=(H=["style",(g=p["~"])===o?o:g["$[]"](1)],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]).$downcase()],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],H=["textlabel",f(g=c.$delete("caption"))?g:a.$attributes()["$[]"](""+yt+"-caption")],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],F=u(ht,"Block").$new(l,"admonition",d(["content_model","source","attributes"],{content_model:"simple",source:pt,attributes:c}));else if(f(f(g=f(v=Y)?W["$=="](">"):v)?B["$start_with?"]("> "):g)){if(h(pt,"map!",[],(A=function(t){return null==t&&(t=o),t["$=="](">")?t["$[]"](y(1,-1,!1)):f(t["$start_with?"]("> "))?t["$[]"](y(2,-1,!1)):t},A.$$s=this,A.$$arity=1,A)),f(pt["$[]"](-1)["$start_with?"]("-- ")))for(v=pt.$pop()["$[]"](y(3,-1,!1)).$split(", ",2),g=t.to_ary(v),mt=null==g[0]?o:g[0],gt=null==g[1]?o:g[1],f(mt)&&(H=["attribution",mt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),f(gt)&&(H=["citetitle",gt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]);f(pt["$[]"](-1)["$empty?"]());)pt.$pop();H=["style","quote"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],F=this.$build_block("quote","compound",!1,l,u(ht,"Reader").$new(pt),c)}else if(f(f(g=f(v=(w=W["$=="]('"'))?i(pt.$size(),1):W["$=="]('"'))?pt["$[]"](-1)["$start_with?"]("-- "):v)?pt["$[]"](-2)["$end_with?"]('"'):g)){for(H=[0,B["$[]"](y(1,-1,!1))],h(pt,"[]=",t.to_a(H)),H[e(H.length,1)],v=pt.$pop()["$[]"](y(3,-1,!1)).$split(", ",2),g=t.to_ary(v),mt=null==g[0]?o:g[0],gt=null==g[1]?o:g[1],f(mt)&&(H=["attribution",mt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),f(gt)&&(H=["citetitle",gt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]);f(pt["$[]"](-1)["$empty?"]());)pt.$pop();H=[-1,pt["$[]"](-1).$chop()],h(pt,"[]=",t.to_a(H)),H[e(H.length,1)],H=["style","quote"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],F=u(ht,"Block").$new(l,"quote",d(["content_model","source","attributes"],{content_model:"simple",source:pt,attributes:c}))}else f(f(g=G)?j["$=="]("normal"):g)&&this["$adjust_indentation!"](pt),F=u(ht,"Block").$new(l,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:pt,attributes:c}));this.$catalog_inline_anchors(r(pt,u(ht,"LF")),F,a)}break}if(!f(F))if(f(f(m=L["$=="]("abstract"))?m:L["$=="]("partintro"))&&(L="open"),Q=L,"admonition"["$==="](Q))H=["name",yt=j.$downcase()],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],H=["textlabel",f(m=c.$delete("caption"))?m:a.$attributes()["$[]"](""+yt+"-caption")],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],F=this.$build_block(L,"compound",q,l,s,c);else{if("comment"["$==="](Q))return this.$build_block(L,"skip",q,l,s,c),c.$clear(),o;if("example"["$==="](Q))F=this.$build_block(L,"compound",q,l,s,c);else if("listing"["$==="](Q)||"literal"["$==="](Q))F=this.$build_block(L,"verbatim",q,l,s,c);else if("source"["$==="](Q))u(ht,"AttributeList").$rekey(c,[o,"language","linenums"]),!f(c["$key?"]("language"))&&f(a.$attributes()["$key?"]("source-language"))&&(H=["language",f(m=a.$attributes()["$[]"]("source-language"))?m:"text"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),!f(c["$key?"]("linenums"))&&f(f(m=c["$key?"]("linenums-option"))?m:a.$attributes()["$key?"]("source-linenums-option"))&&(H=["linenums",""],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),!f(c["$key?"]("indent"))&&f(a.$attributes()["$key?"]("source-indent"))&&(H=["indent",a.$attributes()["$[]"]("source-indent")],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),F=this.$build_block("listing","verbatim",q,l,s,c);else if("fenced_code"["$==="](Q))H=["style","source"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)],(K=B.$length())["$=="](3)?vt=o:f(bt=(vt=B.$slice(3,K)).$index(","))?f(i(bt,0))?(vt=vt.$slice(0,bt).$strip(),f($(bt,e(K,4)))&&(H=["linenums",""],h(c,"[]=",t.to_a(H)),H[e(H.length,1)])):(vt=o,f(i(K,4))&&(H=["linenums",""],h(c,"[]=",t.to_a(H)),H[e(H.length,1)])):vt=vt.$lstrip(),f(vt["$nil_or_empty?"]())?f(a.$attributes()["$key?"]("source-language"))&&(H=["language",f(m=a.$attributes()["$[]"]("source-language"))?m:"text"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]):(H=["language",vt],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),!f(c["$key?"]("linenums"))&&f(f(m=c["$key?"]("linenums-option"))?m:a.$attributes()["$key?"]("source-linenums-option"))&&(H=["linenums",""],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),!f(c["$key?"]("indent"))&&f(a.$attributes()["$key?"]("source-indent"))&&(H=["indent",a.$attributes()["$[]"]("source-indent")],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),q=q.$slice(0,3),F=this.$build_block("listing","verbatim",q,l,s,c);else if("pass"["$==="](Q))F=this.$build_block(L,"raw",q,l,s,c);else if("stem"["$==="](Q)||"latexmath"["$==="](Q)||"asciimath"["$==="](Q))L["$=="]("stem")&&(H=["style",f(wt=c["$[]"](2))?f(wt["$include?"]("tex"))?"latexmath":"asciimath":f((Et=a.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":Et],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),F=this.$build_block("stem","raw",q,l,s,c);else if("open"["$==="](Q)||"sidebar"["$==="](Q))F=this.$build_block(L,"compound",q,l,s,c);else if("table"["$==="](Q))kt=u(ht,"Reader").$new(s.$read_lines_until(d(["terminator","skip_line_comments"],{terminator:q,skip_line_comments:!0})),s.$cursor()),f(q["$start_with?"]("|","!"))||(f(m=c["$[]"]("format"))?m:(H=["format",f(q["$start_with?"](","))?"csv":"dsv"],h(c,"[]=",t.to_a(H)),H[e(H.length,1)])),F=this.$next_table(kt,l,c);else if("quote"["$==="](Q)||"verse"["$==="](Q))u(ht,"AttributeList").$rekey(c,[o,"attribution","citetitle"]),F=this.$build_block(L,L["$=="]("verse")?"verbatim":"compound",q,l,s,c);else if(f(f(m=T)?rt=I["$registered_for_block?"](L,P):m)){if(f((xt=rt.$config()["$[]"]("content_model"))["$!="]("skip"))&&(f((At=f(m=rt.$config()["$[]"]("pos_attrs"))?m:[])["$empty?"]()["$!"]())&&u(ht,"AttributeList").$rekey(c,[o].$concat(At)),f(it=rt.$config()["$[]"]("default_attrs"))&&h(it,"each",[],(O=function(r,n){var i;return null==r&&(r=o),null==n&&(n=o),f(i=c["$[]"](r))?i:(H=[r,n],h(c,"[]=",t.to_a(H)),H[e(H.length,1)])},O.$$s=this,O.$$arity=2,O)),H=["cloaked-context",P],h(c,"[]=",t.to_a(H)),H[e(H.length,1)]),F=this.$build_block(L,xt,q,l,s,c,d(["extension"],{extension:rt})),!f(F))return c.$clear(),o}else this.$raise("Unsupported block type "+L+" at "+s.$line_info())}return f(C)&&(H=[C],h(F,"source_location=",t.to_a(H)),H[e(H.length,1)]),f(c["$key?"]("title"))&&(H=[c.$delete("title")],h(F,"title=",t.to_a(H)),H[e(H.length,1)]),H=[c["$[]"]("style")],h(F,"style=",t.to_a(H)),H[e(H.length,1)],f(Ot=f(m=F.$id())?m:(H=[c["$[]"]("id")],h(F,"id=",t.to_a(H)),H[e(H.length,1)]))&&!f(a.$register("refs",[Ot,F,f(m=c["$[]"]("reftext"))?m:f(F["$title?"]())?F.$title():o]))&&this.$warn("asciidoctor: WARNING: "+N+": line "+z+": id assigned to block already in use: "+Ot),f(c["$empty?"]())||F.$attributes().$update(c),F.$lock_in_subs(),f(F["$sub?"]("callouts"))&&!f(this.$catalog_callouts(F.$source(),a))&&F.$remove_sub("callouts"),F}catch(e){if(e===t.returner)return e.$v;throw e}},S.$$arity=-3),t.defs(a,"$read_paragraph_lines",R=function(r,n,i){var $=o,$=o;return null==i&&(i=d([],{})),$=["break_on_blank_lines",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],$=["break_on_list_continuation",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],$=["preserve_last_line",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],$=f(n)?f(u(ht,"Compliance").$block_terminates_paragraph())?u(ht,"StartOfBlockOrListProc"):u(ht,"StartOfListProc"):f(u(ht,"Compliance").$block_terminates_paragraph())?u(ht,"StartOfBlockProc"):u(ht,"NoOp"),h(r,"read_lines_until",[i],$.$to_proc())},R.$$arity=-3),t.defs(a,"$is_delimited_block?",I=function(n,a){var s,l,c=l=o,h=o,d=o,_=o,d=h=o;if(null==a&&(a=!1),!f(f(s=i(l=n.$length(),1))?u(ht,"DELIMITED_BLOCK_HEADS")["$include?"](n.$slice(0,2)):s))return o;if(l["$=="](2))c=n,h=2;else{if(f("number"==typeof l?4>=l:l["$<="](4))?(c=n,h=l):(c=n.$slice(0,4),h=4),d=!1,f(u(ht,"Compliance").$markdown_syntax())&&(_=h["$=="](4)?c.$chop():c,_["$=="]("```"))){if(f(h["$=="](4)?c["$end_with?"]("`"):h["$=="](4)))return o;c=_,h=3,d=!0}if(f((s=h["$=="](3))?d["$!"]():h["$=="](3)))return o}if(f(u(ht,"DELIMITED_BLOCKS")["$key?"](c))){if(f(f(s=$(h,4))?s:h["$=="](l)))return!f(a)||(l=u(ht,"DELIMITED_BLOCKS")["$[]"](c),s=t.to_ary(l),h=null==s[0]?o:s[0],d=null==s[1]?o:s[1],u(ht,"BlockMatchData").$new(h,d,c,c));if((""+c+r(c["$[]"](y(-1,-1,!1)),e(l,h)))["$=="](n))return!f(a)||(l=u(ht,"DELIMITED_BLOCKS")["$[]"](c),s=t.to_ary(l),h=null==s[0]?o:s[0],d=null==s[1]?o:s[1],u(ht,"BlockMatchData").$new(h,d,c,n))}return o},I.$$arity=-2),t.defs(a,"$build_block",T=function(r,n,$,a,s,l,c){var _,p,y=o,m=o,g=y=m=o;if(_=g=g=g=o,null==c&&(c=d([],{})),_=n["$=="]("skip")?[!0,"simple"]:n["$=="]("raw")?[!1,"simple"]:[!1,n],y=_[0],m=_[1],f($["$nil?"]())?(m["$=="]("verbatim")?m=s.$read_lines_until(d(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(n["$=="]("compound")&&(n="simple"),m=this.$read_paragraph_lines(s,!1,d(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:y}))),y=o):f(m["$!="]("compound"))?(m=s.$read_lines_until(d(["terminator","skip_processing"],{terminator:$,skip_processing:y})),y=o):$["$=="](!1)?(m=o,y=s):(m=o,y=u(ht,"Reader").$new(s.$read_lines_until(d(["terminator","skip_processing"],{terminator:$,skip_processing:y})),s.$cursor())),n["$=="]("verbatim"))f(g=l["$[]"]("indent"))?this["$adjust_indentation!"](m,g,f(_=l["$[]"]("tabsize"))?_:a.$document().$attributes()["$[]"]("tabsize")):f(i(g=(f(_=l["$[]"]("tabsize"))?_:a.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](m,o,g);else if(n["$=="]("skip"))return o;if(f(g=c["$[]"]("extension"))){if(l.$delete("style"),!f(g=g.$process_method()["$[]"](a,f(_=y)?_:u(ht,"Reader").$new(m),l.$dup())))return o;l.$replace(g.$attributes()),f((_=g.$content_model()["$=="]("compound"))?(m=g.$lines())["$nil_or_empty?"]()["$!"]():g.$content_model()["$=="]("compound"))&&(n="compound",y=u(ht,"Reader").$new(m))}else g=u(ht,"Block").$new(a,r,d(["content_model","source","attributes"],{content_model:n,source:m,attributes:l}));return f(f(_=f(p=l["$key?"]("title"))?g.$context()["$!="]("admonition"):p)?a.$document().$attributes()["$key?"](""+g.$context()+"-caption"):_)&&(_=[l.$delete("title")],h(g,"title=",t.to_a(_)),_[e(_.length,1)],g.$assign_caption(l.$delete("caption"))),n["$=="]("compound")&&this.$parse_blocks(y,g),g},T.$$arity=-7),t.defs(a,"$parse_blocks",M=function(t,e){for(var r,n,i=o;f(f(r=f(n=i=this.$next_block(t,e))?e["$<<"](i):n)?r:t["$has_more_lines?"]()););},M.$$arity=2),t.defs(a,"$next_item_list",C=function(r,a,s){var l,c=o,d=o,_=o,p=d=o,y=o,m=o,c=u(ht,"List").$new(s,a),d=s.$context()["$=="](a)?[n(s.$level(),1)]:[1];for(h(c,"level=",t.to_a(d)),d[e(d.length,1)];f(f(l=r["$has_more_lines?"]())?_=u(ht,"ListRxMap")["$[]"](a).$match(r.$peek_line()):l);){if(d=this.$resolve_list_marker(a,_["$[]"](1)),f(f(l=c["$items?"]())?d["$!="](c.$items()["$[]"](0).$marker()):l))for(p=n(c.$level(),1),y=s;y.$context()["$=="](a);){if(d["$=="](y.$items()["$[]"](0).$marker())){p=y.$level();break}y=y.$parent()}else p=c.$level();if(f(f(l=c["$items?"]()["$!"]())?l:p["$=="](c.$level())))m=this.$next_list_item(r,c,_);else{if(f($(p,c.$level())))break;f(i(p,c.$level()))&&c.$items()["$[]"](-1)["$<<"](this.$next_block(r,c))}if(f(m)&&c["$<<"](m),m=o,!f(l=r.$skip_blank_lines()))break}return c},C.$$arity=3),t.defs(a,"$catalog_callouts",N=function(t,e){var r,n=o,n=!1;return f(t["$include?"]("<"))&&h(t,"scan",[u(ht,"CalloutScanRx")],(r=function t(){var r,i,t=o,$=o;return r=[(i=p["~"])===o?o:i["$[]"](0),(i=p["~"])===o?o:i["$[]"](2)],t=r[0],$=r[1],f(t["$start_with?"]("\\"))||e.$callouts().$register($),n=!0},r.$$s=this,r.$$arity=0,r)),n},N.$$arity=2),t.defs(a,"$catalog_inline_anchors",z=function(t,e,r){var n,i;return f(f(n=t["$include?"]("[["))?n:t["$include?"]("or:"))&&h(t,"scan",[u(ht,"InlineAnchorScanRx")],(i=function(){var t,n=i.$$s||this,$=o,a=o;if(f($=(t=p["~"])===o?o:t["$[]"](1))){if(f(a=(t=p["~"])===o?o:t["$[]"](2))&&f(f(t=a["$include?"](u(ht,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():t))return o}else if($=(t=p["~"])===o?o:t["$[]"](3),f(a=(t=p["~"])===o?o:t["$[]"](4))&&(f(a["$include?"]("]"))&&(a=a.$gsub("\\]","]")),f(f(t=a["$include?"](u(ht,"ATTR_REF_HEAD")))?(a=r.$sub_attributes(a))["$empty?"]():t)))return o;return f(r.$register("refs",[$,u(ht,"Inline").$new(e,"anchor",a,d(["type","id"],{type:"ref",id:$})),a]))?o:n.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to anchor already in use: "+$)},i.$$s=this,i.$$arity=0,i)),o},z.$$arity=3),t.defs(a,"$catalog_inline_biblio_anchor",B=function(t,e,r){var n,i,$=o,a=o;return f(u(ht,"InlineBiblioAnchorRx")["$=~"](t))&&!f(r.$register("refs",[$=(n=p["~"])===o?o:n["$[]"](1),u(ht,"Inline").$new(e,"anchor",a="["+(f(n=(i=p["~"])===o?o:i["$[]"](2))?n:$)+"]",d(["type","id"],{type:"bibref",id:$})),a]))&&this.$warn("asciidoctor: WARNING: "+r.$reader().$path()+": id assigned to bibliography anchor already in use: "+$),o},B.$$arity=3),t.defs(a,"$next_description_list",D=function(e,r,n){for(var i,$,a=o,s=o,l=o,c=o,h=o,a=u(ht,"List").$new(n,"dlist"),s=o,l=u(ht,"DescriptionListSiblingRx")["$[]"](r["$[]"](2));f(f(i=r)?i:f($=e["$has_more_lines?"]())?r=l.$match(e.$peek_line()):$);)$=this.$next_list_item(e,a,r,l),i=t.to_ary($),c=null==i[0]?o:i[0],h=null==i[1]?o:i[1],f(f(i=s)?s["$[]"](-1)["$!"]():i)?(s.$pop(),s["$[]"](0)["$<<"](c),s["$<<"](h)):a.$items()["$<<"](s=[[c],h]),r=o;return a},D.$$arity=3),t.defs(a,"$next_list_item",F=function(r,n,i,$){var a,s,l,c=o,_=o,p=o,m=o,g=p=o,v=g=g=m=o,b=o,w=b=v=o,E=o;if(null==$&&($=o),(c=n.$context())["$=="]("dlist")?(_=u(ht,"ListItem").$new(n,i["$[]"](1)),p=u(ht,"ListItem").$new(n,i["$[]"](3)),m=i["$[]"](3)["$nil_or_empty?"]()["$!"]()):(p=i["$[]"](2),g=!1,f((a=c["$=="]("ulist"))?p["$start_with?"]("["):c["$=="]("ulist"))&&(f(p["$start_with?"]("[ ] "))?(g=!0,m=!1,p=p["$[]"](y(3,-1,!1)).$lstrip()):f(p["$start_with?"]("[x] ","[*] "))&&(m=g=!0,p=p["$[]"](y(3,-1,!1)).$lstrip())),p=u(ht,"ListItem").$new(n,p),f(g)&&(g=["checklist-option",""],h(n.$attributes(),"[]=",t.to_a(g)),g[e(g.length,1)],g=["checkbox",""],h(p.$attributes(),"[]=",t.to_a(g)),g[e(g.length,1)],f(m)&&(g=["checked",""],h(p.$attributes(),"[]=",t.to_a(g)),g[e(g.length,1)])),$=f(a=$)?a:this.$resolve_list_marker(c,i["$[]"](1),n.$items().$size(),!0,r),g=[$],h(p,"marker=",t.to_a(g)),g[e(g.length,1)],m=!0),r.$shift(),g=u(ht,"Reader").$new(this.$read_lines_for_list_item(r,c,$,m),r.$cursor()),f(g["$has_more_lines?"]())){for(v=g.$skip_line_comments(),f(b=g.$peek_line())?(f(v["$empty?"]())||g.$unshift_lines(v),f(v=b["$empty?"]())?b=!1:(b=!0,c["$=="]("dlist")||(m=!1))):b=v=!1,w=d(["text"],{text:m["$!"]()});f(f(s=f(l=E=this.$next_block(g,p,d([],{}),w))?p["$<<"](E):l)?s:g["$has_more_lines?"]()););p.$fold_first(v,b)}return c["$=="]("dlist")?f(f(a=p["$text?"]())?a:p["$blocks?"]())?[_,p]:[_,o]:p},F.$$arity=-4),t.defs(a,"$read_lines_for_list_item",L=function(r,n,i,$){var a,s,l,c,_,y,m,g,v=o,b=o,w=o,E=o,k=o,x=o,x=l=l=o;for(null==i&&(i=o),null==$&&($=!0),v=[],b="inactive",w=!1,E=o;f(r["$has_more_lines?"]())&&(k=r.$read_line(),!f(this["$is_sibling_list_item?"](k,n,i)));)if(x=f(v["$empty?"]())?o:v["$[]"](-1),x["$=="](u(ht,"LIST_CONTINUATION"))&&(b["$=="]("inactive")&&(b="active",$=!0,f(w)||(l=[-1,""],h(v,"[]=",t.to_a(l)),l[e(l.length,1)])),k["$=="](u(ht,"LIST_CONTINUATION"))))f(b["$!="]("frozen"))&&(b="frozen",v["$<<"](k)),k=o;else{if(f(l=this["$is_delimited_block?"](k,!0))){if(!b["$=="]("active"))break;v["$<<"](k),v.$concat(r.$read_lines_until(d(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),b="inactive"}else{if(f(f(s=(l=n["$=="]("dlist"))?b["$!="]("active"):n["$=="]("dlist"))?u(ht,"BlockAttributeLineRx")["$match?"](k):s))break;if(f((s=b["$=="]("active"))?k["$empty?"]()["$!"]():b["$=="]("active")))f(u(ht,"LiteralParagraphRx")["$match?"](k))?(r.$unshift_line(k),v.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(c=function(t){var e=c.$$s||this;return null==t&&(t=o),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")},c.$$s=this,c.$$arity=1,c))),b="inactive"):f(f(s=f(l=u(ht,"BlockTitleRx")["$match?"](k))?l:u(ht,"BlockAttributeLineRx")["$match?"](k))?s:u(ht,"AttributeEntryRx")["$match?"](k))?v["$<<"](k):(f(x=h(f(w)?["dlist"]:u(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],(_=function(t){return null==t&&(t=o),u(ht,"ListRxMap")["$[]"](t)["$match?"](k)},_.$$s=this,_.$$arity=1,_)))&&(w=!0,f((s=x["$=="]("dlist"))?((l=p["~"])===o?o:l["$[]"](3))["$nil_or_empty?"]():x["$=="]("dlist"))&&($=!1)),v["$<<"](k),b="inactive");else if(f(f(s=x)?x["$empty?"]():s)){if(f(k["$empty?"]())){if(!f(k=f(s=r.$skip_blank_lines())?r.$read_line():s))break;if(f(this["$is_sibling_list_item?"](k,n,i)))break}if(k["$=="](u(ht,"LIST_CONTINUATION")))E=v.$size(),v["$<<"](k);else if(f($)){if(f(this["$is_sibling_list_item?"](k,n,i)))break;if(f(x=h(u(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],(y=function(t){return null==t&&(t=o),u(ht,"ListRxMap")["$[]"](t)["$=~"](k)},y.$$s=this,y.$$arity=1,y))))v["$<<"](k),w=!0,f((s=x["$=="]("dlist"))?((l=p["~"])===o?o:l["$[]"](3))["$nil_or_empty?"]():x["$=="]("dlist"))&&($=!1);else{if(!f(u(ht,"LiteralParagraphRx")["$match?"](k)))break;r.$unshift_line(k),v.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(m=function(t){var e=m.$$s||this;return null==t&&(t=o),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,i):n["$=="]("dlist")},m.$$s=this,m.$$arity=1,m)))}}else f(w)||v.$pop(),v["$<<"](k),$=!0}else f(k["$empty?"]()["$!"]())&&($=!0),f(x=h(f(w)?["dlist"]:u(ht,"NESTABLE_LIST_CONTEXTS"),"find",[],(g=function(t){return null==t&&(t=o),u(ht,"ListRxMap")["$[]"](t)["$=~"](k)},g.$$s=this,g.$$arity=1,g)))&&(w=!0,f((s=x["$=="]("dlist"))?((l=p["~"])===o?o:l["$[]"](3))["$nil_or_empty?"]():x["$=="]("dlist"))&&($=!1)),v["$<<"](k)}k=o}for(f(k)&&r.$unshift_line(k),f(E)&&v.$delete_at(E);f(f(s=v["$empty?"]()["$!"]())?v["$[]"](-1)["$empty?"]():s);)v.$pop();return f(f(a=v["$empty?"]()["$!"]())?v["$[]"](-1)["$=="](u(ht,"LIST_CONTINUATION")):a)&&v.$pop(),v},L.$$arity=-3),t.defs(a,"$initialize_section",P=function(r,n,$){var a,s,l=o,c=o,_=o,p=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o,x=b=a=o;return null==$&&($=d([],{})),l=n.$document(),f(l.$sourcemap())&&(c=r.$cursor()),s=this.$parse_section_title(r,l),a=t.to_ary(s),_=null==a[0]?o:a[0],p=null==a[1]?o:a[1],y=null==a[2]?o:a[2],m=null==a[3]?o:a[3],g=null==a[4]?o:a[4],f(p)?(v=["reftext",p],h($,"[]=",t.to_a(v)),v[e(v.length,1)]):f($["$key?"]("reftext"))&&(p=$["$[]"]("reftext")),b=f($["$[]"](1))?this.$parse_style_attribute($,r):o,f(b)?f(b["$=="]("abstract")?l.$doctype()["$=="]("book"):b["$=="]("abstract"))?(a=["chapter",1],w=a[0],m=a[1],a):(a=[b,!0],w=a[0],E=a[1],m["$=="](0)&&(m=1),k=b["$=="]("appendix")):(a=l.$doctype(),"book"["$==="](a)?w=m["$=="](0)?"part":m["$=="](1)?"chapter":"section":"manpage"["$==="](a)&&y.$casecmp("synopsis")["$=="](0)?(a=["synopsis",!0],w=a[0],E=a[1],a):w="section"),b=u(ht,"Section").$new(n,m,!1),a=[_,y,w,c],b["$id="](a[0]),b["$title="](a[1]),b["$sectname="](a[2]),b["$source_location="](a[3]),f(E)?(v=[!0],h(b,"special=",t.to_a(v)),v[e(v.length,1)],f(k)&&(v=[!0],h(b,"numbered=",t.to_a(v)),v[e(v.length,1)])):f(f(a=i(m,0))?l.$attributes()["$key?"]("sectnums"):a)&&(v=[!f(b.$special())||((a=n.$context()["$=="]("section"))?n.$numbered():n.$context()["$=="]("section"))],h(b,"numbered=",t.to_a(v)),v[e(v.length,1)]),f(x=f(a=b.$id())?a:(v=[f(s=$["$[]"]("id"))?s:f(l.$attributes()["$key?"]("sectids"))?u(ht,"Section").$generate_id(b.$title(),l):o],h(b,"id=",t.to_a(v)),v[e(v.length,1)]))&&!f(l.$register("refs",[x,b,f(a=p)?a:b.$title()]))&&this.$warn("asciidoctor: WARNING: "+r.$path()+": line "+e(r.$lineno(),f(g)?1:2)+": id assigned to section already in use: "+x),b.$update_attributes($),r.$skip_blank_lines(),b},P.$$arity=-3),t.defs(a,"$is_next_line_section?",q=function(e,r){var n,i,$=o;return f(f(n=f(i=$=r["$[]"](1))?$["$start_with?"]("discrete","float"):i)?u(ht,"DiscreteHeadingStyleRx")["$match?"]($):n)?o:f(e["$has_more_lines?"]())?f(u(ht,"Compliance").$underline_style_section_titles())?h(this,"is_section_title?",t.to_a(e.$peek_lines(2,f(n=$)?$["$=="]("comment"):n))):this["$atx_section_title?"](e.$peek_line()):o},q.$$arity=2),t.defs(a,"$is_next_line_doctitle?",j=function(t,e,r){var i,$=o;return f(r)?f(i=$=this["$is_next_line_section?"](t,e))?n($,r.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},j.$$arity=3),t.defs(a,"$is_section_title?",U=function(t,e){var r;return null==e&&(e=o),f(r=this["$atx_section_title?"](t))?r:f(e["$nil_or_empty?"]())?o:this["$setext_section_title?"](t,e)},U.$$arity=-2),t.defs(a,"$atx_section_title?",H=function(t){var r;return f(f(u(ht,"Compliance").$markdown_syntax())?f(r=t["$start_with?"]("=","#"))?u(ht,"ExtAtxSectionTitleRx")["$=~"](t):r:f(r=t["$start_with?"]("="))?u(ht,"AtxSectionTitleRx")["$=~"](t):r)?e(((r=p["~"])===o?o:r["$[]"](1)).$length(),1):o},H.$$arity=1),t.defs(a,"$setext_section_title?",G=function(t,n){var i,a,s,l=o,c=o,h=o;return f(f(i=f(a=f(s=l=u(ht,"SETEXT_SECTION_LEVELS")["$[]"](c=n.$chr()))?r(c,h=n.$length())["$=="](n):s)?u(ht,"SetextSectionTitleRx")["$match?"](t):a)?$(e(this.$line_length(t),h).$abs(),2):i)?l:o},G.$$arity=2),t.defs(a,"$parse_section_title",Y=function(t,i){var a,s,l,c,h,d=o,_=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,d=_=o,y=t.$read_line();return f(f(u(ht,"Compliance").$markdown_syntax())?f(a=y["$start_with?"]("=","#"))?u(ht,"ExtAtxSectionTitleRx")["$=~"](y):a:f(a=y["$start_with?"]("="))?u(ht,"AtxSectionTitleRx")["$=~"](y):a)?(a=[e(((s=p["~"])===o?o:s["$[]"](1)).$length(),1),(s=p["~"])===o?o:s["$[]"](2),!0],m=a[0],g=a[1],v=a[2],f(f(a=f(s=g["$end_with?"]("]]"))?u(ht,"InlineSectionAnchorRx")["$=~"](g):s)?((s=p["~"])===o?o:s["$[]"](1))["$!"]():a)&&(a=[g.$slice(0,e(g.$length(),((s=p["~"])===o?o:s["$[]"](0)).$length())),(s=p["~"])===o?o:s["$[]"](2),(s=p["~"])===o?o:s["$[]"](3)],g=a[0],d=a[1],_=a[2],a)):f(f(a=f(s=f(l=f(c=f(h=u(ht,"Compliance").$underline_style_section_titles())?b=t.$peek_line(!0):h)?m=u(ht,"SETEXT_SECTION_LEVELS")["$[]"](w=b.$chr()):c)?r(w,E=b.$length())["$=="](b):l)?g=f(l=u(ht,"SetextSectionTitleRx")["$=~"](y))?(c=p["~"])===o?o:c["$[]"](1):l:s)?$(e(this.$line_length(y),E).$abs(),2):a)?(v=!1,f(f(a=f(s=g["$end_with?"]("]]"))?u(ht,"InlineSectionAnchorRx")["$=~"](g):s)?((s=p["~"])===o?o:s["$[]"](1))["$!"]():a)&&(a=[g.$slice(0,e(g.$length(),((s=p["~"])===o?o:s["$[]"](0)).$length())),(s=p["~"])===o?o:s["$[]"](2),(s=p["~"])===o?o:s["$[]"](3)],g=a[0],d=a[1],_=a[2],a),t.$shift()):this.$raise("Unrecognized section at "+t.$prev_line_info()),f(i["$attr?"]("leveloffset"))&&(m=n(m,i.$attr("leveloffset").$to_i())),[d,_,g,m,v]},Y.$$arity=2),f(u(ht,"FORCE_UNICODE_LINE_LENGTH"))?t.defs(a,"$line_length",W=function(t){return t.$scan(u(ht,"UnicodeCharScanRx")).$size()},W.$$arity=1):t.defs(a,"$line_length",X=function(t){return t.$length()},X.$$arity=1),t.defs(a,"$parse_header_metadata",K=function(i,$){var a,l,c,_,p=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o,x=w=o,A=o,w=E=b=g=m=o;if(null==$&&($=o),this.$process_attribute_entries(i,$),a=[d([],{}),o,o],p=a[0],m=a[1],g=a[2],f(f(a=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():a)&&(f((v=this.$process_authors(i.$read_line()))["$empty?"]())||(f($)&&(h(v,"each",[],(l=function(r,n){var i=o;return null==r&&(r=o),null==n&&(n=o),f($.$attributes()["$key?"](r))?o:(i=[r,f(s("::","String")["$==="](n))?$.$apply_header_subs(n):n],h($.$attributes(),"[]=",t.to_a(i)),i[e(i.length,1)])},l.$$s=this,l.$$arity=2,l)),m=$.$attributes()["$[]"]("author"),g=$.$attributes()["$[]"]("authors")),p=v),this.$process_attribute_entries(i,$),b=d([],{}),f(f(a=i["$has_more_lines?"]())?i["$next_line_empty?"]()["$!"]():a)&&(w=i.$read_line(),f(E=u(ht,"RevisionInfoLineRx").$match(w))?(f(E["$[]"](1))&&(k=["revnumber",E["$[]"](1).$rstrip()],h(b,"[]=",t.to_a(k)),k[e(k.length,1)]),f((w=E["$[]"](2).$strip())["$empty?"]())||(k=f(f(a=E["$[]"](1)["$!"]())?w["$start_with?"]("v"):a)?["revnumber",w["$[]"](y(1,-1,!1))]:["revdate",w],h(b,"[]=",t.to_a(k)),k[e(k.length,1)]),f(E["$[]"](3))&&(k=["revremark",E["$[]"](3).$rstrip()],h(b,"[]=",t.to_a(k)),k[e(k.length,1)])):i.$unshift_line(w)),f(b["$empty?"]())||(f($)&&h(b,"each",[],(c=function(r,n){return null==r&&(r=o),null==n&&(n=o),f($.$attributes()["$key?"](r))?o:(k=[r,$.$apply_header_subs(n)],h($.$attributes(),"[]=",t.to_a(k)),
k[e(k.length,1)])},c.$$s=this,c.$$arity=2,c)),p.$update(b)),this.$process_attribute_entries(i,$),i.$skip_blank_lines()),f($)){if(f(f(a=$.$attributes()["$key?"]("author"))?(x=$.$attributes()["$[]"]("author"))["$!="](m):a))v=this.$process_authors(x,!0,!1);else if(f(f(a=$.$attributes()["$key?"]("authors"))?(x=$.$attributes()["$[]"]("authors"))["$!="](g):a))v=this.$process_authors(x,!0);else{for(a=[[],1,"author_1",!1,!1],A=a[0],m=a[1],g=a[2],b=a[3],E=a[4],a;f($.$attributes()["$key?"](g));)(w=$.$attributes()["$[]"](g))["$=="](v["$[]"](g))?(A["$<<"](o),E=!0):(A["$<<"](w),b=!0),g="author_"+(m=n(m,1));f(b)?(f(E)&&h(A,"each_with_index",[],(_=function(i,$){var a,s=_.$$s||this,u=o;return null==i&&(i=o),null==$&&($=o),f(i)?o:(k=[$,r(h([v["$[]"]("firstname_"+(u=n($,1))),v["$[]"]("middlename_"+u),v["$[]"]("lastname_"+u)].$compact(),"map",[],(a=function(t){return null==t&&(t=o),t.$tr(" ","_")},a.$$s=s,a.$$arity=1,a))," ")],h(A,"[]=",t.to_a(k)),k[e(k.length,1)])},_.$$s=this,_.$$arity=2,_)),v=this.$process_authors(A,!0,!1)):v=d([],{})}f(v["$empty?"]())||($.$attributes().$update(v),f(f(a=$.$attributes()["$key?"]("email")["$!"]())?$.$attributes()["$key?"]("email_1"):a)&&(k=["email",$.$attributes()["$[]"]("email_1")],h($.$attributes(),"[]=",t.to_a(k)),k[e(k.length,1)]))}return p},K.$$arity=-2),t.defs(a,"$process_authors",V=function(r,i,$){var a,s,l=this,c=o,_=o,p=o;return null==i&&(i=!1),null==$&&($=!0),c=d([],{}),_="author authorinitials firstname middlename lastname email".split(" "),p=function(){return f($)?h(r.$split(";"),"map",[],(a=function(t){return null==t&&(t=o),t.$strip()},a.$$s=l,a.$$arity=1,a)):l.$Array(r)}(),h(p,"each_with_index",[],(s=function(r,$){var a,l,p,y,m=s.$$s||this,g=o,v=o,b=o,w=o,E=o,k=o,x=o,A=o;return null==r&&(r=o),null==$&&($=o),f(r["$empty?"]())?o:(g=d([],{}),$["$=="](0)?h(_,"each",[],(a=function(r){var n=o;return null==r&&(r=o),n=[r.$to_sym(),r],h(g,"[]=",t.to_a(n)),n[e(n.length,1)]},a.$$s=m,a.$$arity=1,a)):h(_,"each",[],(l=function(r){var i=o;return null==r&&(r=o),i=[r.$to_sym(),""+r+"_"+n($,1)],h(g,"[]=",t.to_a(i)),i[e(i.length,1)]},l.$$s=m,l.$$arity=1,l)),v=o,f(i)?(f(r["$include?"]("<"))&&(b=[g["$[]"]("author"),r.$tr("_"," ")],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],r=r.$gsub(u(ht,"XmlSanitizeRx"),"")),(v=r.$split(o,3)).$size()["$=="](3)&&v["$<<"](v.$pop().$squeeze(" "))):f(w=u(ht,"AuthorInfoLineRx").$match(r))&&(v=w.$to_a()).$shift(),f(v)?(b=[g["$[]"]("firstname"),k=v["$[]"](0).$tr("_"," ")],h(c,"[]=",t.to_a(b)),E=b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],f(v["$[]"](1))&&(f(v["$[]"](2))?(b=[g["$[]"]("middlename"),x=v["$[]"](1).$tr("_"," ")],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("lastname"),A=v["$[]"](2).$tr("_"," ")],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],E=n(n(n(n(k," "),x)," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+x.$chr()+A.$chr()]):(b=[g["$[]"]("lastname"),A=v["$[]"](1).$tr("_"," ")],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],E=n(n(k," "),A),b=[g["$[]"]("authorinitials"),""+k.$chr()+A.$chr()]),h(c,"[]=",t.to_a(b)),b[e(b.length,1)]),f(p=c["$[]"](g["$[]"]("author")))?p:(b=[g["$[]"]("author"),E],h(c,"[]=",t.to_a(b)),b[e(b.length,1)]),f(f(p=i)?p:v["$[]"](3)["$!"]())||(b=[g["$[]"]("email"),v["$[]"](3)],h(c,"[]=",t.to_a(b)),b[e(b.length,1)])):(b=[g["$[]"]("author"),(b=[g["$[]"]("firstname"),k=r.$squeeze(" ").$strip()],h(c,"[]=",t.to_a(b)),b[e(b.length,1)])],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],b=[g["$[]"]("authorinitials"),k.$chr()],h(c,"[]=",t.to_a(b)),b[e(b.length,1)]),b=["authorcount",n($,1)],h(c,"[]=",t.to_a(b)),b[e(b.length,1)],$["$=="](1)&&h(_,"each",[],(y=function(r){return null==r&&(r=o),f(c["$key?"](r))?(b=[""+r+"_1",c["$[]"](r)],h(c,"[]=",t.to_a(b)),b[e(b.length,1)]):o},y.$$s=m,y.$$arity=1,y)),b=$["$=="](0)?["authors",c["$[]"](g["$[]"]("author"))]:["authors",""+c["$[]"]("authors")+", "+c["$[]"](g["$[]"]("author"))],h(c,"[]=",t.to_a(b)),b[e(b.length,1)])},s.$$s=l,s.$$arity=2,s)),c},V.$$arity=-2),t.defs(a,"$parse_block_metadata_lines",J=function(t,e,r,n){var i;for(null==r&&(r=d([],{})),null==n&&(n=d([],{}));f(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),f(i=t.$skip_blank_lines())););return r},J.$$arity=-3),t.defs(a,"$parse_block_metadata_line",Z=function(n,i,$,a){var s,l,c=o,_=o,y=o,y=y=o;if(null==p["~"]&&(p["~"]=o),null==a&&(a=d([],{})),f(f(s=c=n.$peek_line())?f(a["$[]"]("text"))?c["$start_with?"]("[","/"):_=c["$start_with?"]("[",".","/",":"):s))if(f(c["$start_with?"]("["))){if(f(c["$start_with?"]("[["))){if(f(f(s=c["$end_with?"]("]]"))?u(ht,"BlockAnchorRx")["$=~"](c):s))return y=["id",(s=p["~"])===o?o:s["$[]"](1)],h($,"[]=",t.to_a(y)),y[e(y.length,1)],f(y=(s=p["~"])===o?o:s["$[]"](2))&&(y=["reftext",f(y["$include?"](u(ht,"ATTR_REF_HEAD")))?i.$sub_attributes(y):y],h($,"[]=",t.to_a(y)),y[e(y.length,1)]),!0}else if(f(f(s=c["$end_with?"]("]"))?u(ht,"BlockAttributeListRx")["$=~"](c):s))return i.$parse_attributes((s=p["~"])===o?o:s["$[]"](1),[],d(["sub_input","into"],{sub_input:!0,into:$})),!0}else if(f(f(s=_)?c["$start_with?"]("."):s)){if(f(u(ht,"BlockTitleRx")["$=~"](c)))return y=["title",(s=p["~"])===o?o:s["$[]"](1)],h($,"[]=",t.to_a(y)),y[e(y.length,1)],!0}else if(f(f(s=_["$!"]())?s:c["$start_with?"]("/"))){if(f(c["$start_with?"]("//")))return!!c["$=="]("//")||(f(f(s=_)?r("/",y=c.$length())["$=="](c):s)?y["$=="](3)?o:(n.$read_lines_until(d(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:c,skip_processing:!0})),!0):!f(c["$start_with?"]("///"))||o)}else if(f(f(s=f(l=_)?c["$start_with?"](":"):l)?u(ht,"AttributeEntryRx")["$=~"](c):s))return this.$process_attribute_entry(n,i,$,p["~"]),!0;return o},Z.$$arity=-4),t.defs(a,"$process_attribute_entries",Q=function(t,e,r){for(null==r&&(r=o),t.$skip_comment_lines();f(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},Q.$$arity=-3),t.defs(a,"$process_attribute_entry",tt=function(t,r,n,i){var $,a,s=o,l=o,c=o,h=o;if(null==n&&(n=o),null==i&&(i=o),f(i=f($=i)?$:f(t["$has_more_lines?"]())?u(ht,"AttributeEntryRx").$match(t.$peek_line()):o)){if(f((s=i["$[]"](2))["$nil_or_empty?"]()))s="";else if(f(s["$end_with?"](u(ht,"LINE_CONTINUATION"),u(ht,"LINE_CONTINUATION_LEGACY"))))for($=[s.$slice(-2,2),s.$slice(0,e(s.$length(),2)).$rstrip()],l=$[0],s=$[1],$;f(f(a=t.$advance())?(c=t.$peek_line().$lstrip())["$empty?"]()["$!"]():a)&&(f(h=c["$end_with?"](l))&&(c=c.$slice(0,e(c.$length(),2)).$rstrip()),s=""+s+(f(s["$end_with?"](u(ht,"HARD_LINE_BREAK")))?u(ht,"LF"):" ")+c,f(h)););return this.$store_attribute(i["$[]"](1),s,r,n),!0}return o},tt.$$arity=-3),t.defs(a,"$store_attribute",et=function(t,r,i,$){var a,l=o;return null==i&&(i=o),null==$&&($=o),f(t["$end_with?"]("!"))?(a=[t.$chop(),o],t=a[0],r=a[1],a):f(t["$start_with?"]("!"))&&(a=[t.$slice(1,t.$length()),o],t=a[0],r=a[1],a),t=this.$sanitize_attribute_name(t),t["$=="]("numbered")&&(t="sectnums"),f(i)?f(r)?(t["$=="]("leveloffset")&&(f(r["$start_with?"]("+"))?r=n(i.$attr("leveloffset",0).$to_i(),(f(a=r["$[]"](y(1,-1,!1)))?a:0).$to_i()).$to_s():f(r["$start_with?"]("-"))&&(r=e(i.$attr("leveloffset",0).$to_i(),(f(a=r["$[]"](y(1,-1,!1)))?a:0).$to_i()).$to_s())),f(l=i.$set_attribute(t,r))&&(r=l,f($)&&s(u(ht,"Document"),"AttributeEntry").$new(t,r).$save_to($))):f(f(a=i.$delete_attribute(t))?$:a)&&s(u(ht,"Document"),"AttributeEntry").$new(t,r).$save_to($):f($)&&s(u(ht,"Document"),"AttributeEntry").$new(t,r).$save_to($),[t,r]},et.$$arity=-3),t.defs(a,"$resolve_list_marker",rt=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=o),t["$=="]("olist")?f(e["$start_with?"]("."))?e:this.$resolve_ordered_list_marker(e,r,n,i):t["$=="]("colist")?"<1>":e},rt.$$arity=-3),t.defs(a,"$resolve_ordered_list_marker",nt=function(t,e,r,i){var $,a,s=o,l=o,c=o;return null==e&&(e=0),null==r&&(r=!1),null==i&&(i=o),s=l=o,c=h(u(ht,"ORDERED_LIST_STYLES"),"find",[],($=function(e){return null==e&&(e=o),u(ht,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)},$.$$s=this,$.$$arity=1,$)),"arabic"["$==="](c)?(f(r)&&(s=n(e,1),l=t.$to_i()),t="1."):"loweralpha"["$==="](c)?(f(r)&&(s=n("a"["$[]"](0).$ord(),e).$chr(),l=t.$chop()),t="a."):"upperalpha"["$==="](c)?(f(r)&&(s=n("A"["$[]"](0).$ord(),e).$chr(),l=t.$chop()),t="A."):"lowerroman"["$==="](c)?(f(r)&&(s=n(e,1),l=this.$roman_numeral_to_int(t.$chop())),t="i)"):"upperroman"["$==="](c)&&(f(r)&&(s=n(e,1),l=this.$roman_numeral_to_int(t.$chop())),t="I)"),f(f(a=r)?s["$!="](l):a)&&this.$warn("asciidoctor: WARNING: "+i.$line_info()+": list item index: expected "+s+", got "+l),t},nt.$$arity=-2),t.defs(a,"$is_sibling_list_item?",it=function(t,e,r){var n=o,i=o,$=o;return f(s("::","Regexp")["$==="](r))?(n=r,i=!1):(n=u(ht,"ListRxMap")["$[]"](e),i=r),!!f($=n.$match(t))&&(!f(i)||i["$=="](this.$resolve_list_marker(e,$["$[]"](1))))},it.$$arity=3),t.defs(a,"$next_table",$t=function(r,$,a){var l,c,d,_=o,p=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o,x=o,A=g=o,O=g=o,S=o,_=u(ht,"Table").$new($,a);for(f(a["$key?"]("title"))&&(p=[a.$delete("title")],h(_,"title=",t.to_a(p)),p[e(p.length,1)],_.$assign_caption(a.$delete("caption"))),f(f(l=a["$key?"]("cols"))?(y=this.$parse_colspecs(a["$[]"]("cols")))["$empty?"]()["$!"]():l)&&(_.$create_columns(y),m=!0),g=f(l=r.$skip_blank_lines())?l:0,v=s(u(ht,"Table"),"ParserContext").$new(r,_,a),l=[v.$format(),-1,o],b=l[0],w=l[1],E=l[2],f(f(l=f(c=i(g,0))?c:a["$key?"]("header-option"))?l:a["$key?"]("noheader-option"))||(k=!0),l=!1;l||f(x=r.$read_line());){for(l=!1,f(f(c=i(w=n(w,1),0))?x["$empty?"]():c)?(x=o,f(E)&&(E=n(E,1))):b["$=="]("psv")&&(f(v["$starts_with_delimiter?"](x))?(x=x.$slice(1,x.$length()),v.$close_open_cell(),f(E)&&(E=o)):(d=this.$parse_cellspec(x,"start",v.$delimiter()),c=t.to_ary(d),g=null==c[0]?o:c[0],x=null==c[1]?o:c[1],f(g)?(v.$close_open_cell(g),f(E)&&(E=o)):f(f(c=E)?E["$=="](w):c)&&(c=[!1,o],k=c[0],E=c[1],c))),f(w["$=="](0)?k:w["$=="](0))&&(f(f(c=r["$has_more_lines?"]())?r.$peek_line()["$empty?"]():c)?E=1:k=!1),c=!1;c||f(!0);){if(c=!1,!f(f(d=x)?A=v.$match_delimiter(x):d)){p=[""+v.$buffer()+x+u(ht,"LF")],h(v,"buffer=",t.to_a(p)),p[e(p.length,1)],g=b,"csv"["$==="](g)?(p=[""+v.$buffer().$rstrip()+" "],h(v,"buffer=",t.to_a(p)),p[e(p.length,1)],f(v["$buffer_has_unclosed_quotes?"]())?(f(f(d=E)?w["$=="](0):d)&&(d=[!1,o],k=d[0],E=d[1],d),v.$keep_cell_open()):v.$close_cell(!0)):"dsv"["$==="](g)?v.$close_cell(!0):v.$keep_cell_open();break}if(g=b,"csv"["$==="](g)){if(f(v["$buffer_has_unclosed_quotes?"](A.$pre_match()))){if(f((x=v.$skip_past_delimiter(A))["$empty?"]()))break;c=!0}p=[""+v.$buffer()+A.$pre_match()]}else if("dsv"["$==="](g)){if(f(A.$pre_match()["$end_with?"]("\\"))){if(f((x=v.$skip_past_escaped_delimiter(A))["$empty?"]())){p=[""+v.$buffer()+u(ht,"LF")],h(v,"buffer=",t.to_a(p)),p[e(p.length,1)],v.$keep_cell_open();break}c=!0}p=[""+v.$buffer()+A.$pre_match()]}else{if(f(A.$pre_match()["$end_with?"]("\\"))){if(f((x=v.$skip_past_escaped_delimiter(A))["$empty?"]())){p=[""+v.$buffer()+u(ht,"LF")],h(v,"buffer=",t.to_a(p)),p[e(p.length,1)],v.$keep_cell_open();break}c=!0}$=this.$parse_cellspec(A.$pre_match()),d=t.to_ary($),g=null==d[0]?o:d[0],O=null==d[1]?o:d[1],v.$push_cellspec(g),p=[""+v.$buffer()+O]}h(v,"buffer=",t.to_a(p)),p[e(p.length,1)],f((x=A.$post_match())["$empty?"]())&&(x=o),v.$close_cell()}if(f(v["$cell_open?"]()))f(r["$has_more_lines?"]())||v.$close_cell(!0);else if(!f(c=r.$skip_blank_lines()))break}return f(f(l=(S=_.$attributes(),f(c=S["$[]"]("colcount"))?c:(p=["colcount",_.$columns().$size()],h(S,"[]=",t.to_a(p)),p[e(p.length,1)]))["$=="](0))?l:m)||_.$assign_column_widths(),f(k)&&(p=[!0],h(_,"has_header_option=",t.to_a(p)),p[e(p.length,1)],p=["header-option",""],h(a,"[]=",t.to_a(p)),p[e(p.length,1)],p=["options",f(a["$key?"]("options"))?""+a["$[]"]("options")+",header":"header"],h(a,"[]=",t.to_a(p)),p[e(p.length,1)]),_.$partition_header_footer(a),_},$t.$$arity=3),t.defs(a,"$parse_colspecs",at=function(r){var n,i,$=o;return f(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?h(s("::","Array"),"new",[r.$to_i()],(n=function(){return d(["width"],{width:1})},n.$$s=this,n.$$arity=0,n)):($=[],h(r.$split(",",-1),"each",[],(i=function(r){var n,a,s=i.$$s||this,l=o,c=o,_=o,p=o,_=o;return null==r&&(r=o),f(r["$empty?"]())?$["$<<"](d(["width"],{width:1})):f(l=u(ht,"ColumnSpecRx").$match(r))?(c=d([],{}),f(l["$[]"](2))&&(r=l["$[]"](2).$split("."),n=t.to_ary(r),_=null==n[0]?o:n[0],p=null==n[1]?o:n[1],f(f(n=_["$nil_or_empty?"]()["$!"]())?u(ht,"TableCellHorzAlignments")["$key?"](_):n)&&(_=["halign",u(ht,"TableCellHorzAlignments")["$[]"](_)],h(c,"[]=",t.to_a(_)),_[e(_.length,1)]),f(f(n=p["$nil_or_empty?"]()["$!"]())?u(ht,"TableCellVertAlignments")["$key?"](p):n)&&(_=["valign",u(ht,"TableCellVertAlignments")["$[]"](p)],h(c,"[]=",t.to_a(_)),_[e(_.length,1)])),_=["width",f(l["$[]"](3))?l["$[]"](3).$to_i():1],h(c,"[]=",t.to_a(_)),_[e(_.length,1)],f(f(n=l["$[]"](4))?u(ht,"TableCellStyles")["$key?"](l["$[]"](4)):n)&&(_=["style",u(ht,"TableCellStyles")["$[]"](l["$[]"](4))],h(c,"[]=",t.to_a(_)),_[e(_.length,1)]),f(l["$[]"](1))?h(1,"upto",[l["$[]"](1).$to_i()],(a=function(){return $["$<<"](c.$dup())},a.$$s=s,a.$$arity=0,a)):$["$<<"](c)):o},i.$$s=this,i.$$arity=1,i)),$)},at.$$arity=1),t.defs(a,"$parse_cellspec",ot=function(r,n,i){var $,a=o,s=o,l=a=o,c=o,_=o,c=o;if(null==n&&(n="end"),null==i&&(i=o),$=[o,""],n["$=="]("start")){if(!f(r["$include?"](i)))return[o,r];if(n=r.$split(i,2),$=t.to_ary(n),a=null==$[0]?o:$[0],s=null==$[1]?o:$[1],!f(a=u(ht,"CellSpecStartRx").$match(a)))return[o,r];if(f(a["$[]"](0)["$empty?"]()))return[d([],{}),s]}else{if(!f(a=u(ht,"CellSpecEndRx").$match(r)))return[d([],{}),r];if(f(a["$[]"](0).$lstrip()["$empty?"]()))return[d([],{}),r.$rstrip()];s=a.$pre_match()}return l=d([],{}),f(a["$[]"](1))&&(n=a["$[]"](1).$split("."),$=t.to_ary(n),c=null==$[0]?o:$[0],_=null==$[1]?o:$[1],c=f(c["$nil_or_empty?"]())?1:c.$to_i(),_=f(_["$nil_or_empty?"]())?1:_.$to_i(),a["$[]"](2)["$=="]("+")?(c["$=="](1)||(c=["colspan",c],h(l,"[]=",t.to_a(c)),c[e(c.length,1)]),_["$=="](1)||(c=["rowspan",_],h(l,"[]=",t.to_a(c)),c[e(c.length,1)])):a["$[]"](2)["$=="]("*")&&!c["$=="](1)&&(c=["repeatcol",c],h(l,"[]=",t.to_a(c)),c[e(c.length,1)])),f(a["$[]"](3))&&(n=a["$[]"](3).$split("."),$=t.to_ary(n),c=null==$[0]?o:$[0],_=null==$[1]?o:$[1],f(f($=c["$nil_or_empty?"]()["$!"]())?u(ht,"TableCellHorzAlignments")["$key?"](c):$)&&(c=["halign",u(ht,"TableCellHorzAlignments")["$[]"](c)],h(l,"[]=",t.to_a(c)),c[e(c.length,1)]),f(f($=_["$nil_or_empty?"]()["$!"]())?u(ht,"TableCellVertAlignments")["$key?"](_):$)&&(c=["valign",u(ht,"TableCellVertAlignments")["$[]"](_)],h(l,"[]=",t.to_a(c)),c[e(c.length,1)])),f(f($=a["$[]"](4))?u(ht,"TableCellStyles")["$key?"](a["$[]"](4)):$)&&(c=["style",u(ht,"TableCellStyles")["$[]"](a["$[]"](4))],h(l,"[]=",t.to_a(c)),c[e(c.length,1)]),[l,s]},ot.$$arity=-2),t.defs(a,"$parse_style_attribute",st=function i($,a){var s,l,c,_,p,i=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o;return null==a&&(a=o),f(f(s=f(l=i=$["$[]"](1))?i["$include?"](" ")["$!"]():l)?u(ht,"Compliance").$shorthand_property_syntax():s)?(s=["style",[],d([],{})],y=s[0],m=s[1],g=s[2],v=h(this,"lambda",[],(c=function(){var r,n=c.$$s||this,i=o,$=o;return f(m["$empty?"]())?y["$=="]("style")?o:n.$warn("asciidoctor: WARNING:"+(f(a)?" "+a.$prev_line_info()+":":o)+" invalid empty "+y+" detected in style attribute"):(i=y,"role"["$==="](i)||"option"["$==="](i)?(f(r=g["$[]"](y))?r:($=[y,[]],h(g,"[]=",t.to_a($)),$[e($.length,1)]))["$<<"](m.$join()):("id"["$==="](i)&&f(g["$key?"]("id"))&&n.$warn("asciidoctor: WARNING:"+(f(a)?" "+a.$prev_line_info()+":":o)+" multiple ids detected in style attribute"),$=[y,m.$join()],h(g,"[]=",t.to_a($)),$[e($.length,1)]),m=[])},c.$$s=this,c.$$arity=0,c)),h(i,"each_char",[],(_=function(t){var e,r,n=o;return null==t&&(t=o),f(f(e=f(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(v.$call(),n=t,"."["$==="](n)?y="role":"#"["$==="](n)?y="id":"%"["$==="](n)?y="option":o):m["$<<"](t)},_.$$s=this,_.$$arity=1,_)),y["$=="]("style")?(b=["style",i],h($,"[]=",t.to_a(b)),b[e(b.length,1)]):(v.$call(),f(g["$key?"]("style"))&&(b=["style",g["$[]"]("style")],h($,"[]=",t.to_a(b)),w=b[e(b.length,1)]),f(g["$key?"]("id"))&&(b=["id",g["$[]"]("id")],h($,"[]=",t.to_a(b)),b[e(b.length,1)]),f(g["$key?"]("role"))&&(b=["role",r(g["$[]"]("role")," ")],h($,"[]=",t.to_a(b)),b[e(b.length,1)]),f(g["$key?"]("option"))&&(h(E=g["$[]"]("option"),"each",[],(p=function(r){return null==r&&(r=o),b=[""+r+"-option",""],h($,"[]=",t.to_a(b)),b[e(b.length,1)]},p.$$s=this,p.$$arity=1,p)),b=f(k=$["$[]"]("options"))?["options",r(n(E,k.$split(",")),",")]:["options",r(E,",")],h($,"[]=",t.to_a(b)),b[e(b.length,1)]),w)):(b=["style",i],h($,"[]=",t.to_a(b)),b[e(b.length,1)])},st.$$arity=-2),t.defs(a,"$adjust_indentation!",ut=function($,a,s){var l,c,d,_,y,m,g=this,v=o,b=o,w=o;return null==a&&(a=0),null==s&&(s=0),f($["$empty?"]())?o:(f(f(l=i(s=s.$to_i(),0))?$.$join()["$include?"](u(ht,"TAB")):l)&&(v=r(" ",s),h($,"map!",[],(c=function(t){var i,$,a=c.$$s||this,l=o;return null==t&&(t=o),f(t["$empty?"]())?t:(f(t["$start_with?"](u(ht,"TAB")))&&(t=h(t,"sub",[u(ht,"TabIndentRx")],(i=function(){var t;return r(v,((t=p["~"])===o?o:t["$[]"](0)).$length())},i.$$s=a,i.$$arity=0,i))),f(t["$include?"](u(ht,"TAB")))?(l=0,t=h(t,"gsub",[u(ht,"TabRx")],($=function(){var t=o,i=o;return null==p["~"]&&(p["~"]=o),(t=n(p["~"].$begin(0),l))["$%"](s)["$=="](0)?(l=n(l,e(s,1)),v):((i=e(s,t["$%"](s)))["$=="](1)||(l=n(l,e(i,1))),r(" ",i))},$.$$s=a,$.$$arity=0,$))):t)},c.$$s=g,c.$$arity=1,c))),f(f(l=a)?i(a=a.$to_i(),-1):l)?(b=o,function(){var r=t.new_brk();try{return h($,"each",[],(d=function(n){var $,a=o;return null==n&&(n=o),f(n["$empty?"]())?o:(a=e(n.$length(),n.$lstrip().$length()))["$=="](0)?(b=o,void t.brk(o,r)):f(f($=b)?i(a,b):$)?o:b=a},d.$$s=g,d.$$brk=r,d.$$arity=1,d))}catch(t){if(t===r)return t.$v;throw t}}(),a["$=="](0)?f(b)&&h($,"map!",[],(_=function(e){return null==e&&(e=o),f(e["$empty?"]())?e:e["$[]"](t.Range.$new(b,-1,!1))},_.$$s=g,_.$$arity=1,_)):(w=r(" ",a),f(b)?h($,"map!",[],(y=function(e){return null==e&&(e=o),f(e["$empty?"]())?e:n(w,e["$[]"](t.Range.$new(b,-1,!1)))},y.$$s=g,y.$$arity=1,y)):h($,"map!",[],(m=function(t){return null==t&&(t=o),f(t["$empty?"]())?t:n(w,t)},m.$$s=g,m.$$arity=1,m))),o):o)},ut.$$arity=-2),t.defs(a,"$sanitize_attribute_name",lt=function(t){return t.$gsub(u(ht,"InvalidAttributeNameCharsRx"),"").$downcase()},lt.$$arity=1),t.defs(a,"$roman_numeral_to_int",ct=function(r){var a,s=o,u=o;return r=r.$downcase(),s=d(["i","v","x"],{i:1,v:5,x:10}),u=0,h(t.Range.$new(0,e(r.$length(),1),!1),"each",[],(a=function(a){var l,c=o;return null==a&&(a=o),c=s["$[]"](r["$[]"](t.Range.$new(a,a,!1))),u=f(f(l=$(n(a,1),r.$length()))?i(s["$[]"](r["$[]"](t.Range.$new(n(a,1),n(a,1),!1))),c):l)?e(u,c):n(u,c)},a.$$s=this,a.$$arity=1,a)),u},ct.$$arity=1),o&&"roman_numeral_to_int"}(g[0],null,g)}(a[0],a)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var n=[],i=t.nil,$=t.const_get_qualified,a=t.const_get_relative,o=t.module,s=t.klass,u=t.truthy,l=t.hash2,c=t.range,h=t.send;return t.add_stubs("$attr_accessor $root? $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixify $web_root? $unc? $slice $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $size $pop $fetch $warn $<< $end_with? $uri_prefix $gsub".split(" ")),function(n,f){var d=[o(n,"Asciidoctor")].concat(f);!function(n,o,f){function d(){}n=d=s(n,o,"PathResolver",d);var _,p,y,m,g,v,b,w,E,k,x,A,O,S=n.$$proto,R=[n].concat(f);return S.file_separator=S._partition_path_web=S._partition_path_sys=S.working_dir=i,t.const_set(R[0],"DOT","."),t.const_set(R[0],"DOT_DOT",".."),t.const_set(R[0],"DOT_SLASH","./"),t.const_set(R[0],"SLASH","/"),t.const_set(R[0],"BACKSLASH","\\"),t.const_set(R[0],"DOUBLE_SLASH","//"),t.const_set(R[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),n.$attr_accessor("file_separator"),n.$attr_accessor("working_dir"),t.def(n,"$initialize",_=function(t,e){var r;return null==t&&(t=i),null==e&&(e=i),this.file_separator=u(t)?t:u(r=$($("::","File"),"ALT_SEPARATOR"))?r:$($("::","File"),"SEPARATOR"),u(e)?this.working_dir=u(this["$root?"](e))?e:$("::","File").$expand_path(e):this.working_dir=$("::","File").$expand_path($("::","Dir").$pwd()),r=[l([],{}),l([],{})],this._partition_path_sys=r[0],this._partition_path_web=r[1],r},_.$$arity=-1),t.def(n,"$absolute_path?",p=function(t){var e;return u(e=t["$start_with?"](a(R,"SLASH")))?e:this.file_separator["$=="](a(R,"BACKSLASH"))?a(R,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](a(R,"BACKSLASH"))},p.$$arity=1),u(a(R,"RUBY_ENGINE")["$=="]("opal")?$("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):a(R,"RUBY_ENGINE")["$=="]("opal"))?t.def(n,"$root?",y=function(t){var e;return u(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},y.$$arity=1):t.alias(n,"root?","absolute_path?"),t.def(n,"$unc?",m=function(t){return t["$start_with?"](a(R,"DOUBLE_SLASH"))},m.$$arity=1),t.def(n,"$web_root?",g=function(t){return t["$start_with?"](a(R,"SLASH"))},g.$$arity=1),t.def(n,"$descends_from?",v=function(t,r){return r["$=="](t)?0:!!u(t["$start_with?"](e(r,"/")))&&e(r.$length(),1)},v.$$arity=2),t.def(n,"$posixify",b=function(t){return u(t["$nil_or_empty?"]())?"":u(t["$include?"](a(R,"BACKSLASH")))?t.$tr(a(R,"BACKSLASH"),a(R,"SLASH")):t},b.$$arity=1),t.alias(n,"posixfy","posixify"),t.def(n,"$expand_path",w=function(e){var r,n=i;return r=i,e=this.$partition_path(e),r=t.to_ary(e),n=null==r[0]?i:r[0],r=null==r[1]?i:r[1],this.$join_path(n,r)},w.$$arity=1),t.def(n,"$partition_path",E=function(r,n){var $=i,o=i,s=$=i,l=i,$=i;return null==n&&(n=i),u($=(o=u(n)?this._partition_path_web:this._partition_path_sys)["$[]"](r))?$:($=this.$posixify(r),s=u(n)?u(this["$web_root?"]($))?a(R,"SLASH"):u($["$start_with?"](a(R,"DOT_SLASH")))?a(R,"DOT_SLASH"):i:u(this["$root?"]($))?u(this["$unc?"]($))?a(R,"DOUBLE_SLASH"):u($["$start_with?"](a(R,"SLASH")))?a(R,"SLASH"):$.$slice(0,e($.$index(a(R,"SLASH")),1)):u($["$start_with?"](a(R,"DOT_SLASH")))?a(R,"DOT_SLASH"):i,l=$.$split(a(R,"SLASH")),s["$=="](a(R,"DOUBLE_SLASH"))?l=l["$[]"](c(2,-1,!1)):u(s)&&l.$shift(),l.$delete(a(R,"DOT")),$=[r,[l,s,$]],h(o,"[]=",t.to_a($)),o=$,$=$.length,$="number"==typeof $?$-1:$["$-"](1),o[$])},E.$$arity=-2),t.def(n,"$join_path",k=function(t,e){return null==e&&(e=i),u(e)?""+e+r(t,a(R,"SLASH")):r(t,a(R,"SLASH"))},k.$$arity=-2),t.def(n,"$system_path",x=function(e,r,n,o){var s,c,f,d=i,_=i,p=c=i,y=i,m=i,g=y=i,v=i;if(null==r&&(r=i),null==n&&(n=i),null==o&&(o=l([],{})),u(n)&&(u(this["$root?"](n))||this.$raise($("::","SecurityError"),"Jail is not an absolute path: "+n),n=this.$posixify(n)),u(e["$nil_or_empty?"]())?d=[]:(c=this.$partition_path(e),s=t.to_ary(c),d=null==s[0]?i:s[0],_=null==s[1]?i:s[1],c),u(d["$empty?"]())){if(u(r["$nil_or_empty?"]()))return u(n)?n:this.working_dir;if(!u(this["$root?"](r)))return this.$system_path(r,n,n,o);if(!u(n))return this.$expand_path(r)}return u(u(s=_)?_["$!="](a(R,"DOT_SLASH")):s)&&(c=this.$join_path(d,_),u(u(s=n["$!"]())?s:c["$start_with?"](n)))?c:(r=u(r["$nil_or_empty?"]())?u(n)?n:this.working_dir:u(this["$root?"](r))?this.$posixify(r):this.$system_path(r,n,n,o),n["$=="](r)?(c=this.$partition_path(n),s=t.to_ary(c),p=null==s[0]?i:s[0],y=null==s[1]?i:s[1],m=p.$dup()):(u(n)?(u(r["$start_with?"](n))||this.$raise($("::","SecurityError"),""+(u(s=o["$[]"]("target_name"))?s:"Start path")+" "+r+" is outside of jail: "+n+" (disallowed in safe mode)"),c=this.$partition_path(r),s=t.to_ary(c),m=null==s[0]?i:s[0],y=null==s[1]?i:s[1],c=this.$partition_path(n),s=t.to_ary(c),p=null==s[0]?i:s[0]):(c=this.$partition_path(r),s=t.to_ary(c),m=null==s[0]?i:s[0]),y=null==s[1]?i:s[1],c),g=m.$dup(),v=!1,h(d,"each",[],(f=function(t){var r,s=f.$$s||this;if(null==t&&(t=i),t["$=="](a(R,"DOT_DOT"))){if(u(n)){t=g.$size();var l=p.$size();return t="number"==typeof t&&"number"==typeof l?t>l:t["$>"](l),u(t)?g.$pop():u((u(r=i)?r:o.$fetch("recover",!0))["$!"]())?s.$raise($("::","SecurityError"),""+(u(r=o["$[]"]("target_name"))?r:"path")+" "+e+" refers to location outside jail: "+n+" (disallowed in safe mode)"):u(v["$!"]())?(s.$warn("asciidoctor: WARNING: "+(u(r=o["$[]"]("target_name"))?r:"path")+" has illegal reference to ancestor of jail, auto-recovering"),v=!0):i}return g.$pop()}return g["$<<"](t)},f.$$s=this,f.$$arity=1,f)),this.$join_path(g,y))},x.$$arity=-2),t.def(n,"$web_path",A=function(e,r){var n,$,o,s=i,l=i,c=i,f=i,d=i;return null==r&&(r=i),e=this.$posixify(e),r=this.$posixify(r),s=i,u(u(n=r["$nil_or_empty?"]())?n:this["$web_root?"](e))||(e=u(r["$end_with?"](a(R,"SLASH")))?""+r+e:""+r+a(R,"SLASH")+e,u(s=a(R,"Helpers").$uri_prefix(e))&&(e=e["$[]"](t.Range.$new(s.$length(),-1,!1)))),$=this.$partition_path(e,!0),n=t.to_ary($),l=null==n[0]?i:n[0],c=null==n[1]?i:n[1],f=[],h(l,"each",[],(o=function(t){var e;return null==t&&(t=i),t["$=="](a(R,"DOT_DOT"))?u(f["$empty?"]())?u(u(e=c)?c["$!="](a(R,"DOT_SLASH")):e)?i:f["$<<"](t):f["$[]"](-1)["$=="](a(R,"DOT_DOT"))?f["$<<"](t):f.$pop():f["$<<"](t)},o.$$s=this,o.$$arity=1,o)),u((d=this.$join_path(f,c))["$include?"](" "))&&(d=d.$gsub(" ","%20")),u(s)?""+s+d:d},A.$$arity=-2),t.def(n,"$relative_path",O=function(t,r){var n;return u(u(n=this["$root?"](t))?t["$start_with?"](r):n)?t.$slice(e(r.$length(),1),t.$length()):t},O.$$arity=2),i&&"relative_path"}(d[0],null,d)}(n[0],n)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a=[],o=t.nil,s=t.const_get_qualified,u=t.const_get_relative,l=t.module,c=t.klass,h=t.truthy,f=t.hash2,d=t.range,_=t.send,p=t.gvars,y=t.hash;return t.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $+ $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $push $read_lines_until $size $clear $[]= $new $line_info $to_i $fetch $attributes $< $catalog $key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $strip $pop_include $downcase $warn $none? $any? $all? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $concat $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $rindex $force_encoding $chomp $delete_at $nil? $keys $read $uriish? $require_library $normalize_system_path $file? $relative_path $base_dir $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" ")),function(a,m){var g=[l(a,"Asciidoctor")].concat(m);!function($,a,l){function p(){}$=p=c($,a,"Reader",p);var y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W=$.$$proto,X=[$].concat(l);return W.file=W.dir=W.lines=W.process_lines=W.look_ahead=W.unescape_next_line=W.lineno=W.path=W.source_lines=o,function(e,r,n){function i(){}e=i=c(e,r,"Cursor",i),[e].concat(n);var $,a;return e.$attr_accessor("file"),e.$attr_accessor("dir"),e.$attr_accessor("path"),e.$attr_accessor("lineno"),t.def(e,"$initialize",$=function(t,e,r,n){return null==e&&(e=o),null==r&&(r=o),null==n&&(n=o),this.file=t,this.dir=e,this.path=r,this.lineno=n},$.$$arity=-2),t.def(e,"$line_info",a=function(){return""+this.$path()+": line "+this.$lineno()},a.$$arity=0),t.alias(e,"to_s","line_info")}(X[0],null,X),$.$attr_reader("file"),$.$attr_reader("dir"),$.$attr_reader("path"),$.$attr_reader("lineno"),$.$attr_reader("source_lines"),$.$attr_accessor("process_lines"),t.def($,"$initialize",y=function(e,r,n){var i;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=f([],{})),h(r["$!"]())?(this.file=this.dir=o,this.path="<stdin>",this.lineno=1):h(s("::","String")["$==="](r))?(this.file=r,r=s("::","File").$split(this.file),i=t.to_ary(r),this.dir=null==i[0]?o:i[0],this.path=null==i[1]?o:i[1],this.lineno=1):(this.file=r.$file(),this.dir=r.$dir(),this.path=h(i=r.$path())?i:"<stdin>",h(this.file)&&(h(this.dir)||(this.dir=s("::","File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=o)),h(r.$path())||(this.path=s("::","File").$basename(this.file))),this.lineno=h(i=r.$lineno())?i:1),this.lines=h(e)?this.$prepare_lines(e,n):[],this.source_lines=this.lines.$dup(),this.look_ahead=0,this.process_lines=!0,this.unescape_next_line=!1},y.$$arity=-1),t.def($,"$prepare_lines",m=function(t,e){return null==e&&(e=f([],{})),h(s("::","String")["$==="](t))?h(e["$[]"]("normalize"))?u(X,"Helpers").$normalize_lines_from_string(t):t.$split(u(X,"LF"),-1):h(e["$[]"]("normalize"))?u(X,"Helpers").$normalize_lines_array(t):t.$dup()},m.$$arity=-2),t.def($,"$process_line",g=function(t){return h(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},g.$$arity=1),t.def($,"$has_more_lines?",v=function(){return!h(this.lines["$empty?"]())||(this.look_ahead=0,!1)},v.$$arity=0),t.def($,"$empty?",b=function(){return!!h(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},b.$$arity=0),t.alias($,"eof?","empty?"),t.def($,"$next_line_empty?",w=function(){return this.$peek_line()["$nil_or_empty?"]()},w.$$arity=0),t.def($,"$peek_line",E=function(t){var e,n=o;return null==t&&(t=!1),h(h(e=t)?e:r(this.look_ahead,0))?h(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](d(1,-1,!1)):this.lines["$[]"](0):h(this.lines["$empty?"]())?(this.look_ahead=0,o):h(n=this.$process_line(this.lines["$[]"](0)))?n:this.$peek_line()},E.$$arity=-1),t.def($,"$peek_lines",k=function(e,r){var i,$=this,a=o,s=o;return null==r&&(r=!1),a=$.look_ahead,s=[],function(){var a=t.new_brk();try{return _(e,"times",[],(i=function(){var e=i.$$s||this,$=o;return null==e.lineno&&(e.lineno=o),h($=h(r)?e.$shift():e.$read_line())?s["$<<"]($):(h(r)&&(e.lineno=n(e.lineno,1)),void t.brk(o,a))},i.$$s=$,i.$$brk=a,i.$$arity=0,i))}catch(t){if(t===a)return t.$v;throw t}}(),h(s["$empty?"]())||($.$unshift_all(s),h(r)&&($.look_ahead=a)),s},k.$$arity=-2),t.def($,"$read_line",x=function(){var t;return h(h(t=r(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():o},x.$$arity=0),t.def($,"$read_lines",A=function(){for(var t=o,t=[];h(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},A.$$arity=0),t.alias($,"readlines","read_lines"),t.def($,"$read",O=function(){return i(this.$read_lines(),u(X,"LF"))},O.$$arity=0),t.def($,"$advance",S=function(){return!!h(this.$shift())},S.$$arity=0),t.def($,"$unshift_line",R=function(t){return this.$unshift(t),o},R.$$arity=1),t.alias($,"restore_line","unshift_line"),t.def($,"$unshift_lines",I=function(t){return this.$unshift_all(t),o},I.$$arity=1),t.alias($,"restore_lines","unshift_lines"),t.def($,"$replace_next_line",T=function(t){return this.$shift(),this.$unshift(t),!0},T.$$arity=1),t.alias($,"replace_line","replace_next_line"),t.def($,"$skip_blank_lines",M=function(){var t=o,r=o;if(h(this["$empty?"]()))return o;for(t=0;h(r=this.$peek_line());){if(!h(r["$empty?"]()))return t;this.$shift(),t=e(t,1)}},M.$$arity=0),t.def($,"$skip_comment_lines",C=function(){var e,n=o,$=o,a=o;if(h(this["$empty?"]()))return[];for(n=[];h(h(e=$=this.$peek_line())?$["$empty?"]()["$!"]():e)&&h($["$start_with?"]("//"));)if(h($["$start_with?"]("///"))){if(!h(h(e=r(a=$.$length(),3))?$["$=="](i("/",a)):e))break;n["$<<"](this.$shift()),_(n,"push",t.to_a(this.$read_lines_until(f(["terminator","read_last_line","skip_processing"],{terminator:$,read_last_line:!0,skip_processing:!0}))))}else n["$<<"](this.$shift());
return n},C.$$arity=0),t.def($,"$skip_line_comments",N=function(){var t,e=o,r=o;if(h(this["$empty?"]()))return[];for(e=[];h(h(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&h(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},N.$$arity=0),t.def($,"$terminate",z=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,o},z.$$arity=0),t.def($,"$read_lines_until",B=function(e){var r,i,$,a,s=B.$$p,l=s||o,c=o,d=o,p=o,y=o,m=o,g=o,v=o,b=o,w=o,E=o,k=o;for(null==e&&(e=f([],{})),s&&(B.$$p=null),c=[],h(e["$[]"]("skip_first_line"))&&this.$shift(),h(h(r=this.process_lines)?e["$[]"]("skip_processing"):r)?(this.process_lines=!1,d=!0):d=!1,h(p=e["$[]"]("terminator"))?m=y=!1:(y=e["$[]"]("break_on_blank_lines"),m=e["$[]"]("break_on_list_continuation")),g=e["$[]"]("skip_line_comments"),w=b=v=!1;h(h(i=w["$!"]())?E=this.$read_line():i);)w=function(){for(;h(!0);)return!(!h(h($=p)?E["$=="](p):$)&&!h(h($=y)?E["$empty?"]():$))||(h(h($=h(a=m)?v:a)?E["$=="](u(X,"LIST_CONTINUATION")):$)?(k=["preserve_last_line",!0],_(e,"[]=",t.to_a(k)),k[n(k.length,1)],!0):!!h(($=l!==o)?t.yield1(l,E):l!==o));return o}(),h(w)?(h(e["$[]"]("read_last_line"))&&(c["$<<"](E),v=!0),h(e["$[]"]("preserve_last_line"))&&(this.$unshift(E),b=!0)):h(h(i=h($=g)?E["$start_with?"]("//"):$)?E["$start_with?"]("///")["$!"]():i)||(c["$<<"](E),v=!0);return h(d)&&(this.process_lines=!0,h(h(r=b)?p["$!"]():r)&&(this.look_ahead=n(this.look_ahead,1))),c},B.$$arity=-1),t.def($,"$shift",D=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=n(this.look_ahead,1)),this.lines.$shift()},D.$$arity=0),t.def($,"$unshift",F=function(t){return this.lineno=n(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},F.$$arity=1),t.def($,"$unshift_all",L=function(r){return this.lineno=n(this.lineno,r.$size()),this.look_ahead=e(this.look_ahead,r.$size()),_(this.lines,"unshift",t.to_a(r))},L.$$arity=1),t.def($,"$cursor",P=function(){return u(X,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},P.$$arity=0),t.def($,"$line_info",q=function(){return""+this.path+": line "+this.lineno},q.$$arity=0),t.alias($,"next_line_info","line_info"),t.def($,"$prev_line_info",j=function(){return""+this.path+": line "+n(this.lineno,1)},j.$$arity=0),t.def($,"$lines",U=function(){return this.lines.$dup()},U.$$arity=0),t.def($,"$string",H=function(){return i(this.lines,u(X,"LF"))},H.$$arity=0),t.def($,"$source",G=function(){return i(this.source_lines,u(X,"LF"))},G.$$arity=0),t.def($,"$to_s",Y=function(){return this.$line_info()},Y.$$arity=0),o&&"to_s"}(g[0],null,g),function(a,l,m){function g(){}a=g=c(a,l,"PreprocessorReader",g);var v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F=a.$$proto,L=[a].concat(m);return F.document=F.lineno=F.process_lines=F.look_ahead=F.skipping=F.include_stack=F.conditional_stack=F.path=F.include_processor_extensions=F.maxdepth=F.dir=F.path_resolver=F.lines=F.file=F.includes=F.unescape_next_line=o,a.$attr_reader("include_stack"),a.$attr_reader("includes"),t.def(a,"$initialize",v=function(e,r,n,i){var $=v.$$p,a=o;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=f([],{})),$&&(v.$$p=null),this.document=e,_(this,t.find_super_dispatcher(this,"initialize",v,!1),[r,n,i],null),a=e.$attributes().$fetch("max-include-depth",64).$to_i(),h("number"==typeof a?0>a:a["$<"](0))&&(a=0),this.maxdepth=f(["abs","rel"],{abs:a,rel:a}),this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=o},v.$$arity=-2),t.def(a,"$prepare_lines",b=function(r,$){var a,s,l=b.$$p,c=o,d=o,p=o,y=o,m=o,g=p=c=o;for(null==$&&($=f([],{})),l&&(b.$$p=null),p=0,g=arguments.length,c=Array(g);p<g;p++)c[p]=arguments[p];if(c=_(this,t.find_super_dispatcher(this,"prepare_lines",b,!1),c,l),h(h(a=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):a)&&h(d=this["$skip_front_matter!"](c))&&(p=["front-matter",i(d,u(L,"LF"))],_(this.document.$attributes(),"[]=",t.to_a(p)),p[n(p.length,1)]),h($.$fetch("condense",!0))){for(;h(h(s=y=c["$[]"](0))?y["$empty?"]():s);)h(s=c.$shift())?this.lineno=e(this.lineno,1):s;for(;h(h(s=m=c["$[]"](-1))?m["$empty?"]():s);)c.$pop()}return h($["$[]"]("indent"))&&u(L,"Parser")["$adjust_indentation!"](c,$["$[]"]("indent"),this.document.$attr("tabsize")),c},b.$$arity=-2),t.def(a,"$process_line",w=function(t){var r,n;return h(this.process_lines)?h(t["$empty?"]())?(this.look_ahead=e(this.look_ahead,1),t):h(h(r=h(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?h(h(r=t["$include?"]("if"))?u(L,"ConditionalDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t["$[]"](d(1,-1,!1))):h(this.$preprocess_conditional_directive((r=p["~"])===o?o:r["$[]"](2),(r=p["~"])===o?o:r["$[]"](3),(r=p["~"])===o?o:r["$[]"](4),(r=p["~"])===o?o:r["$[]"](5)))?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):h(this.skipping)?(this.$shift(),o):h(h(r=t["$start_with?"]("inc","\\inc"))?u(L,"IncludeDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t["$[]"](d(1,-1,!1))):h(this.$preprocess_include_directive((r=p["~"])===o?o:r["$[]"](2),((r=p["~"])===o?o:r["$[]"](3)).$strip()))?o:(this.look_ahead=e(this.look_ahead,1),t):(this.look_ahead=e(this.look_ahead,1),t):h(this.skipping)?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):t},w.$$arity=1),t.def(a,"$has_more_lines?",E=function(){return!!h(this.$peek_line())},E.$$arity=0),t.def(a,"$empty?",k=function(){return!h(this.$peek_line())},k.$$arity=0),t.alias(a,"eof?","empty?"),t.def(a,"$peek_line",x=function(e){var r=x.$$p,n=o,i=n=o,$=o;for(null==e&&(e=!1),r&&(x.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return h(n=_(this,t.find_super_dispatcher(this,"peek_line",x,!1),n,r))?n:h(this.include_stack["$empty?"]())?o:(this.$pop_include(),this.$peek_line(e))},x.$$arity=-1),t.def(a,"$preprocess_conditional_directive",A=function(t,e,r,i){var $,a,s,l,c,d,y,m=o,g=o,v=o,b=o,w=b=m=o;if(h(m=e["$empty?"]())||(e=e.$downcase()),h(h($=h(a=m)?h(s=t["$=="]("ifdef"))?s:t["$=="]("ifndef"):a)?$:h(a=i)?t["$=="]("endif"):a))return!1;if(t["$=="]("endif"))return h(this.conditional_stack["$empty?"]())?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+e+"[]"):h(h($=m)?$:e["$=="]((g=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=!h(this.conditional_stack["$empty?"]())&&this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+g["$[]"]("target")+"[]"),!0;if(h(this.skipping))v=!1;else if(b=t,"ifdef"["$==="](b))b=r,v=","["$==="](b)?_(e.$split(",",-1),"none?",[],(l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},l.$$s=this,l.$$arity=1,l)):"+"["$==="](b)?_(e.$split("+",-1),"any?",[],(c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)["$!"]()},c.$$s=this,c.$$arity=1,c)):this.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](b))b=r,v=","["$==="](b)?_(e.$split(",",-1),"any?",[],(d=function(t){var e=d.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},d.$$s=this,d.$$arity=1,d)):"+"["$==="](b)?_(e.$split("+",-1),"all?",[],(y=function(t){var e=y.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)},y.$$s=this,y.$$arity=1,y)):this.document.$attributes()["$key?"](e);else if("ifeval"["$==="](b)){if(!h(h($=m)?u(L,"EvalExpressionRx")["$=~"](i.$strip()):$))return!1;$=[(a=p["~"])===o?o:a["$[]"](1),(a=p["~"])===o?o:a["$[]"](2),(a=p["~"])===o?o:a["$[]"](3)],m=$[0],b=$[1],w=$[2],m=this.$resolve_expr_val(m),w=this.$resolve_expr_val(w),v=b["$=="]("!=")?m.$send("==",w):m.$send(b.$to_sym(),w)["$!"]()}return h(h($=t["$=="]("ifeval"))?$:i["$!"]())?(h(v)&&(this.skipping=!0),this.conditional_stack["$<<"](f(["target","skip","skipping"],{target:e,skip:v,skipping:this.skipping}))):h(h($=this.skipping)?$:v)||(this.$replace_next_line(i.$rstrip()),this.$unshift(""),h(i["$start_with?"]("include::"))&&(this.look_ahead=n(this.look_ahead,1))),!0},A.$$arity=4),t.def(a,"$preprocess_include_directive",O=function a(l,c){var d,m,g,v,b,w,E,k=this,x=o,A=o,a=o,O=a=o,S=o,R=o,I=o,T=o,M=o,C=o,N=o,z=o,B=o,D=o,F=o,P=o,q=o,j=o,U=o,H=o,G=o,Y=o,W=o,X=o;if(h(h(d=(x=l)["$include?"](u(L,"ATTR_REF_HEAD")))?(x=k.document.$sub_attributes(l,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():d))return k.$shift(),k.document.$attributes().$fetch("attribute-missing",u(L,"Compliance").$attribute_missing())["$=="]("skip")&&k.$unshift("Unresolved directive in "+k.path+" - include::"+l+"["+c+"]"),!0;if(h(h(d=k["$include_processors?"]())?A=_(k.include_processor_extensions,"find",[],(m=function(t){return null==t&&(t=o),t.$instance()["$handles?"](x)},m.$$s=k,m.$$arity=1,m)):d))return k.$shift(),A.$process_method()["$[]"](k.document,k,x,u(L,"AttributeList").$new(c).$parse()),!0;if(h($(k.document.$safe(),s(u(L,"SafeMode"),"SECURE"))))return k.$replace_next_line("link:"+x+"[]");if(h(r(a=k.maxdepth["$[]"]("abs"),0))){if(h($(k.include_stack.$size(),a)))return k.$warn("asciidoctor: ERROR: "+k.$line_info()+": maximum include depth of "+k.maxdepth["$[]"]("rel")+" exceeded"),o;if(a=h(c["$empty?"]())?f([],{}):u(L,"AttributeList").$new(c).$parse(),m=k.$resolve_include_path(x,c,a),d=t.to_ary(m),O=null==d[0]?o:d[0],S=null==d[1]?o:d[1],R=null==d[2]?o:d[2],!h(S))return O;if(I=T=o,h(a["$empty?"]())||(h(a["$key?"]("lines"))?(I=[],_(a["$[]"]("lines").$split(u(L,"DataDelimiterRx")),"each",[],(g=function(e){var r,n=g.$$s||this,i=o,$=o;return null==e&&(e=o),h(e["$include?"](".."))?(e=_(e.$split("..",2),"map",[],(r=function(t){return null==t&&(t=o),t.$to_i()},r.$$s=n,r.$$arity=1,r)),r=t.to_ary(e),i=null==r[0]?o:r[0],$=null==r[1]?o:r[1],$["$=="](-1)?(I["$<<"](i),I["$<<"](1/0)):I.$concat(s("::","Range").$new(i,$).$to_a())):I["$<<"](e.$to_i())},g.$$s=k,g.$$arity=1,g)),I=h(I["$empty?"]())?o:I.$sort().$uniq()):h(a["$key?"]("tag"))?h((M=a["$[]"]("tag"))["$empty?"]())||(h(M["$start_with?"]("!"))?M["$=="]("!")||(T=y(M.$slice(1,M.$length()),!1)):T=y(M,!0)):h(a["$key?"]("tags"))&&(T=f([],{}),_(a["$[]"]("tags").$split(u(L,"DataDelimiterRx")),"each",[],(v=function(e){var r=o;return null==e&&(e=o),h(e["$empty?"]())?o:h(e["$start_with?"]("!"))?e["$=="]("!")?o:(r=[e.$slice(1,e.$length()),!1],_(T,"[]=",t.to_a(r)),r[n(r.length,1)]):(r=[e,!0],_(T,"[]=",t.to_a(r)),r[n(r.length,1)])},v.$$s=k,v.$$arity=1,v)),h(T["$empty?"]())&&(T=o))),h(I)){d=[[],o,0],C=d[0],N=d[1],z=d[2];try{!function(){var r=t.new_brk();try{return _(k,"open",[O,"r"],(b=function(r){var n,i=b.$$s||this;return null==r&&(r=o),function(){var $=t.new_brk();try{return _(r,"each_line",[],(n=function r(n){var i,r=o;return null==n&&(n=o),z=e(z,1),r=I["$[]"](0),h(h(i=s("::","Float")["$==="](r))?r["$infinite?"]():i)?(N=h(i=N)?i:z,C["$<<"](n)):(z["$=="](r)&&(N=h(i=N)?i:z,C["$<<"](n),I.$shift()),h(I["$empty?"]())?void t.brk(o,$):o)},n.$$s=i,n.$$brk=$,n.$$arity=1,n))}catch(t){if(t===$)return t.$v;throw t}}()},b.$$s=k,b.$$brk=r,b.$$arity=1,b))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[u(L,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+S+" not readable: "+O),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+x+"["+c+"]")}finally{t.pop_exception()}}k.$shift(),h(N)&&k.$push_include(C,O,R,N,a)}else if(h(T)){d=[[],o,0,[],s("::","Set").$new(),o],C=d[0],N=d[1],z=d[2],B=d[3],D=d[4],F=d[5],h(T["$key?"]("**"))?h(T["$key?"]("*"))?(P=q=T.$delete("**"),j=T.$delete("*")):P=q=j=T.$delete("**"):(P=q=T["$value?"](!0)["$!"](),j=T.$delete("*")),h(h(d=U=O.$rindex("."))?H=u(L,"CIRCUMFIX_COMMENTS")["$[]"](O.$slice(U,O.$length())):d)&&(G=n((Y="[] "+H["$[]"]("suffix")).$length(),2));try{_(k,"open",[O,"r"],(w=function(r){var i,$=w.$$s||this;return null==r&&(r=o),_(r,"each_line",[],(i=function(r){var $,a,l,c,f,d=i.$$s||this,y=o,m=o,g=o;return null==r&&(r=o),z=e(z,1),h(u(L,"FORCE_ENCODING"))&&r.$force_encoding(s(s("::","Encoding"),"UTF_8")),h(h($=h(a=(y=r.$chomp())["$end_with?"]("[]"))?a:h(l=h(c=Y)?y["$end_with?"](Y):c)?y=y.$slice(0,n(y.$length(),G)):l)?u(L,"TagDirectiveRx")["$=~"](y):$)?h(($=p["~"])===o?o:$["$[]"](1))?(m=($=p["~"])===o?o:$["$[]"](2))["$=="](F)?(B.$pop(),a=h(B["$empty?"]())?[o,q]:B["$[]"](-1),$=t.to_ary(a),F=null==$[0]?o:$[0],P=null==$[1]?o:$[1],a):h(T["$key?"](m))?h(g=_(B,"rindex",[],(f=function(t,e){return null==t&&(t=o),t["$=="](m)},f.$$s=d,f.$$arity=2,f)))?(g["$=="](0)?B.$shift():B.$delete_at(g),d.$warn("asciidoctor: WARNING: "+x+": line "+z+": mismatched end tag in include: expected "+F+", found "+m)):d.$warn("asciidoctor: WARNING: "+x+": line "+z+": unexpected end tag in include: "+m):o:h(T["$key?"](m=($=p["~"])===o?o:$["$[]"](2)))?(D["$<<"](m),B["$<<"]([F=m,P=T["$[]"](m)])):h(j["$nil?"]()["$!"]())?(P=!h(h($=F)?P["$!"]():$)&&j,B["$<<"]([F=m,P])):o:h(P)?(N=h($=N)?$:z,C["$<<"](r)):o},i.$$s=$,i.$$arity=1,i))},w.$$s=k,w.$$arity=1,w))}catch(e){if(!t.rescue(e,[u(L,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+S+" not readable: "+O),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+x+"["+c+"]")}finally{t.pop_exception()}}h((W=n(T.$keys().$to_a(),D.$to_a()))["$empty?"]())||k.$warn("asciidoctor: WARNING: "+k.$line_info()+": tag"+(h(r(W.$size(),1))?"s":o)+" '"+i(W,",")+"' not found in include "+S+": "+O),k.$shift(),h(N)&&k.$push_include(C,O,R,N,a)}else try{X=function(){return S["$=="]("file")?s("::","IO").$read(O):_(k,"open",[O,"r"],(E=function(t){return null==t&&(t=o),t.$read()},E.$$s=k,E.$$arity=1,E))}(),k.$shift(),k.$push_include(X,O,R,1,a)}catch(e){if(!t.rescue(e,[u(L,"StandardError")]))throw e;try{return k.$warn("asciidoctor: WARNING: "+k.$line_info()+": include "+S+" not readable: "+O),k.$replace_next_line("Unresolved directive in "+k.path+" - include::"+x+"["+c+"]")}finally{t.pop_exception()}}return!0}return!1},O.$$arity=2),t.def(a,"$resolve_include_path",S=function(t,e,r){var n,i,$=r=o;return h(u(L,"Helpers")["$uriish?"](t))?h(this.document.$attributes()["$key?"]("allow-uri-read"))?(h(this.document.$attributes()["$key?"]("cache-uri"))?h((n=s("::","OpenURI","skip_raise"))&&s(n,"Cache","skip_raise")?"constant":o)||u(L,"Helpers").$require_library("open-uri/cached","open-uri-cached"):h(s("::","RUBY_ENGINE_OPAL")["$!"]())&&s("::","OpenURI"),[t,"uri",t]):this.$replace_next_line("link:"+t+"["+e+"]"):(r=this.document.$normalize_system_path(t,this.dir,o,f(["target_name"],{target_name:"include file"})),h(s("::","File")["$file?"](r))?($=(this.path_resolver=h(i=this.path_resolver)?i:u(L,"PathResolver").$new()).$relative_path(r,this.document.$base_dir()),[r,"file",$]):(this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+r),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+t+"["+e+"]")))},S.$$arity=3),t.def(a,"$push_include",R=function(t,r,i,$,a){var l=o,l=o;return null==r&&(r=o),null==i&&(i=o),null==$&&($=1),null==a&&(a=f([],{})),this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]),h(r)?(this.file=r,this.dir=u(L,"File").$dirname(r),this.process_lines=u(L,"ASCIIDOC_EXTENSIONS")["$[]"](s("::","File").$extname(r))):(this.file=o,this.dir=".",this.process_lines=!0),h(i)?this.includes["$<<"](u(L,"Helpers").$rootname(this.path=i)):this.path="<stdin>",this.lineno=$,h(a["$key?"]("depth"))&&(l=a["$[]"]("depth").$to_i(),h("number"==typeof l?0>=l:l["$<="](0))&&(l=1),this.maxdepth=f(["abs","rel"],{abs:e(n(this.include_stack.$size(),1),l),rel:l})),h((this.lines=this.$prepare_lines(t,f(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:a["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(h(a["$key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+a["$[]"]("leveloffset")),this.lines["$<<"](""),h(l=this.document.$attr("leveloffset"))?this.lines["$<<"](":leveloffset: "+l):this.lines["$<<"](":leveloffset!:"),this.lineno=n(this.lineno,2)),this.look_ahead=0),this},R.$$arity=-2),t.def(a,"$pop_include",I=function(){var e,n;return h(r(this.include_stack.$size(),0))&&(n=this.include_stack.$pop(),e=t.to_ary(n),this.lines=null==e[0]?o:e[0],this.file=null==e[1]?o:e[1],this.dir=null==e[2]?o:e[2],this.path=null==e[3]?o:e[3],this.lineno=null==e[4]?o:e[4],this.maxdepth=null==e[5]?o:e[5],this.process_lines=null==e[6]?o:e[6],this.look_ahead=0),o},I.$$arity=0),t.def(a,"$include_depth",T=function(){return this.include_stack.$size()},T.$$arity=0),t.def(a,"$exceeded_max_depth?",M=function(){var t,e=o;return!!h(h(t=r(e=this.maxdepth["$[]"]("abs"),0))?$(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},M.$$arity=0),t.def(a,"$shift",C=function(){var e=C.$$p,r=o,n=o,i=o;for(e&&(C.$$p=null),n=0,i=arguments.length,r=Array(i);n<i;n++)r[n]=arguments[n];return h(this.unescape_next_line)?(this.unescape_next_line=!1,_(this,t.find_super_dispatcher(this,"shift",C,!1),r,e)["$[]"](d(1,-1,!1))):_(this,t.find_super_dispatcher(this,"shift",C,!1),r,e)},C.$$arity=0),t.def(a,"$skip_front_matter!",N=function(r,n){var i,$=o,a=o;if(null==n&&(n=!0),$=o,r["$[]"](0)["$=="]("---")){for(a=r.$dup(),$=[],r.$shift(),h(n)&&(this.lineno=e(this.lineno,1));h(h(i=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):i);)$["$<<"](r.$shift()),h(n)&&(this.lineno=e(this.lineno,1));h(r["$empty?"]())?(_(r,"unshift",t.to_a(a)),h(n)&&(this.lineno=0),$=o):(r.$shift(),h(n)&&(this.lineno=e(this.lineno,1)))}return $},N.$$arity=-2),t.def(a,"$resolve_expr_val",z=function(t){var e,r,n=o;return h(h(e=h(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:h(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(n=!0,t=t["$[]"](d(1,-1,!0))):n=!1,h(t["$include?"](u(L,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,f(["attribute_missing"],{attribute_missing:"drop"}))),h(n)?t:h(t["$empty?"]())?o:!!t["$=="]("true")||!t["$=="]("false")&&(h(t.$rstrip()["$empty?"]())?" ":h(t["$include?"]("."))?t.$to_f():t.$to_i())},z.$$arity=1),t.def(a,"$include_processors?",B=function(){var t;return h(this.include_processor_extensions["$nil?"]())?h(h(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},B.$$arity=0),t.def(a,"$to_s",D=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+i(_(this.include_stack,"map",[],(t=function(t){return null==t&&(t=o),t.$to_s()},t.$$s=this,t.$$arity=1,t)),", ")+"]}>"},D.$$arity=0),o&&"to_s"}(g[0],u(g,"Reader"),g)}(a[0],a)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=[],i=t.nil,$=t.const_get_relative,a=t.module,o=t.klass,s=t.send,u=t.truthy,l=t.hash2;return t.add_stubs("$attr_accessor $attr_reader $+ $level $> $== $context $special $generate_id $title $sectnum $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $[] $attributes $enumerate_section $class $object_id $inspect $size $gsub $downcase $tr_s $end_with? $chop $start_with? $slice $length $key? $catalog $unique_id_start_index".split(" ")),function(n,c){var h=[a(n,"Asciidoctor")].concat(c);!function(n,a,c){function h(){}n=h=o(n,a,"Section",h);var f,d,_,p,y,m,g,v=n.$$proto,b=[n].concat(c);return v.level=v.document=v.parent=v.number=v.numbered=v.sectname=v.title=v.blocks=i,n.$attr_accessor("index"),n.$attr_accessor("sectname"),n.$attr_accessor("special"),n.$attr_accessor("numbered"),n.$attr_reader("caption"),t.def(n,"$initialize",f=function(n,$,a,o){var c,h,d=f.$$p;return null==n&&(n=i),null==$&&($=i),null==a&&(a=!0),null==o&&(o=l([],{})),d&&(f.$$p=null),s(this,t.find_super_dispatcher(this,"initialize",f,!1),[n,"section",o],null),this.level=u($)?$:u(n)?e(n.$level(),1):1,this.numbered=u(c=a)?r(this.level,0):c,this.special=u(c=u(h=n)?n.$context()["$=="]("section"):h)?n.$special():c,this.index=0,this.number=1},f.$$arity=-1),t.alias(n,"name","title"),t.def(n,"$generate_id",d=function(){return $(b,"Section").$generate_id(this.$title(),this.document)},d.$$arity=0),t.def(n,"$sectnum",_=function(t,e){var n,$,a;return null==t&&(t="."),null==e&&(e=i),e=u(n=e)?n:e["$=="](!1)?"":t,u(u(n=u($=u(a=this.level)?r(this.level,1):a)?this.parent:$)?this.parent.$context()["$=="]("section"):n)?""+this.parent.$sectnum(t)+this.number+e:""+this.number+e},_.$$arity=-1),t.def(n,"$xreftext",p=function(t){var e,r=i,n=i,$=i,a=n=i;return null==t&&(t=i),u(u(e=r=this.$reftext())?r["$empty?"]()["$!"]():e)?e=r:u(t)?(u(this.numbered)?(n=t,"full"["$==="](n)?(n=u(u(e=($=this.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$sprintf(this.$sub_quotes(u(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),t=u(a=this.document.$attributes()["$[]"](""+$+"-refsig"))?""+a+" "+this.$sectnum(".",",")+" "+n:""+this.$sectnum(".",",")+" "+n):t="short"["$==="](n)?u(a=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+a+" "+this.$sectnum(".",""):this.$sectnum(".",""):u(u(e=($=this.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title()):t=u(u(e=($=this.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),e=t):e=this.$title(),e},p.$$arity=-1),t.def(n,"$<<",y=function(e){var r=y.$$p,n=i,$=i,a=i;for(r&&(y.$$p=null),$=0,a=arguments.length,n=Array(a);$<a;$++)n[$]=arguments[$];return e.$context()["$=="]("section")&&this.$enumerate_section(e),s(this,t.find_super_dispatcher(this,"<<",y,!1),n,r)},y.$$arity=1),t.def(n,"$to_s",m=function(){var e=m.$$p,r=i,n=r=i,$=i;for(e&&(m.$$p=null),n=0,$=arguments.length,r=Array($);n<$;n++)r[n]=arguments[n];return u(this.title)?(r=u(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+r.$inspect()+", blocks: "+this.blocks.$size()+"}>"):s(this,t.find_super_dispatcher(this,"to_s",m,!1),r,e)},m.$$arity=0),t.defs(n,"$generate_id",g=function(t,r){var n,a=i,o=i,s=i,l=s=a=i,c=i,a=r.$attributes(),o=u(n=a["$[]"]("idseparator"))?n:"_",s=u(n=a["$[]"]("idprefix"))?n:"_",a=""+s+t.$downcase().$gsub($(b,"InvalidSectionIdCharsRx"),o);if(!u(o["$empty?"]())&&(a=a.$tr_s(o,o),u(a["$end_with?"](o))&&(a=a.$chop()),u(s["$empty?"]())))for(;u(a["$start_with?"](o));)a=a.$slice(1,a.$length());if(u(r.$catalog()["$[]"]("ids")["$key?"](a))){for(n=[r.$catalog()["$[]"]("ids"),$(b,"Compliance").$unique_id_start_index()],s=n[0],l=n[1],n;u(s["$key?"](c=""+a+o+l));)l=e(l,1);return c}return a},g.$$arity=2),i&&"generate_id"}(h[0],$(h,"AbstractBlock"),h)}(n[0],n)},Opal.modules["asciidoctor/stylesheets"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=t.module,a=t.klass,o=t.truthy,s=t.hash2,u=t.send;return t.add_stubs("$join $new $chomp $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $sub $css $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" ")),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,$,l){function c(){}var h=c=a(e,$,"Stylesheets",c);e=h.$$proto;var f,d,_,p,y,m,g,v,b,w,E,k,x,A,O=[h].concat(l);return e.primary_stylesheet_data=e.coderay_stylesheet_data=e.pygments_stylesheet_data=r,t.const_set(O[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(O[0],"DEFAULT_PYGMENTS_STYLE","default"),t.const_set(O[0],"STYLESHEETS_DATA_PATH",n("::","File").$join(i(O,"DATA_PATH"),"stylesheets")),h.__instance__=h.$new(),t.defs(h,"$instance",f=function(){return null==this.__instance__&&(this.__instance__=r),this.__instance__},f.$$arity=0),t.def(h,"$primary_stylesheet_name",d=function(){return i(O,"DEFAULT_STYLESHEET_NAME")},d.$$arity=0),t.def(h,"$primary_stylesheet_data",_=function(){var e,n=t.const_get_relative([],"File");return e=t.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===n.$basename(__dirname)&&"dist"===n.$basename(n.$dirname(__dirname))?n.$join(n.$dirname(__dirname),"css"):n.$join(__dirname,"css"):t.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===n.$basename(__DIR__)&&"dist"===n.$basename(n.$dirname(__DIR__))?n.$join(n.$dirname(__DIR__),"css"):n.$join(__DIR__,"css"):"css",!1!==($a=h.primary_stylesheet_data)&&$a!==r&&null!=$a?$a:h.primary_stylesheet_data=t.const_get_relative([],"IO").$read(n.$join(e,"asciidoctor.css")).$chomp()},_.$$arity=0),t.def(h,"$embed_primary_stylesheet",p=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},p.$$arity=0),t.def(h,"$write_primary_stylesheet",y=function(t){return null==t&&(t="."),n("::","IO").$write(n("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},y.$$arity=-1),t.def(h,"$coderay_stylesheet_name",m=function(){return"coderay-asciidoctor.css"},m.$$arity=0),t.def(h,"$coderay_stylesheet_data",g=function(){var t;return this.coderay_stylesheet_data=o(t=this.coderay_stylesheet_data)?t:n("::","IO").$read(n("::","File").$join(i(O,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},g.$$arity=0),t.def(h,"$embed_coderay_stylesheet",v=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},v.$$arity=0),t.def(h,"$write_coderay_stylesheet",b=function(t){return null==t&&(t="."),n("::","IO").$write(n("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},b.$$arity=-1),t.def(h,"$pygments_stylesheet_name",w=function(t){var e;return null==t&&(t=r),"pygments-"+(o(e=t)?e:i(O,"DEFAULT_PYGMENTS_STYLE"))+".css"},w.$$arity=-1),t.def(h,"$pygments_stylesheet_data",E=function(e){var $,a;return $=r,null==e&&(e=r),o(this.$load_pygments())?(o($=(this.pygments_stylesheet_data=o(a=this.pygments_stylesheet_data)?a:s([],{}))["$[]"](o(a=e)?a:i(O,"DEFAULT_PYGMENTS_STYLE")))?e=$:($=[o(a=e)?a:i(O,"DEFAULT_PYGMENTS_STYLE"),n("::","Pygments").$css(".listingblock .pygments",s(["classprefix","style"],{classprefix:"tok-",style:o(a=e)?a:i(O,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],u(this.pygments_stylesheet_data=o(a=this.pygments_stylesheet_data)?a:s([],{}),"[]=",t.to_a($)),e=$,a=$.length,a="number"==typeof a?a-1:a["$-"](1),e=e[a]),e):"/* Pygments styles disabled. Pygments is not available. */"},E.$$arity=-1),t.def(h,"$embed_pygments_stylesheet",k=function(t){return null==t&&(t=r),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},k.$$arity=-1),t.def(h,"$write_pygments_stylesheet",x=function(t,e){return null==t&&(t="."),null==e&&(e=r),n("::","IO").$write(n("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e))},x.$$arity=-1),t.def(h,"$load_pygments",A=function(){return!!o(n("::","Pygments","skip_raise")?"constant":r)||i(O,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},A.$$arity=0),r&&"load_pygments"}(c[0],null,c)}(e[0],e)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var o=[],s=t.nil,u=t.const_get_qualified,l=t.const_get_relative,c=t.module,h=t.klass,f=t.send,d=t.truthy,_=t.hash2,p=t.range;return t.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $header_row? $table $delete $! $rstrip $start_with? $slice $length $strip $split $include? $readlines $unshift $nil? $apply_subs $convert $map $text $to_s $to_set $cursor $nested? $document $warn $prev_line_info $nil_or_empty? $escape $columns $match $pre_match $post_match $chop $buffer $end_with? $gsub $push_cellspec $cell_open? $close_cell $advance $take_cellspec $line_info $squeeze $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" ")),function(o,y){var m=[c(o,"Asciidoctor")].concat(y);!function(o,u,c){function _(){}o=_=h(o,u,"Table",_);var p,y,m,g,v,b=o.$$proto,w=[o].concat(c);return b.attributes=b.document=b.has_header_option=b.rows=b.columns=s,function(e,r,n){function i(){}e=i=h(e,r,"Rows",i);var $=e.$$proto;[e].concat(n);var a,o;return $.head=$.foot=$.body=s,e.$attr_accessor("head","foot","body"),t.def(e,"$initialize",a=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},a.$$arity=-1),t.alias(e,"[]","send"),t.def(e,"$by_section",o=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},o.$$arity=0),s&&"by_section"}(w[0],null,w),o.$attr_accessor("columns"),o.$attr_accessor("rows"),o.$attr_accessor("has_header_option"),o.$attr_reader("caption"),t.def(o,"$initialize",p=function(a,o){var u,c,h=s,_=s,y=s;return p.$$p&&(p.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",p,!1),[a,"table"],null),this.rows=l(w,"Rows").$new(),this.columns=[],this.has_header_option=o["$key?"]("header-option"),d(h=o["$[]"]("width"))?d(d(u=e(_=h.$to_i(),100))?u:r(_,1))&&!d((u=_["$=="](0))?d(c=h["$=="]("0"))?c:h["$=="]("0%"):_["$=="](0))&&(_=100):_=100,y=["tablepcwidth",_],f(this.attributes,"[]=",t.to_a(y)),y[n(y.length,1)],d(this.document.$attributes()["$key?"]("pagewidth"))&&(d(u=this.attributes["$[]"]("tableabswidth"))?u:(y=["tableabswidth",i($(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],f(this.attributes,"[]=",t.to_a(y)),y[n(y.length,1)])),d(o["$key?"]("rotate-option"))?(y=["orientation","landscape"],f(o,"[]=",t.to_a(y)),y[n(y.length,1)]):s},p.$$arity=2),t.def(o,"$header_row?",y=function(){var t;return d(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},y.$$arity=0),t.def(o,"$create_columns",m=function(e){var r,i=s,$=s,o=s,i=[],$=0;return f(e,"each",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=s),$=a($,t["$[]"]("width")),i["$<<"](l(w,"Column").$new(e,i.$size(),t))},r.$$s=this,r.$$arity=1,r)),d((this.columns=i)["$empty?"]())||(o=["colcount",i.$size()],f(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],this.$assign_column_widths($["$=="](0)?s:$)),s},m.$$arity=1),t.def(o,"$assign_column_widths",g=function(t){var e,r,o=s,u=s,l=s;return null==t&&(t=s),o=10["$**"](4),u=l=0,d(t)?f(this.columns,"each",[],(e=function(e){return null==e&&(e=s),u=a(u,l=e.$assign_width(s,t,o))},e.$$s=this,e.$$arity=1,e)):(l=$($(i(100,o),this.columns.$size()).$to_i(),o),l.$to_i()["$=="](l)&&(l=l.$to_i()),f(this.columns,"each",[],(r=function(t){return null==t&&(t=s),u=a(u,t.$assign_width(l))},r.$$s=this,r.$$arity=1,r))),u["$=="](100)||this.columns["$[]"](-1).$assign_width($(i(a(n(100,u),l),o).$round(),o)),s},g.$$arity=-1),t.def(o,"$partition_header_footer",v=function(r){var i,$,a=s,o=s,u=s,a=["rowcount",this.rows.$body().$size()];return f(this.attributes,"[]=",t.to_a(a)),a[n(a.length,1)],o=this.rows.$body().$size(),d(d(i=e(o,0))?this.has_header_option:i)&&(u=this.rows.$body().$shift(),
o=n(o,1),f(u,"each",[],($=function(e){return null==e&&(e=s),a=[s],f(e,"style=",t.to_a(a)),a[n(a.length,1)]},$.$$s=this,$.$$arity=1,$)),a=[[u]],f(this.rows,"head=",t.to_a(a)),a[n(a.length,1)]),d(d(i=e(o,0))?r["$key?"]("footer-option"):i)&&(a=[[this.rows.$body().$pop()]],f(this.rows,"foot=",t.to_a(a)),a[n(a.length,1)]),s},v.$$arity=1),s&&"partition_header_footer"}(m[0],l(m,"AbstractBlock"),m),function(e,r,o){function u(){}e=u=h(e,r,"Column",u);var l=e.$$proto;[e].concat(o);var c,p;return l.attributes=s,e.$attr_accessor("style"),t.def(e,"$initialize",c=function(e,r,i){var $,o=c.$$p,u=s;return null==i&&(i=_([],{})),o&&(c.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",c,!1),[e,"column"],null),this.style=i["$[]"]("style"),u=["colnumber",a(r,1)],f(i,"[]=",t.to_a(u)),u[n(u.length,1)],d($=i["$[]"]("width"))?$:(u=["width",1],f(i,"[]=",t.to_a(u)),u[n(u.length,1)]),d($=i["$[]"]("halign"))?$:(u=["halign","left"],f(i,"[]=",t.to_a(u)),u[n(u.length,1)]),d($=i["$[]"]("valign"))?$:(u=["valign","top"],f(i,"[]=",t.to_a(u)),u[n(u.length,1)]),this.$update_attributes(i)},c.$$arity=-3),t.alias(e,"table","parent"),t.def(e,"$assign_width",p=function(e,r,a){var o=s;return null==r&&(r=s),null==a&&(a=1e4),d(r)&&(e=$(i(i($(this.attributes["$[]"]("width").$to_f(),r),100),a).$to_i(),a),e.$to_i()["$=="](e)&&(e=e.$to_i())),o=["colpcwidth",e],f(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)],d(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(o=["colabswidth",i($(e,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],f(this.attributes,"[]=",t.to_a(o)),o[n(o.length,1)]),e},p.$$arity=-2),s&&"assign_width"}(l(m,"Table"),l(m,"AbstractNode"),m),function(e,i,$){function a(){}e=a=h(e,i,"Cell",a);var o,u,c,p,y,m=e.$$proto,g=[e].concat($);return m.document=m.text=m.style=m.inner_document=m.colspan=m.rowspan=m.attributes=s,e.$attr_accessor("style"),e.$attr_accessor("colspan"),e.$attr_accessor("rowspan"),t.alias(e,"column","parent"),e.$attr_reader("inner_document"),t.def(e,"$initialize",o=function(e,i,$,a){var u,c=o.$$p,h=s,p=s,y=p=s,m=s,v=s,p=s;if(null==$&&($=_([],{})),null==a&&(a=_([],{})),c&&(o.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",o,!1),[e,"cell"],null),d(e)?(h=d(p=e.$table()["$header_row?"]())?s:e.$attributes()["$[]"]("style"),this.$update_attributes(e.$attributes())):p=h=s,d($)){if(this.colspan=$.$delete("colspan"),this.rowspan=$.$delete("rowspan"),d(d(u=p)?u:$["$key?"]("style")["$!"]())||(h=$["$[]"]("style")),d(a["$[]"]("strip_text")))if(d(d(u=h["$=="]("literal"))?u:h["$=="]("verse")))for(i=i.$rstrip();d(i["$start_with?"](l(g,"LF")));)i=i.$slice(1,n(i.$length(),1));else i=i.$strip();this.$update_attributes($)}else this.rowspan=this.colspan=s;return h["$=="]("asciidoc")&&(p=this.document.$attributes().$delete("doctitle"),y=i.$split(l(g,"LF"),-1),!d(y["$empty?"]())&&d((m=y["$[]"](0))["$include?"]("::"))&&(v=l(g,"PreprocessorReader").$new(this.document,[m]).$readlines(),d(m["$=="](v["$[]"](0))?r(v.$size(),2):m["$=="](v["$[]"](0)))||(y.$shift(),d(v["$empty?"]())||f(y,"unshift",t.to_a(v)))),this.inner_document=l(g,"Document").$new(y,_(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:a["$[]"]("cursor")})),d(p["$nil?"]())||(p=["doctitle",p],f(this.document.$attributes(),"[]=",t.to_a(p)),p[n(p.length,1)])),this.text=i,this.style=h},o.$$arity=-3),t.def(e,"$text",u=function(){return this.$apply_subs(this.text,this.style["$=="]("literal")?l(g,"BASIC_SUBS"):l(g,"NORMAL_SUBS"))},u.$$arity=0),t.def(e,"$text=",c=function(t){return this.text=t},c.$$arity=1),t.def(e,"$content",p=function(){var t;return this.style["$=="]("asciidoc")?this.inner_document.$convert():f(this.$text().$split(l(g,"BlankLineRx")),"map",[],(t=function(e){var r,n=t.$$s||this;return null==n.style&&(n.style=s),null==e&&(e=s),d(d(r=n.style["$!"]())?r:n.style["$=="]("header"))?e:l(g,"Inline").$new(n.$parent(),"quoted",e,_(["type"],{type:n.style})).$convert()},t.$$s=this,t.$$arity=1,t))},p.$$arity=0),t.def(e,"$to_s",y=function(){var e,r=y.$$p,n=s,i=s,$=s;for(r&&(y.$$p=null),i=0,$=arguments.length,n=Array($);i<$;i++)n[i]=arguments[i];return""+f(this,t.find_super_dispatcher(this,"to_s",y,!1),n,r).$to_s()+" - [text: "+this.text+", colspan: "+(d(e=this.colspan)?e:1)+", rowspan: "+(d(e=this.rowspan)?e:1)+", attributes: "+this.attributes+"]"},y.$$arity=0),s&&"to_s"}(l(m,"Table"),l(m,"AbstractNode"),m),function(r,i,$){function o(){}r=o=h(r,i,"ParserContext",o);var c,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z=r.$$proto,B=[r].concat($);return z.delimiter=z.delimiter_re=z.buffer=z.cellspecs=z.cell_open=z.format=z.last_cursor=z.table=z.current_row=z.colcount=z.column_visits=z.active_rowspans=z.linenum=s,t.const_set(B[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(B[0],"DELIMITERS",_(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),r.$attr_accessor("table"),r.$attr_accessor("format"),r.$attr_reader("colcount"),r.$attr_accessor("buffer"),r.$attr_reader("delimiter"),r.$attr_reader("delimiter_re"),t.def(r,"$initialize",c=function(e,r,n){var i=s,$=s;return null==n&&(n=_([],{})),this.reader=e,this.table=r,this.last_cursor=e.$cursor(),d(n["$key?"]("format"))?d(l(B,"FORMATS")["$include?"](i=n["$[]"]("format")))?i["$=="]("tsv")?this.format="csv":d((this.format=i)["$=="]("psv")?r.$document()["$nested?"]():(this.format=i)["$=="]("psv"))&&(i="!sv"):(this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": illegal table format: "+i),e=["psv",d(r.$document()["$nested?"]())?"!sv":"psv"],this.format=e[0],i=e[1],e):(e=["psv",d(r.$document()["$nested?"]())?"!sv":"psv"],this.format=e[0],i=e[1],e),d(n["$key?"]("separator"))?d(($=n["$[]"]("separator"))["$nil_or_empty?"]())?(n=l(B,"DELIMITERS")["$[]"](i),e=t.to_ary(n),this.delimiter=null==e[0]?s:e[0],this.delimiter_re=null==e[1]?s:e[1],n):$["$=="]("\\t")?(n=l(B,"DELIMITERS")["$[]"]("tsv"),e=t.to_ary(n),this.delimiter=null==e[0]?s:e[0],this.delimiter_re=null==e[1]?s:e[1],n):(e=[$,new RegExp(u("::","Regexp").$escape($))],this.delimiter=e[0],this.delimiter_re=e[1],e):(n=l(B,"DELIMITERS")["$[]"](i),e=t.to_ary(n),this.delimiter=null==e[0]?s:e[0],this.delimiter_re=null==e[1]?s:e[1],n),this.colcount=d(r.$columns()["$empty?"]())?-1:r.$columns().$size(),this.buffer="",this.cellspecs=[],this.cell_open=!1,this.active_rowspans=[0],this.column_visits=0,this.current_row=[],this.linenum=-1},c.$$arity=-3),t.def(r,"$starts_with_delimiter?",y=function(t){return t["$start_with?"](this.delimiter)},y.$$arity=1),t.def(r,"$match_delimiter",m=function(t){return this.delimiter_re.$match(t)},m.$$arity=1),t.def(r,"$skip_past_delimiter",g=function(t){return this.buffer=""+this.buffer+t.$pre_match()+this.delimiter,t.$post_match()},g.$$arity=1),t.def(r,"$skip_past_escaped_delimiter",v=function(t){return this.buffer=""+this.buffer+t.$pre_match().$chop()+this.delimiter,t.$post_match()},v.$$arity=1),t.def(r,"$buffer_has_unclosed_quotes?",b=function(t){var e,r,n=s,i=s;return null==t&&(t=s),!!d((n=d(t)?a(this.$buffer(),t).$strip():this.$buffer().$strip())["$start_with?"]('"'))&&(d(d(e=d(r=i=n["$end_with?"]('"'))?n["$end_with?"]('""'):r)?e:n["$start_with?"]('""'))?d(e=(n=n.$gsub('""',""))["$start_with?"]('"'))?n["$end_with?"]('"')["$!"]():e:i["$!"]())},b.$$arity=-1),t.def(r,"$take_cellspec",w=function(){return this.cellspecs.$shift()},w.$$arity=0),t.def(r,"$push_cellspec",E=function(t){var e;return null==t&&(t=_([],{})),this.cellspecs["$<<"](d(e=t)?e:_([],{})),s},E.$$arity=-1),t.def(r,"$keep_cell_open",k=function(){return this.cell_open=!0,s},k.$$arity=0),t.def(r,"$mark_cell_closed",x=function(){return this.cell_open=!1,s},x.$$arity=0),t.def(r,"$cell_open?",A=function(){return this.cell_open},A.$$arity=0),t.def(r,"$cell_closed?",O=function(){return this.cell_open["$!"]()},O.$$arity=0),t.def(r,"$close_open_cell",S=function(t){return null==t&&(t=_([],{})),this.$push_cellspec(t),d(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),s},S.$$arity=-1),t.def(r,"$close_cell",R=function(r){try{var i,$,o=s,c=s,h=s,y=s;return null==r&&(r=!1),this.format["$=="]("psv")?(o=!0,c=this.buffer,this.buffer="",d(h=this.$take_cellspec())?y=d(i=h.$delete("repeatcol"))?i:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),h=_([],{}),y=1)):(o=!1,c=this.buffer.$strip(),this.buffer="",h=s,y=1,this.format["$=="]("csv")&&d(d(i=c["$empty?"]()["$!"]())?c["$include?"]('"'):i)&&(d(d(i=c["$start_with?"]('"'))?c["$end_with?"]('"'):i)&&(c=c["$[]"](p(1,-1,!0)).$strip()),c=c.$squeeze('"'))),f(1,"upto",[y],($=function(i){var p,m,g,v,b=$.$$s||this,w=s,E=s,k=s,w=s;return null==b.colcount&&(b.colcount=s),null==b.table&&(b.table=s),null==b.current_row&&(b.current_row=s),null==b.last_cursor&&(b.last_cursor=s),null==b.reader&&(b.reader=s),null==b.column_visits&&(b.column_visits=s),null==b.linenum&&(b.linenum=s),null==i&&(i=s),b.colcount["$=="](-1)?(b.table.$columns()["$<<"](w=u(l(B,"Table"),"Column").$new(b.table,n(a(b.table.$columns().$size(),i),1))),d(d(p=d(m=h)?h["$key?"]("colspan"):m)?e(E=n(h["$[]"]("colspan").$to_i(),1),0):p)&&(k=b.table.$columns().$size(),f(E,"times",[],(g=function(t){var e=g.$$s||this;return null==e.table&&(e.table=s),null==t&&(t=s),e.table.$columns()["$<<"](u(l(B,"Table"),"Column").$new(e.table,a(k,t)))},g.$$s=b,g.$$arity=1,g)))):d(w=b.table.$columns()["$[]"](b.current_row.$size()))||(b.$warn("asciidoctor: ERROR: "+b.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),t.ret(s)),w=u(l(B,"Table"),"Cell").$new(w,c,h,_(["cursor","strip_text"],{cursor:b.last_cursor,strip_text:o})),b.last_cursor=b.reader.$cursor(),d(d(p=w.$rowspan()["$!"]())?p:w.$rowspan()["$=="](1))||b.$activate_rowspan(w.$rowspan(),d(p=w.$colspan())?p:1),b.column_visits=a(b.column_visits,d(p=w.$colspan())?p:1),b.current_row["$<<"](w),d(d(p=b["$end_of_row?"]())?d(m=d(v=b.colcount["$!="](-1))?v:e(b.linenum,0))?m:d(v=r)?i["$=="](y):v:p)?b.$close_row():s},$.$$s=this,$.$$arity=1,$)),this.cell_open=!1,s}catch(e){if(e===t.returner)return e.$v;throw e}},R.$$arity=-1),t.def(r,"$close_row",I=function(){var e,r=s;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),d(e=this.active_rowspans["$[]"](0))?e:(r=[0,0],f(this.active_rowspans,"[]=",t.to_a(r)),r[n(r.length,1)]),s},I.$$arity=0),t.def(r,"$activate_rowspan",T=function(e,r){var i;return f(1..$upto(n(e,1)),"each",[],(i=function(e){var $,o=i.$$s||this,u=s;return null==o.active_rowspans&&(o.active_rowspans=s),null==e&&(e=s),u=[e,a(d($=o.active_rowspans["$[]"](e))?$:0,r)],f(o.active_rowspans,"[]=",t.to_a(u)),u[n(u.length,1)]},i.$$s=this,i.$$arity=1,i)),s},T.$$arity=2),t.def(r,"$end_of_row?",M=function(){var t;return d(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},M.$$arity=0),t.def(r,"$effective_column_visits",C=function(){return a(this.column_visits,this.active_rowspans["$[]"](0))},C.$$arity=0),t.def(r,"$advance",N=function(){return this.linenum=a(this.linenum,1)},N.$$arity=0),s&&"advance"}(l(m,"Table"),null,m)}(o[0],o)},Opal.modules["asciidoctor/converter/composite"]=function(t){var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=t.module,a=t.klass,o=t.send,s=t.truthy,u=t.hash2;return t.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" ")),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,n,i){function $(){}e=$=a(e,n,"CompositeConverter",$);var l=e.$$proto;[e].concat(i);var c,h,f,d;return l.converter_map=l.converters=r,e.$attr_reader("converters"),t.def(e,"$initialize",c=function(t,e){var n,i,$=arguments.length;i=$-1,0>i&&(i=0),i=Array(i);for(var a=1;a<$;a++)i[a-1]=arguments[a];return this.backend=t,o(this.converters=i.$flatten().$compact(),"each",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=r),s(t["$respond_to?"]("composed"))?t.$composed(e):r},n.$$s=this,n.$$arity=1,n)),this.converter_map=u([],{})},c.$$arity=-2),t.def(e,"$convert",h=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=u([],{})),e=s(i=e)?i:t.$node_name(),this.$converter_for(e).$convert(t,e,n)},h.$$arity=-2),t.alias(e,"convert_with_options","convert"),t.def(e,"$converter_for",f=function(e){var n;return n=r,s(n=this.converter_map["$[]"](e))?e=n:(n=[e,this.$find_converter(e)],o(this.converter_map,"[]=",t.to_a(n)),e=n,n=n.length,n="number"==typeof n?n-1:n["$-"](1),e=e[n]),e},f.$$arity=1),t.def(e,"$find_converter",d=function(e){try{var n;return o(this.converters,"each",[],(n=function(n){return null==n&&(n=r),s(n["$handles?"](e))?void t.ret(n):r},n.$$s=this,n.$$arity=1,n)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},d.$$arity=1),r&&"find_converter"}(i(c,"Converter"),n(i(c,"Converter"),"Base"),c)}(e[0],e)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=[],u=t.nil,l=t.const_get_qualified,c=t.const_get_relative,h=t.module,f=t.klass,d=t.send,_=t.hash2,p=t.truthy,y=t.range;return t.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $read_svg_contents $alt $image_uri $encode_quotes $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $attributes $catalog $xreftext $target $join $map $chop $read_contents $sub $match $length".split(" ")),function(s,m){var g=[h(s,"Asciidoctor")].concat(m);!function(s,h,m){function g(){}s=g=f(s,h,"Html5Converter",g);var v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V,J,Z,Q,tt,et,rt,nt,it,$t,at,ot=s.$$proto,st=[s].concat(m);return m=u,ot.xml_mode=ot.void_element_slash=ot.stylesheets=ot.xrefstyle=u,m=[["","",!1]],d(t.const_set(st[0],"QUOTE_TAGS",_("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",t.to_a(m)),m[e(m.length,1)],t.const_set(st[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),t.const_set(st[0],"SvgStartTagRx",/^<svg[^>]*>/),t.const_set(st[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/),t.def(s,"$initialize",v=function(t,e){return null==e&&(e=_([],{})),this.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),this.void_element_slash=p(this.xml_mode)?"/":u,this.stylesheets=c(st,"Stylesheets").$instance()},v.$$arity=-2),t.def(s,"$document",b=function e($){var a,o,s,h,f,m=u,g=u,v=u,b=u,w=u,E=u,e=u,k=u,x=e=u,A=u,O=w=x=w=x=e=x=e=e=u,m=m=w=w=x=u,m=this.void_element_slash,g="<br"+m+">";return p((v=$.$attr("asset-uri-scheme","https"))["$empty?"]())||(v=""+v+":"),b=""+v+"//cdnjs.cloudflare.com/ajax/libs",w=p(a=r($.$safe(),l(c(st,"SafeMode"),"SECURE")))?a:$["$attr?"]("linkcss"),E=["<!DOCTYPE html>"],e=p($["$attr?"]("nolang"))?u:' lang="'+$.$attr("lang","en")+'"',E["$<<"]("<html"+(p(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':u)+e+">"),E["$<<"]('<head>\n<meta charset="'+$.$attr("encoding","UTF-8")+'"'+m+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+m+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+m+'>\n<meta name="generator" content="Asciidoctor '+$.$attr("asciidoctor-version")+'"'+m+">"),p($["$attr?"]("app-name"))&&E["$<<"]('<meta name="application-name" content="'+$.$attr("app-name")+'"'+m+">"),p($["$attr?"]("description"))&&E["$<<"]('<meta name="description" content="'+$.$attr("description")+'"'+m+">"),p($["$attr?"]("keywords"))&&E["$<<"]('<meta name="keywords" content="'+$.$attr("keywords")+'"'+m+">"),p($["$attr?"]("authors"))&&E["$<<"]('<meta name="author" content="'+(p((k=$.$attr("authors"))["$include?"]("<"))?k.$gsub(c(st,"XmlSanitizeRx"),""):k)+'"'+m+">"),p($["$attr?"]("copyright"))&&E["$<<"]('<meta name="copyright" content="'+$.$attr("copyright")+'"'+m+">"),p($["$attr?"]("favicon"))&&(p((e=$.$attr("favicon"))["$empty?"]())?(a=["favicon.ico","image/x-icon"],e=a[0],x=a[1],a):x=(A=l("::","File").$extname(e))["$=="](".ico")?"image/x-icon":"image/"+A["$[]"](y(1,-1,!1)),E["$<<"]('<link rel="shortcut icon" type="'+x+'" href="'+e+'">')),E["$<<"]("<title>"+$.$doctitle(_(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),p(c(st,"DEFAULT_STYLESHEET_KEYS")["$include?"]($.$attr("stylesheet")))?(p(e=$.$attr("webfonts"))&&E["$<<"]('<link rel="stylesheet" href="'+v+"//fonts.googleapis.com/css?family="+(p(e["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":e)+'"'+m+">"),p(w)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(c(st,"DEFAULT_STYLESHEET_NAME"),$.$attr("stylesdir",""),!1)+'"'+m+">"):E["$<<"](this.stylesheets.$embed_primary_stylesheet())):p($["$attr?"]("stylesheet"))&&(p(w)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path($.$attr("stylesheet"),$.$attr("stylesdir",""))+'"'+m+">"):E["$<<"]("<style>\n"+$.$read_asset($.$normalize_system_path($.$attr("stylesheet"),$.$attr("stylesdir","")),_(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),p($["$attr?"]("icons","font"))&&(p($["$attr?"]("iconfont-remote"))?E["$<<"]('<link rel="stylesheet" href="'+$.$attr("iconfont-cdn",""+b+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+m+">"):(e=""+$.$attr("iconfont-name","font-awesome")+".css",E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(e,$.$attr("stylesdir",""),!1)+'"'+m+">"))),x=e=$.$attr("source-highlighter"),"coderay"["$==="](x)?$.$attr("coderay-css","class")["$=="]("class")&&(p(w)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),$.$attr("stylesdir",""),!1)+'"'+m+">"):E["$<<"](this.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&$.$attr("pygments-css","class")["$=="]("class")&&(x=$.$attr("pygments-style"),p(w)?E["$<<"]('<link rel="stylesheet" href="'+$.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(x),$.$attr("stylesdir",""),!1)+'"'+m+">"):E["$<<"](this.stylesheets.$embed_pygments_stylesheet(x))),p((w=$.$docinfo())["$empty?"]())||E["$<<"](w),E["$<<"]("</head>"),x=[],p($.$id())&&x["$<<"]('id="'+$.$id()+'"'),p(p(a=p(o=p(s=w=$["$sections?"]())?$["$attr?"]("toc-class"):s)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):a)?x["$<<"]('class="'+$.$doctype()+" "+$.$attr("toc-class")+" toc-"+$.$attr("toc-position","header")+'"'):x["$<<"]('class="'+$.$doctype()+'"'),p($["$attr?"]("max-width"))&&x["$<<"]('style="max-width: '+$.$attr("max-width")+';"'),E["$<<"]("<body "+n(x," ")+">"),p($.$noheader())||(E["$<<"]('<div id="header">'),$.$doctype()["$=="]("manpage")?(E["$<<"]("<h1>"+$.$doctitle()+" Manual Page</h1>"),p(p(a=p(o=w)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):a)&&E["$<<"]('<div id="toc" class="'+$.$attr("toc-class","toc")+'">\n<div id="toctitle">'+$.$attr("toc-title")+"</div>\n"+this.$outline($)+"\n</div>"),E["$<<"]("<h2>"+$.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+$.$attr("manname")+" - "+$.$attr("manpurpose")+"</p>\n</div>")):(p($["$has_header?"]())&&(p($.$notitle())||E["$<<"]("<h1>"+$.$header().$title()+"</h1>"),O=[],p($["$attr?"]("author"))&&(O["$<<"]('<span id="author" class="author">'+$.$attr("author")+"</span>"+g),p($["$attr?"]("email"))&&O["$<<"]('<span id="email" class="email">'+$.$sub_macros($.$attr("email"))+"</span>"+g),p(i(x=$.$attr("authorcount").$to_i(),1))&&d(t.Range.$new(2,x,!1),"each",[],(h=function(t){return null==t&&(t=u),O["$<<"]('<span id="author'+t+'" class="author">'+$.$attr("author_"+t)+"</span>"+g),p($["$attr?"]("email_"+t))?O["$<<"]('<span id="email'+t+'" class="email">'+$.$sub_macros($.$attr("email_"+t))+"</span>"+g):u},h.$$s=this,h.$$arity=1,h))),p($["$attr?"]("revnumber"))&&O["$<<"]('<span id="revnumber">'+(p(a=$.$attr("version-label"))?a:"").$downcase()+" "+$.$attr("revnumber")+(p($["$attr?"]("revdate"))?",":"")+"</span>"),p($["$attr?"]("revdate"))&&O["$<<"]('<span id="revdate">'+$.$attr("revdate")+"</span>"),p($["$attr?"]("revremark"))&&O["$<<"](""+g+'<span id="revremark">'+$.$attr("revremark")+"</span>"),p(O["$empty?"]())||(E["$<<"]('<div class="details">'),E.$concat(O),E["$<<"]("</div>"))),p(p(a=p(o=w)?$["$attr?"]("toc"):o)?$["$attr?"]("toc-placement","auto"):a)&&E["$<<"]('<div id="toc" class="'+$.$attr("toc-class","toc")+'">\n<div id="toctitle">'+$.$attr("toc-title")+"</div>\n"+this.$outline($)+"\n</div>")),E["$<<"]("</div>")),E["$<<"]('<div id="content">\n'+$.$content()+"\n</div>"),p(p(a=$["$footnotes?"]())?$["$attr?"]("nofootnotes")["$!"]():a)&&(E["$<<"]('<div id="footnotes">\n<hr'+m+">"),d($.$footnotes(),"each",[],(f=function(t){return null==t&&(t=u),E["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},f.$$s=this,f.$$arity=1,f)),E["$<<"]("</div>")),p($.$nofooter())||(E["$<<"]('<div id="footer">'),E["$<<"]('<div id="footer-text">'),p($["$attr?"]("revnumber"))&&E["$<<"](""+$.$attr("version-label")+" "+$.$attr("revnumber")+g),p(p(a=$["$attr?"]("last-update-label"))?$["$attr?"]("reproducible")["$!"]():a)&&E["$<<"](""+$.$attr("last-update-label")+" "+$.$attr("docdatetime")),E["$<<"]("</div>"),E["$<<"]("</div>")),p((w=$.$docinfo("footer"))["$empty?"]())||E["$<<"](w),x=e,"highlightjs"["$==="](x)||"highlight.js"["$==="](x)?(w=$.$attr("highlightjsdir",""+b+"/highlight.js/9.12.0"),E["$<<"]('<link rel="stylesheet" href="'+w+"/styles/"+$.$attr("highlightjs-theme","github")+'.min.css"'+m+">"),E["$<<"]('<script src="'+w+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](x)&&(w=$.$attr("prettifydir",""+b+"/prettify/r298"),E["$<<"]('<link rel="stylesheet" href="'+w+"/"+$.$attr("prettify-theme","prettify")+'.min.css"'+m+">"),E["$<<"]('<script src="'+w+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),p($["$attr?"]("stem"))&&(m=$.$attr("eqnums","none"),p(m["$empty?"]())&&(m="AMS"),m=' equationNumbers: { autoNumber: "'+m+'" } ',E["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+c(st,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+c(st,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+c(st,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+m+'}\n});\n</script>\n<script src="'+b+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),E["$<<"]("</body>"),E["$<<"]("</html>"),n(E,c(st,"LF"))},b.$$arity=1),t.def(s,"$embedded",w=function(t){var e,r,i,$,a=u,o=u,s=u,a=[];return t.$doctype()["$=="]("manpage")?(p(t.$notitle())||(o=p(t.$id())?' id="'+t.$id()+'"':u,a["$<<"]("<h1"+o+">"+t.$doctitle()+" Manual Page</h1>")),a["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):p(p(e=t["$has_header?"]())?t.$notitle()["$!"]():e)&&(o=p(t.$id())?' id="'+t.$id()+'"':u,a["$<<"]("<h1"+o+">"+t.$header().$title()+"</h1>")),p(p(e=p(r=p(i=t["$sections?"]())?t["$attr?"]("toc"):i)?(s=t.$attr("toc-placement"))["$!="]("macro"):r)?s["$!="]("preamble"):e)&&a["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),a["$<<"](t.$content()),p(p(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(a["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),d(t.$footnotes(),"each",[],($=function(t){return null==t&&(t=u),a["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")},$.$$s=this,$.$$arity=1,$)),a["$<<"]("</div>")),n(a,c(st,"LF"))},w.$$arity=1),t.def(s,"$outline",E=function(t,e){var r,i,o=u,s=u,l=u,h=u;return null==e&&(e=_([],{})),p(t["$sections?"]())?(o=p(r=e["$[]"]("sectnumlevels"))?r:t.$document().$attr("sectnumlevels",3).$to_i(),s=p(r=e["$[]"]("toclevels"))?r:t.$document().$attr("toclevels",2).$to_i(),l=t.$sections(),h=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'],d(l,"each",[],(i=function(t){var e,r=i.$$s||this,n=u,l=u,c=u;return null==t&&(t=u),n=t.$level(),l=p(t.$caption())?t.$captioned_title():p(p(e=t.$numbered())?$(n,o):e)?""+t.$sectnum()+" "+t.$title():t.$title(),p(p(e=a(n,s))?c=r.$outline(t,_(["toclevels","secnumlevels"],{toclevels:s,secnumlevels:o})):e)?(h["$<<"]('<li><a href="#'+t.$id()+'">'+l+"</a>"),h["$<<"](c),h["$<<"]("</li>")):h["$<<"]('<li><a href="#'+t.$id()+'">'+l+"</a></li>")},i.$$s=this,i.$$arity=1,i)),h["$<<"]("</ul>"),n(h,c(st,"LF"))):u},E.$$arity=-2),t.def(s,"$section",k=function(t){var e,r,n=u,i=u,a=u,s=u,l=u,c=u,h=u,f=u,d=h=u,f=u,n=t.$level(),i="h"+o(n,1),a=s=l=c=u;return p(t.$id())&&(a=' id="'+(h=t.$id())+'"',p((f=t.$document())["$attr?"]("sectanchors"))&&(s='<a class="anchor" href="#'+h+'"></a>'),p(f["$attr?"]("sectlinks"))&&(l='<a class="link" href="#'+h+'">',c="</a>")),n["$=="](0)?"<h1"+a+' class="sect0">'+s+l+t.$title()+c+"</h1>\n"+t.$content():(h=p(d=t.$role())?' class="sect'+n+" "+d+'"':' class="sect'+n+'"',f=p(p(e=p(r=t.$numbered())?t.$caption()["$!"]():r)?$(n,t.$document().$attr("sectnumlevels",3).$to_i()):e)?""+t.$sectnum()+" ":u,"<div"+h+">\n<"+i+a+">"+s+l+f+t.$captioned_title()+c+"</"+i+">\n"+(n["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>")},k.$$arity=1),t.def(s,"$admonition",x=function(t){var e,r=u,n=u,i=u,$=u,a=u,r=p(t.$id())?' id="'+t.$id()+'"':u,n=t.$attr("name"),i=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,$=p(t.$document()["$attr?"]("icons"))?p(p(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>";return"<div"+r+' class="admonitionblock '+n+(p(e=a=t.$role())?" "+a:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},x.$$arity=1),t.def(s,"$audio",A=function(t){var e,r=u,i=u,$=u,a=$=u,o=u,s=u,o=u,r=this.xml_mode,i=p(t.$id())?' id="'+t.$id()+'"':u,$=["audioblock",t.$role()].$compact(),$=' class="'+n($," ")+'"',a=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,o=t.$attr("start",u,!1),s=t.$attr("end",u,!1),o=p(p(e=o)?e:s)?"#t="+o+(p(s)?",":u)+s:u;return"<div"+i+$+">\n"+a+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+o+'"'+(p(t["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",r):u)+(p(t["$option?"]("nocontrols"))?u:this.$append_boolean_attribute("controls",r))+(p(t["$option?"]("loop"))?this.$append_boolean_attribute("loop",r):u)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},A.$$arity=1),t.def(s,"$colist",O=function(t){var e,r,i=u,$=u,a=u,s=a=u,l=u,i=[],$=p(t.$id())?' id="'+t.$id()+'"':u,a=["colist",t.$style(),t.$role()].$compact(),a=' class="'+n(a," ")+'"';return i["$<<"]("<div"+$+a+">"),p(t["$title?"]())&&i["$<<"]('<div class="title">'+t.$title()+"</div>"),p(t.$document()["$attr?"]("icons"))?(i["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],s=e[0],l=e[1],d(t.$items(),"each",[],(r=function(e){var n=r.$$s||this,$=u;return null==n.void_element_slash&&(n.void_element_slash=u),null==e&&(e=u),l=o(l,1),$=p(s)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+t.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+n.void_element_slash+">",i["$<<"]("<tr>\n<td>"+$+"</td>\n<td>"+e.$text()+(p(e["$blocks?"]())?o(c(st,"LF"),e.$content()):"")+"</td>\n</tr>")},r.$$s=this,r.$$arity=1,r)),i["$<<"]("</table>")):(i["$<<"]("<ol>"),d(t.$items(),"each",[],(e=function(t){return null==t&&(t=u),i["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(p(t["$blocks?"]())?o(c(st,"LF"),t.$content()):"")+"\n</li>")},e.$$s=this,e.$$arity=1,e)),i["$<<"]("</ol>")),i["$<<"]("</div>"),n(i,c(st,"LF"))},O.$$arity=1),t.def(s,"$dlist",S=function(e){var r,i,$,a,o=u,s=u,l=u,h=l=l=u,f=s=u,o=[],s=p(e.$id())?' id="'+e.$id()+'"':u,l=e.$style(),l=("qanda"["$==="](l)?["qlist","qanda",e.$role()]:"horizontal"["$==="](l)?["hdlist",e.$role()]:["dlist",e.$style(),e.$role()]).$compact(),l=' class="'+n(l," ")+'"';return o["$<<"]("<div"+s+l+">"),p(e["$title?"]())&&o["$<<"]('<div class="title">'+e.$title()+"</div>"),l=e.$style(),"qanda"["$==="](l)?(o["$<<"]("<ol>"),d(e.$items(),"each",[],(r=function(e,n){var i,$=r.$$s||this;return null==e&&(e=u),null==n&&(n=u),o["$<<"]("<li>"),d([].concat(t.to_a(e)),"each",[],(i=function(t){return null==t&&(t=u),o["$<<"]("<p><em>"+t.$text()+"</em></p>")},i.$$s=$,i.$$arity=1,i)),p(n)&&(p(n["$text?"]())&&o["$<<"]("<p>"+n.$text()+"</p>"),p(n["$blocks?"]())&&o["$<<"](n.$content())),o["$<<"]("</li>")},r.$$s=this,r.$$arity=2,r)),o["$<<"]("</ol>")):"horizontal"["$==="](l)?(h=this.void_element_slash,o["$<<"]("<table>"),p(p(i=e["$attr?"]("labelwidth"))?i:e["$attr?"]("itemwidth"))&&(o["$<<"]("<colgroup>"),s=p(e["$attr?"]("labelwidth"))?' style="width: '+e.$attr("labelwidth").$chomp("%")+'%;"':u,o["$<<"]("<col"+s+h+">"),s=p(e["$attr?"]("itemwidth"))?' style="width: '+e.$attr("itemwidth").$chomp("%")+'%;"':u,o["$<<"]("<col"+s+h+">"),o["$<<"]("</colgroup>")),d(e.$items(),"each",[],($=function(r,n){var i,a=$.$$s||this,s=u,l=u;return null==r&&(r=u),null==n&&(n=u),o["$<<"]("<tr>"),o["$<<"]('<td class="hdlist1'+(p(e["$option?"]("strong"))?" strong":u)+'">'),s=[].concat(t.to_a(r)),l=s["$[]"](-1),d(s,"each",[],(i=function(t){return null==t&&(t=u),o["$<<"](t.$text()),p(t["$!="](l))?o["$<<"]("<br"+h+">"):u},i.$$s=a,i.$$arity=1,i)),o["$<<"]("</td>"),o["$<<"]('<td class="hdlist2">'),p(n)&&(p(n["$text?"]())&&o["$<<"]("<p>"+n.$text()+"</p>"),p(n["$blocks?"]())&&o["$<<"](n.$content())),o["$<<"]("</td>"),o["$<<"]("</tr>")},$.$$s=this,$.$$arity=2,$)),o["$<<"]("</table>")):(o["$<<"]("<dl>"),f=p(e.$style())?u:' class="hdlist1"',d(e.$items(),"each",[],(a=function(e,r){var n,i=a.$$s||this;return null==e&&(e=u),null==r&&(r=u),d([].concat(t.to_a(e)),"each",[],(n=function(t){return null==t&&(t=u),o["$<<"]("<dt"+f+">"+t.$text()+"</dt>")},n.$$s=i,n.$$arity=1,n)),p(r)?(o["$<<"]("<dd>"),p(r["$text?"]())&&o["$<<"]("<p>"+r.$text()+"</p>"),p(r["$blocks?"]())&&o["$<<"](r.$content()),o["$<<"]("</dd>")):u},a.$$s=this,a.$$arity=2,a)),o["$<<"]("</dl>")),o["$<<"]("</div>"),
n(o,c(st,"LF"))},S.$$arity=1),t.def(s,"$example",R=function(t){var e,r=u,n=u,i=u,r=p(t.$id())?' id="'+t.$id()+'"':u,n=p(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u;return"<div"+r+' class="exampleblock'+(p(e=i=t.$role())?" "+i:e)+'">\n'+n+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},R.$$arity=1),t.def(s,"$floating_title",I=function(t){var e=u,r=u,i=u,e="h"+o(t.$level(),1),r=p(t.$id())?' id="'+t.$id()+'"':u,i=[t.$style(),t.$role()].$compact();return"<"+e+r+' class="'+n(i," ")+'">'+t.$title()+"</"+e+">"},I.$$arity=1),t.def(s,"$image",T=function(t){var e,r,i,$=u,o=u,s=u,h=u,f=u,d=u,_=u,y=u,m=u,_=s=s=o=o=$=u,$=t.$attr("target"),o=p(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':u,s=p(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':u;return p(p(e=p(r=p(i=t["$attr?"]("format","svg",!1))?i:$["$include?"](".svg"))?a(t.$document().$safe(),l(c(st,"SafeMode"),"SECURE")):r)?p(r=h=t["$option?"]("inline"))?r:f=t["$option?"]("interactive"):e)&&(p(h)?d=p(e=this.$read_svg_contents(t,$))?e:'<span class="alt">'+t.$alt()+"</span>":p(f)&&(_=p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+this.$encode_quotes(t.$alt())+'"'+o+s+this.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",d='<object type="image/svg+xml" data="'+t.$image_uri($)+'"'+o+s+">"+_+"</object>")),d=p(e=d)?e:'<img src="'+t.$image_uri($)+'" alt="'+this.$encode_quotes(t.$alt())+'"'+o+s+this.void_element_slash+">",p(t["$attr?"]("link"))&&(p(t["$attr?"]("window"))&&(y=' target="'+(m=t.$attr("window"))+'"'+(p(p(e=m["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),d='<a class="image" href="'+t.$attr("link")+'"'+y+">"+d+"</a>"),$=p(t.$id())?' id="'+t.$id()+'"':u,o=["imageblock",t.$role()].$compact(),o=' class="'+n(o," ")+'"',s=[],p(t["$attr?"]("align"))&&s["$<<"]("text-align: "+t.$attr("align")),p(t["$attr?"]("float"))&&s["$<<"]("float: "+t.$attr("float")),s=p(s["$empty?"]())?u:' style="'+n(s,";")+'"',_=p(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":u,"<div"+$+o+s+'>\n<div class="content">\n'+d+"\n</div>"+_+"\n</div>"},T.$$arity=1),t.def(s,"$listing",M=function(t){var e,r=u,n=u,i=u,$=u,a=$=r=i=r=u,o=u,r=p(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap");return t.$style()["$=="]("source")?(i=p(n=t.$attr("language",u,!1))?' data-lang="'+n+'"':u,$=t.$document().$attr("source-highlighter"),"coderay"["$==="]($)?r=' class="CodeRay highlight'+(p(r)?" nowrap":u)+'"':"pygments"["$==="]($)?r=' class="pygments highlight'+(p(r)?" nowrap":u)+'"':"highlightjs"["$==="]($)||"highlight.js"["$==="]($)?(r=' class="highlightjs highlight'+(p(r)?" nowrap":u)+'"',p(n)&&(i=' class="language-'+n+' hljs"'+i)):"prettify"["$==="]($)?(r=' class="prettyprint highlight'+(p(r)?" nowrap":u)+(p(t["$attr?"]("linenums",u,!1))?" linenums":u)+'"',p(n)&&(i=' class="language-'+n+'"'+i)):"html-pipeline"["$==="]($)?(r=p(n)?' lang="'+n+'"':u,i=u):(r=' class="highlight'+(p(r)?" nowrap":u)+'"',p(n)&&(i=' class="language-'+n+'"'+i)),i="<pre"+r+"><code"+i+">",r="</code></pre>"):(i="<pre"+(p(r)?' class="nowrap"':u)+">",r="</pre>"),$=p(t.$id())?' id="'+t.$id()+'"':u,a=p(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":u,"<div"+$+' class="listingblock'+(p(e=o=t.$role())?" "+o:e)+'">\n'+a+'<div class="content">\n'+i+t.$content()+r+"\n</div>\n</div>"},M.$$arity=1),t.def(s,"$literal",C=function(t){var e,r=u,n=u,i=u,$=u,r=p(t.$id())?' id="'+t.$id()+'"':u,n=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,i=p(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap");return"<div"+r+' class="literalblock'+(p(e=$=t.$role())?" "+$:e)+'">\n'+n+'<div class="content">\n<pre'+(p(i)?' class="nowrap"':u)+">"+t.$content()+"</pre>\n</div>\n</div>"},C.$$arity=1),t.def(s,"$stem",N=function(e){var r,n,i=u,$=u,a=u,o=u,s=u,l=u,i=p(e.$id())?' id="'+e.$id()+'"':u,$=p(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":u;return n=c(st,"BLOCK_MATH_DELIMITERS")["$[]"](e.$style().$to_sym()),r=t.to_ary(n),a=null==r[0]?u:r[0],o=null==r[1]?u:r[1],p(p(r=(s=e.$content())["$start_with?"](a))?s["$end_with?"](o):r)||(s=""+a+s+o),"<div"+i+' class="stemblock'+(p(r=l=e.$role())?" "+l:r)+'">\n'+$+'<div class="content">\n'+s+"\n</div>\n</div>"},N.$$arity=1),t.def(s,"$olist",z=function(t){var e,r=u,i=u,$=u,a=i=$=u,o=$=u,r=[],i=p(t.$id())?' id="'+t.$id()+'"':u,$=["olist",t.$style(),t.$role()].$compact(),$=' class="'+n($," ")+'"';return r["$<<"]("<div"+i+$+">"),p(t["$title?"]())&&r["$<<"]('<div class="title">'+t.$title()+"</div>"),i=p(a=t.$list_marker_keyword())?' type="'+a+'"':u,$=p(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':u,o=p(t["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):u,r["$<<"]('<ol class="'+t.$style()+'"'+i+$+o+">"),d(t.$items(),"each",[],(e=function(t){return null==t&&(t=u),r["$<<"]("<li>"),r["$<<"]("<p>"+t.$text()+"</p>"),p(t["$blocks?"]())&&r["$<<"](t.$content()),r["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e)),r["$<<"]("</ol>"),r["$<<"]("</div>"),n(r,c(st,"LF"))},z.$$arity=1),t.def(s,"$open",B=function(t){var e,r,n,$=u,a=u,o=u,s=u;return($=t.$style())["$=="]("abstract")?p((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(a=p(t.$id())?' id="'+t.$id()+'"':u,o=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,"<div"+a+' class="quoteblock abstract'+(p(e=s=t.$role())?" "+s:e)+'">\n'+o+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):p((e=$["$=="]("partintro"))?p(r=p(n=i(t.$level(),0))?n:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(a=p(t.$id())?' id="'+t.$id()+'"':u,o=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u,"<div"+a+' class="openblock'+(p(p(e=$)?$["$!="]("open"):e)?" "+$:"")+(p(e=s=t.$role())?" "+s:e)+'">\n'+o+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},B.$$arity=1),t.def(s,"$page_break",D=function(t){return'<div style="page-break-after: always;"></div>'},D.$$arity=1),t.def(s,"$paragraph",F=function(t){var e=u,e=u,e=p(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',e=p(t.$id())?'id="'+t.$id()+'" '+e:e;return p(t["$title?"]())?"<div "+e+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+e+">\n<p>"+t.$content()+"</p>\n</div>"},F.$$arity=1),t.def(s,"$preamble",L=function(t){var e,r,n=u,i=u,i=p(p(e=p(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>":u;return'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},L.$$arity=1),t.def(s,"$quote",P=function(t){var e,r=u,i=u,$=i=u,a=u,o=u,s=u,s=a=u,r=p(t.$id())?' id="'+t.$id()+'"':u,i=["quoteblock",t.$role()].$compact(),i=' class="'+n(i," ")+'"',$=p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u,a=p(t["$attr?"]("attribution"))?t.$attr("attribution"):u,o=p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u;return p(p(e=a)?e:o)?(s=p(o)?"<cite>"+o+"</cite>":u,a=p(a)?"&#8212; "+a+(p(o)?"<br"+this.void_element_slash+">\n":u):u,s='\n<div class="attribution">\n'+a+s+"\n</div>"):s=u,"<div"+r+i+">"+$+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+s+"\n</div>"},P.$$arity=1),t.def(s,"$thematic_break",q=function(t){return"<hr"+this.void_element_slash+">"},q.$$arity=1),t.def(s,"$sidebar",j=function(t){var e,r=u,n=u,i=u,r=p(t.$id())?' id="'+t.$id()+'"':u,n=p(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":u;return"<div"+r+' class="sidebarblock'+(p(e=i=t.$role())?" "+i:e)+'">\n<div class="content">\n'+n+t.$content()+"\n</div>\n</div>"},j.$$arity=1),t.def(s,"$table",U=function(t){var e,r,$,a,o=u,s=u,l=u,h=u,f=u,_=h=l=u,y=u,o=[],s=p(t.$id())?' id="'+t.$id()+'"':u,l=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],h=[];return p(p(e=t["$option?"]("autowidth"))?t["$attr?"]("width",u,!1)["$!"]():e)||(p(t["$attr?"]("tablepcwidth",100))?l["$<<"]("spread"):h["$<<"]("width: "+t.$attr("tablepcwidth")+"%;")),p(f=t.$role())&&l["$<<"](f),l=' class="'+n(l," ")+'"',p(t["$attr?"]("float"))&&h["$<<"]("float: "+t.$attr("float")+";"),h=p(h["$empty?"]())?u:' style="'+n(h," ")+'"',o["$<<"]("<table"+s+l+h+">"),p(t["$title?"]())&&o["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),p(i(t.$attr("rowcount"),0))&&(_=this.void_element_slash,o["$<<"]("<colgroup>"),p(t["$option?"]("autowidth"))?(y="<col"+_+">",d(t.$columns().$size(),"times",[],(r=function(){return o["$<<"](y)},r.$$s=this,r.$$arity=0,r))):d(t.$columns(),"each",[],($=function(t){return null==t&&(t=u),o["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+_+">")},$.$$s=this,$.$$arity=1,$)),o["$<<"]("</colgroup>"),d(t.$rows().$by_section(),"each",[],(a=function(e,r){var i,$=a.$$s||this;return null==e&&(e=u),null==r&&(r=u),p(r["$empty?"]())?u:(o["$<<"]("<t"+e+">"),d(r,"each",[],(i=function(r){var $,a=i.$$s||this;return null==r&&(r=u),o["$<<"]("<tr>"),d(r,"each",[],($=function r(i){var $,r=u,a=u,s=a=u,l=u,c=u,h=u;return null==i&&(i=u),e["$=="]("head")?r=i.$text():(a=i.$style(),r="asciidoc"["$==="](a)?"<div>"+i.$content()+"</div>":"verse"["$==="](a)?'<div class="verse">'+i.$text()+"</div>":"literal"["$==="](a)?'<div class="literal"><pre>'+i.$text()+"</pre></div>":p((r=i.$content())["$empty?"]())?"":'<p class="tableblock">'+n(r,'</p>\n<p class="tableblock">')+"</p>"),a=p(p($=e["$=="]("head"))?$:i.$style()["$=="]("header"))?"th":"td",s=' class="tableblock halign-'+i.$attr("halign")+" valign-"+i.$attr("valign")+'"',l=p(i.$colspan())?' colspan="'+i.$colspan()+'"':u,c=p(i.$rowspan())?' rowspan="'+i.$rowspan()+'"':u,h=p(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':u,o["$<<"]("<"+a+s+l+c+h+">"+r+"</"+a+">")},$.$$s=a,$.$$arity=1,$)),o["$<<"]("</tr>")},i.$$s=$,i.$$arity=1,i)),o["$<<"]("</t"+e+">"))},a.$$s=this,a.$$arity=2,a))),o["$<<"]("</table>"),n(o,c(st,"LF"))},U.$$arity=1),t.def(s,"$toc",H=function(t){var e,r,n=u,i=u,$=u,a=u,o=u,s=u;return p(p(e=p(r=(n=t.$document())["$attr?"]("toc-placement","macro"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?(p(t.$id())?(i=' id="'+t.$id()+'"',$=' id="'+t.$id()+'title"'):(i=' id="toc"',$=' id="toctitle"'),a=p(t["$title?"]())?t.$title():n.$attr("toc-title"),o=p(t["$attr?"]("levels"))?t.$attr("levels").$to_i():u,s=p(t["$role?"]())?t.$role():n.$attr("toc-class","toc"),"<div"+i+' class="'+s+'">\n<div'+$+' class="title">'+a+"</div>\n"+this.$outline(n,_(["toclevels"],{toclevels:o}))+"\n</div>"):"<!-- toc disabled -->"},H.$$arity=1),t.def(s,"$ulist",G=function(t){var e,r=u,i=u,$=u,a=u,o=u,s=u,l=u,r=[],i=p(t.$id())?' id="'+t.$id()+'"':u,$=["ulist",t.$style(),t.$role()].$compact(),o=a=u;return p(s=t["$option?"]("checklist"))?($.$unshift($.$shift(),"checklist"),l=' class="checklist"',p(t["$option?"]("interactive"))?p(this.xml_mode)?(a='<input type="checkbox" data-item-complete="1" checked="checked"/> ',o='<input type="checkbox" data-item-complete="0"/> '):(a='<input type="checkbox" data-item-complete="1" checked> ',o='<input type="checkbox" data-item-complete="0"> '):p(t.$document()["$attr?"]("icons","font"))?(a='<i class="fa fa-check-square-o"></i> ',o='<i class="fa fa-square-o"></i> '):(a="&#10003; ",o="&#10063; ")):l=p(t.$style())?' class="'+t.$style()+'"':u,r["$<<"]("<div"+i+' class="'+n($," ")+'">'),p(t["$title?"]())&&r["$<<"]('<div class="title">'+t.$title()+"</div>"),r["$<<"]("<ul"+l+">"),d(t.$items(),"each",[],(e=function t(e){var t;return null==e&&(e=u),r["$<<"]("<li>"),p(p(t=s)?e["$attr?"]("checkbox"):t)?r["$<<"]("<p>"+(p(e["$attr?"]("checked"))?a:o)+e.$text()+"</p>"):r["$<<"]("<p>"+e.$text()+"</p>"),p(e["$blocks?"]())&&r["$<<"](e.$content()),r["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e)),r["$<<"]("</ul>"),r["$<<"]("</div>"),n(r,c(st,"LF"))},G.$$arity=1),t.def(s,"$verse",Y=function(t){var e,r=u,i=u,$=i=u,a=u,o=u,s=u,s=a=u,r=p(t.$id())?' id="'+t.$id()+'"':u,i=["verseblock",t.$role()].$compact(),i=' class="'+n(i," ")+'"',$=p(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":u,a=p(t["$attr?"]("attribution"))?t.$attr("attribution"):u,o=p(t["$attr?"]("citetitle"))?t.$attr("citetitle"):u;return p(p(e=a)?e:o)?(s=p(o)?"<cite>"+o+"</cite>":u,a=p(a)?"&#8212; "+a+(p(o)?"<br"+this.void_element_slash+">\n":u):u,s='\n<div class="attribution">\n'+a+s+"\n</div>"):s=u,"<div"+r+i+">"+$+'\n<pre class="content">'+t.$content()+"</pre>"+s+"\n</div>"},Y.$$arity=1),t.def(s,"$video",W=function(e){var r,i,$=this,a=u,o=u,s=u,l=u,c=u,h=u,f=u,d=u,_=u,y=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u,x=u,A=u,O=u,S=u,R=u,I=u,T=u,M=u,C=u,N=u,z=u,B=u,D=u,F=u,L=u,a=$.xml_mode,o=p(e.$id())?' id="'+e.$id()+'"':u,s=["videoblock",e.$role()].$compact(),l=' class="'+n(s," ")+'"',c=p(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":u,h=p(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':u,f=p(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':u;return function(){return d=e.$attr("poster"),"vimeo"["$==="](d)?(p((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_=""+_+":"),y=p(e["$attr?"]("start",u,!1))?"#at="+e.$attr("start"):u,m="?",g=p(e["$option?"]("autoplay"))?""+m+"autoplay=1":u,p(g)&&(m="&amp;"),v=p(e["$option?"]("loop"))?""+m+"loop=1":u,"<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+h+f+' src="'+_+"//player.vimeo.com/video/"+e.$attr("target")+y+g+v+'" frameborder="0"'+(p(e["$option?"]("nofullscreen"))?u:$.$append_boolean_attribute("allowfullscreen",a))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](d)?(p((_=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_=""+_+":"),b=p(e["$option?"]("related"))?1:0,w=p(e["$attr?"]("start",u,!1))?"&amp;start="+e.$attr("start"):u,E=p(e["$attr?"]("end",u,!1))?"&amp;end="+e.$attr("end"):u,g=p(e["$option?"]("autoplay"))?"&amp;autoplay=1":u,v=p(e["$option?"]("loop"))?"&amp;loop=1":u,k=p(e["$option?"]("nocontrols"))?"&amp;controls=0":u,p(e["$option?"]("nofullscreen"))?(x="&amp;fs=0",A=u):(x=u,A=$.$append_boolean_attribute("allowfullscreen",a)),O=p(e["$option?"]("modest"))?"&amp;modestbranding=1":u,S=p(e["$attr?"]("theme",u,!1))?"&amp;theme="+e.$attr("theme"):u,R=p(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):u,i=e.$attr("target").$split("/",2),r=t.to_ary(i),I=null==r[0]?u:r[0],T=null==r[1]?u:r[1],p(T=p(r=T)?r:e.$attr("list",u,!1))?M="&amp;list="+T:(i=I.$split(",",2),r=t.to_ary(i),I=null==r[0]?u:r[0],C=null==r[1]?u:r[1],M=p(C=p(r=C)?r:e.$attr("playlist",u,!1))?"&amp;playlist="+C:p(v)?"&amp;playlist="+I:u),"<div"+o+l+">"+c+'\n<div class="content">\n<iframe'+h+f+' src="'+_+"//www.youtube.com/embed/"+I+"?rel="+b+w+E+g+v+k+M+x+O+S+R+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"):(N=p((z=e.$attr("poster",u,!1))["$nil_or_empty?"]())?u:' poster="'+e.$media_uri(z)+'"',B=p((z=e.$attr("preload",u,!1))["$nil_or_empty?"]())?u:' preload="'+z+'"',D=e.$attr("start",u,!1),F=e.$attr("end",u,!1),L=p(p(r=D)?r:F)?"#t="+D+(p(F)?",":u)+F:u,"<div"+o+l+">"+c+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+L+'"'+h+f+N+(p(e["$option?"]("autoplay"))?$.$append_boolean_attribute("autoplay",a):u)+(p(e["$option?"]("nocontrols"))?u:$.$append_boolean_attribute("controls",a))+(p(e["$option?"]("loop"))?$.$append_boolean_attribute("loop",a):u)+B+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},W.$$arity=1),t.def(s,"$inline_anchor",X=function(t){var e,r,n=this,i=u,$=u,a=u,o=u,s=u,l=u,h=u;return function(){return i=t.$type(),"xref"["$==="](i)?(p(p(e=$=t.$text())?e:$=t.$attributes()["$[]"]("path"))||($=p(c(st,"AbstractNode")["$==="](a=t.$document().$catalog()["$[]"]("refs")["$[]"](o=t.$attributes()["$[]"]("refid"))))&&p(e=a.$xreftext(n.xrefstyle=p(r=n.xrefstyle)?r:t.$document().$attributes()["$[]"]("xrefstyle")))?e:"["+o+"]"),'<a href="'+t.$target()+'">'+$+"</a>"):"ref"["$==="](i)?'<a id="'+t.$id()+'"></a>':"link"["$==="](i)?(s=p(t.$id())?[' id="'+t.$id()+'"']:[],p(l=t.$role())&&s["$<<"](' class="'+l+'"'),p(t["$attr?"]("title",u,!1))&&s["$<<"](' title="'+t.$attr("title")+'"'),p(t["$attr?"]("window",u,!1))&&s["$<<"](' target="'+(h=t.$attr("window"))+'"'+(p(p(e=h["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),'<a href="'+t.$target()+'"'+s.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](i)?'<a id="'+t.$id()+'"></a>'+t.$text():n.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())}()},X.$$arity=1),t.def(s,"$inline_break",K=function(t){return""+t.$text()+"<br"+this.void_element_slash+">"},K.$$arity=1),t.def(s,"$inline_button",V=function(t){return'<b class="button">'+t.$text()+"</b>"},V.$$arity=1),t.def(s,"$inline_callout",J=function(t){var e=u;return p(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":p(t.$document()["$attr?"]("icons"))?(e=t.$icon_uri("callouts/"+t.$text()),'<img src="'+e+'" alt="'+t.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+t.$text()+")</b>"},J.$$arity=1),t.def(s,"$inline_footnote",Z=function(t){var e=u,r=u;return p(e=t.$attr("index",u,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>":(r=p(t.$id())?' id="_footnote_'+t.$id()+'"':u,'<sup class="footnote"'+r+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</sup>"):t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":u},Z.$$arity=1),t.def(s,"$inline_image",Q=function(t){var e,r,n,i,$,o,s=u,h=u,f=u,y=f=u,m=u,g=u,v=u,b=u,w=u,E=u,k=u;return e=u,p((e=(s=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(s=t.$type())["$=="]("icon"))?(h="fa fa-"+t.$target(),d(_(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(r=function(e,r){return null==e&&(e=u),null==r&&(r=u),p(t["$attr?"](e))?h=""+h+" "+r+t.$attr(e):u},r.$$s=this,r.$$arity=2,r)),f=p(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':u,f='<i class="'+h+'"'+f+"></i>"):p((e=s["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():s["$=="]("icon"))?f="["+t.$alt()+"]":(y=t.$target(),m=d(["width","height","title"],"map",[],(n=function(e){return null==e&&(e=u),p(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':u},n.$$s=this,n.$$arity=1,n)).$join(),p(p(e=p(i=p($=s["$!="]("icon"))?p(o=t["$attr?"]("format","svg",!1))?o:y["$include?"](".svg"):$)?a(t.$document().$safe(),l(c(st,"SafeMode"),"SECURE")):i)?p(i=g=t["$option?"]("inline"))?i:v=t["$option?"]("interactive"):e)&&(p(g)?f=p(e=this.$read_svg_contents(t,y))?e:'<span class="alt">'+t.$alt()+"</span>":p(v)&&(b=p(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+this.$encode_quotes(t.$alt())+'"'+m+this.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",f='<object type="image/svg+xml" data="'+t.$image_uri(y)+'"'+m+">"+b+"</object>")),f=p(e=f)?e:'<img src="'+(s["$=="]("icon")?t.$icon_uri(y):t.$image_uri(y))+'" alt="'+this.$encode_quotes(t.$alt())+'"'+m+this.void_element_slash+">"),p(t["$attr?"]("link"))&&(p(t["$attr?"]("window"))&&(w=' target="'+(E=t.$attr("window"))+'"'+(p(p(e=E["$=="]("_blank"))?e:t["$option?"]("noopener"))?' rel="noopener"':"")),f='<a class="image" href="'+t.$attr("link")+'"'+w+">"+f+"</a>"),h=p(k=t.$role())?""+s+" "+k:s,e=p(t["$attr?"]("float"))?' style="float: '+t.$attr("float")+'"':u,'<span class="'+h+'"'+e+">"+f+"</span>"},Q.$$arity=1),t.def(s,"$inline_indexterm",tt=function(t){return t.$type()["$=="]("visible")?t.$text():""},tt.$$arity=1),t.def(s,"$inline_kbd",et=function(t){var e=u;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+n(e,"</kbd>+<kbd>")+"</kbd></span>"},et.$$arity=1),t.def(s,"$inline_menu",rt=function(t){var e=u,r=u,i=u,$=u,a=u,e=p(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',r="</b>"+e+'<b class="submenu">',i=t.$attr("menu");return p(($=t.$attr("submenus"))["$empty?"]())?p(a=t.$attr("menuitem",u,!1))?'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="menuitem">'+a+"</b></span>":'<b class="menuref">'+i+"</b>":'<span class="menuseq"><b class="menu">'+i+"</b>"+e+'<b class="submenu">'+n($,r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},rt.$$arity=1),t.def(s,"$inline_quoted",nt=function(e){var r,n,i=u,$=u;return n=r=u,n=c(st,"QUOTE_TAGS")["$[]"](e.$type()),r=t.to_ary(n),i=null==r[0]?u:r[0],$=null==r[1]?u:r[1],r=null==r[2]?u:r[2],n=p(e.$role())?p(r)?""+i.$chop()+' class="'+e.$role()+'">'+e.$text()+$:'<span class="'+e.$role()+'">'+i+e.$text()+$+"</span>":""+i+e.$text()+$,p(e.$id())?'<a id="'+e.$id()+'"></a>'+n:n},nt.$$arity=1),t.def(s,"$append_boolean_attribute",it=function(t,e){return p(e)?" "+t+'="'+t+'"':" "+t},it.$$arity=2),t.def(s,"$encode_quotes",$t=function(t){return p(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},$t.$$arity=1),t.def(s,"$read_svg_contents",at=function(e,r){var n,i=u,$=u,a=u;return p(i=e.$read_contents(r,_(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(p(i["$start_with?"]("<svg"))||(i=i.$sub(c(st,"SvgPreambleRx"),"")),$=a=u,d(["width","height"],"each",[],(n=function(t){return null==t&&(t=u),p(e["$attr?"](t))?(p(a)||(a=($=i.$match(c(st,"SvgStartTagRx"))["$[]"](0)).$gsub(c(st,"DimensionAttributeRx"),"")),a=""+a.$chop()+" "+t+'="'+e.$attr(t)+'px">'):u},n.$$s=this,n.$$arity=1,n)),p(a)&&(i=""+a+i["$[]"](t.Range.$new($.$length(),-1,!1)))),i},at.$$arity=2),u&&"read_svg_contents"}(c(g,"Converter"),l(c(g,"Converter"),"BuiltIn"),g)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var $=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=t.module,l=t.klass,c=t.truthy,h=t.hash2,f=t.send,d=t.hash;return t.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $== $casecmp $new $title= $sectname= $special= $fetch $numbered= $> $key? $attributes $special $context $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $to_s $split $to_i $compact $inspect $attr_accessor $to_set $! $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $const_defined?".split(" ")),function($,_){var p=[u($,"Asciidoctor")].concat(_);!function($,_){var p=u($,"Extensions"),y=[p].concat(_);!function(i,$,u){function d(){}i=d=l(i,$,"Processor",d);var _,p,y,m,g,v,b,w,E,k=i.$$proto,x=[i].concat(u);return k.config=a,function(r,n){var i,$,o,s=[r].concat(n);return t.def(r,"$config",i=function(){var t;return null==this.config&&(this.config=a),this.config=c(t=this.config)?t:h([],{})},i.$$arity=0),t.def(r,"$option",$=function(r,n){var i=a,i=[r,n];return f(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},$.$$arity=2),t.def(r,"$use_dsl",o=function(){return c(this.$name()["$nil_or_empty?"]())?c((t.Module.$$nesting=s,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):a:c((t.Module.$$nesting=s,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):a},o.$$arity=0),t.alias(r,"extend_dsl","use_dsl"),t.alias(r,"include_dsl","use_dsl")}(t.get_singleton_class(i),x),i.$attr_reader("config"),t.def(i,"$initialize",_=function(t){return null==t&&(t=h([],{})),this.config=this.$class().$config().$merge(t)},_.$$arity=-1),t.def(i,"$update_config",p=function(t){return this.config.$update(t)},p.$$arity=1),t.def(i,"$process",y=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},y.$$arity=-1),t.def(i,"$create_section",m=function i($,o,u,l){var d,_,p=a,y=a,m=a,g=a,v=a,i=a,b=y=a,m=a;return null==l&&(l=h([],{})),p=$.$document(),d=[p.$doctype(),c(_=l["$[]"]("level"))?_:r($.$level(),1)],y=d[0],m=d[1],c(g=u.$delete("style"))?c(g["$=="]("abstract")?y["$=="]("book"):g["$=="]("abstract"))?(d=["chapter",1],v=d[0],m=d[1],d):(d=[g,!0],v=d[0],i=d[1],m["$=="](0)&&(m=1)):y["$=="]("book")?v=m["$=="](0)?"part":m["$=="](1)?"chapter":"section":c(y["$=="]("manpage")?o.$casecmp("synopsis")["$=="](0):y["$=="]("manpage"))?(d=["synopsis",!0],v=d[0],i=d[1],d):v="section",y=s(x,"Section").$new($,m,!1),d=[o,v],y["$title="](d[0]),y["$sectname="](d[1]),c(i)?(b=[!0],f(y,"special=",t.to_a(b)),b[e(b.length,1)],c(l.$fetch("numbered",g["$=="]("appendix")))&&(b=[!0],f(y,"numbered=",t.to_a(b)),b[e(b.length,1)])):c(l.$fetch("numbered",c(d=n(m,0))?p.$attributes()["$key?"]("sectnums"):d))&&(b=[!c(y.$special())||((d=$.$context()["$=="]("section"))?$.$numbered():$.$context()["$=="]("section"))],f(y,"numbered=",t.to_a(b)),b[e(b.length,1)]),(m=u.$delete("id"))["$=="](!1)||(b=[(b=["id",c(d=m)?d:c(p.$attributes()["$key?"]("sectids"))?s(x,"Section").$generate_id(y.$title(),p):a],f(u,"[]=",t.to_a(b)),b[e(b.length,1)])],f(y,"id=",t.to_a(b)),b[e(b.length,1)]),y.$update_attributes(u),y},m.$$arity=-4),t.def(i,"$create_block",g=function(t,e,r,n,i){return null==i&&(i=h([],{})),s(x,"Block").$new(t,e,h(["source","attributes"],{source:r,attributes:n}).$merge(i))},g.$$arity=-5),t.def(i,"$create_image_block",v=function(r,n,i){var $,u=a,l=a;return null==i&&(i=h([],{})),c(u=n["$[]"]("target"))||this.$raise(o("::","ArgumentError"),"Unable to create an image block, target attribute is required"),c($=n["$[]"]("alt"))?$:(l=["alt",(l=["default-alt",s(x,"Helpers").$basename(u,!0).$tr("_-"," ")],f(n,"[]=",t.to_a(l)),l[e(l.length,1)])],f(n,"[]=",t.to_a(l)),l[e(l.length,1)]),this.$create_block(r,"image",a,n,i)},v.$$arity=-3),t.def(i,"$create_inline",b=function(t,e,r,n){return null==n&&(n=h([],{})),s(x,"Inline").$new(t,e,r,n)},b.$$arity=-4),t.def(i,"$parse_content",w=function(t,e,r){var n,i,$=a,o=a;for(null==r&&(r=a),$=c(s(x,"Reader")["$==="](e))?e:s(x,"Reader").$new(e);c(c(n=c(i=o=s(x,"Parser").$next_block($,t,c(r)?r.$dup():h([],{})))?t["$<<"](o):i)?n:$["$has_more_lines?"]()););return t},w.$$arity=-3),f([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(E=function(e,r,n){var i,$=E.$$s||this;return null==e&&(e=a),null==r&&(r=a),null==n&&(n=a),f($,"define_method",[e],(i=function(e){var $,a=i.$$s||this,o=arguments.length;$=o-0,0>$&&($=0),$=Array($);for(var s=0;s<o;s++)$[s-0]=arguments[s];return $.$unshift($.$shift(),n),f(a,"send",[r].concat(t.to_a($)))},i.$$s=$,i.$$arity=-1,i))},E.$$s=i,E.$$arity=3,E))}(y[0],null,y),function(r,n){var i=u(r,"ProcessorDsl");[i].concat(n);var $,s,l;t.def(i,"$option",$=function(r,n){var i=a,i=[r,n];return f(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},$.$$arity=2),t.def(i,"$process",s=function(e){var r,n,i=s.$$p,$=i||a;null==this.process_block&&(this.process_block=a);var u=arguments.length;n=u-0,0>n&&(n=0),n=Array(n);for(var l=0;l<u;l++)n[l-0]=arguments[l];return i&&(s.$$p=null),$!==a?(c(n["$empty?"]())||this.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+n.$size()+", expected 0)"),this.process_block=$):c((r=this.process_block,null!=r&&r!==a?"instance-variable":a))?f(this.process_block,"call",t.to_a(n)):this.$raise(o("::","NotImplementedError"))},s.$$arity=-1),t.def(i,"$process_block_given?",l=function(){var t;return t=this.process_block,null!=t&&t!==a?"instance-variable":a},l.$$arity=0)}(y[0],y),function(r,i){var $,l,d,_,p,y=u(r,"SyntaxDsl"),m=[y].concat(i);y.$include(s(m,"ProcessorDsl")),t.def(y,"$named",$=function(t){return c(s(m,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},$.$$arity=1),t.alias(y,"match_name","named"),t.def(y,"$content_model",l=function(t){return this.$option("content_model",t)},l.$$arity=1),t.alias(y,"parse_content_as","content_model"),t.alias(y,"parses_content_as","content_model"),t.def(y,"$positional_attrs",d=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$option("pos_attrs",e.$flatten())},d.$$arity=-1),t.alias(y,"name_attributes","positional_attrs"),t.alias(y,"name_positional_attributes","positional_attrs"),t.def(y,"$default_attrs",_=function(t){return this.$option("default_attrs",t)},_.$$arity=1),t.def(y,"$resolves_attributes",p=function(r){var i,$,s,u,l=this,d=a,_=a,p=a,y=arguments.length,m=y-0;for(0>m&&(m=0),u=Array(m),m=0;m<y;m++)u[m-0]=arguments[m];return c(n(u.$size(),1))||c((u=u.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(u=[u]),function(){return d=u,(!0)["$==="](d)?(l.$option("pos_attrs",[]),l.$option("default_attrs",h([],{}))):o("::","Array")["$==="](d)?(i=[[],h([],{})],_=i[0],p=i[1],f(u,"each",[],($=function r(n){var i,$=a,o=a,r=a,r=a;return null==n&&(n=a),c((n=n.$to_s())["$include?"]("="))?(i=n.$split("=",2),n=t.to_ary(i),$=null==n[0]?a:n[0],o=null==n[1]?a:n[1],c($["$include?"](":"))&&(i=$.$split(":",2),n=t.to_ary(i),r=null==n[0]?a:n[0],$=null==n[1]?a:n[1],r=r["$=="]("@")?_.$size():r.$to_i(),r=[r,$],f(_,"[]=",t.to_a(r)),r[e(r.length,1)]),r=[$,o],f(p,"[]=",t.to_a(r)),r[e(r.length,1)]):c(n["$include?"](":"))?(i=n.$split(":",2),n=t.to_ary(i),r=null==n[0]?a:n[0],$=null==n[1]?a:n[1],r=r["$=="]("@")?_.$size():r.$to_i(),r=[r,$],f(_,"[]=",t.to_a(r)),r[e(r.length,1)]):_["$<<"](n)},$.$$s=l,$.$$arity=1,$)),l.$option("pos_attrs",_.$compact()),l.$option("default_attrs",p)):o("::","Hash")["$==="](d)?(i=[[],h([],{})],_=i[0],p=i[1],f(u,"each",[],(s=function(r,n){var i,$,o=i=a;return $=a,null==r&&(r=a),null==n&&(n=a),c((i=r.$to_s())["$include?"](":"))&&($=i.$split(":",2),i=t.to_ary($),o=null==i[0]?a:i[0],i=null==i[1]?a:i[1],o=o["$=="]("@")?_.$size():o.$to_i(),$=[o,i],f(_,"[]=",t.to_a($)),$[e($.length,1)]),c(n)?($=[i,n],f(p,"[]=",t.to_a($)),$[e($.length,1)]):a},s.$$s=l,s.$$arity=2,s)),l.$option("pos_attrs",_.$compact()),l.$option("default_attrs",p)):l.$raise(o("::","ArgumentError"),"unsupported attributes specification for macro: "+u.$inspect())}()},p.$$arity=-1),t.alias(y,"resolve_attributes","resolves_attributes")}(y[0],y),function(e,r,n){function i(){}e=i=l(e,r,"Preprocessor",i),[e].concat(n);var $;return t.def(e,"$process",$=function(t,e){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},$.$$arity=2),a&&"process"}(y[0],s(y,"Processor"),y),t.const_set(s(y,"Preprocessor"),"DSL",s(y,"ProcessorDsl")),function(e,r,n){function i(){}e=i=l(e,r,"TreeProcessor",i),[e].concat(n);var $;return t.def(e,"$process",$=function(t){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method");
},$.$$arity=1),a&&"process"}(y[0],s(y,"Processor"),y),t.const_set(s(y,"TreeProcessor"),"DSL",s(y,"ProcessorDsl")),t.const_set(y[0],"Treeprocessor",s(y,"TreeProcessor")),function(e,r,n){function i(){}e=i=l(e,r,"Postprocessor",i),[e].concat(n);var $;return t.def(e,"$process",$=function(t,e){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},$.$$arity=2),a&&"process"}(y[0],s(y,"Processor"),y),t.const_set(s(y,"Postprocessor"),"DSL",s(y,"ProcessorDsl")),function(e,r,n){function i(){}e=i=l(e,r,"IncludeProcessor",i),[e].concat(n);var $,s;return t.def(e,"$process",$=function(t,e,r,n){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},$.$$arity=4),t.def(e,"$handles?",s=function(t){return!0},s.$$arity=1),a&&"handles?"}(y[0],s(y,"Processor"),y),function(e,r){var n,i=u(e,"IncludeProcessorDsl"),$=[i].concat(r);i.$include(s($,"ProcessorDsl")),t.def(i,"$handles?",n=function(t){var e,r,i=n.$$p,$=i||a;null==this.handles_block&&(this.handles_block=a);var s=arguments.length;r=s-0,0>r&&(r=0),r=Array(r);for(var u=0;u<s;u++)r[u-0]=arguments[u];return i&&(n.$$p=null),$!==a?(c(r["$empty?"]())||this.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=$):!c((e=this.handles_block,null!=e&&e!==a?"instance-variable":a))||this.handles_block.$call(r["$[]"](0))},n.$$arity=-1)}(y[0],y),t.const_set(s(y,"IncludeProcessor"),"DSL",s(y,"IncludeProcessorDsl")),function(r,n,i){function $(){}r=$=l(r,n,"DocinfoProcessor",$);var s=r.$$proto;[r].concat(i);var u,d;return s.config=a,r.$attr_accessor("location"),t.def(r,"$initialize",u=function(r){var n,i=u.$$p,$=a;return null==r&&(r=h([],{})),i&&(u.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",u,!1),[r],null),c(n=this.config["$[]"]("location"))?n:($=["location","head"],f(this.config,"[]=",t.to_a($)),$[e($.length,1)])},u.$$arity=-1),t.def(r,"$process",d=function(t){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},d.$$arity=1),a&&"process"}(y[0],s(y,"Processor"),y),function(e,r){var n,i=u(e,"DocinfoProcessorDsl"),$=[i].concat(r);i.$include(s($,"ProcessorDsl")),t.def(i,"$at_location",n=function(t){return this.$option("location",t)},n.$$arity=1)}(y[0],y),t.const_set(s(y,"DocinfoProcessor"),"DSL",s(y,"DocinfoProcessorDsl")),function(r,n,i){function $(){}r=$=l(r,n,"BlockProcessor",$);var s=r.$$proto;[r].concat(i);var u,d;return s.config=a,r.$attr_accessor("name"),t.def(r,"$initialize",u=function(r,n){var i,$=u.$$p,s=a,l=a;return null==r&&(r=a),null==n&&(n=h([],{})),$&&(u.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",u,!1),[n],null),this.name=c(i=r)?i:this.config["$[]"]("name"),s=this.config["$[]"]("contexts"),o("::","NilClass")["$==="](s)?c(i=this.config["$[]"]("contexts"))?i:(l=["contexts",["open","paragraph"].$to_set()],f(this.config,"[]=",t.to_a(l)),l[e(l.length,1)]):(l=o("::","Symbol")["$==="](s)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],f(this.config,"[]=",t.to_a(l)),l[e(l.length,1)]),c(i=this.config["$[]"]("content_model"))?i:(l=["content_model","compound"],f(this.config,"[]=",t.to_a(l)),l[e(l.length,1)])},u.$$arity=-1),t.def(r,"$process",d=function(t,e,r){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},d.$$arity=3),a&&"process"}(y[0],s(y,"Processor"),y),function(e,r){var n,i=u(e,"BlockProcessorDsl"),$=[i].concat(r);i.$include(s($,"SyntaxDsl")),t.def(i,"$contexts",n=function(t){var e,r=arguments.length;e=r-0,0>e&&(e=0),e=Array(e);for(var n=0;n<r;n++)e[n-0]=arguments[n];return this.$option("contexts",e.$flatten().$to_set())},n.$$arity=-1),t.alias(i,"on_contexts","contexts"),t.alias(i,"on_context","contexts"),t.alias(i,"bound_to","contexts")}(y[0],y),t.const_set(s(y,"BlockProcessor"),"DSL",s(y,"BlockProcessorDsl")),function(r,n,i){function $(){}r=$=l(r,n,"MacroProcessor",$);var s=r.$$proto;[r].concat(i);var u,d;return s.config=a,r.$attr_accessor("name"),t.def(r,"$initialize",u=function(r,n){var i,$=u.$$p,o=a;return null==r&&(r=a),null==n&&(n=h([],{})),$&&(u.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",u,!1),[n],null),this.name=c(i=r)?i:this.config["$[]"]("name"),c(i=this.config["$[]"]("content_model"))?i:(o=["content_model","attributes"],f(this.config,"[]=",t.to_a(o)),o[e(o.length,1)])},u.$$arity=-1),t.def(r,"$process",d=function(t,e,r){return this.$raise(o("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},d.$$arity=3),a&&"process"}(y[0],s(y,"Processor"),y),function(e,r){var n,i=u(e,"MacroProcessorDsl"),$=[i].concat(r);i.$include(s($,"SyntaxDsl")),t.def(i,"$resolves_attributes",n=function(e){var r,i=n.$$p,$=a,o=a,s=a,$=arguments.length;for(r=$-0,0>r&&(r=0),r=Array(r),o=0;o<$;o++)r[o-0]=arguments[o];for(i&&(n.$$p=null),o=0,s=arguments.length,$=Array(s);o<s;o++)$[o]=arguments[o];return c(r.$size()["$=="](1)?r["$[]"](0)["$!"]():r.$size()["$=="](1))?(this.$option("content_model","text"),a):(f(this,t.find_super_dispatcher(this,"resolves_attributes",n,!1),$,i),this.$option("content_model","attributes"))},n.$$arity=-1),t.alias(i,"resolve_attributes","resolves_attributes")}(y[0],y),function(t,e,r){function n(){}return[n=l(t,e,"BlockMacroProcessor",n)].concat(r),a}(y[0],s(y,"MacroProcessor"),y),t.const_set(s(y,"BlockMacroProcessor"),"DSL",s(y,"MacroProcessorDsl")),function(r,n,i){function $(){}r=$=l(r,n,"InlineMacroProcessor",$);var u,d,_=r.$$proto,p=[r].concat(i);return _.config=_.name=a,t.class_variable_set($,"@@rx_cache",h([],{})),t.def(r,"$regexp",u=function(){var r,n=a;return c(r=this.config["$[]"]("regexp"))?r:(n=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],f(this.config,"[]=",t.to_a(n)),n[e(n.length,1)])},u.$$arity=0),t.def(r,"$resolve_regexp",d=function(r,n){var i,u,l=a;return c(s(p,"MacroNameRx")["$match?"](r))||this.$raise(o("::","ArgumentError"),"invalid name for inline macro: "+r),c(i=(null==(u=$.$$cvars["@@rx_cache"])?a:u)["$[]"]([r,n]))?i:(l=[[r,n],new RegExp("\\\\?"+r+":"+(n["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],f(null==(u=$.$$cvars["@@rx_cache"])?a:u,"[]=",t.to_a(l)),l[e(l.length,1)])},d.$$arity=2),a&&"resolve_regexp"}(y[0],s(y,"MacroProcessor"),y),function(e,r){var n,i,$=u(e,"InlineMacroProcessorDsl"),a=[$].concat(r);$.$include(s(a,"MacroProcessorDsl")),t.def($,"$with_format",n=function(t){return this.$option("format",t)},n.$$arity=1),t.alias($,"using_format","with_format"),t.def($,"$matches",i=function(t){return this.$option("regexp",t)},i.$$arity=1),t.alias($,"match","matches"),t.alias($,"matching","matches")}(y[0],y),t.const_set(s(y,"InlineMacroProcessor"),"DSL",s(y,"InlineMacroProcessorDsl")),function(e,r,n){function i(){}e=i=l(e,r,"Extension",i),[e].concat(n);var $;return e.$attr_reader("kind"),e.$attr_reader("config"),e.$attr_reader("instance"),t.def(e,"$initialize",$=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},$.$$arity=3),a&&"initialize"}(y[0],null,y),function(e,r,n){function i(){}e=i=l(e,r,"ProcessorExtension",i),[e].concat(n);var $;return e.$attr_reader("process_method"),t.def(e,"$initialize",$=function(e,r,n){var i,o=$.$$p;return null==n&&(n=a),o&&($.$$p=null),f(this,t.find_super_dispatcher(this,"initialize",$,!1),[e,r,r.$config()],null),this.process_method=c(i=n)?i:r.$method("process")},$.$$arity=-3),a&&"initialize"}(y[0],s(y,"Extension"),y),function(e,r,n){function i(){}e=i=l(e,r,"Group",i),n=[e].concat(n);var $;return function(e,r){var n,i=[e].concat(r);return t.def(e,"$register",n=function(t){return null==t&&(t=a),s(i,"Extensions").$register(t,this)},n.$$arity=-1),a&&"register"}(t.get_singleton_class(e),n),t.def(e,"$activate",$=function(t){return this.$raise(o("::","NotImplementedError"))},$.$$arity=1),a&&"activate"}(y[0],null,y),function($,u,d){function _(){}$=_=l($,u,"Registry",_);var p,y,m,g,v,b,w,E,k,x,A,O,S,R,I,T,M,C,N,z,B,D,F,L,P,q,j,U,H,G,Y,W,X,K,V=$.$$proto,J=[$].concat(d);return V.groups=V.preprocessor_extensions=V.tree_processor_extensions=V.postprocessor_extensions=V.include_processor_extensions=V.docinfo_processor_extensions=V.block_extensions=V.block_macro_extensions=V.inline_macro_extensions=a,$.$attr_reader("document"),$.$attr_reader("groups"),t.def($,"$initialize",p=function(t){return null==t&&(t=h([],{})),this.groups=t,this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=a},p.$$arity=-1),t.def($,"$activate",y=function(t){var e;return this.document=t,f(r(s(J,"Extensions").$groups().$values(),this.groups.$values()),"each",[],(e=function(t){var r=e.$$s||this,n=a;return null==t&&(t=a),n=t,o("::","Proc")["$==="](n)?(n=t.$arity(),t=(0)["$==="](n)||-1["$==="](n)?f(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):a):t=o("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r),t},e.$$s=this,e.$$arity=1,e)),this},y.$$arity=1),t.def($,"$preprocessor",m=function(t){var e,r=m.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(m.$$p=null),f(this,"add_document_processor",["preprocessor",e],n.$to_proc())},m.$$arity=-1),t.def($,"$preprocessors?",g=function(){return this.preprocessor_extensions["$!"]()["$!"]()},g.$$arity=0),t.def($,"$preprocessors",v=function(){return this.preprocessor_extensions},v.$$arity=0),t.def($,"$tree_processor",b=function(t){var e,r=b.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(b.$$p=null),f(this,"add_document_processor",["tree_processor",e],n.$to_proc())},b.$$arity=-1),t.def($,"$tree_processors?",w=function(){return this.tree_processor_extensions["$!"]()["$!"]()},w.$$arity=0),t.def($,"$tree_processors",E=function(){return this.tree_processor_extensions},E.$$arity=0),t.alias($,"treeprocessor","tree_processor"),t.alias($,"treeprocessors?","tree_processors?"),t.alias($,"treeprocessors","tree_processors"),t.def($,"$postprocessor",k=function(t){var e,r=k.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(k.$$p=null),f(this,"add_document_processor",["postprocessor",e],n.$to_proc())},k.$$arity=-1),t.def($,"$postprocessors?",x=function(){return this.postprocessor_extensions["$!"]()["$!"]()},x.$$arity=0),t.def($,"$postprocessors",A=function(){return this.postprocessor_extensions},A.$$arity=0),t.def($,"$include_processor",O=function(t){var e,r=O.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(O.$$p=null),f(this,"add_document_processor",["include_processor",e],n.$to_proc())},O.$$arity=-1),t.def($,"$include_processors?",S=function(){return this.include_processor_extensions["$!"]()["$!"]()},S.$$arity=0),t.def($,"$include_processors",R=function(){return this.include_processor_extensions},R.$$arity=0),t.def($,"$docinfo_processor",I=function(t){var e,r=I.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(I.$$p=null),f(this,"add_document_processor",["docinfo_processor",e],n.$to_proc())},I.$$arity=-1),t.def($,"$docinfo_processors?",T=function(t){var e;return null==t&&(t=a),!!c(this.docinfo_processor_extensions)&&(!c(t)||f(this.docinfo_processor_extensions,"any?",[],(e=function(e){return null==e&&(e=a),e.$config()["$[]"]("location")["$=="](t)},e.$$s=this,e.$$arity=1,e)))},T.$$arity=-1),t.def($,"$docinfo_processors",M=function(t){var e;return null==t&&(t=a),c(this.docinfo_processor_extensions)?c(t)?f(this.docinfo_processor_extensions,"select",[],(e=function(e){return null==e&&(e=a),e.$config()["$[]"]("location")["$=="](t)},e.$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:a},M.$$arity=-1),t.def($,"$block",C=function(t){var e,r=C.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(C.$$p=null),f(this,"add_syntax_processor",["block",e],n.$to_proc())},C.$$arity=-1),t.def($,"$blocks?",N=function(){return this.block_extensions["$!"]()["$!"]()},N.$$arity=0),t.def($,"$registered_for_block?",z=function(t,e){var r=a;return!!c(r=this.block_extensions["$[]"](t.$to_sym()))&&(!!c(r.$config()["$[]"]("contexts")["$include?"](e))&&r)},z.$$arity=2),t.def($,"$find_block_extension",B=function(t){return this.block_extensions["$[]"](t.$to_sym())},B.$$arity=1),t.def($,"$block_macro",D=function(t){var e,r=D.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(D.$$p=null),f(this,"add_syntax_processor",["block_macro",e],n.$to_proc())},D.$$arity=-1),t.def($,"$block_macros?",F=function(){return this.block_macro_extensions["$!"]()["$!"]()},F.$$arity=0),t.def($,"$registered_for_block_macro?",L=function(t){var e=a;return!!c(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},L.$$arity=1),t.def($,"$find_block_macro_extension",P=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},P.$$arity=1),t.def($,"$inline_macro",q=function(t){var e,r=q.$$p,n=r||a,i=arguments.length;e=i-0,0>e&&(e=0),e=Array(e);for(var $=0;$<i;$++)e[$-0]=arguments[$];return r&&(q.$$p=null),f(this,"add_syntax_processor",["inline_macro",e],n.$to_proc())},q.$$arity=-1),t.def($,"$inline_macros?",j=function(){return this.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.def($,"$registered_for_inline_macro?",U=function(t){var e=a;return!!c(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},U.$$arity=1),t.def($,"$find_inline_macro_extension",H=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},H.$$arity=1),t.def($,"$inline_macros",G=function(){return this.inline_macro_extensions.$values()},G.$$arity=0),$.$private(),t.def($,"$add_document_processor",Y=function(e,r){var n,$,u,l=this,h=Y.$$p,d=h||a,_=a,p=a,y=a,m=a,g=p=a,v=a,b=a,w=a,E=a;return h&&(Y.$$p=null),_=e.$to_s().$tr("_"," "),p=f(_.$split(),"map",[],(n=function(t){return null==t&&(t=a),t.$capitalize()},n.$$s=l,n.$$arity=1,n)).$join().$to_sym(),y=s(J,"Extensions").$const_get(p),m=c(o("::","AsciidoctorJ","skip_raise")?"constant":a)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(p):a,p=c($=l.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?$:l.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),g=function(){return d!==a?(v=l.$resolve_args(r,1),b=y.$new(v),c(y.$constants().$grep("DSL"))&&b.$extend(y.$const_get("DSL")),f(b,"instance_exec",[],d.$to_proc()),b.$freeze(),c(b["$process_block_given?"]())||l.$raise(o("::","ArgumentError"),"No block specified to process "+_+" extension at "+d.$source_location()),s(J,"ProcessorExtension").$new(e,b)):(u=l.$resolve_args(r,2),$=t.to_ary(u),b=null==$[0]?a:$[0],v=null==$[1]?a:$[1],c(w=s(J,"Extensions").$resolve_class(b))?(c(c($=i(w,y))?$:c(u=m)?i(w,m):u)||l.$raise(o("::","ArgumentError"),"Invalid type for "+_+" extension: "+b),E=w.$new(v),E.$freeze(),s(J,"ProcessorExtension").$new(e,E)):c(c($=y["$==="](b))?$:c(u=m)?m["$==="](b):u)?(b.$update_config(v),b.$freeze(),s(J,"ProcessorExtension").$new(e,b)):l.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+_+" extension: "+r))}(),g.$config()["$[]"]("position")["$=="](">>")?p.$unshift(g):p["$<<"](g)},Y.$$arity=2),t.def($,"$add_syntax_processor",W=function(r,n){var $,u,l=W.$$p,d=l||a,_=a,p=a,y=a,m=a,g=p=a,v=a,b=a,w=y=a,y=a;return l&&(W.$$p=null),_=r.$to_s().$tr("_"," "),p=f(_.$split(),"map",[],($=function(t){return null==t&&(t=a),t.$capitalize()},$.$$s=this,$.$$arity=1,$)).$push("Processor").$join().$to_sym(),y=s(J,"Extensions").$const_get(p),m=c(o("::","AsciidoctorJ","skip_raise")?"constant":a)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(p):a,p=c(u=this.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?u:this.$instance_variable_set(("@"+r+"_extensions").$to_sym(),h([],{})),d!==a?($=this.$resolve_args(n,2),u=t.to_ary($),g=null==u[0]?a:u[0],v=null==u[1]?a:u[1],b=y.$new(this.$as_symbol(g),v),c(y.$constants().$grep("DSL"))&&b.$extend(y.$const_get("DSL")),d.$arity()["$=="](1)?t.yield1(d,b):f(b,"instance_exec",[],d.$to_proc()),c(g=this.$as_symbol(b.$name()))||this.$raise(o("::","ArgumentError"),"No name specified for "+_+" extension at "+d.$source_location()),c(b["$process_block_given?"]())||this.$raise(o("::","NoMethodError"),"No block specified to process "+_+" extension at "+d.$source_location()),b.$freeze(),y=[g,s(J,"ProcessorExtension").$new(r,b)],f(p,"[]=",t.to_a(y)),y[e(y.length,1)]):($=this.$resolve_args(n,3),u=t.to_ary($),b=null==u[0]?a:u[0],g=null==u[1]?a:u[1],v=null==u[2]?a:u[2],c(w=s(J,"Extensions").$resolve_class(b))?(c(c(u=i(w,y))?u:c($=m)?i(w,m):$)||this.$raise(o("::","ArgumentError"),"Class specified for "+_+" extension does not inherit from "+y+": "+b),y=w.$new(this.$as_symbol(g),v),c(g=this.$as_symbol(y.$name()))||this.$raise(o("::","ArgumentError"),"No name specified for "+_+" extension: "+b),y.$freeze(),y=[g,s(J,"ProcessorExtension").$new(r,y)],f(p,"[]=",t.to_a(y)),y[e(y.length,1)]):c(c(u=y["$==="](b))?u:c($=m)?m["$==="](b):$)?(b.$update_config(v),c(g)?(y=[this.$as_symbol(g)],f(b,"name=",t.to_a(y)),u=y[e(y.length,1)]):u=this.$as_symbol(b.$name()),c(g=u)||this.$raise(o("::","ArgumentError"),"No name specified for "+_+" extension: "+b),b.$freeze(),y=[g,s(J,"ProcessorExtension").$new(r,b)],f(p,"[]=",t.to_a(y)),y[e(y.length,1)]):this.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+_+" extension: "+n))},W.$$arity=2),t.def($,"$resolve_args",X=function(t,$){var s=a,u=a,s=c(o("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():h([],{});return $["$=="](1)?s:(c(n(u=e(e($,1),t.$size()),0))?t=r(t,o("::","Array").$new(u)):c(i(u,0))&&t.$pop(u["$-@"]()),t["$<<"](s),t)},X.$$arity=2),t.def($,"$as_symbol",K=function(t){return c(t)?t.$to_sym():a},K.$$arity=1),a&&"as_symbol"}(y[0],null,y),function(n,i){var $,u,l,_,p,y,m,g,v,b=[n].concat(i);return t.def(n,"$generate_name",$=function(){return"extgrp"+this.$next_auto_id()},$.$$arity=0),t.def(n,"$next_auto_id",u=function(){var t;return null==this.auto_id&&(this.auto_id=a),this.auto_id=c(t=this.auto_id)?t:-1,this.auto_id=r(this.auto_id,1)},u.$$arity=0),t.def(n,"$groups",l=function(){var t;return null==this.groups&&(this.groups=a),this.groups=c(t=this.groups)?t:h([],{})},l.$$arity=0),t.def(n,"$create",_=function(t){var e,r=_.$$p,n=r||a;return null==t&&(t=a),r&&(_.$$p=null),n!==a?s(b,"Registry").$new(d(c(e=t)?e:this.$generate_name(),n)):s(b,"Registry").$new()},_.$$arity=-1),t.alias(n,"build_registry","create"),t.def(n,"$register",p=function(r){var n,i,$=p.$$p,s=$||a,u=a,l=a,h=a,d=a;for(i=a,u=arguments.length,i=u-0,0>i&&(i=0),i=Array(i),d=0;d<u;d++)i[d-0]=arguments[d];return $&&(p.$$p=null),u=i.$size(),s!==a?l=s:c(h=i.$pop())?l=c(n=this.$resolve_class(h))?n:h:this.$raise(o("::","ArgumentError"),"Extension group to register not specified"),d=c(n=i.$pop())?n:this.$generate_name(),c(i["$empty?"]())||this.$raise(o("::","ArgumentError"),"Wrong number of arguments ("+u+" for 1..2)"),i=[d.$to_sym(),l],f(this.$groups(),"[]=",t.to_a(i)),i[e(i.length,1)]},p.$$arity=-1),t.def(n,"$unregister_all",y=function(){return this.groups=h([],{}),a},y.$$arity=0),t.def(n,"$unregister",m=function(t){var e,r,n=arguments.length;r=n-0,0>r&&(r=0),r=Array(r);for(var i=0;i<n;i++)r[i-0]=arguments[i];return f(r,"each",[],(e=function(t){var r=e.$$s||this;return null==r.groups&&(r.groups=a),null==t&&(t=a),r.groups.$delete(t.$to_sym())},e.$$s=this,e.$$arity=1,e)),a},m.$$arity=-1),t.def(n,"$resolve_class",g=function(t){var e=a,e=t;return o("::","Class")["$==="](e)?t:o("::","String")["$==="](e)?this.$class_for_name(t):a},g.$$arity=1),t.def(n,"$class_for_name",v=function(t){var e,r=a,r=o("::","Object");return f(t.$split("::"),"each",[],(e=function(n){var i,$,s=e.$$s||this;return null==n&&(n=a),c(c(i=n["$empty?"]())?i:c($=r["$const_defined?"](n))?o("::","Module")["$==="](r=r.$const_get(n)):$)?a:s.$raise(o("::","NameError"),"Could not resolve class for name: "+t)},e.$$s=this,e.$$arity=1,e)),c(o("::","Class")["$==="](r))||this.$raise(o("::","NameError"),"Could not resolve class for name: "+t),r},v.$$arity=1),a&&"class_for_name"}(t.get_singleton_class(p),y)}(p[0],p)}($[0],$)},Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(t){var e=[],r=t.nil,n=t.const_get_relative,i=t.module,$=t.klass,a=t.truthy;return t.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" ")),function(e,o){var s=[i(e,"Asciidoctor")].concat(o);!function(e,i,o){function s(){}e=s=$(e,i,"PreprocessorReader",s);var u,l=e.$$proto,c=[e].concat(o);return l.path_resolver=l.document=l.include_stack=l.dir=r,t.def(e,"$resolve_include_path",u=function t(e,i,$){var o,s=r,u=r,l=r,t=l=s=r;if($=r,s=(this.path_resolver=a(o=this.path_resolver)?o:n(c,"PathResolver").$new("\\")).$posixify(e),o=["file",this.document.$base_dir()],u=o[1],a(s["$start_with?"]("file://")))l=s;else if(a(n(c,"Helpers")["$uriish?"](s))){if(!a(a(o=this.path_resolver["$descends_from?"](s,u))?o:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+e+"["+i+"]");l=s}else if(a(this.path_resolver["$absolute_path?"](s)))l=s="file://"+(a(s["$start_with?"]("/"))?"":"/")+s;else if((l=a(t=this.include_stack["$empty?"]())?u:this.dir)["$=="]("."))l=s;else if(a(a(o=l["$start_with?"]("file://"))?o:n(c,"Helpers")["$uriish?"](l)["$!"]()))l=""+l+"/"+s,s=a(t)?s:a(a(o=u["$=="]("."))?o:($=this.path_resolver["$descends_from?"](l,u))["$!"]())?l:l.$slice($,l.$length());else if(a(t))l=""+l+"/"+s;else{if(!a(a(o=$=this.path_resolver["$descends_from?"](l,u))?o:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+e+"["+i+"]");l=""+l+"/"+s,s=a($)?l.$slice($,l.$length()):s}return[l,"file",s]},u.$$arity=3),r&&"resolve_include_path"}(s[0],n(s,"Reader"),s)}(e[0],e)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=t.nil,n=t.const_get_relative;return t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):r},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i=t.top,$=[],a=t.nil,o=t.const_get_qualified,s=t.const_get_relative,u=t.truthy,l=t.gvars,c=t.module,h=t.hash2,f=t.send,d=t.hash;return null==l[":"]&&(l[":"]=a),t.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $inject $* $to_a $dup $insert $start $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" ")),u(s($,"RUBY_ENGINE","skip_raise")?"constant":a)||t.const_set($[0],"RUBY_ENGINE","unknown"),t.const_set($[0],"RUBY_ENGINE_OPAL",s($,"RUBY_ENGINE")["$=="]("opal")),t.const_set($[0],"RUBY_ENGINE_JRUBY",s($,"RUBY_ENGINE")["$=="]("jruby")),t.const_set($[0],"RUBY_MIN_VERSION_1_9",e(s($,"RUBY_VERSION"),"1.9")),t.const_set($[0],"RUBY_MIN_VERSION_2",e(s($,"RUBY_VERSION"),"2")),i.$require("set"),s($,"RUBY_ENGINE")["$=="]("opal")?i.$require("asciidoctor/js"):a,l[":"].$unshift(s($,"File").$dirname("asciidoctor")),function(i,$){var l,_,p,y=c(i,"Asciidoctor"),m=[y].concat($),g=a,v=a,b=a;t.const_set(m[0],"RUBY_ENGINE",o("::","RUBY_ENGINE")),function(e,n){var i,$,o,s,u=c(e,"SafeMode"),l=[u].concat(n),d=a;t.const_set(l[0],"UNSAFE",0),t.const_set(l[0],"SAFE",1),t.const_set(l[0],"SERVER",10),t.const_set(l[0],"SECURE",20),d=h([],{}),f((t.Module.$$nesting=l,u.$constants()),"each",[],(i=function(e){var n=i.$$s||this,$=a;return null==e&&(e=a),$=[n.$const_get(e),e.$to_s().$downcase()],f(d,"[]=",t.to_a($)),$[r($.length,1)]},i.$$s=u,i.$$arity=1,i)),u.names_by_value=d,t.defs(u,"$value_for_name",$=function(t){return this.$const_get(t.$upcase())},$.$$arity=1),t.defs(u,"$name_for_value",o=function(t){return null==this.names_by_value&&(this.names_by_value=a),this.names_by_value["$[]"](t)},o.$$arity=1),t.defs(u,"$names",s=function(){return null==this.names_by_value&&(this.names_by_value=a),this.names_by_value.$values()},s.$$arity=0)}(m[0],m),function(e,r){var n,i=c(e,"Compliance"),$=[i].concat(r);i.keys=o("::","Set").$new(),function(t,e){return[t].concat(e),t.$attr_reader("keys")}(t.get_singleton_class(i),$),t.defs(i,"$define",n=function(e,r){null==this.keys&&(this.keys=a),this.$instance_variable_set("@"+e,r);var n=t.get_singleton_class(this);return[n].concat($),n.$send("attr_accessor",e),this.keys["$<<"](e),a},n.$$arity=2),i.$define("block_terminates_paragraph",!0),i.$define("strict_verbatim_paragraphs",!0),i.$define("underline_style_section_titles",!0),i.$define("unwrap_standalone_preamble",!0),i.$define("attribute_missing","skip"),i.$define("attribute_undefined","drop-line"),i.$define("shorthand_property_syntax",!0),i.$define("unique_id_start_index",2),i.$define("markdown_syntax",!0)}(m[0],m),t.const_set(m[0],"ROOT_PATH",o("::","File").$dirname(o("::","File").$dirname(o("::","File").$expand_path("asciidoctor")))),t.const_set(m[0],"DATA_PATH",o("::","File").$join(s(m,"ROOT_PATH"),"data"));try{t.const_set(m[0],"USER_HOME",o("::","Dir").$home())}catch(e){if(!t.rescue(e,[s(m,"StandardError")]))throw e;try{t.const_set(m[0],"USER_HOME",u(l=o("::","ENV")["$[]"]("HOME"))?l:o("::","Dir").$pwd())}finally{t.pop_exception()}}t.const_set(m[0],"COERCE_ENCODING",u(l=o("::","RUBY_ENGINE_OPAL")["$!"]())?o("::","RUBY_MIN_VERSION_1_9"):l),t.const_set(m[0],"FORCE_ENCODING",u(l=s(m,"COERCE_ENCODING"))?o("::","Encoding").$default_external()["$!="](o(o("::","Encoding"),"UTF_8")):l),t.const_set(m[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(m[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(m[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(m[0],"FORCE_UNICODE_LINE_LENGTH",o("::","RUBY_MIN_VERSION_1_9")["$!"]()),t.const_set(m[0],"LF",t.const_set(m[0],"EOL","\n")),t.const_set(m[0],"NULL","\0"),t.const_set(m[0],"TAB","\t"),t.const_set(m[0],"DEFAULT_DOCTYPE","article"),t.const_set(m[0],"DEFAULT_BACKEND","html5"),t.const_set(m[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(m[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(m[0],"BACKEND_ALIASES",h(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(m[0],"DEFAULT_PAGE_WIDTHS",h(["docbook"],{docbook:425})),t.const_set(m[0],"DEFAULT_EXTENSIONS",h("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(m[0],"ASCIIDOC_EXTENSIONS",h([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),t.const_set(m[0],"SETEXT_SECTION_LEVELS",h(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(m[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(m[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),t.const_set(m[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set()),t.const_set(m[0],"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set()),t.const_set(m[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(m[0],"DELIMITED_BLOCKS",h('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",o("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",o("::","Set").$new()],",===":["table",o("::","Set").$new()],":===":["table",o("::","Set").$new()],"!===":["table",o("::","Set").$new()],"////":["comment",o("::","Set").$new()],"```":["fenced_code",o("::","Set").$new()]})),t.const_set(m[0],"DELIMITED_BLOCK_HEADS",f(s(m,"DELIMITED_BLOCKS").$keys(),"map",[],(_=function(t){return null==t&&(t=a),t.$slice(0,2)},_.$$s=y,_.$$arity=1,_)).$to_set()),t.const_set(m[0],"LAYOUT_BREAK_CHARS",h(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(m[0],"MARKDOWN_THEMATIC_BREAK_CHARS",h(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(m[0],"HYBRID_LAYOUT_BREAK_CHARS",s(m,"LAYOUT_BREAK_CHARS").$merge(s(m,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(m[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(m[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(m[0],"ORDERED_LIST_KEYWORDS",h(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(m[0],"ATTR_REF_HEAD","{"),t.const_set(m[0],"LIST_CONTINUATION","+"),t.const_set(m[0],"HARD_LINE_BREAK"," +"),t.const_set(m[0],"LINE_CONTINUATION"," \\"),t.const_set(m[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(m[0],"BLOCK_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(m[0],"INLINE_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),t.const_set(m[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(m[0],"CIRCUMFIX_COMMENTS",f(d(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["<!--","-->"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[h([],{})],(p=function(e,n){var i,$,o,s=p.$$s||this;return null==n&&(n=a),n=t.to_ary(n),i=t.slice.call(n,0,n.length),$=i.splice(0,1)[0],null==$&&($=a),i=i.splice(0,1)[0],null==i&&(i=a),null==e&&(e=a),f(i,"each",[],(o=function(n){var i=a;return null==n&&(n=a),i=[n,h(["prefix","suffix"],{prefix:$["$[]"](0),suffix:$["$[]"](-1)})],f(e,"[]=",t.to_a(i)),i[r(i.length,1)]},o.$$s=s,o.$$arity=1,o)),e},p.$$s=y,p.$$arity=2,p.$$has_top_level_mlhs_arg=!0,p))),s(m,"RUBY_ENGINE")["$=="]("opal")||a,t.const_set(m[0],"AuthorInfoLineRx",new RegExp("^("+s(m,"CG_WORD")+"["+s(m,"CC_WORD")+"\\-'.]*)(?: +("+s(m,"CG_WORD")+"["+s(m,"CC_WORD")+"\\-'.]*))?(?: +("+s(m,"CG_WORD")+"["+s(m,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(m[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/),t.const_set(m[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/),t.const_set(m[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/),t.const_set(m[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/),t.const_set(m[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/),t.const_set(m[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/),t.const_set(m[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/),t.const_set(m[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/),t.const_set(m[0],"InvalidAttributeNameCharsRx",/[^\w\-]/),
s(m,"RUBY_ENGINE")["$=="]("opal")?t.const_set(m[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):a,t.const_set(m[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/),t.const_set(m[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$")),t.const_set(m[0],"BlockAttributeListRx",new RegExp("^\\[(|["+s(m,"CC_WORD")+".#%{,\"'].*)\\]$")),t.const_set(m[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+s(m,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$")),t.const_set(m[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/),t.const_set(m[0],"AdmonitionParagraphRx",new RegExp("^("+n(s(m,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+")),t.const_set(m[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/),t.const_set(m[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(m[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/),t.const_set(m[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+s(m,"CG_WORD")+"+.*)[^.].*?)$")),t.const_set(m[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$")),t.const_set(m[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+s(m,"CC_WORD")+"]+?")),t.const_set(m[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/),t.const_set(m[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/),t.const_set(m[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/),t.const_set(m[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/),t.const_set(m[0],"OrderedListMarkerRxMap",h(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(m[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/),t.const_set(m[0],"DescriptionListSiblingRx",h(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/})),t.const_set(m[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/),t.const_set(m[0],"CalloutListSniffRx",/^<?\d+>/),t.const_set(m[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),t.const_set(m[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),t.const_set(m[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+s(m,"CC_EOL")+")")),t.const_set(m[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+s(m,"CC_EOL")+")")),t.const_set(m[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+s(m,"CC_EOL")+")"),t.const_set(m[0],"ListRxMap",h(["ulist","olist","dlist","colist"],{ulist:s(m,"UnorderedListRx"),olist:s(m,"OrderedListRx"),dlist:s(m,"DescriptionListRx"),colist:s(m,"CalloutListRx")})),t.const_set(m[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),t.const_set(m[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(m[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(m[0],"CustomBlockMacroRx",new RegExp("^("+s(m,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$")),t.const_set(m[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/),t.const_set(m[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/),t.const_set(m[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))")),t.const_set(m[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])")),t.const_set(m[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+s(m,"CC_ALPHA")+"_:]["+s(m,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]")),t.const_set(m[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+s(m,"CG_WORD")+"["+s(m,"CC_WORD")+".%+-]*@"+s(m,"CG_ALNUM")+"["+s(m,"CC_ALNUM")+".-]*\\."+s(m,"CG_ALPHA")+"{2,4}\\b")),t.const_set(m[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+s(m,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(m[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+s(m,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(m[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+s(m,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+s(m,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(m[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+s(m,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(m[0],"LinkInlineRx",new RegExp("(^|link:|"+s(m,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+s(m,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(m[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+s(m,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(m[0],"MacroNameRx",new RegExp("^"+s(m,"CG_WORD")+"+$")),t.const_set(m[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+s(m,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(m[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+s(m,"CG_WORD")+"|["+s(m,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+s(m,"CC_ALL")+"*?[^\\\\])?\\]","m")),t.const_set(m[0],"MenuInlineRx",new RegExp('\\\\?"(['+s(m,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(m[0],"PassInlineRx",d(!1,["+","`",new RegExp("(^|[^"+s(m,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)\\4)(?!"+s(m,"CG_WORD")+")","m")],!0,["`",a,new RegExp("(^|[^`"+s(m,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+s(m,"CC_ALL")+"*?\\S)\\4)(?![`"+s(m,"CC_WORD")+"])","m")])),t.const_set(m[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+s(m,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+s(m,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(m[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+s(m,"CC_WORD")+"#/.:{]"+s(m,"CC_ALL")+"*?)&gt;&gt;|xref:(["+s(m,"CC_WORD")+"#/.:{]"+s(m,"CC_ALL")+"*?)\\[(?:\\]|("+s(m,"CC_ALL")+"*?[^\\\\])\\]))","m")),s(m,"RUBY_ENGINE")["$=="]("opal")?t.const_set(m[0],"HardLineBreakRx",/^(.*) \+$/m):a,t.const_set(m[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(m[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(m[0],"BlankLineRx",/\n{2,}/),t.const_set(m[0],"DataDelimiterRx",/[,;]/),t.const_set(m[0],"TrailingDigitsRx",/\d+$/),t.const_set(m[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(m[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(m[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(m[0],"SubModifierSniffRx",/[+-]/),s(m,"RUBY_ENGINE")["$=="]("opal")||a,t.const_set(m[0],"UriSniffRx",new RegExp("^"+s(m,"CG_ALPHA")+"["+s(m,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(m[0],"UriTerminatorRx",/[);:]$/),t.const_set(m[0],"XmlSanitizeRx",/<[^>]+>/),t.const_set(m[0],"INTRINSIC_ATTRIBUTES",h("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),g=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+s(m,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)\\*(?!"+s(m,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+s(m,"CC_ALL")+'*?\\S)`"(?!'+s(m,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)`'(?!"+s(m,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+s(m,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)`(?!["+s(m,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+s(m,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)_(?!"+s(m,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+s(m,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)#(?!"+s(m,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]],v=g.$dup(),b=[2,["double","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)''(?!"+s(m,"CG_WORD")+")","m")]],f(v,"[]=",t.to_a(b)),b[r(b.length,1)],b=[3,["single","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)'(?!"+s(m,"CG_WORD")+")","m")]],f(v,"[]=",t.to_a(b)),b[r(b.length,1)],b=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+s(m,"CC_ALL")+"+?)\\+\\+","m")]],f(v,"[]=",t.to_a(b)),b[r(b.length,1)],b=[5,["monospaced","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)\\+(?!"+s(m,"CG_WORD")+")","m")]],f(v,"[]=",t.to_a(b)),b[r(b.length,1)],v.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)'(?!"+s(m,"CG_WORD")+")","m")]),t.const_set(m[0],"QUOTE_SUBS",d(!1,g,!0,v)),v=g=a,t.const_set(m[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+s(m,"CG_WORD")+")\\\\?--(?="+s(m,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+s(m,"CG_ALNUM")+")\\\\?'(?="+s(m,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(i,$){var l,c,d,_,p=[i].concat($);return t.def(i,"$load",l=function e(i,$){var l,c,e,d,_,y=a,m=a,g=a,v=a,b=a,w=a,E=a,k=a,x=a,A=a,O=a,S=a,R=a;null==$&&($=h([],{}));try{if($=$.$dup(),u(y=$["$[]"]("timings"))&&y.$start("read"),u((m=$["$[]"]("attributes"))["$!"]())?m=h([],{}):u(u(l=o("::","Hash")["$==="](m))?l:u(c=o("::","RUBY_ENGINE_JRUBY"))?o(o(o("::","Java"),"JavaUtil"),"Map")["$==="](m):c)?m=m.$dup():u(o("::","Array")["$==="](m))?(l=[h([],{}),m],m=l[0],g=l[1],f(g,"each",[],(e=function(e){var n,i=a,$=a,i=a;return null==e&&(e=a),n=e.$split("=",2),e=t.to_ary(n),i=null==e[0]?a:e[0],$=null==e[1]?a:e[1],i=[i,u(e=$)?e:""],f(m,"[]=",t.to_a(i)),i[r(i.length,1)]},e.$$s=this,e.$$arity=1,e))):u(o("::","String")["$==="](m))?(l=[h([],{}),m.$gsub(s(p,"SpaceDelimiterRx"),"\\1"+s(p,"NULL")).$gsub(s(p,"EscapedSpaceRx"),"\\1").$split(s(p,"NULL"))],m=l[0],g=l[1],f(g,"each",[],(d=function(e){var n,i=a,$=a,i=a;return null==e&&(e=a),n=e.$split("=",2),e=t.to_ary(n),i=null==e[0]?a:e[0],$=null==e[1]?a:e[1],i=[i,u(e=$)?e:""],f(m,"[]=",t.to_a(i)),i[r(i.length,1)]},d.$$s=this,d.$$arity=1,d))):u(u(l=m["$respond_to?"]("keys"))?m["$respond_to?"]("[]"):l)?m=o("::","Hash")["$[]"](f(m.$keys(),"map",[],(_=function(t){return null==t&&(t=a),[t,m["$[]"](t)]},_.$$s=this,_.$$arity=1,_))):this.$raise(o("::","ArgumentError"),"illegal type for attributes option: "+n(m.$class().$ancestors()," < ")),v=a,u(o("::","File")["$==="](i)))b=o("::","File").$expand_path(i.$path()),w=u(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?o("::","Time").$at(this.$Integer(o("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():i.$mtime(),v=i.$readlines(),E=["docfile",b],f(m,"[]=",t.to_a(E)),E[r(E.length,1)],E=["docdir",o("::","File").$dirname(b)],f(m,"[]=",t.to_a(E)),E[r(E.length,1)],E=["docname",s(p,"Helpers").$basename(b,(E=["docfilesuffix",o("::","File").$extname(b)],f(m,"[]=",t.to_a(E)),E[r(E.length,1)]))],f(m,"[]=",t.to_a(E)),E[r(E.length,1)],u(k=m["$[]"]("docdate"))?u(l=m["$[]"]("docyear"))?l:(E=["docyear",k.$index("-")["$=="](4)?k.$slice(0,4):a],f(m,"[]=",t.to_a(E)),E[r(E.length,1)]):(E=["docdate",w.$strftime("%Y-%m-%d")],f(m,"[]=",t.to_a(E)),k=E[r(E.length,1)],u(l=m["$[]"]("docyear"))?l:(E=["docyear",w.$year().$to_s()],f(m,"[]=",t.to_a(E)),E[r(E.length,1)])),x=u(l=m["$[]"]("doctime"))?l:(E=["doctime",w.$strftime("%H:%M:%S %Z")],f(m,"[]=",t.to_a(E)),E[r(E.length,1)]),E=["docdatetime",""+k+" "+x],f(m,"[]=",t.to_a(E)),E[r(E.length,1)];else if(u(i["$respond_to?"]("readlines"))){try{i.$rewind()}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;try{}finally{t.pop_exception()}}v=i.$readlines()}else u(o("::","String")["$==="](i))?v=u(o("::","RUBY_MIN_VERSION_2"))?i.$lines():i.$each_line().$to_a():u(o("::","Array")["$==="](i))?v=i.$dup():this.$raise(o("::","ArgumentError"),"unsupported input type: "+i.$class());return u(y)&&(y.$record("read"),y.$start("parse")),E=["attributes",m],f($,"[]=",t.to_a(E)),E[r(E.length,1)],A=$["$[]"]("parse")["$=="](!1)?s(p,"Document").$new(v,$):s(p,"Document").$new(v,$).$parse(),u(y)&&y.$record("parse"),A}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;O=e;try{try{S="asciidoctor: FAILED: "+(u(l=m["$[]"]("docfile"))?l:"<stdin>")+": Failed to load AsciiDoc document",u(O["$respond_to?"]("exception"))?(R=O.$exception(""+S+" - "+O.$message()),R.$set_backtrace(O.$backtrace())):(R=O.$class().$new(S,O),E=[O.$stack_trace()],f(R,"stack_trace=",t.to_a(E)),E[r(E.length,1)])}catch(e){if(!t.rescue(e,[s(p,"StandardError")]))throw e;try{R=O}finally{t.pop_exception()}}return this.$raise(R)}finally{t.pop_exception()}}},l.$$arity=-2),t.def(i,"$load_file",c=function(t,e){var r;return null==e&&(e=h([],{})),f(o("::","File"),"open",[t],(r=function(t){var n=r.$$s||this;return null==t&&(t=a),n.$load(t,e)},r.$$s=this,r.$$arity=1,r))},c.$$arity=-2),t.def(i,"$convert",d=function n(i,$){var l,c,d,_,n,y=a,m=a,g=a,v=a,b=a,w=a,E=a,k=a,x=n=b=a,A=b=a,O=y=y=k=w=a,S=w=m=a,R=y=E=v=a,I=g=a;if(null==$&&($=h([],{})),$=$.$dup(),$.$delete("parse"),y=$.$delete("to_file"),m=$.$delete("to_dir"),g=!!u(l=$.$delete("mkdirs"))&&l,v=$["$[]"]("timings"),b=y,(!0)["$==="](b)||a["$==="](b))w=u(l=m["$!"]())?o("::","File")["$==="](i):l,E=!1,k=m,y=a;else if((!1)["$==="](b))k=E=w=!1,y=a;else{if("/dev/null"["$==="](b))return this.$load(i,$);w=!1,k=!u(E=y["$respond_to?"]("write"))&&y}return!u($["$key?"]("header_footer"))&&u(u(l=w)?l:k)&&(b=["header_footer",!0],f($,"[]=",t.to_a(b)),b[r(b.length,1)]),u(w)?(n=o("::","File").$expand_path(i.$path()),b=["to_dir",x=o("::","File").$dirname(n)],f($,"[]=",t.to_a(b)),b[r(b.length,1)]):u(k)?u(m)?(b=u(y)?["to_dir",o("::","File").$expand_path(o("::","File").$join(m,y,".."))]:["to_dir",o("::","File").$expand_path(m)],f($,"[]=",t.to_a(b)),b[r(b.length,1)]):u(y)&&(b=["to_dir",o("::","File").$expand_path(y,"..")],f($,"[]=",t.to_a(b)),b[r(b.length,1)]):(b=["to_dir",a],f($,"[]=",t.to_a(b)),b[r(b.length,1)]),b=this.$load(i,$),u(w)?(A=o("::","File").$join(x,""+b.$attributes()["$[]"]("docname")+b.$outfilesuffix()),A["$=="](n)&&this.$raise(o("::","IOError"),"input file and output file cannot be the same: "+A)):u(k)?(w=u($["$key?"]("base_dir"))?o("::","File").$expand_path($["$[]"]("base_dir")):o("::","File").$expand_path(o("::","Dir").$pwd()),k=u(e(b.$safe(),o(s(p,"SafeMode"),"SAFE")))?w:a,u(m)?(x=b.$normalize_system_path(m,w,k,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),u(y)?(A=b.$normalize_system_path(y,x,a,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=o("::","File").$dirname(A)):A=o("::","File").$join(x,""+b.$attributes()["$[]"]("docname")+b.$outfilesuffix())):u(y)&&(A=b.$normalize_system_path(y,w,k,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=o("::","File").$dirname(A)),u(u(l=o("::","File")["$==="](i))?A["$=="](o("::","File").$expand_path(i.$path())):l)&&this.$raise(o("::","IOError"),"input file and output file cannot be the same: "+A),u(o("::","File")["$directory?"](x))||(u(g)?s(p,"Helpers").$mkdir_p(x):this.$raise(o("::","IOError"),"target directory does not exist: "+m))):(A=y,x=a),u(v)&&v.$start("convert"),y=u(u(l=A)?E["$!"]():l)?h(["outfile","outdir"],{outfile:A,outdir:x}):h([],{}),y=b.$convert(y),u(v)&&v.$record("convert"),u(A)?(u(v)&&v.$start("write"),b.$write(y,A),u(v)&&v.$record("write"),u(n=E["$!"]())&&(n=b.$safe(),A=o(s(p,"SafeMode"),"SECURE"),n="number"==typeof n&&"number"==typeof A?n<A:n["$<"](A)),u(u(l=u(c=u(d=u(_=n)?b["$attr?"]("linkcss"):_)?b["$attr?"]("copycss"):d)?b["$attr?"]("basebackend-html"):c)?(u(c=O=b.$attr("stylesdir"))?s(p,"Helpers")["$uriish?"](O):c)["$!"]():l)&&(w=m=!1,u(S=b.$attr("stylesheet"))&&(u(s(p,"DEFAULT_STYLESHEET_KEYS")["$include?"](S))?m=!0:u(s(p,"Helpers")["$uriish?"](S)["$!"]())&&(w=!0)),v=u(l=b["$attr?"]("source-highlighter","coderay"))?b.$attr("coderay-css","class")["$=="]("class"):l,E=u(l=b["$attr?"]("source-highlighter","pygments"))?b.$attr("pygments-css","class")["$=="]("class"):l,u(u(l=u(c=u(d=m)?d:w)?c:v)?l:E)&&(y=b.$normalize_system_path(O,x,u(e(b.$safe(),o(s(p,"SafeMode"),"SAFE")))?x:a),u(g)&&s(p,"Helpers").$mkdir_p(y),u(m)?s(p,"Stylesheets").$instance().$write_primary_stylesheet(y):u(w)&&(R=u((R=b.$attr("copycss"))["$empty?"]())?b.$normalize_system_path(S):b.$normalize_system_path(R),g=b.$normalize_system_path(S,y,u(e(b.$safe(),o(s(p,"SafeMode"),"SAFE")))?x:a),u(u(l=R["$!="](g))?I=b.$read_asset(R,h(["warn_on_failure","label"],{warn_on_failure:o("::","File")["$file?"](g)["$!"](),label:"stylesheet"})):l)&&o("::","IO").$write(g,I)),u(v)?s(p,"Stylesheets").$instance().$write_coderay_stylesheet(y):u(E)&&s(p,"Stylesheets").$instance().$write_pygments_stylesheet(y,b.$attr("pygments-style")))),b):y},d.$$arity=-2),t.alias(i,"render","convert"),t.def(i,"$convert_file",_=function(t,e){var r;return null==e&&(e=h([],{})),f(o("::","File"),"open",[t],(r=function(t){var n=r.$$s||this;return null==t&&(t=a),n.$convert(t,e)},r.$$s=this,r.$$arity=1,r))},_.$$arity=-2),t.alias(i,"render_file","convert_file"),s(p,"RUBY_ENGINE")["$=="]("opal"),a}(t.get_singleton_class(y),m),s(m,"RUBY_ENGINE")["$=="]("opal")?(y.$require("asciidoctor/timings"),y.$require("asciidoctor/version")):a}($[0],$),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table"),s($,"RUBY_ENGINE")["$=="]("opal")?i.$require("asciidoctor/js/postscript"):a}(Opal);var e=function(t){return!t||"$$smap"in t?t:Opal.hash(t)},r=function(t){var e={},r=0,n=t.$$keys;t=t.$$smap;for(var i=n.length;r<i;r++){var $=n[r];e[$]=t[$]}return e},n=function(t){if(t=e(t)){var r=t["$[]"]("attributes");r&&"object"==typeof r&&"Object"===r.constructor.name&&(t=t.$dup(),t["$[]="]("attributes",e(r)))}return t},i=Opal.Asciidoctor.$$class;i.$$proto.getCoreVersion=function(){return this.$$const.VERSION},i.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},i.$$proto.convertFile=function(t,e){return this.$convert_file(t,n(e))},i.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},i.$$proto.loadFile=function(t,e){return this.$load_file(t,n(e))};var $=Opal.Asciidoctor.AbstractBlock;$.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},$.$$proto.getCaptionedTitle=function(){return this.$captioned_title()},$.$$proto.getStyle=function(){return this.style},$.$$proto.getCaption=function(){return this.$caption()},$.$$proto.setCaption=function(t){this.caption=t},$.$$proto.getLevel=function(){return this.level},$.$$proto.getSubstitutions=function(){return this.subs},$.$$proto.hasSubstitution=function(t){return this["$sub?"](t)},$.$$proto.removeSubstitution=function(t){this.$remove_sub(t)},$.$$proto.getBlocks=function(){return this.blocks},$.$$proto.getContent=function(){return this.$content()},$.$$proto.convert=function(){return this.$convert()},$.$$proto.findBy=function(t,r){return"undefined"==typeof r&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof r?Opal.send(this,"find_by",[e(t)],r):this.$find_by(e(t))},$.$$proto.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},$=Opal.Asciidoctor.Block,$.$$proto.getSource=function(){return this.$source()},$.$$proto.getSourceLines=function(){return this.lines},$=Opal.Asciidoctor.AbstractNode,$.$$proto.getAttributes=function(){return r(this.attributes)},$.$$proto.getAttribute=function(t,e,r){return t=this.$attr(t,e,r),t===Opal.nil?void 0:t},$.$$proto.hasAttribute=function(t){return t in this.attributes.$$smap},$.$$proto.isAttribute=function(t,e,r){return t=this["$attr?"](t,e,r),t!==Opal.nil&&t},$.$$proto.setAttribute=function(t,e,r){return"undefined"==typeof r&&(r=!0),this.$set_attr(t,e,r)},$.$$proto.removeAttribute=function(t){return t=this.$remove_attr(t),t===Opal.nil?void 0:t},$.$$proto.getDocument=function(){return this.document},$.$$proto.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},$.$$proto.isInline=function(){return this["$inline?"]()},$.$$proto.isBlock=function(){return this["$block?"]()},$.$$proto.isRole=function(t){return this["$role?"](t)},$.$$proto.getRole=function(){return this.$role()},$.$$proto.hasRole=function(t){return this["$has_role?"](t)},$.$$proto.getRoles=function(){return this.$roles()},$.$$proto.addRole=function(t){return this.$add_role(t)},$.$$proto.removeRole=function(t){return this.$remove_role(t)},$.$$proto.isReftext=function(){return this["$reftext?"]()},$.$$proto.getReftext=function(){return this.$reftext()},$.$$proto.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},$.$$proto.getId=function(){return this.id},$.$$proto.isOption=function(t){return this["$option?"](t)},$.$$proto.setOption=function(t){return this.$set_option(t)},$.$$proto.getIconUri=function(t){return this.$icon_uri(t)},$.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},$.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},$.$$proto.getConverter=function(){return this.$converter()},$.$$proto.readContents=function(t,r){return this.$read_contents(t,e(r))},$.$$proto.readAsset=function(t,r){return this.$read_asset(t,e(r))},$.$$proto.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},$.$$proto.normalizeSystemPath=function(t,r,n,i){return this.$normalize_system_path(t,r,n,e(i))},$.$$proto.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var a=Opal.Asciidoctor.Document;a.$$proto.getHeader=function(){return this.header},a.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},a.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},a.$$proto.convert=function(t){return t=this.$convert(e(t)),t===Opal.nil?"":t},a.$$proto.write=function(t,e){return this.$write(t,e)},a.$$proto.getAuthor=function(){return this.$author()},a.$$proto.getSource=function(){return this.$source()},a.$$proto.getSourceLines=function(){return this.$source_lines()},a.$$proto.isNested=function(){return this["$nested?"]()},a.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},a.$$proto.getFootnotes=function(){return this.$footnotes()},a.$$proto.isEmbedded=function(){return this["$embedded?"]()},a.$$proto.hasExtensions=function(){return this["$extensions?"]()},a.$$proto.getDoctype=function(){return this.doctype},a.$$proto.getBackend=function(){return this.backend},a.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},a.$$proto.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},a.$$proto.setTitle=function(t){return this["$title="](t)},a.$$proto.getDocumentTitle=function(t){return t=this.$doctitle(e(t)),t===Opal.nil?void 0:t},a.$$proto.getDoctitle=a.$$proto.getDocumentTitle,a.$$proto.getCatalog=function(){return r(this.catalog)},a.$$proto.getReferences=a.$$proto.getCatalog,a.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")},a.$$proto.getRevdate=function(){return this.getRevisionDate()},a.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")},a.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")},a.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r},$=a.RevisionInfo,$.prototype.getDate=function(){return this.date},$.prototype.getNumber=function(){return this.number},$.prototype.getRemark=function(){return this.remark},$.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},a.$$proto.getRevisionInfo=function(){return new a.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},a.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},a.$$proto.getNotitle=function(){return this.$notitle()},a.$$proto.getNoheader=function(){return this.$noheader()},a.$$proto.getNofooter=function(){return this.$nofooter()},a.$$proto.hasHeader=function(){return this["$header?"]()},a.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},a.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},a.$$proto.parse=function(t){return this.$parse(t)},a.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},a.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},a.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},a.$$proto.counter=function(t,e){return this.$counter(t,e)},a.$$proto.getSafe=function(){return this.safe},a.$$proto.getCompatMode=function(){return this.compat_mode},a.$$proto.getSourcemap=function(){return this.sourcemap},a.$$proto.getCounters=function(){return r(this.counters)},a.$$proto.getCallouts=function(){return this.$callouts()},a.$$proto.getBaseDir=function(){return this.base_dir},a.$$proto.getOptions=function(){return r(this.options)},a.$$proto.getOutfilesuffix=function(){return this.outfilesuffix},a.$$proto.getParentDocument=function(){return this.parent_document},a.$$proto.getReader=function(){return this.reader},a.$$proto.getConverter=function(){return this.converter},a.$$proto.getExtensions=function(){return this.extensions},$=a.Title,$.$$proto.getMain=function(){return this.main},$.$$proto.getCombined=function(){return this.combined},$.$$proto.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},$.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},$.$$proto.hasSubtitle=function(){return this["$subtitle?"]()},$=Opal.Asciidoctor.Inline,$.$$proto.convert=function(){return this.$convert()},$.$$proto.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},$.$$proto.getType=function(){return this.$type()},$.$$proto.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},Opal.Asciidoctor.List.$$proto.getItems=function(){return this.blocks},Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()},$=Opal.Asciidoctor.Reader,$.$$proto.pushInclude=function(t,e,r,n,i){return this.$push_include(t,e,r,n,i)},$.$$proto.getCursor=function(){return this.$cursor()},$.$$proto.getLines=function(){return this.$lines()},$.$$proto.getString=function(){return this.$string()},$=Opal.Asciidoctor.Reader.Cursor,$.$$proto.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},$.$$proto.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},$.$$proto.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},$.$$proto.getLineNumber=function(){return this.lineno},$=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0),(Opal.Asciidoctor.LoggerManager=$)&&($.getLogger=function(){return this.$logger()},$.setLogger=function(t){this.logger=t}),$=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0),(Opal.Asciidoctor.MemoryLogger=$)&&($.$$proto.getMessages=function(){for(var t=this.messages,e=[],n=0;n<t.length;n++){var i=r(t[n]);i.message=r(i.message),e.push(i)}return e});var o=function(t){return t.$$arity=t.length,t},s=function(t,e,r,n){return"function"==typeof r?Opal.send(t,e,n&&[n],o(r)):t["$"+e](r,n)},$=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=$,$.create=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"build_registry",null,o(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],o(e)):this.$build_registry()},$.register=function(t,e){return"function"==typeof t&&"undefined"==typeof e?Opal.send(this,"register",null,o(t)):Opal.send(this,"register",[t],o(e))},$.getGroups=function(){return r(this.$groups())},$.unregisterAll=function(){this.$unregister_all()},$.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,i=e.$$keys;n<i.length;n++){var $=i[n];r[$.toString()]=$}for(n=0;n<t.length;n++)i=t[n],i in r&&Opal.hash_delete(e,r[i])};var u=$.Registry;return u.$$proto.getGroups=$.getGroups,u.$$proto.unregisterAll=function(){this.groups=Opal.hash()},u.$$proto.unregister=$.unregister,u.$$proto.block=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"block",e,t)},u.$$proto.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"inline_macro",e,t)},u.$$proto.includeProcessor=function(t){return s(this,"include_processor",t)},u.$$proto.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"block_macro",e,t)},u.$$proto.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"tree_processor",e,t)},u.$$proto.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"postprocessor",e,t)},u.$$proto.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"preprocessor",e,t)},u.$$proto.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),s(this,"docinfo_processor",e,t)},u=$.Processor,u.$$proto.process=function(t){return Opal.send(this,"process",null,o(t))},u.$$proto.named=function(t){return this.$named(t)},u.$$proto.createBlock=function(t,r,n,i,$){return this.$create_block(t,r,n,e(i),e($))},u.$$proto.createImageBlock=function(t,r,n){return this.$create_image_block(t,e(r),e(n))},u.$$proto.createInline=function(t,r,n,i){return this.$create_inline(t,r,n,e(i))},u.$$proto.parseContent=function(t,e,r){return this.$parse_content(t,e,r);
},u.$$proto.positionalAttributes=function(t){return this.$positional_attrs(t)},u=$.BlockProcessor,u.$$proto.onContext=function(t){return this.$on_context(t)},u.$$proto.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))},$.IncludeProcessor.$$proto.handles=function(t){return Opal.send(this,"handles?",null,o(t))},$.DocinfoProcessor.$$proto.atLocation=function(t){this.$at_location(t)},$=Opal.const_get_qualified(Opal.Asciidoctor,"Converter"),Opal.Asciidoctor.Converter=$,$.$$proto.convert=function(t,r,n){return this.$convert(t,r,e(n))},$.BuiltIn.$$proto.convert=$.$$proto.convert,$=Opal.Asciidoctor.Converter.Factory,$.getDefault=function(t){return this.$default(t)},$.$$proto.create=function(t,r){return this.$create(t,e(r))},i.$$proto.getVersion=function(){return"1.5.6"},Opal.Asciidoctor})}).call(exports,function(){return this}(),__webpack_require__(15),"/")},243:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return d?d.convert(t):t}e.__esModule=!0;var $=r(4),a=n($),o=r(108),s=(n(o),r(238)),u=n(s),l=r(339),c=(n(l),r(338)),h=(n(c),r(240)),f=n(h),d=(0,f.default)(),_=i("\n\n== BỘ GÕ TIẾNG VIỆT S-KEY\n\n* S-Key, hay **S**imple-Key (Vietnamese Input Engine) là bộ gõ được ra đời nhằm thể nghiệm sự kết hợp giữa \nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm[kiểu gõ dấu Tubinhtran-MS] và http://chuvietnhanh.sourceforge.net/ChuVietNhanhCachGhiGonChuViet.htm[phương pháp ghi gọn chữ Việt].\n\nNOTE: Thử nghiệm bộ gõ bằng cách nhập vào khung bên dưới theo đúng các quy tắc của kiểu gõ Tubinhtran-MS + PP ghi gọn chữ Việt.\n\n`S-Key 2018.1.0 (Build 30/4/2018)`\n"),p=i('\n=== NHẬT KÝ PHÁT TRIỂN\n\n* **30/4/2018**: Cập nhật phiên bản 2018.1.0 (Build 30/4/2018)\n** Sửa lỗi bung phụ âm đầu chữ w -> ng/ngh: chỉ bung w -> ng/ngh khi từ có từ 2 kí tự trở lên và phải thỏa \n`ng + a,o,u,â,ă,ô,ư,ơ` hoặc `ngh + e,i,ê`.\nRiêng các phụ âm đầu chữ khác đã bung ngay từ lúc gõ theo đúng quy tắc.\n** Sửa lỗi khi gõ lặp các phím dấu, cũng như lặp hoặc có nhiều kí số trong từ.\n** Đơn giản hóa quá trình đổi chữ in hoa/chữ thường khi bấm phím Shift hoặc (và) CapsLock.\n\nCAUTION: Cơ chế test đã bị cũ, cần tinh chỉnh và sẽ công khai sau.\n\n* **29/4/2018**: Phát hành phiên bản S-Key mới hoàn toàn 2018.1.0 (Build 29/4/2018)\nLần này là sự thay đổi về vòng ngoài của giải thuật, phân tán một số thao tác tiền xử lí từ như: hủy dấu (nhờ thao tác hủy dấu, giờ đây không cần pha xử lý sửa chính tả như ở ghi chú tháng 12/2017 nữa), chống lặp,.. và giữ lại cách thức bỏ (thêm) dấu vào đúng vị trí nguyên âm của S-Key 2017. \n\n* **25/4/2018**: Bắt đầu phát triển phiên bản 2 (2018) của S-Key và di dời phiên bản cũ (2017) về địa chỉ https://nghiaht.github.io/skey/v1\n\n* **17/12/2017**: thực ra ở phiên bản tháng 11 đã phát hiện thứ tự bỏ dấu của S-key bị sai trong một số trường hợp,\nví dụ như muốn ra "huỳnh" mà cứ ra "hùynh", cho nên hôm nay đã phục hồi khâu xử lý thứ tự bỏ dấu về theo\nquy tắc gõ dấu kiểu cũ (là đoạn mã xử lý của bản build S-key đầu tiên)\nthay cho việc thực thi cơ chế bỏ dấu lai giữa kiểu mới và kiểu cũ trong phiên bản trước.\n(thực ra về cách xử lý bỏ dấu kiểu cũ, cũng chưa xử lý đúng được cho tất cả trường hợp, và hướng giải quyết sâu hơn sẽ được nói ở bên dưới).\n\nNói thêm về thứ tự bỏ dấu, nó cũng phức tạp hơn khi input của người dùng trên một từ có thể thay đổi sau vài phím gõ tiếp theo.\nLấy ví dụ:\n\n....\nGõ lần lượt phím h,o,a,2 => "hòa" (ĐÚNG)\nGõ tiếp (không khoảng trắng) n,g => hòang (SAI)\n....\n\nSự phức tạp đó là khi bộ gõ đã thực hiện bỏ dấu một lần cho từ hoàn chỉnh "hòa", nhưng sau đó từ này\nlại thay đổi bằng cách cộng thêm phụ âm cuối n,g thông qua input của người dùng.\nPhức tạp chứ không hẳn là phức tạp, tuy nhiên cũng nên chỉ ra để mọi người đọc nhật ký có thể hiểu thêm,\nvà cũng coi nó là 1 điểm "phức tạp" mà người phát triển gặp phải.\n\nNhư vậy với ví dụ trên, có một số hướng xử lý sâu hơn được nghĩ đến:\n\n....\nhòa => hòa + ng => Hủy dấu hòa và trả phím dấu 2 ra => hoa + ng + 2 => hoàng.\nMột hướng khác đó là áp dụng một bộ sửa lỗi chính tả bằng từ điển ở cuối pha xử lý input của người dùng.\nCũng với hòa => hòa + ng => hòang => Tìm trong từ điển chính tả tự thu thập với những luật như "òa" + "nguyên âm cuối" => Thay "òa" bằng "oà".\n....\n  \n* **14/12/2017**: tiếp tục về phần xử lý gõ lặp một số phím, nhưng hôm nay là 2 phím phụ âm "z" (trong gõ "z" bung ra "d")\nvà "d" (trong gõ "d" bung ra "đ"). Đối với "d", vốn có thể từ "z" => "d", hay "d" => "đ" nên sẽ thêm\nmột chút phức tạp trong khâu xử lý. Tuy nhiên cũng có thể tận dụng lại cách xử lý gõ lặp các phím dấu,\ncác phím số bung ra nguyên âm hôm trước cho bản build 2017.12.14 này.\n\n* **10/11/2017**: có thể thấy đây là một buổi tối làm việc khá tập trung, đã giải quyết được\nviệc gõ lặp các phím dấu chính (sắc huyền hỏi ngã nặng theo kiểu gõ Tubinhtran MS: 1,2,3,4,5; VD: a11 = a1)\nngay trong đêm. Và phần khó hơn phải trải qua 2 ngày (11 và 12) mới tìm cách tháo gỡ đó là khi gõ lặp\ncác phím 6,7,8,9,[,] vốn là các phím "tham lam", gọi là tham lam vì các phím này có thể đóng vai trò\nnhư một phím tắt theo kiểu gõ Tubinhtran-MS để bung ra các nguyên âm/phụ âm như â,ê,ô,ă,ơ,ư, và ngoài ra\nchúng còn có hành vi tương tự khi gõ lặp giống với các phím dấu chính (1,2,3,4,5). Thực sự phức tạp hơn\ntưởng tượng, trong quá trình làm còn tính đến giải quyết khi gõ in hoa và lặp các phím trên, v.v.\n\nTuy nhiên cũng vui vẻ là bản build 2017.11.12.1 đã cơ bản giải quyết được, các trường hợp test mặc dù\nbị bôi đỏ FAIL nhưng thực chất khi gõ trong khung soạn thảo S-key ở trên vẫn ra đúng, báo đỏ FAIL chỉ vì\ncơ chế test hiện tại chưa mô phỏng được các tình huống gõ lặp phím một cách chính xác => Cần thay đổi\ncơ chế test thêm một lần nữa.\n\nMột số trường hợp đã giải quyết như:\na11,\nhoa36,\nh^16,\n...\n\nKết thúc một ngày Chủ Nhật đầy suy nghĩ và thử nghiệm khá nhiều với một phiên bản của S-key đã trưởng thành hơn,\nphức tạp hơn.\n\nViệc vẫn còn đó là với trường hợp gõ lặp các phím phụ âm được gõ bởi 1 phím (z -> d, d -> đ). Xin hẹn\ngiải quyết nốt chúng vào tuần sau.\n\n* **29/10/2017**: tạm thời đóng băng S-key phiên bản cũ, vốn phụ thuộc nhiều vào quy tắc bỏ dấu kiểu cũ,\nnhận thấy sự thiếu nhất quán trong một số trường hợp nguyên âm ghép có hay không có phụ âm cuối (hòa, hoà,\nhoàng,...) => Tạm chuyển\nhướng sang bỏ dấu kiểu mới => Lấy thêm dữ liệu test từ bài viết\nhttp://chuvietnhanh.sourceforge.net/PhuongPhapMoiGoTatChuViet.htm\nsợ bộ thì cách bỏ dấu kiểu mới lại liền mạch, dễ làm, trong đa số các trường hợp, tuy nhiên vẫn cần theo\ndõi\nthêm.\n\nSự bất cập, đấu tranh giữa quy tắc bỏ dấu kiểu cũ và kiểu mới đã có từ lâu, với cách nhìn của một người\nđang\ntự thực thi lại chúng, nhận thấy có thể nên "ép" người dùng bộ gõ của mình sang một cách tổng hợp,\nsao cho phải là cách hợp lý về mặt phát âm, thẩm mỹ, được đa số chấp thuận, vừa cũng là cách nhằm tiết\nkiệm\nsức lực khi phát triển bộ gõ, không phải băn khoăn trong việc níu kéo, cầu toàn, chuyển đổi giữa cả 2 quy\ntắc.\n\n* *T8/2017*: Nếu đã thiết lập bộ test với kiểu gõ Tubinhtran-MS thành công, bỏ dấu đúng với tất cả trường\nhợp\ngõ\nphím.\nTiến hành tích hợp Phương pháp Tốc ký Chữ Việt Nhanh, xây dựng thêm bộ test với các trường hợp trong pp\nnày.\n\n* Mục tiêu tuần **12/6/2017**: đánh giá lại toàn bộ mã, thiết lập bộ test hầu hết các trường hợp gõ phím và\nđiều chỉnh mã để có thể test một cách "máy móc" hơn. Cố gắng có thể mô phỏng lại thứ tự thao tác gõ phím\nvà đảm\nbảo\nengine của bộ gõ có thể đáp ứng được. Vd:\n\n....\nInput: [c,h,Shift_A,o,2] -> Output: chÀo \nInput: [c,h,Capslock,a,Capslock,o,2] -> Output: chÀo\n....\n\n* **10/6/2017**: cập nhật mã xử lý trạng thái phím Shift, Capslock, và đã có thể bỏ dấu chữ in hoa, chữ thường\nlẫn lộn (kể cả các chữ gõ bằng một phím).\n\n** Có một số lấn cấn ở cách bỏ dấu kiểu cũ, kiểu mới, do phát hiện các trường hợp ngoại lệ ở các cặp "oa", "oe", "uy".\n** Tạm thời quy ước trong mã và tinh chỉnh để bỏ dấu đúng (vd: huỳnh # hùynh).\n** Tạm sửa vị trí bỏ dấu ở cặp "ia", "ua" (già # gìa, quà # qùa).\n** Có thể phải xác nhận lại cách bỏ dấu: cũ hay mới, hoặc sinh ra bộ sửa lỗi chính tả?\n\n* Mục tiêu tuần **29/5/2017**: thay đổi cách thức nhận phím gõ của người dùng, nhận diện được tình trạng các phím CapsLock, \nShift (liên quan đến các chữ gõ bằng một phím) để có thể gõ được chữ in hoa, chữ thường đan xen (DANG DỞ).\n\n* Tuần **22/5/2017**: thay đổi cách tiếp cận, vận dụng một số khái niệm cơ bản của lexer, tokenizer và hình\nthành bản phôi thai đầu tiên, có thể gõ dấu hoàn chỉnh theo kiểu gõ Tubinhtran-MS, chưa gõ dấu chữ in hoa được.\n\n* Tuần **8/5/2017**: khởi động dự án, tìm kiếm ý tưởng, cách thức thực thi từ những dự án tương tự trước đó.              \n'),y=i("\n=== THÔNG TIN THÊM\n\n* https://nghiaht.github.io/skey[S-Key (C) 2017 - 2018] - Tác giả: https://nghiaht.github.io[Huỳnh Trọng Nghĩa].\n* Thông tin trên trang này được viết theo https://asciidoctor.org/docs/asciidoc-syntax-quick-reference[cú pháp Asciidoctor].\n* Giao diện trang web nhờ vào https://foundation.zurb.com/[Foundation] .\n"),m=function(){return a.default.createElement("div",null,a.default.createElement("div",{dangerouslySetInnerHTML:{__html:_}}),a.default.createElement(u.default,null),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:p}}),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:y}}))};e.default=m,t.exports=e.default},245:function(t,e,r){(function(t){"use strict";function e(t,e){return Object.keys(t).forEach(function(r){e[t[r]]=r}),e}function n(t){for(var e=0,r=[];e<t.length;){for(var n=null,i=0;i<j.length;i++){var $=j[i],a=$[0],o=$[1],s=t[e];if(n=a.test(s)){if(o){var u=[s,o];r.push(u)}break}}e+=1}return r}function i(t){for(var e=[],r=[],n=0;n<t.length;n++){var i=t[n];(O.test(i)||A.test(i))&&(e=e.concat(r),r=[]);var $=H[i];$?1===$.length?e.push($):2===$.length&&(e.push($[0]),r.push($[1])):e.push(i)}r.length>0&&(e=e.concat(r));var a=e.join("");return a}function $(t){if(_.logger.debug("- Deduplicate",t),1===t.length)return t;for(var e=""+t[0],r=!1,n=1;n<t.length;n++){var i=t[n],$=V[i];if(!r)if($){if(0===e.indexOf($)){e=e.replace($,i),r=!0;continue}}else{var a=K[i];if(a){var o=t[n-1];if(o&&o===a){e=e.replace(o,i),r=!0;continue}}}e+=i}return e}function a(t){for(var e=[],r=t.length,n=!1,i=0;i<r;i++){var $=t[i],a=$.slice();if(a[1]===b){if(0===i){var o=V[a[0]];if(o){var s=1===r;"w"===a[0]&&(s=2===r),s&&(a[1]=k)}}else if(i===r-1){var u=J[a[0]],l=e[i-1];_.logger.debug("foundEndOfWordConsonant",u,l),u&&l&&(l[1]===m||l[1]===v||l[1]===p)&&l[0]!==u[0]&&(a[1]=x)}}else if(a[1]===m);else if(a[1]===w){var c=e[i-1],h=!0;if(c&&(h=!(c[1]===E||c[1]===w||c[1]===p||c[1]===y)),h)S.test(a[0])?a[1]=y:K[a[0]]&&(a[1]=p);else if(c){var f=t[i+1];if(c[1]===y&&c[0]===a[0]&&!n&&!f){n=!0,c[1]=E;continue}c[1]=E}}else $[1]===E&&K[a[0]]&&(a[1]=p);e.push(a)}return e}function o(t){for(var e=void 0,r=void 0,i=void 0,$=void 0,a=void 0,o=void 0,u=t.slice(),l=0;l<u.length;l++){var h=u[l];if(h[1]===k){var f=V[h[0]];if(f){var d=!0;if(_.logger.debug("token",h),"w"===h[0])if(2!==t.length)d=!1;else{var g=u[l+1];g?Z.ng.test(g[0])&&("Ng"===f?f="Ngh":"ng"===f&&(f="ngh")):d=!1}d&&(u=u.slice(0,l).concat(n(f)).concat(u.slice(l+1)))}}else if(h[1]===x){var v=J[h[0]];v&&(u=u.slice(0,l).concat(n(v)).concat(u.slice(l+1)))}else if(h[1]===p){var w=K[h[0]];w&&(u=u.slice(0,l).concat(n(w)).concat(u.slice(l+1)))}}for(var E=c(u),A=0;A<X.length;A++){var O=X[A],S=E.indexOf(O);if(S!==-1){var R=W[O];R=2===R.length&&0===S?R[1]:R[0],u=u.slice(0,S).concat(n(R)).concat(u.slice(S+O.length));break}}for(var I=0;I<u.length;I++){var T=u[I];T[1]===m?("êơÊƠ".indexOf(T[0])!==-1&&(o=[I,T]),i=r?[I,T]:i,r=!r&&e?[I,T]:r,e=e?e:[I,T]):T[1]===y?a=[I,T]:T[1]===b&&($=e||r||i?[I,T]:$)}if(o&&a){var M=s(o[1],a[1]);M&&(u[o[0]]=M,u.splice(a[0],1))}else if(i&&a){var C=s(r[1],a[1]);C&&(u[r[0]]=C,u.splice(a[0],1))}else if(r&&$&&a){var N=s(r[1],a[1]);N&&(u[r[0]]=N,u.splice(a[0],1))}else if(e&&a){var z="gi|qu",B=u[0][0]+u[1][0];if(r&&z.indexOf(B)!==-1){var D=s(r[1],a[1]);D&&(u[r[0]]=D,u.splice(a[0],1))}else{var F=s(e[1],a[1]);F&&(u[e[0]]=F,u.splice(a[0],1))}}return u}function s(t,e){var r=K[t[0]+e[0]];return r?[r,m]:null}function u(t,e){_.logger.debug("Last is UPPERCASE",e);for(var r=0;r<t.length;r++){var s=t[r-1],u=t[r];if(s&&(A.test(u)&&A.test(s)||S.test(u)&&S.test(s)))return _.logger.debug("stop"),t}var l=i(t),f=$(t);if(f.length!==t.length)return h(f,e);var d=i(l),p=n(d);_.logger.debug("- Lex",p);var y=a(p);_.logger.debug("- Parse",y);var m=o(y);return _.logger.debug("- Finalize",m),h(c(m),e)}function l(t,e){return _.logger.debug("Mofidiers status",e),0===t.trim().length?t:u(t,f(e))}function c(t){return t.map(function(t){return t[0]}).join("")}function h(t,e){var r=t.split(""),n=r.length-1;return _.logger.debug("Fix Uppercase",t,e),e?r[n]=r[n].toUpperCase():r[n]=r[n].toLowerCase(),r.join("")}function f(t){if(t){if(t.shift&&t.capslock)return!1;if(t.shift||t.capslock)return!0}return!1}var d,_=r(246),p="ONE_KEY_VOWEL_TAG",y="ACCENT_KEY_TAG",m="VOWEL_TAG",g="ACCENTIZED_VOWEL_TAG",v="SEMI_ACCENTIZED_VOWEL_TAG",b="CONSONANT_TAG",w="DIGIT_TAG",E="SYMBOL_TAG",k="START_OF_WORD_CONSONANT_TAG",x="END_OF_WORD_CONSONANT_TAG",A=/[^0-9aăâeêioôơuưyáàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵbcdđfghjklmnpqrstvwxz]+/i,O=/[0-9]+/,S=/[1-5]+/,R=/[áàảãạắằẳẵặấầẩẫậéèẻẽẹếềểễệíìỉĩịóòỏõọớờởỡợốồổỗộúùủũụứừửữựýỳỷỹỵ]+/i,I=/[aăâeêioôơuưy]+/i,T="a á à ả ã ạ",M="â ấ ầ ẩ ẫ ậ 6 ^",C="ă ắ ằ ẳ ẵ ặ 9 (",N="e é è ẻ ẽ ẹ",z="ê ế ề ể ễ ệ 7 &",B="i í ỉ ĩ ị",D="o ó ò ỏ õ ọ",F="ô ố ồ ổ ỗ ộ 8 *",L="ơ ớ ờ ở ỡ ợ \\] }",P="u ú ù ủ ũ ụ",q="ư ứ ừ ử ữ ự \\[ {",j=[[/[ \n\t]+/,null],[O,w],[R,g],[I,m],[/[bcdđfghjklmnpqrstvwxz]+/i,b],[A,E]],U={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}"},H=(d={"â":"6","Â":"^","ê":"7","Ê":"&","ô":"8","Ô":"*","ă":"9","Ă":"(","ư":"[","Ư":"{","ơ":"]","Ơ":"}","á":"a1","à":"a2","ả":"a3","ã":"a4","ạ":"a5","ắ":"ă1","ằ":"ă2","ẳ":"ă3","ẵ":"ă4","ặ":"ă5","ấ":"â1","ầ":"â2","ẩ":"â3","ẫ":"â4","ậ":"â5","é":"e1","è":"e2","ẻ":"e3","ẽ":"e4","ẹ":"e5","ế":"ê1","ề":"ê2","ể":"ê3","ễ":"ê4","ệ":"ê5","í":"i1","ì":"i2","ỉ":"i3","ĩ":"i4","ị":"i5","ó":"o1","ò":"o2","ỏ":"o3","õ":"o4","ọ":"o5","ớ":"ơ1","ờ":"ơ2","ở":"ơ3","ỡ":"ơ4","ợ":"ơ5","ố":"ô1","ồ":"ô2","ổ":"ô3","ỗ":"ô4","ộ":"ô5","ú":"u1","ù":"u2","ủ":"u3","ũ":"u4","ụ":"u5","ứ":"ư1","ừ":"ư2","ử":"ư3","ữ":"ư4","ự":"ư5","ý":"y1","ỳ":"y2","ỷ":"y3","ỹ":"y4","ỵ":"y5","Á":"A1","À":"A2","Ả":"A3","Ã":"A4","Ạ":"A5","Ắ":"Ă1","Ằ":"Ă2","Ẳ":"Ă3","Ẵ":"Ă4","Ặ":"Ă5","Ấ":"Â1","Ầ":"Â2","Ẩ":"Â3","Ẫ":"Â4","Ậ":"Â5","É":"E1","È":"E2","Ẻ":"E3","Ẽ":"E4","Ẹ":"E5","Ế":"Ê1","Ề":"Ê2","Ể":"Ê3","Ễ":"Ê4","Ệ":"Ê5","Í":"I1","Ì":"I2","Ỉ":"I3","Ĩ":"I4","Ị":"I5","Ó":"O1","Ò":"O2","Ỏ":"O3","Õ":"O4","Ọ":"O5"},d["ớ"]="ơ1",d["ờ"]="ơ2",d["ở"]="ơ3",d["ỡ"]="ơ4",d["ợ"]="ơ5",d["ố"]="ô1",d["ồ"]="ô2",d["ổ"]="ô3",d["ỗ"]="ô4",d["ộ"]="ô5",d["Ú"]="U1",d["Ù"]="U2",d["Ủ"]="U3",d["Ũ"]="U4",d["Ụ"]="U5",d["Ứ"]="Ư1",d["Ừ"]="Ư2",d["Ử"]="Ư3",d["Ữ"]="Ư4",d["Ự"]="Ư5",d["Ý"]="Y1",d["Ỳ"]="Y2",d["Ỷ"]="Y3",d),G={ph:"f",kh:"k",ng:"w",gi:"j",gh:"g",qu:"q",Ph:"F",Kh:"K",Ng:"W",Gi:"J",Gh:"G",Qu:"Q",k:"c",d:"z","đ":"d",K:"C",D:"Z","Đ":"D"},Y={ng:"g",nh:"h",ch:"k"},W={id:["iêt","yêt"],if:["iêp"],is:["iêc"],il:["iên","yên"],iv:["iêm","yêm"],iz:["iêng","yêng"],iw:["iêu","yêu"],yd:["uyêt"],yl:["uyên"],ud:["uôt"],us:["uôc"],ul:["uôn"],uv:["uôm"],uz:["uông"],uj:["uôi"],"ưd":["ươt"],"ưf":["ươp"],"ưs":["ươc"],"ưl":["ươn"],"ưv":["ươm"],"ưz":["ương"],"ưj":["ươi"],"ưw":["ươu"],"ơd":["uơt"],"ơl":["uơn"],"âd":["uât"],"âl":["uân"],"âz":["uâng"],"âj":["uây"],"ăd":["oăt"],"ăs":["oăc"],"ăl":["oăn"],"ăv":["oăm"],"ăz":["oăng"],ed:["oet"],el:["oen"],ev:["oem"],ew:["oeo"],od:["oat"],of:["oap"],os:["oac"],ol:["oan"],ov:["oam"],oz:["oang"],oj:["oai"],ow:["oao"],aj:["oay"]},X=Object.keys(W),K=e(H,{}),V=e(G,{}),J=e(Y,{}),Z=(e(U,{}),{ph:new RegExp(["[",C,"]"].join(""),"i"),k:new RegExp(["[",T,D,P,M,C,F,q,L,"]"].join(""),"i"),gh:new RegExp(["[",D,P,M,C,z,F,q,L,"]"].join(""),"i"),qu:new RegExp(["[",D,P,F,q,L,"]"].join(""),"i"),ng:new RegExp(["[",N,B,z,"]"].join(""),"i"),ngh:new RegExp(["[",T,D,P,M,C,F,q,L,"]"].join(""),"i")});r.c[0]===t,t.exports={lex:n,unaccentize:i,deduplicate:$,makeWord:c,doEvaluate:l}}).call(e,r(221)(t))},246:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.logger=void 0;var i=r(247),$=n(i);e.logger=$.default},247:function(t,e,r){"use strict";e.__esModule=!0;var n=r(258);n.logger.setLevel("ERROR"),e.default=n.logger,t.exports=e.default},257:function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function i(t){var e,n,i,$,a,o=t.length;$=r(t),a=new l(3*o/4-$),n=$>0?o-4:o;var s=0;for(e=0;e<n;e+=4)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===$?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,a[s++]=255&i):1===$&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}function $(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function a(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push($(n));return i.join("")}function o(t){for(var e,r=t.length,n=r%3,i="",$=[],o=16383,u=0,l=r-n;u<l;u+=o)$.push(a(t,u,u+o>l?l:u+o));return 1===n?(e=t[r-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),$.push(i),$.join("")}e.byteLength=n,e.toByteArray=i,e.fromByteArray=o;for(var s=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=c.length;h<f;++h)s[h]=c[h],u[c.charCodeAt(h)]=h;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},258:function(t,e,r){(function(t){function n(t,e){console.log.apply(null,[$[t]+":"].concat(Object.keys(e).map(function(t){return e[t]})))}function i(t,e){a<=t&&o.log(t,e)}e.LOGGING_LEVELS=LOGGING_LEVELS={NOTSET:0,DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50};var $={};Object.keys(LOGGING_LEVELS).map(function(t){$[LOGGING_LEVELS[t]]=t});var a=LOGGING_LEVELS.NOTSET;const o={};o.log=n;const s={};s.setLevel=function(t){var e=LOGGING_LEVELS[t];if(!isNaN(e))return void(a=e);var r=parseInt(t);if(isNaN(r))throw new Error("Invalid logging level");a=t},s.log=function(t,e){i(t,e)},s.debug=function(t){this.log(LOGGING_LEVELS.DEBUG,arguments)},s.info=function(t){this.log(LOGGING_LEVELS.INFO,arguments)},s.warning=function(t){this.log(LOGGING_LEVELS.WARNING,arguments)},s.error=function(t){this.log(LOGGING_LEVELS.ERROR,arguments)},s.critical=function(t){this.log(LOGGING_LEVELS.CRITICAL,arguments)},e.logger=s,e.Logging=o,r.c[0]===t&&s.info("hihiii")}).call(e,r(221)(t))},338:function(t,e){},339:function(t,e){},366:function(t,e,r){(function(e){"use strict";function n(t){i.call(this),this._block=new e(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=r(218).Transform,$=r(8);$(n,i),n.prototype._transform=function(t,r,n){var i=null;try{"buffer"!==r&&(t=new e(t,r)),this.update(t)}catch(t){i=t}n(i)},n.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(t){e=t}t(e)},n.prototype.update=function(t,r){if(!e.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");e.isBuffer(t)||(t=new e(t,r||"binary"));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var $=this._blockOffset;$<this._blockSize;)n[$++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,o=8*t.length;o>0;++a)this._length[a]+=o,o=this._length[a]/4294967296|0,o>0&&(this._length[a]-=4294967296*o);return this},n.prototype._update=function(t){throw new Error("_update is not implemented")},n.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return void 0!==t&&(e=e.toString(t)),e},n.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=n}).call(e,r(7).Buffer)},367:function(t,e){e.read=function(t,e,r,n,i){var $,a,o=8*i-n-1,s=(1<<o)-1,u=s>>1,l=-7,c=r?i-1:0,h=r?-1:1,f=t[e+c];for(c+=h,$=f&(1<<-l)-1,f>>=-l,l+=o;l>0;$=256*$+t[e+c],c+=h,l-=8);for(a=$&(1<<-l)-1,$>>=-l,l+=n;l>0;a=256*a+t[e+c],c+=h,l-=8);if(0===$)$=1-u;else{if($===s)return a?NaN:(f?-1:1)*(1/0);a+=Math.pow(2,n),$-=u}return(f?-1:1)*a*Math.pow(2,$-n)},e.write=function(t,e,r,n,i,$){var a,o,s,u=8*$-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:$-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+c>=1?h/s:h*Math.pow(2,1-c),e*s>=2&&(a++,s/=2),a+c>=l?(o=0,a=l):a+c>=1?(o=(e*s-1)*Math.pow(2,i),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+f]=255&a,f+=d,a/=256,u-=8);t[r+f-d]|=128*_}},375:function(t,e,r){function n(t){return r(i(t))}function i(t){return $[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var $={"./base64":115,"./base64.js":115,"./index":116,"./index.js":116,"./nodejs":117,"./nodejs.js":117,"./opal":118,"./opal.js":118,"./open-uri":119,"./open-uri.js":119,"./pathname":120,"./pathname.js":120,"./stringio":121,"./stringio.js":121};n.keys=function(){return Object.keys($)},n.resolve=i,t.exports=n,n.id=375},376:function(t,e,r){(function(e){t.exports=function(t){function r(t,e,r,i,$,a){if("function"==typeof $&&(a=$,$=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var o;try{o=n(t,e,r,i,$)}catch(t){return a(t)}a(void 0,o)})}function n(r,n,i,$,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof $)throw new TypeError("Key length not a number");if($<0)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(r)||(r=new e(r)),e.isBuffer(n)||(n=new e(n));var o,s,u,l=1,c=new e($),h=new e(n.length+4);n.copy(h,0,0,n.length);for(var f=1;f<=l;f++){h.writeUInt32BE(f,n.length);var d=t.createHmac(a,r).update(h).digest();if(!o&&(o=d.length,u=new e(o),l=Math.ceil($/o),s=$-(l-1)*o,$>(Math.pow(2,32)-1)*o))throw new TypeError("keylen exceeds maximum length");d.copy(u,0,0,o);for(var _=1;_<i;_++){d=t.createHmac(a,r).update(d).digest();for(var p=0;p<o;p++)u[p]^=d[p]}var y=(f-1)*o,m=f==l?s:o;u.copy(c,y,0,m)}return c}return{pbkdf2:r,pbkdf2Sync:n}}}).call(e,r(7).Buffer)},475:function(t,e,r){t.exports=r(28)},476:function(t,e,r){"use strict";function n(t){return this instanceof n?void i.call(this,t):new n(t)}t.exports=n;var i=r(213),$=r(52);$.inherits=r(8),$.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},477:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,r){t.copy(e,r)}var $=r(17).Buffer,a=r(505);t.exports=function(){function t(){n(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return $.alloc(0);if(1===this.length)return this.head.data;for(var e=$.allocUnsafe(t>>>0),r=this.head,n=0;r;)i(r.data,e,n),n+=r.data.length,r=r.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},478:function(t,e,r){t.exports=r(142).PassThrough},479:function(t,e,r){t.exports=r(142).Transform},480:function(t,e,r){t.exports=r(141)},482:function(t,e,r){(function(e){"use strict";function n(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function $(t,e,r,n,$,a,o,s){return i(t+(e^r^n)+a+o|0,s)+$|0}function a(t,e,r,n,$,a,o,s){return i(t+(e&r|~e&n)+a+o|0,s)+$|0}function o(t,e,r,n,$,a,o,s){return i(t+((e|~r)^n)+a+o|0,s)+$|0}function s(t,e,r,n,$,a,o,s){return i(t+(e&n|r&~n)+a+o|0,s)+$|0}function u(t,e,r,n,$,a,o,s){return i(t+(e^(r|~n))+a+o|0,s)+$|0}var l=r(8),c=r(366);l(n,c),n.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,l=this._c,c=this._d,h=this._e;r=$(r,n,l,c,h,t[0],0,11),l=i(l,10),h=$(h,r,n,l,c,t[1],0,14),n=i(n,10),c=$(c,h,r,n,l,t[2],0,15),r=i(r,10),l=$(l,c,h,r,n,t[3],0,12),h=i(h,10),n=$(n,l,c,h,r,t[4],0,5),c=i(c,10),r=$(r,n,l,c,h,t[5],0,8),l=i(l,10),h=$(h,r,n,l,c,t[6],0,7),n=i(n,10),c=$(c,h,r,n,l,t[7],0,9),r=i(r,10),l=$(l,c,h,r,n,t[8],0,11),h=i(h,10),n=$(n,l,c,h,r,t[9],0,13),c=i(c,10),r=$(r,n,l,c,h,t[10],0,14),l=i(l,10),h=$(h,r,n,l,c,t[11],0,15),n=i(n,10),c=$(c,h,r,n,l,t[12],0,6),r=i(r,10),l=$(l,c,h,r,n,t[13],0,7),h=i(h,10),n=$(n,l,c,h,r,t[14],0,9),c=i(c,10),r=$(r,n,l,c,h,t[15],0,8),l=i(l,10),h=a(h,r,n,l,c,t[7],1518500249,7),n=i(n,10),c=a(c,h,r,n,l,t[4],1518500249,6),r=i(r,10),l=a(l,c,h,r,n,t[13],1518500249,8),h=i(h,10),n=a(n,l,c,h,r,t[1],1518500249,13),c=i(c,10),r=a(r,n,l,c,h,t[10],1518500249,11),l=i(l,10),h=a(h,r,n,l,c,t[6],1518500249,9),n=i(n,10),c=a(c,h,r,n,l,t[15],1518500249,7),r=i(r,10),l=a(l,c,h,r,n,t[3],1518500249,15),h=i(h,10),n=a(n,l,c,h,r,t[12],1518500249,7),c=i(c,10),r=a(r,n,l,c,h,t[0],1518500249,12),l=i(l,10),h=a(h,r,n,l,c,t[9],1518500249,15),n=i(n,10),c=a(c,h,r,n,l,t[5],1518500249,9),r=i(r,10),l=a(l,c,h,r,n,t[2],1518500249,11),h=i(h,10),n=a(n,l,c,h,r,t[14],1518500249,7),c=i(c,10),r=a(r,n,l,c,h,t[11],1518500249,13),l=i(l,10),h=a(h,r,n,l,c,t[8],1518500249,12),n=i(n,10),c=o(c,h,r,n,l,t[3],1859775393,11),r=i(r,10),l=o(l,c,h,r,n,t[10],1859775393,13),h=i(h,10),n=o(n,l,c,h,r,t[14],1859775393,6),c=i(c,10),r=o(r,n,l,c,h,t[4],1859775393,7),l=i(l,10),h=o(h,r,n,l,c,t[9],1859775393,14),n=i(n,10),c=o(c,h,r,n,l,t[15],1859775393,9),r=i(r,10),l=o(l,c,h,r,n,t[8],1859775393,13),h=i(h,10),n=o(n,l,c,h,r,t[1],1859775393,15),c=i(c,10),r=o(r,n,l,c,h,t[2],1859775393,14),l=i(l,10),h=o(h,r,n,l,c,t[7],1859775393,8),n=i(n,10),c=o(c,h,r,n,l,t[0],1859775393,13),r=i(r,10),l=o(l,c,h,r,n,t[6],1859775393,6),h=i(h,10),n=o(n,l,c,h,r,t[13],1859775393,5),c=i(c,10),r=o(r,n,l,c,h,t[11],1859775393,12),l=i(l,10),h=o(h,r,n,l,c,t[5],1859775393,7),n=i(n,10),c=o(c,h,r,n,l,t[12],1859775393,5),r=i(r,10),l=s(l,c,h,r,n,t[1],2400959708,11),h=i(h,10),n=s(n,l,c,h,r,t[9],2400959708,12),c=i(c,10),r=s(r,n,l,c,h,t[11],2400959708,14),l=i(l,10),h=s(h,r,n,l,c,t[10],2400959708,15),n=i(n,10),c=s(c,h,r,n,l,t[0],2400959708,14),r=i(r,10),l=s(l,c,h,r,n,t[8],2400959708,15),h=i(h,10),n=s(n,l,c,h,r,t[12],2400959708,9),c=i(c,10),r=s(r,n,l,c,h,t[4],2400959708,8),l=i(l,10),h=s(h,r,n,l,c,t[13],2400959708,9),n=i(n,10),c=s(c,h,r,n,l,t[3],2400959708,14),r=i(r,10),l=s(l,c,h,r,n,t[7],2400959708,5),h=i(h,10),n=s(n,l,c,h,r,t[15],2400959708,6),c=i(c,10),r=s(r,n,l,c,h,t[14],2400959708,8),l=i(l,10),h=s(h,r,n,l,c,t[5],2400959708,6),n=i(n,10),c=s(c,h,r,n,l,t[6],2400959708,5),r=i(r,10),l=s(l,c,h,r,n,t[2],2400959708,12),h=i(h,10),n=u(n,l,c,h,r,t[4],2840853838,9),c=i(c,10),r=u(r,n,l,c,h,t[0],2840853838,15),l=i(l,10),h=u(h,r,n,l,c,t[5],2840853838,5),n=i(n,10),c=u(c,h,r,n,l,t[9],2840853838,11),r=i(r,10),l=u(l,c,h,r,n,t[7],2840853838,6),h=i(h,10),n=u(n,l,c,h,r,t[12],2840853838,8),c=i(c,10),r=u(r,n,l,c,h,t[2],2840853838,13),l=i(l,10),h=u(h,r,n,l,c,t[10],2840853838,12),n=i(n,10),c=u(c,h,r,n,l,t[14],2840853838,5),r=i(r,10),l=u(l,c,h,r,n,t[1],2840853838,12),h=i(h,10),n=u(n,l,c,h,r,t[3],2840853838,13),c=i(c,10),r=u(r,n,l,c,h,t[8],2840853838,14),l=i(l,10),h=u(h,r,n,l,c,t[11],2840853838,11),n=i(n,10),c=u(c,h,r,n,l,t[6],2840853838,8),r=i(r,10),l=u(l,c,h,r,n,t[15],2840853838,5),h=i(h,10),n=u(n,l,c,h,r,t[13],2840853838,6),c=i(c,10);var f=this._a,d=this._b,_=this._c,p=this._d,y=this._e;f=u(f,d,_,p,y,t[5],1352829926,8),_=i(_,10),y=u(y,f,d,_,p,t[14],1352829926,9),d=i(d,10),p=u(p,y,f,d,_,t[7],1352829926,9),f=i(f,10),_=u(_,p,y,f,d,t[0],1352829926,11),y=i(y,10),d=u(d,_,p,y,f,t[9],1352829926,13),p=i(p,10),f=u(f,d,_,p,y,t[2],1352829926,15),_=i(_,10),y=u(y,f,d,_,p,t[11],1352829926,15),d=i(d,10),p=u(p,y,f,d,_,t[4],1352829926,5),f=i(f,10),_=u(_,p,y,f,d,t[13],1352829926,7),y=i(y,10),d=u(d,_,p,y,f,t[6],1352829926,7),p=i(p,10),f=u(f,d,_,p,y,t[15],1352829926,8),_=i(_,10),y=u(y,f,d,_,p,t[8],1352829926,11),d=i(d,10),p=u(p,y,f,d,_,t[1],1352829926,14),f=i(f,10),_=u(_,p,y,f,d,t[10],1352829926,14),y=i(y,10),d=u(d,_,p,y,f,t[3],1352829926,12),p=i(p,10),f=u(f,d,_,p,y,t[12],1352829926,6),_=i(_,10),y=s(y,f,d,_,p,t[6],1548603684,9),d=i(d,10),p=s(p,y,f,d,_,t[11],1548603684,13),f=i(f,10),_=s(_,p,y,f,d,t[3],1548603684,15),y=i(y,10),d=s(d,_,p,y,f,t[7],1548603684,7),p=i(p,10),f=s(f,d,_,p,y,t[0],1548603684,12),_=i(_,10),y=s(y,f,d,_,p,t[13],1548603684,8),d=i(d,10),p=s(p,y,f,d,_,t[5],1548603684,9),f=i(f,10),_=s(_,p,y,f,d,t[10],1548603684,11),y=i(y,10),d=s(d,_,p,y,f,t[14],1548603684,7),p=i(p,10),f=s(f,d,_,p,y,t[15],1548603684,7),_=i(_,10),y=s(y,f,d,_,p,t[8],1548603684,12),d=i(d,10),p=s(p,y,f,d,_,t[12],1548603684,7),f=i(f,10),_=s(_,p,y,f,d,t[4],1548603684,6),y=i(y,10),d=s(d,_,p,y,f,t[9],1548603684,15),p=i(p,10),f=s(f,d,_,p,y,t[1],1548603684,13),_=i(_,10),y=s(y,f,d,_,p,t[2],1548603684,11),d=i(d,10),p=o(p,y,f,d,_,t[15],1836072691,9),f=i(f,10),_=o(_,p,y,f,d,t[5],1836072691,7),y=i(y,10),d=o(d,_,p,y,f,t[1],1836072691,15),p=i(p,10),f=o(f,d,_,p,y,t[3],1836072691,11),_=i(_,10),y=o(y,f,d,_,p,t[7],1836072691,8),d=i(d,10),p=o(p,y,f,d,_,t[14],1836072691,6),f=i(f,10),_=o(_,p,y,f,d,t[6],1836072691,6),y=i(y,10),d=o(d,_,p,y,f,t[9],1836072691,14),p=i(p,10),f=o(f,d,_,p,y,t[11],1836072691,12),_=i(_,10),y=o(y,f,d,_,p,t[8],1836072691,13),d=i(d,10),p=o(p,y,f,d,_,t[12],1836072691,5),f=i(f,10),_=o(_,p,y,f,d,t[2],1836072691,14),y=i(y,10),d=o(d,_,p,y,f,t[10],1836072691,13),p=i(p,10),f=o(f,d,_,p,y,t[0],1836072691,13),_=i(_,10),y=o(y,f,d,_,p,t[4],1836072691,7),d=i(d,10),p=o(p,y,f,d,_,t[13],1836072691,5),f=i(f,10),_=a(_,p,y,f,d,t[8],2053994217,15),y=i(y,10),d=a(d,_,p,y,f,t[6],2053994217,5),p=i(p,10),f=a(f,d,_,p,y,t[4],2053994217,8),_=i(_,10),y=a(y,f,d,_,p,t[1],2053994217,11),d=i(d,10),p=a(p,y,f,d,_,t[3],2053994217,14),f=i(f,10),_=a(_,p,y,f,d,t[11],2053994217,14),y=i(y,10),d=a(d,_,p,y,f,t[15],2053994217,6),p=i(p,10),f=a(f,d,_,p,y,t[0],2053994217,14),_=i(_,10),y=a(y,f,d,_,p,t[5],2053994217,6),d=i(d,10),p=a(p,y,f,d,_,t[12],2053994217,9),f=i(f,10),_=a(_,p,y,f,d,t[2],2053994217,12),y=i(y,10),d=a(d,_,p,y,f,t[13],2053994217,9),p=i(p,10),f=a(f,d,_,p,y,t[9],2053994217,12),_=i(_,10),y=a(y,f,d,_,p,t[7],2053994217,5),d=i(d,10),p=a(p,y,f,d,_,t[10],2053994217,15),f=i(f,10),_=a(_,p,y,f,d,t[14],2053994217,8),y=i(y,10),d=$(d,_,p,y,f,t[12],0,8),p=i(p,10),f=$(f,d,_,p,y,t[15],0,5),_=i(_,10),y=$(y,f,d,_,p,t[10],0,12),d=i(d,10),p=$(p,y,f,d,_,t[4],0,9),f=i(f,10),_=$(_,p,y,f,d,t[1],0,12),y=i(y,10),d=$(d,_,p,y,f,t[5],0,5),p=i(p,10),f=$(f,d,_,p,y,t[8],0,14),_=i(_,10),y=$(y,f,d,_,p,t[7],0,6),d=i(d,10),p=$(p,y,f,d,_,t[6],0,8),f=i(f,10),_=$(_,p,y,f,d,t[2],0,13),y=i(y,10),d=$(d,_,p,y,f,t[13],0,6),p=i(p,10),f=$(f,d,_,p,y,t[14],0,5),_=i(_,10),y=$(y,f,d,_,p,t[0],0,15),d=i(d,10),p=$(p,y,f,d,_,t[3],0,13),f=i(f,10),_=$(_,p,y,f,d,t[9],0,11),y=i(y,10),d=$(d,_,p,y,f,t[11],0,11),p=i(p,10);var m=this._b+l+p|0;this._b=this._c+c+y|0,this._c=this._d+h+f|0,this._d=this._e+r+d|0,this._e=this._a+n+_|0,this._a=m},n.prototype._digest=function(){
this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=n}).call(e,r(7).Buffer)},485:function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return _[d]=n,f(d),d++}function i(t){delete _[t]}function $(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function a(t){if(p)setTimeout(a,0,t);else{var e=_[t];if(e){p=!0;try{$(e)}finally{i(t),p=!1}}}}function o(){f=function(t){e.nextTick(function(){a(t)})}}function s(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function u(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&a(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),f=function(r){t.postMessage(e+r,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function c(){var t=y.documentElement;f=function(e){var r=y.createElement("script");r.onreadystatechange=function(){a(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function h(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,d=1,_={},p=!1,y=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?o():s()?u():t.MessageChannel?l():y&&"onreadystatechange"in y.createElement("script")?c():h(),m.setImmediate=n,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(15))},486:function(t,e,r){var e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};e.sha=r(487),e.sha1=r(488),e.sha224=r(489),e.sha256=r(216),e.sha384=r(490),e.sha512=r(217)},487:function(t,e,r){function n(){this.init(),this._w=c,s.call(this,64,56)}function i(t){return t<<5|t>>>27}function $(t){return t<<30|t>>>2}function a(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var o=r(8),s=r(45),u=r(17).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);o(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,o=0|this._c,s=0|this._d,u=0|this._e,c=0;c<16;++c)e[c]=t.readInt32BE(4*c);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var h=0;h<80;++h){var f=~~(h/20),d=i(r)+a(f,n,o,s)+u+e[h]+l[f]|0;u=s,s=o,o=$(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},n.prototype._hash=function(){var t=u.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},488:function(t,e,r){function n(){this.init(),this._w=h,u.call(this,64,56)}function i(t){return t<<1|t>>>31}function $(t){return t<<5|t>>>27}function a(t){return t<<30|t>>>2}function o(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}var s=r(8),u=r(45),l=r(17).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);s(n,u),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(t){for(var e=this._w,r=0|this._a,n=0|this._b,s=0|this._c,u=0|this._d,l=0|this._e,h=0;h<16;++h)e[h]=t.readInt32BE(4*h);for(;h<80;++h)e[h]=i(e[h-3]^e[h-8]^e[h-14]^e[h-16]);for(var f=0;f<80;++f){var d=~~(f/20),_=$(r)+o(d,n,s,u)+l+e[f]+c[d]|0;l=u,u=s,s=a(n),n=r,r=_}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},n.prototype._hash=function(){var t=l.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=n},489:function(t,e,r){function n(){this.init(),this._w=s,a.call(this,64,56)}var i=r(8),$=r(216),a=r(45),o=r(17).Buffer,s=new Array(64);i(n,$),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=n},490:function(t,e,r){function n(){this.init(),this._w=s,a.call(this,128,112)}var i=r(8),$=r(217),a=r(45),o=r(17).Buffer,s=new Array(160);i(n,$),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}var e=o.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=n},493:function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(485),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},494:function(t,e){(function(e){function r(t,e){function r(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(n("noDeprecation"))return t;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=r}).call(e,function(){return this}())},496:function(t,e,r){(function(e){function n(t,r,$){return this instanceof n?(o.call(this),this._cache=new i,this._last=void 0,this._cipher=new a.AES(r),this._prev=new e($.length),$.copy(this._prev),void(this._mode=t)):new n(t,r,$)}function i(){return this instanceof i?void(this.cache=new e("")):new i}function $(t){var e=t[15];if(16!==e)return t.slice(0,16-e)}var a=r(143),o=r(144),s=r(8),u=r(145),l=r(228),c=r(222);s(n,o),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.decrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();return e?(this.push($(this._mode.decrypt(this,e))),void t()):t},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>16){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var h={ECB:r(226),CBC:r(223),CFB:r(224),OFB:r(227),CTR:r(225)};t.exports=function(t){function r(t,r,i){var $=u[t];if(!$)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==$.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==$.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===$.type?new l(h[$.mode],r,i,!0):new n(h[$.mode],r,i)}function i(e,n){var i=u[e];if(!i)throw new TypeError("invalid suite type");var $=c(t,n,i.key,i.iv);return r(e,$.key,$.iv)}return{createDecipher:i,createDecipheriv:r}}}).call(e,r(7).Buffer)},497:function(t,e,r){(function(e){function n(t,r,o){return this instanceof n?(a.call(this),this._cache=new i,this._cipher=new $.AES(r),this._prev=new e(o.length),o.copy(this._prev),void(this._mode=t)):new n(t,r,o)}function i(){return this instanceof i?void(this.cache=new e("")):new i}var $=r(143),a=r(144),o=r(8),s=r(145),u=r(222),l=r(228);o(n,a),n.prototype._transform=function(t,e,r){this._cache.add(t);for(var n,i;n=this._cache.get();)i=this._mode.encrypt(this,n),this.push(i);r()},n.prototype._flush=function(t){var e=this._cache.flush();this.push(this._mode.encrypt(this,e)),this._cipher.scrub(),t()},i.prototype.add=function(t){this.cache=e.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,r=new e(t),n=-1;++n<t;)r.writeUInt8(t,n);var i=e.concat([this.cache,r]);return i};var c={ECB:r(226),CBC:r(223),CFB:r(224),OFB:r(227),CTR:r(225)};t.exports=function(t){function r(t,r,i){var $=s[t];if(!$)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new e(i)),"string"==typeof r&&(r=new e(r)),r.length!==$.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==$.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===$.type?new l(c[$.mode],r,i):new n(c[$.mode],r,i)}function i(e,n){var i=s[e];if(!i)throw new TypeError("invalid suite type");var $=u(t,n,i.key,i.iv);return r(e,$.key,$.iv)}return{createCipher:i,createCipheriv:r}}}).call(e,r(7).Buffer)},498:function(t,e,r){t.exports=function(t,e){function n(){return Object.keys(a)}e=e||{};var i=r(497)(t);e.createCipher=i.createCipher,e.createCipheriv=i.createCipheriv;var $=r(496)(t);e.createDecipher=$.createDecipher,e.createDecipheriv=$.createDecipheriv;var a=r(145);e.listCiphers=n}},499:function(t,e,r){(function(e){function n(t,r){if(!(this instanceof n))return new n(t,r);this._opad=s,this._alg=t;var a="sha512"===t?128:64;r=this._key=e.isBuffer(r)?r:new e(r),r.length>a?r=i(t).update(r).digest():r.length<a&&(r=e.concat([r,$],a));for(var o=this._ipad=new e(a),s=this._opad=new e(a),u=0;u<a;u++)o[u]=54^r[u],s[u]=92^r[u];this._hash=i(t).update(o)}var i=r(229),$=new e(128);$.fill(0),t.exports=n,n.prototype.update=function(t,e){return this._hash.update(t,e),this},n.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,r(7).Buffer)},500:function(t,e,r){(function(e){function r(t,r){if(t.length%$!==0){var n=t.length+($-t.length%$);t=e.concat([t,a],n)}for(var i=[],o=r?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=$)i.push(o.call(t,s));return i}function n(t,r,n){for(var i=new e(r),$=n?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)$.call(i,t[a],4*a,!0);return i}function i(t,i,$,a){e.isBuffer(t)||(t=new e(t));var s=i(r(t,a),t.length*o);return n(s,$,a)}var $=4,a=new e($);a.fill(0);var o=8;t.exports={hash:i}}).call(e,r(7).Buffer)},501:function(t,e,r){function n(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var r=1732584193,n=-271733879,i=-1732584194,l=271733878,c=0;c<t.length;c+=16){var h=r,f=n,d=i,_=l;r=$(r,n,i,l,t[c+0],7,-680876936),l=$(l,r,n,i,t[c+1],12,-389564586),i=$(i,l,r,n,t[c+2],17,606105819),n=$(n,i,l,r,t[c+3],22,-1044525330),r=$(r,n,i,l,t[c+4],7,-176418897),l=$(l,r,n,i,t[c+5],12,1200080426),i=$(i,l,r,n,t[c+6],17,-1473231341),n=$(n,i,l,r,t[c+7],22,-45705983),r=$(r,n,i,l,t[c+8],7,1770035416),l=$(l,r,n,i,t[c+9],12,-1958414417),i=$(i,l,r,n,t[c+10],17,-42063),n=$(n,i,l,r,t[c+11],22,-1990404162),r=$(r,n,i,l,t[c+12],7,1804603682),l=$(l,r,n,i,t[c+13],12,-40341101),i=$(i,l,r,n,t[c+14],17,-1502002290),n=$(n,i,l,r,t[c+15],22,1236535329),r=a(r,n,i,l,t[c+1],5,-165796510),l=a(l,r,n,i,t[c+6],9,-1069501632),i=a(i,l,r,n,t[c+11],14,643717713),n=a(n,i,l,r,t[c+0],20,-373897302),r=a(r,n,i,l,t[c+5],5,-701558691),l=a(l,r,n,i,t[c+10],9,38016083),i=a(i,l,r,n,t[c+15],14,-660478335),n=a(n,i,l,r,t[c+4],20,-405537848),r=a(r,n,i,l,t[c+9],5,568446438),l=a(l,r,n,i,t[c+14],9,-1019803690),i=a(i,l,r,n,t[c+3],14,-187363961),n=a(n,i,l,r,t[c+8],20,1163531501),r=a(r,n,i,l,t[c+13],5,-1444681467),l=a(l,r,n,i,t[c+2],9,-51403784),i=a(i,l,r,n,t[c+7],14,1735328473),n=a(n,i,l,r,t[c+12],20,-1926607734),r=o(r,n,i,l,t[c+5],4,-378558),l=o(l,r,n,i,t[c+8],11,-2022574463),i=o(i,l,r,n,t[c+11],16,1839030562),n=o(n,i,l,r,t[c+14],23,-35309556),r=o(r,n,i,l,t[c+1],4,-1530992060),l=o(l,r,n,i,t[c+4],11,1272893353),i=o(i,l,r,n,t[c+7],16,-155497632),n=o(n,i,l,r,t[c+10],23,-1094730640),r=o(r,n,i,l,t[c+13],4,681279174),l=o(l,r,n,i,t[c+0],11,-358537222),i=o(i,l,r,n,t[c+3],16,-722521979),n=o(n,i,l,r,t[c+6],23,76029189),r=o(r,n,i,l,t[c+9],4,-640364487),l=o(l,r,n,i,t[c+12],11,-421815835),i=o(i,l,r,n,t[c+15],16,530742520),n=o(n,i,l,r,t[c+2],23,-995338651),r=s(r,n,i,l,t[c+0],6,-198630844),l=s(l,r,n,i,t[c+7],10,1126891415),i=s(i,l,r,n,t[c+14],15,-1416354905),n=s(n,i,l,r,t[c+5],21,-57434055),r=s(r,n,i,l,t[c+12],6,1700485571),l=s(l,r,n,i,t[c+3],10,-1894986606),i=s(i,l,r,n,t[c+10],15,-1051523),n=s(n,i,l,r,t[c+1],21,-2054922799),r=s(r,n,i,l,t[c+8],6,1873313359),l=s(l,r,n,i,t[c+15],10,-30611744),i=s(i,l,r,n,t[c+6],15,-1560198380),n=s(n,i,l,r,t[c+13],21,1309151649),r=s(r,n,i,l,t[c+4],6,-145523070),l=s(l,r,n,i,t[c+11],10,-1120210379),i=s(i,l,r,n,t[c+2],15,718787259),n=s(n,i,l,r,t[c+9],21,-343485551),r=u(r,h),n=u(n,f),i=u(i,d),l=u(l,_)}return Array(r,n,i,l)}function i(t,e,r,n,i,$){return u(l(u(u(e,t),u(n,$)),i),r)}function $(t,e,r,n,$,a,o){return i(e&r|~e&n,t,e,$,a,o)}function a(t,e,r,n,$,a,o){return i(e&n|r&~n,t,e,$,a,o)}function o(t,e,r,n,$,a,o){return i(e^r^n,t,e,$,a,o)}function s(t,e,r,n,$,a,o){return i(r^(e|~n),t,e,$,a,o)}function u(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function l(t,e){return t<<e|t>>>32-e}var c=r(500);t.exports=function(t){return c.hash(t,n,16)}},502:function(t,e,r){var n=r(376);t.exports=function(t,e){e=e||{};var r=n(t);return e.pbkdf2=r.pbkdf2,e.pbkdf2Sync=r.pbkdf2Sync,e}},503:function(t,e,r){(function(e,n){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||r(506),t.exports=function(t){if(_crypto.getRandomValues){var e=new n(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),r(7).Buffer)},504:function(t,e){},505:function(t,e){},230:function(t,e,r){(function(n){function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function $(t,e){for(var r in t)e(t[r],r)}var a=r(503);e.createHash=r(229),e.createHmac=r(499),e.randomBytes=function(t,e){if(!e||!e.call)return new n(a(t));try{e.call(this,void 0,new n(a(t)))}catch(t){e(t)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var o=r(502)(e);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync,r(498)(e,t.exports),$(["createCredentials","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){i("sorry,",t,"is not implemented yet")}})}).call(e,r(7).Buffer)}});